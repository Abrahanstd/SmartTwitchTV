var t,n,a,e,i,s,o,d,r,l,h,f,c,u,_,m,p,v,g,y,b,w,k,M,C,E,S,x,I,P,G,L,T,B,O,H,U,A,N,D,q,R,F,V,z,J,X,j,Y,W,K,Z,$,Q,ee,te,ne,ae,ie,se,oe,de,re,le,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Me,Ce,Ee,Se,xe,Ie,Pe,Ge,Le,Te,Be,Oe,He,Ue,Ae,Ne,De,qe,Re,Fe,Ve,ze,Je,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,at,it,st,ot,dt,rt,lt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Mt,Ct,Et,St,xt,It,Pt,Gt,Lt,Tt,Bt,Ot,Ht,Ut,At,Nt,Dt,qt,Rt,Ft,Vt,zt,Jt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,sn,on,dn,rn,ln,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Mn,Cn,En,Sn,xn,In,Pn,Gn,Ln,Tn,Bn,On,Hn,Un,An,Nn,Dn,qn,Rn,Fn,Vn,zn,Jn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ea,ta='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_side_panel" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label hide"></div><div id="label_extra" class="icon_top_label hide"></div></div><div id="top_lables" style="position:fixed;text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="side_panel" class="side_panel side_panel_hide" style="margin-left:-23.5%;"><div id="side_panel_0" class="side_panel_text side_panel_text_focus" style="margin-top:10px;"><div class="side_panel_icons"><i class="icon icon-search"></i></div>&nbsp;<spam id="side_panel_search"></spam></div><div id="side_panel_1" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-settings"></i></div>&nbsp;<spam id="side_panel_settings"></spam></div><div id="side_panel_2" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-info-circle"></i></div>&nbsp;<spam id="side_panel_about"></spam></div><div id="side_panel_3" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-question-circle"></i></div>&nbsp;<spam id="side_panel_controls"></spam></div><div id="side_panel_4" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-exit"></i></div>&nbsp;<spam id="side_panel_exit"></spam></div><div id="side_panel_5" class="side_panel_text" style="margin-top:50px;"><div class="side_panel_icons"><i class="icon icon-play"></i></div>&nbsp;<spam id="side_panel_live"></spam></div><div id="side_panel_6" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-users"></i></div>&nbsp;<spam id="side_panel_user"></spam></div><div id="side_panel_7" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-star"></i></div>&nbsp;<spam id="side_panel_featured"></spam></div><div id="side_panel_8" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-gamepad"></i></div>&nbsp;<spam id="side_panel_games"></spam></div><div id="side_panel_9" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie-play"></i></div>&nbsp;<spam id="side_panel_videos"></spam></div><div id="side_panel_10" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie"></i></div><spam id="side_panel_clips"></spam></div><div class="side_panel_return"><div class="side_panel_icons"><i class="icon icon-arrow-circle-left"></i></div>&nbsp;<spam id="side_panel_hide"></spam></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="about_dialogs hide" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="user_channels_scroll" class="screen_holder hide"><table id="stream_table_user_channels" class="streams_tables"></table></div><div id="search_channel_scroll" class="screen_holder hide"><table id="stream_table_search_channel" class="streams_tables"></table></div><div id="channel_content_scroll" class="screen_holder hide"><table id="stream_table_channel_content" class="streams_tables"></table></div><div id="Clip_scroll" class="screen_holder hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder hide"><table id="stream_table_user" class="streams_tables"></table></div><div id="settings_scroll" class="screen_holder_settings hide"><div id="settings_main" class="settings_main"></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_div"></div></div><div id="search_games_scroll" class="screen_holder_games hide"><table id="stream_table_search_game" class="streams_tables"></table></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="strokedextramini" style="font-size:100%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="live_scroll" class="screen_holder hide"><table id="stream_table_live" class="streams_tables"></table></div><div id="featured_scroll" class="screen_holder hide"><table id="stream_table_featured" class="streams_tables"></table></div><div id="user_host_scroll" class="screen_holder hide"><table id="stream_table_user_host" class="streams_tables"></table></div><div id="user_live_scroll" class="screen_holder hide"><table id="stream_table_user_live" class="streams_tables"></table></div><div id="a_games_scroll" class="screen_holder hide"><table id="stream_table_a_game" class="streams_tables"></table></div><div id="search_live_scroll" class="screen_holder hide"><table id="stream_table_search_live" class="streams_tables"></table></div><div id="vod_scroll" class="screen_holder hide"><table id="stream_table_vod" class="streams_tables"></table></div><div id="a_games_vod_scroll" class="screen_holder hide"><table id="stream_table_a_game_vod" class="streams_tables"></table></div><div id="channel_vod_scroll" class="screen_holder hide"><table id="stream_table_channel_vod" class="streams_tables"></table></div><div id="user_vod_scroll" class="screen_holder hide"><table id="stream_table_user_vod" class="streams_tables"></table></div></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><iframe id="chat_frame" class="hide" width="100%" height="100%" frameborder="0" scrolling="no" style="position:absolute;overflow:hidden;" src="about:blank"></iframe><div id="chat_box" class="hide"></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedbig" style="display:inline-block;font-size:225%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo"><div id="stream_clock"></div><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/404_logo.png"><div class="playmaininfo"><div id="stream_info_name" style="font-size:160%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div id="scene_channel_panel_bottom" style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_pannel_5" class="playbotton" style="z-order:6;width:11%;"><div id="ic_search" style="font-size:140%;transform:translate(0, 5%);vertical-align:middle;display:inline-block;"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_4" class="playbotton" style="z-order:5;width:18%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block;"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_3" class="playbotton" style="z-order:5;width:17%;"><div id="game_icon" style="vertical-align:middle;display:inline-block;overflow:hidden;max-height:43px;"><div style="display:flex;font-size:185%;transform:translate(0,3%);"><i class="icon-gamepad strokicon"></i></div></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_2" class="playbotton" style="z-order:3;width:14%;"><div id="fallow_heart" style="font-size:75%;transform:translate(0, 10%);vertical-align:middle;display:inline-block;"><i class="icon-heart-o strokicon" style="color:#FFFFFF;font-size:210%;"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_1" class="playbotton playbotton_focus" style="z-order:2;width:30%;"><div id="quality_video" style="vertical-align:middle;display:inline-block;font-size:185%;transform:translate(0, 7%);"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="display:inline-block;font-size:50%;transform:translate(0,20%);">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:87.5%;font-weight:bold;width:77%;"></div></div><div id="scene2_pannel_0" class="playbotton" style="z-order:4;width:17%;margin-right:0;display:none;"><div id="open_vod_icon" style="vertical-align:middle;display:inline-block;font-size:175%;transform:translate(0, 7%);"><i class="icon-play strokicon"></i></div>&nbsp;<div id="open_vod_text" class="strokedextramini playbottontext" style="font-size:77.5%;"></div></div></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedextramini" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedextramini"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedextramini"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedextramini" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_button" class="pause_button"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:180%;"></i></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedbig" style="font-size:165%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:250%;"></i><div id="dialog_vod_saved_text" class="strokedbig"></div></div><div id="dialog_vod_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_vod_start_text" class="strokedbig"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:0.5%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:500%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:250%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:17%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:250%;"></div></div></div></div>',na="fglfgl27@gmail.com",aa="<br>",ia='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',sa='<div class="about_text_title">',oa='<div class="about_text_title" style="text-align: left;">',da='<div style="text-align: left;">',ra="",la="",ca="",ua="",_a="",fa="",ma="",ha="",pa="",va="",ga="&nbsp;",ya="",ba='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+ga;function wa(){ra=e+" (C)",la=n+" (D)",ua=a+" (A)",ca=i+" (A)",r+=Kt,l+=Kt,_a=sa+e+"</div>"+sa+Ee+"</div>"+aa+da+ia+Ge+aa+ia+(Le+=Un)+aa+ia+Te+aa+ia+Be+aa+Oe+aa+ia+He+aa+ga+ga+ga+Ue+aa+ia+Ae+aa+"</div>"+aa+(ha=sa+Me+"</div>"+da+ia+Ke+aa+ia+Ze+aa+"</div>"+da+ia+$e+aa+ia+Qe+aa+ia+et+aa+aa+sa+Ce+"</div>"+da+ia+tt+aa+ia+nt+aa+ia+at+aa+ia+it+aa+ia+st)+aa+aa+sa+ke+"</div>",fa=sa+ba+we+"</div></div>",ma=da+aa+Ne+aa+(Uc?De:aa+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Wn+"</div>")+"</div>"+aa+sa+qe+"</div>"+na+aa+aa+Re+aa+Fe+aa+aa+oa+Ve+"</div>"+da+ia+ze+aa+ia+Je+aa+ia+Xe+aa+ia+je+aa+ia+Ye+aa+ia+We+aa+sa+ke+"</div></div>",pa=sa+Se+"</div>"+lt+aa,ya=aa+sa+ct+"</div>"+da+ia+ut+aa+aa+sa+ya+"</div>"+aa+aa+ke+"</div>",va=ft+aa+ia+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+aa+ia+ht+aa+ia+pt+aa+ia+vt+aa+ia+gt}function ka(){gu=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",s="Hide",o="The text you entered is empty.",d="The search result is empty.",r="Switch screen",l="Switch user screen",h="Switch: Past Broadcast or Highlight",f="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",m="Games",p="Playing ",v=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",M="Type your authentication key...",C="Type your user name...",E="Press Enter or Select key to, ",S="Channels",x="Channel",I="Back to previously screen: Back key twice",P=" has ended",G="This video is only available to subscribers.",L="Connection failed, unable to load content hit refresh to try again",T="No",B=" for this ",O="Connection failed, unable to load video content exiting...",H=" Past Broadcast",U=" Highlight",A=" Clips",N=" Content",D="Streamed on ",q="Duration ",R=" Views",F=" Viewers",V="Click again to exit!",z="Do you wanna to exit Twitch?",J="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ae=" hosting ",ie=" already set",se="Make First",oe=" (First user can fallow streamears outside User screen when providing a key)",de="Add a Twitch user to display it's Followed Channels content here",re=" (24h)",le=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="Twitch.TV",ke="Press back key to close this.",Me="Player Related:",Ce="Chat Related:",Ee="General Related:",Se="Update",xe="Current installed version ",Ie=" latest available version ",Pe="This are the none players related controls, the player can show it's own controls.",Ge="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Le="Refresh screen content: ",Te="Exit the application: from side pannel click exit",Be=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",He="Start a search: from side pannel click search",Ue="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ae="About this application: from side pannel click about",Ne="This is a unofficial Twitch.Tv application develop by a individual on his free time, for TV's that don't have access to a official application, released for free to any one that wanna to use it.",De="On 99% on the updates the app can update it self to add fixes and new featuring, the app will warn the user the day there is a need to update manually by reinstalling it via computer in the case you use a computer to install it.",Wn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",qe="Developer information:",Re="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Fe="github.com/fgl27/SmartTwitchTV",Ve="This application uses following dependencies:",ze="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Je="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",Xe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",je="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Ye="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ke="Show information panel: Press enter key or D-pad keys if chat is not showing",Ze="Close the video: press back key twice",$e="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",Qe="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",et="Force refresh a video (in case it freezes): Change video quality to the same",tt="Show or hide the Chat : D-pad right",nt="Change Chat position : D-pad left",at="Change Chat size : D-pad up",it="Change Chat background brightness: D-pad down",st="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ot='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',dt="Chat and video (Side by side): Color button red (A)",Qn="Force disable the chat",ea="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",rt="There is a update available, check it in the app github releases ",ya="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",lt="A update is available, and the app can't self update this version ",ct="Major changes:",ut="Improves how the app runs in the background",_t="Adding a authentication key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) for the chosen user, enter the authentication key for user ",ft=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",ht='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',pt="Login to Twitch.TV using the user name you are trying to add a key for",vt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",gt="The web page will update and show a key code, the key only has lower case letters and nubers.",yt=" Add Authentication key",bt="Key added OK",wt="Key test fail, it's needed to add new one",kt="Key test return OK",Mt="You try to add a key for user ",Ct=" but this key is for user ",Et=" Following",St=" Follow",xt=" And you have not set a authentication key the app can't check yours sub status.",It=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Gt="Fail authentication check with the provider key, please check and try again",On="The added key doesn't belong to the user ",Lt="No user",Tt="Set a user and a authentication key to be able to fallow/unfollow",Bt="Restart the",Ot=" Clip",Ht="Channel content",Ut="Network is disconnect, the application can't work without INTERNET",At="Network connection reestablished",Nt=" Followers",Dt=", Can't fallow or unfallow ",qt="Game content",Rt="Yes",Ft="Are you sure you want to remove the user ",Vt="Press Up to ",zt="Followed Games",Jt="Change between",Xt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wt="Started ",Kt=" (PG Up/Down)",Zt="Videos",$t=" Video",Qt="Replay",en="exiting in ",tn='press "Return" to exit',nn="Featured",an="Created at ",sn="Open the Broadcast",on="No Broadcast",dn="There is no Past Broadcast for this clip",rn="And because of that no chat",ln=" is now",cn="Open the Hosting",un="Player related",_n="Buffer size:",fn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",hn="Videos (Past Broadcast and Highlight) buffer",pn="Clips buffer",vn="General related",gn="Language",yn="Chat: Connecting to chat history server.."+aa+"Chat: Connected."+aa+"Chat: Joined channel ",bn="Play from the start or from where you stop watching last time?",kn=(wn="From:"+aa)+"Start",Mn="Chat: The Chat has ended!",Cn=": Most recent",En=": Most views",Sn="Set a authentication key to be able to see fallowed videos",xn="Switch: Most recent or views",In="Enable",Pn="Disable",Vn="The app was closed willing playing, restoring playback",Gn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Tn="Chat font size",Bn="Change the chat lines font size, applies to text and emotes",Hn="Videos animated thumbnails",Un="Side panel: Back key twice",An="Size ",Nn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",qn="Jump step ",Rn=" seconds",Fn=" minutes",zn="Clock offset",Jn="Application language",Xn="Content language",jn="All",Yn="Empty game fro this",Kn="Isn't possible to jump during a buffering",Zn="Chat is disabled, enable in side pannel settings",$n="This clip/video fail to load can't replay"}var Ma=33,Ca=34,Ea=50,Sa=51,xa=52,Ia=179,Pa=457,Ga=37,La=38,Ta=39,Ba=40,Oa=13,Ha=65,Ua=66,Aa=67,Na=68,Da=49,qa=8,Ra=13,Fa=32,Va=46,za=0,Ja=5,Xa=1e4,ja=0,Ya=!1,Wa=!1,Ka=!1,Za=!1,$a=!1,Qa="",ei="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ti="elsu5d09k0xomu7cggx3qg5ybdwu7g",ni="https://id.twitch.tv/oauth2/token?";function ai(){Ya=!1,lu.Main_Go=tu,m_("top_bar_user","icon_center_focus"),G_(),Lc.placeholder=M,__("oauth_scroll"),p_("oauth_text",_t+$i[lu.Users_Position].name+va),oi()}function ii(){di(!1),document.body.removeEventListener("keydown",si),h_("top_bar_user","icon_center_focus"),u_("oauth_scroll")}function si(e){if(!Ya&&!Wa)switch(e.keyCode){case Da:A_()?U_():B_()?T_():(lu.Main_Go=$c,ii(),j_());break;case Ma:lu.Main_Go=Rc,ii(),j_();break;case Ca:lu.Main_Go=Dc,ii(),j_();break;case xa:case Sa:case Ia:case Oa:oi();break;case Ha:zf(si);break;case Ua:ii(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Xc,ii(),j_()}}function oi(){document.body.removeEventListener("keydown",si),document.body.addEventListener("keydown",li,!1),Lc.placeholder=M,Lc.focus(),Wa=!0}function di(e){Lc.blur(),ri(),document.body.removeEventListener("keydown",li),Lc.placeholder=E+M,e&&document.body.addEventListener("keydown",si,!1),Wa=!1}function ri(){if(null!==Lc){var e=Lc.cloneNode(!0);Lc.parentNode.replaceChild(e,Lc),Lc=document.getElementById("oauth_input")}}function li(e){if(!Ya)switch(e.keyCode){case Da:B_()?T_():A_()?U_():(lu.Main_Go=$c,ii(),j_());break;case Va:Lc.value="",e.preventDefault();break;case Ra:case Ba:""!==Lc.value&&null!==Lc.value&&(ja=Lc.value,Ti(),u_("oauth_scroll"),g_(),fi()),di(!0);break;case qa:Lc.value=Lc.value.slice(0,-1),e.preventDefault();break;case Fa:Lc.value+=" ",e.preventDefault()}}function ci(e,t,n,a){var i=new XMLHttpRequest,s=ni+"grant_type=refresh_token&client_id="+encodeURIComponent(Au)+"&client_secret="+encodeURIComponent(ti)+"&refresh_token="+encodeURIComponent($i[e].refresh_token)+"&redirect_uri="+ei;i.open("POST",s,!0),i.timeout=Xa,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?_i(i.responseText,e,n):ui(e,t,n,a))},i.send(null)}function ui(e,t,n,a){++t<10?ci(e,t,n):a&&a()}function _i(e,t,n){var a=JSON.parse(e);$i[t].access_token=a.access_token,$i[t].refresh_token=a.refresh_token,vs(),n&&n()}function fi(){var e=new XMLHttpRequest,t=ni+"grant_type=authorization_code&client_id="+encodeURIComponent(Au)+"&client_secret="+encodeURIComponent(ti)+"&code="+encodeURIComponent(ja)+"&redirect_uri="+ei;e.open("POST",t,!0),e.timeout=Xa,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?pi(e.responseText):mi())},e.send(null)}function mi(){++za<Ja?fi():hi()}function hi(){y_(),P_(Gt),window.setTimeout(function(){G_(),mu=0,Y_(),lu.Main_Go=$c,window.location=ei},4e3),$i[lu.Users_Position].access_token=0,$i[lu.Users_Position].refresh_token=0}function pi(e){var t=JSON.parse(e);$i[lu.Users_Position].access_token=t.access_token,$i[lu.Users_Position].refresh_token=t.refresh_token,Ti(),vi()}function vi(){cm("https://api.twitch.tv/kraken?oauth_token="+$i[lu.Users_Position].access_token,Xa,0,null,gi,yi)}function gi(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf($i[lu.Users_Position].name)?(vs(),mu=0,y_(),ii(),Ya=ME=!1,Lc.value="",lu.Main_Go=$c,Y_(),P_(bt),window.setTimeout(function(){window.location=ei},3e3)):($i[lu.Users_Position].access_token=0,$i[lu.Users_Position].refresh_token=0,Ya=!1,P_(On+$i[lu.Users_Position].name),window.setTimeout(function(){G_(),mu=0,Y_(),lu.Main_Go=$c,window.location=ei},4e3))}function yi(){++za<Ja?(Xa+=500,vi()):hi()}function bi(){Ti(),Ka=!1,wi()}function wi(){var e="https://api.twitch.tv/kraken/users/"+$i[lu.Users_Position].id+"/follows/channels/"+Qa,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Xa,t.setRequestHeader(Nu,Au),t.setRequestHeader(Du,Fu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ki():404===t.status?Mi(t.responseText):Ci())},t.send(null)}function ki(){Ya=!(Ka=!0),$a?Gg():Gd()}function Mi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(Ya=Ka=!1,$a?Gg():Gd()):Ci()}function Ci(){++za<Ja?(Xa+=500,wi()):(Ya=!1,$a?Gg():Gd())}function Ei(){Ti(),Si()}function Si(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+$i[lu.Users_Position].id+"/follows/channels/"+Qa,!0),e.timeout=Xa,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.setRequestHeader("Authorization","OAuth "+$i[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Ka=!(Ya=!1),void($a?Gg():Gd());401===e.status||403===e.status?ci(lu.Users_Position,0,Ei,null):xi()}},e.send(null)}function xi(){++za<Ja&&(Xa+=500,Si())}function Ii(){Ti(),Pi()}function Pi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+$i[lu.Users_Position].id+"/follows/channels/"+Qa,!0),e.timeout=Xa,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.setRequestHeader("Authorization","OAuth "+$i[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Ya=Ka=!1,void($a?Gg():Gd());401===e.status||403===e.status?ci(lu.Users_Position,0,Ii,null):Gi()}},e.send(null)}function Gi(){++za<Ja&&(Xa+=500,Pi())}function Li(){Ti(),Za=!1,Bi()}function Ti(){Xa=1e4,Ya=!(za=0)}function Bi(){var e,t="https://api.twitch.tv/kraken/users/"+$i[lu.Users_Position].id+"/subscriptions/"+Qa;if(Zu){if(!(e=Android.mreadUrl(t,Xa,3,$i[lu.Users_Position].access_token)))return void Oi();if(200===(e=JSON.parse(e)).status)Ya=!(Za=!0),qy();else if(422===e.status)Ya=Za=!1,Dy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Ya=Za=!1,void Dy();Oi()}else 401===e.status||403===e.status?ci(lu.Users_Position,0,Li,Hi):Oi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Xa,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.setRequestHeader("Authorization","OAuth "+$i[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Ya=!(Za=!0),qy();else if(422===e.status)Ya=Za=!1,Dy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Ya=Za=!1,void Dy();Oi()}else 401===e.status||403===e.status?ci(lu.Users_Position,0,Li,Hi):Oi()},e.send(null)}function Oi(){++za<Ja?(Xa+=500,Bi()):Hi()}function Hi(){Ya=Za=!1,Dy()}function Ui(e){Ti(),Ai(e,0)}function Ai(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+$i[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?Ya=!1:(Ti(),ci(e,0,null,null)));400===a.status?(Ti(),ci(e,0,null,null)):Ni(e,t)}},a.send(null)}function Ni(e,t){++t<Ja&&Ai(e,t)}function Di(){Ti(),qi()}function qi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+$i[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected)+"?oauth_token="+$i[lu.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return As=!0,void Ws();401===e.status||403===e.status?ci(lu.Users_Position,0,Di,null):Ri()}},e.send(null)}function Ri(){++za<Ja&&(Xa+=500,qi())}function Fi(){Ti(),Vi()}function Vi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+$i[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected)+"?oauth_token="+$i[lu.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return As=!1,void Ws();401===e.status||403===e.status?ci(lu.Users_Position,0,Fi,null):zi()}},e.send(null)}function zi(){++za<Ja&&(Xa+=500,Vi())}function Ji(){Ti(),Xi()}function Xi(){var e,t="https://api.twitch.tv/api/users/"+$i[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(As=!0,void Ws()):404===e.status?(As=!1,void Ws()):void ji()},e.send(null)}function ji(){++za<Ja?(Xa+=500,Xi()):(As=!1,Ws())}function Yi(e){lu.Users_Position=lu.Users_AddcodePosition,ja=e,Ti(),g_(),fi()}var Wi=0,Ki=5,Zi=3500,$i=[],Qi=null,es=!1,ts=!1;function ns(){lu.Main_Go=qc,m_("top_bar_user","icon_center_focus"),G_(),Gc.placeholder=C,__("add_user_scroll"),ss()}function as(){ds(!1),document.body.removeEventListener("keydown",is),document.body.removeEventListener("keydown",rs),h_("top_bar_user","icon_center_focus"),u_("add_user_scroll")}function is(e){if(!es&&!ts&&lu.Main_Go===qc)switch(e.keyCode){case Da:B_()?T_():A_()?U_():(0<$i.length&&lu.Main_Go!==$c?lu.Main_Go=lu.Main_Before:lu.Main_Go=Dc,as(),j_());break;case Ma:lu.Main_Go=ou,as(),j_();break;case Ca:lu.Main_Go=Dc,as(),j_();break;case xa:case Sa:case Ia:case Oa:ss();break;case Ha:zf(is);break;case Ua:as(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Xc,as(),j_()}}function ss(){document.body.removeEventListener("keydown",is),document.body.addEventListener("keydown",rs,!1),Gc.placeholder=C,Gc.focus(),ts=!0}function os(){if(null!==Gc){var e=Gc.cloneNode(!0);Gc.parentNode.replaceChild(e,Gc),Gc=document.getElementById("user_input")}}function ds(e){Gc.blur(),os(),document.body.removeEventListener("keydown",rs),Gc.placeholder=E+C,e&&document.body.addEventListener("keydown",is,!1),ts=!1}function rs(e){if(!es&&lu.Main_Go===qc)switch(e.keyCode){case Da:B_()?T_():A_()?U_():(0<$i.length&&lu.Main_Go!==$c?lu.Main_Go=lu.Main_Before:lu.Main_Go=Dc,as(),j_());break;case Va:Gc.value="";break;case Ra:case Ba:""!==Gc.value&&null!==Gc.value?ys(Qi=Uc||ms()?Gc.value:"testtwitch27")?(y_(),P_(u+Qi+ie),window.setTimeout(function(){G_(),ss()},1500)):(Zi=3500,es=!(Wi=0),u_("add_user_scroll"),g_(),ls()):ss();break;case qa:Gc.value=Gc.value.slice(0,-1);break;case Fa:Gc.value+=" "}}function ls(){cm("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Qi),Zi,2,null,cs,us)}function cs(e){JSON.parse(e)._total?(Gc.value="",document.body.removeEventListener("keydown",is),hs(e)):_s()}function us(){++Wi<Ki?(Zi+=500,ls()):_s()}function _s(){Qi=null,y_(),P_(ne),window.setTimeout(function(){ns()},1e3),es=!1}function fs(){if(0<($i=om("AddUser_UsernameArray",[])).length)for(var e=0;e<$i.length;e++)$i[e].access_token&&Ui(e)}function ms(){return 0<$i.length}function hs(e){Qi=JSON.parse(e).users[0],$i.push({name:Qi.name,id:Qi._id,access_token:0,refresh_token:0}),vs(),ME=!1,as(),EE(),es=!1}function ps(e){var t=$i.indexOf($i[e]);-1<t&&$i.splice(t,1),0<$i.length?(ME=!1,EE()):ns(),vs()}function vs(){im("AddUser_UsernameArray",JSON.stringify($i))}function gs(e){Qi=$i[0],$i[0]=$i[e],$i[e]=Qi,ME=!1,EE()}function ys(e){return-1!==$i.indexOf(e)}function bs(){return 0<$i.length}var ws=0,ks=0,Ms=!1,Cs=0,Es={},Ss=[],xs=!1,Is=0,Ps=5,Gs=3500,Ls=0,Ts=0,Bs=!1,Os=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Hs=!1,Us=!1,As=!1,Ns=!1,Ds=!1;function qs(){lu.Main_CenterLablesVectorPos=3,lu.Main_Go=Fc,document.body.addEventListener("keydown",so,!1),m_("top_bar_game","icon_center_focus"),c_("label_side_panel","icon-arrow-circle-left",I),lu.Search_isSearching&&($_(),p_("top_bar_user",n+Q_(m+" '"+lu.Search_data+"'"))),p_("top_bar_game",w+Q_(_+": "+lu.Main_gameSelected)),lu.Main_OldgameSelected===lu.Main_gameSelected&&Hs?(lf(ws),__(Os[10]),S_(ks,ws,Iu,Cs),to(),Y_()):Fs()}function Rs(){Hs&&-1===ws&&(io(),ks=ws=0,m_(Os[0]+"0_"+ks,Ju)),c_("label_side_panel","icon-ellipsis",Un),p_("top_bar_game",m),document.body.removeEventListener("keydown",so),h_("top_bar_game","icon_center_focus"),u_(Os[10])}function Fs(){null===lu.Main_OldgameSelected&&(lu.Main_OldgameSelected=lu.Main_gameSelected),u_(Os[10]),g_(),G_(),Ds=Hs=!1,sf("stream_table_a_game"),Es={},Cs=Ts=Ls=0,ws=ks=0,Ms=!(Kf=!(Us=!(Ss=[]))),E_(),Vs(),zs()}function Vs(){df(),xs=!0,Is=0,Gs=3500}function zs(){var e=Cs+Ls;e&&Ts-1<e&&(e=Ts-xu,Ms=!0),cm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+xu+"&offset="+e+(""!==yu?"&language="+yu:""),Gs,2,null,Xs,Js)}function Js(){++Is<Ps?(Gs+=500,zs()):(xs=!1,Cs?(Ms=!0,js()):(Kf=!1,y_(),P_(L)))}function Xs(e){var t=JSON.parse(e),n=t.streams.length;Ts=parseInt(t._total),n<xu&&(Ms=!0);var a=Cs;Bs=!(Cs+=n);var i=n/Iu;0<n%Iu&&i++;var s,o,d,r,l,c,u=0;if(!Ds){var _;for(Ds=!0,d=document.createElement("tr"),r=0;r<3;r++)_=r?1===r?'<i class="icon-movie stream_channel_fallow_icon"></i>'+ga+A:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+Zt,(vu=document.createElement("td")).setAttribute("id",Os[8]+"y_"+r),vu.className="stream_cell",vu.innerHTML='<div id="'+Os[0]+"y_"+r+'" class="stream_thumbnail_fallow_game" ><div id="'+Os[3]+"y_"+r+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(vu);document.getElementById("stream_table_a_game").appendChild(d)}for(r=0;r<i;r++){for(o=a/Iu+r,d=document.createElement("tr"),s=0;s<Iu&&u<n;s++,u++)c=(l=t.streams[u]).channel._id,Es[c]?s--:(Es[c]=1,d.appendChild(pf(o,o+"_"+s,[l.channel.name,c],Os,[l.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+hv(l.created_at)+b+", "+v+q_(l.viewers)+F,R_(l.video_height,l.average_fps,l.channel.language)])));for(;s<Iu;s++)Ms&&!Us&&(Us=!0,Cs=o*Iu+s),d.appendChild(_f(Os[9]+o+"_"+s)),Ss.push(Os[9]+o+"_"+s);document.getElementById("stream_table_a_game").appendChild(d)}js()}function js(){Af(function(){if(Hs){if(of(n_),0<Ss.length&&!Ms)return Vs(),void $s();S_(ks,ws,Iu,Cs),Ss=[]}else y_(),Ys(),Bs?(P_(T+$),ws=-1,ao()):(Hs=!0,of(n_),to(),Y_()),__(Os[10]),Kf=!1;xs=!1})}function Ys(){Ns?(As=!0,Ws()):ms()?Ji():(As=!1,Ws())}function Ws(){p_(Os[3]+"y_2",As?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+ga+ga+Et:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+ga+ga+(ms()?St:Lt))}function Ks(){ms()&&$i[lu.Users_Position].access_token?As?Fi():Di():(P_(Tt),window.setTimeout(function(){Bs&&lu.Main_Go===Fc?P_(T+$):G_()},2e3))}function Zs(){ks?1===ks?(lu.Main_Go=su,lu.Main_OldgameSelected=lu.Main_gameSelected,Rs(),j_()):Ks():(lu.Main_Go=iu,lu.Main_OldgameSelected=lu.Main_gameSelected,Rs(),j_())}function $s(){I_(Ss.length);var e=Cs+Ls;e&&Ts-1<e&&(e=Ts-Uu,Ms=!0),cm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Uu+"&offset="+e+(""!==yu?"&language="+yu:""),Gs,2,null,eo,Qs)}function Qs(){++Is<Ps?(Gs+=500,$s()):(Ms=!0,Cs-=Ss.length,Ss=[],js())}function eo(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Ts=parseInt(a._total),i<Uu&&(Ms=!0);s<Ss.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Es[n]?s--:(Es[n]=1,vf(Ss[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+hv(t.created_at)+b+", "+v+q_(t.viewers)+F,R_(t.video_height,t.average_fps,t.channel.language)],Os),d.push(s));for(s=d.length-1;-1<s;s--)Ss.splice(d[s],1);Ls+=o,Ms&&(Cs-=Ss.length,Ss=[]),js()}function to(){ws<0?ao():(Sf(ws,ks,Os,Iu,Cs),Cs/Iu<ws+Pu&&!Ms&&!xs&&(Vs(),zs()),_u&&no())}function no(){-1<ws&&Cs?Of(ws+"_"+ks,Os):io()}function ao(){m_(Os[0]+"y_"+ks,Ju)}function io(){h_(Os[0]+"y_"+ks,Ju)}function so(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(lu.Main_OldgameSelected=lu.Main_gameSelected,no(),io(),$f(so));break;case Ga:if(-1===ws)io(),--ks<0&&(ks=2),ao();else if(ws||ks){if(V_(ws,ks-1,Os[0]))no(),ks--,to();else for(t=Iu-1;-1<t;t--)if(V_(ws-1,t,Os[0])){no(),ws--,ks=t,to();break}}else no(),io(),ws=-1,ks=2,ao();break;case Ta:-1===ws?(io(),2<++ks?(ks=0,Bs?ao():(ws=0,to())):ao()):V_(ws,ks+1,Os[0])?(no(),ks++,to()):V_(ws+1,0,Os[0])&&(no(),ws++,ks=0,to());break;case La:if(-1!==ws||Bs)if(ws){for(t=0;t<Iu;t++)if(V_(ws-1,ks-t,Os[0])){no(),ws--,ks-=t,to();break}}else no(),ws=-1,ao();else ws=0,io(),to();break;case Ba:if(-1!==ws||Bs){for(t=0;t<Iu;t++)if(V_(ws+1,ks-t,Os[0])){no(),ws++,ks-=t,to();break}}else ws=0,io(),to();break;case Pa:case Ea:Fs();break;case Ma:lu.Search_isSearching||(lu.Main_Before=Fc,lu.Main_Go=nu,lu.Main_OldgameSelected=lu.Main_gameSelected,Rs(),j_());break;case Ca:lu.Search_isSearching||(lu.Main_Before=Fc,lu.Main_Go=ou,Rs(),j_());break;case xa:case Sa:case Ia:case Oa:-1!==ws?If(ws+"_"+ks,Os,so):Zs();break;case Ha:zf(so);break;case Ua:Rs(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=Fc,lu.Main_Go=Xc,lu.Main_OldgameSelected=lu.Main_gameSelected,Rs(),j_()}}var oo=0,ro=0,lo=!1,co=0,uo={},_o=[],fo=!1,mo=0,ho=5,po=3500,vo=0,go=0,yo=!1,bo=!1,wo="week",ko=2,Mo=!1,Co=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],Eo=!1,So=!1,xo="";function Io(){lu.Main_CenterLablesVectorPos=3,lu.Main_Go=iu,m_("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Vo,!1),c_("label_side_panel","icon-arrow-circle-left",I),xo===lu.Main_gameSelected&&Eo?(lf(oo),__(Co[10]),S_(ro,oo,Iu,co),zo(),Do(),Y_()):Go()}function Po(){Eo&&qo(),document.body.removeEventListener("keydown",Vo),h_("top_bar_game","icon_center_focus"),p_("top_bar_game",m),c_("label_side_panel","icon-ellipsis",Un),c_("label_switch","icon-switch",r),u_(Co[10])}function Go(){Eo&&qo(),u_(Co[10]),g_(),zo(),xo=lu.Main_gameSelected,G_(),Eo=!1,sf("stream_table_a_game_vod"),Mo=!1,go=vo=0,uo={},oo=ro=co=0,lo=!(Kf=!(bo=!(_o=[]))),E_(),Lo(),To()}function Lo(){df(),fo=!0,mo=0,po=3500}function To(){var e=co+vo;e&&go-1<e&&(e=go-xu,lo=!0),cm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+xu+"&broadcast_type="+(So?"highlight":"archive")+"&sort=views&offset="+e+"&period="+wo+(""!==yu?"&language="+yu:""),po,2,null,Oo,Bo)}function Bo(){++mo<ho?(po+=500,To()):(fo=!1,co?(lo=!0,Ho()):(Kf=!1,y_(),P_(L)))}function Oo(e){var t=JSON.parse(e),n=t.vods.length;go=parseInt(t._total),n<xu&&(lo=!0);var a=co;yo=!(co+=n);var i=n/Iu;0<n%Iu&&i++;var s,o,d,r,l,c=0;if(!Mo){var u;for(Mo=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+h,(vu=document.createElement("td")).setAttribute("id",Co[8]+"y_"+_),vu.className="stream_cell",vu.innerHTML='<div id="'+Co[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+Co[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(vu);document.getElementById("stream_table_a_game_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/Iu+_,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.vods[c])._id,-1!==(r.preview.template+"").indexOf("404_processing")||uo[l]?s--:(uo[l]=1,d.appendChild(ix(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[r.preview.template.replace("{width}x{height}",Vu),r.channel.display_name,D+ef(r.created_at),PM.parse(r.title)+aa+Wt+p+r.game,q_(r.views)+R,R_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),q+fv(r.length),r.animated_preview_url],Co)));for(;s<Iu;s++)lo&&!bo&&(bo=!0,co=o*Iu+s),d.appendChild(_f(Co[9]+o+"_"+s)),_o.push(Co[9]+o+"_"+s);document.getElementById("stream_table_a_game_vod").appendChild(d)}Ho()}function Ho(){Af(function(){if(Eo?of(n_):(y_(),yo?P_(T+(So?U:H)+B+x):(Eo=!0,of(n_),Do(),Y_()),__(Co[10]),Kf=!1),0<_o.length&&!lo)return Lo(),void Uo();S_(ro,oo,Iu,co),fo=!(_o=[])})}function Uo(){I_(_o.length);var e=co+vo;e&&go-1<e&&(e=go-Uu,lo=!0),cm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Uu+"&broadcast_type="+(So?"highlight":"archive")+"&sort=views&offset="+e+"&period="+wo+(""!==yu?"&language="+yu:""),po,2,null,No,Ao)}function Ao(){++mo<ho?(po+=500,Uo()):(lo=!0,_o=[],Ho())}function No(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(go=parseInt(a._total);s<_o.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||uo[n]?s--:(uo[n]=1,ox(_o[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Vu),t.channel.display_name,D+ef(t.created_at),PM.parse(t.title)+aa+Wt+p+t.game,q_(t.views)+R,R_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),q+fv(t.length),t.animated_preview_url],Co),d.push(s));for(s=d.length-1;-1<s;s--)_o.splice(d[s],1);vo+=o,lo&&(co-=_o.length,_o=[]),Ho()}function Do(){oo<0?Ro():(Sf(oo,ro,Co,Iu,co),px(Co,oo+"_"+ro),co/Iu<oo+Pu&&!lo&&!fo&&(Lo(),To()),_u&&qo())}function qo(){window.clearInterval(IS),-1<oo&&co?(__(Co[1]+oo+"_"+ro),Of(oo+"_"+ro,Co)):Fo()}function Ro(){var e=1<ro?1:ro;m_(Co[0]+"y_"+e,Ju)}function Fo(){var e=1<ro?1:ro;h_(Co[0]+"y_"+e,Ju)}function Vo(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(qo(),$f(Vo));break;case Ga:if(-1===oo)Fo(),--ro<0&&(ro=1),Ro();else if(oo||ro){if(V_(oo,ro-1,Co[0]))qo(),ro--,Do();else for(t=Iu-1;-1<t;t--)if(V_(oo-1,t,Co[0])){qo(),oo--,ro=t,Do();break}}else qo(),Fo(),oo=-1,ro=1,Ro();break;case Ta:-1===oo?(Fo(),1<++ro?(ro=0,yo?Ro():(oo=0,Do())):Ro()):V_(oo,ro+1,Co[0])?(qo(),ro++,Do()):V_(oo+1,0,Co[0])&&(qo(),oo++,ro=0,Do());break;case La:if(-1!==oo||yo)if(oo){for(t=0;t<Iu;t++)if(V_(oo-1,ro-t,Co[0])){qo(),oo--,ro-=t,Do();break}}else qo(),oo=-1,Ro();else oo=0,Fo(),Do();break;case Ba:if(-1!==oo||yo){for(t=0;t<Iu;t++)if(V_(oo+1,ro-t,Co[0])){qo(),oo++,ro-=t,Do();break}}else oo=0,Fo(),Do();break;case Ma:4<++ko&&(ko=1),Go();break;case Ca:--ko<1&&(ko=4),Go();break;case Pa:case Ea:im("AGameVod_highlight",(So=!So)?"true":"false"),Go();break;case xa:case Sa:case Ia:case Oa:-1===oo?(0===ro?im("AGameVod_highlight",(So=!So)?"true":"false"):4<++ko&&(ko=1),Go()):Lf(oo+"_"+ro,Co,Vo);break;case Ha:zf(Vo);break;case Ua:Po(),nf();break;case Aa:H_();break;case Na:lu.Search_isSearching||(lu.Main_BeforeSearch=iu),lu.Main_Go=Xc,Po(),j_()}}function zo(){1===ko?(p_("top_bar_game",w+Q_((So?U:H)+re+": "+lu.Main_gameSelected)),wo="day"):2===ko?(p_("top_bar_game",w+Q_((So?U:H)+le+": "+lu.Main_gameSelected)),wo="week"):3===ko?(p_("top_bar_game",w+Q_((So?U:H)+ce+": "+lu.Main_gameSelected)),wo="month"):4===ko&&(p_("top_bar_game",w+Q_((So?U:H)+ue+": "+lu.Main_gameSelected)),wo="all"),im("AGameVod_periodNumber",ko)}var Jo,Xo,jo=0,Yo=0,Wo=!1,Ko=0,Zo=0,$o=5,Qo=3500,ed=0,td=!1,nd=!1,ad=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],id=!1,sd="",od=null,dd="",rd="",ld="",cd="",ud="",_d={};function fd(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Wc,Xo&&!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Ad(),sd!==lu.Main_selectedChannel&&(id=!1),$_(),lu.Main_selectedChannelDisplayname=lu.Main_selectedChannelDisplayname.replace(W,""),v_("top_bar_user",lu.Main_selectedChannelDisplayname),v_("top_bar_game",Ht),document.body.addEventListener("keydown",Nd,!1),$a=!1,id?(lf(jo),__(ad[10]),Td(),Bd(),Y_()):hd()}function md(){Z_(),document.body.removeEventListener("keydown",Nd),u_(ad[10])}function hd(){u_(ad[10]),g_(),G_(),sd=lu.Main_selectedChannel,td=id=!1,sf("stream_table_channel_content"),cd="",Wo=!1,Jo=void(jo=Yo=Ko=ed=0),pd(),vd()}function pd(){Kf=!0,Zo=0,Qo=3500}function vd(){cm("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Jo?Jo:lu.Main_selectedChannel_id),Qo,2,null,gd,yd)}function gd(e){null!==JSON.parse(e).stream?(od=e,pd(),Md()):Jo?(od=null,pd(),Md()):(pd(),bd())}function yd(){++Zo<$o?(Qo+=500,vd()):(od=null,pd(),Md())}function bd(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(lu.Main_selectedChannel_id);if(Zu){if(!(e=Android.mreadUrl(t,Qo,1,null)))return void wd();200===(e=JSON.parse(e)).status?kd(e.responseText):wd()}else(e=new XMLHttpRequest).open("GET",a_+t,!0),e.timeout=Qo,e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void kd(e.responseText);wd()}},e.send(null)}function wd(){++Zo<$o?(Qo+=500,bd()):(od=null,pd(),Md())}function kd(e){var t=JSON.parse(e);void 0!==(Jo=t.hosts[0].target_id)?(pd(),vd()):(od=null,pd(),Md())}function Md(){cm("https://api.twitch.tv/kraken/channels/"+lu.Main_selectedChannel_id,$g,2,null,Cd,Ed)}function Cd(e){var t=JSON.parse(e);dd=t.views,rd=t.followers,ld=t.description,lu.Main_selectedChannelLogo=t.logo,Sd()}function Ed(){++Zo<$o?(Qo+=500,Md()):(ld=rd=dd="",lu.Main_selectedChannelLogo=t_,Sd())}function Sd(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((vu=document.createElement("tr")).className="follower_header",vu.innerHTML='<div class="follower_header">'+PM.parse(ld)+"</div>",document.getElementById("stream_table_channel_content").appendChild(t),document.getElementById("stream_table_channel_content").appendChild(vu),null!==od){var a=JSON.parse(od);if(null!==a.stream){var i=void 0!==Jo?lu.Main_selectedChannelDisplayname+ae:"",s=a.stream;e.appendChild(xd("0_"+n,s.channel.name,s.preview.template,PM.parse(s.channel.status),s.game,F_(JSON.stringify(s.stream_type))+i+s.channel.display_name,y+hv(s.created_at)+b+", "+v+q_(s.viewers)+F,R_(s.video_height,s.average_fps,s.channel.language))),n++}else td=!0}else td=!0;e.appendChild(Id("0_"+n,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname+H,"movie-play")),n++,e.appendChild(Id("0_"+n,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname+A,"movie")),n<2&&(n++,e.appendChild(_f(ad[9]+"0_"+n))),document.getElementById("stream_table_channel_content").appendChild(e),(e=document.createElement("tr")).appendChild(Pd("1_0",lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelLogo)),document.getElementById("stream_table_channel_content").appendChild(e),Ld()}function xd(e,t,n,a,i,s,o,d){return cd=n.replace("{width}x{height}",Vu),(vu=document.createElement("td")).setAttribute("id",ad[8]+e),vu.setAttribute(Xu,t),vu.className="stream_cell",vu.innerHTML='<div id="'+ad[0]+e+'" class="stream_thumbnail_video" ><img id="'+ad[1]+e+'" class="stream_img"></div><div id="'+ad[2]+e+'" class="stream_text"><div id="'+ad[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Jo?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+ga+s+'</div><div id="'+ad[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+ad[4]+e+'"class="stream_info">'+a+'</div><div id="'+ad[5]+e+'"class="stream_info">'+p+i+'</div><div id="'+ad[6]+e+'"class="stream_info">'+o+"</div></div>",vu}function Id(e,t,n,a){return(vu=document.createElement("td")).setAttribute("id",ad[8]+e),vu.setAttribute(Xu,t),vu.className="stream_cell",vu.innerHTML='<div id="'+ad[0]+e+'" class="stream_thumbnail_video" ><div id="'+ad[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+ad[2]+e+'" class="stream_text"><div id="'+ad[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",vu}function Pd(e,t,n,a){return ud=a,(vu=document.createElement("td")).setAttribute("id",ad[8]+e),vu.setAttribute(Xu,t),vu.className="stream_cell",vu.innerHTML='<div id="'+ad[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+ad[1]+e+'" class="stream_img_fallow"></div><div id="'+ad[2]+e+'" class="stream_text"><div id="'+ad[3]+e+'" class="stream_channel">'+n+'</div><div id="'+ad[5]+e+'"class="stream_info">'+q_(dd)+R+'</div><div id="'+ad[6]+e+'"class="stream_info" >'+q_(rd)+Nt+"</div></div>",vu}function Gd(){Ka?(p_("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),v_(ad[3]+"1_0",lu.Main_selectedChannelDisplayname+Et)):(p_("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),ms()?v_(ad[3]+"1_0",lu.Main_selectedChannelDisplayname+St):v_(ad[3]+"1_0",lu.Main_selectedChannelDisplayname+Dt))}function Ld(){Af(function(){id||(y_(),id=!0,""!==cd&&i_(document.getElementById(ad[1]+"0_0"),cd,n_),i_(document.getElementById(ad[1]+"1_0"),ud,t_),Bd(),Y_(),__(ad[10])),Td(),Kf=!1})}function Td(){nd?Gd():ms()?(Qa=lu.Main_selectedChannel_id,$a=!1,bi()):(Ka=!1,Gd())}function Bd(){m_(ad[0]+jo+"_"+(jo?0:Yo),Ju),_u&&Od(),wf()}function Od(){Of(jo+"_"+(jo?0:Yo),ad)}function Hd(){if(jo)ms()&&$i[lu.Users_Position].access_token?($a=!1,Qa=lu.Main_selectedChannel_id,Ka?Ii():Ei()):(P_(Tt),window.setTimeout(G_,2e3));else{document.body.removeEventListener("keydown",Nd),u_(ad[10]);var e=td?1:0;Yo===0-e?(lu.Play_selectedChannel=document.getElementById(ad[8]+jo+"_"+Yo).getAttribute(Xu),lu.Play_selectedChannelDisplayname=document.getElementById(ad[3]+jo+"_"+Yo).textContent,-1!==lu.Play_selectedChannelDisplayname.indexOf(ae)?(lu.Play_isHost=!0,lu.Play_DisplaynameHost=lu.Play_selectedChannelDisplayname,lu.Play_selectedChannelDisplayname=lu.Play_selectedChannelDisplayname.split(ae)[1],lu.Play_selectedChannel_id=Jo):lu.Play_selectedChannel_id=lu.Main_selectedChannel_id,lu.Play_gameSelected=document.getElementById(ad[5]+jo+"_"+Yo).textContent.split(p)[1],Pf()):Yo===1-e?ur():Yo===2-e&&(wb=Xb,Sb())}}function Ud(){_d={"Main_values.Main_selectedChannel_id":lu.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":lu.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":lu.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":lu.Main_selectedChannelDisplayname,ChannelContent_UserChannels:nd,"Main_values.Main_BeforeChannel":lu.Main_BeforeChannel}}function Ad(){lu.Main_selectedChannel_id=lu.Main_selectedChannel_id,lu.Main_selectedChannelLogo=lu.Main_selectedChannelLogo,lu.Main_selectedChannel=lu.Main_selectedChannel,lu.Main_selectedChannelDisplayname=lu.Main_selectedChannelDisplayname,nd=_d.ChannelContent_UserChannels,lu.Main_BeforeChannel=lu.Main_BeforeChannel,Xo=!(_d={})}function Nd(e){if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(Od(),$f(Nd));break;case Ga:jo||(Od(),--Yo<0&&(Yo=td?1:2),Bd());break;case Ta:jo||(Od(),(td?1:2)<++Yo&&(Yo=0),Bd());break;case La:case Ba:Od(),jo=jo?0:1,Bd();break;case Pa:case Ea:hd();break;case xa:case Sa:case Ia:case Oa:Hd();break;case Ha:zf(Nd);break;case Ua:md(),nf();break;case Aa:H_();break;case Na:lu.Search_isSearching||(Xo=!0,Ud(),lu.Main_BeforeSearch=Wc),lu.Main_Go=Xc,md(),j_()}}var Dd=0,qd=0,Rd=!1,Fd=0,Vd={},zd=[],Jd=!1,Xd=0,jd=5,Yd=3500,Wd=0,Kd=0,Zd=0,$d=!1,Qd=!1,er="",tr=!1,nr=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],ar=!1,ir=!1,sr="",or="",dr="",rr="",lr="",cr=0;function ur(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Kc,!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Ad(),lu.Main_selectedChannel!==sr&&(ar=!1),$_(),c_("label_side_panel","icon-arrow-circle-left",I),v_("top_bar_user",lu.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",Sr,!1),ar?(lf(Dd),v_("top_bar_game",ir?U:H),__(nr[10]),S_(qd,Dd,Iu,Fd),kr(),Y_()):fr()}function _r(){ar&&Mr(),Z_(),document.body.removeEventListener("keydown",Sr),u_(nr[10])}function fr(){ar&&Mr(),v_("top_bar_game",ir?U:H),u_(nr[10]),g_(),G_(),sr=lu.Main_selectedChannel,ar=!1,sf("stream_table_channel_vod"),Kd=Wd=0,tr=!1,Vd={},Dd=qd=Fd=0,Rd=!(Kf=!(Qd=!(zd=[]))),E_(),mr(),hr()}function mr(){df(),Jd=!0,Xd=0,Yd=3500}function hr(){var e=Fd+Wd;e&&Kd-1<e&&(e=Kd-xu,Rd=!0),cm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(lu.Main_selectedChannel_id)+"/videos?limit="+xu+"&broadcast_type="+(ir?"highlight":"archive")+"&sort=time&offset="+e,Yd,2,null,vr,pr)}function pr(){++Xd<jd?(Yd+=500,hr()):(Jd=!1,Fd?(Rd=!0,gr()):(Kf=!1,y_(),P_(L)))}function vr(e){var t=JSON.parse(e),n=t.videos.length;Kd=parseInt(t._total),n<xu&&(Rd=!0);var a=Fd;$d=!(Fd+=n);var i=n/Iu;0<n%Iu&&i++;var s,o,d,r,l,c,u,_=0;if(!tr){tr=!0,d=document.createElement("tr");var f='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+h;(vu=document.createElement("td")).setAttribute("id",nr[8]+"y_0"),vu.className="stream_cell",vu.innerHTML='<div id="'+nr[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+nr[3]+'y_0" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(vu),document.getElementById("stream_table_channel_vod").appendChild(d)}for(var m=0;m<i;m++){for(o=a/Iu+m,d=document.createElement("tr"),s=0;s<Iu&&_<n;s++,_++)l=(r=t.videos[_])._id,c=-1!==((u=r.preview.template)+"").indexOf("404_processing"),o||s||!c||(c=!1,u=n_),c||Vd[l]?s--:(Vd[l]=1,d.appendChild(ix(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[u.replace("{width}x{height}",Vu),PM.parse(r.title),D+ef(r.created_at),Wt+p+r.game,q_(r.views)+R,R_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),q+fv(r.length),r.animated_preview_url],nr)));for(;s<Iu;s++)Rd&&!Qd&&(Qd=!0,Fd=o*Iu+s),d.appendChild(_f(nr[9]+o+"_"+s)),zd.push(nr[9]+o+"_"+s);document.getElementById("stream_table_channel_vod").appendChild(d)}gr()}function gr(){Af(function(){if(ar?of(n_):(y_(),$d?P_(T+(ir?U:H)+B+x):(ar=!0,of(n_),kr(),Y_()),__(nr[10]),Kf=!1),0<zd.length&&!Rd)return mr(),void yr();S_(qd,Dd,Iu,Fd),Jd=!(zd=[])})}function yr(){I_(zd.length);var e=Fd+Wd;e&&Kd-1<e&&(e=Kd-Uu,Rd=!0),cm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(lu.Main_selectedChannel_id)+"/videos?limit="+Uu+"&broadcast_type="+(ir?"highlight":"archive")+"&sort=time&offset="+e,Yd,2,null,wr,br)}function br(){++Xd<jd?(Yd+=500,yr()):(Rd=!0,Fd-=zd.length,zd=[],gr())}function wr(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for(Kd=parseInt(a._total);s<zd.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Vd[n]?s--:(Vd[n]=1,ox(zd[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Vu),PM.parse(t.title),D+ef(t.created_at),Wt+p+t.game,q_(t.views)+R,R_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),q+fv(t.length),t.animated_preview_url],nr),d.push(s));for(s=d.length-1;-1<s;s--)zd.splice(d[s],1);Wd+=o,Rd&&(Fd-=zd.length,zd=[]),gr()}function kr(){Dd<0?Cr():(Sf(Dd,qd,nr,Iu,Fd),px(nr,Dd+"_"+qd),Fd/Iu<Dd+Pu&&!Rd&&!Jd&&(mr(),hr()),_u&&Mr())}function Mr(){window.clearInterval(IS),-1<Dd&&Fd?(__(nr[1]+Dd+"_"+qd),Of(Dd+"_"+qd,nr)):Er()}function Cr(){m_(nr[0]+"y_0",Ju)}function Er(){h_(nr[0]+"y_0",Ju)}function Sr(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(Mr(),$f(Sr));break;case Ga:if(V_(Dd,qd-1,nr[0]))Mr(),qd--,kr();else for(t=Iu-1;-1<t;t--)if(V_(Dd-1,t,nr[0])){Mr(),Dd--,qd=t,kr();break}break;case Ta:V_(Dd,qd+1,nr[0])?(Mr(),qd++,kr()):V_(Dd+1,0,nr[0])&&(Mr(),Dd++,qd=0,kr());break;case La:if(-1!==Dd||$d)if(Dd){for(t=0;t<Iu;t++)if(V_(Dd-1,qd-t,nr[0])){Mr(),Dd--,qd-=t,kr();break}}else Mr(),Dd=-1,Cr();else Dd=0,Er(),kr();break;case Ba:if(-1!==Dd||$d){for(t=0;t<Iu;t++)if(V_(Dd+1,qd-t,nr[0])){Mr(),Dd++,qd-=t,kr();break}}else Dd=0,Er(),kr();break;case Ma:case Ca:im("ChannelVod_highlight",(ir=!ir)?"true":"false"),fr();break;case Pa:case Ea:fr();break;case xa:case Sa:case Ia:case Oa:-1===Dd?(im("ChannelVod_highlight",(ir=!ir)?"true":"false"),fr()):Lf(Dd+"_"+qd,nr,Sr);break;case Ha:zf(Sr);break;case Ua:_r(),nf();break;case Aa:H_();break;case Na:lu.Search_isSearching||(Ud(),lu.Main_BeforeSearch=Kc),lu.Main_Go=Xc,_r(),j_()}}var xr,Ir,Pr,Gr,Lr,Tr=!1,Br=0,Or=[],Hr=[],Ur=10,Ar=null,Nr=0,Dr="",qr=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],Rr=qr.length,Fr=0,Vr=!1,zr=0;function Jr(){Gr=document.getElementById("chat_box"),Wr()}function Xr(){ul(),Zu&&lu.Play_ChatForceDisable?(Tr||Wr(),Af(function(){Qr(zr=(new Date).getTime())})):vl()}function jr(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function Yr(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?document.head.appendChild(i):Gr.appendChild(i)}function Wr(){Br=0,Tr=!1,Kr()}function Kr(){cm("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,$r,Zr)}function Zr(){++Br<Ur?Kr():Tr=!1}function $r(e){jr(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Yr(t.type,e.type,e.image_url_4x,!0)})}),Tr=!0}function Qr(e){Br=0,el(e)}function el(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+lu.Main_selectedChannel_id+"/display";if(Zu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(zr===e&&tl(e));if(200===(t=JSON.parse(t)).status)return void(zr===e&&nl(t.responseText,e));zr===e&&tl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(zr===e&&nl(t.responseText,e));zr===e&&tl(e)}},t.send(null)}function tl(e){Br++,zr===e&&(Br<Ur?el(e):Lr=window.setTimeout(function(){el(e)},2500))}function nl(e,t){jr(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Yr(t.type,e.type,e.image_url_4x,!1)})}),zr===t&&al(t)}function al(e){Br=0,zr===e&&il(e)}function il(e){var t,n="https://api.twitch.tv/v5/videos/"+lu.ChannelVod_vodId+"/comments?client_id="+Au+(Nr?"&content_offset_seconds="+parseInt(Nr):"");if(Zu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(zr===e&&sl(e));if(200===(t=JSON.parse(t)).status)return void(zr===e&&ol(t.responseText,e));zr===e&&sl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(zr===e&&ol(t.responseText,e));zr===e&&sl(e)}},t.send(null)}function sl(e){Br++,zr===e&&(Br<Ur?il(e):Ir=window.setTimeout(function(){il(e)},2500))}function ol(e,t){e=JSON.parse(e);var n,a,i=null===Ar;i&&(n="&nbsp;",n+='<span class="message">',n+=aa+yn+lu.Main_selectedChannelDisplayname+" "+Dr,dl(n+="</span>",0)),Nr=0,Ar=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+qr[e.commenter.display_name.charCodeAt(0)%Rr]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=PM.parse(e.text)}),n+="</span>",i?dl(n,e.content_offset_seconds):void 0!==Ar&&rl(n,e.content_offset_seconds)}),i&&zr===t&&(ll(t),void 0!==Ar&&fl(t))}function dl(e,t){Or.push({time:t,message:e})}function rl(e,t){Hr.push({time:t,message:e})}function ll(e){Vr||zr!==e||(xr=window.setInterval(function(){_l(e),Gr.scrollTop=Gr.scrollHeight},1e3))}function cl(){Vr||(window.clearInterval(Lr),window.clearInterval(xr),window.clearInterval(Ir),window.clearInterval(Pr))}function ul(){cl(),zr=0,sf("chat_box"),Vr=!1,Ar=null,Or=[],Hr=[],Fr=0}function _l(e){var t,n;if(Fr<Or.length-1)for(n=Fr;n<Or.length&&Or[n].time<cr+Android.gettime()/1e3;n++,Fr++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Or[n].message,Gr.appendChild(t);else if(cl(),void 0!==Ar){Or=Hr.slice(),Fr=0,ll(e),Hr=[],zr===e&&fl(e);var a=document.getElementsByClassName("chat_line");if(0<a.length-100)for(n=0;n<a.length-100;n++)a[0].parentNode.removeChild(a[0]);Gr.scrollTop=Gr.scrollHeight}else{var i="&nbsp;";i+='<span class="message">',i+=aa+aa+Mn+aa+aa,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Gr.appendChild(t),Vr=!0,Gr.scrollTop=Gr.scrollHeight,window.clearInterval(xr),xr=window.setInterval(function(){Gr.scrollTop=Gr.scrollHeight},250)}}function fl(e){Br=0,Vr||zr!==e||ml(e)}function ml(e){var t,n="https://api.twitch.tv/v5/videos/"+lu.ChannelVod_vodId+"/comments?client_id="+Au+(null!==Ar?"&cursor="+Ar:"");if(Zu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Vr||zr!==e||hl(e));if(200===(t=JSON.parse(t)).status)return void(Vr||zr!==e||ol(t.responseText,e));Vr||zr!==e||hl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Vr||zr!==e||ol(t.responseText,e));Vr||zr!==e||hl(e)}},t.send(null)}function hl(e){Br++,zr===e&&(Br<Ur?ml(e):Pr=window.setTimeout(function(){ml(e)},2500))}function pl(){zr=0,gl(dn+aa+rn)}function vl(){ul(),u_("chat_frame"),__("chat_box"),gl(Zn)}function gl(e){var t="&nbsp;";t+='<span class="message">',t+=aa+aa+aa+aa+aa+aa+aa+aa+aa+aa,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Gr.appendChild(n)}var yl=!1,bl=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_","featured_scroll"],wl=0,kl=0,Ml=!1,Cl=0,El={},Sl=!1,xl=0,Il=5,Pl=3500,Gl=[],Ll=0,Tl=0,Bl=!1,Ol=0,Hl=!1;function Ul(){lu.Main_CenterLablesVectorPos=2,lu.Main_Go=ou,m_("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Wl,!1),yl?(lf(wl),__(bl[10]),S_(kl,wl,Iu,Cl),jl(),Y_()):Nl()}function Al(){document.body.removeEventListener("keydown",Wl),h_("top_bar_featured","icon_center_focus"),u_(bl[10])}function Nl(){u_(bl[10]),g_(),G_(),yl=!1,sf("stream_table_featured"),Kf=!(Bl=!(Gl=[])),Ol=wl=kl=Cl=Tl=Ll=0,Ml=!(El={}),E_(),Dl(),ql()}function Dl(){df(),Sl=!0,xl=0,Pl=3500}function ql(){var e=new XMLHttpRequest,t=Cl+Ll;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+xu+"&offset="+t+(ms()&&$i[lu.Users_Position].access_token?"&oauth_token="+$i[lu.Users_Position].access_token:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Pl,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Fl(e.responseText);Rl()}},e.send(null)}function Rl(){++xl<Il?(Pl+=500,ql()):(Sl=!1,Cl?(Ml=!0,Vl()):(Kf=!1,y_(),P_(L)))}function Fl(e){var t=JSON.parse(e),n=t.featured.length;Tl=parseInt(t._total),n<xu&&(Ml=!0);var a=Cl;Hl=!(Cl+=n);var i=n/Iu;0<n%Iu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Iu+u,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.featured[c].stream).channel._id,El[l]?s--:(El[l]=1,d.appendChild(pf(o,o+"_"+s,[r.channel.name,l],bl,[r.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+hv(r.created_at)+b+", "+v+q_(r.viewers)+F,R_(r.video_height,r.average_fps,r.channel.language)])));for(;s<Iu;s++)Ml&&!Bl&&(Bl=!0,Cl=o*Iu+s),d.appendChild(_f(bl[9]+o+"_"+s)),Gl.push(bl[9]+o+"_"+s);document.getElementById("stream_table_featured").appendChild(d)}Vl()}function Vl(){Af(function(){if(yl){if(of(n_),0<Gl.length&&!Ml)return Dl(),void zl();S_(kl,wl,Iu,Cl),Gl=[]}else y_(),Hl?P_(T+K):(yl=!0,of(n_),jl(),Y_()),__(bl[10]),Kf=!1;Sl=!1})}function zl(){var e=new XMLHttpRequest;I_(Gl.length);var t=Cl+Ll;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+Uu+"&offset="+t+(ms()&&$i[lu.Users_Position].access_token?"&oauth_token="+$i[lu.Users_Position].access_token:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Pl,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Xl(e.responseText);Jl()}},e.send(null)}function Jl(){++xl<Il?(Pl+=500,zl()):(Ml=!0,Cl-=Gl.length,Gl=[],Vl())}function Xl(e){var t,n,a=JSON.parse(e),i=a.featured.length,s=0,o=0,d=[];for(i<Uu&&(Ml=!0);s<Gl.length&&o<i;s++,o++)n=(t=a.featured[o].stream).channel._id,El[n]?s--:(El[n]=1,vf(Gl[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+hv(t.created_at)+b+", "+v+q_(t.viewers)+F,R_(t.video_height,t.average_fps,t.channel.language)],bl),d.push(s));for(s=d.length-1;-1<s;s--)Gl.splice(d[s],1);Ll+=o,Ml&&(Cl-=Gl.length,Gl=[]),Vl()}function jl(){Sf(wl,kl,bl,Iu,Cl),Cl/Iu<wl+Pu&&!Ml&&!Sl&&(Dl(),ql()),_u&&Yl()}function Yl(){Cl&&Of(wl+"_"+kl,bl)}function Wl(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(Yl(),$f(Wl));break;case Ga:if(V_(wl,kl-1,bl[0]))Yl(),kl--,jl();else for(t=Iu-1;-1<t;t--)if(V_(wl-1,t,bl[0])){Yl(),wl--,kl=t,jl();break}break;case Ta:V_(wl,kl+1,bl[0])?(Yl(),kl++,jl()):V_(wl+1,0,bl[0])&&(Yl(),wl++,kl=0,jl());break;case La:for(t=0;t<Iu;t++)if(V_(wl-1,kl-t,bl[0])){Yl(),wl--,kl-=t,jl();break}break;case Ba:for(t=0;t<Iu;t++)if(V_(wl+1,kl-t,bl[0])){Yl(),wl++,kl-=t,jl();break}break;case Pa:case Ea:Nl();break;case Ma:lu.Main_Before=ou,lu.Main_Go=Rc,Al(),j_();break;case Ca:lu.Main_Before=ou,lu.Main_Go=bs()?$c:qc,Al(),j_();break;case xa:case Sa:case Ia:case Oa:If(wl+"_"+kl,bl,Wl);break;case Ha:zf(Wl);break;case Ua:Al(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=ou,lu.Main_Go=Xc,Al(),j_()}}var Kl=!1,Zl=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_","live_scroll"],$l=0,Ql=0,ec=0,tc=!1,nc=0,ac={},ic=!1,sc=0,oc=5,dc=3500,rc=[],lc=0,cc=0,uc=!1,_c=0;function fc(){lu.Main_CenterLablesVectorPos=0,lu.Main_Go=Dc,m_("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",xc,!1),Kl?(lf($l),__(Zl[10]),S_(Ql,$l,Iu,nc),Cc(),Y_()):hc()}function mc(){document.body.removeEventListener("keydown",xc),h_("top_bar_live","icon_center_focus"),u_(Zl[10])}function hc(){u_(Zl[10]),g_(),G_(),Kl=!1,sf("stream_table_live"),Kf=!(uc=!(rc=[])),_c=$l=Ql=nc=cc=lc=0,tc=!(ac={}),E_(),pc(),vc()}function pc(){df(),ic=!0,sc=0,dc=3500}function vc(){var e=nc+lc;e&&cc-1<e&&(e=cc-xu,tc=!0),cm("https://api.twitch.tv/kraken/streams?limit="+xu+"&offset="+e+(""!==yu?"&language="+yu:""),dc,2,null,yc,gc)}function gc(){++sc<oc?(dc+=500,vc()):(ic=!1,nc?(tc=!0,bc()):(Kf=!1,y_(),P_(L),__("topbar")))}function yc(e){var t=JSON.parse(e),n=t.streams.length;cc=parseInt(t._total),n<xu&&(tc=!0);var a=nc;nc+=n;var i=n/Iu;0<n%Iu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Iu+u,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.streams[c]).channel._id,ac[l]?s--:(ac[l]=1,d.appendChild(pf(o,o+"_"+s,[r.channel.name,l,r.channel.status],Zl,[r.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+hv(r.created_at)+b+", "+v+q_(r.viewers)+F,R_(r.video_height,r.average_fps,r.channel.language)])));for(;s<Iu;s++)tc&&!uc&&(uc=!0,nc=o*Iu+s),d.appendChild(_f(Zl[9]+o+"_"+s)),rc.push(Zl[9]+o+"_"+s);document.getElementById("stream_table_live").appendChild(d)}bc()}function bc(){Af(function(){if(Kl){if(of(n_),0<rc.length&&!tc)return pc(),void wc();S_(Ql,$l,Iu,nc),rc=[]}else y_(),__("topbar"),nc?(Kl=!0,of(n_),Cc(),lu.Main_WasOpen=!0):P_(T+K),Mu&&Kl&&sM.restor_playback.defaultValue&&(lu.Play_WasPlaying||lu.Main_WasOpen)?lu.Play_WasPlaying?(K_(lu.Main_Go),lu.Main_Go=ru,lu.vodOffset||(lu.vodOffset=1),Zd=lu.vodOffset+1,Cv(Vn),1===lu.Play_WasPlaying?Pf():Tf(),j_(),K_(lu.Main_Go),window.setTimeout(function(){Ev()},2e3)):1!==ru?(K_(lu.Main_Go),lu.Main_Go=ru,Ec(),j_()):(__(Zl[10]),lu.Never_run&&H_(),lu.Never_run=!1,Y_()):(__(Zl[10]),Y_()),Kf=Mu=!1;ic=!1})}function wc(){I_(rc.length);var e=nc+lc;e&&cc-1<e&&(e=cc-Uu,tc=!0),cm("https://api.twitch.tv/kraken/streams?limit="+Uu+"&offset="+e+(""!==yu?"&language="+yu:""),dc,2,null,Mc,kc)}function kc(){++sc<oc?(dc+=500,wc()):(tc=!0,nc-=rc.length,rc=[],bc())}function Mc(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(cc=parseInt(a._total),i<Uu&&(tc=!0);s<rc.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,ac[n]?s--:(ac[n]=1,vf(rc[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+hv(t.created_at)+b+", "+v+q_(t.viewers)+F,R_(t.video_height,t.average_fps,t.channel.language)],Zl),d.push(s));for(s=d.length-1;-1<s;s--)rc.splice(d[s],1);lc+=o,tc&&(nc-=rc.length,rc=[]),bc()}function Cc(){Sf($l,Ql,Zl,Iu,nc),nc/Iu<$l+Pu&&!tc&&!ic&&(pc(),vc()),_u&&Ec()}function Ec(){nc&&Of($l+"_"+Ql,Zl)}function Sc(){h_("exit_app_cancel","button_search_focused"),h_("exit_app_minimize","button_search_focused"),h_("exit_app_close","button_search_focused"),m_(ec?1===ec?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function xc(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:D_()?N_():B_()?T_():A_()?U_():(Ec(),$f(xc));break;case Ga:if(C_())--ec<0&&(ec=2),Sc(),b_(),w_();else if(V_($l,Ql-1,Zl[0]))Ec(),Ql--,Cc();else for(t=Iu-1;-1<t;t--)if(V_($l-1,t,Zl[0])){Ec(),$l--,Ql=t,Cc();break}break;case Ta:C_()?(2<++ec&&(ec=0),Sc(),b_(),w_()):V_($l,Ql+1,Zl[0])?(Ec(),Ql++,Cc()):V_($l+1,0,Zl[0])&&(Ec(),$l++,Ql=0,Cc());break;case La:if(!C_())for(t=0;t<Iu;t++)if(V_($l-1,Ql-t,Zl[0])){Ec(),$l--,Ql-=t,Cc();break}break;case Ba:if(!C_())for(t=0;t<Iu;t++)if(V_($l+1,Ql-t,Zl[0])){Ec(),$l++,Ql-=t,Cc();break}break;case Pa:case Ea:hc();break;case Ma:lu.Main_Before=Dc,lu.Main_Go=bs()?$c:qc,mc(),j_();break;case Ca:lu.Main_Before=Dc,lu.Main_Go=au,mc(),j_();break;case xa:case Sa:case Ia:case Oa:If($l+"_"+Ql,Zl,xc);break;case Ha:zf(xc);break;case Ua:Uc||(rm("Reloading"),window.location.reload(!0));break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=Dc,lu.Main_Go=Xc,mc(),j_()}}var Ic,Pc,Gc,Lc,Tc,Bc,Oc,Hc,Uc=!0,Ac=-1,Nc=new Image,Dc=1,qc=2,Rc=3,Fc=4,Vc=5,zc=6,Jc=7,Xc=8,jc=9,Yc=10,Wc=11,Kc=12,Zc=13,$c=14,Qc=15,eu=16,tu=17,nu=18,au=19,iu=20,su=21,ou=22,du=23,ru="",lu={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Rc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Main_WasOpen:!1,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},cu=!0,uu=!0,_u=!1,fu=[],mu=0,hu=null,pu=!0,vu="",gu=!1,yu="",bu=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],wu=0,ku=!1,Mu=!0,Cu=0,Eu=1.35,Su=1.5,xu=45,Iu=3,Pu=Math.floor(xu/Iu/Su),Gu=45,Lu=5,Tu=Math.floor(Gu/Lu/Eu),Bu=48,Ou=6,Hu=Math.floor(Bu/Ou/Su),Uu=6,Au="5seja5ptej058mxqy7gh5tcudjqtm9",Nu="Client-ID",Du="Accept",qu="Authorization",Ru="OAuth ",Fu="application/vnd.twitchtv.v5+json",Vu="528x297",zu="340x475",Ju="stream_thumbnail_focused",Xu="data_attribute",ju="1.0",Yu="033019",Wu=ju+"-"+Yu,Ku=0,Zu=0,$u="?"+Math.random(),Qu="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",e_=Qu+"404_game.png",t_=Qu+"404_logo.png",n_=Qu+"404_video.png",a_="https://cors-anywhere.herokuapp.com/",i_=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function s_(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){o_(window.navigator.userLanguage||window.navigator.language)}):o_(window.navigator.userLanguage||window.navigator.language)}function o_(e){Hf(),Af(function(){var t=document.body;Uc&&(t.innerHTML=ta);try{Zu=Android.getAndroid()}catch(e){Zu=0,t.style.backgroundColor="rgba(0, 0, 0, 1)"}Af(function(){vM(),ka(),console.log("language is "+e),wa(),-1!==window.location.href.indexOf("code")&&lm(window.location.href),d_()})})}function d_(){kb(),r_(!0),Ic=document.getElementById("scrollbar"),W_(),ru=lu.Main_Go,Af(function(){Bp(),fs(),document.body.addEventListener("keyup",wf,!1),Mb(),fc(),ku=!1,Jr(),Tc=window.setTimeout(J_,5e3),document.getElementById("side_panel").style.marginLeft="",tf(),l_(),YS=dm("Vod_highlight",!1),ir=dm("ChannelVod_highlight",!1),So=dm("AGameVod_highlight",!1),dS=dm("UserVod_highlight",!1),zS=sm("vod_periodNumber",2),ko=sm("AGameVod_periodNumber",2),aS=sm("UserVod_TypeNumber",1),cb(),Pc=document.getElementById("search_input"),Gc=document.getElementById("user_input"),Lc=document.getElementById("oauth_input"),uf(n_),uf(e_),uf(t_),document.addEventListener("visibilitychange",af,!1),Bc=window.setInterval(Df,6e4)})}function r_(e){Df(),c_("label_refresh",e?"icon-refresh":"icon-arrow-circle-left",e?t+Xt:I),c_("label_switch","icon-switch",r),c_("label_side_panel","icon-ellipsis",Un),v_("top_bar_live",_),v_("top_bar_user",e?u:a),v_("top_bar_featured",nn),v_("top_bar_game",m),v_("top_bar_vod",Zt),v_("top_bar_clip",A),p_("scene2_search_text",ga+n),p_("scene2_channel_text",ga+Ht),p_("scene2_game_text",ga+qt),v_("dialog_end_replay_text",Qt),v_("dialog_end_vod_text",sn),v_("dialog_end_channel_text",Ht),v_("dialog_end_game_text",qt),p_("dialog_about_text",fa+ma),Oc=[re,le,ce,ue],e?uM():(pM(),tf())}function l_(){v_("play_dialog_exit_text",V),p_("dialog_controls_play_text",ha),v_("side_panel_search",n),v_("side_panel_settings",a),v_("side_panel_about",i),v_("side_panel_controls",e),v_("side_panel_exit",J),v_("side_panel_live",_),v_("side_panel_user",u),v_("side_panel_featured",nn),v_("side_panel_games",m),v_("side_panel_videos",Zt),v_("side_panel_clips",A),v_("side_panel_hide",s),v_("chanel_button",S),v_("game_button",m),v_("live_button",_),v_("exit_app_cancel",Y),v_("exit_app_close",X),v_("remove_cancel",Y),v_("remove_yes",Rt),v_("exit_app_minimize",j),v_("main_dialog_exit_text",z),p_("dialog_controls_text",_a),v_("dialog_vod_text",bn),p_("dialog_vod_start_text",kn)}function c_(e,t,n){p_(e,'<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+ga+n+"</div>")}function u_(e){document.getElementById(e).classList.add("hide")}function __(e){document.getElementById(e).classList.remove("hide")}function f_(e){return-1===document.getElementById(e).className.indexOf("hide")}function m_(e,t){document.getElementById(e).classList.add(t)}function h_(e,t){document.getElementById(e).classList.remove(t)}function p_(e,t){document.getElementById(e).innerHTML=t}function v_(e,t){document.getElementById(e).textContent=t}function g_(){lf(-1),__("dialog_loading")}function y_(){u_("dialog_loading")}function b_(){window.clearTimeout(hu)}function w_(){hu=window.setTimeout(M_,6e3)}function k_(){w_(),__("main_dialog_exit"),document.body.addEventListener("keydown",jf,!1)}function M_(){document.body.removeEventListener("keydown",jf,!1),$f(Hc),b_(),u_("main_dialog_exit"),ec=0,Sc()}function C_(){return f_("main_dialog_exit")}function E_(){sf("dialog_counter_text"),x_(0,0,0)}function S_(e,t,n,a){0<a?(v_("dialog_counter_text",t*n+(e+1)+"/"+a),x_(t,n,a)):E_()}function x_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=lu.Main_Go===Fc||lu.Main_Go===iu||lu.Main_Go===su||lu.Main_Go===Kc||lu.Main_Go===du||lu.Main_Go===nu||lu.Main_Go===au||lu.Main_Go===Zc,s=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Ic.style.top=s+"px",pu&&(pu=!1,Ic.style.backgroundColor="#777777")}else Ic.style.backgroundColor="#000000",Ic.style.top=a+"px",pu=!0}function I_(e){(Uu=12)/3<e&&(Uu=3*e),99<Uu&&(Uu=99)}function P_(e){v_("dialog_warning_text",e),__("dialog_warning")}function G_(){u_("dialog_warning")}function L_(){U_(),N_(),__("dialog_about")}function T_(){u_("dialog_about")}function B_(){return f_("dialog_about")}function O_(){U_(),N_(),G_(),K_(lu.Main_Go),E_(),lM()}function H_(){T_(),N_(),__("dialog_controls")}function U_(){u_("dialog_controls")}function A_(){return f_("dialog_controls")}function N_(){u_("dialog_update")}function D_(){return f_("dialog_update")}function q_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function R_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function F_(e){return-1!==e.indexOf("live")?"":W}function V_(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function z_(){Df(),j_(),document.body.addEventListener("keyup",wf,!1)}function J_(){for(var e,t=0;t<bu.length;t++)t<4?document.getElementById(bu[t]).style.opacity="0.5":-1===(e=document.getElementById(bu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");m_("topbar","topbar_dim")}function X_(){for(var e=0;e<bu.length;e++)document.getElementById(bu[e]).style.opacity="1";h_("topbar","topbar_dim")}function j_(){window.clearTimeout(Tc),X_(),lu.Main_Go!==Wc&&(lu.Main_BeforeChannelisSet=!1),lu.Main_Go!==Fc&&(lu.Main_BeforeAgameisSet=!1),E_(),lu.Main_Go===Dc?fc():lu.Main_Go===qc?ns():lu.Main_Go===tu?ai():lu.Main_Go===Rc?(wb=Yb,Sb()):lu.Main_Go===Fc?qs():lu.Main_Go===Xc?yk():lu.Main_Go===jc?ik():lu.Main_Go===Yc?zk():lu.Main_Go===Wc?fd():lu.Main_Go===Kc?ur():lu.Main_Go===Zc?(wb=Xb,Sb()):lu.Main_Go===$c?EE():lu.Main_Go===Vc?eE():lu.Main_Go===zc?wC():lu.Main_Go===Jc?(wb=Wb,Sb()):lu.Main_Go===Qc?JM():lu.Main_Go===eu?Pw():lu.Main_Go===nu?ZS():lu.Main_Go===au?(wb=Jb,Sb()):lu.Main_Go===iu?Io():lu.Main_Go===su?(wb=jb,Sb()):lu.Main_Go===ou?Ul():lu.Main_Go===du?rS():fc(),Tc=window.setTimeout(J_,3e3)}function Y_(){im("Main_values",JSON.stringify(lu))}function W_(){lu=Eb(lu,om("Main_values",{}))}function K_(e){e===Dc?mc():e===qc?as():e===tu?ii():e===Rc?xb():e===Fc?Rs():e===Xc?bk():e===jc?sk():e===Yc?Jk():e===Wc?md():e===Kc?_r():e===Zc?xb():e===$c?SE():e===Vc?tE():e===zc?kC():e===Jc?xb():e===Qc?XM():e===eu?Gw():e===nu?$S():e===au?xb():e===iu?Po():e===su?xb():e===ou?Al():e===du&&lS(),f_("settings_scroll")&&cM()}function Z_(){c_("label_refresh","icon-refresh",t+Xt),c_("label_side_panel","icon-ellipsis",Un),u_("label_switch"),h_("top_bar_user","icon_center_focus"),v_("top_bar_live",_),v_("top_bar_user",u),v_("top_bar_featured",nn),v_("top_bar_game",m),v_("top_bar_vod",Zt),v_("top_bar_clip",A)}function $_(){c_("label_side_panel","icon-arrow-circle-left",I),sf("top_bar_live"),sf("top_bar_game"),sf("top_bar_vod"),sf("top_bar_clip"),sf("top_bar_featured"),m_("top_bar_user","icon_center_focus")}function Q_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function ef(e){return e=new Date(e),gu?e.getDate()+" "+jt[e.getMonth()]+", "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function tf(){p_("dialog_about_text",fa+Wu+ma)}function nf(){Uc?(lu.Users_Position=0,lu.Main_Go=Dc,lu.Search_isSearching&&Z_(),lu.Search_isSearching=!1,j_()):window.location.reload(!0)}function af(){document.hidden?window.clearInterval(Bc):(Df(),Bc=window.setInterval(Df,6e4),window.setTimeout(function(){document.hidden||Df()},2e4))}function sf(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function of(e){for(var t,n=0;n<fu.length;n++)null!==(t=document.getElementById(fu[n].id))&&i_(t,fu[n].src+$u,e)}function df(){fu=[]}function rf(e,t){fu.push({id:e,src:t})}function lf(e){Ac=e}function cf(e){var t=0;return Ac<e?t=-1:e<Ac&&(t=1),Ac=e,t}function uf(e){Nc.src=e}function _f(e){return(vu=document.createElement("td")).setAttribute("id",e),vu.className="stream_cell",vu}function ff(e,t,n){return(vu=document.createElement("td")).setAttribute("id",t[4]+e),vu.setAttribute(Xu,n[0]),vu.setAttribute("data-id",n[1]),vu.className="stream_cell",vu.innerHTML=hf(e,t,n),vu}function mf(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Xu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=hf(i,n,t),a.setAttribute("id",n[4]+i)}function hf(e,t,n){return rf(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function pf(e,t,n,a,i){return e<Iu&&uf(i[0]),(vu=document.createElement("td")).setAttribute("id",a[8]+t),vu.setAttribute(Xu,JSON.stringify(n)),vu.className="stream_cell",vu.innerHTML=gf(t,a,i),vu}function vf(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Xu,JSON.stringify(t)),i.innerHTML=gf(s,a,n),i.setAttribute("id",a[8]+s)}function gf(e,t,n){return rf(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+PM.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+p+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function yf(e,t,n){return(vu=document.createElement("td")).setAttribute("id",t[5]+e),vu.setAttribute(Xu,n[0]),vu.className="stream_cell",vu.innerHTML=bf(e,t,n),vu}function bf(e,t,n){return rf(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function wf(){uu=!0}function kf(){cu=!0}function Mf(){cu=!1,window.setTimeout(kf)}function Cf(){return!cu||!uu}function Ef(e,t,n,a,i){if(m_(n[0]+e+"_"+t,Ju),S_(t,e,a,i),cf(e)){var s=screen.height/100;1<e?V_(e+1,0,n[0])?Bf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+42*s):wf():Bf(n[6],5*s)}else wf()}function Sf(e,t,n,a,i){if(m_(n[0]+e+"_"+t,Ju),S_(t,e,a,i),cf(e)){var s=screen.height/100;e?V_(e+1,0,n[0])&&Bf(n[10],-1*document.getElementById(n[8]+e+"_"+t).offsetTop+s*(33+wu)):Bf(n[10],7*s)}else wf()}function xf(e,t,n,a,i){if(m_(n[0]+e+"_"+t,Ju),S_(t,e,a,i),cf(e)){var s=screen.height/100;Bf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+e+"_"+t).offsetTop+51*s:3.0625*s)}else wf()}function If(e,t,n){lu.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Xu)),lu.Play_selectedChannel_id=lu.Play_selectedChannel[1],lu.Play_selectedChannel=lu.Play_selectedChannel[0],lu.Main_Go===zc?(lu.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,lu.Play_selectedChannelDisplayname=lu.Play_DisplaynameHost.split(ae)[1],lu.Play_isHost=!0):lu.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,lu.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(p)[1],document.body.removeEventListener("keydown",n),lu.Main_Go===Fc&&(lu.Main_OldgameSelected=lu.Main_gameSelected),Pf()}function Pf(){document.body.addEventListener("keydown",Tg,!1),u_("scene1"),__("scene2"),Uv(),Vv(),lg(),Up()}function Gf(e,t,n){tw=JSON.parse(document.getElementById(t[8]+e).getAttribute(Xu)),Hm=parseInt(tw[1]),lu.Play_gameSelected=tw[2],lu.Main_selectedChannel=tw[3],lu.Main_selectedChannelDisplayname=tw[4],lu.Main_selectedChannelLogo=tw[5],lu.Main_selectedChannel_id=tw[6],lu.ChannelVod_vodId=tw[7],cr=parseInt(tw[8]),ew=tw[9],aw=tw[10],$b=tw[11],tw=tw[0],nw=document.getElementById(t[4]+e).textContent,Qb=document.getElementById(t[6]+e).textContent,document.body.removeEventListener("keydown",n),document.body.addEventListener("keydown",ih,!1),u_("scene1"),__("scene2"),Vv(),Tv(),Ev(),Iv(),Um()}function Lf(e,t,n){lu.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Xu)),Zd=parseInt(lu.ChannelVod_vodId[1]),er=lu.ChannelVod_vodId[2],lu.Play_gameSelected=lu.ChannelVod_vodId[3],lu.Main_selectedChannel=lu.ChannelVod_vodId[4],Ep=lu.ChannelVod_vodId[5],lu.ChannelVod_vodId=lu.ChannelVod_vodId[0].substr(1),lu.Main_Go===Kc?or=document.getElementById(t[3]+e).innerHTML:(or="",lu.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),rr=document.getElementById(t[4]+e).textContent,lr=document.getElementById(t[5]+e).textContent,dr=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,document.body.removeEventListener("keydown",n),Tf()}function Tf(){document.body.addEventListener("keydown",bb,!1),u_("scene1"),__("scene2"),Yy(),Vv(),Tv(),Iv(),hy=!1,ky()}function Bf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(wf,10)}function Of(e,t){uu=!1,h_(t[0]+e,Ju)}function Hf(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||Uf(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function Uf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Af(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Nf(){var e=(new Date).getTime()+Ku;return e=new Date(e),(gu?Yt[e.getDay()]+" "+e.getDate()+"/"+jt[e.getMonth()]:Yt[e.getDay()]+" "+jt[e.getMonth()]+"/"+e.getDate())+" "+_v(e.getHours())+":"+_v(e.getMinutes())}function Df(){v_("label_clock",Nf()),$u="?"+Math.random()}function qf(){m_("side_panel_"+Cu,"side_panel_text_focus")}function Rf(){h_("side_panel_"+Cu,"side_panel_text_focus")}function Ff(){Cu?1===Cu?O_():2===Cu?(document.body.addEventListener("keydown",Hc,!1),L_()):3===Cu?(document.body.addEventListener("keydown",Hc,!1),H_()):4===Cu?k_(Hc):5===Cu?Vf(Dc):6===Cu?Vf(bs()?$c:qc):7===Cu?Vf(ou):8===Cu?Vf(Rc):9===Cu?Vf(nu):10===Cu&&Vf(au):lu.Main_Go!==Xc?(lu.Search_isSearching||lu.Main_Go!==Wc&&lu.Main_Go!==Zc&&lu.Main_Go!==Kc||Ud(),lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Xc,K_(lu.Main_BeforeSearch),j_()):document.body.addEventListener("keydown",Hc,!1),Jf()}function Vf(e){e===lu.Main_Go?document.body.addEventListener("keydown",Hc,!1):(lu.Main_Before=lu.Main_Go,lu.Main_Go=e,K_(lu.Main_Before),j_())}function zf(e){Hc=e,document.body.removeEventListener("keydown",Hc),document.body.addEventListener("keydown",Xf,!1),h_("side_panel","side_panel_hide")}function Jf(){document.body.removeEventListener("keydown",Xf),m_("side_panel","side_panel_hide"),Rf(),Cu=0,qf()}function Xf(e){switch(e.keyCode){case Da:case Ga:document.body.addEventListener("keydown",Hc,!1),Jf(),em();break;case La:Cu&&(Rf(),Cu--,qf());break;case Ba:Cu<10&&(Rf(),Cu++,qf());break;case Oa:Ff()}}function jf(e){switch(e.keyCode){case Da:M_();break;case Ta:2<++ec&&(ec=0),Sc(),b_(),w_();break;case Ga:--ec<0&&(ec=2),Sc(),b_(),w_();break;case Oa:ec?Zu&&1===ec?Android.mclose(!1):Zu&&2===ec&&Android.mclose(!0):M_()}}s_();var Yf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Wf=[Dc,$c,ou,Rc,nu,au],Kf=!1;function Zf(e){if(!(Kf||wb.FirstLoad||Cf()))switch(e.keyCode){case Da:A_()?(em(),U_()):B_()?(em(),T_()):lu.Main_Go===Fc?(lu.Main_OldgameSelected=lu.Main_gameSelected,lu.Games_return?(lu.Main_Go=jc,lu.Main_gameSelected=lu.gameSelectedOld):(lu.Main_Go=lu.Main_BeforeAgame,lu.Main_BeforeAgame=Dc),Rs(),Qf(),j_()):lu.Main_Go===su?(Rb(Fc),Qf(),j_()):lu.Main_Go===Jc?(Rb($c),Qf(),j_()):lu.Main_Go===Zc?(Rb(Wc),Qf(),j_()):lu.Main_Go===iu?(lu.Main_Go=Fc,Po(),Qf(),j_()):lu.Main_Go===Vc?(lu.Main_Go=$c,tE(),Qf(),j_()):lu.Main_Go===zc?(lu.Main_Go=$c,kC(),Qf(),j_()):lu.Main_Go===du?(lu.Main_Go=$c,lS(),Qf(),j_()):lu.Main_Go===Qc?(lu.Main_Go=$c,XM(),Qf(),j_()):lu.Main_Go===Wc?(lu.Main_Go=lu.Main_BeforeChannel,lu.Main_BeforeChannel=Dc,md(),lu.Main_selectedChannel_id="",Qf(),j_()):lu.Main_Go===Kc?(lu.Main_Go=Wc,_r(),Qf(),j_()):lu.Main_Go===Yc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Dc:lu.Main_Go=lu.Main_BeforeSearch,Jk(),lu.Search_isSearching=!1,Qf(),j_()):lu.Main_Go===jc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Dc:lu.Main_Go=lu.Main_BeforeSearch,lu.Search_isSearching=!1,sk(),Qf(),j_()):lu.Main_Go===eu?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Dc:lu.Main_Go=lu.Main_BeforeSearch,lu.Main_selectedChannel_id&&Ad(),Gw(),lu.Search_isSearching=!1,Qf(),j_()):(Qf(),zf(Zf));break;case Ta:if(lu.Search_isSearching||lu.Main_Go===Wc||lu.Main_Go===Kc||lu.Main_Go===Zc||lu.Main_Go===Yc||lu.Main_Go===jc||lu.Main_Go===eu)break;h_(Yf[lu.Main_CenterLablesVectorPos],"icon_center_line"),lu.Main_CenterLablesVectorPos++,5<lu.Main_CenterLablesVectorPos&&(lu.Main_CenterLablesVectorPos=0),em(),tm();break;case Ga:if(lu.Search_isSearching||lu.Main_Go===Wc||lu.Main_Go===Kc||lu.Main_Go===Zc||lu.Main_Go===Yc||lu.Main_Go===jc||lu.Main_Go===eu)break;h_(Yf[lu.Main_CenterLablesVectorPos],"icon_center_line"),lu.Main_CenterLablesVectorPos--,lu.Main_CenterLablesVectorPos<0&&(lu.Main_CenterLablesVectorPos=5),em(),tm();break;case Ba:h_(Yf[lu.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Zf),_u=!1,j_();break;case Oa:am()}}function $f(e){window.clearTimeout(Tc),X_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Zf),document.body.addEventListener("keydown",Zf,!1),em()}function Qf(){h_(Yf[lu.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Zf),_u=!1}function em(){_u=!0,m_(Yf[lu.Main_CenterLablesVectorPos],"icon_center_line")}function tm(){K_(lu.Main_Go),lu.Main_Go=Wf[lu.Main_CenterLablesVectorPos],lu.Main_Go!==$c||bs()?(j_(),nm()):(lu.Main_Go=qc,Qf(),j_())}function nm(){lu.Main_Go===Dc?document.body.removeEventListener("keydown",xc):lu.Main_Go===$c?document.body.removeEventListener("keydown",RE):lu.Main_Go===Fc?document.body.removeEventListener("keydown",so):lu.Main_Go===ou?document.body.removeEventListener("keydown",Wl):lu.Main_Go===Yc?document.body.removeEventListener("keydown",aM):lu.Main_Go===jc?document.body.removeEventListener("keydown",hk):lu.Main_Go===eu?document.body.removeEventListener("keydown",zw):lu.Main_Go===Kc?document.body.removeEventListener("keydown",Sr):lu.Main_Go===Wc?document.body.removeEventListener("keydown",Nd):lu.Main_Go===zc?document.body.removeEventListener("keydown",OC):lu.Main_Go===du?document.body.removeEventListener("keydown",SS):lu.Main_Go===Qc?document.body.removeEventListener("keydown",aC):lu.Main_Go===Rc?(wb=Yb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===Zc?(wb=Xb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===nu?document.body.removeEventListener("keydown",vx):lu.Main_Go===au?(wb=Jb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===su?(wb=jb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===Jc?(wb=Wb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===iu?document.body.removeEventListener("keydown",Vo):lu.Main_Go===Vc&&document.body.removeEventListener("keydown",pE)}function am(){window.clearTimeout(Tc),X_(),lu.Main_Go!==Wc&&(lu.Main_BeforeChannelisSet=!1),lu.Main_Go!==Fc&&(lu.Main_BeforeAgameisSet=!1),E_(),lu.Main_Go===Dc?hc():lu.Main_Go===$c?xE():lu.Main_Go===ou?Nl():lu.Main_Go===Fc?Fs():lu.Main_Go===Qc?jM():lu.Main_Go===Wc?hd():lu.Main_Go===Kc?fr():lu.Main_Go===Yc?Xk():lu.Main_Go===jc?ok():lu.Main_Go===eu?Tw():lu.Main_Go===Rc?(wb=Yb,Ib()):lu.Main_Go===Jc?(wb=Wb).loadingData||wb.key_refresh():lu.Main_Go===nu?QS():lu.Main_Go===au?(wb=Jb,Ib()):lu.Main_Go===su?(wb=jb,Ib()):lu.Main_Go===Zc?(wb=Xb,Ib()):lu.Main_Go===iu?Go():lu.Main_Go===Vc?nE():lu.Main_Go===zc?MC():lu.Main_Go===du?cS():hc(),Tc=window.setTimeout(J_,3e3)}function im(e,t){localStorage.setItem(e,t)}function sm(e,t){return parseInt(localStorage.getItem(e))||t}function om(e,t){return JSON.parse(localStorage.getItem(e))||t}function dm(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function rm(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function lm(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),mu=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function cm(e,t,n,a,i,s){var o;if(Zu){if(!(o=Android.mreadUrl(e,t,n,a)))return void s();200===(o=JSON.parse(o)).status?i(o.responseText):s()}else(o=new XMLHttpRequest).open("GET",e,!0),o.timeout=t,0<n&&o.setRequestHeader(Nu,Au),1<n&&o.setRequestHeader(Du,Fu),2<n&&o.setRequestHeader(qu,a),o.ontimeout=function(){},o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status)return void i(o.responseText);s()}},o.send(null)}var um=0,_m=null,fm=0,mm=!1,hm=0,pm=0,vm=!1,gm=0,ym=2e3,bm=5,wm="source",km=wm,Mm=0,Cm=[],Em="",Sm=!1,xm=0,Im=0,Pm=1,Gm=!1,Lm=0,Tm=!1,Bm=!1,Om=[0,5],Hm=0;function Um(){kv(),lg(),Xp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),v_("stream_info_name",lu.Main_selectedChannelDisplayname),p_("stream_info_title",ew),p_("stream_info_game",$b+", "+Qb+", "+aw),v_("stream_live_icon",nw),v_("progress_bar_duration",fv(Hm)),ob((Sp=Om)[1]),lu.Play_isHost=!1,v_("progress_bar_current_time",fv(0)),v_("stream_live_time",""),v_("stream_watching_time",""),Gm=null!==lu.ChannelVod_vodId,Dr=Ot+".",Gm?(Nr=cr,Xr()):pl(),__("progress_pause_holder"),nh(),hp=0,__("scene_channel_panel_bottom"),__("chat_box"),u_("chat_frame"),Bm=!1,vh=-13,xm=Im=Lm=0,Mm=2,vg(3),ap=!1,ig(),ms()?($a=!0,Qa=lu.Main_selectedChannel_id,bi()):wv(),document.addEventListener("visibilitychange",zm,!1),mm=!1,vm=!(pm=hm=0),Am(),document.body.removeEventListener("keyup",wf)}function Am(){gm=0,ym=2e3,Nm()}function Nm(){var e,t="https://clips.twitch.tv/api/v2/clips/"+tw+"/status";if(Zu){if(!(e=Android.mreadUrl(t,op,1,null)))return void Dm();200===(e=JSON.parse(e)).status?qm(e.responseText):Dm()}else(e=new XMLHttpRequest).open("GET",a_+t,!0),e.timeout=ym,e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?qm(e.responseText):Dm())},e.send(null)}function Dm(){++gm<bm?(ym+=250,Nm()):(Mv(),Play_PannelEndStart(3))}function qm(e){Cm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Cm.length?Cm.push({id:e[t].quality+"p"+Rm(e[t].frame_rate),url:e[t].source}):Cm.push({id:e[t].quality+"p"+Rm(e[t].frame_rate)+" (source)",url:e[t].source});Im=Pm,Fm()}function Rm(e){return 40<e?60:""}function Fm(){Em=Cm[Mm=0].url,-1!==wm.indexOf("source")&&(wm="source");for(var e=0;e<Qm();e++){if(Cm[e].id===wm){Em=Cm[Mm=e].url;break}-1!==Cm[e].id.indexOf(wm)&&(Em=Cm[Mm=e].url)}km=wm,Uc||console.log("PlayClip_onPlayer:",'\n\n"'+Em+'"\n'),Im=Pm,Uc||console.log("PlayClip_onPlayer:",'\n\n"'+Bh+'"\n'),Zu&&vm&&Android.startVideoOffset(Em,3,Sm?-1:Android.gettime()),Sm=!1,Vm()}function Vm(){Uh&&!zv()&&Fv(),Zu&&(fm=0,Tm=!(kp=3),window.clearInterval(Jm),_m=window.setInterval(Jm,Mp))}function zm(){document.hidden&&(jm(),window.clearInterval(_m))}function Jm(){Zu&&(xm=Android.gettime()),um!==xm||cv()?(fm=Lm=0,Bm=!1):++fm>kp&&(Tm&&Bm&&Mm<Qm()-1?Mm++:!Tm&&Bm&&Lm++,navigator.onLine?1<Lm?lv(Lm,3,Xm):(eh(),Fm(),Bm=!0):rv(!1,3)),um=xm}function Xm(e){if(!e){if(!(Mm<Qm()-1))return void rv(!1,3);Mm++}Lm=0,eh(),Fm(),Bm=!0}function jm(){vm&&(Cm=[],Ym(),Iv(),gv())}function Ym(){window.clearInterval(_m),Zu&&Android.stopVideo(3),vm=!1,ul(),yv(),document.body.removeEventListener("keydown",ih),document.removeEventListener("visibilitychange",zm),Wm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",cr=0}function Wm(){dy=!1,oy=ry=0,Dv(),wm=km,document.getElementById("scene_channel_panel").style.opacity="0",Zu&&ab(Android.gettime()/1e3,Hm,!0),p_("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none",eg(),window.clearInterval(Hg)}function Km(){Zm(),uv(),Hg=window.setInterval(Zm,1e3),Iv(),Zy(),$m(),eh(),document.getElementById("scene_channel_panel").style.opacity="1",eg(),th()}function Zm(){Zu&&ab(Android.gettime()/1e3,Hm,!dy)}function $m(){for(var e=Mm=0;e<Qm();e++){if(Cm[e].id===wm){Mm=e;break}-1!==Cm[e].id.indexOf(wm)&&(Mm=e)}}function Qm(){return Cm.length}function eh(){1===Qm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Mm?Mm===Qm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(wm=Cm[Mm].id).indexOf("source")?v_("quality_name",wm.replace("source",ye)):v_("quality_name",wm)}function th(){bh=window.setTimeout(Wm,5e3+py)}function nh(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",v_("open_vod_text",Gm?sn:on),document.getElementById("scene2_pannel_0").style.display="inline-block"}function ah(){Gm?(lu.vodOffset=cr,Ym(),document.body.addEventListener("keydown",bb,!1),ig(),ky()):(ap=!0,Cv(dn),window.setTimeout(function(){ap=!1,Ev()},2e3))}function ih(e){if(Im!==Pm)switch(e.keyCode){case Ua:Uc||window.location.reload(!0);break;case Da:Pv()?(Iv(),jm()):xv()}else switch(e.keyCode){case Ga:Ch&&!Hv()&&zv()?(hh++,eg()):Hv()?(Dv(),my?(og(),5<++np&&(np=0),sg()):(rb(-1,Hm),py=2500),th()):cg()?(hg(),fg(),--rp<0&&(rp=3),_g()):Km();break;case Ta:!Ch||Hv()||cg()?Hv()?(Dv(),my?(og(),--np<0&&(np=5),sg()):(rb(1,Hm),py=2500),th()):cg()?(hg(),fg(),3<++rp&&(rp=0),_g()):Km():im("ChatEnable",(Uh=zv()||cg()?(Vv(),!1):(Fv(),!0))?"true":"false");break;case La:cg()?hg():Hv()?(2===my&&1!==np?(my--,$y()):1===my?(my--,$y()):0<Mm&&1===np&&(Mm--,eh()),Dv(),th()):Ch&&zv()?(4<++yh?Qv(!(yh=1)):4===yh&&Qv(!0),Zv(!0)):Km();break;case Ba:cg()?hg():Hv()?(my?1===my?(my++,$y()):Mm<Qm()-1&&1===np&&(Mm++,eh()):(my++,$y()),Dv(),th()):Ch&&zv()?(1.05<(gh+=.05)&&(gh=.05),$v(!0)):Km();break;case Oa:cg()?pg(3):Hv()?my?1===my?(Gm&&lu.Play_ChatForceDisable&&(cv()?ll(zr):cl()),cg()||ag(3)):kg(3):(Dv(),th(),oy&&ib()):Km();break;case Da:jv()?Xv():Hv()?Wm():Pv()?(Iv(),jm()):xv();break;case xa:case Sa:case Ia:Gm&&!lu.Play_ChatForceDisable&&(cv()?ll(zr):cl()),cg()||ag(3);break;case Pa:case Ea:Ch&&im("ChatEnable",(Uh=zv()||cg()?(Vv(),!1):(Fv(),!0))?"true":"false");break;case Ma:Ch&&zv()&&(hh++,eg());break;case Ca:Ch&&zv()&&(hh--,eg());break;case Aa:cg()||Jv();break;case Ua:if(!Gm)return;lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?Gm&&(Nr=cr,Xr()):vl(),Y_();break;case Ha:Op(Ch=!Ch);break;case Na:yg(3)}}var sh,oh,dh,rh,lh,ch,uh,_h,fh,mh,hh=0,ph=hh,vh=-5,gh=.55,yh=3,bh=null,wh="source",kh=wh,Mh=0,Ch=!0,Eh=0,Sh=1,xh=2,Ih=0,Ph=null,Gh=0,Lh=0,Th=0,Bh="",Oh=[],Hh=0,Uh=!1,Ah=null,Nh=null,Dh=null,qh="",Rh=0,Fh=5,Vh=0,zh=5,Jh=0,Xh=!1,jh=null,Yh=!1,Wh=0,Kh=null,Zh=0,$h=0,Qh=!1,ep=!1,tp=!1,np=1,ap=!1,ip=!1,sp=1e4,op=2e3,dp="",rp=0,lp=3,cp=null,up="",_p=0,fp=0,mp=0,hp=0,pp="",vp=!0,gp=!1,yp=!1,bp=0,wp=!1,kp=4,Mp=1500,Cp=0,Ep="",Sp=[],xp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Ip=[0,0,0,1,2,2,2,1],Pp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Gp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Lp=1,Tp=["chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Bp(){ch=document.getElementById("chat_frame"),_h=document.getElementById("chat_container"),mh=document.getElementById("inner_progress_bar"),hh=sm("ChatPositionsValue",0),gh=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,yh=sm("ChatSizeValue",3),Uh=dm("ChatEnable",!1),Ch=dm("Play_isFullScreen",!0),Zv(!1),$v(!1),Hp()}function Op(e){e?void 0!==sh&&(hh=sh,yh=dh,(Uh=oh)||Vv(),Zv(!1)):(sh=hh,oh=Uh,dh=yh,hh=0,Fv(),yh=4,Qv(Uh=!0),Zv(!1),Gr&&(Gr.scrollTop=Gr.scrollHeight)),im("Play_isFullScreen",Ch)}function Hp(){Lp=bM("chat_font_size");for(var e=0;e<Tp.length;e++)h_("chat_inner_container",Tp[e]);m_("chat_inner_container",Tp[Lp])}function Up(){kv(),p_("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+ga+_.toUpperCase()+"</div>"),sf("stream_info_title"),Gm=!(ip=!1),Xp(document.getElementById("stream_info_icon"),t_),lu.Play_isHost?v_("stream_info_name",lu.Play_DisplaynameHost):v_("stream_info_name",lu.Play_selectedChannelDisplayname),lu.Play_WasPlaying=1,Y_(),rh=lu.Play_isHost,lu.Play_isHost=!1,gp=!1,__("scene_channel_panel_bottom"),v_("stream_watching_time",g+fv(hp=0)),qh=mv(0),v_("stream_live_time",y+qh+b),u_("chat_box"),__("chat_frame"),u_("progress_pause_holder"),vg(1),yp=ep=!(vh=-5),_p=$h=Cp=0,fp=Date.now(),sp=3e3,vp=!(Vh=mp=0),Ih=Eh,tp=!(Xh=!(Th=Lh=Gh=Yh=0)),document.addEventListener("visibilitychange",Np,!1),qp(),jp(),document.body.removeEventListener("keyup",wf),Ph=window.setInterval(Vp,6e4)}function Ap(e){Cv(e)}function Play_CheckResume(){Xh&&Np(),Wg&&Ly(),vm&&(jm(),window.clearInterval(_m))}function Np(){document.hidden?cg()?(Iv(),Vv(),pv()):(yv(),tp=!1,ch.src="about:blank",window.clearInterval(Ph),mp=Date.now()):(Xh=!0,Tv(),Xh&&(sp=3e3,gp=!(Vh=0),mp=Date.now()-mp,ip?Vp():qp(),Ih=Eh,Jh=0,navigator.onLine?jp():lh=window.setInterval(Dp,100),Ph=window.setInterval(Vp,6e4)))}function Dp(){(navigator.onLine||200<Jh)&&(window.clearInterval(lh),jp()),Jh++}function qp(){var e="https://api.twitch.tv/kraken/streams/"+lu.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=sp,t.setRequestHeader(Du,Fu),t.setRequestHeader(Nu,Au),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Rp(JSON.parse(t.responseText)):Fp())},t.send(null)}function Rp(e){null!==e.stream&&(v_("stream_info_name",rh?lu.Play_DisplaynameHost:lu.Play_selectedChannelDisplayname),lu.Play_selectedChannel_id=e.stream.channel._id,p_("stream_info_title",PM.parse(e.stream.channel.status)),lu.Play_gameSelected=e.stream.game,dp=", ["+e.stream.channel.language.toUpperCase()+"]",v_("stream_info_game",p+lu.Play_gameSelected+v+q_(e.stream.viewers)+" "+F+dp),lu.Play_selectedChannelLogo=e.stream.channel.logo,ip=!0,Xp(document.getElementById("stream_info_icon"),lu.Play_selectedChannelLogo),qh=e.stream.created_at,ms()?($a=!0,Qa=lu.Play_selectedChannel_id,bi()):wv())}function Fp(){Vh<zh&&(sp+=500,window.setTimeout(function(){Xh&&qp()},750)),Vh++}function Vp(){var e="https://api.twitch.tv/kraken/streams/"+lu.Play_selectedChannel_id;op=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Cp=0,zp(JSON.parse(t.responseText))):Jp())},t.open("GET",e,!0),t.timeout=op,t.setRequestHeader(Du,Fu),t.setRequestHeader(Nu,Au),t.send(null)}function zp(e){null!==e.stream&&(p_("stream_info_title",PM.parse(e.stream.channel.status)),lu.Play_gameSelected=e.stream.game,v_("stream_info_game",p+lu.Play_gameSelected+v+q_(e.stream.viewers)+" "+F+dp),ip||Xp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Jp(){Cp<zh?(window.setTimeout(function(){Xh&&Vp()},2500),Cp++):Cp=0}function Xp(e,t){e.onerror=function(){this.src=t_,ip=!1},e.src=t}function jp(){Rh=0,op=2e3+(gp?3e3:0),Yp()}function Yp(){var e,t;if(e=Ih===Eh?"https://api.twitch.tv/api/channels/"+lu.Play_selectedChannel+"/access_token"+(ms()&&$i[lu.Users_Position].access_token?"?oauth_token="+$i[lu.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+lu.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Gh.token)+"&sig="+Gh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Zu){if(!(t=Android.mreadUrl(e,op,1,null)))return void Kp();200===(t=JSON.parse(t)).status?(Rh=0,Xh&&$p(t.responseText)):403===t.status?Zp():404===t.status?Mg():Kp()}else(t=new XMLHttpRequest).open("GET",a_+e,!0),t.timeout=op,t.setRequestHeader(Nu,Au),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Rh=0,Xh&&$p(t.responseText)):403===t.status?(Wp(t),Zp()):404===t.status?(Wp(t),Mg()):(Wp(t),Kp()))},t.send(null)}function Wp(e){Uc||(console.log(e.status),console.log(e.responseText))}function Kp(){Xh&&vp&&(++Rh<Fh+(gp?15:0)?(op+=250,gp?window.setTimeout(Yp,500):Yp()):Mg())}function Zp(){Mv(),Cv(Dn),window.setTimeout(function(){Xh&&Mg()},4e3)}function $p(e){Ih===Eh?(Gh=JSON.parse(e),Ih=Sh,jp()):Ih===Sh&&(Oh=Qp(Lh=e),Ih=xh,Xh&&nv())}function Qp(e){for(var t,n=[],a="",i=1,s=tv(e),o=0;o<s.length;o++)a=s[o].split('NAME="')[1].split('"')[0],t=ev(s[o].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[o-i].id!==a&&n[o-i].id!==a+" (source)"?n.push({id:a,band:t,url:s[o].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:s[o].split("\n")[2]}));return n}function ev(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function tv(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function nv(){Bh=Oh[Hh=0].url,-1!==wh.indexOf("source")&&(wh="source");for(var e=0;e<Kv();e++){if(Oh[e].id===wh){Bh=Oh[Hh=e].url;break}-1!==Oh[e].id.indexOf(wh)&&(Bh=Oh[Hh=e].url)}kh=wh,Ih=xh,Uc||console.log("Play_onPlayer:",'\n\n"'+Bh+'"\n'),Zu&&Xh&&Android.startVideo(Bh,1),av()}function av(){window.clearTimeout(uh),wp=!1,Uh&&!zv()&&Fv(),tp=!0,iv(),Zu&&(Zh=0,Qh=!(kp=3),window.clearInterval(Kh),Kh=window.setInterval(ov,Mp))}function iv(){if(lu.Play_ChatForceDisable){wp=!0,window.clearInterval(fh);var e=ch.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(uh),bp=0,yp=!1,ch.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+lu.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",uh=window.setTimeout(sv,5e3)}else vl()}function sv(){var e=ch.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(yp=-1!==e.body.innerHTML.indexOf("Connected")),t=yp}catch(e){yp=!0}yp?t&&(fh=window.setInterval(Rv,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):wp&&bp<7?(bp++,uh=window.setTimeout(sv,1e3)):iv()}function ov(){Zu&&(_p=Android.gettime()),Wh!==_p||cv()?(Zh=$h=0,ep=!1):kp<++Zh&&(Qh&&ep&&Hh<Kv()-1?Hh++:!Qh&&ep&&$h++,navigator.onLine?1<$h?lv($h,1,dv):(Wv(),nv(),ep=!0):rv(!1,1)),Wh=_p}function dv(e){if(!e){if(!(Hh<Kv()-1))return void Mg();Hh++}$h=0,Wv(),nv(),ep=!0}function rv(e,t){lu.Play_isHost=e,vg(t),Play_PannelEndStart(t)}function lv(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?rand="+Math.round(1e7*Math.random()),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&rv(!1,t))},a.send(null)}function cv(){return!!Zu&&!Android.getPlaybackState()}function uv(){var e=Nf();v_("stream_clock",e),v_("label_clock",e)}function _v(e){return e<10?"0"+e:e}function fv(e){var t,n,a;return e+=hp/1e3,t=_v(parseInt(e)%60),n=_v((e=Math.floor(e/60))%60),a=_v(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function mv(e){var t,n,a;return e<0&&!hp&&(hp=-1*e),e+=hp,t=_v(parseInt(e/1e3)%60),n=_v((e=Math.floor(e/1e3/60))%60),a=_v(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function hv(e){return mv((new Date).getTime()-new Date(e).getTime())}function pv(){Xh&&(vv(),lu.Play_WasPlaying=0,gv())}function vv(){Zu&&Android.stopVideo(1),Xh=!1,ul(),yv(),bv(),window.clearInterval(fh),lu.Play_selectedChannel_id=""}function gv(){ab(0,0),__("scene1"),u_("scene2"),z_()}function yv(){Uv(),Tv(),Ev(),lg(),Ep="",Hh===Kv()-1&&(kh=Oh[0].id),Xg===nb()-1&&(Ng=Jg[0].id),Mm===Qm()-1&&(km=Cm[0].id)}function bv(){tp=!1,document.body.removeEventListener("keydown",Tg),document.removeEventListener("visibilitychange",Np),ch.src="about:blank",window.clearInterval(Ph),window.clearInterval(Kh),ap=!1}function wv(){p_("fallow_text",ga+Lt),Ka=!1}function kv(){Zu&&Android.mshowLoading(!0)}function Mv(){Zu&&Android.mshowLoading(!1)}function Cv(e){v_("dialog_warning_play_text",e),__("dialog_warning_play")}function Ev(){u_("dialog_warning_play")}function Sv(){return f_("dialog_warning_play")}function xv(){Pv()?Iv():(__("play_dialog_exit"),Ah=window.setTimeout(xv,3e3))}function Iv(){window.clearTimeout(Ah),u_("play_dialog_exit")}function Pv(){return f_("play_dialog_exit")}function Gv(){window.clearTimeout(Nh)}function Lv(){window.clearTimeout(Dh)}function Tv(){Gv(),Lv(),u_("play_dialog_simple_pause")}function Bv(){cv()?Ov()?(u_("play_dialog_simple_pause"),Dh=window.setTimeout(Bv,8e3)):(__("play_dialog_simple_pause"),Nh=window.setTimeout(Bv,1500)):Tv()}function Ov(){return f_("play_dialog_simple_pause")}function Hv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Uv(){Dv(),document.getElementById("scene_channel_panel").style.opacity="0",wh=kh,eg(),window.clearInterval(Hg)}function Av(){ig(),Yv(),Wv(),Nv(),Hg=window.setInterval(Nv,1e3),uv(),Iv(),document.getElementById("scene_channel_panel").style.opacity="1",eg(),qv()}function Nv(){v_("stream_watching_time",g+mv(Date.now()-mp-fp)),v_("stream_live_time",y+hv(qh)+b)}function Dv(){window.clearTimeout(bh),py=0}function qv(){bh=window.setTimeout(Uv,5e3)}function Rv(){var e=ch.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function Fv(){eg(),__("chat_container")}function Vv(){u_("chat_container")}function zv(){return f_("chat_container")}function Jv(){Iv(),__("dialog_controls_play")}function Xv(){u_("dialog_controls_play")}function jv(){return f_("dialog_controls_play")}function Yv(){for(var e=Hh=0;e<Kv();e++){if(Oh[e].id===wh){Hh=e;break}-1!==Oh[e].id.indexOf(wh)&&(Hh=e)}}function Wv(){1===Kv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Hh?Hh===Kv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(wh=Oh[Hh].id).indexOf("source")?v_("quality_name",wh.replace("source",ye)+Oh[Hh].band):v_("quality_name",wh+Oh[Hh].band)}function Kv(){return Oh.length}function Zv(e){_h.style.height=Gp[yh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Gp[yh-1].dialogTop+"%",eg(),Rv(),e&&tg(An+Gp[yh-1].percentage),window.setTimeout(function(){Gr&&(Gr.scrollTop=Gr.scrollHeight)},500),im("ChatSizeValue",yh)}function $v(e){var t=gh-.05;t=t<.05?0:t.toFixed(2),_h.style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&tg(Nn+(100*t).toFixed(0)+"%"),im("ChatBackgroundValue",gh)}function Qv(e){hh=e?Ip[ph=hh]:Pp[hh][ph]}function eg(){var e=4===yh;hh<0?hh=e?2:7:(e?2:7)<hh&&(hh=0),(!hh||5<hh||4===yh)&&Gm&&Hv()?Mh=vh:(0<hh&&hh<6||!Hv())&&(Mh=0),_h.style.top=(e?.2:xp[hh].top+xp[hh].sizeOffset[yh-1])+Mh+"%",_h.style.left=xp[hh+(e?2:0)].left+"%",im("ChatPositionsValue",hh)}function tg(e){window.clearTimeout(jh),v_("play_chat_dialog_text",e),__("play_chat_dialog"),jh=window.setTimeout(ng,1e3)}function ng(){u_("play_chat_dialog")}function ag(e){cv()?(Tv(),Zu&&Android.play(!0),1===e?(Hv()&&Uv(),Kh=window.setInterval(ov,Mp)):2===e?(Hv()&&Yy(),ey=window.setInterval(Vy,Mp)):3===e&&(Hv()&&Wm(),_m=window.setInterval(Jm,Mp))):(1===e?window.clearInterval(Kh):2===e?window.clearInterval(ey):3===e&&window.clearInterval(_m),Zu&&Android.play(!1),Bv())}function ig(){og(),np=1,sg()}function sg(){m_("scene2_pannel_"+np,"playbotton_focus")}function og(){h_("scene2_pannel_"+np,"playbotton_focus")}function dg(){Im=Dg=Ih=-1,Vv(),Uv(),Wm(),Yy(),ap||Ev(),Mv(),Iv(),Xv(),_g()}function rg(){__("dialog_end_stream")}function lg(){u_("dialog_end_stream"),hg(),ug()}function cg(){return f_("dialog_end_stream")}function ug(){fg(),rp=0,_g()}function _g(){m_("dialog_end_"+rp,"dialog_end_icons_focus")}function fg(){h_("dialog_end_"+rp,"dialog_end_icons_focus")}function mg(e){1===e?up=lu.Play_selectedChannelDisplayname+" "+_:2===e?up=lu.Main_selectedChannelDisplayname+$t:3===e&&(up=lu.Main_selectedChannelDisplayname+Ot),p_("dialog_end_stream_text",up+P+aa+en+lp+"..."),cg()?(Dg=Ih=xh,Im=Pm,-1===--lp?(p_("dialog_end_stream_text",up+P+aa+en+"0..."),Iv(),Vv(),1===e?pv():2===e?Jy():3===e&&jm()):cp=window.setTimeout(function(){mg(e)},1e3)):cp=window.setTimeout(function(){mg(e)},50)}function hg(){window.clearTimeout(cp),p_("dialog_end_stream_text",up+P+aa+tn)}function pg(e){var t=!0;rp?1===rp?lu.Play_isHost?(lu.Play_DisplaynameHost=lu.Play_selectedChannelDisplayname+ae,lu.Play_selectedChannel=pp.target_login,lu.Play_selectedChannelDisplayname=pp.target_display_name,lu.Play_DisplaynameHost=lu.Play_DisplaynameHost+lu.Play_selectedChannelDisplayname,vv(),document.body.addEventListener("keydown",Tg,!1),lu.Play_selectedChannel_id=pp.target_id,Up()):ah():2===rp?gg(e):3===rp&&bg(e):2===e?Jg.length?(ny=!(yy=!0),Ry(),Tv(),Nr=uy=0,Xr()):(t=!1,Cv($n),window.setTimeout(function(){Ev()},2e3)):3===e&&(Cm.length?(Tm=!(Sm=!0),Fm(),Tv(),Gm?(uy=0,Nr=cr,Xr()):pl()):(t=!1,Cv($n),window.setTimeout(function(){Ev()},2e3))),1!==rp&&3===rp&&""===lu.Play_gameSelected&&(t=!1),t&&lg()}function vg(e){e?1===e?(fg(),rp=2,_g(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(ug(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(ug(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",v_("dialog_end_vod_text",Gm?sn:on)):(fg(),rp=1,_g(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",v_("dialog_end_vod_text",cn))}function gg(e){lu.Main_BeforeChannelisSet||lu.Main_Go===Kc||lu.Main_Go===Zc||(lu.Main_BeforeChannel=lu.Main_BeforeAgameisSet&&lu.Main_Go!==Fc?lu.Main_BeforeAgame:lu.Main_Go,lu.Main_BeforeChannelisSet=!0),K_(lu.Main_Go),lu.Main_Go=Wc,1===e?(lu.Main_selectedChannel_id=lu.Play_selectedChannel_id,lu.Main_selectedChannel=lu.Play_selectedChannel,lu.Main_selectedChannelDisplayname=lu.Play_selectedChannelDisplayname,nd=Ka,Vv(),pv()):2===e?Jy():3===e&&jm()}function yg(e){lu.Search_isSearching||(lu.Main_BeforeSearch=lu.Main_Go),K_(lu.Main_Go),lu.Main_Go=Xc,1===e?(Vv(),pv()):2===e?Jy():3===e&&jm()}function bg(e){if(""===lu.Play_gameSelected)return ap=!0,Cv(Yn),void window.setTimeout(function(){ap=!1,Ev()},2e3);lu.Main_BeforeAgameisSet||lu.Main_Go===iu||lu.Main_Go===su||(lu.Main_BeforeAgame=lu.Main_BeforeChannelisSet&&lu.Main_Go!==Wc&&lu.Main_Go!==Kc&&lu.Main_Go!==Zc?lu.Main_BeforeChannel:lu.Main_Go,lu.Main_BeforeAgameisSet=!0),K_(lu.Main_Go),lu.Main_Go=Fc,Ns=!1,lu.Main_gameSelected=lu.Play_gameSelected,Vv(),1===e?pv():2===e?Jy():3===e&&jm()}function wg(){ms()&&$i[lu.Users_Position].access_token?Ka?Ii():Ei():(Cv(Tt),ap=!0,window.setTimeout(function(){Ev(),ap=!1},2e3))}function kg(e){np?1===np?(1===e?(nv(),Uv()):2===e?(ny=!1,Ry(),Yy()):3===e&&(Tm=!1,Fm(),Wm()),Tv()):2===np?(Qa=1===e?lu.Play_selectedChannel_id:lu.Main_selectedChannel_id,wg(),Dv(),1===e?qv():2===e?Qy():3===e&&th()):3===np?bg(e):4===np?gg(e):5===np&&yg(e):ah()}function Play_PannelEndStart(e){window.clearInterval(Kh),window.clearInterval(_m),window.clearInterval(ey),dg(),lp=3,mg(e),rg(e)}function Mg(){Ih=-1,Rh=0,op=2e3,window.clearTimeout(uh),ch.src="about:blank",window.clearInterval(Ph),window.clearInterval(Kh),""!==lu.Play_selectedChannel_id?xg():Cg()}function Cg(){var e,t="https://api.twitch.tv/kraken/users?login="+lu.Play_selectedChannel;if(Zu){if(!(e=Android.mreadUrl(t,op,2,null)))return void Sg();200===(e=JSON.parse(e)).status?Eg(e.responseText.users[0]):Sg()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=op,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Eg(JSON.parse(e.responseText).users[0]);Sg()}},e.send(null)}function Eg(e){void 0!==e?(lu.Play_selectedChannel_id=e._id,Rh=0,op=2e3,xg()):Play_PannelEndStart(1)}function Sg(){++Rh<Fh?(op+=250,Cg()):rv(!1,1)}function xg(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(lu.Play_selectedChannel_id);if(Zu){if(!(e=Android.mreadUrl(t,op,1,null)))return void Ig();200===(e=JSON.parse(e)).status?Pg(e.responseText):Ig()}else(e=new XMLHttpRequest).open("GET",a_+t,!0),e.timeout=op,e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Pg(e.responseText);Ig()}},e.send(null)}function Ig(){++Rh<Fh?(op+=250,xg()):rv(!1,1)}function Pg(e){void 0!==(pp=JSON.parse(e).hosts[0]).target_login?(ap=!0,Cv(lu.Play_selectedChannelDisplayname+ln+ae+pp.target_display_name),window.setTimeout(function(){ap=!1},4e3),vg(0),lu.Play_isHost=!0):(vg(1),lu.Play_isHost=!1),Play_PannelEndStart(1)}function Gg(){Ka?(p_("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),p_("fallow_text",ga+Et)):(p_("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),p_("fallow_text",ga+St))}function Lg(e){jv()?Xv():cg()&&!Pv()?(hg(),xv()):Hv()&&!hb()?e?Yy():Uv():hb()&&Pv()?(mb(),Xy(!1),gv()):Pv()?(Iv(),Vv(),e?Jy():pv()):(Sv()&&Ev(),xv())}function Tg(e){if(Ih!==xh)switch(e.keyCode){case Ua:Uc||window.location.reload(!0);break;case Da:Pv()?(Iv(),Vv(),pv()):xv()}else switch(e.keyCode){case Fa:case Pa:case Ea:Ch&&im("ChatEnable",(Uh=zv()||cg()?(Vv(),!1):(Fv(),!0))?"true":"false");break;case Ma:Ch&&zv()&&(hh++,eg());break;case Ca:Ch&&zv()&&(hh--,eg());break;case Ga:Ch&&!Hv()&&zv()?(hh++,eg()):Hv()?(og(),5<++np&&(np=1),sg(),Dv(),qv()):cg()?(hg(),fg(),--rp<(lu.Play_isHost?1:2)&&(rp=3),_g()):Av();break;case Ta:!Ch||Hv()||cg()?Hv()?(og(),--np<1&&(np=5),sg(),Dv(),qv()):cg()?(hg(),fg(),3<++rp&&(rp=lu.Play_isHost?1:2),_g()):Av():im("ChatEnable",(Uh=zv()||cg()?(Vv(),!1):(Fv(),!0))?"true":"false");break;case La:Hv()?(0<Hh&&1===np&&(Hh--,Wv()),Dv(),qv()):Ch&&zv()?(4<++yh?Qv(!(yh=1)):4===yh&&Qv(!0),Zv(!0)):cg()?hg():Av();break;case Ba:Hv()?(Hh<Kv()-1&&1===np&&(Hh++,Wv()),Dv(),qv()):Ch&&zv()?(1.05<(gh+=.05)&&(gh=.05),$v(!0)):cg()?hg():Av();break;case Oa:cg()?pg(1):Hv()?kg(1):Av();break;case Da:Lg(!1);break;case xa:case Sa:case Ia:cg()||ag(1);break;case Aa:cg()||Jv();break;case Ua:lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?(u_("chat_box"),__("chat_frame"),iv()):(ch.src="about:blank",vl()),Y_();break;case Ha:Op(Ch=!Ch);break;case Na:yg(1)}}var Bg,Og,Hg,Ug,Ag="source",Ng=Ag,Dg=0,qg=null,Rg=0,Fg=0,Vg=0,zg="",Jg=[],Xg=0,jg=0,Yg=5,Wg=!1,Kg=0,Zg=5,$g=1e4,Qg=0,ey=null,ty=0,ny=!1,ay=0,iy=!1,sy=!1,oy=0,dy=!1,ry=0,ly=2e3,cy=!1,uy=0,_y={},fy=0,my=0,hy=!0,py=0,vy=0,gy=0,yy=!1,by=[0,10,30,60,120,300,600,900,1200,1800],wy=!1;function ky(){kv(),lg(),uy=0,v_("stream_live_time",""),v_("stream_watching_time",""),v_("progress_bar_current_time",fv(0)),Dr=H+".",u_("progress_pause_holder"),vy=0,ob((Sp=by)[1]),Dg=Eh,Gm=!0,cr=0,lu.Play_isHost=!1,lu.vodOffset?(Cy(),Iy()):(hy&&""!==lu.Main_selectedChannel_id?(Xp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),_y["#"+lu.ChannelVod_vodId]||Xr(),ms()?(Qa=lu.Main_selectedChannel_id,$a=!0,bi()):wv()):(Cy(),Ey()),v_("stream_info_name",lu.Main_selectedChannelDisplayname),p_("stream_info_title",or),p_("stream_info_game",dr+", ["+er.toUpperCase()+"]"),v_("stream_live_icon",rr)),_y["#"+lu.ChannelVod_vodId]&&!lu.vodOffset?(Mv(),fb()):My()}function My(){hp=0,__("chat_box"),u_("chat_frame"),window.setTimeout(function(){__("scene_channel_panel_bottom"),__("progress_pause_holder")},1e3),v_("progress_bar_duration",fv(Zd)),lu.Play_WasPlaying=2,Y_(),Ug=window.setInterval(By,6e4),uf(Ep),iy=!1,dy=ap=cy=!(vh=-13),Vg=Fg=Rg=ry=ay=0,document.addEventListener("visibilitychange",Ly,!1),wy=!(Wg=!(sy=!1)),Oy(),vg(2),document.body.removeEventListener("keyup",wf)}function Cy(){Kg=0,Zg=5,$g=1e4}function Ey(){var e,t="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(lu.Main_selectedChannel);if(Zu){if(!(e=Android.mreadUrl(t,op,2,null)))return void xy();200===(e=JSON.parse(e)).status?Sy(JSON.parse(e.responseText).users[0]):xy()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=$g,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Sy(JSON.parse(e.responseText).users[0]):xy())},e.send(null)}function Sy(e){void 0!==e?(lu.Main_selectedChannelLogo=e.logo,lu.Main_selectedChannel_id=e._id,_y["#"+lu.ChannelVod_vodId]||Xr(),ms()?(Qa=lu.Main_selectedChannel_id,$a=!0,bi()):wv()):(lu.Main_selectedChannelLogo=t_,lu.Main_selectedChannel_id=""),Xp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo)}function xy(){++Kg<Zg?($g+=500,window.setTimeout(function(){Wg&&Ey()},750)):Og=window.setTimeout(Ey,2500)}function Iy(){var e,t="https://api.twitch.tv/kraken/videos/"+lu.ChannelVod_vodId;if(Zu){if(!(e=Android.mreadUrl(t,op,2,null)))return void Py();200===(e=JSON.parse(e)).status?Gy(e.responseText):Py()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=$g,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Gy(e.responseText);Py()}},e.send(null)}function Py(){++Kg<Zg&&($g+=2e3,Iy())}function Gy(e){e=JSON.parse(e),p_("stream_info_title",PM.parse(e.title)),p_("stream_info_game",Wt+p+e.game+", "+q_(e.views)+R+", ["+e.language.toUpperCase()+"]"),v_("stream_live_icon",D+ef(e.created_at)),v_("progress_bar_duration",fv(Zd=parseInt(e.length))),uy=1e3*lu.vodOffset,ab(lu.vodOffset,Zd,!0),lu.Main_selectedChannelDisplayname=e.channel.display_name,v_("stream_info_name",lu.Main_selectedChannelDisplayname),lu.Main_selectedChannelLogo=e.channel.logo,Xp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),lu.Main_selectedChannel_id=e.channel._id,lu.Main_selectedChannel=e.channel.name,ms()?($a=!0,Qa=lu.Main_selectedChannel_id,bi()):wv(),uf(e.increment_view_count_url)}function Ly(){document.hidden?cg()?(Iv(),Vv(),Jy()):(By(),lb(),cl(),yv(),window.clearInterval(ey),window.clearInterval(Ug)):(Wg=!0,Tv(),Wg&&(Jh=Jh=0,navigator.onLine?Fy():lh=window.setInterval(Ty,100),ll(zr),vg(2),Ug=window.setInterval(By,6e4)))}function Ty(){(navigator.onLine||200<Jh)&&(window.clearInterval(lh),Dg=Eh,Oy()),Jh++}function By(){lu.vodOffset=Zu?parseInt(Android.gettime()/1e3):0,Y_(),lu.vodOffset=0}function Oy(){jg=0,ly=2e3,Hy()}function Hy(){var e,t;if(e=Dg===Eh?"https://api.twitch.tv/api/vods/"+lu.ChannelVod_vodId+"/access_token"+(ms()&&$i[lu.Users_Position].access_token?"?oauth_token="+$i[lu.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+lu.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Rg.token)+"&nauthsig="+Rg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Zu){if(!(t=Android.mreadUrl(e,op,1,null)))return void Uy();200===(t=JSON.parse(t)).status?(jg=0,Wg&&Ay(t.responseText)):Uy()}else(t=new XMLHttpRequest).open("GET",a_+e,!0),t.timeout=ly,t.setRequestHeader(Nu,Au),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(jg=0,Wg&&Ay(t.responseText)):Uy())},t.send(null)}function Uy(){if(Wg){if(JSON.parse(Rg.token)&&0!==JSON.parse(Rg.token).chansub.restricted_bitrates.length)return void Ny();++jg<Yg?(ly+=250,Hy()):(Mv(),Play_PannelEndStart(2))}}function Ay(e){Dg===Eh?(Rg=JSON.parse(e),Dg=Sh,Oy()):Dg===Sh&&(Jg=Qp(Fg=e),Dg=xh,Wg&&Ry())}function Ny(){ms()&&$i[lu.Users_Position].access_token?(Qa=lu.Main_selectedChannel_id,Li()):(Mv(),Cv(G+xt),window.setTimeout(function(){Wg&&Jy()},4e3))}function Dy(){Mv(),Cv(G+It),window.setTimeout(function(){Wg&&Jy()},4e3)}function qy(){wy?(Mv(),Cv(G+Pt),window.setTimeout(function(){Wg&&Jy()},4e3)):(wy=!0,Dg=Eh,Oy())}function Ry(){zg=Jg[Xg=0].url,-1!==Ag.indexOf("source")&&(Ag="source");for(var e=0;e<nb();e++){if(Jg[e].id===Ag){zg=Jg[Xg=e].url;break}-1!==Jg[e].id.indexOf(Ag)&&(zg=Jg[Xg=e].url)}Ng=Ag,Fy()}function Fy(){Uc||console.log("PlayVod_onPlayer:",'\n\n"'+zg+'"\n'),lu.vodOffset?(Nr=lu.vodOffset,Xr(),Zu&&Wg&&Android.startVideoOffset(zg,2,yy?-1:1e3*lu.vodOffset),lu.vodOffset=0):Zu&&Wg&&Android.startVideoOffset(zg,2,yy?-1:Android.gettime()),yy=!1,Uh&&!zv()&&Fv(),Zu&&(ty=0,ny=!(kp=5),window.clearInterval(ey),ey=window.setInterval(Vy,Mp))}function Vy(){Zu&&(uy=Android.gettime()),Qg!==uy||cv()?(ty=ay=0,iy=!1):++ty>kp&&(ny&&iy&&Xg<nb()-1?Xg++:!ny&&iy&&ay++,navigator.onLine?1<ay?lv(ay,2,zy):(tb(),Ry(),iy=!0):rv(!1,2)),Qg=uy}function zy(e){if(!e){if(!(Xg<nb()-1))return void rv(!1,2);Xg++}ay=0,tb(),Ry(),iy=!0}function Jy(){Wg&&(Jg=[],Xy(!0),gv())}function Xy(e){e&&lb(),Zu&&Android.stopVideo(2),Wg=!1,window.clearInterval(Ug),window.clearInterval(Og),lu.Play_WasPlaying=0,hy=!0,ul(),yv(),jy()}function jy(){document.body.removeEventListener("keydown",bb),document.removeEventListener("visibilitychange",Ly),lu.vodOffset=0,window.clearInterval(qg),window.clearInterval(ey),Zd=0}function Yy(){dy=!1,oy=ry=0,Dv(),document.getElementById("scene_channel_panel").style.opacity="0",Zu&&ab(Android.gettime()/1e3,Zd,!0),p_("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none",Ag=Ng,eg(),window.clearInterval(Hg)}function Wy(e){Ky(),uv(),Iv(),Hg=window.setInterval(Ky,1e3),e&&(Zy(),eb(),tb(),Qy()),document.getElementById("scene_channel_panel").style.opacity="1",eg()}function Ky(){Zu&&ab(Android.gettime()/1e3,Zd,!dy)}function Zy(){my=cv()?1:0,$y()}function $y(){my?1===my?(m_("pause_button","progress_bar_div_focus"),h_("progress_bar_div","progress_bar_div_focus"),og(),p_("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none"):2===my&&(h_("pause_button","progress_bar_div_focus"),h_("progress_bar_div","progress_bar_div_focus"),sg(),p_("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none"):(h_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),og(),oy&&(db(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Qy(){bh=window.setTimeout(Yy,5e3+py)}function eb(){for(var e=Xg=0;e<nb();e++){if(Jg[e].id===Ag){Xg=e;break}-1!==Jg[e].id.indexOf(Ag)&&(Xg=e)}}function tb(){1===nb()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Xg?Xg===nb()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Ag=Jg[Xg].id).indexOf("source")?v_("quality_name",Ag.replace("source",ye)+Jg[Xg].band):v_("quality_name",Ag+Jg[Xg].band)}function nb(){return Jg.length}function ab(e,t,n){v_("progress_bar_current_time",fv(e)),n&&(mh.style.width=e/t*100+"%")}function ib(){Tv(),cg()||(Tm=ny=!1,Wg?(Zu&&Android.startVideoOffset(zg,2,0<gy?1e3*gy:-1),Nr=gy):(Nr=cr,Zu&&Android.startVideoOffset(Em,3,0<gy?1e3*gy:-1)),Gm&&Xr()),p_("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none",dy=!1,gy=oy=ry=0}function sb(){vy=ry=0,ob(Sp[1])}function ob(e){oy&&!my&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?v_("progress_bar_steps",qn+e/60+Fn):v_("progress_bar_steps",e?qn+e+Rn:qn+Sp[1]+Rn)}function db(){v_("progress_bar_jump_to",_e+" ("+(oy<0?"-":"")+fv(Math.abs(oy))+")"+fe+fv(gy))}function rb(e,t){var n=Zu?Android.gettime()/1e3:0;window.clearTimeout(Bg),dy=!0,ry<Sp.length-1&&vy++%6==0&&ry++,oy+=Sp[ry]*e,gy=n+oy,Wg&&(gy=10*Math.floor(gy/10)),t<gy?(oy=t-n-Sp[1],gy=n+oy,vy=ry=0):gy<0&&(oy=0-n,gy=vy=ry=0),db(),mh.style.width=gy/t*100+"%",ob(Sp[ry]*e),Bg=window.setTimeout(sb,1e3)}function lb(){var e=Zu?parseInt(Android.gettime()/1e3):0,t="#"+lu.ChannelVod_vodId;300<e&&e<Zd-300?(_y[t]&&delete _y[t],_y[t]=e,im("PlayVod_VodIds",JSON.stringify(_y))):Zd-300<e&&_y[t]&&(delete _y[t],im("PlayVod_VodIds",JSON.stringify(_y)))}function cb(){_y=om("PlayVod_VodIds",{});var e=ub();250<e&&_b(e-250)}function ub(){var e=0;for(var t in _y)_y.hasOwnProperty(t)&&e++;return e}function _b(e){var t=0;for(var n in _y){if(!(t<e))break;delete _y[n],t++}im("PlayVod_VodIds",JSON.stringify(_y))}function fb(){u_("scene_channel_panel_bottom"),Wy(!1),p_("dialog_vod_saved_text",wn+mv(1e3*_y["#"+lu.ChannelVod_vodId])),__("dialog_vod_start")}function mb(){Yy(),u_("dialog_vod_start"),pb(),window.setTimeout(function(){__("scene_channel_panel_bottom")},1e3)}function hb(){return f_("dialog_vod_start")}function pb(){gb(),fy=0,vb()}function vb(){m_("dialog_vod_"+fy,"dialog_end_icons_focus")}function gb(){h_("dialog_vod_"+fy,"dialog_end_icons_focus")}function yb(e){mb(),e?(delete _y["#"+lu.ChannelVod_vodId],lu.vodOffset=0,ky()):(lu.vodOffset=_y["#"+lu.ChannelVod_vodId],uy=1e3*lu.vodOffset,ab(lu.vodOffset,Zd,!0),My())}function bb(e){if(Dg===xh||hb())switch(e.keyCode){case Pa:case Ea:Ch&&im("ChatEnable",(Uh=zv()||cg()||hb()?(Vv(),!1):(Fv(),!0))?"true":"false");break;case Ma:Ch&&zv()&&(hh++,eg());break;case Ca:Ch&&zv()&&(hh--,eg());break;case Ga:Ch&&!Hv()&&zv()?(hh++,eg()):Hv()&&!hb()?(Dv(),my?(og(),5<++np&&(np=1),sg()):(rb(-1,Zd),py=2500),Qy()):hb()?(gb(),fy?fy--:fy++,vb()):cg()?(hg(),fg(),--rp<0&&(rp=3),1===rp&&(rp=0),_g()):hb()||Wy(!0);break;case Ta:!Ch||Hv()||cg()?Hv()&&!hb()?(Dv(),my?(og(),--np<1&&(np=5),sg()):(rb(1,Zd),py=2500),Qy()):hb()?(gb(),fy?fy--:fy++,vb()):cg()?(hg(),fg(),3<++rp&&(rp=0),1===rp&&(rp=2),_g()):hb()||Wy(!0):im("ChatEnable",(Uh=zv()||cg()?(Vv(),!1):(Fv(),!0))?"true":"false");break;case La:cg()?hg():Hv()&&!hb()?(2===my&&1!==np?(my--,$y()):1===my?(my--,$y()):0<Xg&&1===np&&(Xg--,tb()),Dv(),Qy()):Ch&&zv()?(4<++yh?Qv(!(yh=1)):4===yh&&Qv(!0),Zv(!0)):hb()||Wy(!0);break;case Ba:cg()?hg():Hv()&&!hb()?(my?1===my?(my++,$y()):Xg<nb()-1&&1===np&&(Xg++,tb()):(my++,$y()),Dv(),Qy()):Ch&&zv()?(1.05<(gh+=.05)&&(gh=.05),$v(!0)):hb()||Wy(!0);break;case Oa:hb()?yb(fy):cg()?pg(2):Hv()?my?1===my?(lu.Play_ChatForceDisable&&(cv()?ll(zr):cl()),cg()||ag(2)):kg(2):(Dv(),Qy(),oy&&ib()):Wy(!0);break;case Da:Lg(!0);break;case xa:case Sa:case Ia:lu.Play_ChatForceDisable&&(cv()?ll(zr):cl()),cg()||ag(2);break;case Aa:cg()||Jv();break;case Ua:lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?Xr():vl(),Y_();break;case Ha:Op(Ch=!Ch);break;case Na:yg(2)}else switch(e.keyCode){case Ua:Uc||window.location.reload(!0);break;case Da:Pv()?(Iv(),Jy()):xv()}}var wb={};function kb(){console.log("InitScreens place holder")}function Mb(){dw(),rw(),lw(),cw(),uw()}function Cb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Eb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Sb(){wu=-1,lu.Main_Go=wb.screen,wb.label_init(),document.body.addEventListener("keydown",zb,!1),wb.status?(lf(wb.posY),__(wb.ids[10]),S_(wb.posX,wb.posY,wb.ColoumnsCount,wb.itemsCount),Ab(),Y_()):Ib()}function xb(){wu=0,wb.label_exit(),document.body.removeEventListener("keydown",zb),u_(wb.ids[10])}function Ib(){u_(wb.ids[10]),G_(),g_(),wb.cursor=null,wb.status=!1,wb.row=document.createElement("div"),sf(wb.table),wb.MaxOffset=0,wb.TopRowCreated=!1,wb.offset=0,wb.idObject={},wb.FirstLoad=!0,wb.itemsCount=0,wb.posX=0,wb.posY=0,wb.row_id=0,wb.coloumn_id=0,wb.data=null,wb.data_cursor=0,wb.dataEnded=!1,E_(),Pb(),Gb()}function Pb(){wb.loadingData=!0,wb.loadingDataTry=0,wb.loadingDataTimeout=3500}function Gb(){var e;if(wb.set_url(),Zu){if(!(e=Android.mreadUrl(wb.url,wb.loadingDataTimeout,2,null)))return void Lb();200===(e=JSON.parse(e)).status?wb.concatenate(e.responseText):Lb()}else(e=new XMLHttpRequest).open("GET",wb.url,!0),e.timeout=wb.loadingDataTimeout,e.setRequestHeader(Nu,Au),e.setRequestHeader(Du,Fu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?wb.concatenate(e.responseText):Lb())},e.send(null)}function Lb(){wb.loadingDataTry++,wb.loadingDataTry<wb.loadingDataTryMax?(wb.loadingDataTimeout+=500,Gb()):(wb.loadingData=!1,wb.itemsCount?wb.dataEnded=!0:(wb.FirstLoad=!1,y_(),P_(L)))}function Tb(){var e=wb.data.length-wb.data_cursor;if(e>wb.ItemsLimit?e=wb.ItemsLimit:wb.dataEnded=!0,e){var t=Math.ceil(e/wb.ColoumnsCount),n=wb.row_id+t;if(wb.HasSwitches&&!wb.TopRowCreated){wb.TopRowCreated=!0,wb.row=document.createElement("div");var a='<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+f;(vu=document.createElement("div")).setAttribute("id",wb.ids[8]+"y_0"),vu.className="stream_cell_period",vu.innerHTML='<div id="'+wb.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+wb.ids[3]+'y_0" class="stream_channel_fallow_game">'+a+"</div></div>",wb.row.appendChild(vu),document.getElementById(wb.table).appendChild(wb.row)}for(wb.row_id;wb.row_id<n;wb.row_id++){for(wb.coloumn_id===wb.ColoumnsCount&&(wb.row=document.createElement("div"),wb.coloumn_id=0),wb.coloumn_id;wb.coloumn_id<wb.ColoumnsCount&&wb.data_cursor<wb.data.length;wb.data_cursor++)wb.addCell(wb.data[wb.data_cursor]);document.getElementById(wb.table).appendChild(wb.row)}}Ub(!e&&!wb.status)}function Bb(e,t,n,a){var i=e+"_"+t;return rf(n[1]+i,a),e<wb.ColoumnsCount&&uf(a),(vu=document.createElement("div")).style.cssText=wb.ThumbCssText,i}function Ob(e,t,n,a,i,s){var o=Bb(e,t,n,a);return vu.setAttribute("id",n[5]+o),vu.setAttribute(Xu,i),vu.innerHTML='<div id="'+n[0]+o+'" class="stream_thumbnail_game"><div><img id="'+n[1]+o+'" class="stream_img"></div><div id="'+n[2]+o+'" class="stream_text2"><div id="<div id="'+n[3]+o+'" class="stream_channel">'+i+'</div><div id="'+n[4]+o+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+s+"</div></div></div>",vu}function Hb(e,t,n,a,i,s,o,d,r,l,c,u,_,f,m,h){var p=Bb(e,t,n,a);return vu.setAttribute("id",n[8]+p),vu.setAttribute(Xu,JSON.stringify([c,l,o[2],u,i,_,f,m,h,o[0],r,o[1]+o[2]])),vu.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+r+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+s[0]+s[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+q+fv(l)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+o[0]+aa+o[1]+o[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+R+"</div></div></div>",vu}function Ub(e){Af(function(){wb.status?(of(wb.img_404),S_(wb.posX,wb.posY,wb.ColoumnsCount,wb.itemsCount)):(y_(),(wb.emptyContent=e)?P_(wb.empty_str()):(wb.status=!0,of(wb.img_404),Ab(),Y_()),__(wb.ids[10]),wb.FirstLoad=!1)})}function Ab(){wb.posY<0?Db():(wb.addFocus(wb.posY,wb.posX,wb.ids,wb.ColoumnsCount,wb.itemsCount),wb.posY+wb.ItemsReloadLimit>wb.itemsCount/wb.ColoumnsCount&&wb.data_cursor<wb.data.length&&(df(),wb.loadDataSuccess()),wb.data_cursor+Kb>wb.data.length&&!wb.dataEnded&&!wb.loadingData&&(Pb(),Gb()),_u&&Of(wb.posY+"_"+wb.posX,wb.ids))}function Nb(e,t){Of(wb.posY+"_"+wb.posX,wb.ids),wb.posY+=e,wb.posX=t,Ab()}function Db(){m_(wb.ids[0]+"y_0",Ju)}function qb(){h_(wb.ids[0]+"y_0",Ju)}function Rb(e){A_()?U_():B_()?T_():(e===wb.screen?lu.Main_Go=Dc:lu.Main_Go=e,xb(),j_())}function Fb(e){if(!wb.HasSwitches||wb.posY||-1!==e||wb.emptyContent){if(wb.HasSwitches&&-1===wb.posY)wb.posY=0,Ab(),qb();else for(var t=0;t<wb.ColoumnsCount;t++)if(V_(wb.posY+e,wb.posX-t,wb.ids[0])){Nb(e,wb.posX-t);break}}else Of(wb.posY+"_"+wb.posX,wb.ids),wb.posY=-1,Db()}function Vb(e,t){V_(wb.posY,wb.posX+e,wb.ids[0])?Nb(0,wb.posX+e):V_(wb.posY+e,t,wb.ids[0])&&Nb(e,t)}function zb(e){if(!wb.FirstLoad&&!Cf())switch(Mf(),e.keyCode){case Da:wb.key_exit();break;case Ga:Vb(-1,wb.ColoumnsCount-1);break;case Ta:Vb(1,0);break;case La:Fb(-1);break;case Ba:Fb(1);break;case Pa:case Ea:wb.loadingData||wb.key_refresh();break;case Ma:wb.key_channelup();break;case Ca:wb.key_channeldown();break;case xa:case Sa:case Ia:case Oa:wb.key_play();break;case Ha:zf(zb);break;case Ua:wb.key_green();break;case Aa:wb.key_yellow();break;case Na:wb.key_blue()}}wb.FirstLoad=!1;var Jb,Xb,jb,Yb,Wb,Kb=100,Zb=3,$b="",Qb="",ew="",tw="",nw="",aw="",iw={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Tb,ThumbPading:Zb,key_blue:function(){lu.Search_isSearching||(lu.Main_BeforeSearch=wb.screen),lu.Main_Go=Xc,xb(),j_()},set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: "+this.ThumbPading+"px;"}},sw={ThumbSize:32.65,ItemsLimit:xu,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:Pu,ColoumnsCount:Iu,addFocus:Sf,cursor:null,key_refresh:Ib,period:["day","week","month","all"],img_404:n_,empty_str:function(){return T+A},key_play:function(){-1===this.posY?this.key_yellow():Gf(this.posY+"_"+this.posX,this.ids,zb)},key_yellow:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Ib())},addCell:function(e){wb.idObject[e.tracking_id]||(wb.itemsCount++,wb.idObject[e.tracking_id]=1,wb.row.appendChild(Hb(wb.row_id,wb.coloumn_id,wb.ids,e.thumbnails.medium,e.broadcaster.display_name,[an,ef(e.created_at)],[PM.parse(e.title),p,e.game],q_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),wb.coloumn_id++)}},ow={ThumbSize:19.35,ItemsLimit:Gu,ItemsReloadLimit:Tu,ColoumnsCount:Lu,addFocus:xf,img_404:e_,empty_str:function(){return T+$}};function dw(){(Jb=Eb(Jb=Eb({ids:Cb("Clip"),table:"stream_table_clip",screen:au,periodPos:sm("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Kb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==yu?"&language="+yu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),wb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),wb.loadingData=!1},SetPeriod:function(){p_("top_bar_clip",A+Q_(Oc[this.periodPos-1])),im("Clip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=5,this.SetPeriod(),m_("top_bar_clip","icon_center_focus"),c_("label_refresh","icon-refresh",t+Xt)},label_exit:function(){Z_(),h_("top_bar_clip","icon_center_focus"),c_("label_refresh","icon-refresh",t+Xt)},key_exit:function(){A_()?U_():B_()?T_():(this.itemsCount&&Of(this.posY+"_"+this.posX,this.ids),$f(zb))},key_channelup:function(){lu.Main_Before=this.screen,lu.Main_Go=Dc,xb(),j_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=nu,xb(),j_()},key_green:function(){xb(),nf()}},iw),sw)).set_ThumbSize()}function rw(){(Xb=Eb(Xb=Eb({ids:Cb("ChannelClip"),table:"stream_table_channel_clip",screen:Zc,periodPos:sm("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(lu.Main_selectedChannel)+"&limit="+Kb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),wb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),wb.loadingData=!1},SetPeriod:function(){p_("top_bar_game",A+Oc[this.periodPos-1]),im("ChannelClip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=1,!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Ad(),lu.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),$_(),this.SetPeriod(),v_("top_bar_user",lu.Main_selectedChannelDisplayname),c_("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=lu.Main_selectedChannel},label_exit:Z_,key_exit:function(){A_()?U_():B_()?T_():(this.itemsCount&&Of(this.posY+"_"+this.posX,this.ids),$f(zb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Ib())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),Ib())},key_green:function(){xb(),nf()},key_blue:function(){lu.Search_isSearching||(Ud(),lu.Main_BeforeSearch=wb.screen),lu.Main_Go=Xc,xb(),j_()}},iw),sw)).set_ThumbSize()}function lw(){(jb=Eb(jb=Eb({ids:Cb("AGameClip"),table:"stream_table_a_game_clip",screen:su,periodPos:sm("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Kb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==yu?"&language="+yu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),wb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),wb.loadingData=!1},SetPeriod:function(){p_("top_bar_game",w+Q_(A+Oc[this.periodPos-1]+": "+lu.Main_gameSelected)),im("AGameClip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=3,this.SetPeriod(),m_("top_bar_game","icon_center_focus"),c_("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==lu.Main_gameSelected&&(this.status=!1),this.gameSelected=lu.Main_gameSelected},label_exit:function(){h_("top_bar_game","icon_center_focus"),p_("top_bar_game",m),c_("label_side_panel","icon-ellipsis",Un)},key_exit:function(){A_()?U_():B_()?T_():(this.itemsCount&&Of(this.posY+"_"+this.posX,this.ids),$f(zb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Ib())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),Ib())},key_yellow:H_,key_green:function(){xb(),nf()}},iw),sw)).set_ThumbSize()}function cw(){(Yb=Eb(Yb=Eb({ids:Cb("Game"),table:"stream_table_games",screen:Rc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Kb,set_url:function(){this.offset&&this.offset+Kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),wb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.top,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),wb.loadingData=!1},label_init:function(){lu.Main_CenterLablesVectorPos=3,m_("top_bar_game","icon_center_focus")},label_exit:function(){h_("top_bar_game","icon_center_focus")},key_refresh:Ib,key_exit:function(){A_()?U_():B_()?T_():(this.itemsCount&&Of(this.posY+"_"+this.posX,this.ids),$f(zb))},key_channelup:function(){lu.Main_Before=this.screen,lu.Main_Go=nu,xb(),j_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=ou,xb(),j_()},key_play:function(){lu.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Xu),document.body.removeEventListener("keydown",zb),lu.Main_BeforeAgame=this.screen,lu.Main_Go=Fc,lu.Main_BeforeAgameisSet=!0,Ns=!1,xb(),j_(),Of(this.posY+"_"+this.posX,this.ids)},key_yellow:H_,key_green:function(){xb(),nf()},addCell:function(e){wb.idObject[e.game._id]||(wb.itemsCount++,wb.idObject[e.game._id]=1,wb.row.appendChild(Ob(wb.row_id,wb.coloumn_id,wb.ids,e.game.box.template.replace("{width}x{height}",zu),e.game.name,q_(e.channels)+" "+S+v+q_(e.viewers)+F)),wb.coloumn_id++)}},iw),ow)).set_ThumbSize()}function uw(){(Wb=Eb(Wb=Eb({ids:Cb("UserGames"),table:"stream_table_user_games",screen:Jc,isLive:dm("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent($i[lu.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Kb+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.follows),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),wb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.follows,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),wb.loadingData=!1},label_init:function(){lu.Main_CenterLablesVectorPos=1,c_("label_side_panel","icon-arrow-circle-left",I),m_("top_bar_user","icon_center_focus"),this.OldUserName!==$i[lu.Users_Position].name&&(this.status=!1),this.OldUserName=$i[lu.Users_Position].name,p_("top_bar_user",u+Q_($i[lu.Users_Position].name+" "+(this.isLive?$:zt)))},label_exit:function(){h_("top_bar_user","icon_center_focus"),v_("top_bar_user",u),c_("label_side_panel","icon-ellipsis",Un)},key_refresh:function(){this.isLive=!this.isLive,p_("top_bar_user",u+Q_($i[lu.Users_Position].name+" "+(this.isLive?$:zt))),Ib(),im("user_Games_live",this.isLive?"true":"false"),LE()},key_exit:function(){A_()?U_():B_()?T_():(this.itemsCount&&Of(this.posY+"_"+this.posX,this.ids),$f(zb))},key_channelup:function(){lu.Main_Before=this.screen,ms()&&$i[lu.Users_Position].access_token?lu.Main_Go=du:lu.Main_Go=Qc,xb(),j_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=zc,xb(),j_()},key_play:function(){lu.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Xu),document.body.removeEventListener("keydown",zb),lu.Main_BeforeAgame=this.screen,lu.Main_Go=Fc,lu.Main_BeforeAgameisSet=!0,Ns=!1,xb(),j_()},key_yellow:H_,key_green:function(){xb(),nf()},addCell:function(e){var t=this.isLive?e.game:e;wb.idObject[t._id]||(wb.itemsCount++,wb.idObject[t._id]=1,wb.row.appendChild(Ob(wb.row_id,wb.coloumn_id,wb.ids,t.box.template.replace("{width}x{height}",zu),t.name,this.isLive?q_(e.channels)+" "+S+v+q_(e.viewers)+F:"")),wb.coloumn_id++)}},iw),ow)).set_ThumbSize()}var _w=0,fw=0,mw=!1,hw=0,pw={},vw=[],gw=!1,yw=0,bw=5,ww=3500,kw=0,Mw=0,Cw=!1,Ew=!1,Sw="",xw=!1,Iw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Pw(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=eu,lu.isLastSChannels=!0,lu.Search_isSearching=!0,Sw!==lu.Search_data&&(Ew=!1),$_(),p_("top_bar_user",n+Q_(S+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",zw,!1),Ew?(lf(_w),__(Iw[6]),S_(fw,_w,Ou,hw),Fw(),Y_()):Tw()}function Gw(){Z_(),document.body.removeEventListener("keydown",zw),u_(Iw[6])}function Lw(){j_()}function Tw(){u_(Iw[6]),g_(),G_(),Sw=lu.Search_data,Ew=!1,sf("stream_table_search_channel"),pw={},hw=Mw=kw=0,_w=fw=0,mw=!(Kf=!(xw=!(vw=[]))),E_(),Bw(),Ow()}function Bw(){df(),gw=!0,yw=0,ww=3500}function Ow(){var e=new XMLHttpRequest,t=hw+kw;t&&Mw-1<t&&(t=Mw-Bu,mw=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(lu.Search_data)+"&limit="+Bu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ww,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Uw(e.responseText);Hw()}},e.send(null)}function Hw(){++yw<bw?(ww+=500,Ow()):(gw=!1,hw?(mw=!0,Nw()):(Kf=!1,y_(),P_(L)))}function Uw(e){var t=JSON.parse(e),n=t.channels.length;Mw=parseInt(t._total),n<Bu&&(mw=!0);var a=hw;Cw=!(hw+=n);var i=n/Ou;0<n%Ou&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Ou+u,d=document.createElement("tr"),s=0;s<Ou&&c<n;s++,c++)l=(r=t.channels[c])._id,pw[l]?s--:(pw[l]=1,d.appendChild(Aw(o,o+"_"+s,[r.name,l,r.logo,r.display_name])));for(;s<Ou;s++)mw&&!xw&&(xw=!0,hw=o*Ou+s),d.appendChild(_f(Iw[5]+o+"_"+s)),vw.push(Iw[5]+o+"_"+s);document.getElementById("stream_table_search_channel").appendChild(d)}Nw()}function Aw(e,t,n){return e<4&&uf(n[2]),ff(t,Iw,n)}function Nw(){Af(function(){if(Ew){if(of(t_),0<vw.length&&!mw)return Bw(),void Dw();S_(fw,_w,Ou,hw),vw=[]}else y_(),Cw?P_(d):(Ew=!0,of(t_),Fw(),Y_()),__(Iw[6]),Kf=!1;gw=!1})}function Dw(){var e=new XMLHttpRequest;I_(vw.length);var t=hw+kw;t&&Mw-1<t&&(t=Mw-Uu,mw=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(lu.Search_data)+"&limit="+Uu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ww,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Rw(e.responseText);qw()}},e.send(null)}function qw(){++yw<bw?(ww+=500,Dw()):(mw=!0,hw-=vw.length,vw=[],Nw())}function Rw(e){var t,n,a=JSON.parse(e),i=a.channels.length,s=0,o=0,d=[];for(Mw=parseInt(a._total),i<Uu&&(mw=!0);s<vw.length&&o<i;s++,o++)n=(t=a.channels[o])._id,pw[n]?s--:(pw[n]=1,mf(vw[s],[t.name,n,t.logo,t.display_name],Iw),d.push(s));for(s=d.length-1;-1<s;s--)vw.splice(d[s],1);kw+=o,mw&&(hw-=vw.length,vw=[]),Nw()}function Fw(){Ef(_w,fw,Iw,Ou,hw),hw/Ou<_w+Hu&&!mw&&!gw&&(Bw(),Ow()),_u&&Vw()}function Vw(){hw&&Of(_w+"_"+fw,Iw)}function zw(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(Vw(),$f(zw));break;case Ga:if(V_(_w,fw-1,Iw[0]))Vw(),fw--,Fw();else for(t=Ou-1;-1<t;t--)if(V_(_w-1,t,Iw[0])){Vw(),_w--,fw=t,Fw();break}break;case Ta:V_(_w,fw+1,Iw[0])?(Vw(),fw++,Fw()):V_(_w+1,0,Iw[0])&&(Vw(),_w++,fw=0,Fw());break;case La:for(t=0;t<Ou;t++)if(V_(_w-1,fw-t,Iw[0])){Vw(),_w--,fw-=t,Fw();break}break;case Ba:for(t=0;t<Ou;t++)if(V_(_w+1,fw-t,Iw[0])){Vw(),_w++,fw-=t,Fw();break}break;case Pa:case Ea:Tw();break;case xa:case Sa:case Ia:case Oa:lu.Main_selectedChannel=document.getElementById(Iw[4]+_w+"_"+fw).getAttribute(Xu),lu.Main_selectedChannel_id=document.getElementById(Iw[4]+_w+"_"+fw).getAttribute("data-id"),lu.Main_selectedChannelDisplayname=document.getElementById(Iw[3]+_w+"_"+fw).textContent,document.body.removeEventListener("keydown",zw),lu.Main_BeforeChannel=eu,lu.Main_Go=Wc,lu.Main_BeforeChannelisSet=!0,nd=Ka=!1,u_(Iw[6]),j_();break;case Ha:zf(zw);break;case Ua:Gw(),lu.Search_isSearching=!1,nf();break;case Aa:H_();break;case Na:lu.Main_Go=Xc,Gw(),Lw()}}var Jw=!1,Xw=0,jw=0,Yw=0,Ww=0,Kw=5,Zw=3500,$w=0,Qw=0,ek=!1,tk=!1,nk="",ak=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function ik(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=jc,lu.Search_isSearching=!0,$_(),nk!==lu.Search_data&&(Jw=!1),p_("top_bar_user",n+Q_(m+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",hk,!1),Jw?(lf(Xw),__(ak[7]),S_(jw,Xw,Lu,Yw),fk(),Y_()):ok()}function sk(){lu.Search_isSearching||Z_(),document.body.removeEventListener("keydown",hk),lu.Games_return=!1,u_(ak[7])}function ok(){u_(ak[7]),g_(),G_(),nk=lu.Search_data,Jw=!1,sf("stream_table_search_game"),tk=!1,Xw=jw=Yw=Qw=$w=0,E_(),dk(),rk()}function dk(){df(),Kf=!0,Ww=0,Zw=3500}function rk(){var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(lu.Search_data)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Zw,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ck(e.responseText);lk()}},e.send(null)}function lk(){++Ww<Kw?(Zw+=500,rk()):(Kf=!1,Yw?_k():(y_(),P_(L)))}function ck(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Yw;ek=!(Yw+=n);var i=n/Lu;0<n%Lu&&i++;for(var s,o,d,r,l=0,c=0;c<i;c++){for(o=a/Lu+c,d=document.createElement("tr"),s=0;s<Lu&&l<n;s++,l++)r=t.games[l],d.appendChild(uk(o,o+"_"+s,[r.name,r.box.template.replace("{width}x{height}",zu),""]));for(;s<Lu;s++)tk||(tk=!0,Yw=o*Lu+s),d.appendChild(_f(ak[6]+o+"_"+s));document.getElementById("stream_table_search_game").appendChild(d)}_k()}function uk(e,t,n){return e<2&&uf(n[1]),yf(t,ak,n)}function _k(){Af(function(){Jw||(y_(),ek?P_(d):(Jw=!0,of(n_),fk(),Y_())),__(ak[7]),Kf=!1,S_(jw,Xw,Lu,Yw)})}function fk(){xf(Xw,jw,ak,Lu,Yw),_u&&mk()}function mk(){Yw&&Of(Xw+"_"+jw,ak)}function hk(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(mk(),$f(hk));break;case Ga:if(V_(Xw,jw-1,ak[0]))mk(),jw--,fk();else for(t=Lu-1;-1<t;t--)if(V_(Xw-1,t,ak[0])){mk(),Xw--,jw=t,fk();break}break;case Ta:V_(Xw,jw+1,ak[0])?(mk(),jw++,fk()):V_(Xw+1,0,ak[0])&&(mk(),Xw++,jw=0,fk());break;case La:for(t=0;t<Lu;t++)if(V_(Xw-1,jw-t,ak[0])){mk(),Xw--,jw-=t,fk();break}break;case Ba:for(t=0;t<Lu;t++)if(V_(Xw+1,jw-t,ak[0])){mk(),Xw++,jw-=t,fk();break}break;case Pa:case Ea:ok();break;case xa:case Sa:case Ia:case Oa:lu.gameSelectedOld=lu.Main_gameSelected,sk(),lu.Main_gameSelected=document.getElementById(ak[5]+Xw+"_"+jw).getAttribute(Xu),document.body.removeEventListener("keydown",hk),lu.Main_Go=Fc,lu.Games_return=!0,j_();break;case Ha:zf(hk);break;case Ua:lu.Search_isSearching=!1,sk(),nf();break;case Aa:H_();break;case Na:lu.Main_Go=Xc,sk(),j_()}}var pk=0,vk=0,gk=!1;function yk(){G_(),u_("label_refresh"),c_("label_side_panel","icon-arrow-circle-left",I),v_("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Pc.placeholder=k,m_("top_bar_user","icon_center_focus"),__("search_scroll"),vk=pk=0,kk(),Ck()}function bk(){Ek(!1),document.body.removeEventListener("keydown",Mk),kk(),lu.Main_Go=lu.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",v_("top_bar_user",u),h_("top_bar_user","icon_center_focus"),c_("label_side_panel","icon-ellipsis",Un),__("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Pc.value="",u_("search_scroll")}function wk(){bk(),vk?1===vk?ik():2===vk&&zk():Pw()}function kk(){h_("chanel_button","button_search_focused"),h_("game_button","button_search_focused"),h_("live_button","button_search_focused"),pk&&(vk?1===vk?m_("game_button","button_search_focused"):2===vk&&m_("live_button","button_search_focused"):m_("chanel_button","button_search_focused"))}function Mk(e){if(!gk)switch(e.keyCode){case Da:A_()?U_():B_()?T_():(bk(),j_());break;case Ga:1===pk&&(--vk<0&&(vk=2),kk());break;case Ta:1===pk&&(2<++vk&&(vk=0),kk());break;case La:1===pk&&(pk=0,kk(),Ck());break;case Ba:pk?1===pk&&(pk=0,kk(),Ck()):(Ek(!1),pk=1,kk());break;case Pa:case Ea:break;case Ma:case Ca:bk(),j_();break;case xa:case Sa:case Ia:case Oa:pk?""!==Pc.value&&null!==Pc.value?(lu.Search_data=Pc.value,Pc.value="",wk()):(P_(o),window.setTimeout(function(){G_()},1e3)):Ck();break;case Ha:zf(Mk);break;case Ua:bk(),nf();break;case Aa:H_()}}function Ck(){document.body.removeEventListener("keydown",Mk),document.body.addEventListener("keydown",Sk,!1),Pc.placeholder=k,Pc.focus(),gk=!0}function Ek(e){Pc.blur(),document.body.removeEventListener("keydown",Sk),Pc.placeholder=E+k,e&&document.body.addEventListener("keydown",Mk,!1),gk=!1}function ri(){if(null!==Pc){var e=Pc.cloneNode(!0);Pc.parentNode.replaceChild(e,Pc),Pc=document.getElementById("search_input")}}function Sk(e){switch(e.keyCode){case Da:B_()?T_():A_()?U_():(bk(),j_());break;case Va:Pc.value="";break;case Ra:case Ba:Ek(!0),pk=1,kk();break;case qa:Pc.value=Pc.value.slice(0,-1);break;case Fa:Pc.value+=" "}}var xk=0,Ik=0,Pk=!1,Gk=0,Lk={},Tk=[],Bk=!1,Ok=0,Hk=5,Uk=3500,Ak=0,Nk=0,Dk=!1,qk=!1,Rk=!1,Fk="",Vk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function zk(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Yc,lu.Search_isSearching=!0,$_(),Fk!==lu.Search_data&&(qk=!1),p_("top_bar_user",n+Q_(_+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",aM,!1),qk?(lf(xk),__(Vk[10]),S_(Ik,xk,Iu,Gk),tM(),Y_()):Xk()}function Jk(){Z_(),document.body.removeEventListener("keydown",aM),u_(Vk[10])}function Xk(){u_(Vk[10]),g_(),G_(),Fk=lu.Search_data,qk=!1,sf("stream_table_search_live"),Nk=Ak=0,Lk={},xk=Ik=Gk=0,Pk=!(Kf=!(Rk=!(Tk=[]))),E_(),jk(),Yk()}function jk(){df(),Bk=!0,Ok=0,Uk=3500}function Yk(){var e=new XMLHttpRequest,t=Gk+Ak;t&&Nk-1<t&&(t=Nk-xu,Pk=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(lu.Search_data)+"&limit="+xu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Uk,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Kk(e.responseText);Wk()}},e.send(null)}function Wk(){++Ok<Hk?(Uk+=500,Yk()):(Bk=!1,Gk?(Pk=!0,Zk()):(Kf=!1,y_(),P_(L)))}function Kk(e){var t=JSON.parse(e),n=t.streams.length;Nk=parseInt(t._total),n<xu&&(Pk=!0);var a=Gk;Dk=!(Gk+=n);var i=n/Iu;0<n%Iu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Iu+u,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.streams[c]).channel._id,Lk[l]?s--:(Lk[l]=1,d.appendChild(pf(o,o+"_"+s,[r.channel.name,l],Vk,[r.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+hv(r.created_at)+b+", "+v+q_(r.viewers)+F,R_(r.video_height,r.average_fps,r.channel.language)])));for(;s<Iu;s++)Pk&&!Rk&&(Rk=!0,Gk=o*Iu+s),d.appendChild(_f(Vk[9]+o+"_"+s)),Tk.push(Vk[9]+o+"_"+s);document.getElementById("stream_table_search_live").appendChild(d)}Zk()}function Zk(){Af(function(){if(qk){if(of(n_),0<Tk.length&&!Pk)return jk(),void $k();S_(Ik,xk,Iu,Gk),Tk=[]}else y_(),Dk?P_(d):(qk=!0,of(n_),tM(),Y_()),__(Vk[10]),Kf=!1;Bk=!1})}function $k(){var e=new XMLHttpRequest;I_(Tk.length);var t=Gk+Ak;t&&Nk-1<t&&(t=Nk-Uu,Pk=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(lu.Search_data)+"&limit="+Uu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Uk,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void eM(e.responseText);Qk()}},e.send(null)}function Qk(){++Ok<Hk?(Uk+=500,$k()):(Pk=!0,Gk-=Tk.length,Tk=[],Zk())}function eM(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Nk=parseInt(a._total),i<Uu&&(Pk=!0);s<Tk.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Lk[n]?s--:(Lk[n]=1,vf(Tk[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+hv(t.created_at)+b+", "+v+q_(t.viewers)+F,R_(t.video_height,t.average_fps,t.channel.language)],Vk),d.push(s));for(s=d.length-1;-1<s;s--)Tk.splice(d[s],1);Ak+=o,Pk&&(Gk-=Tk.length,Tk=[]),Zk()}function tM(){Sf(xk,Ik,Vk,Iu,Gk),Gk/Iu<xk+Pu&&!Pk&&!Bk&&(jk(),Yk()),_u&&nM()}function nM(){Gk&&Of(xk+"_"+Ik,Vk)}function aM(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(nM(),$f(aM));break;case Ga:if(V_(xk,Ik-1,Vk[0]))nM(),Ik--,tM();else for(t=Iu-1;-1<t;t--)if(V_(xk-1,t,Vk[0])){nM(),xk--,Ik=t,tM();break}break;case Ta:V_(xk,Ik+1,Vk[0])?(nM(),Ik++,tM()):V_(xk+1,0,Vk[0])&&(nM(),xk++,Ik=0,tM());break;case La:for(t=0;t<Iu;t++)if(V_(xk-1,Ik-t,Vk[0])){nM(),xk--,Ik-=t,tM();break}break;case Ba:for(t=0;t<Iu;t++)if(V_(xk+1,Ik-t,Vk[0])){nM(),xk++,Ik-=t,tM();break}break;case Pa:case Ea:Xk();break;case xa:case Sa:case Ia:case Oa:If(xk+"_"+Ik,Vk,aM);break;case Ha:zf(aM);break;case Ua:Jk(),lu.Search_isSearching=!1,nf();break;case Aa:H_();break;case Na:lu.Main_Go=Xc,Jk(),j_()}}var iM=0,sM={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["85%","100%","130%","160%"],defaultValue:2},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:oM(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Español [ES][ES-MX]","Español - España [ES]","Español - Latinoamérica [ES-MX]","Français [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Português [PT][PT-BR]","Português -Portugal [PT]","Português - Brasil [PT-BR]","Slovenčina [SK]","Suomi [FI]","Svenska [SV]","Tiếng Việt [VI]","Türkçe [TR]","Čeština [CS]","Ελληνικά [EL]","Български [BG]","Русский [RU]","ภาษาไทย [TH]","中文 [ZH-ALL]","中文 简体 [ZH-CN]","中文 繁體 [ZH-TW]","日本語 [JA]","한국어 [KO]","Română [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function oM(){var e=[],t=43200,n=0;for(hp=0;n<48;n++)e.push("-"+fv(t)),t-=900;for(e.push(fv(0)),t=900,n=0;n<48;n++)e.push(fv(t)),t+=900;return e}var dM=[],rM=0;function lM(){X_(),document.body.addEventListener("keydown",IM,!1),c_("label_refresh","icon-arrow-circle-left",I),v_("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",m_("top_bar_user","icon_center_focus"),__("settings_scroll"),kM(iM=0)}function cM(){document.body.removeEventListener("keydown",IM),MM(),v_("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",h_("top_bar_user","icon_center_focus"),c_("label_refresh","icon-refresh",t+Xt),u_("settings_scroll")}function uM(){var e,t="";t+=_M("general",vn),e="clock_offset",dM.push(e),t+=fM(e,zn),e="content_lang",dM.push(e),t+=fM(e,Xn),e="restor_playback",dM.push(e),sM[e].values=[Pn,In],t+=mM(e,Gn,Ln),e="videos_animation",dM.push(e),sM[e].values=[Pn,In],t+=fM(e,Hn),t+=_M("play",un),e="chat_font_size",dM.push(e),t+=mM(e,Tn,Bn),e="force_disable_chat",dM.push(e),sM[e].values=[Pn,In],p_("settings_main",t+=mM(e,Qn,ea)),rM=dM.length}function _M(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function fM(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+gM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function mM(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+gM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function hM(e,t,n){p_(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function pM(){var e="";for(e in v_("setting_title_general",vn),v_((e="clock_offset")+"_name",zn),v_((e="content_lang")+"_name",Xn),sM[e].values[0]=jn,v_(e,gM(e)),v_("setting_title_play",un),hM(e="restor_playback",Gn,Ln),sM[e].values=[Pn,In],hM(e="chat_font_size",Tn,Bn),hM(e="force_disable_chat",Qn,ea),sM[e].values=[Pn,In],v_((e="videos_animation")+"_name",Hn),sM[e].values=[Pn,In],sM)sM.hasOwnProperty(e)&&v_(e,gM(e))}function vM(){for(var e in sM)sM[e].defaultValue=sm(e,sM[e].defaultValue),sM[e].defaultValue-=1;xM(),WS=bM("videos_animation"),yu=yM("content_lang"),lu.Play_ChatForceDisable=bM("force_disable_chat")}function gM(e){return sM[e].values[bM(e)]}function yM(e){return sM[e].set_values[bM(e)]}function bM(e){return sM[e].defaultValue}function wM(e){return sM[e].values.length-1}function kM(e){var t=dM[iM];m_(t,"settings_value_focus"),m_(t+"_div","settings_div_focus"),EM(e)}function MM(){var e=dM[iM];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",h_(e,"settings_value_focus"),h_(e+"_div","settings_div_focus")}function CM(e){var t=dM[e];im(t,bM(t)+1),v_(t,gM(t)),EM(e),SM(e)}function EM(e){var t=dM[e],n=bM(t),a=wM(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function SM(e){"content_lang"===(e=dM[e])?yu=yM("content_lang"):"videos_animation"===e?WS=bM("videos_animation"):"force_disable_chat"===e?lu.Play_ChatForceDisable=bM("force_disable_chat"):"chat_font_size"===e?Hp():"clock_offset"===e&&(xM(),Df())}function xM(){var e=bM("clock_offset");Ku=e<48?-9e5*(48-e):9e5*(e-48)}function IM(e){var t;switch(e.keyCode){case Da:B_()?T_():A_()?U_():(cM(),j_());break;case Ga:0<bM(t=dM[iM])&&(sM[t].defaultValue-=1,CM(iM));break;case Ta:bM(t=dM[iM])<wM(t)&&(sM[t].defaultValue+=1,CM(iM));break;case La:0<iM&&(MM(),kM(--iM));break;case Ba:iM<rM-1&&(MM(),kM(++iM));break;case Pa:case Ea:case Ma:case Ca:case xa:case Sa:case Ia:case Oa:break;case Ha:zf(IM);break;case Ua:break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Xc,cM(),j_()}}var PM=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(o,""):e,n=[],a=0,i=0,s=0;s<t.length;)a=t.charCodeAt(s++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,o=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),GM=0,LM=0,TM=!1,BM=0,OM=!1,HM=0,UM=5,AM=3500,NM=[],DM=0,qM=!1,RM=!1,FM="",VM=!1,zM=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function JM(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Qc,lu.isLastSChannels=!1,c_("label_side_panel","icon-arrow-circle-left",I),m_("top_bar_user","icon_center_focus"),p_("top_bar_user",u+Q_($i[lu.Users_Position].name+Q)),document.body.addEventListener("keydown",aC,!1),FM!==$i[lu.Users_Position].name&&(RM=!1),RM?(lf(GM),__(zM[6]),S_(LM,GM,Ou,BM),tC(),Y_()):jM()}function XM(){h_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",aC),v_("top_bar_user",u),c_("label_side_panel","icon-ellipsis",Un),u_(zM[6])}function jM(){u_(zM[6]),g_(),G_(),FM=$i[lu.Users_Position].name,RM=!1,sf("stream_table_user_channels"),GM=LM=BM=DM=0,VM=TM=!1,Kf=!0,E_(),NM=[],YM(),WM()}function YM(){df(),OM=!0,HM=0,AM=3500}function WM(){var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent($i[lu.Users_Position].id)+"/follows/channels?limit=100&offset="+DM+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=AM,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ZM(e.responseText);KM()}},e.send(null)}function KM(){++HM<UM?(AM+=500,WM()):(OM=!1,BM?(TM=!0,eC()):(Kf=!1,y_(),P_(L)))}function ZM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel.name+","+t[i].channel._id+","+t[i].channel.logo+","+t[i].channel.display_name,-1===NM.indexOf(a)&&NM.push(a);DM+=n,YM(),WM()}else NM.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),$M()}function $M(){var e=Bu,t=BM,n=NM.length-t;n<e&&(e=n),e<Bu&&(TM=!0),qM=!(BM+=e);var a=e/Ou;0<e%Ou&&a++;for(var i,s,o,d=t,r=0;r<a;r++){for(s=t/Ou+r,o=document.createElement("tr"),i=0;i<Ou&&d<NM.length;i++,d++)o.appendChild(QM(s,s+"_"+i,NM[d].split(",")));for(;i<Ou;i++)TM&&!VM&&(VM=!0,BM=s*Ou+i),o.appendChild(_f(zM[5]+s+"_"+i));document.getElementById("stream_table_user_channels").appendChild(o)}eC()}function QM(e,t,n){return e<4&&uf(n[2]),ff(t,zM,n)}function eC(){Af(function(){RM?of(t_):(y_(),qM?P_(T+Q):(RM=!0,of(t_),tC(),Y_()),__(zM[6]),Kf=!1),OM=!1,S_(LM,GM,Ou,BM)})}function tC(){Ef(GM,LM,zM,Ou,BM),BM/Ou<GM+Hu&&!TM&&!OM&&(YM(),WM()),_u&&nC()}function nC(){BM&&Of(GM+"_"+LM,zM)}function aC(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(nC(),$f(aC));break;case Ga:if(V_(GM,LM-1,zM[0]))nC(),LM--,tC();else for(t=Ou-1;-1<t;t--)if(V_(GM-1,t,zM[0])){nC(),GM--,LM=t,tC();break}break;case Ta:V_(GM,LM+1,zM[0])?(nC(),LM++,tC()):V_(GM+1,0,zM[0])&&(nC(),GM++,LM=0,tC());break;case La:for(t=0;t<Ou;t++)if(V_(GM-1,LM-t,zM[0])){nC(),GM--,LM-=t,tC();break}break;case Ba:for(t=0;t<Ou;t++)if(V_(GM+1,LM-t,zM[0])){nC(),GM++,LM-=t,tC();break}break;case Pa:case Ea:jM();break;case Ma:lu.Main_Go=Vc,XM(),j_();break;case Ca:ms()&&$i[lu.Users_Position].access_token?lu.Main_Go=du:lu.Main_Go=Jc,XM(),j_();break;case xa:case Sa:case Ia:case Oa:lu.Main_selectedChannel=document.getElementById(zM[4]+GM+"_"+LM).getAttribute(Xu),lu.Main_selectedChannel_id=document.getElementById(zM[4]+GM+"_"+LM).getAttribute("data-id"),lu.Main_selectedChannelDisplayname=document.getElementById(zM[3]+GM+"_"+LM).textContent,lu.Main_selectedChannelLogo=document.getElementById(zM[1]+GM+"_"+LM).src,document.body.removeEventListener("keydown",aC),lu.Main_BeforeChannel=Qc,lu.Main_Go=Wc,lu.Main_BeforeChannelisSet=!0,nd=Ka=!0,u_(zM[6]),j_();break;case Ha:zf(aC);break;case Ua:XM(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=Qc,lu.Main_Go=Xc,XM(),j_()}}var iC=0,sC=0,oC=!1,dC=0,rC={},lC=[],cC=!1,uC=0,_C=5,fC=3500,mC=0,hC=0,pC=!1,vC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],gC=!1,yC="",bC=!1;function wC(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=zc,c_("label_side_panel","icon-arrow-circle-left",I),m_("top_bar_user","icon_center_focus"),p_("top_bar_user",u+Q_($i[lu.Users_Position].name+Z)),document.body.addEventListener("keydown",OC,!1),yC!==$i[lu.Users_Position].name&&(gC=!1),gC?(lf(iC),__(vC[10]),S_(sC,iC,Iu,dC),TC(),Y_()):MC()}function kC(){h_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",OC),v_("top_bar_user",u),c_("label_side_panel","icon-ellipsis",Un),u_(vC[10])}function MC(){u_(vC[10]),g_(),G_(),yC=$i[lu.Users_Position].name,gC=!1,sf("stream_table_user_host"),rC={},dC=hC=mC=0,iC=sC=0,oC=!(Kf=!(bC=!(lC=[]))),E_(),CC(),EC()}function CC(){df(),cC=!0,uC=0,fC=3500}function EC(){var e=new XMLHttpRequest,t=dC+mC;t&&hC-1<t&&(t=hC-xu,oC=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent($i[lu.Users_Position].name)+"/followed/hosting?limit="+xu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=fC,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void xC(e.responseText);SC()}},e.send(null)}function SC(){++uC<_C?(fC+=500,EC()):(cC=!1,dC?(oC=!0,IC()):(Kf=!1,y_(),P_(L)))}function xC(e){var t=JSON.parse(e),n=t.hosts.length;hC=parseInt(t._total),n<xu&&(oC=!0);var a=dC;pC=!(dC+=n);var i=n/Iu;0<n%Iu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Iu+u,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.hosts[c]).target._id+""+r._id,rC[l]?s--:(rC[l]=1,d.appendChild(pf(o,o+"_"+s,[r.target.channel.name,r.target._id],vC,[r.target.preview_urls.template.replace("{width}x{height}",Vu),r.display_name+ae+r.target.channel.display_name,r.target.title,r.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+q_(r.target.viewers)+F,""])));for(;s<Iu;s++)oC&&!bC&&(bC=!0,dC=o*Iu+s),d.appendChild(_f(vC[9]+o+"_"+s)),lC.push(vC[9]+o+"_"+s);document.getElementById("stream_table_user_host").appendChild(d)}IC()}function IC(){Af(function(){if(gC){if(of(n_),0<lC.length&&!oC)return CC(),void PC();S_(sC,iC,Iu,dC),lC=[]}else y_(),pC?P_(T+Z):(gC=!0,TC(),of(n_),Y_()),__(vC[10]),Kf=!1;cC=!1})}function PC(){var e=new XMLHttpRequest;I_(lC.length);var t=dC+mC;t&&hC-1<t&&(t=hC-Uu,oC=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent($i[lu.Users_Position].name)+"/followed/hosting?limit="+Uu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=fC,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void LC(e.responseText);GC()}},e.send(null)}function GC(){++uC<_C?(fC+=500,PC()):(oC=!0,dC-=lC.length,lC=[],IC())}function LC(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(hC=parseInt(a._total),i<Uu&&(oC=!0);s<lC.length&&o<i;s++,o++)n=(t=a.hosts[o]).target._id+""+t._id,rC[n]?s--:(rC[n]=1,vf(lC[s],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Vu),t.display_name+ae+t.target.channel.display_name,t.target.title,t.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+q_(t.target.viewers)+F,""],vC),d.push(s));for(s=d.length-1;-1<s;s--)lC.splice(d[s],1);mC+=o,oC&&(dC-=lC.length,lC=[]),IC()}function TC(){Sf(iC,sC,vC,Iu,dC),dC/Iu<iC+Pu&&!oC&&!cC&&(CC(),EC()),_u&&BC()}function BC(){dC&&Of(iC+"_"+sC,vC)}function OC(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(BC(),$f(OC));break;case Ga:if(V_(iC,sC-1,vC[0]))BC(),sC--,TC();else for(t=Iu-1;-1<t;t--)if(V_(iC-1,t,vC[0])){BC(),iC--,sC=t,TC();break}break;case Ta:V_(iC,sC+1,vC[0])?(BC(),sC++,TC()):V_(iC+1,0,vC[0])&&(BC(),iC++,sC=0,TC());break;case La:for(t=0;t<Iu;t++)if(V_(iC-1,sC-t,vC[0])){BC(),iC--,sC-=t,TC();break}break;case Ba:for(t=0;t<Iu;t++)if(V_(iC+1,sC-t,vC[0])){BC(),iC++,sC-=t,TC();break}break;case Pa:case Ea:MC();break;case Ma:lu.Main_Go=Jc,kC(),j_();break;case Ca:lu.Main_Go=Vc,kC(),j_();break;case xa:case Sa:case Ia:case Oa:If(iC+"_"+sC,vC,OC);break;case Ha:zf(OC);break;case Ua:kC(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=zc,lu.Main_Go=Xc,kC(),j_()}}var HC=0,UC=0,AC=!1,NC=0,DC={},qC=[],RC=!1,FC=0,VC=5,zC=3500,JC=0,XC=0,jC=0,YC=!1,WC=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],KC=!1,ZC="",$C="",QC=!1;function eE(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Vc,c_("label_side_panel","icon-arrow-circle-left",I),m_("top_bar_user","icon_center_focus"),p_("top_bar_user",u+Q_($i[lu.Users_Position].name+K)),document.body.addEventListener("keydown",pE,!1),$C!==$i[lu.Users_Position].name&&(KC=!1),KC?(lf(HC),__(WC[10]),S_(UC,HC,Iu,NC),mE(),Y_()):nE()}function tE(){h_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",pE),v_("top_bar_user",u),c_("label_side_panel","icon-ellipsis",Un),u_(WC[10])}function nE(){u_(WC[10]),g_(),G_(),KC=!1,$C=$i[lu.Users_Position].name,sf("stream_table_user_live"),XC=JC=jC=0,DC={},HC=UC=NC=0,AC=!(Kf=!(QC=!(qC=[]))),ZC="",E_(),aE(),iE()}function aE(){df(),RC=!0,FC=0,zC=3500}function iE(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent($i[lu.Users_Position].id)+"/follows/channels?limit=100&offset="+jC+"&sortby=created_at";if(Zu){if(!(e=Android.mreadUrl(t,zC,2,null)))return void sE();200===(e=JSON.parse(e)).status?oE(e.responseText):sE()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=zC,e.setRequestHeader(Du,Fu),e.setRequestHeader(Nu,Au),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void oE(e.responseText);sE()}},e.send(null)}function sE(){++FC<VC?(zC+=500,iE()):(RC=!1,NC?(AC=!0,cE()):(Kf=!1,y_(),P_(L)))}function oE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===ZC.indexOf(a)&&(ZC+=a);jC+=n,aE(),iE()}else ZC=ZC.slice(0,-1),aE(),dE()}function dE(){var e=NC+JC;e&&XC-1<e&&(e=XC-xu,AC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(ZC)+"&limit="+xu+"&offset="+e+"&stream_type=all";if(Zu){if(!(t=Android.mreadUrl(n,zC,2,null)))return void rE();200===(t=JSON.parse(t)).status?lE(t.responseText):rE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=zC,t.setRequestHeader(Du,Fu),t.setRequestHeader(Nu,Au),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void lE(t.responseText);rE()}},t.send(null)}function rE(){++FC<VC?(zC+=500,dE()):(RC=!1,y_(),P_(L))}function lE(e){var t=JSON.parse(e),n=t.streams.length;XC=parseInt(t._total),n<xu&&(AC=!0);var a=NC;YC=!(NC+=n);var i=n/Iu;0<n%Iu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Iu+u,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.streams[c]).channel._id,DC[l]?s--:(DC[l]=1,d.appendChild(pf(o,o+"_"+s,[r.channel.name,l],WC,[r.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+hv(r.created_at)+b+", "+v+q_(r.viewers)+F,R_(r.video_height,r.average_fps,r.channel.language)])));for(;s<Iu;s++)AC&&!QC&&(QC=!0,NC=o*Iu+s),d.appendChild(_f(WC[9]+o+"_"+s)),qC.push(WC[9]+o+"_"+s);document.getElementById("stream_table_user_live").appendChild(d)}cE()}function cE(){Af(function(){if(KC){if(of(n_),0<qC.length&&!AC)return aE(),void uE();S_(UC,HC,Iu,NC),qC=[]}else y_(),YC?P_(T+K):(KC=!0,mE(),of(n_),Y_()),__(WC[10]),Kf=!1;RC=!1})}function uE(){I_(qC.length);var e=NC+JC;e&&XC-1<e&&(e=XC-Uu,AC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(ZC)+"&limit="+Uu+"&offset="+e+"&stream_type=all";if(Zu){if(!(t=Android.mreadUrl(n,zC,2,null)))return void _E();200===(t=JSON.parse(t)).status?fE(t.responseText):_E()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=zC,t.setRequestHeader(Du,Fu),t.setRequestHeader(Nu,Au),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void fE(t.responseText);_E()}},t.send(null)}function _E(){++FC<VC?(zC+=500,uE()):(AC=!0,NC-=qC.length,qC=[],cE())}function fE(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(XC=parseInt(a._total),i<Uu&&(AC=!0);s<qC.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,DC[n]?s--:(DC[n]=1,vf(qC[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Vu),F_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+hv(t.created_at)+b+", "+v+q_(t.viewers)+F,R_(t.video_height,t.average_fps,t.channel.language)],WC),d.push(s));for(s=d.length-1;-1<s;s--)qC.splice(d[s],1);JC+=o,AC&&(NC-=qC.length,qC=[]),cE()}function mE(){Sf(HC,UC,WC,Iu,NC),NC/Iu<HC+Pu&&!AC&&!RC&&(aE(),iE()),_u&&hE()}function hE(){NC&&Of(HC+"_"+UC,WC)}function pE(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(hE(),$f(pE));break;case Ga:if(V_(HC,UC-1,WC[0]))hE(),UC--,mE();else for(t=Iu-1;-1<t;t--)if(V_(HC-1,t,WC[0])){hE(),HC--,UC=t,mE();break}break;case Ta:V_(HC,UC+1,WC[0])?(hE(),UC++,mE()):V_(HC+1,0,WC[0])&&(hE(),HC++,UC=0,mE());break;case La:for(t=0;t<Iu;t++)if(V_(HC-1,UC-t,WC[0])){hE(),HC--,UC-=t,mE();break}break;case Ba:for(t=0;t<Iu;t++)if(V_(HC+1,UC-t,WC[0])){hE(),HC++,UC-=t,mE();break}break;case Pa:case Ea:nE();break;case Ma:lu.Main_Go=zc,tE(),j_();break;case Ca:lu.Main_Go=Qc,tE(),j_();break;case xa:case Sa:case Ia:case Oa:If(HC+"_"+UC,WC,pE);break;case Ha:zf(pE);break;case Ua:tE(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=Vc,lu.Main_Go=Xc,tE(),j_()}}var vE=0,gE=0,yE=8,bE=0,wE=null,kE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],ME=!1,CE=!0;function EE(){return mu?(SE(),void Yi(mu)):bs()?(lu.Main_CenterLablesVectorPos=1,lu.Main_Go=$c,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",G_(),m_("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",RE,!1),void(ME?(lf(vE),__(kE[5]),TE(),Y_()):xE())):(lu.Main_Go=Dc,SE(),void j_())}function SE(){lu.Users_Position=0,h_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",RE),u_(kE[5]),document.getElementById("screens_holder").style.top="0"}function xE(){u_(kE[5]),g_(),G_(),Kf=!(ME=!1),sf("stream_table_user"),CE=!(vE=gE=0),IE()}function IE(){for(var e,t,n,a=document.createElement("tbody"),i=0;i<$i.length;i++)t=0,n=i%2?"B5B5B5":"FFFFFF",(vu=document.createElement("tr")).className="follower_header",vu.innerHTML='<div class="follower_header">'+$i[i].name+N+(i?"":oe)+"</div>",document.getElementById("stream_table_user").appendChild(a),document.getElementById("stream_table_user").appendChild(vu),(e=document.createElement("tr")).appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,Wb.isLive?$:zt,"gamepad",n)),t++,e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,Zt,"movie-play",n)),t++,e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,i?e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,se,"arrow-up",n)):e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(PE(i+"_"+t,lu.Main_selectedChannelDisplayname,$i[i].access_token?bt:yt,"key",n)),document.getElementById("stream_table_user").appendChild(e);GE()}function PE(e,t,n,a,i){return(vu=document.createElement("td")).setAttribute("id",kE[4]+e),vu.setAttribute(Xu,t),vu.className="stream_cell",vu.innerHTML='<div id="'+kE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+kE[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+kE[2]+e+'" class="stream_text"><div id="'+kE[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",vu}function GE(){Af(function(){ME||(y_(),ME=!0,TE(),Y_()),__(kE[5]),CE=Kf=!1})}function LE(){for(var e=0;e<$i.length;e++)v_(kE[3]+e+"_2",Wb.isLive?$:zt)}function TE(){m_(kE[0]+vE+"_"+gE,"stream_thumbnail_focused"),cf(vE)?1<vE?V_(vE+1,0,kE[0])&&Bf(kE[5],-1*document.getElementById(kE[4]+vE+"_"+gE).offsetTop+500):Bf(kE[5],screen.height/100*7):wf(),_u&&BE()}function BE(){uu=!1,h_(kE[0]+vE+"_"+gE,"stream_thumbnail_focused")}function OE(){if(lu.Users_Position=vE,3===gE&&!$i[lu.Users_Position].access_token)return P_(Sn),void window.setTimeout(G_,5e3);if(7===gE&&$i[lu.Users_Position].access_token)return P_(bt),void window.setTimeout(G_,1500);if(6!==gE&&(u_(kE[5]),document.body.removeEventListener("keydown",RE),document.getElementById("screens_holder").style.top="0"),gE){if(1===gE)wC();else if(2===gE)wb=Wb,Sb();else if(3===gE)rS();else if(4===gE)JM();else if(5===gE)vE?gs(vE):(lu.Main_Before=$c,ns());else if(6===gE)AE();else if(7===gE&&!$i[lu.Users_Position].access_token){lu.Users_AddcodePosition=lu.Users_Position,Y_();var e=ei,t="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Au)+"&redirect_uri="+e+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=t}}else eE()}function HE(){window.clearTimeout(wE)}function UE(){wE=window.setTimeout(NE,6e3)}function AE(){UE(),p_("main_dialog_remove",Ft+aa+$i[lu.Users_Position].name+"?"),__("main_remove_dialog")}function NE(){HE(),u_("main_remove_dialog"),bE=0,qE()}function DE(){return f_("main_remove_dialog")}function qE(){bE?(h_("remove_cancel","button_search_focused"),m_("remove_yes","button_search_focused")):(m_("remove_cancel","button_search_focused"),h_("remove_yes","button_search_focused"))}function RE(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:DE()?NE():B_()?T_():A_()?U_():(BE(),$f(RE));break;case Ga:if(DE())--bE<0&&(bE=1),qE(),HE(),UE();else if(V_(vE,gE-1,kE[0]))BE(),gE--,TE();else if(V_(vE-1,0,kE[0])){for(t=yE-1;-1<t;t--)if(V_(vE-1,t,kE[0])){BE(),vE--,gE=t,TE();break}}else BE(),gE=yE-1,TE();break;case Ta:DE()?(1<++bE&&(bE=0),qE(),HE(),UE()):(V_(vE,gE+1,kE[0])?(BE(),gE++):(V_(vE+1,0,kE[0])?(BE(),vE++):BE(),gE=0),TE());break;case La:for(t=0;t<yE;t++)if(V_(vE-1,gE-t,kE[0])){BE(),vE--,gE-=t,TE();break}break;case Ba:for(t=0;t<yE;t++)if(V_(vE+1,gE-t,kE[0])){BE(),vE++,gE-=t,TE();break}break;case Pa:case Ea:xE();break;case Ma:lu.Main_Before=$c,lu.Main_Go=ou,SE(),j_();break;case Ca:lu.Main_Before=$c,lu.Main_Go=Dc,SE(),j_();break;case xa:case Sa:case Ia:case Oa:if(DE()){var n=bE;NE(),n&&(document.body.removeEventListener("keydown",RE),SE(),ps(vE))}else OE();break;case Ha:zf(RE);break;case Ua:SE(),nf();break;case Aa:H_();break;case Na:lu.Main_BeforeSearch=$c,lu.Main_Go=Xc,SE(),j_()}}var FE=0,VE=0,zE=!1,JE=0,XE={},jE=[],YE=!1,WE=0,KE=5,ZE=3500,$E=0,QE=0,eS=!1,tS=!1,nS="time",aS=2,iS=!1,sS=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],oS=!1,dS=!1;function rS(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=du,m_("top_bar_user","icon_center_focus"),c_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",u+Q_($i[lu.Users_Position].name+(dS?U:H))),document.body.addEventListener("keydown",SS,!1),oS?(lf(FE),__(sS[10]),S_(VE,FE,Iu,JE),xS(),kS(),Y_()):cS()}function lS(){oS&&MS(),h_("top_bar_user","icon_center_focus"),c_("label_side_panel","icon-ellipsis",Un),document.body.removeEventListener("keydown",SS),v_("top_bar_user",u),u_(sS[10])}function cS(){oS&&MS(),u_(sS[10]),g_(),xS(),G_(),oS=!1,sf("stream_table_user_vod"),iS=!1,QE=$E=0,XE={},FE=VE=JE=0,zE=!(Kf=!(tS=!(jE=[]))),E_(),_S()}function uS(){df(),YE=!0,WE=0,ZE=3500}function _S(){uS(),fS()}function fS(){var e=JE+$E;e&&QE-1<e&&(e=QE-xu,zE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+xu+"&broadcast_type="+(dS?"highlight":"archive")+"&sort="+nS+"&offset="+e;if(Zu){if(!(t=Android.mreadUrl(n,ZE,3,Ru+$i[lu.Users_Position].access_token)))return void mS();if(200===(t=JSON.parse(t)).status)return void pS(t.responseText);401===t.status||403===t.status?ci(lu.Users_Position,0,_S,hS):mS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=ZE,t.setRequestHeader(Du,Fu),t.setRequestHeader(Nu,Au),t.setRequestHeader(qu,Ru+$i[lu.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void pS(t.responseText);401===t.status||403===t.status?ci(lu.Users_Position,0,_S,hS):mS()}},t.send(null)}function mS(){++WE<KE?(ZE+=500,fS()):hS()}function hS(){YE=!1,JE?(zE=!0,vS()):(Kf=!1,y_(),P_(L))}function pS(e){var t=JSON.parse(e),n=t.videos.length;QE=parseInt(t._total),n<xu&&(zE=!0);var a=JE;eS=!(JE+=n);var i=n/Iu;0<n%Iu&&i++;var s,o,d,r,l,c=0;if(!iS){var u;for(iS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+xn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+h,(vu=document.createElement("td")).setAttribute("id",sS[8]+"y_"+_),vu.className="stream_cell",vu.innerHTML='<div id="'+sS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+sS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(vu);document.getElementById("stream_table_user_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/Iu+_,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.videos[c])._id,-1!==(r.preview.template+"").indexOf("404_processing")||XE[l]?s--:(XE[l]=1,d.appendChild(ix(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[r.preview.template.replace("{width}x{height}",Vu),r.channel.display_name,D+ef(r.created_at),PM.parse(r.title)+aa+Wt+p+r.game,q_(r.views)+R,R_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),q+fv(r.length),r.animated_preview_url],sS)));for(;s<Iu;s++)zE&&!tS&&(tS=!0,JE=o*Iu+s),d.appendChild(_f(sS[9]+o+"_"+s)),jE.push(sS[9]+o+"_"+s);document.getElementById("stream_table_user_vod").appendChild(d)}vS()}function vS(){Af(function(){oS?of(n_):(y_(),eS?P_(T+(dS?U:H)+B+x):(oS=!0,kS(),of(n_),Y_()),__(sS[10]),Kf=!1),0<jE.length&&!zE?gS():(S_(VE,FE,Iu,JE),YE=!(jE=[]))})}function gS(){uS(),yS()}function yS(){I_(jE.length);var e=JE+$E;e&&QE-1<e&&(e=QE-Uu,zE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Uu+"&broadcast_type="+(dS?"highlight":"archive")+"&sort="+nS+"&offset="+e;if(Zu){if(!(t=Android.mreadUrl(n,ZE,3,Ru+$i[lu.Users_Position].access_token)))return void bS();if(200===(t=JSON.parse(t)).status)return void wS(t.responseText);401===t.status||403===t.status?ci(lu.Users_Position,0,_S,hS):bS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=ZE,t.setRequestHeader(Du,Fu),t.setRequestHeader(Nu,Au),t.setRequestHeader(qu,Ru+$i[lu.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void wS(t.responseText);401===t.status||403===t.status?ci(lu.Users_Position,0,_S,hS):bS()}},t.send(null)}function bS(){++WE<KE?(ZE+=500,yS()):(zE=!0,JE-=jE.length,jE=[],vS())}function wS(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for(QE=parseInt(a._total);s<jE.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||XE[n]?s--:(XE[n]=1,ox(jE[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Vu),t.channel.display_name,D+ef(t.created_at),PM.parse(t.title)+aa+Wt+p+t.game,q_(t.views)+R,R_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),q+fv(t.length),t.animated_preview_url],sS),d.push(s));for(s=d.length-1;-1<s;s--)jE.splice(d[s],1);$E+=o,zE&&(JE-=jE.length,jE=[]),vS()}function kS(){FE<0?CS():(Sf(FE,VE,sS,Iu,JE),px(sS,FE+"_"+VE),JE/Iu<FE+Pu&&!zE&&!YE&&_S(),_u&&MS())}function MS(){window.clearInterval(IS),-1<FE&&JE?(__(sS[1]+FE+"_"+VE),Of(FE+"_"+VE,sS)):ES()}function CS(){var e=1<VE?1:VE;m_(sS[0]+"y_"+e,Ju)}function ES(){var e=1<VE?1:VE;h_(sS[0]+"y_"+e,Ju)}function SS(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:B_()?T_():B_()?T_():A_()?U_():(MS(),$f(SS));break;case Ga:if(-1===FE)ES(),--VE<0&&(VE=1),CS();else if(FE||VE){if(V_(FE,VE-1,sS[0]))MS(),VE--,kS();else for(t=Iu-1;-1<t;t--)if(V_(FE-1,t,sS[0])){MS(),FE--,VE=t,kS();break}}else MS(),ES(),FE=-1,VE=1,CS();break;case Ta:-1===FE?(ES(),1<++VE?(VE=0,eS?CS():(FE=0,kS())):CS()):V_(FE,VE+1,sS[0])?(MS(),VE++,kS()):V_(FE+1,0,sS[0])&&(MS(),FE++,VE=0,kS());break;case La:if(-1!==FE||eS)if(FE){for(t=0;t<Iu;t++)if(V_(FE-1,VE-t,sS[0])){MS(),FE--,VE-=t,kS();break}}else MS(),FE=-1,CS();else FE=0,ES(),kS();break;case Ba:if(-1!==FE||eS){for(t=0;t<Iu;t++)if(V_(FE+1,VE-t,sS[0])){MS(),FE++,VE-=t,kS();break}}else FE=0,ES(),kS();break;case Ma:lu.Main_Go=Qc,lS(),j_();break;case Ca:lu.Main_Go=Jc,lS(),j_();break;case Pa:case Ea:im("UserVod_highlight",(dS=!dS)?"true":"false"),cS();break;case xa:case Sa:case Ia:case Oa:-1===FE?(0===VE?im("UserVod_highlight",(dS=!dS)?"true":"false"):1===aS?aS++:aS--,cS()):Lf(FE+"_"+VE,sS,SS);break;case Ha:zf(SS);break;case Ua:lS(),nf();break;case Aa:1===aS?aS++:aS--,cS();break;case Na:lu.Search_isSearching||(lu.Main_BeforeSearch=du),lu.Main_Go=Xc,lS(),j_()}}function xS(){1===aS?(p_("top_bar_user",u+Q_($i[lu.Users_Position].name+" "+(dS?U:H)+Cn)),nS="time"):2===aS&&(p_("top_bar_user",u+Q_($i[lu.Users_Position].name+" "+(dS?U:H)+En)),nS="views"),im("UserVod_TypeNumber",aS)}var IS,PS=0,GS=0,LS=!1,TS=0,BS={},OS=[],HS=!1,US=0,AS=5,NS=3500,DS=0,qS=0,RS=!1,FS=!1,VS="week",zS=2,JS=!1,XS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],jS=!1,YS=!1,WS=1,KS=new Image;function ZS(){lu.Main_CenterLablesVectorPos=4,lu.Main_Go=nu,m_("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",vx,!1),jS?(lf(PS),__(XS[10]),S_(GS,PS,Iu,TS),gx(),_x(),Y_()):QS()}function $S(){jS&&fx(),Z_(),document.body.removeEventListener("keydown",vx),h_("top_bar_vod","icon_center_focus"),v_("top_bar_vod",Zt),u_(XS[10])}function QS(){jS&&fx(),u_(XS[10]),g_(),gx(),G_(),jS=!1,sf("stream_table_vod"),JS=!1,qS=DS=0,BS={},PS=GS=TS=0,LS=!(Kf=!(FS=!(OS=[]))),E_(),ex(),tx()}function ex(){df(),HS=!0,US=0,NS=3500}function tx(){var e=TS+DS;e&&qS-1<e&&(e=qS-xu,LS=!0),cm("https://api.twitch.tv/kraken/videos/top?limit="+xu+"&broadcast_type="+(YS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+VS+(""!==yu?"&language="+yu:""),NS,2,null,ax,nx)}function nx(){++US<AS?(NS+=500,tx()):(HS=!1,TS?(LS=!0,rx()):(Kf=!1,y_(),P_(L)))}function ax(e){var t=JSON.parse(e),n=t.vods.length;qS=parseInt(t._total),n<xu&&(LS=!0);var a=TS;RS=!(TS+=n);var i=n/Iu;0<n%Iu&&i++;var s,o,d,r,l,c=0;if(!JS){var u;for(JS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+h,(vu=document.createElement("td")).setAttribute("id",XS[8]+"y_"+_),vu.className="stream_cell",vu.innerHTML='<div id="'+XS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+XS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(vu);document.getElementById("stream_table_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/Iu+_,d=document.createElement("tr"),s=0;s<Iu&&c<n;s++,c++)l=(r=t.vods[c])._id,-1!==(r.preview.template+"").indexOf("404_processing")||BS[l]?s--:(BS[l]=1,d.appendChild(ix(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[r.preview.template.replace("{width}x{height}",Vu),r.channel.display_name,D+ef(r.created_at),PM.parse(r.title)+aa+Wt+p+r.game,q_(r.views)+R,R_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),q+fv(r.length),r.animated_preview_url],XS)));for(;s<Iu;s++)LS&&!FS&&(FS=!0,TS=o*Iu+s),d.appendChild(_f(XS[9]+o+"_"+s)),OS.push(XS[9]+o+"_"+s);document.getElementById("stream_table_vod").appendChild(d)}rx()}function ix(e,t,n,a,i){return e<Iu&&uf(a[0]),sx(n,t,a,i)}function sx(e,t,n,a){return(vu=document.createElement("td")).setAttribute("id",a[8]+t),vu.setAttribute(Xu,JSON.stringify(e)),vu.className="stream_cell",vu.innerHTML=dx(t,n,a),vu}function ox(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Xu,JSON.stringify(t)),i.innerHTML=dx(s,n,a),i.setAttribute("id",a[8]+s)}function dx(e,t,n){return rf(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function rx(){Af(function(){if(jS?of(n_):(y_(),RS?P_(T+(YS?U:H)+B+x):(jS=!0,_x(),of(n_),Y_()),__(XS[10]),Kf=!1),0<OS.length&&!LS)return ex(),void lx();S_(GS,PS,Iu,TS),HS=!(OS=[])})}function lx(){I_(OS.length);var e=TS+DS;e&&qS-1<e&&(e=qS-Uu,LS=!0),cm("https://api.twitch.tv/kraken/videos/top?limit="+Uu+"&broadcast_type="+(YS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+VS+(""!==yu?"&language="+yu:""),NS,2,null,ux,cx)}function cx(){++US<AS?(NS+=500,lx()):(LS=!0,TS-=OS.length,OS=[],rx())}function ux(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(qS=parseInt(a._total);s<OS.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||BS[n]?s--:(BS[n]=1,ox(OS[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Vu),t.channel.display_name,D+ef(t.created_at),PM.parse(t.title)+aa+Wt+p+t.game,q_(t.views)+R,R_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),q+fv(t.length),t.animated_preview_url],XS),d.push(s));for(s=d.length-1;-1<s;s--)OS.splice(d[s],1);DS+=o,LS&&(TS-=OS.length,OS=[]),rx()}function _x(){PS<0?mx():(Sf(PS,GS,XS,Iu,TS),px(XS,PS+"_"+GS),TS/Iu<PS+Pu&&!LS&&!HS&&(ex(),tx()),_u&&fx())}function fx(){window.clearInterval(IS),-1<PS&&TS?(__(XS[1]+PS+"_"+GS),Of(PS+"_"+GS,XS)):hx()}function mx(){var e=1<GS?1:GS;m_(XS[0]+"y_"+e,Ju)}function hx(){var e=1<GS?1:GS;h_(XS[0]+"y_"+e,Ju)}function px(t,n){if(WS){var a=document.getElementById(t[0]+n);KS.onload=function(){u_(t[1]+n),a.style.backgroundSize="612px";var e=0;IS=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},KS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function vx(e){var t;if(!Kf&&!Cf())switch(Mf(),e.keyCode){case Da:A_()?U_():B_()?T_():(fx(),$f(vx));break;case Ga:if(-1===PS)hx(),--GS<0&&(GS=1),mx();else if(PS||GS){if(V_(PS,GS-1,XS[0]))fx(),GS--,_x();else for(t=Iu-1;-1<t;t--)if(V_(PS-1,t,XS[0])){fx(),PS--,GS=t,_x();break}}else fx(),hx(),PS=-1,GS=1,mx();break;case Ta:-1===PS?(hx(),1<++GS?(GS=0,RS?mx():(PS=0,_x())):mx()):V_(PS,GS+1,XS[0])?(fx(),GS++,_x()):V_(PS+1,0,XS[0])&&(fx(),PS++,GS=0,_x());break;case La:if(-1!==PS||RS)if(PS){for(t=0;t<Iu;t++)if(V_(PS-1,GS-t,XS[0])){fx(),PS--,GS-=t,_x();break}}else fx(),PS=-1,mx();else PS=0,hx(),_x();break;case Ba:if(-1!==PS||RS){for(t=0;t<Iu;t++)if(V_(PS+1,GS-t,XS[0])){fx(),PS++,GS-=t,_x();break}}else PS=0,hx(),_x();break;case Ma:lu.Main_Before=nu,lu.Main_Go=au,$S(),j_();break;case Ca:lu.Main_Before=nu,lu.Main_Go=Rc,$S(),j_();break;case Pa:case Ea:im("Vod_highlight",(YS=!YS)?"true":"false"),QS();break;case xa:case Sa:case Ia:case Oa:-1===PS?(0===GS?im("Vod_highlight",(YS=!YS)?"true":"false"):4<++zS&&(zS=1),QS()):Lf(PS+"_"+GS,XS,vx);break;case Ha:zf(vx);break;case Ua:$S(),nf();break;case Aa:4<++zS&&(zS=1),QS();break;case Na:lu.Search_isSearching||(lu.Main_BeforeSearch=nu),lu.Main_Go=Xc,$S(),j_()}}function gx(){1===zS?(p_("top_bar_vod",Zt+Q_((YS?U:H)+re)),VS="day"):2===zS?(p_("top_bar_vod",Zt+Q_((YS?U:H)+le)),VS="week"):3===zS?(p_("top_bar_vod",Zt+Q_((YS?U:H)+ce)),VS="month"):4===zS&&(p_("top_bar_vod",Zt+Q_((YS?U:H)+ue)),VS="all"),im("vod_periodNumber",zS)}