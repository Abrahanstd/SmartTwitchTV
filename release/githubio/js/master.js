var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,C,A,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,J,F,H,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Ae,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Je,Fe,He,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,At,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Jt,Ft,Ht,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,An,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Jn,Fn,Hn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa,da,la,ra="fglfgl27@gmail.com",ca="<br>",ua='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',_a='<div class="about_text_title">',fa='<div class="about_text_title" style="text-align: left;">',ma='<div style="text-align: left;">',ha="",pa="",va="",ga="",ya="",ba="",wa="",ka="",Ca="",Aa="&nbsp;";function Ea(){ha=e+" (C)",pa=n+" (D)",ga=a+" (A)",va=i+" (A)",l+=Zt,r+=Zt,I=ia+oa,ya=_a+e+"</div>"+_a+Ae+"</div>"+ca+ma+ua+xe+ca+ua+(Pe+=Yt)+ca+ua+Le+ca+ua+Te+ca+Be+ca+ua+Oe+ca+Aa+Aa+Aa+Ge+ca+ua+Ue+ca+"</div>"+ca+(ka=_a+ke+"</div>"+ma+ua+nt+ca+ua+$e+ca+ua+et+ca+"</div>"+ma+ua+tt+ca+ua+at+ca+ua+it+ca+ca+_a+Ce+"</div>"+ma+ua+ot+ca+ua+st+ca+ua+dt+ca+ua+lt+ca+ua+rt)+ca+ca+_a+we+"</div>",ba=_a+be+"</div></div>",wa=ma+ca+Re+ca+(mc?ca+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+ca+_a+Ne+"</div>"+ra+ca+ca+Ve+ca+De+ca+ca+fa+Je+"</div>"+ma+We+ca+ua+Fe+ca+ua+He+ca+ua+qe+ca+ua+ze+ca+ua+Xe+ca+ua+Ye+ca+ua+je+ca+Qe+ca+ua+Ze+ca+ua+Ke+ca+_a+we+"</div></div>",Ca=mt+ca+ua+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+ca+ua+pt+ca+ua+vt+ca+ua+gt+ca+ua+yt}function Ma(){Zc=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",C="Type your user name...",A="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ce="Chat Related:",Ae="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",Ct="Key test return OK",At="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+ca+"Chat: Connected."+ca+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",Cn=(kn="From:"+ca)+"Start",An="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness ",sa="Play Next",la="Playing next in ",da="Play All"}var Ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Pa="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",La=51,Ta=52,Ba=179,Oa=37,Ga=38,Ua=39,Ra=40,Na=13,Va=49,Da=8,Ja=13,Fa=32,Ha=46,qa=0,za=5,Xa=1e4,Ya=0,ja=!1,Wa=!1,Qa=!1,Za="",Ka="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",$a="elsu5d09k0xomu7cggx3qg5ybdwu7g",ei="https://id.twitch.tv/oauth2/token?";function ti(e){Jc.Users_Position=Jc.Users_AddcodePosition,Ya=e,Mi(),Zu(),si()}function ni(e,t,n,a){var i=new XMLHttpRequest,o=ei+"grant_type=refresh_token&client_id="+encodeURIComponent(pu)+"&client_secret="+encodeURIComponent($a)+"&refresh_token="+encodeURIComponent(Xi[e].refresh_token)+"&redirect_uri="+Ka;i.open("POST",o,!0),i.timeout=Xa,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ii(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(ri(),a&&a()):ai(e,t,n,a))},i.send(null)}function ai(e,t,n,a){++t<5?ni(e,t,n,a):a&&a()}function ii(e,t,n){var a=JSON.parse(e);oi(a.scope)?(Xi[t].access_token=a.access_token,Xi[t].refresh_token=a.refresh_token,_o()):ri(),n&&n()}function oi(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function si(){var e=ei+"grant_type=authorization_code&client_id="+encodeURIComponent(pu)+"&client_secret="+encodeURIComponent($a)+"&code="+encodeURIComponent(Ya)+"&redirect_uri="+Ka,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Xa,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?ci(t.responseText):di())},t.send(null)}function di(){++qa<za?si():li()}function li(){Ku(),l_(Lt),window.setTimeout(function(){r_(),Xc=0,M_(),Jc.Main_Go=Lc,window.location=Ka},4e3),Xi[Jc.Users_Position].access_token=0,Xi[Jc.Users_Position].refresh_token=0,_o()}function ri(){XM=!1,Ku(),l_(Lt),Xi[Jc.Users_Position].access_token=0,Xi[Jc.Users_Position].refresh_token=0,_o(),M_(),window.setTimeout(r_,4e3)}function ci(e){var t=JSON.parse(e);Xi[Jc.Users_Position].access_token=t.access_token,Xi[Jc.Users_Position].refresh_token=t.refresh_token,Mi(),ui()}function ui(){qf("https://api.twitch.tv/kraken?oauth_token="+Xi[Jc.Users_Position].access_token,Xa,0,null,_i,fi)}function _i(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Xi[Jc.Users_Position].name)){if(_o(),Xc=0,Ku(),XM=!1,Jc.Main_Go=Lc,M_(),l_(wt),Tu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Ka},3e3)}else Xi[Jc.Users_Position].access_token=0,Xi[Jc.Users_Position].refresh_token=0,l_(Gn+Xi[Jc.Users_Position].name),window.setTimeout(function(){r_(),Xc=0,M_(),Jc.Main_Go=Lc,window.location=Ka},4e3)}function fi(){++qa<za?(Xa+=500,ui()):li()}function mi(){Mi(),ja=!1,hi()}function hi(){var e="https://api.twitch.tv/kraken/users/"+Xi[Jc.Users_Position].id+"/follows/channels/"+Za,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Xa,t.setRequestHeader(vu,pu),t.setRequestHeader(gu,wu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?pi():404===t.status?vi(t.responseText):gi())},t.send(null)}function pi(){ja=!0,Qa?wg():Id()}function vi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ja=!1,Qa?wg():Id()):gi()}function gi(){++qa<za?(Xa+=500,hi()):Qa?wg():Id()}function yi(){Mi(),bi()}function bi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Xi[Jc.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(vu,pu),e.setRequestHeader(gu,wu),e.setRequestHeader("Authorization","OAuth "+Xi[Jc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ja=!0,void(Qa?wg():Id());401===e.status||403===e.status?ni(Jc.Users_Position,0,yi,null):wi()}},e.send(null)}function wi(){++qa<za&&(Xa+=500,bi())}function ki(){Mi(),Ci()}function Ci(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Xi[Jc.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(vu,pu),e.setRequestHeader(gu,wu),e.setRequestHeader("Authorization","OAuth "+Xi[Jc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ja=!1,void(Qa?wg():Id());401===e.status||403===e.status?ni(Jc.Users_Position,0,ki,null):Ai()}},e.send(null)}function Ai(){++qa<za&&(Xa+=500,Ci())}function Ei(){Mi(),Wa=!1,Ii()}function Mi(){qa=0,Xa=1e4}function Ii(){var e,t="https://api.twitch.tv/kraken/users/"+Xi[Jc.Users_Position].id+"/subscriptions/"+Za;if(Tu){if(!(e=Android.mreadUrl(t,Xa,3,Xi[Jc.Users_Position].access_token)))return void Si();if(200===(e=JSON.parse(e)).status)Wa=!0,By();else if(422===e.status)Wa=!1,Ty();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Ty();Si()}else 401===e.status||403===e.status?ni(Jc.Users_Position,0,Ei,xi):Si()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Xa,e.setRequestHeader(vu,pu),e.setRequestHeader(gu,wu),e.setRequestHeader("Authorization","OAuth "+Xi[Jc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Wa=!0,By();else if(422===e.status)Wa=!1,Ty();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Ty();Si()}else 401===e.status||403===e.status?ni(Jc.Users_Position,0,Ei,xi):Si()},e.send(null)}function Si(){++qa<za?(Xa+=500,Ii()):xi()}function xi(){Wa=!1,Ty()}function Pi(e){Mi(),Li(e,0)}function Li(e,t){var n,a="https://api.twitch.tv/kraken?oauth_token="+Xi[e].access_token;if(Tu){if(!(n=Android.mreadUrl(a,3500,0,null)))return void Bi(e,t);200===(n=JSON.parse(n)).status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t)}else(n=new XMLHttpRequest).open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t))},n.send(null)}function Ti(e,t){var n=JSON.parse(e);n.token.valid?oi(n.token.authorization.scopes)||ri():(Mi(),ni(t,0,null,null))}function Bi(e,t){++t<za&&Li(e,t)}function Oi(){Mi(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Xi[Jc.Users_Position].name+"/follows/games/"+encodeURIComponent(Jc.Main_gameSelected)+"?oauth_token="+Xi[Jc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(vu,pu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return To=!0,void qo();401===e.status||403===e.status?ni(Jc.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++qa<za&&(Xa+=500,Gi())}function Ri(){Mi(),Ni()}function Ni(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Xi[Jc.Users_Position].name+"/follows/games/"+encodeURIComponent(Jc.Main_gameSelected)+"?oauth_token="+Xi[Jc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(vu,pu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return To=!1,void qo();401===e.status||403===e.status?ni(Jc.Users_Position,0,Ri,null):Vi()}},e.send(null)}function Vi(){++qa<za&&(Xa+=500,Ni())}function Di(){Mi(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Xi[Jc.Users_Position].name+"/follows/games/"+encodeURIComponent(Jc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(vu,pu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(To=!0,void qo()):404===e.status?(To=!1,void qo()):void Fi()},e.send(null)}function Fi(){++qa<za?(Xa+=500,Ji()):(To=!1,qo())}var Hi=0,qi=5,zi=3500,Xi=[],Yi=null,ji=!1,Wi=!1;function Qi(){Jc.Main_Go=yc,Xu("top_bar_user","icon_center_focus"),r_(),lc.placeholder=C,qu("add_user_scroll"),$i()}function Zi(){to(!1),document.body.removeEventListener("keydown",Ki),document.body.removeEventListener("keydown",no),Yu("top_bar_user","icon_center_focus"),Hu("add_user_scroll")}function Ki(e){if(!ji&&!Wi&&Jc.Main_Go===yc)switch(e.keyCode){case Va:__()?u_():p_()?h_():(0<Xi.length&&Jc.Main_Go!==Lc?Jc.Main_Go=Jc.Main_Before:Jc.Main_Go=gc,Zi(),A_());break;case Ta:case La:case Ba:case Na:$i()}}function $i(){document.body.removeEventListener("keydown",Ki),document.body.addEventListener("keydown",no,!1),lc.placeholder=C,lc.focus(),Wi=!0}function eo(){if(null!==lc){var e=lc.cloneNode(!0);lc.parentNode.replaceChild(e,lc),lc=document.getElementById("user_input")}}function to(e){lc.blur(),eo(),document.body.removeEventListener("keydown",no),lc.placeholder=A+C,e&&document.body.addEventListener("keydown",Ki,!1),Wi=!1}function no(e){if(!ji&&Jc.Main_Go===yc)switch(e.keyCode){case Va:__()?u_():p_()?h_():(0<Xi.length&&Jc.Main_Go!==Lc?Jc.Main_Go=Jc.Main_Before:Jc.Main_Go=gc,Zi(),A_());break;case Ha:lc.value="";break;case Ja:case Ra:""!==lc.value&&null!==lc.value?mo(Yi=lc.value)?(Ku(),l_(u+Yi+ae),window.setTimeout(function(){r_(),$i()},1500)):(zi=3500,ji=!(Hi=0),Hu("add_user_scroll"),Zu(),ao()):$i();break;case Da:lc.value=lc.value.slice(0,-1);break;case Fa:lc.value+=" "}}function ao(){qf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Yi),zi,2,null,io,oo)}function io(e){JSON.parse(e)._total?(lc.value="",document.body.removeEventListener("keydown",Ki),co(e)):so()}function oo(){++Hi<qi?(zi+=500,ao()):so()}function so(){Yi=null,Ku(),l_(te),window.setTimeout(function(){Qi()},1e3),ji=!1}function lo(){if(0<(Xi=Df("AddUser_UsernameArray",[])).length)for(var e=0;e<Xi.length;e++)Xi[e].access_token&&Pi(e)}function ro(){return 0<Xi.length}function co(e){Yi=JSON.parse(e).users[0],Xi.push({name:Yi.name,id:Yi._id,access_token:0,refresh_token:0}),_o(),XM=!1,Zi(),jM(),ji=!1}function uo(e){var t=Xi.indexOf(Xi[e]);-1<t&&Xi.splice(t,1),0<Xi.length?(XM=!1,jM()):Qi(),_o()}function _o(){Nf("AddUser_UsernameArray",JSON.stringify(Xi))}function fo(e){Yi=Xi[0],Xi[0]=Xi[e],Xi[e]=Yi,XM=!1,jM(),_o()}function mo(e){return-1!==Xi.indexOf(e)}function ho(){return 0<Xi.length}var po=0,vo=0,go=!1,yo=0,bo={},wo=[],ko=!1,Co=0,Ao=5,Eo=3500,Mo=0,Io=0,So=!1,xo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Po=!1,Lo=!1,To=!1,Bo=!1,Oo=!1;function Go(){Jc.Main_CenterLablesVectorPos=3,Jc.Main_Go=wc,document.body.addEventListener("keydown",ts,!1),Xu("top_bar_game","icon_center_focus"),Fu("label_side_panel","icon-arrow-circle-left",I),Jc.Search_isSearching&&(P_(),ju("top_bar_user",n+L_(f+" '"+Jc.Search_data+"'"))),ju("top_bar_game",b+L_(_+": "+Jc.Main_gameSelected)),Jc.Main_OldgameSelected===Jc.Main_gameSelected&&Po?(V_(po),qu(xo[10]),Zo(),M_()):Ro()}function Uo(){Po&&-1===po&&(es(),vo=po=0,Xu(xo[0]+"0_"+vo,Au)),Fu("label_side_panel","icon-ellipsis",Rn),ju("top_bar_game",f),document.body.removeEventListener("keydown",ts),Yu("top_bar_game","icon_center_focus"),Hu(xo[10])}function Ro(){null===Jc.Main_OldgameSelected&&(Jc.Main_OldgameSelected=Jc.Main_gameSelected),G_("stream_table_a_game"),Hu(xo[10]),Zu(),r_(),Oo=Po=!1,bo={},Pf=!(yo=Io=Mo=0),po=vo=0,go=Lo=!(wo=[]),i_(),No(),Vo()}function No(){R_(),ko=!0,Co=0,Eo=3500}function Vo(){var e=yo+Mo;e&&Io-1<e&&(e=Io-su,go=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Jc.Main_gameSelected)+"&limit="+su+"&offset="+e+(""!==Kc?"&broadcaster_language="+Kc:"");Tu&&!yo?Xf(t,Eo,2,null,Jo,Do):Yf(t,Eo,2,null,Jo,Do,!1)}function Do(){++Co<Ao?(Eo+=500,Vo()):(ko=!1,yo?(go=!0,Fo()):(Pf=!1,Ku(),l_(P)))}function Jo(e){var t=JSON.parse(e),n=t.streams.length;Io=parseInt(t._total),n<su&&(go=!0);var a=yo;So=!(yo+=n);var i=n/du;0<n%du&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!Oo){var f;for(Oo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+Aa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+Kt,(Qc=document.createElement("td")).setAttribute("id",xo[8]+"y_"+l),Qc.className="stream_cell",Qc.innerHTML='<div id="'+xo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+xo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Qc);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/du+l,d=document.createElement("tr"),o=0;o<du&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,bo[c]?o--:(bo[c]=1,d.appendChild(X_(s,s+"_"+o,[r.channel.name,c],xo,[r.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+rv(r.created_at)+" "+h+v_(r.viewers)+J,g_(r.video_height,r.average_fps,r.channel.broadcaster_language)])));for(;o<du;o++)go&&!Lo&&(Lo=!0,yo=s*du+o),d.appendChild(F_(xo[9]+s+"_"+o)),wo.push(xo[9]+s+"_"+o);_.appendChild(d)}Fo()}function Fo(){if(Po){if(U_(xa),0<wo.length&&!go)return No(),void jo();Zo(!0),wo=[]}else Ho(),So?(l_(L+Z),po=-1,$o()):(Po=!0,U_(xa),Zo(),M_()),qu(xo[10]),Pf=!1,Ku();ko=!1}function Ho(){Bo?(To=!0,qo()):ro()?Di():(To=!1,qo())}function qo(){ju(xo[3]+"y_2",To?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Aa+Aa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Aa+Aa+(ro()?It:Tt))}function zo(){ro()&&Xi[Jc.Users_Position].access_token?To?Ri():Oi():(l_(Bt),window.setTimeout(function(){So&&Jc.Main_Go===wc?l_(L+Z):r_()},2e3))}function Xo(){vo?1===vo?(Jc.Main_Go=Rc,Jc.Main_OldgameSelected=Jc.Main_gameSelected,Yo(),E_()):zo():(Jc.Main_Go=Uc,Jc.Main_OldgameSelected=Jc.Main_gameSelected,Yo(),E_())}function Yo(){Po&&-1===po&&(es(),vo=po=0,Xu(xo[0]+"0_"+vo,Au)),document.body.removeEventListener("keydown",ts),Hu(xo[10])}function jo(){d_(wo.length);var e=yo+Mo;e&&Io-1<e&&(e=Io-hu,go=!0),qf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Jc.Main_gameSelected)+"&limit="+hu+"&offset="+e+(""!==Kc?"&broadcaster_language="+Kc:""),Eo,2,null,Qo,Wo)}function Wo(){++Co<Ao?(Eo+=500,jo()):(go=!0,yo-=wo.length,wo=[],Fo())}function Qo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Io=parseInt(a._total),i<hu&&(go=!0);o<wo.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,bo[n]?o--:(bo[n]=1,Y_(wo[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+rv(t.created_at)+" "+h+v_(t.viewers)+J,g_(t.video_height,t.average_fps,t.channel.broadcaster_language)],xo),d.push(o));for(o=d.length-1;-1<o;o--)wo.splice(d[o],1);Mo+=s,go&&(yo-=wo.length,wo=[]),Fo()}function Zo(e){po<0?$o():(nf(po,vo,xo,du,yo,e),yo/du<po+lu&&!go&&!ko&&(No(),Vo()),qc&&Ko())}function Ko(){-1<po&&yo?_f(po+"_"+vo,xo):es()}function $o(){Xu(xo[0]+"y_"+vo,Au)}function es(){Yu(xo[0]+"y_"+vo,Au)}function ts(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(Jc.Main_OldgameSelected=Jc.Main_gameSelected,Ko(),es(),Tf(ts));break;case Oa:if(-1===po)es(),--vo<0&&(vo=2),$o();else if(po||vo){if(b_(po,vo-1,xo[0]))Ko(),vo--,Zo();else for(t=du-1;-1<t;t--)if(b_(po-1,t,xo[0])){Ko(),po--,vo=t,Zo();break}}else Ko(),es(),po=-1,vo=2,$o();break;case Ua:-1===po?(es(),2<++vo?(vo=0,So?$o():(po=0,Zo())):$o()):b_(po,vo+1,xo[0])?(Ko(),vo++,Zo()):b_(po+1,0,xo[0])&&(Ko(),po++,vo=0,Zo());break;case Ga:if(-1!==po||So)if(po){for(t=0;t<du;t++)if(b_(po-1,vo-t,xo[0])){Ko(),po--,vo-=t,Zo();break}}else Ko(),po=-1,$o();else po=0,es(),Zo();break;case Ra:if(-1!==po||So){for(t=0;t<du;t++)if(b_(po+1,vo-t,xo[0])){Ko(),po++,vo-=t,Zo();break}}else po=0,es(),Zo();break;case Ta:case La:case Ba:case Na:-1!==po?sf(po+"_"+vo,xo,ts):Xo()}}var ns=0,as=0,is=!1,os=0,ss={},ds=[],ls=!1,rs=0,cs=5,us=3500,_s=0,fs=0,ms=!1,hs=!1,ps="week",vs=2,gs=!1,ys=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],bs=!1,ws=!1,ks="";function Cs(){Jc.Main_CenterLablesVectorPos=3,Jc.Main_Go=Uc,Xu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ns,!1),Fu("label_side_panel","icon-arrow-circle-left",I),ks===Jc.Main_gameSelected&&bs?(V_(ns),qu(ys[10]),Vs(),Os(),M_()):Es()}function As(){bs&&Gs(),document.body.removeEventListener("keydown",Ns),Yu("top_bar_game","icon_center_focus"),ju("top_bar_game",f),Fu("label_side_panel","icon-ellipsis",Rn),Hu(ys[10])}function Es(){bs&&Gs(),G_("stream_table_a_game_vod"),Hu(ys[10]),Zu(),Vs(),ks=Jc.Main_gameSelected,r_(),gs=bs=!1,Pf=!(hs=!(ds=[])),ns=as=os=fs=_s=0,is=!(ss={}),i_(),Ms(),Is()}function Ms(){R_(),ls=!0,rs=0,us=3500}function Is(){var e=os+_s;e&&fs-1<e&&(e=fs-su,is=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Jc.Main_gameSelected)+"&limit="+su+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==Kc?"&language="+Kc:"");Tu&&!os?Xf(t,us,2,null,xs,Ss):Yf(t,us,2,null,xs,Ss,!1)}function Ss(){++rs<cs?(us+=500,Is()):(ls=!1,os?(is=!0,Ps()):(Pf=!1,Ku(),l_(P)))}function xs(e){var t=JSON.parse(e),n=t.vods.length;fs=parseInt(t._total),n<su&&(is=!0);var a=os;ms=!(os+=n);var i=n/du;0<n%du&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!gs){var _;for(gs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(Qc=document.createElement("td")).setAttribute("id",ys[8]+"y_"+f),Qc.className="stream_cell",Qc.innerHTML='<div id="'+ys[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ys[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Qc);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/du+f,d=document.createElement("tr"),o=0;o<du&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ss[r]?o--:(ss[r]=1,d.appendChild(IS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ku),l.channel.display_name,N+T_(l.created_at),QS.parse(l.title)+ca+Qt+v+l.game,v_(l.views)+D,g_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+dv(l.length),l.animated_preview_url],ys)));for(;o<du;o++)is&&!hs&&(hs=!0,os=s*du+o),d.appendChild(F_(ys[9]+s+"_"+o)),ds.push(ys[9]+s+"_"+o);u.appendChild(d)}Ps()}function Ps(){if(bs?U_(xa):(ms?l_(L+(ws?G:O)+T+M):(bs=!0,U_(xa),Os(),M_()),qu(ys[10]),Pf=!1,Ku()),0<ds.length&&!is)return Ms(),void Ls();Os(!0),ls=!(ds=[])}function Ls(){d_(ds.length);var e=os+_s;e&&fs-1<e&&(e=fs-hu,is=!0),qf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Jc.Main_gameSelected)+"&limit="+hu+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==Kc?"&language="+Kc:""),us,2,null,Bs,Ts)}function Ts(){++rs<cs?(us+=500,Ls()):(is=!0,ds=[],Ps())}function Bs(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(fs=parseInt(a._total);o<ds.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ss[n]?o--:(ss[n]=1,xS(ds[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ku),t.channel.display_name,N+T_(t.created_at),QS.parse(t.title)+ca+Qt+v+t.game,v_(t.views)+D,g_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+dv(t.length),t.animated_preview_url],ys),d.push(o));for(o=d.length-1;-1<o;o--)ds.splice(d[o],1);_s+=s,is&&(os-=ds.length,ds=[]),Ps()}function Os(e){ns<0?Us():(nf(ns,as,ys,du,os,e),VS(ys,ns+"_"+as),os/du<ns+lu&&!is&&!ls&&(Ms(),Is()),qc&&Gs())}function Gs(){window.clearInterval(ZI),-1<ns&&os?(qu(ys[1]+ns+"_"+as),_f(ns+"_"+as,ys)):Rs()}function Us(){var e=1<as?1:as;Xu(ys[0]+"y_"+e,Au)}function Rs(){var e=1<as?1:as;Yu(ys[0]+"y_"+e,Au)}function Ns(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(Gs(),Tf(Ns));break;case Oa:if(-1===ns)Rs(),--as<0&&(as=1),Us();else if(ns||as){if(b_(ns,as-1,ys[0]))Gs(),as--,Os();else for(t=du-1;-1<t;t--)if(b_(ns-1,t,ys[0])){Gs(),ns--,as=t,Os();break}}else Gs(),Rs(),ns=-1,as=1,Us();break;case Ua:-1===ns?(Rs(),1<++as?(as=0,ms?Us():(ns=0,Os())):Us()):b_(ns,as+1,ys[0])?(Gs(),as++,Os()):b_(ns+1,0,ys[0])&&(Gs(),ns++,as=0,Os());break;case Ga:if(-1!==ns||ms)if(ns){for(t=0;t<du;t++)if(b_(ns-1,as-t,ys[0])){Gs(),ns--,as-=t,Os();break}}else Gs(),ns=-1,Us();else ns=0,Rs(),Os();break;case Ra:if(-1!==ns||ms){for(t=0;t<du;t++)if(b_(ns+1,as-t,ys[0])){Gs(),ns++,as-=t,Os();break}}else ns=0,Rs(),Os();break;case Ta:case La:case Ba:case Na:-1===ns?(0===as?Nf("AGameVod_highlight",(ws=!ws)?"true":"false"):4<++vs&&(vs=1),Es()):rf(ns+"_"+as,ys,Ns)}}function Vs(){1===vs?(ju("top_bar_game",b+L_((ws?G:O)+de+": "+Jc.Main_gameSelected)),ps="day"):2===vs?(ju("top_bar_game",b+L_((ws?G:O)+le+": "+Jc.Main_gameSelected)),ps="week"):3===vs?(ju("top_bar_game",b+L_((ws?G:O)+re+": "+Jc.Main_gameSelected)),ps="month"):4===vs&&(ju("top_bar_game",b+L_((ws?G:O)+ce+": "+Jc.Main_gameSelected)),ps="all"),Nf("AGameVod_periodNumber",vs)}var Ds,Js=0,Fs=0,Hs=!1,qs=0,zs=0,Xs=5,Ys=3500,js=0,Ws=!1,Qs=!1,Zs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ks=!1,$s="",ed=null,td="",nd="",ad="",id="",od="",sd={},dd=!1,ld=null,rd="";function cd(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Sc,dd&&!Jc.Search_isSearching&&Jc.Main_selectedChannel_id&&Od(),$s!==Jc.Main_selectedChannel&&(Ks=!1),P_(),Jc.Main_selectedChannelDisplayname=Jc.Main_selectedChannelDisplayname.replace(j,""),Wu("top_bar_user",Jc.Main_selectedChannelDisplayname),Wu("top_bar_game",Ut),document.body.addEventListener("keydown",Gd,!1),Qa=!1,Ks?(V_(Js),qu(Zs[10]),xd(),Pd(),M_()):_d()}function ud(){x_(),document.body.removeEventListener("keydown",Gd),Hu(Zs[10])}function _d(){G_("stream_table_channel_content"),Hu(Zs[10]),ld=null,Zu(),r_(),$s=Jc.Main_selectedChannel,id="",Hs=Ws=Ks=!1,Ds=void(Js=Fs=qs=js=0),fd(),md()}function fd(){Pf=!0,zs=0,Ys=3500}function md(){qf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ds?Ds:Jc.Main_selectedChannel_id),Ys,2,null,hd,pd)}function hd(e){null!==JSON.parse(e).stream?(ed=e,fd(),bd()):Ds?(ed=null,fd(),bd()):(fd(),vd())}function pd(){++zs<Xs?(Ys+=500,md()):(ed=null,fd(),bd())}function vd(){qf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Jc.Main_selectedChannel_id),Ys,1,null,yd,gd,!0)}function gd(){++zs<Xs?(Ys+=500,vd()):(ed=null,fd(),bd())}function yd(e){var t=JSON.parse(e);void 0!==(Ds=t.hosts[0].target_id)?(fd(),md()):(ed=null,fd(),bd())}function bd(){qf("https://api.twitch.tv/kraken/channels/"+Jc.Main_selectedChannel_id,qg,2,null,wd,kd)}function wd(e){var t=JSON.parse(e);ld=(ld=t.video_banner)?ld.replace("1920x1080",ku):ld,rd=t.profile_banner,td=t.views,nd=t.followers,ad=t.description,Jc.Main_selectedChannelLogo=t.logo,Cd()}function kd(){++zs<Xs?(Ys+=500,bd()):(ld=null,rd=Pa,ad=nd=td="",Jc.Main_selectedChannelLogo=Sa,Cd())}function Cd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Qc=document.createElement("tr")).className="follower_banner",Qc.innerHTML='<div id="'+Zs[0]+'x_0" class="follower_banner"><img id="'+Zs[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Qc),null!==ed){var a=JSON.parse(ed);if(null!==a.stream){var i=void 0!==Ds?Jc.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(Ad("0_"+t,o.channel.name,o.preview.template,QS.parse(o.channel.status),o.game,y_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+rv(o.created_at)+" "+h+v_(o.viewers)+J,g_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Ws=!0}else Ws=!0;e.appendChild(Ed("0_"+t,Jc.Main_selectedChannelDisplayname,Jc.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(Ed("0_"+t,Jc.Main_selectedChannelDisplayname,Jc.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(F_(Zs[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Md("1_0",Jc.Main_selectedChannelDisplayname,Jc.Main_selectedChannelDisplayname,Jc.Main_selectedChannelLogo)),(Qc=document.createElement("td")).setAttribute("id",Zs[8]+"x_x"),Qc.className="stream_cell",Qc.innerHTML='<div id="'+Zs[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Zs[4]+'x_x" class="stream_channel_info">'+QS.parse(ad)+"</div></div>",e.appendChild(Qc),n.appendChild(e),Sd()}function Ad(e,t,n,a,i,o,s,d){return id=n.replace("{width}x{height}",ku),(Qc=document.createElement("td")).setAttribute("id",Zs[8]+e),Qc.setAttribute(Eu,t),Qc.className="stream_cell",Qc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Zs[1]+e+'" class="stream_img"></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ds?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Aa+o+'</div><div id="'+Zs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Zs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Zs[6]+e+'"class="stream_info">'+s+"</div></div>",Qc}function Ed(e,t,n,a){return(Qc=document.createElement("td")).setAttribute("id",Zs[8]+e),Qc.setAttribute(Eu,t),Qc.className="stream_cell",Qc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Zs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Qc}function Md(e,t,n,a){return od=a,(Qc=document.createElement("td")).setAttribute("id",Zs[8]+e),Qc.setAttribute(Eu,t),Qc.className="stream_cell",Qc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Zs[1]+e+'" class="stream_img_fallow"></div><div id="'+Zs[2]+e+'" class="stream_text_channel"><div id="'+Zs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+v_(td)+D+'</div><div id="'+Zs[6]+e+'"class="stream_info" >'+v_(nd)+Vt+"</div></div>",Qc}function Id(){ja?(ju("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Wu(Zs[3]+"1_0",Jc.Main_selectedChannelDisplayname+Mt)):(ju("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),ro()?Wu(Zs[3]+"1_0",Jc.Main_selectedChannelDisplayname+It):Wu(Zs[3]+"1_0",Jc.Main_selectedChannelDisplayname+Dt))}function Sd(){Ks||(Ks=!0,""!==id&&Gu(document.getElementById(Zs[1]+"0_0"),id,xa),Gu(document.getElementById(Zs[1]+"x_0"),rd,Pa),Gu(document.getElementById(Zs[1]+"1_0"),od,Sa),Pd(),M_(),qu(Zs[10]),Ku()),xd(),Pf=!1}function xd(){Qs?Id():ro()?(Za=Jc.Main_selectedChannel_id,Qa=!1,mi()):(ja=!1,Id())}function Pd(){Xu(Zs[0]+Js+"_"+(Js?0:Fs),Au),qc&&Ld(),Z_()}function Ld(){_f(Js+"_"+(Js?0:Fs),Zs)}function Td(){if(Js)ro()&&Xi[Jc.Users_Position].access_token?(Qa=!1,Za=Jc.Main_selectedChannel_id,ja?ki():yi()):(l_(Bt),window.setTimeout(r_,2e3));else{document.body.removeEventListener("keydown",Gd),Hu(Zs[10]);var e=Ws?1:0;Fs===0-e?(Jc.Play_selectedChannel=document.getElementById(Zs[8]+Js+"_"+Fs).getAttribute(Eu),Jc.Play_selectedChannelDisplayname=document.getElementById(Zs[3]+Js+"_"+Fs).textContent,-1!==Jc.Play_selectedChannelDisplayname.indexOf(ne)?(Jc.Play_isHost=!0,Jc.Play_DisplaynameHost=Jc.Play_selectedChannelDisplayname,Jc.Play_selectedChannelDisplayname=Jc.Play_selectedChannelDisplayname.split(ne)[1],Jc.Play_selectedChannel_id=Ds):Jc.Play_selectedChannel_id=Jc.Main_selectedChannel_id,Jc.Play_gameSelected=document.getElementById(Zs[5]+Js+"_"+Fs).textContent.split(v)[1],hf(df)):Fs===1-e?hf(dl):Fs===2-e&&(hb=Xb,hf(bb))}}function Bd(){sd={"Main_values.Main_selectedChannel_id":Jc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Jc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Jc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Jc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Qs,"Main_values.Main_BeforeChannel":Jc.Main_BeforeChannel}}function Od(){Jc.Main_selectedChannel_id=Jc.Main_selectedChannel_id,Jc.Main_selectedChannelLogo=Jc.Main_selectedChannelLogo,Jc.Main_selectedChannel=Jc.Main_selectedChannel,Jc.Main_selectedChannelDisplayname=Jc.Main_selectedChannelDisplayname,Qs=sd.ChannelContent_UserChannels,Jc.Main_BeforeChannel=Jc.Main_BeforeChannel,dd=!(sd={})}function Gd(e){if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(Ld(),Tf(Gd));break;case Oa:Js||(Ld(),--Fs<0&&(Fs=Ws?1:2),Pd());break;case Ua:Js||(Ld(),(Ws?1:2)<++Fs&&(Fs=0),Pd());break;case Ga:case Ra:Ld(),Js=Js?0:1,Pd();break;case Ta:case La:case Ba:case Na:Td()}}var Ud=0,Rd=0,Nd=!1,Vd=0,Dd={},Jd=[],Fd=!1,Hd=0,qd=5,zd=3500,Xd=0,Yd=0,jd=0,Wd=!1,Qd=!1,Zd="",Kd=!1,$d=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],el=!1,tl=!1,nl="",al="",il="",ol="",sl=0;function dl(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=xc,!Jc.Search_isSearching&&Jc.Main_selectedChannel_id&&Od(),Jc.Main_selectedChannel!==nl&&(el=!1),P_(),Fu("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user",Jc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",kl,!1),el?(V_(Ud),Wu("top_bar_game",tl?G:O),qu($d[10]),gl(),M_()):rl()}function ll(){el&&yl(),x_(),document.body.removeEventListener("keydown",kl),Hu($d[10]),r_()}function rl(){el&&yl(),G_("stream_table_channel_vod"),Hu($d[10]),Wu("top_bar_game",tl?G:O),Zu(),r_(),nl=Jc.Main_selectedChannel,Kd=el=!1,Pf=!(Qd=!(Jd=[])),Ud=Rd=Vd=Yd=Xd=0,Nd=!(Dd={}),i_(),cl(),ul()}function cl(){R_(),Fd=!0,Hd=0,zd=3500}function ul(){var e=Vd+Xd;e&&Yd-1<e&&(e=Yd-su,Nd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Jc.Main_selectedChannel_id)+"/videos?limit="+su+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e;Tu&&!Vd?Xf(t,zd,2,null,fl,_l):Yf(t,zd,2,null,fl,_l,!1)}function _l(){++Hd<qd?(zd+=500,ul()):(Fd=!1,Vd?(Nd=!0,ml()):(Pf=!1,Ku(),l_(P),Tf(kl)))}function fl(e){var t=JSON.parse(e),n=t.videos.length;Yd=parseInt(t._total),n<su&&(Nd=!0);var a=Vd;Wd=!(Vd+=n);var i=n/du;0<n%du&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Kd){Kd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p;(Qc=document.createElement("td")).setAttribute("id",$d[8]+"y_0"),Qc.className="stream_cell",Qc.innerHTML='<div id="'+$d[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+$d[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Qc),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/du+h,d=document.createElement("tr"),o=0;o<du&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==ld?ld:xa),c||Dd[r]?o--:(Dd[r]=1,d.appendChild(IS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",ku),l.channel.display_name,N+T_(l.created_at),QS.parse(l.title)+ca+Qt+v+l.game,v_(l.views)+D,g_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+dv(l.length),l.animated_preview_url],$d)));for(;o<du;o++)Nd&&!Qd&&(Qd=!0,Vd=s*du+o),d.appendChild(F_($d[9]+s+"_"+o)),Jd.push($d[9]+s+"_"+o);f.appendChild(d)}ml()}function ml(){if(el?(gl(!0),U_(null!==ld?ld:xa)):(Wd?(Tf(kl),l_(L+(tl?G:O)+T+M)):(el=!0,U_(null!==ld?ld:xa),gl(),M_()),qu($d[10]),Pf=!1,Ku()),0<Jd.length&&!Nd)return cl(),void hl();Fd=!(Jd=[])}function hl(){d_(Jd.length);var e=Vd+Xd;e&&Yd-1<e&&(e=Yd-hu,Nd=!0),qf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Jc.Main_selectedChannel_id)+"/videos?limit="+hu+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e,zd,2,null,vl,pl)}function pl(){++Hd<qd?(zd+=500,hl()):(Nd=!0,Vd-=Jd.length,Jd=[],ml())}function vl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Yd=parseInt(a._total);o<Jd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Dd[n]?o--:(Dd[n]=1,xS(Jd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ku),t.channel.display_name,N+T_(t.created_at),QS.parse(t.title)+ca+Qt+v+t.game,v_(t.views)+D,g_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+dv(t.length),t.animated_preview_url],$d),d.push(o));for(o=d.length-1;-1<o;o--)Jd.splice(d[o],1);Xd+=s,Nd&&(Vd-=Jd.length,Jd=[]),ml()}function gl(e){Ud<0?bl():(nf(Ud,Rd,$d,du,Vd,e),VS($d,Ud+"_"+Rd),Vd/du<Ud+lu&&!Nd&&!Fd&&(cl(),ul()),qc&&yl())}function yl(){window.clearInterval(ZI),-1<Ud&&Vd?(qu($d[1]+Ud+"_"+Rd),_f(Ud+"_"+Rd,$d)):wl()}function bl(){Xu($d[0]+"y_0",Au)}function wl(){Yu($d[0]+"y_0",Au)}function kl(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(yl(),Tf(kl));break;case Oa:if(b_(Ud,Rd-1,$d[0]))yl(),Rd--,gl();else for(t=du-1;-1<t;t--)if(b_(Ud-1,t,$d[0])){yl(),Ud--,Rd=t,gl();break}break;case Ua:b_(Ud,Rd+1,$d[0])?(yl(),Rd++,gl()):b_(Ud+1,0,$d[0])&&(yl(),Ud++,Rd=0,gl());break;case Ga:if(-1!==Ud||Wd)if(Ud){for(t=0;t<du;t++)if(b_(Ud-1,Rd-t,$d[0])){yl(),Ud--,Rd-=t,gl();break}}else yl(),Ud=-1,bl();else Ud=0,wl(),gl();break;case Ra:if(-1!==Ud||Wd){for(t=0;t<du;t++)if(b_(Ud+1,Rd-t,$d[0])){yl(),Ud++,Rd-=t,gl();break}}else Ud=0,wl(),gl();break;case Ta:case La:case Ba:case Na:-1===Ud?(Nf("ChannelVod_highlight",(tl=!tl)?"true":"false"),rl()):rf(Ud+"_"+Rd,$d,kl)}}var Cl,Al,El,Ml,Il,Sl,xl=0,Pl=10,Ll=!1,Tl=0,Bl=null,Ol=!1,Gl=0,Ul={bbtv:{},ffz:{}},Rl={};function Nl(){lr(),Jc.Play_ChatForceDisable?(mr||xr(),Ol=!1,hf(function(){Tl=(new Date).getTime(),Il=Jc.Play_selectedChannel_id,Sl=Jc.Play_selectedChannel,Vl(Tl,Fl)})):ac()}function Vl(e,t){xl=0,Dl(e,t)}function Dl(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+Il+"/display",a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void t(a.responseText,e);Jl(e,t)}},a.send(null)}function Jl(e,t){++xl<Pl?Dl(e,t):Al=window.setTimeout(function(){Dl(e,t)},500)}function Fl(e,t){Jr(e),Hl(),Yl(),Tl===t&&$l()}function Hl(){Ul.bbtv[Il]||(xl=0,ql())}function ql(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(Sl),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Xl(t.responseText):404===t.status?Ul.bbtv[Il]=1:zl())},t.send(null)}function zl(){++xl<Pl&&ql()}function Xl(e){Zl(JSON.parse(e)),Ul.bbtv[Il]=1}function Yl(){Ul.ffz[Il]||(xl=0,jl())}function jl(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(Sl),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ql(t.responseText):404===t.status?Ul.ffz[Il]=1:Wl())},t.send(null)}function Wl(){++xl<Pl&&jl()}function Ql(e){Kl(JSON.parse(e)),Ul.ffz[Il]=1}function Zl(t){t.emotes.forEach(function(e){Rl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Kl(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(Rl[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(Rl[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function $l(){nr(),er()}function er(){(Bl=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Bl.send("PASS blah\r\n"),Bl.send("NICK justinfan12345\r\n"),Bl.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Bl.send("JOIN #"+Sl+"\r\n")},Bl.onclose=function(){Ll=!0},Bl.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Bl.send("PONG "+t.params[0]);break;case"JOIN":Ol=!0,or('&nbsp;<span class="message">'+ca+bn+Jc.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":ar(t)}},El=window.setTimeout(tr,5e3)}function tr(){Ol?Ml=window.setInterval(sr,1e3):(Bl.close(1e3),$l())}function nr(){window.clearTimeout(El)}function ar(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+kr[a.charCodeAt(0)%Cr]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),or(t+='<span class="message">'+ir(YS(i,o))+"</span>")}function ir(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=XS(e[t]):e[t]=e[t][0];return QS.parse(e.join(" "),!0,!0)}function or(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,_r.appendChild(t),sr(),100<++Gl&&(Gl=0,oc())}function sr(){_r.scrollTop=_r.scrollHeight}function dr(){nr(),window.clearTimeout(Al),window.clearTimeout(Cl),window.clearInterval(Ml)}function lr(){dr(),Bl&&Bl.close(1e3),Tl=0,G_("chat_box"),Ol=Ll=!1}var rr,cr,ur,_r,fr,mr=!1,hr=0,pr=[],vr=[],gr=10,yr=null,br=0,wr="",kr=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],Cr=kr.length,Ar=0,Er=!1,Mr=0;function Ir(){_r=document.getElementById("chat_box"),xr()}function Sr(){Zr(),Tu&&Jc.Play_ChatForceDisable?(mr||xr(),hf(function(){Mr=(new Date).getTime(),Il=Jc.Main_selectedChannel_id,Sl=Jc.Main_selectedChannel,Vl(Mr,Fr)})):ac()}function xr(){hr=0,mr=!(Rl={}),Pr()}function Pr(){Yf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Tr,Lr,!1)}function Lr(){++hr<gr?Pr():mr=!1}function Tr(e){jS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){WS(t.type,e.type,e.image_url_4x,null)})}),Br()}function Br(){hr=0,Or()}function Or(){Yf("https://api.betterttv.net/2/emotes",1e4,0,null,Ur,Gr,!1)}function Gr(){++hr<gr?Or():mr=!1}function Ur(e){Zl(JSON.parse(e)),Rr()}function Rr(){hr=0,Nr()}function Nr(){Yf("https://api.frankerfacez.com/v1/set/global",1e4,0,null,Dr,Vr,!1)}function Vr(){++hr<gr?Nr():mr=!1}function Dr(e){Kl(JSON.parse(e)),mr=!0}function Jr(e){jS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){WS(t.type,e.type,e.image_url_4x,_r)})})}function Fr(e,t){Jr(e),Hl(),Yl(),Mr===t&&Hr(t)}function Hr(e){hr=0,Mr===e&&qr(e)}function qr(e){var t="https://api.twitch.tv/v5/videos/"+Jc.ChannelVod_vodId+"/comments?client_id="+pu+(br?"&content_offset_seconds="+parseInt(br):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Mr===e&&Xr(n.responseText,e));Mr===e&&zr(e)}},n.send(null)}function zr(e){hr++,Mr===e&&(hr<gr?qr(e):cr=window.setTimeout(function(){qr(e)},2500))}function Xr(e,t){e=JSON.parse(e);var n,a,i=null===yr;i&&(n="&nbsp;",n+='<span class="message">',n+=ca+bn+Jc.Main_selectedChannelDisplayname+" "+wr,Yr(n+="</span>",0)),br=0,yr=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+kr[e.commenter.display_name.charCodeAt(0)%Cr]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=ir([e.text])}),n+="</span>",i?Yr(n,e.content_offset_seconds):void 0!==yr&&jr(n,e.content_offset_seconds)}),i&&Mr===t&&(Wr(t),void 0!==yr&&$r(t))}function Yr(e,t){pr.push({time:t,message:e})}function jr(e,t){vr.push({time:t,message:e})}function Wr(e){Er||Mr!==e||(rr=window.setInterval(function(){Kr(e),_r.scrollTop=_r.scrollHeight},1e3))}function Qr(){Er||(window.clearTimeout(fr),window.clearTimeout(cr),window.clearTimeout(ur),window.clearInterval(rr))}function Zr(){Qr(),Mr=0,G_("chat_box"),Er=!1,yr=null,pr=[],vr=[],Ar=0}function Kr(e){var t;if(Ar<pr.length-1)for(var n=Ar;n<pr.length&&pr[n].time<sl+Android.gettime()/1e3;n++,Ar++)(t=document.createElement("div")).className="chat_line",t.innerHTML=pr[n].message,_r.appendChild(t);else if(Qr(),void 0!==yr)pr=vr.slice(),Ar=0,Wr(e),vr=[],Mr===e&&$r(e),oc();else{var a="&nbsp;";a+='<span class="message">',a+=ca+ca+An+ca+ca,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,_r.appendChild(t),Er=!0,_r.scrollTop=_r.scrollHeight,window.clearInterval(rr),rr=window.setInterval(function(){_r.scrollTop=_r.scrollHeight},1e3)}}function $r(e){hr=0,Er||Mr!==e||ec(e)}function ec(e){var t="https://api.twitch.tv/v5/videos/"+Jc.ChannelVod_vodId+"/comments?client_id="+pu+(null!==yr?"&cursor="+yr:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Er||Mr!==e||Xr(n.responseText,e));Er||Mr!==e||tc(e)}},n.send(null)}function tc(e){hr++,Mr===e&&(hr<gr?ec(e):ur=window.setTimeout(function(){ec(e)},2500))}function nc(){Zr(),ic(ln+ca+rn)}function ac(){Zr(),ic($n)}function ic(e){var t="&nbsp;";t+='<span class="message">',t+=ca+ca+ca+ca+ca+ca+ca+ca+ca+ca,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,_r.appendChild(n)}function oc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);sr()}var sc,dc,lc,rc,cc,uc,_c,fc=!0,mc=!1,hc=!1,pc=-1,vc=new Image,gc=1,yc=2,bc=3,wc=4,kc=5,Cc=6,Ac=7,Ec=8,Mc=9,Ic=10,Sc=11,xc=12,Pc=13,Lc=14,Tc=15,Bc=16,Oc=17,Gc=18,Uc=19,Rc=20,Nc=21,Vc=22,Dc="",Jc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:bc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Fc=!0,Hc=!0,qc=!1,zc=[],Xc=0,Yc=0,jc=null,Wc=!0,Qc="",Zc=!1,Kc="",$c=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],eu=[],tu=0,nu=!0,au=0,iu=1.35,ou=1.5,su=45,du=3,lu=Math.floor(su/du/ou),ru=45,cu=5,uu=Math.floor(ru/cu/iu),_u=48,fu=6,mu=Math.floor(_u/fu/ou),hu=6,pu="5seja5ptej058mxqy7gh5tcudjqtm9",vu="Client-ID",gu="Accept",yu="Authorization",bu="OAuth ",wu="application/vnd.twitchtv.v5+json",ku="528x297",Cu="340x475",Au="stream_thumbnail_focused",Eu="data_attribute",Mu="1.0",Iu=".20",Su="051519",xu=Mu+Iu+"-"+Su,Pu="",Lu=0,Tu=0,Bu="?"+Math.random(),Ou="https://cors-anywhere.herokuapp.com/",Gu=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function Uu(){(hc=Jf("Main_isDebug",!1))&&fc?Ru():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Nu(window.navigator.userLanguage||window.navigator.language)}):Nu(window.navigator.userLanguage||window.navigator.language)}function Ru(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Nu(e){ff(),hf(function(){try{Tu=Android.getAndroid(),Pu=Android.getversion()}catch(e){Pu="1.0.0",Tu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",mc=hc=!0,console.log("Main_isReleased: "+fc),console.log("Main_isDebug: "+hc),console.log("Main_isBrowser: "+mc)}wC(),Ma(),qC(),console.log("language is "+e),Ea(),-1!==window.location.href.indexOf("code")&&Hf(window.location.href),Vu()})}function Vu(){pb(),Du(!0),sc=document.getElementById("scrollbar"),I_(),Dc=Jc.Main_Go,hf(function(){Ir(),Ip(),lo(),ro()&&(_c=window.setInterval(yf,6e5),yf()),document.body.addEventListener("keyup",Z_,!1),vb(),document.getElementById("side_panel").style.marginLeft="",B_(),Ju(),vS=Jf("Vod_highlight",!1),tl=Jf("ChannelVod_highlight",!1),ws=Jf("AGameVod_highlight",!1),PI=Jf("UserVod_highlight",!1),fS=Vf("vod_periodNumber",2),vs=Vf("AGameVod_periodNumber",2),MI=Vf("UserVod_TypeNumber",1),ib(),dc=document.getElementById("search_input"),lc=document.getElementById("user_input"),J_(xa),J_(Ia),J_(Sa),document.addEventListener("visibilitychange",vf,!1),cc=window.setInterval(gf,6e4),hb=Qb,bb(),rc=window.setTimeout(k_,5e3),qu("topbar")})}function Du(e){gf(),Fu("label_refresh","icon-refresh",t+Yt),ju("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Aa+_t+"</div>"),Fu("label_side_panel","icon-ellipsis",Rn),Fu("icon_feed_refresh","icon-refresh",t+" Press up"),Wu("top_bar_live",_),Wu("top_bar_user",e?u:a),Wu("top_bar_featured",an),Wu("top_bar_game",f),Wu("top_bar_vod",Kt),Wu("top_bar_clip",U),ju("scene2_search_text",Aa+n),ju("scene2_channel_text",Aa+Ut),ju("scene2_game_text",Aa+Jt),Wu("dialog_end_next_text",sa),Wu("dialog_end_replay_text",en),Wu("dialog_end_vod_text",sn),Wu("dialog_end_channel_text",Ut),Wu("dialog_end_game_text",Jt),ju("dialog_about_text",ba+wa),eu=[de,le,re,ce],e?hC():(bC(),B_())}function Ju(){Wu("play_dialog_exit_text",F),Wu("side_panel_search",n),Wu("side_panel_settings",a),Wu("side_panel_about",i),Wu("side_panel_controls",e),Wu("side_panel_exit",q),Wu("side_panel_live",_),Wu("side_panel_user",u),Wu("side_panel_featured",an),Wu("side_panel_games",f),Wu("side_panel_videos",Kt),Wu("side_panel_clips",U),Wu("side_panel_hide",o),Wu("chanel_button",E),Wu("game_button",f),Wu("live_button",_),Wu("exit_app_cancel",Y),Wu("exit_app_close",z),Wu("remove_cancel",Y),Wu("remove_yes",Ft),Wu("exit_app_minimize",X),Wu("main_dialog_exit_text",H),ju("dialog_controls_text",ya),Wu("dialog_vod_text",wn),ju("dialog_vod_start_text",Cn)}function Fu(e,t,n){ju(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Aa+n+"</div>")}function Hu(e){document.getElementById(e).classList.add("hide")}function qu(e){document.getElementById(e).classList.remove("hide")}function zu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Xu(e,t){document.getElementById(e).classList.add(t)}function Yu(e,t){document.getElementById(e).classList.remove(t)}function ju(e,t){document.getElementById(e).innerHTML=t}function Wu(e,t){document.getElementById(e).textContent=t}function Qu(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Zu(){V_(-1),Tu?Android.mshowLoading(!0):qu("dialog_loading")}function Ku(){Tu?Android.mshowLoading(!1):Hu("dialog_loading")}function $u(){window.clearTimeout(jc)}function e_(){jc=window.setTimeout(n_,6e3)}function t_(){e_(),qu("main_dialog_exit"),document.body.addEventListener("keydown",If,!1)}function n_(){document.body.removeEventListener("keydown",If,!1),Tf(uc),$u(),Hu("main_dialog_exit"),Yc=0,a_()}function a_(){Yu("exit_app_cancel","button_search_focused"),Yu("exit_app_minimize","button_search_focused"),Yu("exit_app_close","button_search_focused"),Xu(Yc?1===Yc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function i_(){G_("dialog_counter_text"),s_(0,0,0)}function o_(e,t,n,a){0<a?(Wu("dialog_counter_text",t*n+(e+1)+"/"+a),s_(t,n,a)):i_()}function s_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Jc.Main_Go===wc||Jc.Main_Go===Uc||Jc.Main_Go===Rc||Jc.Main_Go===xc||Jc.Main_Go===Vc||Jc.Main_Go===Oc||Jc.Main_Go===Gc||Jc.Main_Go===Pc,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));sc.style.top=o+"px",Wc&&(Wc=!1,sc.style.backgroundColor="#777777")}else sc.style.backgroundColor="#000000",sc.style.top=a+"px",Wc=!0}function d_(e){(hu=12)/3<e&&(hu=3*e),99<hu&&(hu=99)}function l_(e){Wu("dialog_warning_text",e),qu("dialog_warning")}function r_(){Hu("dialog_warning")}function c_(){h_(),qu("dialog_about")}function u_(){Hu("dialog_about")}function __(){return zu("dialog_about")}function f_(){h_(),r_(),S_(Jc.Main_Go),i_(),fC()}function m_(){u_(),qu("dialog_controls")}function h_(){Hu("dialog_controls")}function p_(){return zu("dialog_controls")}function v_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function g_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function y_(e){return-1!==e.indexOf("live")?"":j}function b_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function w_(){gf(),A_(),document.body.addEventListener("keyup",Z_,!1)}function k_(){for(var e,t=0;t<$c.length;t++)t<2?document.getElementById($c[t]).style.opacity="0.5":-1===(e=document.getElementById($c[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Xu("topbar","topbar_dim")}function C_(){for(var e=0;e<$c.length;e++)document.getElementById($c[e]).style.opacity="1";Yu("topbar","topbar_dim")}function A_(e){window.clearTimeout(rc),C_(),hf(function(){E_(e)})}function E_(e){r_(),Jc.Main_Go!==Sc&&(Jc.Main_BeforeChannelisSet=!1),Jc.Main_Go!==wc&&(Jc.Main_BeforeAgameisSet=!1),i_(),Jc.Main_Go===gc?(hb=Qb,bb()):Jc.Main_Go===yc?Qi():Jc.Main_Go===bc?(hb=jb,bb()):Jc.Main_Go===wc?Go():Jc.Main_Go===Ec?kk():Jc.Main_Go===Mc?dk():Jc.Main_Go===Ic?jk():Jc.Main_Go===Sc?cd():Jc.Main_Go===xc?dl():Jc.Main_Go===Pc?(hb=Xb,bb()):Jc.Main_Go===Lc?jM():Jc.Main_Go===kc?wM():Jc.Main_Go===Cc?KA():Jc.Main_Go===Ac?(hb=Wb,bb()):Jc.Main_Go===Tc?bA():Jc.Main_Go===Bc?Bw():Jc.Main_Go===Oc?bS():Jc.Main_Go===Gc?(hb=zb,bb()):Jc.Main_Go===Uc?Cs():Jc.Main_Go===Rc?(hb=Yb,bb()):Jc.Main_Go===Nc?(hb=Zb,bb()):Jc.Main_Go===Vc&&LI(),rc=window.setTimeout(k_,3e3),e&&Uf()}function M_(){Nf("Main_values",JSON.stringify(Jc))}function I_(){Jc=yb(Jc,Df("Main_values",{}))}function S_(e){e===gc?wb():e===yc?Zi():e===bc?wb():e===wc?Uo():e===Ec?Ck():e===Mc?lk():e===Ic?Wk():e===Sc?ud():e===xc?ll():e===Pc?wb():e===Lc?WM():e===kc?kM():e===Cc?$A():e===Ac?wb():e===Tc?wA():e===Bc?Ow():e===Oc?wS():e===Gc?wb():e===Uc?As():e===Rc?wb():e===Nc?wb():e===Vc&&TI(),zu("settings_scroll")&&mC()}function x_(){Fu("label_refresh","icon-refresh",t+Yt),Fu("label_side_panel","icon-ellipsis",Rn),Yu("top_bar_user","icon_center_focus"),Wu("top_bar_live",_),Wu("top_bar_user",u),Wu("top_bar_featured",an),Wu("top_bar_game",f),Wu("top_bar_vod",Kt),Wu("top_bar_clip",U)}function P_(){Fu("label_side_panel","icon-arrow-circle-left",I),G_("top_bar_live"),G_("top_bar_game"),G_("top_bar_vod"),G_("top_bar_clip"),G_("top_bar_featured"),Xu("top_bar_user","icon_center_focus")}function L_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function T_(e){return e=new Date(e),Zc?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function B_(){Tu&&(xu="Android: "+Pu+" Web: "+Su,O_(Pu)&&qu("label_update")),ju("dialog_about_text",ba+ye+xu+wa)}function O_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(Mu)||parseInt(e[2])<parseInt(Iu.split(".")[1])}function G_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function U_(e){for(var t,n=0;n<zc.length;n++)null!==(t=document.getElementById(zc[n].id))&&Gu(t,zc[n].src+Bu,e)}function R_(){zc=[]}function N_(e,t){zc.push({id:e,src:t})}function V_(e){pc=e}function D_(e){var t=0;return pc<e?t=-1:e<pc&&(t=1),pc=e,t}function J_(e){vc.src=e}function F_(e){return(Qc=document.createElement("td")).setAttribute("id",e),Qc.className="stream_cell",Qc}function H_(e,t,n){return(Qc=document.createElement("td")).setAttribute("id",t[4]+e),Qc.setAttribute(Eu,n[0]),Qc.setAttribute("data-id",n[1]),Qc.className="stream_cell",Qc.innerHTML=z_(e,t,n),Qc}function q_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Eu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=z_(i,n,t),a.setAttribute("id",n[4]+i)}function z_(e,t,n){return N_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function X_(e,t,n,a,i){return e<du&&J_(i[0]),(Qc=document.createElement("td")).setAttribute("id",a[8]+t),Qc.setAttribute(Eu,JSON.stringify(n)),Qc.className="stream_cell",Qc.innerHTML=j_(t,a,i),Qc}function Y_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Eu,JSON.stringify(t)),i.innerHTML=j_(o,a,n),i.setAttribute("id",a[8]+o)}function j_(e,t,n){return N_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+QS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function W_(e,t,n){return(Qc=document.createElement("td")).setAttribute("id",t[5]+e),Qc.setAttribute(Eu,n[0]),Qc.className="stream_cell",Qc.innerHTML=Q_(e,t,n),Qc}function Q_(e,t,n){return N_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Z_(){Hc=!0}function K_(){Fc=!0}function $_(){Fc=!1,window.setTimeout(K_)}function ef(){return!Fc||!Hc}function tf(e,t,n,a,i,o){Xu(n[0]+e+"_"+t,Au),o_(t,e,a,i),D_(e)||o?1<e?b_(e+1,0,n[0])?uf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Z_():uf(n[6],.07*screen.height):Z_()}function nf(e,t,n,a,i,o){Xu(n[0]+e+"_"+t,Au),o_(t,e,a,i),D_(e)||o?e?b_(e+1,0,n[0])&&uf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):uf(n[10],.07*screen.height):Z_()}function af(e,t,n,a,i){Xu(n[0]+e+"_"+t,Au),o_(t,e,a,i),D_(e)?uf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Z_()}function of(e,t){return null===document.getElementById(t+e)}function sf(e,t,n){of(e,t[0])||(document.body.removeEventListener("keydown",n),Jc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Eu)),Jc.Play_selectedChannel_id=Jc.Play_selectedChannel[1],Jc.Play_selectedChannel=Jc.Play_selectedChannel[0],Jc.Main_Go===Cc?(Jc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Jc.Play_selectedChannelDisplayname=Jc.Play_DisplaynameHost.split(ne)[1],Jc.Play_isHost=!0):Jc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Jc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Jc.Main_Go===wc&&(Jc.Main_OldgameSelected=Jc.Main_gameSelected),df())}function df(){document.body.addEventListener("keydown",Cg,!1),Hu("scene1"),qu("scene2"),Pv(),Uv(),$v(),ro()&&!fE&&CE&&KE(),hf(Pp)}function lf(e,t,n){of(e,t[0])||(document.body.removeEventListener("keydown",n),nw=JSON.parse(document.getElementById(t[8]+e).getAttribute(Eu)),wm=parseInt(nw[1]),Jc.Play_gameSelected=nw[2],Jc.Main_selectedChannel=nw[3],Jc.Main_selectedChannelDisplayname=nw[4],Jc.Main_selectedChannelLogo=nw[5],Jc.Main_selectedChannel_id=nw[6],Jc.ChannelVod_vodId=nw[7],sl=parseInt(nw[8]),tw=nw[9],iw=nw[10],$b=nw[11],nw=nw[0],aw=document.getElementById(t[4]+e).textContent,ew=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",ah,!1),Hu("scene1"),qu("scene2"),Uv(),Mv(),yv(),kv(),ro()&&!fE&&CE&&KE(),hf(Im))}function rf(e,t,n){of(e,t[0])||(document.body.removeEventListener("keydown",n),Jc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Eu)),jd=parseInt(Jc.ChannelVod_vodId[1]),Zd=Jc.ChannelVod_vodId[2],Jc.Play_gameSelected=Jc.ChannelVod_vodId[3],Jc.Main_selectedChannel=Jc.ChannelVod_vodId[4],yp=Jc.ChannelVod_vodId[5],Jc.ChannelVod_vodId=Jc.ChannelVod_vodId[0].substr(1),Jc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,il=document.getElementById(t[4]+e).textContent,ol=document.getElementById(t[5]+e).textContent,al=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,cf())}function cf(){document.body.addEventListener("keydown",mb,!1),Hu("scene1"),qu("scene2"),Fy(),Uv(),Mv(),kv(),dy=!1,ro()&&!fE&&CE&&KE(),hf(my)}function uf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Z_,10)}function _f(e,t){Hc=!1,Yu(t[0]+e,Au)}function ff(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(hc&&console.log("Main_Checktylesheet reloading"),mf("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):hc&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function mf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function hf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function pf(){var e=(new Date).getTime()+Lu;return e=new Date(e),(Zc?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+sv(e.getHours())+":"+sv(e.getMinutes())}function vf(){document.hidden||(gf(),window.setTimeout(gf,2e4))}function gf(){document.hidden||(Wu("label_clock",pf()),Bu="?"+Math.random())}function yf(){document.hidden||ro()&&window.setTimeout(function(){FE()||fE||(bh=Xi[Jc.Users_Position].name,SE())},5e3)}function bf(){Xu("side_panel_"+au,"side_panel_text_focus")}function wf(){Yu("side_panel_"+au,"side_panel_text_focus")}function kf(){au?1===au?f_():2===au?(document.body.addEventListener("keydown",uc,!1),c_()):3===au?(document.body.addEventListener("keydown",uc,!1),m_()):4===au?t_(uc):5===au?Cf(gc):6===au?Cf(ho()?Lc:yc):7===au?Cf(Nc):8===au?Cf(bc):9===au?Cf(Oc):10===au&&Cf(Gc):Jc.Main_Go!==Ec?(Jc.Search_isSearching||Jc.Main_Go!==Sc&&Jc.Main_Go!==Pc&&Jc.Main_Go!==xc||Bd(),Jc.Main_BeforeSearch=Jc.Main_Go,Jc.Main_Go=Ec,S_(Jc.Main_BeforeSearch),A_()):document.body.addEventListener("keydown",uc,!1),Ef()}function Cf(e){e===Jc.Main_Go?document.body.addEventListener("keydown",uc,!1):(Jc.Main_Before=Jc.Main_Go,Jc.Main_Go=e,S_(Jc.Main_Before),A_())}function Af(e){uc=e,document.body.removeEventListener("keydown",uc),document.body.addEventListener("keydown",Mf,!1),Yu("side_panel","side_panel_hide")}function Ef(){document.body.removeEventListener("keydown",Mf),Xu("side_panel","side_panel_hide"),wf(),au=0,bf()}function Mf(e){switch(e.keyCode){case Va:case Oa:document.body.addEventListener("keydown",uc,!1),Ef(),Of();break;case Ga:au&&(wf(),au--,bf());break;case Ra:au<10&&(wf(),au++,bf());break;case Na:kf()}}function If(e){switch(e.keyCode){case Va:n_();break;case Ua:2<++Yc&&(Yc=0),a_(),$u(),e_();break;case Oa:--Yc<0&&(Yc=2),a_(),$u(),e_();break;case Na:Yc?Tu&&1===Yc?Android.mclose(!1):Tu&&2===Yc&&Android.mclose(!0):n_()}}Uu();var Sf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],xf=[gc,Lc,Nc,bc,Oc,Gc],Pf=!1;function Lf(e){if(!(Pf||hb.FirstLoad||ef()))switch(e.keyCode){case Va:p_()?(Of(),h_()):__()?(Of(),u_()):Jc.Main_Go===wc?(Jc.Main_OldgameSelected=Jc.Main_gameSelected,Jc.Games_return?(Jc.Main_Go=Mc,Jc.Main_gameSelected=Jc.gameSelectedOld):(Jc.Main_Go=Jc.Main_BeforeAgame,Jc.Main_BeforeAgame=gc),Uo(),Bf(),E_()):Jc.Main_Go===Rc?(Jb(wc),Bf(),E_()):Jc.Main_Go===Ac?(Jb(Lc),Bf(),E_()):Jc.Main_Go===Pc?(Jb(Sc),Bf(),E_()):Jc.Main_Go===Uc?(Jc.Main_Go=wc,As(),Bf(),E_()):Jc.Main_Go===kc?(Jc.Main_Go=Lc,kM(),Bf(),E_()):Jc.Main_Go===Cc?(Jc.Main_Go=Lc,$A(),Bf(),E_()):Jc.Main_Go===Vc?(Jc.Main_Go=Lc,TI(),Bf(),E_()):Jc.Main_Go===Tc?(Jc.Main_Go=Lc,wA(),Bf(),E_()):Jc.Main_Go===Sc?(Jc.Main_Go=Jc.Main_BeforeChannel,Jc.Main_BeforeChannel=gc,ud(),Jc.Main_selectedChannel_id="",Bf(),E_()):Jc.Main_Go===xc?(Jc.Main_Go=Sc,ll(),Bf(),E_()):Jc.Main_Go===Ic?(Jc.Main_Go===Jc.Main_BeforeSearch?Jc.Main_Go=gc:Jc.Main_Go=Jc.Main_BeforeSearch,Wk(),Jc.Search_isSearching=!1,Bf(),E_()):Jc.Main_Go===Mc?(Jc.Main_Go===Jc.Main_BeforeSearch?Jc.Main_Go=gc:Jc.Main_Go=Jc.Main_BeforeSearch,Jc.Search_isSearching=!1,lk(),Bf(),E_()):Jc.Main_Go===Bc?(Jc.Main_Go===Jc.Main_BeforeSearch?Jc.Main_Go=gc:Jc.Main_Go=Jc.Main_BeforeSearch,Jc.Main_selectedChannel_id&&Od(),Ow(),Jc.Search_isSearching=!1,Bf(),E_()):(Bf(),Af(Lf));break;case Ua:if(Jc.Search_isSearching||Jc.Main_Go===Sc||Jc.Main_Go===xc||Jc.Main_Go===Pc||Jc.Main_Go===Ic||Jc.Main_Go===Mc||Jc.Main_Go===Bc)break;Yu(Sf[Jc.Main_CenterLablesVectorPos],"icon_center_line"),Jc.Main_CenterLablesVectorPos++,5<Jc.Main_CenterLablesVectorPos&&(Jc.Main_CenterLablesVectorPos=0),Of(),Gf();break;case Oa:if(Jc.Search_isSearching||Jc.Main_Go===Sc||Jc.Main_Go===xc||Jc.Main_Go===Pc||Jc.Main_Go===Ic||Jc.Main_Go===Mc||Jc.Main_Go===Bc)break;Yu(Sf[Jc.Main_CenterLablesVectorPos],"icon_center_line"),Jc.Main_CenterLablesVectorPos--,Jc.Main_CenterLablesVectorPos<0&&(Jc.Main_CenterLablesVectorPos=5),Of(),Gf();break;case Ra:Yu(Sf[Jc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Lf),qc=!1,E_();break;case Na:Rf()}}function Tf(e){window.clearTimeout(rc),C_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Lf),document.body.addEventListener("keydown",Lf,!1),Of()}function Bf(){Yu(Sf[Jc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Lf),qc=!1}function Of(){qc=!0,Xu(Sf[Jc.Main_CenterLablesVectorPos],"icon_center_line")}function Gf(){S_(Jc.Main_Go),Jc.Main_Go=xf[Jc.Main_CenterLablesVectorPos],Jc.Main_Go!==Lc||ho()?A_(!0):(Jc.Main_Go=yc,Bf(),A_())}function Uf(){Jc.Main_Go===gc?(hb=Qb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Lc?document.body.removeEventListener("keydown",cI):Jc.Main_Go===wc?document.body.removeEventListener("keydown",ts):Jc.Main_Go===Nc?(hb=Zb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Ic?document.body.removeEventListener("keydown",dC):Jc.Main_Go===Mc?document.body.removeEventListener("keydown",gk):Jc.Main_Go===Bc?document.body.removeEventListener("keydown",Yw):Jc.Main_Go===xc?document.body.removeEventListener("keydown",kl):Jc.Main_Go===Sc?document.body.removeEventListener("keydown",Gd):Jc.Main_Go===Cc?document.body.removeEventListener("keydown",uE):Jc.Main_Go===Vc?document.body.removeEventListener("keydown",WI):Jc.Main_Go===Tc?document.body.removeEventListener("keydown",OA):Jc.Main_Go===bc?(hb=jb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Pc?(hb=Xb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Oc?document.body.removeEventListener("keydown",DS):Jc.Main_Go===Gc?(hb=zb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Rc?(hb=Yb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Ac?(hb=Wb,document.body.removeEventListener("keydown",qb)):Jc.Main_Go===Uc?document.body.removeEventListener("keydown",Ns):Jc.Main_Go===kc&&document.body.removeEventListener("keydown",VM)}function Rf(){window.clearTimeout(rc),C_(),Jc.Main_Go!==Sc&&(Jc.Main_BeforeChannelisSet=!1),Jc.Main_Go!==wc&&(Jc.Main_BeforeAgameisSet=!1),i_(),Jc.Main_Go===gc?(hb=Qb,kb()):Jc.Main_Go===Lc?QM():Jc.Main_Go===Nc?(hb=Zb,kb()):Jc.Main_Go===wc?Ro():Jc.Main_Go===Tc?kA():Jc.Main_Go===Sc?_d():Jc.Main_Go===xc?rl():Jc.Main_Go===Ic?Qk():Jc.Main_Go===Mc?rk():Jc.Main_Go===Bc?Gw():Jc.Main_Go===bc?(hb=jb,kb()):Jc.Main_Go===Ac?(hb=Wb).loadingData||hb.key_refresh():Jc.Main_Go===Oc?kS():Jc.Main_Go===Gc?(hb=zb,kb()):Jc.Main_Go===Rc?(hb=Yb,kb()):Jc.Main_Go===Pc?(hb=Xb,kb()):Jc.Main_Go===Uc?Es():Jc.Main_Go===kc?CM():Jc.Main_Go===Cc?eE():Jc.Main_Go===Vc&&BI(),rc=window.setTimeout(k_,3e3)}function Nf(e,t){localStorage.setItem(e,t)}function Vf(e,t){return parseInt(localStorage.getItem(e))||t}function Df(e,t){return JSON.parse(localStorage.getItem(e))||t}function Jf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Ff(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Hf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Xc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function qf(e,t,n,a,i,o,s){Tu?Xf(e,t,n,a,i,o):Yf(e,t,n,a,i,o,s)}function zf(e,t,n,a,i,o,s,d){Tu&&d?Xf(e,t,n,a,i,o):Yf(e,t,n,a,i,o,s)}function Xf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Yf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Ou:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(vu,pu),1<n&&d.setRequestHeader(gu,wu),2<n&&d.setRequestHeader(yu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}function jf(e,t,n,a,i,o,s){Tu?Wf(e,t,n,a,i,o):Yf(e,t,n,a,i,o,s)}function Wf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a,!0);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Wf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("POST",(s?Ou:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(vu,pu),1<n&&d.setRequestHeader(gu,wu),2<n&&d.setRequestHeader(yu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Qf=0,Zf=null,Kf=0,$f=!1,em=0,tm=0,nm=!1,am=0,im=2e3,om=5,sm="source",dm=sm,lm=0,rm=[],cm="",um=!1,_m=0,fm=0,mm=1,hm=!1,pm=0,vm=!1,gm=!1,ym=2e3,bm=[0,5],wm=0,km=!1,Cm=!1,Am=["next_button","back_button"],Em=0,Mm=!1;function Im(){pv(),$v(),Dp(document.getElementById("stream_info_icon"),Jc.Main_selectedChannelLogo),Wu("stream_info_name",Jc.Main_selectedChannelDisplayname),ju("stream_info_title",tw),ju("stream_info_game",$b+" "+ew+" "+iw),Wu("stream_live_icon",aw),Wu("progress_bar_duration",dv(wm)),eb((bp=bm)[1]),Qu("stream_info_title"),Jc.Play_isHost=!1,Wu("progress_bar_current_time",dv(0)),Wu("stream_live_time",""),Wu("stream_watching_time",""),hm=null!==Jc.ChannelVod_vodId,wr=Gt+".",hm?(br=sl,Sr()):nc(),ju("pause_button",'<i class="pause_button3d icon-pause"></i>'),qu("progress_pause_holder"),th(),qu("scene_channel_panel_bottom"),Kf=pm=0,window.clearInterval(Zf),gm=!1,_h=-13,_m=fm=0,lm=2,Jm(),dg(3),tp=!1,jv(),ro()?(Qa=!0,Za=Jc.Main_selectedChannel_id,mi()):hv(),document.addEventListener("visibilitychange",Um,!1),$f=!1,nm=!(tm=em=0),Sm(),document.body.removeEventListener("keyup",Z_)}function Sm(){am=0,im=2e3,xm()}function xm(){qf("https://clips.twitch.tv/api/v2/clips/"+nw+"/status",im,1,null,Lm,Pm,!0)}function Pm(){++am<om?(im+=250,xm()):(vv(),fg(3))}function Lm(e){rm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)rm.length?rm.push({id:e[t].quality+"p"+Tm(e[t].frame_rate),url:e[t].source}):rm.push({id:e[t].quality+"p"+Tm(e[t].frame_rate)+" (source)",url:e[t].source});fm=mm,Bm()}function Tm(e){return 40<e?60:""}function Bm(){window.clearInterval(Zf),cm=rm[lm=0].url,-1!==sm.indexOf("source")&&(sm="source");for(var e=0;e<Km();e++){if(rm[e].id===sm){cm=rm[lm=e].url;break}-1!==rm[e].id.indexOf(sm)&&(cm=rm[lm=e].url)}dm=sm,hc&&console.log("PlayClip_onPlayer:",'\n\n"'+cm+'"\n'),fm=mm,Tu&&nm&&Android.startVideoOffset(cm,3,um?-1:Android.gettime()),um=!1,Om()}function Om(){Oh&&!Rv()&&Gv(),Tu&&(Kf=0,pp=1+ym/1e3,vm=!1,window.clearInterval(Zf),Zf=window.setInterval(Rm,vp))}function Gm(e){Wu("progress_bar_duration",dv(wm=e/1e3)),Qm()}function Um(){document.hidden&&Vm()}function Rm(){Tu&&(_m=Android.gettime()),wm<_m/1e3&&(Tu&&Android.play(!1),Play_PannelEndStart(3)),nm&&Qf===_m&&!iv()?++Kf>pp&&(vm&&gm&&lm<Km()-1?lm++:!vm&&gm&&pm++,navigator.onLine?1<pm?av(pm,3,Nm):($m(),Bm(),gm=!0):nv(!1,3)):(Kf=pm=0,gm=!1),Qf=_m}function Nm(e){if(!e){if(!(lm<Km()-1))return void nv(!1,3);lm++}pm=0,$m(),Bm(),gm=!0}function Vm(){nm&&(Mm=!1,Dm(),kv(),_v())}function Dm(){jm(),rm=[],window.clearInterval(Zf),Tu&&Android.stopVideo(3),nm=!1,Zr(),fv(),qE(),document.body.removeEventListener("keydown",ah),document.removeEventListener("visibilitychange",Um),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",sl=0}function Jm(){var e,t=Fm(1,0),n=Fm(-1,hb.ColoumnsCount-1);Cm=km=!1,t?(km=!0,Wu("next_button_text_name",(e=JSON.parse(document.getElementById(hb.ids[8]+t).getAttribute(Eu)))[4]),ju("next_button_text_title",e[9]),Wu("end_next_button_text_name",e[4]),ju("end_next_button_text_title",e[9]),Hm(0,1)):Hm(0,0),n?(Cm=!0,Wu("back_button_text_name",(e=JSON.parse(document.getElementById(hb.ids[8]+n).getAttribute(Eu)))[4]),ju("back_button_text_title",e[9]),Hm(1,1)):Hm(1,0)}function Fm(e,t){return b_(hb.posY,hb.posX+e,hb.ids[0])?hb.posY+"_"+(hb.posX+e):b_(hb.posY+e,t,hb.ids[0])?hb.posY+e+"_"+t:null}function Hm(e,t){document.getElementById(Am[e]).style.opacity=t}function qm(){Em?1===Em?zm():-1===Em&&Xm():(hm&&Jc.Play_ChatForceDisable&&(iv()?Wr(Mr):Qr()),eg()||Yv(3))}function zm(){Hb(1,0),Ym()}function Xm(){Hb(-1,hb.ColoumnsCount-1),Ym()}function Ym(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",hf(function(){Dm(),lf(hb.posY+"_"+hb.posX,hb.ids,qb),e.style.transition=""})}function jm(){$g=!1,Kg=ey=0,Bv(),sm=dm,document.getElementById("scene_channel_panel").style.opacity="0",Tu&&Zy(Android.gettime()/1e3,wm,!0),ju("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Mg)}function Wm(){Qm(),ov(),Mg=window.setInterval(Qm,1e3),kv(),zy(),Zm(),$m(),document.getElementById("scene_channel_panel").style.opacity="1",eh()}function Qm(){Tu&&Zy(Android.gettime()/1e3,wm,!$g)}function Zm(){for(var e=lm=0;e<Km();e++){if(rm[e].id===sm){lm=e;break}-1!==rm[e].id.indexOf(sm)&&(lm=e)}}function Km(){return rm.length}function $m(){1===Km()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):lm?lm===Km()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(sm=rm[lm].id).indexOf("source")?Wu("quality_name",sm.replace("source",ge)):Wu("quality_name",sm)}function eh(){hh=window.setTimeout(jm,5e3+ly)}function th(){document.getElementById("quality_name").style.width="16ch",Wu("open_vod_text",hm?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function nh(){hm?(Jc.vodOffset=sl,Dm(),document.body.addEventListener("keydown",mb,!1),jv(),hf(my)):(tp=!0,gv(ln),window.setTimeout(function(){tp=!1,yv()},2e3))}function ah(e){if(fm!==mm)switch(e.keyCode){case Va:Cv()?(kv(),Vm()):wv()}else switch(e.keyCode){case Oa:FE()?wh&&!fE&&(eM(),wh--,WE()):gh&&!xv()&&Rv()?(ch++,qv()):xv()?(Bv(),2===sy?(Qv(),5<++ep&&(ep=0),Wv()):sy?1===sy&&-1<Em&&(Em--,Cm||!Em?Xy():Em++):(nb(-1,wm),ly=2500),eh()):eg()?(og(),ag(),--sp<(km?-1:0)&&(sp=3),ng()):Wm();break;case Ua:FE()?wh<gE-1&&!fE&&(eM(),wh++,WE()):!gh||xv()||eg()?xv()?(Bv(),2===sy?(Qv(),--ep<0&&(ep=5),Wv()):sy?1===sy&&Em<1&&(Em++,km||!Em?Xy():Em--):(nb(1,wm),ly=2500),eh()):eg()?(og(),ag(),3<++sp&&(sp=km?-1:0),ng()):Wm():Nf("ChatEnable",(Oh=Rv()||eg()?(Uv(),!1):(Gv(),!0))?"true":"false");break;case Ga:eg()?og():xv()?(2===sy&&1!==ep?(sy--,Xy()):1===sy?(sy--,Xy()):0<lm&&1===ep&&(lm--,$m()),Bv(),eh()):FE()?FE()?jE():Wm():HE();break;case Ra:eg()?og():xv()?(sy?1===sy?(sy++,Xy()):lm<Km()-1&&1===ep&&(lm++,$m()):(sy++,Xy()),Bv(),eh()):FE()?qE():gh&&Rv()?(4<++mh?Hv(!(mh=1)):4===mh&&Hv(!0),Jv(!0)):Wm();break;case Na:eg()?sg(3):xv()?sy?1===sy?qm():_g(3):(Bv(),eh(),Kg&&Ky()):FE()?(Dm(),sf(wh,IE,Cg)):Wm();break;case Va:xv()?jm():FE()?qE():Cv()?(kv(),Vm()):wv();break;case Ta:case La:case Ba:hm&&!Jc.Play_ChatForceDisable&&(iv()?Wr(Mr):Qr()),eg()||Yv(3)}}var ih,oh,sh,dh,lh,rh,ch=0,uh=ch,_h=-5,fh=.55,mh=3,hh=null,ph="source",vh=ph,gh=!0,yh=!1,bh="",wh=0,kh=2e3,Ch=0,Ah=1,Eh=2,Mh=0,Ih=null,Sh=0,xh=0,Ph=0,Lh="",Th=[],Bh=0,Oh=!1,Gh=null,Uh=null,Rh=null,Nh="",Vh=0,Dh=5,Jh=0,Fh=5,Hh=0,qh=!1,zh=null,Xh=!1,Yh=0,jh=null,Wh=0,Qh=0,Zh=!1,Kh=!1,$h=!1,ep=1,tp=!1,np=!1,ap=1e4,ip=2e3,op="",sp=0,dp=3,lp=null,rp="",cp=0,up=0,_p="",fp=!0,mp=!1,hp=!1,pp=7,vp=1e3,gp=0,yp="",bp=[],wp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],kp=[0,0,0,1,2,2,2,1],Cp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Ap=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Ep=1,Mp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Ip(){lh=document.getElementById("chat_container"),rh=document.getElementById("inner_progress_bar"),ch=Vf("ChatPositionsValue",0),mh=Vf("ChatSizeValue",3),Oh=Jf("ChatEnable",!1),gh=Jf("Play_isFullScreen",!0),Jv(!1),Fv(!1),xp()}function Sp(e){e?void 0!==ih&&(ch=ih,mh=sh,(Oh=oh)||Uv(),Jv(!1)):(ih=ch,oh=Oh,sh=mh,ch=0,Gv(),mh=4,Hv(Oh=!0),Jv(!1),_r&&(_r.scrollTop=_r.scrollHeight)),Nf("Play_isFullScreen",gh)}function xp(){Ep=CC("chat_font_size");for(var e=0;e<Mp.length;e++)Yu("chat_inner_container",Mp[e]);Xu("chat_inner_container",Mp[Ep])}function Pp(){pv(),ju("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Aa+_.toUpperCase()+"</div>"),G_("stream_info_title"),hm=!(np=!1),Dp(document.getElementById("stream_info_icon"),Sa),Jc.Play_isHost?Wu("stream_info_name",Jc.Play_DisplaynameHost):Wu("stream_info_name",Jc.Play_selectedChannelDisplayname),Hm(0,0),Hm(1,0),Jc.Play_WasPlaying=1,M_(),yh=Jc.Play_isHost,Jc.Play_isHost=!1,mp=!1,qu("scene_channel_panel_bottom"),up=cp=0,Wu("stream_watching_time",g+dv(0)),Nh=lv(0),Wu("stream_live_time",y+Nh),Hu("progress_pause_holder"),dg(1),_h=-5,Wh=Qh=gp=0,window.clearInterval(jh),Kh=!1,ap=3e3,fp=!(Jh=0),Mh=Ch,$h=!(qh=!(Ph=xh=Sh=Xh=0)),document.addEventListener("visibilitychange",Tp,!1),Op(),Jp(),document.body.removeEventListener("keyup",Z_),Ih=window.setInterval(Rp,6e4)}function Lp(e){gv(e)}function Play_CheckResume(){qh&&Tp(),Dg&&Cy(),nm&&(Vm(),window.clearInterval(Zf))}function Tp(){document.hidden?eg()?(kv(),Uv(),cv()):(fv(),$h=!1,lr(),window.clearInterval(Ih)):(qh=!0,Mv(),qh&&(pv(),ap=3e3,mp=!(Jh=0),np?Rp():Op(),Mh=Ch,Hh=0,navigator.onLine?Jp():dh=window.setInterval(Bp,100),Ih=window.setInterval(Rp,6e4)))}function Bp(){(navigator.onLine||200<Hh)&&(window.clearInterval(dh),Jp()),Hh++}function Op(){Yf("https://api.twitch.tv/kraken/streams/"+Jc.Play_selectedChannel_id,ap,2,null,Gp,Up,!1)}function Gp(e){null!==(e=JSON.parse(e)).stream&&(Wu("stream_info_name",yh?Jc.Play_DisplaynameHost:Jc.Play_selectedChannelDisplayname),Jc.Play_selectedChannel_id=e.stream.channel._id,ju("stream_info_title",QS.parse(e.stream.channel.status,!1,!0)),Jc.Play_gameSelected=e.stream.game,op=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Wu("stream_info_game",v+Jc.Play_gameSelected+h+v_(e.stream.viewers)+" "+J+op),Jc.Play_selectedChannelLogo=e.stream.channel.logo,np=!0,Dp(document.getElementById("stream_info_icon"),Jc.Play_selectedChannelLogo),Nh=e.stream.created_at,ro()?(Qa=!0,Za=Jc.Play_selectedChannel_id,mi()):hv())}function Up(){Jh<Fh&&(ap+=500,window.setTimeout(function(){qh&&Op()},750)),Jh++}function Rp(){Yf("https://api.twitch.tv/kraken/streams/"+Jc.Play_selectedChannel_id,3e3,2,null,Np,Vp,!1)}function Np(e){null!==(e=JSON.parse(e)).stream&&(ju("stream_info_title",QS.parse(e.stream.channel.status,!1,!0)),Jc.Play_gameSelected=e.stream.game,Wu("stream_info_game",v+Jc.Play_gameSelected+h+v_(e.stream.viewers)+" "+J+op),np||Dp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Vp(){gp<Fh?(window.setTimeout(function(){qh&&Rp()},2500),gp++):gp=0}function Dp(e,t){e.onerror=function(){this.src=Sa,np=!1},e.src=t}function Jp(){Vh=0,ip=2e3+(mp?3e3:0),Fp()}function Fp(){var e,t;if(e=Mh===Ch?"https://api.twitch.tv/api/channels/"+Jc.Play_selectedChannel+"/access_token"+(ro()&&Xi[Jc.Users_Position].access_token?"?oauth_token="+Xi[Jc.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Jc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Sh.token)+"&sig="+Sh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Tu){if(!(t=Android.mreadUrl(e,ip,1,null)))return void qp();200===(t=JSON.parse(t)).status?(Vh=0,qh&&Yp(t.responseText)):403===t.status?zp():404===t.status?mg():qp()}else(t=new XMLHttpRequest).open("GET",Ou+e,!0),t.timeout=ip,t.setRequestHeader(vu,pu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Vh=0,qh&&Yp(t.responseText)):403===t.status?(Hp(t),mc?Xp():zp()):404===t.status?(Hp(t),mc?Xp():mg()):(Hp(t),qp()))},t.send(null)}function Hp(e){hc&&(console.log(e.status),console.log(e.responseText))}function qp(){qh&&fp&&(++Vh<Dh+(mp?7:0)?(ip+=250,mp?window.setTimeout(Fp,500):Fp()):mc?Xp():mg())}function zp(){vv(),gv(Dn),window.setTimeout(function(){qh&&mg()},4e3)}function Xp(){Th=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Mh=Eh,qh&&Zp()}function Yp(e){Mh===Ch?(Sh=JSON.parse(e),Mh=Ah,Jp()):Mh===Ah&&(Th=jp(xh=e),Mh=Eh,qh&&Zp())}function jp(e){for(var t,n=[],a="",i=1,o=Qp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Wp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Wp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Qp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Zp(){window.clearInterval(jh),Lh=Th[Bh=0].url,-1!==ph.indexOf("source")&&(ph="source");for(var e=0;e<Dv();e++){if(Th[e].id===ph){Lh=Th[Bh=e].url;break}-1!==Th[e].id.indexOf(ph)&&(Lh=Th[Bh=e].url)}vh=ph,Mh=Eh,hc&&console.log("Play_onPlayer:",'\n\n"'+Lh+'"\n'),Tu&&qh&&Android.startVideo(Lh,1),Kp()}function Kp(){hp=!1,Oh&&!Rv()&&Gv(),$h=!0,$p(),Tu&&(Wh=0,pp=1+kh/1e3,Zh=!1,window.clearInterval(jh),jh=window.setInterval(ev,vp))}function $p(){Jc.Play_ChatForceDisable?Nl():ac()}function ev(){var e=!iv();Tu&&(cp=Android.gettime()),qh&&Yh===cp&&e?pp<++Wh&&(Zh&&Kh&&Bh<Dv()-1?Bh++:!Zh&&Kh&&Qh++,navigator.onLine?1<Qh?av(Qh,1,tv):(Vv(),Zp(),Kh=!0):nv(!1,1)):(Wh=Qh=0,Kh=!1),Yh=cp,e&&up++}function tv(e){if(!e){if(!(Bh<Dv()-1))return void mg();Bh++}Qh=0,Vv(),Zp(),Kh=!0}function nv(e,t){Jc.Play_isHost=e,dg(t),fg(t)}function av(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&nv(!1,t))},a.send(null)}function iv(){return!!Tu&&!Android.getPlaybackState()}function ov(){var e=pf();Wu("stream_clock",e),Wu("label_clock",e)}function sv(e){return e<10?"0"+e:e}function dv(e){var t,n,a;return t=sv(parseInt(e)%60),n=sv((e=Math.floor(e/60))%60),a=sv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function lv(e){return dv(parseInt(e/1e3))}function rv(e){return lv((new Date).getTime()-new Date(e).getTime())}function cv(){qh&&(uv(),Jc.Play_WasPlaying=0,_v())}function uv(){Tu&&Android.stopVideo(1),qh=!1,qE(),Zr(),fv(),mv(),Jc.Play_selectedChannel_id=""}function _v(){Zy(0,0),qu("scene1"),Hu("scene2"),w_()}function fv(){Pv(),Mv(),yv(),$v(),yp="",Bh===Dv()-1&&(vh=Th[0].id),Rg===Qy()-1&&(xg=Ug[0].id),lm===Km()-1&&(dm=rm[0].id)}function mv(){$h=!1,document.body.removeEventListener("keydown",Cg),document.removeEventListener("visibilitychange",Tp),lr(),window.clearInterval(Ih),window.clearInterval(jh),tp=!1}function hv(){ju("fallow_text",Aa+Tt),ja=!1}function pv(){Tu?Android.mshowLoading(!0):qu("dialog_loading_play")}function vv(){Tu?Android.mshowLoading(!1):Hu("dialog_loading_play")}function gv(e){Wu("dialog_warning_play_text",e),qu("dialog_warning_play")}function yv(){Hu("dialog_warning_play")}function bv(){return zu("dialog_warning_play")}function wv(){Cv()?kv():(qu("play_dialog_exit"),Gh=window.setTimeout(wv,3e3))}function kv(){window.clearTimeout(Gh),Hu("play_dialog_exit")}function Cv(){return zu("play_dialog_exit")}function Av(){window.clearTimeout(Uh)}function Ev(){window.clearTimeout(Rh)}function Mv(){Av(),Ev(),Hu("play_dialog_simple_pause")}function Iv(){vv(),iv()?Sv()?(Hu("play_dialog_simple_pause"),Rh=window.setTimeout(Iv,8e3)):(qu("play_dialog_simple_pause"),Uh=window.setTimeout(Iv,1500)):Mv()}function Sv(){return zu("play_dialog_simple_pause")}function xv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Pv(){Bv(),document.getElementById("scene_channel_panel").style.opacity="0",ph=vh,window.clearInterval(Mg)}function Lv(){jv(),Nv(),Vv(),Tv(),Mg=window.setInterval(Tv,1e3),ov(),kv(),document.getElementById("scene_channel_panel").style.opacity="1",Ov()}function Tv(){Wu("stream_watching_time",g+dv(up)),Wu("stream_live_time",y+(-1===Nh.indexOf("00:00")?rv(Nh):"00:00"))}function Bv(){window.clearTimeout(hh),ly=0}function Ov(){hh=window.setTimeout(Pv,5e3)}function Gv(){qv(),qu("chat_container")}function Uv(){Hu("chat_container")}function Rv(){return zu("chat_container")}function Nv(){for(var e=Bh=0;e<Dv();e++){if(Th[e].id===ph){Bh=e;break}-1!==Th[e].id.indexOf(ph)&&(Bh=e)}}function Vv(){1===Dv()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):Bh?Bh===Dv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(ph=Th[Bh].id).indexOf("source")?Wu("quality_name",ph.replace("source",ge)+Th[Bh].band):Wu("quality_name",ph+Th[Bh].band)}function Dv(){return Th.length}function Jv(e){lh.style.height=Ap[mh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Ap[mh-1].dialogTop+"%",qv(),sr(),e&&zv(Nn+Ap[mh-1].percentage),window.setTimeout(function(){_r&&(_r.scrollTop=_r.scrollHeight)},500),Nf("ChatSizeValue",mh)}function Fv(e){lh.style.backgroundColor="rgba(0, 0, 0, "+fh+")",e&&zv(Vn+(100*fh).toFixed(0)+"%")}function Hv(e){ch=e?kp[uh=ch]:Cp[ch][uh]}function qv(){var e=4===mh;ch<0?ch=e?2:7:(e?2:7)<ch&&(ch=0),lh.style.top=(e?.2:wp[ch].top+wp[ch].sizeOffset[mh-1])+"%",lh.style.left=wp[ch+(e?2:0)].left+"%",Nf("ChatPositionsValue",ch)}function zv(e){window.clearTimeout(zh),Wu("play_chat_dialog_text",e),qu("play_chat_dialog"),zh=window.setTimeout(Xv,1e3)}function Xv(){Hu("play_chat_dialog")}function Yv(e){iv()?(Mv(),ju("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(xv()&&Pv(),window.clearInterval(jh),jh=window.setInterval(ev,vp)):2===e?(xv()&&Fy(),window.clearInterval(Xg),Xg=window.setInterval(Ry,vp)):3===e&&(xv()&&jm(),window.clearInterval(Zf),Zf=window.setInterval(Rm,vp)),Tu&&Android.play(!0)):(window.clearInterval(jh),window.clearInterval(Xg),window.clearInterval(Zf),ju("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Iv(),Tu&&Android.play(!1))}function jv(){Qv(),ep=1,Wv()}function Wv(){Xu("scene2_pannel_"+ep,"playbotton_focus")}function Qv(){Yu("scene2_pannel_"+ep,"playbotton_focus")}function Zv(e){Pg=Mh=-1,fm=-1,Uv(),Pv(),jm(),Fy(),tp||yv(),vv(),kv(),3===e&&km&&Mm&&(ag(),sp=-1),ng()}function Kv(){qu("dialog_end_stream")}function $v(){Hu("dialog_end_stream"),og(),tg()}function eg(){return zu("dialog_end_stream")}function tg(){ag(),sp=0,ng()}function ng(){Xu("dialog_end_"+sp,"dialog_end_icons_focus")}function ag(){Yu("dialog_end_"+sp,"dialog_end_icons_focus")}function ig(e){1===e?rp=Jc.Play_selectedChannelDisplayname+" "+_:2===e?rp=Jc.Main_selectedChannelDisplayname+$t:3===e&&(rp=Jc.Main_selectedChannelDisplayname+Gt),ju("dialog_end_stream_text",rp+S+ca+(km&&Mm?la:tn)+dp+"..."),eg()?(Pg=Mh=Eh,fm=mm,-1===--dp?(ju("dialog_end_stream_text",rp+S+ca+tn+"0..."),kv(),Uv(),1===e?cv():2===e?Vy():3===e&&(km&&Mm?zm():Vm())):lp=window.setTimeout(function(){ig(e)},1e3)):lp=window.setTimeout(function(){ig(e)},50)}function og(){window.clearTimeout(lp),ju("dialog_end_stream_text",rp+S+ca+nn)}function sg(e){var t=!0;-1===sp&&km?zm():sp?1===sp?Jc.Play_isHost?(Jc.Play_DisplaynameHost=Jc.Play_selectedChannelDisplayname+ne,Jc.Play_selectedChannel=_p.target_login,Jc.Play_selectedChannelDisplayname=_p.target_display_name,Jc.Play_DisplaynameHost=Jc.Play_DisplaynameHost+Jc.Play_selectedChannelDisplayname,uv(),document.body.addEventListener("keydown",Cg,!1),Jc.Play_selectedChannel_id=_p.target_id,hf(Pp)):nh():2===sp?lg(e):3===sp&&cg(e):2===e?Ug.length?(jg=!(uy=!0),Oy(),Mv(),br=ay=0,Sr()):(t=!1,gv(ea),window.setTimeout(function(){yv()},2e3)):3===e&&(rm.length?(vm=!(um=!0),Bm(),Mv(),hm?(ay=0,br=sl,Sr()):nc()):(t=!1,gv(ea),window.setTimeout(function(){yv()},2e3))),1!==sp&&3===sp&&""===Jc.Play_gameSelected&&(t=!1),t&&$v()}function dg(e){e?1===e?(ag(),sp=2,ng(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(tg(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(tg(),document.getElementById("dialog_end_-1").style.display=km?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Wu("dialog_end_vod_text",hm?sn:dn)):(ag(),sp=1,ng(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Wu("dialog_end_vod_text",un))}function lg(e){Jc.Main_BeforeChannelisSet||Jc.Main_Go===xc||Jc.Main_Go===Pc||(Jc.Main_BeforeChannel=Jc.Main_BeforeAgameisSet&&Jc.Main_Go!==wc?Jc.Main_BeforeAgame:Jc.Main_Go,Jc.Main_BeforeChannelisSet=!0),S_(Jc.Main_Go),Jc.Main_Go=Sc,1===e?(Jc.Main_selectedChannel_id=Jc.Play_selectedChannel_id,Jc.Main_selectedChannel=Jc.Play_selectedChannel,Jc.Main_selectedChannelDisplayname=Jc.Play_selectedChannelDisplayname,Qs=ja,Uv(),cv()):2===e?Vy():3===e&&Vm()}function rg(e){Jc.Search_isSearching||(Jc.Main_BeforeSearch=Jc.Main_Go),S_(Jc.Main_Go),Jc.Main_Go=Ec,1===e?(Uv(),cv()):2===e?Vy():3===e&&Vm()}function cg(e){if(""===Jc.Play_gameSelected)return tp=!0,gv(Qn),void window.setTimeout(function(){tp=!1,yv()},2e3);Jc.Main_BeforeAgameisSet||Jc.Main_Go===Uc||Jc.Main_Go===Rc||(Jc.Main_BeforeAgame=Jc.Main_BeforeChannelisSet&&Jc.Main_Go!==Sc&&Jc.Main_Go!==xc&&Jc.Main_Go!==Pc?Jc.Main_BeforeChannel:Jc.Main_Go,Jc.Main_BeforeAgameisSet=!0),S_(Jc.Main_Go),Jc.Main_Go=wc,Bo=!1,Jc.Main_gameSelected=Jc.Play_gameSelected,Uv(),1===e?cv():2===e?Vy():3===e&&Vm()}function ug(){ro()&&Xi[Jc.Users_Position].access_token?ja?ki():yi():(gv(Bt),tp=!0,window.setTimeout(function(){yv(),tp=!1},2e3))}function _g(e){var t=document.getElementById("scene_channel_panel");2!==ep&&(t.style.transition="none",t.style.opacity="0"),hf(function(){ep?1===ep?(1===e?(Zp(),Pv()):2===e?(jg=!1,Oy(),Fy()):3===e&&(vm=!1,Bm(),jm()),Mv()):2===ep?(Za=1===e?Jc.Play_selectedChannel_id:Jc.Main_selectedChannel_id,ug(),Bv(),1===e?Ov():2===e?Yy():3===e&&eh()):3===ep?cg(e):4===ep?lg(e):5===ep&&rg(e):nh(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(jh),mg()):fg(e)}function fg(e){window.clearInterval(jh),window.clearInterval(Zf),window.clearInterval(Xg),Zv(e),dp=3,ig(e),Kv()}function mg(){pv(),Mh=-1,Vh=0,ip=2e3,lr(),window.clearInterval(Ih),window.clearInterval(jh),""!==Jc.Play_selectedChannel_id?gg():hg()}function hg(){Yf("https://api.twitch.tv/kraken/users?login="+Jc.Play_selectedChannel,ip,2,null,pg,vg,!1)}function pg(e){void 0!==(e=JSON.parse(e).users[0])?(Jc.Play_selectedChannel_id=e._id,Vh=0,ip=2e3,gg()):fg(1)}function vg(){++Vh<Dh?(ip+=250,hg()):nv(!1,1)}function gg(){qf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Jc.Play_selectedChannel_id),ip,1,null,bg,yg,!0)}function yg(){++Vh<Dh?(ip+=250,gg()):nv(!1,1)}function bg(e){void 0!==(_p=JSON.parse(e).hosts[0]).target_login?(tp=!0,gv(Jc.Play_selectedChannelDisplayname+cn+ne+_p.target_display_name),window.setTimeout(function(){tp=!1},4e3),dg(0),Jc.Play_isHost=!0):(dg(1),Jc.Play_isHost=!1),fg(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?Uy(t):3===e&&Gm(t))}function wg(){ja?(ju("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),ju("fallow_text",Aa+Mt)):(ju("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),ju("fallow_text",Aa+It))}function kg(e){eg()&&!Cv()?(og(),wv()):FE()?qE():xv()&&!rb()?e?Fy():Pv():rb()&&Cv()?(lb(),Dy(!1),_v()):Cv()?(kv(),Uv(),e?Vy():cv()):(bv()&&yv(),wv())}function Cg(e){if(Mh!==Eh)switch(e.keyCode){case Va:Cv()?(kv(),Uv(),cv()):wv()}else switch(e.keyCode){case Oa:FE()?wh&&!fE&&(eM(),wh--,WE()):gh&&!xv()&&Rv()?(ch++,qv()):xv()?(Qv(),5<++ep&&(ep=1),Wv(),Bv(),Ov()):eg()?(og(),ag(),--sp<(Jc.Play_isHost?1:2)&&(sp=3),ng()):Lv();break;case Ua:FE()?wh<gE-1&&!fE&&(eM(),wh++,WE()):!gh||xv()||eg()?xv()?(Qv(),--ep<1&&(ep=5),Wv(),Bv(),Ov()):eg()?(og(),ag(),3<++sp&&(sp=Jc.Play_isHost?1:2),ng()):Lv():Nf("ChatEnable",(Oh=Rv()||eg()?(Uv(),!1):(Gv(),!0))?"true":"false");break;case Ga:xv()?(0<Bh&&1===ep&&(Bh--,Vv()),Bv(),Ov()):!FE()&&ro()?HE():eg()?og():FE()&&jE();break;case Ra:xv()?(Bh<Dv()-1&&1===ep&&(Bh++,Vv()),Bv(),Ov()):FE()?qE():gh&&Rv()?(4<++mh?Hv(!(mh=1)):4===mh&&Hv(!0),Jv(!0)):eg()?og():Lv();break;case Na:if(eg())sg(1);else if(xv())_g(1);else if(FE()){var t=document.getElementById(IE[8]+wh);null===t?zE():Jc.Play_selectedChannel!==JSON.parse(t.getAttribute(Eu))[0]?(uv(),sf(wh,IE,Cg)):zE()}else Lv();break;case Va:kg(!1);break;case Ta:case La:case Ba:eg()||Yv(1)}}var Ag,Eg,Mg,Ig,Sg="source",xg=Sg,Pg=0,Lg=null,Tg=0,Bg=0,Og=0,Gg="",Ug=[],Rg=0,Ng=0,Vg=5,Dg=!1,Jg=2e3,Fg=0,Hg=5,qg=1e4,zg=0,Xg=null,Yg=0,jg=!1,Wg=0,Qg=!1,Zg=!1,Kg=0,$g=!1,ey=0,ty=2e3,ny=!1,ay=0,iy={},oy=0,sy=0,dy=!0,ly=0,ry=0,cy=0,uy=!1,_y=[0,10,30,60,120,300,600,900,1200,1800],fy=!1;function my(){pv(),$v(),ay=0,Wu("stream_live_time",""),Wu("stream_watching_time",""),Wu("progress_bar_current_time",dv(0)),wr=O+".",ju("pause_button",'<i class="pause_button3d icon-pause"></i>'),Hu("progress_pause_holder"),ry=0,eb((bp=_y)[1]),Pg=Ch,hm=!0,sl=0,Jc.Play_isHost=!1,Hm(0,0),Hm(1,0),Jc.vodOffset?(py(),by()):(dy&&""!==Jc.Main_selectedChannel_id?(Dp(document.getElementById("stream_info_icon"),Jc.Main_selectedChannelLogo),iy["#"+Jc.ChannelVod_vodId]||Sr(),ro()?(Za=Jc.Main_selectedChannel_id,Qa=!0,mi()):hv()):(py(),vy()),Wu("stream_info_name",Jc.Main_selectedChannelDisplayname),ju("stream_info_title",""),ju("stream_info_game",al+" ["+Zd.toUpperCase()+"]"),Wu("stream_live_icon",il),Qu("stream_info_game")),iy["#"+Jc.ChannelVod_vodId]&&!Jc.vodOffset?(vv(),db()):hy()}function hy(){window.setTimeout(function(){qu("scene_channel_panel_bottom"),qu("progress_pause_holder")},1e3),Wu("progress_bar_duration",dv(jd)),Jc.Play_WasPlaying=2,M_(),Ig=window.setInterval(Ey,6e4),J_(yp),Yg=Wg=0,window.clearInterval(Xg),tp=ny=Qg=!(_h=-13),$g=!1,Og=Bg=Tg=ey=0,document.addEventListener("visibilitychange",Cy,!1),fy=!(Dg=!(Zg=!1)),My(),dg(2),document.body.removeEventListener("keyup",Z_)}function py(){Fg=0,Hg=5,qg=1e4}function vy(){Yf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Jc.Main_selectedChannel),qg,2,null,gy,yy,!1)}function gy(e){void 0!==(e=JSON.parse(e).users[0])?(Jc.Main_selectedChannelLogo=e.logo,Jc.Main_selectedChannel_id=e._id,iy["#"+Jc.ChannelVod_vodId]||Sr(),ro()?(Za=Jc.Main_selectedChannel_id,Qa=!0,mi()):hv()):(Jc.Main_selectedChannelLogo=Sa,Jc.Main_selectedChannel_id=""),Dp(document.getElementById("stream_info_icon"),Jc.Main_selectedChannelLogo)}function yy(){++Fg<Hg?(qg+=500,window.setTimeout(function(){Dg&&vy()},750)):Eg=window.setTimeout(vy,2500)}function by(){Yf("https://api.twitch.tv/kraken/videos/"+Jc.ChannelVod_vodId,qg,2,null,ky,wy,!1)}function wy(){++Fg<Hg&&(qg+=2e3,by())}function ky(e){e=JSON.parse(e),ju("stream_info_title",QS.parse(e.title,!1,!0)),ju("stream_info_game",Qt+v+e.game+" "+v_(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Wu("stream_live_icon",N+T_(e.created_at)),Wu("progress_bar_duration",dv(jd=parseInt(e.length))),ay=1e3*Jc.vodOffset,Zy(Jc.vodOffset,jd,!0),Jc.Main_selectedChannelDisplayname=e.channel.display_name,Wu("stream_info_name",Jc.Main_selectedChannelDisplayname),Jc.Main_selectedChannelLogo=e.channel.logo,Dp(document.getElementById("stream_info_icon"),Jc.Main_selectedChannelLogo),Jc.Main_selectedChannel_id=e.channel._id,Jc.Main_selectedChannel=e.channel.name,ro()?(Qa=!0,Za=Jc.Main_selectedChannel_id,mi()):hv(),J_(e.increment_view_count_url)}function Cy(){document.hidden?eg()?(kv(),Uv(),Vy()):(Ey(),ab(),Qr(),fv(),window.clearInterval(Xg),window.clearInterval(Ig)):(Dg=!0,Mv(),Dg&&(pv(),Hh=Hh=0,navigator.onLine?Gy():dh=window.setInterval(Ay,100),Wr(Mr),dg(2),Ig=window.setInterval(Ey,6e4)))}function Ay(){(navigator.onLine||200<Hh)&&(window.clearInterval(dh),Pg=Ch,My()),Hh++}function Ey(){Jc.vodOffset=Tu?parseInt(Android.gettime()/1e3):0,M_(),Jc.vodOffset=0}function My(){Ng=0,ty=2e3,Iy()}function Iy(){qf(Pg===Ch?"https://api.twitch.tv/api/vods/"+Jc.ChannelVod_vodId+"/access_token"+(ro()&&Xi[Jc.Users_Position].access_token?"?oauth_token="+Xi[Jc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Jc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Tg.token)+"&nauthsig="+Tg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",ip,1,null,Py,Sy,!0)}function Sy(){if(Dg){var e;if(Tg.token&&(e=JSON.parse(Tg.token)),e&&0!==JSON.parse(Tg.token).chansub.restricted_bitrates.length)return void Ly();++Ng<Vg?(ty+=250,Iy()):mc?xy():(vv(),fg(2))}}function xy(){Ug=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Pg=Eh,Dg&&Oy()}function Py(e){Pg===Ch?(Tg=JSON.parse(e),Pg=Ah,My()):Pg===Ah&&(Ug=jp(Bg=e),Pg=Eh,Dg&&Oy())}function Ly(){ro()&&Xi[Jc.Users_Position].access_token?(Za=Jc.Main_selectedChannel_id,Ei()):(vv(),gv(x+St),window.setTimeout(function(){Dg&&Vy()},4e3))}function Ty(){vv(),gv(x+xt),window.setTimeout(function(){Dg&&Vy()},4e3)}function By(){fy?(vv(),gv(x+Pt),window.setTimeout(function(){Dg&&Vy()},4e3)):(fy=!0,Pg=Ch,My())}function Oy(){window.clearInterval(Xg),Gg=Ug[Rg=0].url,-1!==Sg.indexOf("source")&&(Sg="source");for(var e=0;e<Qy();e++){if(Ug[e].id===Sg){Gg=Ug[Rg=e].url;break}-1!==Ug[e].id.indexOf(Sg)&&(Gg=Ug[Rg=e].url)}xg=Sg,Gy()}function Gy(){hc&&console.log("PlayVod_onPlayer:",'\n\n"'+Gg+'"\n'),Jc.vodOffset?(br=Jc.vodOffset,Sr(),Tu&&Dg&&Android.startVideoOffset(Gg,2,uy?-1:1e3*Jc.vodOffset),Jc.vodOffset=0):Tu&&Dg&&Android.startVideoOffset(Gg,2,uy?-1:Android.gettime()),uy=!1,Oh&&!Rv()&&Gv(),Tu&&(Yg=0,pp=3+Jg/1e3,jg=!1,window.clearInterval(Xg),Xg=window.setInterval(Ry,vp))}function Uy(e){Wu("progress_bar_duration",dv(jd=e/1e3)),qy()}function Ry(){Tu&&(ay=Android.gettime()),jd<ay/1e3&&(Tu&&Android.play(!1),Play_PannelEndStart(2)),Dg&&zg===ay&&!iv()?++Yg>pp&&(jg&&Qg&&Rg<Qy()-1?Rg++:!jg&&Qg&&Wg++,navigator.onLine?1<Wg?av(Wg,2,Ny):(Wy(),Oy(),Qg=!0):nv(!1,2)):(Yg=Wg=0,Qg=!1),zg=ay}function Ny(e){if(!e){if(!(Rg<Qy()-1))return void nv(!1,2);Rg++}Wg=0,Wy(),Oy(),Qg=!0}function Vy(){Dg&&(Ug=[],Dy(!0),_v())}function Dy(e){e&&ab(),Tu&&Android.stopVideo(2),Dg=!1,window.clearInterval(Ig),window.clearInterval(Eg),Jc.Play_WasPlaying=0,dy=!0,Zr(),qE(),fv(),Jy()}function Jy(){document.body.removeEventListener("keydown",mb),document.removeEventListener("visibilitychange",Cy),Jc.vodOffset=0,window.clearInterval(Lg),window.clearInterval(Xg),jd=0}function Fy(){$g=!1,Kg=ey=0,Bv(),document.getElementById("scene_channel_panel").style.opacity="0",Tu&&Zy(Android.gettime()/1e3,jd,!0),ju("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",Sg=xg,window.clearInterval(Mg)}function Hy(e){qy(),ov(),kv(),Mg=window.setInterval(qy,1e3),e&&(zy(),jy(),Wy(),Yy()),document.getElementById("scene_channel_panel").style.opacity="1"}function qy(){Tu&&Zy(Android.gettime()/1e3,jd,!$g)}function zy(){sy=1,Em=0,Xy()}function Xy(){Yu("pause_button","progress_bar_div_focus"),Yu("next_button","progress_bar_div_focus"),Yu("back_button","progress_bar_div_focus"),Yu("progress_bar_div","progress_bar_div_focus"),sy?1===sy?(Em?1===Em?Xu("next_button","progress_bar_div_focus"):-1===Em&&Xu("back_button","progress_bar_div_focus"):Xu("pause_button","progress_bar_div_focus"),Qv(),ju("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none"):2===sy&&(Wv(),ju("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none"):(Xu("progress_bar_div","progress_bar_div_focus"),Qv(),Kg&&(tb(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Yy(){hh=window.setTimeout(Fy,5e3+ly)}function jy(){for(var e=Rg=0;e<Qy();e++){if(Ug[e].id===Sg){Rg=e;break}-1!==Ug[e].id.indexOf(Sg)&&(Rg=e)}}function Wy(){1===Qy()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Rg?Rg===Qy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Sg=Ug[Rg].id).indexOf("source")?Wu("quality_name",Sg.replace("source",ge)+Ug[Rg].band):Wu("quality_name",Sg+Ug[Rg].band)}function Qy(){return Ug.length}function Zy(e,t,n){Wu("progress_bar_current_time",dv(e)),n&&(rh.style.width=e/t*100+"%")}function Ky(){Mv(),eg()||(vm=jg=!1,Dg?(Tu&&Android.startVideoOffset(Gg,2,0<cy?1e3*cy:-1),br=cy):(br=sl,Tu&&Android.startVideoOffset(cm,3,0<cy?1e3*cy:-1)),hm&&Sr()),ju("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",$g=!1,cy=Kg=ey=0}function $y(){ry=ey=0,eb(bp[1])}function eb(e){Kg&&!sy&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Wu("progress_bar_steps",Jn+e/60+Hn):Wu("progress_bar_steps",e?Jn+e+Fn:Jn+bp[1]+Fn)}function tb(){Wu("progress_bar_jump_to",ue+" ("+(Kg<0?"-":"")+dv(Math.abs(Kg))+")"+_e+dv(cy))}function nb(e,t){var n=Tu?Android.gettime()/1e3:0;window.clearTimeout(Ag),$g=!0,ey<bp.length-1&&ry++%6==0&&ey++,Kg+=bp[ey]*e,cy=n+Kg,Dg&&(cy=10*Math.floor(cy/10)),t<cy?(Kg=t-n-bp[1],cy=n+Kg,ry=ey=0):cy<0&&(Kg=0-n,cy=ry=ey=0),tb(),rh.style.width=cy/t*100+"%",eb(bp[ey]*e),Ag=window.setTimeout($y,1e3)}function ab(){var e=Tu?parseInt(Android.gettime()/1e3):0,t="#"+Jc.ChannelVod_vodId;300<e&&e<jd-300?(iy[t]&&delete iy[t],iy[t]=e,Nf("PlayVod_VodIds",JSON.stringify(iy))):jd-300<e&&iy[t]&&(delete iy[t],Nf("PlayVod_VodIds",JSON.stringify(iy)))}function ib(){iy=Df("PlayVod_VodIds",{});var e=ob();250<e&&sb(e-250)}function ob(){var e=0;for(var t in iy)iy.hasOwnProperty(t)&&e++;return e}function sb(e){var t=0;for(var n in iy){if(!(t<e))break;delete iy[n],t++}Nf("PlayVod_VodIds",JSON.stringify(iy))}function db(){Hu("scene_channel_panel_bottom"),Hy(!1),ju("dialog_vod_saved_text",kn+lv(1e3*iy["#"+Jc.ChannelVod_vodId])),qu("dialog_vod_start")}function lb(){Fy(),Hu("dialog_vod_start"),cb(),window.setTimeout(function(){qu("scene_channel_panel_bottom")},1e3)}function rb(){return zu("dialog_vod_start")}function cb(){_b(),oy=0,ub()}function ub(){Xu("dialog_vod_"+oy,"dialog_end_icons_focus")}function _b(){Yu("dialog_vod_"+oy,"dialog_end_icons_focus")}function fb(e){lb(),e?(delete iy["#"+Jc.ChannelVod_vodId],Jc.vodOffset=0,my()):(Jc.vodOffset=iy["#"+Jc.ChannelVod_vodId],ay=1e3*Jc.vodOffset,Zy(Jc.vodOffset,jd,!0),hy())}function mb(e){if(Pg===Eh||rb())switch(e.keyCode){case Oa:FE()?wh&&!fE&&(eM(),wh--,WE()):gh&&!xv()&&Rv()?(ch++,qv()):xv()&&!rb()?(Bv(),2===sy?(Qv(),5<++ep&&(ep=1),Wv()):sy||(nb(-1,jd),ly=2500),Yy()):rb()?(_b(),oy?oy--:oy++,ub()):eg()?(og(),ag(),--sp<0&&(sp=3),1===sp&&(sp=0),ng()):rb()||Hy(!0);break;case Ua:console.log(sy),FE()?wh<gE-1&&!fE&&(eM(),wh++,WE()):!gh||xv()||eg()?xv()&&!rb()?(Bv(),2===sy?(Qv(),--ep<1&&(ep=5),Wv()):sy||(nb(1,jd),ly=2500),Yy()):rb()?(_b(),oy?oy--:oy++,ub()):eg()?(og(),ag(),3<++sp&&(sp=0),1===sp&&(sp=2),ng()):rb()||Hy(!0):Nf("ChatEnable",(Oh=Rv()||eg()?(Uv(),!1):(Gv(),!0))?"true":"false");break;case Ga:eg()?og():xv()&&!rb()?(2===sy&&1!==ep?(sy--,Xy()):1===sy?(sy--,Xy()):0<Rg&&1===ep&&(Rg--,Wy()),Bv(),Yy()):FE()?FE()?jE():rb()||Hy(!0):HE();break;case Ra:eg()?og():xv()&&!rb()?(sy?1===sy?(sy++,Xy()):Rg<Qy()-1&&1===ep&&(Rg++,Wy()):(sy++,Xy()),Bv(),Yy()):FE()?qE():gh&&Rv()?(4<++mh?Hv(!(mh=1)):4===mh&&Hv(!0),Jv(!0)):rb()||Hy(!0);break;case Na:rb()?fb(oy):eg()?sg(2):xv()?sy?1===sy?(Jc.Play_ChatForceDisable&&(iv()?Wr(Mr):Qr()),eg()||Yv(2)):_g(2):(Bv(),Yy(),Kg&&Ky()):FE()?(Dy(!0),sf(wh,IE,Cg)):Hy(!0);break;case Va:kg(!0);break;case Ta:case La:case Ba:Jc.Play_ChatForceDisable&&(iv()?Wr(Mr):Qr()),eg()||Yv(2)}else switch(e.keyCode){case Va:Cv()?(kv(),Vy()):wv()}}var hb={};function pb(){console.log("InitScreens place holder")}function vb(){dw(),lw(),cw(),uw(),_w(),mw(),hw()}function gb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function yb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function bb(){tu=-1,Jc.Main_Go=hb.screen,hb.label_init(),document.body.addEventListener("keydown",qb,!1),qu(hb.ids[10]),hb.status?(V_(hb.posY),Bb(!0),M_()):kb()}function wb(){tu=0,hb.label_exit(),document.body.removeEventListener("keydown",qb),Hu(hb.ids[10]),r_()}function kb(){Zu(),G_(hb.table),r_(),hb.cursor=null,hb.status=!1,hb.row=document.createElement("div"),hb.MaxOffset=0,hb.TopRowCreated=!1,hb.offset=0,hb.idObject={},hb.Cells=[],hb.FirstLoad=!0,hb.itemsCount=0,hb.posX=0,hb.posY=0,hb.row_id=0,hb.currY=0,hb.coloumn_id=0,hb.data=null,hb.data_cursor=0,hb.dataEnded=!1,i_(),Cb(),Ab()}function Cb(){hb.loadingData=!0,hb.loadingDataTry=0,hb.loadingDataTimeout=3500}function Ab(){hb.set_url(),Tu&&!hb.itemsCount?Xf(hb.url,hb.loadingDataTimeout,2,null,Mb,Eb):Yf(hb.url,hb.loadingDataTimeout,2,null,Mb,Eb,!1)}function Eb(){hb.loadingDataTry++,hb.loadingDataTry<hb.loadingDataTryMax?(hb.loadingDataTimeout+=500,Ab()):(hb.loadingData=!1,hb.itemsCount?hb.dataEnded=!0:(hb.FirstLoad=!1,Ku(),l_(P),hb.key_exit()))}function Mb(e){hb.concatenate(e)}function Ib(){var e=hb.data.length-hb.data_cursor;if(e>hb.ItemsLimit?e=hb.ItemsLimit:hb.loadingData||(hb.dataEnded=!0),hb.HasSwitches&&!hb.TopRowCreated&&hb.addSwitches(),e){hb.row_id||(hb.row=document.createElement("div"),hb.row.id=this.ids[12]+hb.row_id);var t=Math.ceil(e/hb.ColoumnsCount),n=hb.row_id+t;for(hb.row_id;hb.row_id<n;){for(hb.coloumn_id===hb.ColoumnsCount&&(hb.row=document.createElement("div"),hb.row.id=this.ids[12]+hb.row_id,hb.coloumn_id=0),hb.coloumn_id;hb.coloumn_id<hb.ColoumnsCount&&hb.data_cursor<hb.data.length;hb.data_cursor++)hb.data[hb.data_cursor]&&hb.addCell(hb.data[hb.data_cursor]);if(hb.coloumn_id===hb.ColoumnsCount)hb.Cells[hb.row_id]=hb.row,hb.row_id++;else if(hb.data_cursor>=hb.data.length){this.dataEnded&&(hb.Cells[hb.row_id]=hb.row);break}}}hb.emptyContent=!e&&!hb.status,Tb()}function Sb(e,t){var n=e+"_"+t;return(Qc=document.createElement("div")).style.cssText=hb.ThumbCssText,n}function xb(e,t,n,a,i,o){var s=Sb(e,t);return Qc.setAttribute("id",n[5]+s),Qc.setAttribute(Eu,i),Qc.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+hb.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Qc}function Pb(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=Sb(e,t);return Qc.setAttribute("id",n[8]+p),Qc.setAttribute(Eu,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Qc.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+hb.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+ca+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+dv(r)+"</div></div></div></div>",Qc}function Lb(e,t,n,a,i){var o=Sb(e,t);return Qc.setAttribute("id",a[8]+o),Qc.setAttribute(Eu,JSON.stringify(n)),Qc.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img" src="'+i[0]+'" onerror="this.onerror=null;this.src=\''+hb.img_404+'\'"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+QS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Qc}function Tb(){if(hb.status)o_(hb.posX,hb.posY,hb.ColoumnsCount,hb.itemsCount);else{if(hb.emptyContent)l_(hb.empty_str());else{hb.status=!0;for(var e=document.getElementById(hb.table),t=0;t<(hb.Cells.length<hb.visiblerows?hb.Cells.length:hb.visiblerows);t++)e.appendChild(hb.Cells[t])}nu&&hb.status&&rC.restor_playback.defaultValue?Jc.Play_WasPlaying?(S_(Jc.Main_Go),Jc.Main_Go=Dc,Jc.vodOffset||(Jc.vodOffset=1),jd=Jc.vodOffset+1,gv(qn),1===Jc.Play_WasPlaying?df():cf(),A_(!0),window.setTimeout(function(){tp||yv()},2e3)):1!==Dc?(S_(Jc.Main_Go),Jc.Main_Go=Dc,_f(hb.posY+"_"+hb.posX,hb.ids),A_()):(Jc.Never_run&&m_(),Jc.Never_run=!1,Bb(),M_()):(Bb(),M_()),nu=!1,hb.FirstLoad=!1,Ku()}}function Bb(e){if(hb.emptyContent){if(!hb.HasSwitches)return void hb.key_exit();hb.posY=-1}if(hb.posY<0)return Vb(),void(hb.emptyContent||o_(hb.posX,hb.posY+1,hb.ColoumnsCount,hb.itemsCount));Gb(e),2<hb.posY&&hb.data_cursor+Kb>hb.data.length&&!hb.dataEnded&&!hb.loadingData?(Cb(),Ab()):hb.posY+hb.ItemsReloadLimit>hb.itemsCount/hb.ColoumnsCount&&hb.data_cursor<hb.data.length&&hf(function(){hb.loadDataSuccess()}),qc&&_f(hb.posY+"_"+hb.posX,hb.ids)}function Ob(e){return null!==document.getElementById(e)}function Gb(e){if(hb.currY<hb.posY)1<hb.posY&&hb.Cells.length-1>=hb.posY+1&&(document.getElementById(hb.table).appendChild(hb.Cells[hb.posY+1]),Ob(hb.ids[12]+(hb.posY-2))&&document.getElementById(hb.ids[12]+(hb.posY-2)).remove());else if(hb.currY>hb.posY&&hb.posY){var t=document.getElementById(hb.table);t.insertBefore(hb.Cells[hb.posY-1],t.childNodes[hb.HasSwitches?1:0]),Ob(hb.ids[12]+(hb.posY+2))&&document.getElementById(hb.ids[12]+(hb.posY+2)).remove()}hb.currY=hb.posY,Xu(hb.ids[0]+hb.posY+"_"+hb.posX,Au),o_(hb.posX,hb.posY,hb.ColoumnsCount,hb.itemsCount),hb.addFocus(hb.posY,hb.posX,hb.ids,e)}function Ub(e,t,n,a){e<2&&D_(e)||a?e?b_(e+1,0,n[0])&&uf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):uf(n[10],.07*screen.height):Z_()}function Rb(e,t,n,a){D_(e)||a?hb.posY<hb.Cells.length-1&&uf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):hb.Cells.length-1===e&&b_(e-1,t,n[0])?uf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Z_()}function Nb(e,t){_f(hb.posY+"_"+hb.posX,hb.ids),hb.posY+=e,hb.posX=t,Bb()}function Vb(){1<hb.posX?hb.posX=0:hb.posX<0&&(hb.posX=1),Xu(hb.ids[0]+"y_"+hb.posX,Au)}function Db(){1<hb.posX?hb.posX=0:hb.posX<0&&(hb.posX=1),Yu(hb.ids[0]+"y_"+hb.posX,Au)}function Jb(e){p_()?h_():__()?u_():(e===hb.screen?Jc.Main_Go=gc:Jc.Main_Go=e,wb())}function Fb(e){if(!hb.HasSwitches||hb.posY||-1!==e||hb.emptyContent){if(hb.HasSwitches&&-1===hb.posY&&b_(0,hb.posX,hb.ids[0]))hb.posY=0,Bb(),Db();else for(var t=0;t<hb.ColoumnsCount;t++)if(b_(hb.posY+e,hb.posX-t,hb.ids[0]))return void Nb(e,hb.posX-t)}else _f(hb.posY+"_"+hb.posX,hb.ids),hb.posY=-1,1<hb.posX&&(hb.posX=1),Vb()}function Hb(e,t){hb.HasSwitches&&-1===hb.posY?(hb.posY=-1,Db(),hb.posX++,Vb()):b_(hb.posY,hb.posX+e,hb.ids[0])?Nb(0,hb.posX+e):b_(hb.posY+e,t,hb.ids[0])&&Nb(e,t)}function qb(e){if(!hb.FirstLoad&&!ef())switch($_(),e.keyCode){case Va:hb.key_exit();break;case Oa:Hb(-1,hb.ColoumnsCount-1);break;case Ua:hb.dataEnded||hb.posX<hb.ColoumnsCount-1||hb.Cells.length-1>=hb.posY+2?Hb(1,0):Bb(!0);break;case Ga:Fb(-1);break;case Ra:hb.dataEnded||hb.Cells.length-1>=hb.posY+2?Fb(1):Bb(!0);break;case Ta:case La:case Ba:case Na:hb.key_play()}}hb.FirstLoad=!1;var zb,Xb,Yb,jb,Wb,Qb,Zb,Kb=100,$b="",ew="",tw="",nw="",aw="",iw="",ow={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Ib,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){p_()?h_():__()?u_():(b_(this.posY,this.posX,this.ids[0])?_f(this.posY+"_"+this.posX,this.ids):this.posY<0&&(Db(),this.posY=0),Tf(qb))}},sw={ThumbSize:32.65,visiblerows:3,ItemsLimit:su,ItemsReloadLimit:lu,ColoumnsCount:du,addFocus:Ub,img_404:xa,empty_str:function(){return L+W},key_play:function(){sf(this.posY+"_"+this.posX,this.ids,qb)}};function dw(){(Qb=yb(Qb=yb({ids:gb("Live"),table:"stream_table_live",screen:gc,base_url:"https://api.twitch.tv/kraken/streams?limit="+Kb,set_url:function(){this.offset&&this.offset+Kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Kc?"&broadcaster_language="+Kc:"")},label_init:function(){Jc.Main_CenterLablesVectorPos=0,Xu("top_bar_live","icon_center_focus")},label_exit:function(){Yu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Lb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+rv(e.created_at)+" "+h+v_(e.viewers)+J,g_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},ow),sw)).set_ThumbSize()}function lw(){(Zb=yb(Zb=yb({ids:gb("Featured"),table:"stream_table_featured",screen:Nc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Kb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(ro()&&Xi[Jc.Users_Position].access_token?"&oauth_token="+Xi[Jc.Users_Position].access_token:"")},label_init:function(){Jc.Main_CenterLablesVectorPos=2,Xu("top_bar_featured","icon_center_focus")},label_exit:function(){Yu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Lb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+rv(e.created_at)+" "+h+v_(e.viewers)+J,g_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},ow),sw)).set_ThumbSize()}var rw={ThumbSize:32.65,ItemsLimit:su,TopRowCreated:!1,ItemsReloadLimit:lu,ColoumnsCount:du,addFocus:Ub,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:xa,empty_str:function(){return L+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Aa+Aa+m,Aa+Aa+da],a=0;a<n.length;a++)e='<i class="icon-'+this.SwitchesIcons[a]+' stream_channel_fallow_icon"></i>'+n[a],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+a),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+a+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+a+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(Mm=!0,Db(),this.posX=0,this.posY=0,lf(this.posY+"_"+this.posX,this.ids,qb)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),kb())):lf(this.posY+"_"+this.posX,this.ids,qb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Pb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,T_(e.created_at)],[QS.parse(e.title),v,e.game],v_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function cw(){(zb=yb(zb=yb({ids:gb("Clip"),table:"stream_table_clip",screen:Gc,periodPos:Vf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Kb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Kc?"&language="+Kc:"")},SetPeriod:function(){ju("top_bar_clip",U+L_(eu[this.periodPos-1])),Nf("Clip_periodPos",this.periodPos)},label_init:function(){Jc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Xu("top_bar_clip","icon_center_focus"),Fu("label_refresh","icon-refresh",t+Yt)},label_exit:function(){x_(),Yu("top_bar_clip","icon_center_focus"),Fu("label_refresh","icon-refresh",t+Yt)}},ow),rw)).set_ThumbSize()}function uw(){(Xb=yb(Xb=yb({ids:gb("ChannelClip"),table:"stream_table_channel_clip",screen:Pc,periodPos:Vf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Jc.Main_selectedChannel)+"&limit="+Kb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){ju("top_bar_game",U+eu[this.periodPos-1]),Nf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Jc.Main_CenterLablesVectorPos=1,!Jc.Search_isSearching&&Jc.Main_selectedChannel_id&&Od(),Jc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),P_(),this.SetPeriod(),Wu("top_bar_user",Jc.Main_selectedChannelDisplayname),Fu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Jc.Main_selectedChannel},label_exit:x_},ow),rw)).set_ThumbSize()}function _w(){(Yb=yb(Yb=yb({ids:gb("AGameClip"),table:"stream_table_a_game_clip",screen:Rc,periodPos:Vf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Jc.Main_gameSelected)+"&limit="+Kb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Kc?"&language="+Kc:"")},SetPeriod:function(){ju("top_bar_game",b+L_(U+eu[this.periodPos-1]+": "+Jc.Main_gameSelected)),Nf("AGameClip_periodPos",this.periodPos)},label_init:function(){Jc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Xu("top_bar_game","icon_center_focus"),Fu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Jc.Main_gameSelected&&(this.status=!1),this.gameSelected=Jc.Main_gameSelected},label_exit:function(){Yu("top_bar_game","icon_center_focus"),ju("top_bar_game",f),Fu("label_side_panel","icon-ellipsis",Rn)}},ow),rw)).set_ThumbSize()}var fw={ThumbSize:19.35,visiblerows:3,ItemsLimit:ru,ItemsReloadLimit:uu,ColoumnsCount:cu,addFocus:Rb,img_404:Ia,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===Ac?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===Ac?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Jc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Eu),document.body.removeEventListener("keydown",qb),Jc.Main_BeforeAgame=this.screen,Jc.Main_Go=wc,Jc.Main_BeforeAgameisSet=!0,Bo=!1,tu=0,document.body.removeEventListener("keydown",qb),Hu(this.ids[10]),E_(),_f(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===bc,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(xb(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",Cu),n.name,t?v_(e.channels)+" "+E+h+v_(e.viewers)+J:"")),this.coloumn_id++)}};function mw(){(jb=yb(jb=yb({ids:gb("Game"),table:"stream_table_games",screen:bc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Kb,set_url:function(){this.offset&&this.offset+Kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Jc.Main_CenterLablesVectorPos=3,Xu("top_bar_game","icon_center_focus")},label_exit:function(){Yu("top_bar_game","icon_center_focus")}},ow),fw)).set_ThumbSize()}function hw(){(Wb=yb(Wb=yb({ids:gb("UserGames"),table:"stream_table_user_games",screen:Ac,isLive:Jf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Xi[Jc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Kb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+" "+(this.isLive?Z:zt))),kb(),Nf("user_Games_live",this.isLive?"true":"false"),XM&&eI()},label_init:function(){Jc.Main_CenterLablesVectorPos=1,Fu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Fu("label_side_panel","icon-arrow-circle-left",I),Xu("top_bar_user","icon_center_focus"),this.OldUserName!==Xi[Jc.Users_Position].name&&(this.status=!1),this.OldUserName=Xi[Jc.Users_Position].name,ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Jc.Users_Position=0,Yu("top_bar_user","icon_center_focus"),Fu("label_refresh","icon-refresh",t+Yt),Wu("top_bar_user",u),Fu("label_side_panel","icon-ellipsis",Rn)}},ow),fw)).set_ThumbSize()}var pw=0,vw=0,gw=!1,yw=0,bw={},ww=[],kw=!1,Cw=0,Aw=5,Ew=3500,Mw=0,Iw=0,Sw=!1,xw=!1,Pw="",Lw=!1,Tw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Bw(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Bc,Jc.isLastSChannels=!0,Jc.Search_isSearching=!0,Pw!==Jc.Search_data&&(xw=!1),P_(),ju("top_bar_user",n+L_(E+" '"+Jc.Search_data+"'")),document.body.addEventListener("keydown",Yw,!1),xw?(V_(pw),qu(Tw[6]),zw(),M_()):Gw()}function Ow(){x_(),document.body.removeEventListener("keydown",Yw),Hu(Tw[6])}function Gw(){G_("stream_table_search_channel"),Hu(Tw[6]),Zu(),r_(),Pw=Jc.Search_data,xw=!1,bw={},Pf=!(yw=Iw=Mw=0),pw=vw=0,gw=Lw=!(ww=[]),i_(),Uw(),Rw()}function Uw(){R_(),kw=!0,Cw=0,Ew=3500}function Rw(){var e=yw+Mw;e&&Iw-1<e&&(e=Iw-_u,gw=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Jc.Search_data)+"&limit="+_u+"&offset="+e;Tu&&!yw?Xf(t,Ew,2,null,Vw,Nw):Yf(t,Ew,2,null,Vw,Nw,!1)}function Nw(){++Cw<Aw?(Ew+=500,Rw()):(kw=!1,yw?(gw=!0,Jw()):(Pf=!1,Ku(),l_(P)))}function Vw(e){var t=JSON.parse(e),n=t.channels.length;Iw=parseInt(t._total),n<_u&&(gw=!0);var a=yw;Sw=!(yw+=n);var i=n/fu;0<n%fu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/fu+_,d=document.createElement("tr"),o=0;o<fu&&c<n;o++,c++)r=(l=t.channels[c])._id,bw[r]?o--:(bw[r]=1,d.appendChild(Dw(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<fu;o++)gw&&!Lw&&(Lw=!0,yw=s*fu+o),d.appendChild(F_(Tw[5]+s+"_"+o)),ww.push(Tw[5]+s+"_"+o);u.appendChild(d)}Jw()}function Dw(e,t,n){return e<4&&J_(n[2]),H_(t,Tw,n)}function Jw(){if(xw){if(U_(Sa),0<ww.length&&!gw)return Uw(),void Fw();zw(!0),ww=[]}else Sw?l_(d):(xw=!0,U_(Sa),zw(),M_()),qu(Tw[6]),Pf=!1,Ku();kw=!1}function Fw(){d_(ww.length);var e=yw+Mw;e&&Iw-1<e&&(e=Iw-hu,gw=!0),qf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Jc.Search_data)+"&limit="+hu+"&offset="+e,Ew,2,null,qw,Hw)}function Hw(){++Cw<Aw?(Ew+=500,Fw()):(gw=!0,yw-=ww.length,ww=[],Jw())}function qw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Iw=parseInt(a._total),i<hu&&(gw=!0);o<ww.length&&s<i;o++,s++)n=(t=a.channels[s])._id,bw[n]?o--:(bw[n]=1,q_(ww[o],[t.name,n,t.logo,t.display_name],Tw),d.push(o));for(o=d.length-1;-1<o;o--)ww.splice(d[o],1);Mw+=s,gw&&(yw-=ww.length,ww=[]),Jw()}function zw(e){tf(pw,vw,Tw,fu,yw,e),yw/fu<pw+mu&&!gw&&!kw&&(Uw(),Rw()),qc&&Xw()}function Xw(){yw&&_f(pw+"_"+vw,Tw)}function Yw(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(Xw(),Tf(Yw));break;case Oa:if(b_(pw,vw-1,Tw[0]))Xw(),vw--,zw();else for(t=fu-1;-1<t;t--)if(b_(pw-1,t,Tw[0])){Xw(),pw--,vw=t,zw();break}break;case Ua:b_(pw,vw+1,Tw[0])?(Xw(),vw++,zw()):b_(pw+1,0,Tw[0])&&(Xw(),pw++,vw=0,zw());break;case Ga:for(t=0;t<fu;t++)if(b_(pw-1,vw-t,Tw[0])){Xw(),pw--,vw-=t,zw();break}break;case Ra:for(t=0;t<fu;t++)if(b_(pw+1,vw-t,Tw[0])){Xw(),pw++,vw-=t,zw();break}break;case Ta:case La:case Ba:case Na:Jc.Main_selectedChannel=document.getElementById(Tw[4]+pw+"_"+vw).getAttribute(Eu),Jc.Main_selectedChannel_id=document.getElementById(Tw[4]+pw+"_"+vw).getAttribute("data-id"),Jc.Main_selectedChannelDisplayname=document.getElementById(Tw[3]+pw+"_"+vw).textContent,document.body.removeEventListener("keydown",Yw),Jc.Main_BeforeChannel=Bc,Jc.Main_Go=Sc,Jc.Main_BeforeChannelisSet=!0,Qs=ja=!1,Hu(Tw[6]),A_()}}var jw=!1,Ww=0,Qw=0,Zw=0,Kw=0,$w=5,ek=3500,tk=0,nk=0,ak=!1,ik=!1,ok="",sk=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function dk(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Mc,Jc.Search_isSearching=!0,P_(),ok!==Jc.Search_data&&(jw=!1),ju("top_bar_user",n+L_(f+" '"+Jc.Search_data+"'")),document.body.addEventListener("keydown",gk,!1),jw?(V_(Ww),qu(sk[7]),pk(),M_()):rk()}function lk(){Jc.Search_isSearching||x_(),document.body.removeEventListener("keydown",gk),Jc.Games_return=!1,Hu(sk[7])}function rk(){G_("stream_table_search_game"),Hu(sk[7]),Zu(),r_(),ok=Jc.Search_data,ik=jw=!1,Ww=Qw=Zw=nk=tk=0,i_(),ck(),uk()}function ck(){R_(),Pf=!0,Kw=0,ek=3500}function uk(){qf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Jc.Search_data),ek,2,null,fk,_k)}function _k(){++Kw<$w?(ek+=500,uk()):(Pf=!1,Zw?hk():(Ku(),l_(P)))}function fk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Zw;ak=!(Zw+=n);var i=n/cu;0<n%cu&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/cu+u,d=document.createElement("tr"),o=0;o<cu&&r<n;o++,r++)l=t.games[r],d.appendChild(mk(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",Cu),""]));for(;o<cu;o++)ik||(ik=!0,Zw=s*cu+o),d.appendChild(F_(sk[6]+s+"_"+o));c.appendChild(d)}hk()}function mk(e,t,n){return e<2&&J_(n[1]),W_(t,sk,n)}function hk(){jw||(ak?l_(d):(jw=!0,U_(xa),pk(),M_()),Ku()),qu(sk[7]),Pf=!1,o_(Qw,Ww,cu,Zw)}function pk(){af(Ww,Qw,sk,cu,Zw),qc&&vk()}function vk(){Zw&&_f(Ww+"_"+Qw,sk)}function gk(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(vk(),Tf(gk));break;case Oa:if(b_(Ww,Qw-1,sk[0]))vk(),Qw--,pk();else for(t=cu-1;-1<t;t--)if(b_(Ww-1,t,sk[0])){vk(),Ww--,Qw=t,pk();break}break;case Ua:b_(Ww,Qw+1,sk[0])?(vk(),Qw++,pk()):b_(Ww+1,0,sk[0])&&(vk(),Ww++,Qw=0,pk());break;case Ga:for(t=0;t<cu;t++)if(b_(Ww-1,Qw-t,sk[0])){vk(),Ww--,Qw-=t,pk();break}break;case Ra:for(t=0;t<cu;t++)if(b_(Ww+1,Qw-t,sk[0])){vk(),Ww++,Qw-=t,pk();break}break;case Ta:case La:case Ba:case Na:Jc.gameSelectedOld=Jc.Main_gameSelected,lk(),Jc.Main_gameSelected=document.getElementById(sk[5]+Ww+"_"+Qw).getAttribute(Eu),document.body.removeEventListener("keydown",gk),Jc.Main_Go=wc,Jc.Games_return=!0,A_()}}var yk=0,bk=0,wk=!1;function kk(){r_(),Hu("label_refresh"),Fu("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",dc.placeholder=w,Xu("top_bar_user","icon_center_focus"),qu("search_scroll"),bk=yk=0,Ek(),Ik()}function Ck(){Sk(!1),document.body.removeEventListener("keydown",Mk),Ek(),Jc.Main_Go=Jc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Wu("top_bar_user",u),Yu("top_bar_user","icon_center_focus"),Fu("label_side_panel","icon-ellipsis",Rn),qu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",dc.value="",Hu("search_scroll")}function Ak(){Ck(),hf(function(){bk?1===bk?dk():2===bk&&jk():Bw()})}function Ek(){Yu("chanel_button","button_search_focused"),Yu("game_button","button_search_focused"),Yu("live_button","button_search_focused"),yk&&(bk?1===bk?Xu("game_button","button_search_focused"):2===bk&&Xu("live_button","button_search_focused"):Xu("chanel_button","button_search_focused"))}function Mk(e){if(!wk)switch(e.keyCode){case Va:p_()?h_():__()?u_():(Ck(),A_());break;case Oa:1===yk&&(--bk<0&&(bk=2),Ek());break;case Ua:1===yk&&(2<++bk&&(bk=0),Ek());break;case Ga:1===yk&&(yk=0,Ek(),Ik());break;case Ra:yk?1===yk&&(yk=0,Ek(),Ik()):(Sk(!1),yk=1,Ek());break;case Ta:case La:case Ba:case Na:yk?""!==dc.value&&null!==dc.value?(Jc.Search_data=dc.value,dc.value="",Ak()):(l_(s),window.setTimeout(function(){r_()},1e3)):Ik()}}function Ik(){document.body.removeEventListener("keydown",Mk),document.body.addEventListener("keydown",Pk,!1),dc.placeholder=w,dc.focus(),wk=!0}function Sk(e){dc.blur(),xk(),document.body.removeEventListener("keydown",Pk),dc.placeholder=A+w,e&&document.body.addEventListener("keydown",Mk,!1),wk=!1}function xk(){if(null!==dc){var e=dc.cloneNode(!0);dc.parentNode.replaceChild(e,dc),dc=document.getElementById("search_input")}}function Pk(e){switch(e.keyCode){case Va:__()?u_():p_()?h_():(Ck(),A_());break;case Ha:dc.value="";break;case Ja:case Ra:Sk(!0),yk=1,Ek();break;case Da:dc.value=dc.value.slice(0,-1);break;case Fa:dc.value+=" "}}var Lk=0,Tk=0,Bk=!1,Ok=0,Gk={},Uk=[],Rk=!1,Nk=0,Vk=5,Dk=3500,Jk=0,Fk=0,Hk=!1,qk=!1,zk=!1,Xk="",Yk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function jk(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Ic,Jc.Search_isSearching=!0,P_(),Xk!==Jc.Search_data&&(qk=!1),ju("top_bar_user",n+L_(_+" '"+Jc.Search_data+"'")),document.body.addEventListener("keydown",dC,!1),qk?(V_(Lk),qu(Yk[10]),oC(),M_()):Qk()}function Wk(){x_(),document.body.removeEventListener("keydown",dC),Hu(Yk[10])}function Qk(){G_("stream_table_search_live"),Hu(Yk[10]),Zu(),r_(),Xk=Jc.Search_data,qk=!1,Pf=!(zk=!(Uk=[])),Lk=Tk=Ok=Fk=Jk=0,Bk=!(Gk={}),i_(),Zk(),Kk()}function Zk(){R_(),Rk=!0,Nk=0,Dk=3500}function Kk(){var e=Ok+Jk;e&&Fk-1<e&&(e=Fk-su,Bk=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Jc.Search_data)+"&limit="+su+"&offset="+e;Tu&&!Ok?Xf(t,Dk,2,null,eC,$k):Yf(t,Dk,2,null,eC,$k,!1)}function $k(){++Nk<Vk?(Dk+=500,Kk()):(Rk=!1,Ok?(Bk=!0,tC()):(Pf=!1,Ku(),l_(P)))}function eC(e){var t=JSON.parse(e),n=t.streams.length;Fk=parseInt(t._total),n<su&&(Bk=!0);var a=Ok;Hk=!(Ok+=n);var i=n/du;0<n%du&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/du+_,d=document.createElement("tr"),o=0;o<du&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,Gk[r]?o--:(Gk[r]=1,d.appendChild(X_(s,s+"_"+o,[l.channel.name,r],Yk,[l.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+rv(l.created_at)+" "+h+v_(l.viewers)+J,g_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<du;o++)Bk&&!zk&&(zk=!0,Ok=s*du+o),d.appendChild(F_(Yk[9]+s+"_"+o)),Uk.push(Yk[9]+s+"_"+o);u.appendChild(d)}tC()}function tC(){if(qk){if(U_(xa),0<Uk.length&&!Bk)return Zk(),void nC();oC(!0),Uk=[]}else Hk?l_(d):(qk=!0,U_(xa),oC(),M_()),qu(Yk[10]),Pf=!1,Ku();Rk=!1}function nC(){d_(Uk.length);var e=Ok+Jk;e&&Fk-1<e&&(e=Fk-hu,Bk=!0),qf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Jc.Search_data)+"&limit="+hu+"&offset="+e,Dk,2,null,iC,aC)}function aC(){++Nk<Vk?(Dk+=500,nC()):(Bk=!0,Ok-=Uk.length,Uk=[],tC())}function iC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Fk=parseInt(a._total),i<hu&&(Bk=!0);o<Uk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,Gk[n]?o--:(Gk[n]=1,Y_(Uk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+rv(t.created_at)+" "+h+v_(t.viewers)+J,g_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Yk),d.push(o));for(o=d.length-1;-1<o;o--)Uk.splice(d[o],1);Jk+=s,Bk&&(Ok-=Uk.length,Uk=[]),tC()}function oC(e){nf(Lk,Tk,Yk,du,Ok,e),Ok/du<Lk+lu&&!Bk&&!Rk&&(Zk(),Kk()),qc&&sC()}function sC(){Ok&&_f(Lk+"_"+Tk,Yk)}function dC(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(sC(),Tf(dC));break;case Oa:if(b_(Lk,Tk-1,Yk[0]))sC(),Tk--,oC();else for(t=du-1;-1<t;t--)if(b_(Lk-1,t,Yk[0])){sC(),Lk--,Tk=t,oC();break}break;case Ua:b_(Lk,Tk+1,Yk[0])?(sC(),Tk++,oC()):b_(Lk+1,0,Yk[0])&&(sC(),Lk++,Tk=0,oC());break;case Ga:for(t=0;t<du;t++)if(b_(Lk-1,Tk-t,Yk[0])){sC(),Lk--,Tk-=t,oC();break}break;case Ra:for(t=0;t<du;t++)if(b_(Lk+1,Tk-t,Yk[0])){sC(),Lk++,Tk-=t,oC();break}break;case Ta:case La:case Ba:case Na:sf(Lk+"_"+Tk,Yk,dC)}}var lC=0,rC={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:cC(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function cC(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+dv(t)),t-=900;for(e.push(dv(0)),t=900,n=0;n<48;n++)e.push(dv(t)),t+=900;return e}var uC=[],_C=0;function fC(){C_(),Hu("label_side_panel"),Fu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",TC,!1),Wu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Xu("top_bar_user","icon_center_focus"),qu("settings_scroll"),EC(lC=0),yC("content_lang",Yn,OC)}function mC(){document.body.removeEventListener("keydown",TC),qu("label_side_panel"),MC(),Wu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Yu("top_bar_user","icon_center_focus"),Fu("label_refresh","icon-refresh",t+Yt),Hu("settings_scroll")}function hC(){var e,t="";t+=pC("general",gn),e="content_lang",uC.push(e),rC[e].values=[jn],t+=gC(e,Yn,""),e="clock_offset",uC.push(e),t+=vC(e,zn),e="restor_playback",uC.push(e),rC[e].values=[Pn,xn],t+=gC(e,Ln,Tn),e="videos_animation",uC.push(e),rC[e].values=[Pn,xn],t+=vC(e,Un),t+=pC("play",_n),e="chat_font_size",uC.push(e),t+=gC(e,Bn,On),e="chat_brightness",uC.push(e),t+=vC(e,aa),e="force_disable_chat",uC.push(e),rC[e].values=[Ft,L],t+=gC(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",uC.push(e),t+=vC(e,hn),e="buffer_vod",uC.push(e),t+=vC(e,pn),e="buffer_clip",uC.push(e),ju("settings_main",t+=vC(e,vn)),_C=uC.length,FC()}function pC(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function vC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+kC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function gC(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+kC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function yC(e,t,n){ju(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function bC(){var e="";for(e in Wu("setting_title_general",gn),Wu((e="clock_offset")+"_name",zn),Wu((e="content_lang")+"_name",Yn),Wu(e,kC(e)),rC[e].values=[jn],Wu("setting_title_play",_n),Wu("setting_title_buffers",fn),Wu("setting_title_buffers_summary",mn),Wu((e="buffer_live")+"_name",hn),Wu((e="buffer_vod")+"_name",pn),Wu((e="buffer_clip")+"_name",vn),yC(e="restor_playback",Ln,Tn),rC[e].values=[Pn,xn],yC(e="chat_font_size",Bn,On),yC(e="force_disable_chat",ta,na),rC[e].values=[Pn,xn],Wu((e="videos_animation")+"_name",Un),rC[e].values=[Pn,xn],Wu((e="chat_brightness")+"_name",aa),rC)rC.hasOwnProperty(e)&&Wu(e,kC(e));JC()}function wC(){for(var e in rC)rC[e].defaultValue=Vf(e,rC[e].defaultValue),rC[e].defaultValue-=1,rC[e].defaultValue>AC(e)&&(rC[e].defaultValue=0);PC(0),LC(),fh=(.05*CC("chat_brightness")).toFixed(2),gS=CC("videos_animation"),Jc.Play_ChatForceDisable=CC("force_disable_chat")}function kC(e){return rC[e].values[CC(e)]}function CC(e){return rC[e].defaultValue}function AC(e){return rC[e].values.length-1}function EC(e){var t=uC[lC];Xu(t,"settings_value_focus"),Xu(t+"_div","settings_div_focus"),SC(e)}function MC(){var e=uC[lC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Yu(e,"settings_value_focus"),Yu(e+"_div","settings_div_focus")}function IC(e){var t=uC[e];Nf(t,CC(t)+1),Wu(t,kC(t)),SC(e),xC(e)}function SC(e){var t=uC[e];if(AC(t)){var n=CC(t),a=AC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function xC(e){"videos_animation"===(e=uC[e])?gS=CC("videos_animation"):"buffer_live"===e?PC(1):"buffer_vod"===e?PC(2):"buffer_clip"===e?PC(3):"chat_brightness"===e?(fh=(.05*CC("chat_brightness")).toFixed(2),Fv(!1)):"force_disable_chat"===e?Jc.Play_ChatForceDisable=CC("force_disable_chat"):"chat_font_size"===e?xp():"clock_offset"===e&&(LC(),gf())}function PC(e){try{e?1===e?(kh=1e3*kC("buffer_live"),Tu&&Android.SetBuffer(1,kh)):2===e?(Jg=1e3*kC("buffer_vod"),Tu&&Android.SetBuffer(2,Jg)):3===e&&(ym=1e3*kC("buffer_clip"),Tu&&Android.SetBuffer(3,ym)):(kh=1e3*kC("buffer_live"),Jg=1e3*kC("buffer_vod"),ym=1e3*kC("buffer_clip"),Tu&&(Android.SetBuffer(1,kh),Android.SetBuffer(2,Jg),Android.SetBuffer(3,ym)))}catch(e){}}function LC(){var e=CC("clock_offset");Lu=e<48?-9e5*(48-e):9e5*(e-48)}function TC(e){var t;switch(e.keyCode){case Va:__()?u_():p_()?h_():(mC(),A_());break;case Oa:0<CC(t=uC[lC])&&(rC[t].defaultValue-=1,IC(lC));break;case Ua:CC(t=uC[lC])<AC(t)&&(rC[t].defaultValue+=1,IC(lC));break;case Ga:0<lC&&(MC(),EC(--lC));break;case Ra:lC<_C-1&&(MC(),EC(++lC));break;case Na:lC||NC()}}var BC=0,OC="",GC={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},UC=[],RC=0;function NC(){C_(),document.body.removeEventListener("keydown",TC),Hu("settings_main"),qu("settings_lang"),$C(),Wu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",eA,!1),jC(BC=0),DC()}function VC(){document.body.removeEventListener("keydown",eA),document.body.addEventListener("keydown",TC,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",qu("settings_main"),Hu("settings_lang"),Wu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",WC(),JC(),DC()}function DC(){""===Kc&&(OC=Wn,GC.All.defaultValue=1,ZC(0),Xu(UC[0],"strokedextraminired"),$C()),yC("content_lang",Yn,OC)}function JC(){if(Kc="",!XC("All")){for(var e in GC)XC(e)&&(Kc+=","+GC[e].set_values);Kc=Kc.slice(1)}OC=""===Kc?Wn:Kc.toUpperCase()}function FC(){var e="";for(var t in GC)UC.push(t),GC[t].values=[L,Ft],e+=HC(t,t);ju("settings_lang",e),RC=UC.length}function HC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(XC(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+zC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function qC(){for(var e in GC)GC[e].defaultValue=Vf(e,GC[e].defaultValue),GC[e].defaultValue-=1;JC()}function zC(e){return GC[e].values[XC(e)]}function XC(e){return GC[e].defaultValue}function YC(e){return GC[e].values.length-1}function jC(e){var t=UC[BC];Xu(t,"settings_value_focus"),Xu(t+"_div","settings_div_focus"),KC(e),QC(t)}function WC(){var e=UC[BC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Yu(e,"settings_value_focus"),Yu(e+"_div","settings_div_focus")}function QC(){var e=screen.height;7<BC?(e*=.093,e+=-1*document.getElementById(UC[BC-7]).offsetTop):e*=.077,BC<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function ZC(e){var t=UC[e];Nf(t,XC(t)+1),Wu(t,zC(t)),KC(e)}function KC(e){var t=UC[e],n=XC(t),a=YC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function $C(){for(var e in GC)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=XC("All")?"none":"inline-block")}function eA(e){var t;switch(e.keyCode){case Va:VC();break;case Oa:0<XC(t=UC[BC])&&(GC[t].defaultValue-=1,ZC(BC),Yu(UC[BC],"strokedextraminired"),-1!==t.indexOf("All")&&$C());break;case Ua:XC(t=UC[BC])<YC(t)&&(GC[t].defaultValue+=1,ZC(BC),Xu(UC[BC],"strokedextraminired"),-1!==t.indexOf("All")&&$C());break;case Ga:0<BC&&(WC(),jC(--BC));break;case Ra:!XC("All")&&BC<RC-1&&(WC(),jC(++BC))}}var tA=0,nA=0,aA=!1,iA=0,oA=!1,sA=0,dA=5,lA=3500,rA=[],cA=0,uA=0,_A=!1,fA=!1,mA="",hA=!1,pA={},vA=[],gA=0,yA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function bA(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Tc,Jc.isLastSChannels=!1,Fu("label_side_panel","icon-arrow-circle-left",I),Xu("top_bar_user","icon_center_focus"),ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+K)),document.body.addEventListener("keydown",OA,!1),mA!==Xi[Jc.Users_Position].name&&(fA=!1),fA?(V_(tA),qu(yA[6]),TA(),M_()):kA()}function wA(){Jc.Users_Position=0,Yu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",OA),Wu("top_bar_user",u),Fu("label_side_panel","icon-ellipsis",Rn),Hu(yA[6])}function kA(){G_("stream_table_user_channels"),Hu(yA[6]),Zu(),r_(),mA=Xi[Jc.Users_Position].name,fA=!1,pA={},tA=nA=iA=gA=cA=uA=0,Pf=!(hA=aA=!(vA=[])),i_(),rA=[],CA(),AA()}function CA(){R_(),oA=!0,sA=0,lA=3500}function AA(){var e=iA+uA;e&&gA-1<e&&(e=gA-_u,aA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Jc.Users_Position].id)+"/follows/channels?limit="+_u+"&offset="+e+"&sortby=login&direction=asc";Tu&&!iA?Xf(t,lA,2,null,MA,EA):Yf(t,lA,2,null,MA,EA,!1)}function EA(){++sA<dA?(lA+=500,AA()):(oA=!1,iA?(aA=!0,SA()):(Pf=!1,Ku(),l_(P),Tf(OA)))}function MA(e){var t=JSON.parse(e),n=t.follows.length;gA=parseInt(t._total),n<_u&&(aA=!0);var a=iA;_A=!(iA+=n);var i=n/fu;0<n%fu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/fu+_,d=document.createElement("tr"),o=0;o<fu&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,pA[r]?o--:(pA[r]=1,d.appendChild(IA(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<fu;o++)aA&&!hA&&(hA=!0,iA=s*fu+o),d.appendChild(F_(yA[5]+s+"_"+o)),vA.push(yA[5]+s+"_"+o);u.appendChild(d)}SA()}function IA(e,t,n){return e<4&&J_(n[2]),H_(t,yA,n)}function SA(){if(fA){if(U_(Sa),0<vA.length&&!aA)return CA(),void xA();TA(!0),vA=[]}else _A?(l_(L+K),Tf(OA)):(fA=!0,U_(Sa),TA(),M_()),qu(yA[6]),Pf=!1,Ku();oA=!1}function xA(){d_(vA.length);var e=iA+uA;e&&gA-1<e&&(e=gA-hu,aA=!0),qf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Jc.Users_Position].id)+"/follows/channels?limit="+hu+"&offset="+cA+"&sortby=login&direction=asc",lA,2,null,LA,PA)}function PA(){++sA<dA?(lA+=500,xA()):(aA=!0,iA-=vA.length,vA=[],SA())}function LA(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(gA=parseInt(a._total),i<hu&&(aA=!0);o<vA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,pA[n]?o--:(pA[n]=1,q_(vA[o],[t.name,n,t.logo,t.display_name],yA),d.push(o));for(o=d.length-1;-1<o;o--)vA.splice(d[o],1);uA+=s,aA&&(iA-=vA.length,vA=[]),SA()}function TA(e){tf(tA,nA,yA,fu,iA,e),iA/fu<tA+mu&&!aA&&!oA&&(CA(),AA()),qc&&BA()}function BA(){iA&&_f(tA+"_"+nA,yA)}function OA(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(BA(),Tf(OA));break;case Oa:if(b_(tA,nA-1,yA[0]))BA(),nA--,TA();else for(t=fu-1;-1<t;t--)if(b_(tA-1,t,yA[0])){BA(),tA--,nA=t,TA();break}break;case Ua:b_(tA,nA+1,yA[0])?(BA(),nA++,TA()):b_(tA+1,0,yA[0])&&(BA(),tA++,nA=0,TA());break;case Ga:for(t=0;t<fu;t++)if(b_(tA-1,nA-t,yA[0])){BA(),tA--,nA-=t,TA();break}break;case Ra:for(t=0;t<fu;t++)if(b_(tA+1,nA-t,yA[0])){BA(),tA++,nA-=t,TA();break}break;case Ta:case La:case Ba:case Na:if(of(tA+"_"+nA,yA[0]))return;Jc.Main_selectedChannel=document.getElementById(yA[4]+tA+"_"+nA).getAttribute(Eu),Jc.Main_selectedChannel_id=document.getElementById(yA[4]+tA+"_"+nA).getAttribute("data-id"),Jc.Main_selectedChannelDisplayname=document.getElementById(yA[3]+tA+"_"+nA).textContent,Jc.Main_selectedChannelLogo=document.getElementById(yA[1]+tA+"_"+nA).src,document.body.removeEventListener("keydown",OA),Jc.Main_BeforeChannel=Tc,Jc.Main_Go=Sc,Jc.Main_BeforeChannelisSet=!0,Qs=ja=!0,Hu(yA[6]),A_()}}var GA=0,UA=0,RA=!1,NA=0,VA={},DA=[],JA=!1,FA=0,HA=5,qA=3500,zA=0,XA=0,YA=!1,jA=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],WA=!1,QA="",ZA=!1;function KA(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Cc,Fu("label_side_panel","icon-arrow-circle-left",I),Xu("top_bar_user","icon_center_focus"),ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+Q)),document.body.addEventListener("keydown",uE,!1),QA!==Xi[Jc.Users_Position].name&&(WA=!1),WA?(V_(GA),qu(jA[10]),rE(),M_()):eE()}function $A(){Jc.Users_Position=0,Yu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",uE),Wu("top_bar_user",u),Fu("label_side_panel","icon-ellipsis",Rn),Hu(jA[10])}function eE(){G_("stream_table_user_host"),Hu(jA[10]),Zu(),r_(),QA=Xi[Jc.Users_Position].name,WA=!1,VA={},Pf=!(NA=XA=zA=0),GA=UA=0,RA=ZA=!(DA=[]),i_(),tE(),nE()}function tE(){R_(),JA=!0,FA=0,qA=3500}function nE(){var e=NA+zA;e&&XA-1<e&&(e=XA-su,RA=!0),zf("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Jc.Users_Position].name)+"/followed/hosting?limit="+su+"&offset="+e,qA,2,null,iE,aE,!1,!NA)}function aE(){++FA<HA?(qA+=500,nE()):(JA=!1,NA?(RA=!0,oE()):(Pf=!1,Ku(),l_(P),Tf(uE)))}function iE(e){var t=JSON.parse(e),n=t.hosts.length;XA=parseInt(t._total),n<su&&(RA=!0);var a=NA;YA=!(NA+=n);var i=n/du;0<n%du&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/du+_,d=document.createElement("tr"),o=0;o<du&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,VA[r]?o--:(VA[r]=1,d.appendChild(X_(s,s+"_"+o,[l.target.channel.name,l.target._id],jA,[l.target.preview_urls.template.replace("{width}x{height}",ku),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+v_(l.target.viewers)+J,""])));for(;o<du;o++)RA&&!ZA&&(ZA=!0,NA=s*du+o),d.appendChild(F_(jA[9]+s+"_"+o)),DA.push(jA[9]+s+"_"+o);u.appendChild(d)}oE()}function oE(){if(WA){if(U_(xa),0<DA.length&&!RA)return tE(),void sE();rE(!0),DA=[]}else YA?(l_(L+Q),Tf(uE)):(WA=!0,rE(),U_(xa),M_()),qu(jA[10]),Pf=!1,Ku();JA=!1}function sE(){d_(DA.length);var e=NA+zA;e&&XA-1<e&&(e=XA-hu,RA=!0),qf("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Jc.Users_Position].name)+"/followed/hosting?limit="+hu+"&offset="+e,qA,2,null,lE,dE)}function dE(){++FA<HA?(qA+=500,sE()):(RA=!0,NA-=DA.length,DA=[],oE())}function lE(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(XA=parseInt(a._total),i<hu&&(RA=!0);o<DA.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,VA[n]?o--:(VA[n]=1,Y_(DA[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",ku),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+v_(t.target.viewers)+J,""],jA),d.push(o));for(o=d.length-1;-1<o;o--)DA.splice(d[o],1);zA+=s,RA&&(NA-=DA.length,DA=[]),oE()}function rE(e){nf(GA,UA,jA,du,NA,e),NA/du<GA+lu&&!RA&&!JA&&(tE(),nE()),qc&&cE()}function cE(){NA&&_f(GA+"_"+UA,jA)}function uE(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(cE(),Tf(uE));break;case Oa:if(b_(GA,UA-1,jA[0]))cE(),UA--,rE();else for(t=du-1;-1<t;t--)if(b_(GA-1,t,jA[0])){cE(),GA--,UA=t,rE();break}break;case Ua:b_(GA,UA+1,jA[0])?(cE(),UA++,rE()):b_(GA+1,0,jA[0])&&(cE(),GA++,UA=0,rE());break;case Ga:for(t=0;t<du;t++)if(b_(GA-1,UA-t,jA[0])){cE(),GA--,UA-=t,rE();break}break;case Ra:for(t=0;t<du;t++)if(b_(GA+1,UA-t,jA[0])){cE(),GA++,UA-=t,rE();break}break;case Ta:case La:case Ba:case Na:sf(GA+"_"+UA,jA,uE)}}var _E,fE=!1,mE=0,hE=3500,pE=0,vE=5,gE=0,yE=!1,bE="",wE=0,kE={},CE=!1,AE=[],EE=null,ME=null,IE=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function SE(){ro()&&(XE(),CE?$E(wh,IE[0])&&(EE=JSON.parse(document.getElementById(IE[8]+wh).getAttribute(Eu))[0]):EE=null,G_("user_feed_scroll"),CE=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",qu("dialog_loading_feed"),bE="",wh=wE=gE=pE=0,kE={},AE=[],hf(function(){TE(),xE()}))}function xE(){(ME=Xi[Jc.Users_Position].access_token)?(ME=bu+ME,UE()):(TE(),ME=null,BE())}function PE(e){for(var t,n=0;n<AE.length;n++)null!==(t=document.getElementById(AE[n].id))&&Gu(t,AE[n].src+Bu,e)}function LE(e,t){AE.push({id:e,src:t})}function TE(){fE=!0,mE=0,hE=3500}function BE(){Yf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Jc.Users_Position].id)+"/follows/channels?limit=100&offset="+pE+"&sortby=created_at",hE,2,null,GE,OE,!1)}function OE(){++mE<vE?(hE+=500,BE()):(fE=!1,gE?(yE=!0,DE()):(Hu("dialog_loading_feed"),FE()&&(gv(P),window.setTimeout(function(){yv()},2e3))))}function GE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===bE.indexOf(a)&&(bE+=a);pE+=n,TE(),BE()}else bE=bE.slice(0,-1),TE(),hf(UE)}function UE(){var e="https://api.twitch.tv/kraken/streams/";e+=ME?"followed?":"?channel="+encodeURIComponent(bE)+"&",RE(e+="limit=100&offset=0&stream_type=all")}function RE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=hE,t.setRequestHeader(vu,pu),t.setRequestHeader(gu,wu),ME&&t.setRequestHeader(yu,ME),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?VE(t.responseText):!ME||401!==t.status&&403!==t.status?NE():ni(Jc.Users_Position,0,xE,xE))},t.send(null)}function NE(){++mE<vE?(hE+=500,UE()):(fE=!1,Hu("dialog_loading_feed"),FE()&&(gv(P),window.setTimeout(function(){yv()},2e3)))}function VE(e){var t=JSON.parse(e),n=t.streams.length;n<su&&(yE=!0),gE+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,kE[i]||(kE[i]=1,null!==EE&&EE===a.channel.name&&(wh=s),o.appendChild(JE(s,[a.channel.name,i],IE,[a.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+rv(a.created_at)+" "+h+v_(a.viewers)+J,g_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));DE()}function DE(){CE=!(fE=!1),PE(xa),hf(function(){Hu("dialog_loading_feed"),WE()})}function JE(e,t,n,a){return LE(n[1]+e,a[0]),(Qc=document.createElement("div")).setAttribute("id",n[8]+e),Qc.setAttribute(Eu,JSON.stringify(t)),Qc.className="user_feed_thumb",Qc.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Qc}function FE(){return zu("user_feed")}function HE(){var e=ro();e&&(bh!==Xi[Jc.Users_Position].name&&(CE=!1),bh=Xi[Jc.Users_Position].name),e&&$E(0,IE[0])||(CE=!1),CE||fE||SE(),e&&(document.getElementById("user_feed").style.bottom="0.1%",qu("user_feed"),WE())}function qE(){Hu("user_feed")}function zE(){XE(),YE()}function XE(){window.clearTimeout(_E)}function YE(){FE()&&(_E=window.setTimeout(qE,5500))}function jE(){XE(),fE?window.setTimeout(function(){fE=!1},15e3):SE()}function WE(){zE(),$E(wh,IE[0])&&(Xu(IE[0]+wh,"feed_thumbnail_focused"),FE()?ZE():zu("scene2")&&KE())}function QE(){return wh<3?2.5:$E(wh+2,IE[0])?-1*document.getElementById(IE[8]+(wh-2)).offsetLeft:$E(wh+1,IE[0])?-1*document.getElementById(IE[8]+(wh-3)).offsetLeft:-1*document.getElementById(IE[8]+(wh-(3<wh?4:3))).offsetLeft}function ZE(){var e=QE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function KE(){document.getElementById("user_feed").style.bottom="-1000%",qu("user_feed");var e=ZE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Hu("user_feed")}function $E(e,t){return null!==document.getElementById(t+e)}function eM(){$E(wh,IE[0])&&Yu(IE[0]+wh,"feed_thumbnail_focused")}var tM=0,nM=0,aM=!1,iM=0,oM={},sM=[],dM=!1,lM=0,rM=5,cM=3500,uM=0,_M=0,fM=0,mM=!1,hM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],pM=!1,vM="",gM="",yM=!1,bM=null;function wM(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=kc,Fu("label_side_panel","icon-arrow-circle-left",I),Xu("top_bar_user","icon_center_focus"),ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+W)),document.body.addEventListener("keydown",VM,!1),gM!==Xi[Jc.Users_Position].name&&(pM=!1),pM?(V_(tM),qu(hM[10]),RM(),M_()):CM()}function kM(){Jc.Users_Position=0,Yu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",VM),Wu("top_bar_user",u),Fu("label_side_panel","icon-ellipsis",Rn),Hu(hM[10])}function CM(){G_("stream_table_user_live"),Hu(hM[10]),Zu(),r_(),pM=!1,gM=Xi[Jc.Users_Position].name,Pf=!(yM=!(sM=[])),tM=nM=iM=_M=uM=fM=0,aM=!(oM={}),vM="",i_(),EM(),AM()}function AM(){(bM=Xi[Jc.Users_Position].access_token)?(bM=bu+bM,xM()):(bM=null,EM(),MM())}function EM(){R_(),dM=!0,lM=0,cM=3500}function MM(){qf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Jc.Users_Position].id)+"/follows/channels?limit=100&offset="+fM+"&sortby=created_at",cM,2,null,SM,IM)}function IM(){++lM<rM?(cM+=500,MM()):(dM=!1,iM?(aM=!0,BM()):(Pf=!1,Ku(),l_(P),Tf(VM)))}function SM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===vM.indexOf(a)&&(vM+=a);fM+=n,EM(),MM()}else vM=vM.slice(0,-1),EM(),xM()}function xM(){var e=iM+uM;e&&_M-1<e&&(e=_M-su,aM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=bM?"followed?":"?channel="+encodeURIComponent(vM)+"&",PM(t+="limit="+su+"&offset="+e+"&stream_type=all",TM,LM,AM)}function PM(e,t,n,a){var i;if(Tu&&!iM){if(!(i=Android.mreadUrl(e,cM,bM?3:2,bM)))return void RI();200===(i=JSON.parse(i)).status?t(i.responseText):!bM||401!==i.status&&403!==i.status?n():ni(Jc.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=cM,i.setRequestHeader(vu,pu),i.setRequestHeader(gu,wu),bM&&i.setRequestHeader(yu,bM),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!bM||401!==i.status&&403!==i.status?n():ni(Jc.Users_Position,0,a,a))},i.send(null)}function LM(){++lM<rM?(cM+=500,xM()):(dM=!1,iM?(aM=!0,BM()):(Pf=!1,Ku(),l_(P),Tf(VM)))}function TM(e){var t=JSON.parse(e),n=t.streams.length;_M=parseInt(t._total),n<su&&(aM=!0);var a=iM;mM=!(iM+=n);var i=n/du;0<n%du&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/du+_,d=document.createElement("tr"),o=0;o<du&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,oM[r]?o--:(oM[r]=1,d.appendChild(X_(s,s+"_"+o,[l.channel.name,r],hM,[l.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+rv(l.created_at)+" "+h+v_(l.viewers)+J,g_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<du;o++)aM&&!yM&&(yM=!0,iM=s*du+o),d.appendChild(F_(hM[9]+s+"_"+o)),sM.push(hM[9]+s+"_"+o);u.appendChild(d)}BM()}function BM(){if(pM){if(U_(xa),0<sM.length&&!aM)return EM(),void OM();RM(!0),sM=[]}else mM?(Tf(VM),l_(L+W)):(pM=!0,RM(),U_(xa),M_()),qu(hM[10]),Pf=!1,Ku();dM=!1}function OM(){d_(sM.length);var e=iM+uM;e&&_M-1<e&&(e=_M-hu,aM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=bM?"followed?":"?channel="+encodeURIComponent(vM)+"&",PM(t+="followed?limit=limit="+hu+"&offset="+e+"&stream_type=all",UM,GM,OM)}function GM(){++lM<rM?(cM+=500,OM()):(aM=!0,iM-=sM.length,sM=[],BM())}function UM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(_M=parseInt(a._total),i<hu&&(aM=!0);o<sM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,oM[n]?o--:(oM[n]=1,Y_(sM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ku),y_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+rv(t.created_at)+" "+h+v_(t.viewers)+J,g_(t.video_height,t.average_fps,t.channel.broadcaster_language)],hM),d.push(o));for(o=d.length-1;-1<o;o--)sM.splice(d[o],1);uM+=s,aM&&(iM-=sM.length,sM=[]),BM()}function RM(e){nf(tM,nM,hM,du,iM,e),iM/du<tM+lu&&!aM&&!dM&&(EM(),MM()),qc&&NM()}function NM(){iM&&_f(tM+"_"+nM,hM)}function VM(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(NM(),Tf(VM));break;case Oa:if(b_(tM,nM-1,hM[0]))NM(),nM--,RM();else for(t=du-1;-1<t;t--)if(b_(tM-1,t,hM[0])){NM(),tM--,nM=t,RM();break}break;case Ua:b_(tM,nM+1,hM[0])?(NM(),nM++,RM()):b_(tM+1,0,hM[0])&&(NM(),tM++,nM=0,RM());break;case Ga:for(t=0;t<du;t++)if(b_(tM-1,nM-t,hM[0])){NM(),tM--,nM-=t,RM();break}break;case Ra:for(t=0;t<du;t++)if(b_(tM+1,nM-t,hM[0])){NM(),tM++,nM-=t,RM();break}break;case Ta:case La:case Ba:case Na:sf(tM+"_"+nM,hM,VM)}}var DM=0,JM=0,FM=8,HM=0,qM=null,zM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],XM=!1,YM=!0;function jM(){return Xc?(WM(),void ti(Xc)):ho()?(Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Lc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",r_(),Xu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",cI,!1),void(XM?(V_(DM),qu(zM[5]),tI(),M_()):QM())):(Jc.Main_Go=gc,WM(),void A_())}function WM(){Jc.Users_Position=0,Yu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",cI),Hu(zM[5]),document.getElementById("screens_holder").style.top="0"}function QM(){G_("stream_table_user"),Hu(zM[5]),Zu(),r_(),Pf=!(XM=!1),YM=!(DM=JM=0),hf(function(){ZM()})}function ZM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Xi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Qc=document.createElement("tr")).className="follower_header",Qc.innerHTML='<div class="follower_header">'+(o?"":oe)+Xi[o].name+R+"</div>",i.appendChild(a),i.appendChild(Qc),(e=document.createElement("tr")).appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,Wb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(KM(o+"_"+t,Jc.Main_selectedChannelDisplayname,Xi[o].access_token?wt:bt,"key",n)),i.appendChild(e);$M()}function KM(e,t,n,a,i){return(Qc=document.createElement("td")).setAttribute("id",zM[4]+e),Qc.setAttribute(Eu,t),Qc.className="stream_cell",Qc.innerHTML='<div id="'+zM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+zM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+zM[2]+e+'" class="stream_text"><div id="'+zM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Qc}function $M(){hf(function(){XM||(XM=!0,tI(),Ku(),M_()),qu(zM[5]),YM=Pf=!1})}function eI(){for(var e=0;e<Xi.length;e++)Wu(zM[3]+e+"_2",Wb.isLive?Z:zt)}function tI(){Xu(zM[0]+DM+"_"+JM,"stream_thumbnail_focused"),D_(DM)?1<DM?b_(DM+1,0,zM[0])&&uf(zM[5],-1*document.getElementById(zM[4]+DM+"_"+JM).offsetTop+500):uf(zM[5],screen.height/100*7):Z_(),qc&&nI()}function nI(){Hc=!1,Yu(zM[0]+DM+"_"+JM,"stream_thumbnail_focused")}function aI(){return Jc.Users_Position=DM,3!==JM||Xi[Jc.Users_Position].access_token?7===JM&&Xi[Jc.Users_Position].access_token?(l_(wt),void window.setTimeout(r_,1500)):(6!==JM&&7!==JM&&(Hu(zM[5]),document.body.removeEventListener("keydown",cI),document.getElementById("screens_holder").style.top="0"),void hf(function(){JM?1===JM?KA():2===JM?(hb=Wb,bb()):3===JM?LI():4===JM?bA():5===JM?DM?fo(DM):(Jc.Main_Before=Lc,Qi()):6===JM?sI():7!==JM||Xi[Jc.Users_Position].access_token||sI():wM()})):(l_(In),void window.setTimeout(r_,5e3))}function iI(){window.clearTimeout(qM)}function oI(){qM=window.setTimeout(dI,2e4)}function sI(){oI(),6===JM?ju("main_dialog_remove",Ht+ca+Xi[Jc.Users_Position].name+"?"):7===JM&&ju("main_dialog_remove",ft+" "+Xi[Jc.Users_Position].name+"?"),qu("main_remove_dialog")}function dI(){iI(),Hu("main_remove_dialog"),HM=0,rI()}function lI(){return zu("main_remove_dialog")}function rI(){HM?(Yu("remove_cancel","button_search_focused"),Xu("remove_yes","button_search_focused")):(Xu("remove_cancel","button_search_focused"),Yu("remove_yes","button_search_focused"))}function cI(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:lI()?dI():__()?u_():p_()?h_():(nI(),Tf(cI));break;case Oa:if(lI())--HM<0&&(HM=1),rI(),iI(),oI();else if(b_(DM,JM-1,zM[0]))nI(),JM--,tI();else if(b_(DM-1,0,zM[0])){for(t=FM-1;-1<t;t--)if(b_(DM-1,t,zM[0])){nI(),DM--,JM=t,tI();break}}else nI(),JM=FM-1,tI();break;case Ua:lI()?(1<++HM&&(HM=0),rI(),iI(),oI()):(b_(DM,JM+1,zM[0])?(nI(),JM++):(b_(DM+1,0,zM[0])?(nI(),DM++):nI(),JM=0),tI());break;case Ga:for(t=0;t<FM;t++)if(b_(DM-1,JM-t,zM[0])){nI(),DM--,JM-=t,tI();break}break;case Ra:for(t=0;t<FM;t++)if(b_(DM+1,JM-t,zM[0])){nI(),DM++,JM-=t,tI();break}break;case Ta:case La:case Ba:case Na:var n;if(lI()){if(6===JM)n=HM,dI(),n&&(document.body.removeEventListener("keydown",cI),WM(),uo(DM));else if(n=HM,dI(),n){Jc.Users_AddcodePosition=Jc.Users_Position,M_();var a=Ka,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(pu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else aI()}}var uI=0,_I=0,fI=!1,mI=0,hI={},pI=[],vI=!1,gI=0,yI=5,bI=3500,wI=0,kI=0,CI=!1,AI=!1,EI="time",MI=2,II=!1,SI=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],xI=!1,PI=!1;function LI(){Jc.Main_CenterLablesVectorPos=1,Jc.Main_Go=Vc,Xu("top_bar_user","icon_center_focus"),Fu("label_side_panel","icon-arrow-circle-left",I),ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+(PI?G:O))),document.body.addEventListener("keydown",WI,!1),xI?(V_(uI),qu(SI[10]),QI(),zI(),M_()):BI()}function TI(){Jc.Users_Position=0,xI&&XI(),Yu("top_bar_user","icon_center_focus"),Fu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",WI),Wu("top_bar_user",u),Hu(SI[10])}function BI(){xI&&XI(),G_("stream_table_user_vod"),Hu(SI[10]),Zu(),QI(),r_(),II=xI=!1,Pf=!(AI=!(pI=[])),uI=_I=mI=kI=wI=0,fI=!(hI={}),i_(),GI()}function OI(){R_(),vI=!0,gI=0,bI=3500}function GI(){OI(),UI()}function UI(){var e=mI+wI;e&&kI-1<e&&(e=kI-su,fI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+su+"&broadcast_type="+(PI?"highlight":"archive")+"&sort="+EI+"&offset="+e;if(Tu&&!mI){if(!(t=Android.mreadUrl(n,bI,3,bu+Xi[Jc.Users_Position].access_token)))return void RI();200===(t=JSON.parse(t)).status?VI(t.responseText):401===t.status||403===t.status?ni(Jc.Users_Position,0,GI,NI):RI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=bI,t.setRequestHeader(gu,wu),t.setRequestHeader(vu,pu),t.setRequestHeader(yu,bu+Xi[Jc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?VI(t.responseText):401===t.status||403===t.status?ni(Jc.Users_Position,0,GI,NI):RI())},t.send(null)}function RI(){++gI<yI?(bI+=500,UI()):NI()}function NI(){vI=!1,mI?(fI=!0,DI()):(Pf=!1,Ku(),l_(P),Tf(uE),Xi[Jc.Users_Position].access_token||(TI(),Jc.Main_Go=Lc,TI(),Bf(),E_()))}function VI(e){var t=JSON.parse(e),n=t.videos.length;kI=parseInt(t._total),n<su&&(fI=!0);var a=mI;CI=!(mI+=n);var i=n/du;0<n%du&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!II){var _;for(II=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(Qc=document.createElement("td")).setAttribute("id",SI[8]+"y_"+f),Qc.className="stream_cell",Qc.innerHTML='<div id="'+SI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+SI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Qc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/du+f,d=document.createElement("tr"),o=0;o<du&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||hI[r]?o--:(hI[r]=1,d.appendChild(IS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ku),l.channel.display_name,N+T_(l.created_at),QS.parse(l.title)+ca+Qt+v+l.game,v_(l.views)+D,g_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+dv(l.length),l.animated_preview_url],SI)));for(;o<du;o++)fI&&!AI&&(AI=!0,mI=s*du+o),d.appendChild(F_(SI[9]+s+"_"+o)),pI.push(SI[9]+s+"_"+o);u.appendChild(d)}DI()}function DI(){xI?(U_(xa),zI(!0)):(CI?(l_(L+(PI?G:O)+T+M),Tf(WI)):(xI=!0,zI(),U_(xa),M_()),qu(SI[10]),Pf=!1,Ku()),0<pI.length&&!fI?JI():vI=!(pI=[])}function JI(){OI(),FI()}function FI(){d_(pI.length);var e=mI+wI;e&&kI-1<e&&(e=kI-hu,fI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+hu+"&broadcast_type="+(PI?"highlight":"archive")+"&sort="+EI+"&offset="+e;if(Tu){if(!(t=Android.mreadUrl(n,bI,3,bu+Xi[Jc.Users_Position].access_token)))return void HI();if(200===(t=JSON.parse(t)).status)return void qI(t.responseText);401===t.status||403===t.status?ni(Jc.Users_Position,0,GI,NI):HI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=bI,t.setRequestHeader(gu,wu),t.setRequestHeader(vu,pu),t.setRequestHeader(yu,bu+Xi[Jc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void qI(t.responseText);401===t.status||403===t.status?ni(Jc.Users_Position,0,GI,NI):HI()}},t.send(null)}function HI(){++gI<yI?(bI+=500,FI()):(fI=!0,mI-=pI.length,pI=[],DI())}function qI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(kI=parseInt(a._total);o<pI.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||hI[n]?o--:(hI[n]=1,xS(pI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ku),t.channel.display_name,N+T_(t.created_at),QS.parse(t.title)+ca+Qt+v+t.game,v_(t.views)+D,g_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+dv(t.length),t.animated_preview_url],SI),d.push(o));for(o=d.length-1;-1<o;o--)pI.splice(d[o],1);wI+=s,fI&&(mI-=pI.length,pI=[]),DI()}function zI(e){uI<0?YI():(nf(uI,_I,SI,du,mI,e),VS(SI,uI+"_"+_I),mI/du<uI+lu&&!fI&&!vI&&GI(),qc&&XI())}function XI(){window.clearInterval(ZI),-1<uI&&mI?(qu(SI[1]+uI+"_"+_I),_f(uI+"_"+_I,SI)):jI()}function YI(){var e=1<_I?1:_I;Xu(SI[0]+"y_"+e,Au)}function jI(){var e=1<_I?1:_I;Yu(SI[0]+"y_"+e,Au)}function WI(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:__()?u_():__()?u_():p_()?h_():(XI(),Tf(WI));break;case Oa:if(-1===uI)jI(),--_I<0&&(_I=1),YI();else if(uI||_I){if(b_(uI,_I-1,SI[0]))XI(),_I--,zI();else for(t=du-1;-1<t;t--)if(b_(uI-1,t,SI[0])){XI(),uI--,_I=t,zI();break}}else XI(),jI(),uI=-1,_I=1,YI();break;case Ua:-1===uI?(jI(),1<++_I?(_I=0,CI?YI():(uI=0,zI())):YI()):b_(uI,_I+1,SI[0])?(XI(),_I++,zI()):b_(uI+1,0,SI[0])&&(XI(),uI++,_I=0,zI());break;case Ga:if(-1!==uI||CI)if(uI){for(t=0;t<du;t++)if(b_(uI-1,_I-t,SI[0])){XI(),uI--,_I-=t,zI();break}}else XI(),uI=-1,YI();else uI=0,jI(),zI();break;case Ra:if(-1!==uI||CI){for(t=0;t<du;t++)if(b_(uI+1,_I-t,SI[0])){XI(),uI++,_I-=t,zI();break}}else uI=0,jI(),zI();break;case Ta:case La:case Ba:case Na:-1===uI?(0===_I?Nf("UserVod_highlight",(PI=!PI)?"true":"false"):1===MI?MI++:MI--,BI()):rf(uI+"_"+_I,SI,WI)}}function QI(){1===MI?(ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+" "+(PI?G:O)+En)),EI="time"):2===MI&&(ju("top_bar_user",u+L_(Xi[Jc.Users_Position].name+" "+(PI?G:O)+Mn)),EI="views"),Nf("UserVod_TypeNumber",MI)}var ZI,KI=0,$I=0,eS=!1,tS=0,nS={},aS=[],iS=!1,oS=0,sS=5,dS=3500,lS=0,rS=0,cS=!1,uS=!1,_S="week",fS=2,mS=!1,hS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],pS=!1,vS=!1,gS=1,yS=new Image;function bS(){Jc.Main_CenterLablesVectorPos=4,Jc.Main_Go=Oc,Xu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",DS,!1),pS?(V_(KI),qu(hS[10]),JS(),GS(),M_()):kS()}function wS(){pS&&US(),x_(),document.body.removeEventListener("keydown",DS),Yu("top_bar_vod","icon_center_focus"),Wu("top_bar_vod",Kt),Hu(hS[10])}function kS(){pS&&US(),G_("stream_table_vod"),Hu(hS[10]),Zu(),JS(),r_(),mS=pS=!1,Pf=!(uS=!(aS=[])),KI=$I=tS=rS=lS=0,eS=!(nS={}),i_(),CS(),AS()}function CS(){R_(),iS=!0,oS=0,dS=3500}function AS(){var e=tS+lS;e&&rS-1<e&&(e=rS-su,eS=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+su+"&broadcast_type="+(vS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+_S+(""!==Kc?"&language="+Kc:"");Tu&&!tS?Xf(t,dS,2,null,MS,ES):Yf(t,dS,2,null,MS,ES,!1)}function ES(){++oS<sS?(dS+=500,AS()):(iS=!1,tS?(eS=!0,LS()):(Pf=!1,Ku(),l_(P)))}function MS(e){var t=JSON.parse(e),n=t.vods.length;rS=parseInt(t._total),n<su&&(eS=!0);var a=tS;cS=!(tS+=n);var i=n/du;0<n%du&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!mS){var _;for(mS=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(Qc=document.createElement("td")).setAttribute("id",hS[8]+"y_"+f),Qc.className="stream_cell",Qc.innerHTML='<div id="'+hS[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+hS[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Qc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/du+f,d=document.createElement("tr"),o=0;o<du&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||nS[r]?o--:(nS[r]=1,d.appendChild(IS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ku),l.channel.display_name,N+T_(l.created_at),QS.parse(l.title)+ca+Qt+v+l.game,v_(l.views)+D,g_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+dv(l.length),l.animated_preview_url],hS)));for(;o<du;o++)eS&&!uS&&(uS=!0,tS=s*du+o),d.appendChild(F_(hS[9]+s+"_"+o)),aS.push(hS[9]+s+"_"+o);u.appendChild(d)}LS()}function IS(e,t,n,a,i){return e<du&&J_(a[0]),SS(n,t,a,i)}function SS(e,t,n,a){return(Qc=document.createElement("td")).setAttribute("id",a[8]+t),Qc.setAttribute(Eu,JSON.stringify(e)),Qc.className="stream_cell",Qc.innerHTML=PS(t,n,a),Qc}function xS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Eu,JSON.stringify(t)),i.innerHTML=PS(o,n,a),i.setAttribute("id",a[8]+o)}function PS(e,t,n){return N_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function LS(){if(pS?(U_(xa),GS(!0)):(cS?l_(L+(vS?G:O)+T+M):(pS=!0,GS(),U_(xa),M_()),qu(hS[10]),Pf=!1,Ku()),0<aS.length&&!eS)return CS(),void TS();iS=!(aS=[])}function TS(){d_(aS.length);var e=tS+lS;e&&rS-1<e&&(e=rS-hu,eS=!0),qf("https://api.twitch.tv/kraken/videos/top?limit="+hu+"&broadcast_type="+(vS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+_S+(""!==Kc?"&language="+Kc:""),dS,2,null,OS,BS)}function BS(){++oS<sS?(dS+=500,TS()):(eS=!0,tS-=aS.length,aS=[],LS())}function OS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(rS=parseInt(a._total);o<aS.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||nS[n]?o--:(nS[n]=1,xS(aS[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ku),t.channel.display_name,N+T_(t.created_at),QS.parse(t.title)+ca+Qt+v+t.game,v_(t.views)+D,g_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+dv(t.length),t.animated_preview_url],hS),d.push(o));for(o=d.length-1;-1<o;o--)aS.splice(d[o],1);lS+=s,eS&&(tS-=aS.length,aS=[]),LS()}function GS(e){KI<0?RS():(nf(KI,$I,hS,du,tS,e),VS(hS,KI+"_"+$I),tS/du<KI+lu&&!eS&&!iS&&(CS(),AS()),qc&&US())}function US(){window.clearInterval(ZI),-1<KI&&tS?(qu(hS[1]+KI+"_"+$I),_f(KI+"_"+$I,hS)):NS()}function RS(){var e=1<$I?1:$I;Xu(hS[0]+"y_"+e,Au)}function NS(){var e=1<$I?1:$I;Yu(hS[0]+"y_"+e,Au)}function VS(t,n){if(gS){var a=document.getElementById(t[0]+n);yS.onload=function(){Hu(t[1]+n),a.style.backgroundSize="612px";var e=0;ZI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},yS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function DS(e){var t;if(!Pf&&!ef())switch($_(),e.keyCode){case Va:p_()?h_():__()?u_():(US(),Tf(DS));break;case Oa:if(-1===KI)NS(),--$I<0&&($I=1),RS();else if(KI||$I){if(b_(KI,$I-1,hS[0]))US(),$I--,GS();else for(t=du-1;-1<t;t--)if(b_(KI-1,t,hS[0])){US(),KI--,$I=t,GS();break}}else US(),NS(),KI=-1,$I=1,RS();break;case Ua:-1===KI?(NS(),1<++$I?($I=0,cS?RS():(KI=0,GS())):RS()):b_(KI,$I+1,hS[0])?(US(),$I++,GS()):b_(KI+1,0,hS[0])&&(US(),KI++,$I=0,GS());break;case Ga:if(-1!==KI||cS)if(KI){for(t=0;t<du;t++)if(b_(KI-1,$I-t,hS[0])){US(),KI--,$I-=t,GS();break}}else US(),KI=-1,RS();else KI=0,NS(),GS();break;case Ra:if(-1!==KI||cS){for(t=0;t<du;t++)if(b_(KI+1,$I-t,hS[0])){US(),KI++,$I-=t,GS();break}}else KI=0,NS(),GS();break;case Ta:case La:case Ba:case Na:-1===KI?(0===$I?Nf("Vod_highlight",(vS=!vS)?"true":"false"):4<++fS&&(fS=1),kS()):rf(KI+"_"+$I,hS,DS)}}function JS(){1===fS?(ju("top_bar_vod",Kt+L_((vS?G:O)+de)),_S="day"):2===fS?(ju("top_bar_vod",Kt+L_((vS?G:O)+le)),_S="week"):3===fS?(ju("top_bar_vod",Kt+L_((vS?G:O)+re)),_S="month"):4===fS&&(ju("top_bar_vod",Kt+L_((vS?G:O)+ce)),_S="all"),Nf("vod_periodNumber",fS)}function FS(e,t){return e.replace(t.code,HS(t))}function HS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function qS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function zS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function XS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Rl[a]||Rl[e];e=i?FS(e,i):zS(e),t[n]=e}return t.join(" ")}function YS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([qS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function jS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function WS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+c((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function A(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;a+=g)e=b(e/r);return b(a+(r+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,r,c,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&k("overflow"),s*=c;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return A(_)}function f(e){var t,n,a,i,o,s,d,l,r,c,u,_,f,m,h,p=[];for(_=(e=C(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)h=l-c,m=g-c,p.push(w(E(c+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:C,encode:A},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=a,a=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var QS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();