var t,n,i,e,a,s,o,d,l,r,h,f,c,u,_,m,p,v,g,y,b,w,k,C,M,E,x,S,I,P,L,T,B,G,O,U,F,A,N,H,D,q,R,z,V,J,X,j,Y,W,K,Z,$,Q,ee,te,ne,ie,ae,se,oe,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Me,Ee,xe,Se,Ie,Pe,Le,Te,Be,Ge,Oe,Ue,Fe,Ae,Ne,He,De,qe,Re,ze,Ve,Je,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,it,at,st,ot,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,Mt,Et,xt,St,It,Pt,Lt,Tt,Bt,Gt,Ot,Ut,Ft,At,Nt,Ht,Dt,qt,Rt,zt,Vt,Jt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,sn,on,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,Mn,En,xn,Sn,In,Pn,Ln,Tn,Bn,Gn,On,Un,Fn,An,Nn,Hn,Dn,qn,Rn,zn,Vn,Jn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ei,ti,ni='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_side_panel" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label hide"></div><div id="label_extra" class="icon_top_label hide"></div></div><div id="top_lables" style="text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="side_panel" class="side_panel side_panel_hide" style="margin-left:-23.5%;"><div id="side_panel_0" class="side_panel_text side_panel_text_focus" style="margin-top:10px;"><div class="side_panel_icons"><i class="icon icon-search"></i></div>&nbsp;<spam id="side_panel_search"></spam></div><div id="side_panel_1" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-settings"></i></div>&nbsp;<spam id="side_panel_settings"></spam></div><div id="side_panel_2" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-info-circle"></i></div>&nbsp;<spam id="side_panel_about"></spam></div><div id="side_panel_3" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-question-circle"></i></div>&nbsp;<spam id="side_panel_controls"></spam></div><div id="side_panel_4" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-exit"></i></div>&nbsp;<spam id="side_panel_exit"></spam></div><div id="side_panel_5" class="side_panel_text" style="margin-top:50px;"><div class="side_panel_icons"><i class="icon icon-play"></i></div>&nbsp;<spam id="side_panel_live"></spam></div><div id="side_panel_6" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-users"></i></div>&nbsp;<spam id="side_panel_user"></spam></div><div id="side_panel_7" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-star"></i></div>&nbsp;<spam id="side_panel_featured"></spam></div><div id="side_panel_8" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-gamepad"></i></div>&nbsp;<spam id="side_panel_games"></spam></div><div id="side_panel_9" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie-play"></i></div>&nbsp;<spam id="side_panel_videos"></spam></div><div id="side_panel_10" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie"></i></div><spam id="side_panel_clips"></spam></div><div class="side_panel_return"><div class="side_panel_icons"><i class="icon icon-arrow-circle-left"></i></div>&nbsp;<spam id="side_panel_hide"></spam></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs hide" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="about_dialogs hide" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="user_channels_scroll" class="screen_holder hide"><table id="stream_table_user_channels" class="streams_tables"></table></div><div id="search_channel_scroll" class="screen_holder hide"><table id="stream_table_search_channel" class="streams_tables"></table></div><div id="channel_content_scroll" class="screen_holder hide"><table id="stream_table_channel_content" class="streams_tables"></table></div><div id="Clip_scroll" class="screen_holder hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder hide"><table id="stream_table_user" class="streams_tables"></table></div><div id="settings_scroll" class="screen_holder_settings hide"><div id="settings_main" class="settings_main"></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_div"></div></div><div id="search_games_scroll" class="screen_holder_games hide"><table id="stream_table_search_game" class="streams_tables"></table></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="strokedextramini" style="font-size:100%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="live_scroll" class="screen_holder hide"><table id="stream_table_live" class="streams_tables"></table></div><div id="featured_scroll" class="screen_holder hide"><table id="stream_table_featured" class="streams_tables"></table></div><div id="user_host_scroll" class="screen_holder hide"><table id="stream_table_user_host" class="streams_tables"></table></div><div id="user_live_scroll" class="screen_holder hide"><table id="stream_table_user_live" class="streams_tables"></table></div><div id="a_games_scroll" class="screen_holder hide"><table id="stream_table_a_game" class="streams_tables"></table></div><div id="search_live_scroll" class="screen_holder hide"><table id="stream_table_search_live" class="streams_tables"></table></div><div id="vod_scroll" class="screen_holder hide"><table id="stream_table_vod" class="streams_tables"></table></div><div id="a_games_vod_scroll" class="screen_holder hide"><table id="stream_table_a_game_vod" class="streams_tables"></table></div><div id="channel_vod_scroll" class="screen_holder hide"><table id="stream_table_channel_vod" class="streams_tables"></table></div><div id="user_vod_scroll" class="screen_holder hide"><table id="stream_table_user_vod" class="streams_tables"></table></div></div></div><div id="scene2" class="screen_size hide"><div id="user_feed" class="user_feed hide"><div id="icon_feed_refresh" class="dialogs" style="bottom:22vh;text-align:left;margin-left:1%;"></div><div id="dialog_loading_feed" class="dialogs hide" style="bottom:2.5%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:500%;"></i></div><div id="user_feed_scroll" class="user_feed_scroll"></div></div><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><iframe id="chat_frame" class="hide" width="100%" height="100%" frameborder="0" scrolling="no" style="position:absolute;overflow:hidden;" src="about:blank"></iframe><div id="chat_box" class="hide"></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedbig" style="display:inline-block;font-size:225%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo"><div id="stream_clock"></div><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/404_logo.png"><div class="playmaininfo"><div id="stream_info_name" style="font-size:160%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div id="scene_channel_panel_bottom" style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_pannel_5" class="playbotton" style="z-order:6;width:11%;"><div id="ic_search" style="font-size:140%;transform:translate(0, 5%);vertical-align:middle;display:inline-block;"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_4" class="playbotton" style="z-order:5;width:18%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block;"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_3" class="playbotton" style="z-order:5;width:17%;"><div id="game_icon" style="vertical-align:middle;display:inline-block;overflow:hidden;max-height:43px;"><div style="display:flex;font-size:185%;transform:translate(0,3%);"><i class="icon-gamepad strokicon"></i></div></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_2" class="playbotton" style="z-order:3;width:14%;"><div id="fallow_heart" style="font-size:75%;transform:translate(0, 10%);vertical-align:middle;display:inline-block;"><i class="icon-heart-o strokicon" style="color:#FFFFFF;font-size:210%;"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_1" class="playbotton playbotton_focus" style="z-order:2;width:30%;"><div id="quality_video" style="vertical-align:middle;display:inline-block;font-size:185%;transform:translate(0, 7%);"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="display:inline-block;font-size:50%;transform:translate(0,20%);">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:87.5%;font-weight:bold;width:77%;"></div></div><div id="scene2_pannel_0" class="playbotton" style="z-order:4;width:17%;margin-right:0;display:none;"><div id="open_vod_icon" style="vertical-align:middle;display:inline-block;font-size:175%;transform:translate(0, 7%);"><i class="icon-play strokicon"></i></div>&nbsp;<div id="open_vod_text" class="strokedextramini playbottontext" style="font-size:77.5%;"></div></div></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedextramini" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedextramini"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedextramini"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedextramini" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_button" class="pause_button"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:180%;"></i></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedbig" style="font-size:165%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:250%;"></i><div id="dialog_vod_saved_text" class="strokedbig"></div></div><div id="dialog_vod_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_vod_start_text" class="strokedbig"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:500%;"></i></div><div id="dialog_loading_play" class="screen_size dialogs hide" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:250%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:17%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:250%;"></div></div></div></div>',ii="fglfgl27@gmail.com",ai="<br>",si='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',oi='<div class="about_text_title">',di='<div class="about_text_title" style="text-align: left;">',li='<div style="text-align: left;">',ri="",ci="",ui="",_i="",fi="",mi="",hi="",pi="",vi="",gi="",yi="&nbsp;",bi="",wi='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+yi;function ki(){ri=e+" (C)",ci=n+" (D)",_i=i+" (A)",ui=a+" (A)",l+=Kt,r+=Kt,fi=oi+e+"</div>"+oi+Ee+"</div>"+ai+li+si+Le+ai+si+(Te+=Fn)+ai+si+Be+ai+si+Ge+ai+Oe+ai+si+Ue+ai+yi+yi+yi+Fe+ai+si+Ae+ai+"</div>"+ai+(pi=oi+Ce+"</div>"+li+si+$e+ai+si+We+ai+si+Ke+ai+"</div>"+li+si+Ze+ai+si+Qe+ai+si+et+ai+ai+oi+Me+"</div>"+li+si+tt+ai+si+nt+ai+si+it+ai+si+at+ai+si+st)+ai+ai+oi+ke+"</div>",mi=oi+wi+we+"</div></div>",hi=li+ai+Ne+ai+(bc?"":ai+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Wn+"</div>")+"</div>"+ai+oi+He+"</div>"+ii+ai+ai+De+ai+qe+ai+ai+di+Re+"</div>"+li+si+ze+ai+si+Ve+ai+si+Je+ai+si+Xe+ai+si+je+ai+si+Ye+ai+oi+ke+"</div></div>",vi=oi+xe+"</div>"+rt+ai,bi=ai+oi+ct+"</div>"+li+si+ut+ai+ai+oi+bi+"</div>"+ai+ai+ke+"</div>",gi=ft+ai+si+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+ai+si+ht+ai+si+pt+ai+si+vt+ai+si+gt}function Ci(){tu=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",i="Settings",e="Controls",a="About",s="Hide",o="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",h="Switch: Past Broadcast or Highlight",f="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",m="Games",p="Playing ",v=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",C="Type your authentication key...",M="Type your user name...",E="Press Enter or Select key to, ",x="Channels",S="Channel",I="Back to previously screen: Back key twice",P=" has ended",L="This video is only available to subscribers.",T="Connection failed, unable to load content hit refresh to try again",B="No",G=" for this ",O="Connection failed, unable to load video content exiting...",U=" Past Broadcast",F=" Highlight",A=" Clips",N=" Content",H="Streamed on ",D="Duration ",q=" Views",R=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",J="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ie=" hosting ",ae=" already set",se="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",de="Add a Twitch user to display it's Followed Channels content here",le=" (24h)",re=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Ce="Player Related:",Me="Chat Related:",Ee="General Related:",xe="Update",Se="Current installed version ",Ie=" latest available version ",Pe="This are the none players related controls, the player can show it's own controls.",Le="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Te="Refresh screen content: ",Be="Exit the application: from side pannel click exit",Ge=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Ue="Start a search: from side pannel click search",Fe="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ae="About this application: from side pannel click about",Ne="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Wn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",He="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",qe="github.com/fgl27/SmartTwitchTV",Re="This application uses following dependencies:",ze="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Ve="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",Je="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",Ke="Close the video: press back key twice",Ze="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",$e="Show user live channels feed: D-pad up",Qe="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",et="Force refresh a video (in case it freezes): Change video quality to the same",tt="Show or hide the Chat : D-pad right",nt="Change Chat position : D-pad left",it="Change Chat size : D-pad up",at="Change Chat background brightness: Change in side panel settings",st="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ot='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',dt="Chat and video (Side by side): Color button red (A)",Qn="Force disable the chat",ei="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",lt="There is a update available, check it in the app github releases ",bi="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",rt="A update is available, and the app can't self update this version ",ct="Major changes:",ut="Improves how the app runs in the background",_t='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',ft=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",ht='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',pt="Login to Twitch.TV using the user name you are trying to add a key for",vt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",gt="The web page will update and show a key code, the key only has lower case letters and nubers.",yt=" Add Authentication key",bt="Key added OK",wt="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Mt=" but this key is for user ",Et=" Following",xt=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",It=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",On="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Gt="Restart the",Ot=" Clip",Ut="Channel content",Ft="Network is disconnect, the application can't work without INTERNET",At="Network connection reestablished",Nt=" Followers",Ht=", Can't fallow or unfallow ",Dt="Game content",qt="Yes",Rt="Are you sure you want to remove the user ",zt="Press Up to ",Vt="Followed Games",Jt="Change between",Xt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wt="Started ",Kt=" (PG Up/Down)",Zt="Videos",$t=" Video",Qt="Replay",en="exiting in ",tn='press "Return" to exit',nn="Featured",an="Created at ",sn="Open the Broadcast",on="No Broadcast",dn="There is no Past Broadcast for this clip",ln="And because of that no chat",rn=" is now",cn="Open the Hosting",un="Player related",_n="Buffer size:",fn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",hn="Videos (Past Broadcast and Highlight) buffer",pn="Clips buffer",vn="General related",gn="Language",yn="Chat: Connecting to chat history server.."+ai+"Chat: Connected."+ai+"Chat: Joined channel ",bn="Play from the start or from where you stop watching last time?",kn=(wn="From:"+ai)+"Start",Cn="Chat: The Chat has ended!",Mn=": Most recent",En=": Most views",xn="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",In="Enable",Pn="Disable",zn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",Gn="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Fn="Side panel: Back key twice",An="Size ",Nn="Brightness ",Hn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",qn=" seconds",Rn=" minutes",Vn="Clock offset",Jn="Application language",Xn="Content language",jn="All",Yn="Empty game fro this",Kn="Isn't possible to jump during a buffering",Zn="Chat is disabled, enable in side pannel settings",$n="This clip/video fail to load can't replay",ti="Chat backgroung brightness "}var Mi=51,Ei=52,xi=179,Si=37,Ii=38,Pi=39,Li=40,Ti=13,Bi=49,Gi=8,Oi=13,Ui=32,Fi=46,Ai=0,Ni=5,Hi=1e4,Di=0,qi=!1,Ri=!1,zi=!1,Vi=!1,Ji="",Xi="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ji="elsu5d09k0xomu7cggx3qg5ybdwu7g",Yi="https://id.twitch.tv/oauth2/token?";function Wi(e){Xc.Users_Position=Xc.Users_AddcodePosition,Di=e,ga(),e_(),Qi()}function Ki(e,t,n,i){var a=new XMLHttpRequest,s=Yi+"grant_type=refresh_token&client_id="+encodeURIComponent(yu)+"&client_secret="+encodeURIComponent(ji)+"&refresh_token="+encodeURIComponent(Aa[e].refresh_token)+"&redirect_uri="+Xi;a.open("POST",s,!0),a.timeout=Hi,a.ontimeout=function(){},a.onreadystatechange=function(){4!==a.readyState||(200===a.status?$i(a.responseText,e,n):Zi(e,t,n,i))},a.send(null)}function Zi(e,t,n,i){++t<10?Ki(e,t,n):i&&i()}function $i(e,t,n){var i=JSON.parse(e);Aa[t].access_token=i.access_token,Aa[t].refresh_token=i.refresh_token,ns(),n&&n()}function Qi(){var e=new XMLHttpRequest,t=Yi+"grant_type=authorization_code&client_id="+encodeURIComponent(yu)+"&client_secret="+encodeURIComponent(ji)+"&code="+encodeURIComponent(Di)+"&redirect_uri="+Xi;e.open("POST",t,!0),e.timeout=Hi,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?na(e.responseText):ea())},e.send(null)}function ea(){++Ai<Ni?Qi():ta()}function ta(){t_(),u_(Lt),window.setTimeout(function(){__(),Zc=0,L_(),Xc.Main_Go=Fc,window.location=Xi},4e3),Aa[Xc.Users_Position].access_token=0,Aa[Xc.Users_Position].refresh_token=0}function na(e){var t=JSON.parse(e);Aa[Xc.Users_Position].access_token=t.access_token,Aa[Xc.Users_Position].refresh_token=t.refresh_token,ga(),ia()}function ia(){Xf("https://api.twitch.tv/kraken?oauth_token="+Aa[Xc.Users_Position].access_token,Hi,0,null,aa,sa)}function aa(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Aa[Xc.Users_Position].name)?(ns(),Zc=0,t_(),qi=UE=!1,Xc.Main_Go=Fc,L_(),u_(bt),window.setTimeout(function(){window.location=Xi},3e3)):(Aa[Xc.Users_Position].access_token=0,Aa[Xc.Users_Position].refresh_token=0,qi=!1,u_(On+Aa[Xc.Users_Position].name),window.setTimeout(function(){__(),Zc=0,L_(),Xc.Main_Go=Fc,window.location=Xi},4e3))}function sa(){++Ai<Ni?(Hi+=500,ia()):ta()}function oa(){ga(),Ri=!1,da()}function da(){var e="https://api.twitch.tv/kraken/users/"+Aa[Xc.Users_Position].id+"/follows/channels/"+Ji,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Hi,t.setRequestHeader(bu,yu),t.setRequestHeader(wu,Mu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?la():404===t.status?ra(t.responseText):ca())},t.send(null)}function la(){qi=!(Ri=!0),Vi?yg():hd()}function ra(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(qi=Ri=!1,Vi?yg():hd()):ca()}function ca(){++Ai<Ni?(Hi+=500,da()):(qi=!1,Vi?yg():hd())}function ua(){ga(),_a()}function _a(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Aa[Xc.Users_Position].id+"/follows/channels/"+Ji,!0),e.timeout=Hi,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Mu),e.setRequestHeader("Authorization","OAuth "+Aa[Xc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Ri=!(qi=!1),void(Vi?yg():hd());401===e.status||403===e.status?Ki(Xc.Users_Position,0,ua,null):fa()}},e.send(null)}function fa(){++Ai<Ni&&(Hi+=500,_a())}function ma(){ga(),ha()}function ha(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Aa[Xc.Users_Position].id+"/follows/channels/"+Ji,!0),e.timeout=Hi,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Mu),e.setRequestHeader("Authorization","OAuth "+Aa[Xc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return qi=Ri=!1,void(Vi?yg():hd());401===e.status||403===e.status?Ki(Xc.Users_Position,0,ma,null):pa()}},e.send(null)}function pa(){++Ai<Ni&&(Hi+=500,ha())}function va(){ga(),zi=!1,ya()}function ga(){Hi=1e4,qi=!(Ai=0)}function ya(){var e,t="https://api.twitch.tv/kraken/users/"+Aa[Xc.Users_Position].id+"/subscriptions/"+Ji;if(Gu){if(!(e=Android.mreadUrl(t,Hi,3,Aa[Xc.Users_Position].access_token)))return void ba();if(200===(e=JSON.parse(e)).status)qi=!(zi=!0),Py();else if(422===e.status)qi=zi=!1,Iy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return qi=zi=!1,void Iy();ba()}else 401===e.status||403===e.status?Ki(Xc.Users_Position,0,va,wa):ba()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Hi,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Mu),e.setRequestHeader("Authorization","OAuth "+Aa[Xc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)qi=!(zi=!0),Py();else if(422===e.status)qi=zi=!1,Iy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return qi=zi=!1,void Iy();ba()}else 401===e.status||403===e.status?Ki(Xc.Users_Position,0,va,wa):ba()},e.send(null)}function ba(){++Ai<Ni?(Hi+=500,ya()):wa()}function wa(){qi=zi=!1,Iy()}function ka(e){ga(),Ca(e,0)}function Ca(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Aa[e].access_token,i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void(JSON.parse(i.responseText).token.valid?qi=!1:(ga(),Ki(e,0,null,null)));400===i.status?(ga(),Ki(e,0,null,null)):Ma(e,t)}},i.send(null)}function Ma(e,t){++t<Ni&&Ca(e,t)}function Ea(){ga(),xa()}function xa(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Aa[Xc.Users_Position].name+"/follows/games/"+encodeURIComponent(Xc.Main_gameSelected)+"?oauth_token="+Aa[Xc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ks=!0,void Os();401===e.status||403===e.status?Ki(Xc.Users_Position,0,Ea,null):Sa()}},e.send(null)}function Sa(){++Ai<Ni&&(Hi+=500,xa())}function Ia(){ga(),Pa()}function Pa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Aa[Xc.Users_Position].name+"/follows/games/"+encodeURIComponent(Xc.Main_gameSelected)+"?oauth_token="+Aa[Xc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ks=!1,void Os();401===e.status||403===e.status?Ki(Xc.Users_Position,0,Ia,null):La()}},e.send(null)}function La(){++Ai<Ni&&(Hi+=500,Pa())}function Ta(){ga(),Ba()}function Ba(){var e,t="https://api.twitch.tv/api/users/"+Aa[Xc.Users_Position].name+"/follows/games/"+encodeURIComponent(Xc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(ks=!0,void Os()):404===e.status?(ks=!1,void Os()):void Ga()},e.send(null)}function Ga(){++Ai<Ni?(Hi+=500,Ba()):(ks=!1,Os())}var Oa=0,Ua=5,Fa=3500,Aa=[],Na=null,Ha=!1,Da=!1;function qa(){Xc.Main_Go=Mc,Ku("top_bar_user","icon_center_focus"),__(),hc.placeholder=M,Yu("add_user_scroll"),Va()}function Ra(){Xa(!1),document.body.removeEventListener("keydown",za),document.body.removeEventListener("keydown",ja),Zu("top_bar_user","icon_center_focus"),ju("add_user_scroll")}function za(e){if(!Ha&&!Da&&Xc.Main_Go===Mc)switch(e.keyCode){case Bi:h_()?m_():y_()?g_():(0<Aa.length&&Xc.Main_Go!==Fc?Xc.Main_Go=Xc.Main_Before:Xc.Main_Go=Cc,Ra(),P_());break;case Ei:case Mi:case xi:case Ti:Va()}}function Va(){document.body.removeEventListener("keydown",za),document.body.addEventListener("keydown",ja,!1),hc.placeholder=M,hc.focus(),Da=!0}function Ja(){if(null!==hc){var e=hc.cloneNode(!0);hc.parentNode.replaceChild(e,hc),hc=document.getElementById("user_input")}}function Xa(e){hc.blur(),Ja(),document.body.removeEventListener("keydown",ja),hc.placeholder=E+M,e&&document.body.addEventListener("keydown",za,!1),Da=!1}function ja(e){if(!Ha&&Xc.Main_Go===Mc)switch(e.keyCode){case Bi:h_()?m_():y_()?g_():(0<Aa.length&&Xc.Main_Go!==Fc?Xc.Main_Go=Xc.Main_Before:Xc.Main_Go=Cc,Ra(),P_());break;case Fi:hc.value="";break;case Oi:case Li:""!==hc.value&&null!==hc.value?as(Na=bc||Qa()?hc.value:"testtwitch27")?(t_(),u_(u+Na+ae),window.setTimeout(function(){__(),Va()},1500)):(Fa=3500,Ha=!(Oa=0),ju("add_user_scroll"),e_(),Ya()):Va();break;case Gi:hc.value=hc.value.slice(0,-1);break;case Ui:hc.value+=" "}}function Ya(){Xf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Na),Fa,2,null,Wa,Ka)}function Wa(e){JSON.parse(e)._total?(hc.value="",document.body.removeEventListener("keydown",za),es(e)):Za()}function Ka(){++Oa<Ua?(Fa+=500,Ya()):Za()}function Za(){Na=null,t_(),u_(ne),window.setTimeout(function(){qa()},1e3),Ha=!1}function $a(){if(0<(Aa=Rf("AddUser_UsernameArray",[])).length)for(var e=0;e<Aa.length;e++)Aa[e].access_token&&ka(e)}function Qa(){return 0<Aa.length}function es(e){Na=JSON.parse(e).users[0],Aa.push({name:Na.name,id:Na._id,access_token:0,refresh_token:0}),ns(),UE=!1,Ra(),AE(),Ha=!1}function ts(e){var t=Aa.indexOf(Aa[e]);-1<t&&Aa.splice(t,1),0<Aa.length?(UE=!1,AE()):qa(),ns()}function ns(){Df("AddUser_UsernameArray",JSON.stringify(Aa))}function is(e){Na=Aa[0],Aa[0]=Aa[e],Aa[e]=Na,UE=!1,AE()}function as(e){return-1!==Aa.indexOf(e)}function ss(){return 0<Aa.length}var os=0,ds=0,ls=!1,rs=0,cs={},us=[],_s=!1,fs=0,ms=5,hs=3500,ps=0,vs=0,gs=!1,ys=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],bs=!1,ws=!1,ks=!1,Cs=!1,Ms=!1;function Es(){Xc.Main_CenterLablesVectorPos=3,Xc.Main_Go=xc,document.body.addEventListener("keydown",Vs,!1),Ku("top_bar_game","icon_center_focus"),Xu("label_side_panel","icon-arrow-circle-left",I),Xc.Search_isSearching&&(O_(),$u("top_bar_user",n+U_(m+" '"+Xc.Search_data+"'"))),$u("top_bar_game",w+U_(_+": "+Xc.Main_gameSelected)),Xc.Main_OldgameSelected===Xc.Main_gameSelected&&bs?(z_(os),Yu(ys[10]),l_(ds,os,cu,rs),Ds(),L_()):Ss()}function xs(){bs&&-1===os&&(zs(),ds=os=0,Ku(ys[0]+"0_"+ds,Su)),Xu("label_side_panel","icon-ellipsis",Fn),$u("top_bar_game",m),document.body.removeEventListener("keydown",Vs),Zu("top_bar_game","icon_center_focus"),ju(ys[10])}function Ss(){null===Xc.Main_OldgameSelected&&(Xc.Main_OldgameSelected=Xc.Main_gameSelected),H_("stream_table_a_game"),ju(ys[10]),e_(),__(),Ms=bs=!1,cs={},rs=vs=ps=0,os=ds=0,ls=!(Bf=!(ws=!(us=[]))),d_(),gf(function(){Is(),Ps()})}function Is(){q_(),_s=!0,fs=0,hs=3500}function Ps(){var e=rs+ps;e&&vs-1<e&&(e=vs-ru,ls=!0),Xf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Xc.Main_gameSelected)+"&limit="+ru+"&offset="+e+(""!==nu?"&language="+nu:""),hs,2,null,Ts,Ls)}function Ls(){++fs<ms?(hs+=500,Ps()):(_s=!1,rs?(ls=!0,Bs()):(Bf=!1,t_(),u_(T)))}function Ts(e){var t=JSON.parse(e),n=t.streams.length;vs=parseInt(t._total),n<ru&&(ls=!0);var i=rs;gs=!(rs+=n);var a=n/cu;0<n%cu&&a++;var s,o,d,l,r,c,u=0;if(!Ms){var _;for(Ms=!0,d=document.createElement("tr"),l=0;l<3;l++)_=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+yi+A:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+yi+yi+Zt,(eu=document.createElement("td")).setAttribute("id",ys[8]+"y_"+l),eu.className="stream_cell",eu.innerHTML='<div id="'+ys[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+ys[3]+"y_"+l+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(eu);document.getElementById("stream_table_a_game").appendChild(d)}for(l=0;l<a;l++){for(o=i/cu+l,d=document.createElement("tr"),s=0;s<cu&&u<n;s++,u++)c=(r=t.streams[u]).channel._id,cs[c]?s--:(cs[c]=1,d.appendChild(K_(o,o+"_"+s,[r.channel.name,c],ys,[r.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+Qp(r.created_at)+b+", "+v+k_(r.viewers)+R,C_(r.video_height,r.average_fps,r.channel.language)])));for(;s<cu;s++)ls&&!ws&&(ws=!0,rs=o*cu+s),d.appendChild(X_(ys[9]+o+"_"+s)),us.push(ys[9]+o+"_"+s);document.getElementById("stream_table_a_game").appendChild(d)}Bs()}function Bs(){gf(function(){if(bs){if(D_(Nu),0<us.length&&!ls)return Is(),void As();l_(ds,os,cu,rs),us=[]}else t_(),Gs(),gs?(u_(B+$),os=-1,Rs()):(bs=!0,D_(Nu),Ds(),L_()),Yu(ys[10]),Bf=!1;_s=!1})}function Gs(){Cs?(ks=!0,Os()):Qa()?Ta():(ks=!1,Os())}function Os(){$u(ys[3]+"y_2",ks?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+yi+yi+Et:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+yi+yi+(Qa()?xt:Tt))}function Us(){Qa()&&Aa[Xc.Users_Position].access_token?ks?Ia():Ea():(u_(Bt),window.setTimeout(function(){gs&&Xc.Main_Go===xc?u_(B+$):__()},2e3))}function Fs(){ds?1===ds?(Xc.Main_Go=Rc,Xc.Main_OldgameSelected=Xc.Main_gameSelected,xs(),P_()):Us():(Xc.Main_Go=qc,Xc.Main_OldgameSelected=Xc.Main_gameSelected,xs(),P_())}function As(){c_(us.length);var e=rs+ps;e&&vs-1<e&&(e=vs-gu,ls=!0),Xf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Xc.Main_gameSelected)+"&limit="+gu+"&offset="+e+(""!==nu?"&language="+nu:""),hs,2,null,Hs,Ns)}function Ns(){++fs<ms?(hs+=500,As()):(ls=!0,rs-=us.length,us=[],Bs())}function Hs(e){var t,n,i=JSON.parse(e),a=i.streams.length,s=0,o=0,d=[];for(vs=parseInt(i._total),a<gu&&(ls=!0);s<us.length&&o<a;s++,o++)n=(t=i.streams[o]).channel._id,cs[n]?s--:(cs[n]=1,Z_(us[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qp(t.created_at)+b+", "+v+k_(t.viewers)+R,C_(t.video_height,t.average_fps,t.channel.language)],ys),d.push(s));for(s=d.length-1;-1<s;s--)us.splice(d[s],1);ps+=o,ls&&(rs-=us.length,us=[]),Bs()}function Ds(){os<0?Rs():(df(os,ds,ys,cu,rs),rs/cu<os+uu&&!ls&&!_s&&(Is(),Ps()),Wc&&qs())}function qs(){-1<os&&rs?hf(os+"_"+ds,ys):zs()}function Rs(){Ku(ys[0]+"y_"+ds,Su)}function zs(){Zu(ys[0]+"y_"+ds,Su)}function Vs(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(Xc.Main_OldgameSelected=Xc.Main_gameSelected,qs(),zs(),Of(Vs));break;case Si:if(-1===os)zs(),--ds<0&&(ds=2),Rs();else if(os||ds){if(E_(os,ds-1,ys[0]))qs(),ds--,Ds();else for(t=cu-1;-1<t;t--)if(E_(os-1,t,ys[0])){qs(),os--,ds=t,Ds();break}}else qs(),zs(),os=-1,ds=2,Rs();break;case Pi:-1===os?(zs(),2<++ds?(ds=0,gs?Rs():(os=0,Ds())):Rs()):E_(os,ds+1,ys[0])?(qs(),ds++,Ds()):E_(os+1,0,ys[0])&&(qs(),os++,ds=0,Ds());break;case Ii:if(-1!==os||gs)if(os){for(t=0;t<cu;t++)if(E_(os-1,ds-t,ys[0])){qs(),os--,ds-=t,Ds();break}}else qs(),os=-1,Rs();else os=0,zs(),Ds();break;case Li:if(-1!==os||gs){for(t=0;t<cu;t++)if(E_(os+1,ds-t,ys[0])){qs(),os++,ds-=t,Ds();break}}else os=0,zs(),Ds();break;case Ei:case Mi:case xi:case Ti:-1!==os?rf(os+"_"+ds,ys,Vs):Fs()}}var Js=0,Xs=0,js=!1,Ys=0,Ws={},Ks=[],Zs=!1,$s=0,Qs=5,eo=3500,to=0,no=0,io=!1,ao=!1,so="week",oo=2,lo=!1,ro=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],co=!1,uo=!1,_o="";function fo(){Xc.Main_CenterLablesVectorPos=3,Xc.Main_Go=qc,Ku("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Io,!1),Xu("label_side_panel","icon-arrow-circle-left",I),_o===Xc.Main_gameSelected&&co?(z_(Js),Yu(ro[10]),l_(Xs,Js,cu,Ys),Po(),Mo(),L_()):ho()}function mo(){co&&Eo(),document.body.removeEventListener("keydown",Io),Zu("top_bar_game","icon_center_focus"),$u("top_bar_game",m),Xu("label_side_panel","icon-ellipsis",Fn),Xu("label_switch","icon-switch",l),ju(ro[10])}function ho(){co&&Eo(),H_("stream_table_a_game_vod"),ju(ro[10]),e_(),Po(),_o=Xc.Main_gameSelected,__(),lo=co=!1,no=to=0,Ws={},Js=Xs=Ys=0,js=!(Bf=!(ao=!(Ks=[]))),d_(),gf(function(){po(),vo()})}function po(){q_(),Zs=!0,$s=0,eo=3500}function vo(){var e=Ys+to;e&&no-1<e&&(e=no-ru,js=!0),Xf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Xc.Main_gameSelected)+"&limit="+ru+"&broadcast_type="+(uo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+so+(""!==nu?"&language="+nu:""),eo,2,null,yo,go)}function go(){++$s<Qs?(eo+=500,vo()):(Zs=!1,Ys?(js=!0,bo()):(Bf=!1,t_(),u_(T)))}function yo(e){var t=JSON.parse(e),n=t.vods.length;no=parseInt(t._total),n<ru&&(js=!0);var i=Ys;io=!(Ys+=n);var a=n/cu;0<n%cu&&a++;var s,o,d,l,r,c=0;if(!lo){var u;for(lo=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+yi+yi+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+yi+yi+h,(eu=document.createElement("td")).setAttribute("id",ro[8]+"y_"+_),eu.className="stream_cell",eu.innerHTML='<div id="'+ro[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+ro[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(eu);document.getElementById("stream_table_a_game_vod").appendChild(d)}for(var _=0;_<a;_++){for(o=i/cu+_,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||Ws[r]?s--:(Ws[r]=1,d.appendChild(pS(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Eu),l.channel.display_name,H+F_(l.created_at),gC.parse(l.title)+ai+Wt+p+l.game,k_(l.views)+q,C_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Zp(l.length),l.animated_preview_url],ro)));for(;s<cu;s++)js&&!ao&&(ao=!0,Ys=o*cu+s),d.appendChild(X_(ro[9]+o+"_"+s)),Ks.push(ro[9]+o+"_"+s);document.getElementById("stream_table_a_game_vod").appendChild(d)}bo()}function bo(){gf(function(){if(co?D_(Nu):(t_(),io?u_(B+(uo?F:U)+G+S):(co=!0,D_(Nu),Mo(),L_()),Yu(ro[10]),Bf=!1),0<Ks.length&&!js)return po(),void wo();l_(Xs,Js,cu,Ys),Zs=!(Ks=[])})}function wo(){c_(Ks.length);var e=Ys+to;e&&no-1<e&&(e=no-gu,js=!0),Xf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Xc.Main_gameSelected)+"&limit="+gu+"&broadcast_type="+(uo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+so+(""!==nu?"&language="+nu:""),eo,2,null,Co,ko)}function ko(){++$s<Qs?(eo+=500,wo()):(js=!0,Ks=[],bo())}function Co(e){var t,n,i=JSON.parse(e),a=i.vods.length,s=0,o=0,d=[];for(no=parseInt(i._total);s<Ks.length&&o<a;s++,o++)n=(t=i.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Ws[n]?s--:(Ws[n]=1,gS(Ks[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,H+F_(t.created_at),gC.parse(t.title)+ai+Wt+p+t.game,k_(t.views)+q,C_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Zp(t.length),t.animated_preview_url],ro),d.push(s));for(s=d.length-1;-1<s;s--)Ks.splice(d[s],1);to+=o,js&&(Ys-=Ks.length,Ks=[]),bo()}function Mo(){Js<0?xo():(df(Js,Xs,ro,cu,Ys),IS(ro,Js+"_"+Xs),Ys/cu<Js+uu&&!js&&!Zs&&(po(),vo()),Wc&&Eo())}function Eo(){window.clearInterval(Dx),-1<Js&&Ys?(Yu(ro[1]+Js+"_"+Xs),hf(Js+"_"+Xs,ro)):So()}function xo(){var e=1<Xs?1:Xs;Ku(ro[0]+"y_"+e,Su)}function So(){var e=1<Xs?1:Xs;Zu(ro[0]+"y_"+e,Su)}function Io(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(Eo(),Of(Io));break;case Si:if(-1===Js)So(),--Xs<0&&(Xs=1),xo();else if(Js||Xs){if(E_(Js,Xs-1,ro[0]))Eo(),Xs--,Mo();else for(t=cu-1;-1<t;t--)if(E_(Js-1,t,ro[0])){Eo(),Js--,Xs=t,Mo();break}}else Eo(),So(),Js=-1,Xs=1,xo();break;case Pi:-1===Js?(So(),1<++Xs?(Xs=0,io?xo():(Js=0,Mo())):xo()):E_(Js,Xs+1,ro[0])?(Eo(),Xs++,Mo()):E_(Js+1,0,ro[0])&&(Eo(),Js++,Xs=0,Mo());break;case Ii:if(-1!==Js||io)if(Js){for(t=0;t<cu;t++)if(E_(Js-1,Xs-t,ro[0])){Eo(),Js--,Xs-=t,Mo();break}}else Eo(),Js=-1,xo();else Js=0,So(),Mo();break;case Li:if(-1!==Js||io){for(t=0;t<cu;t++)if(E_(Js+1,Xs-t,ro[0])){Eo(),Js++,Xs-=t,Mo();break}}else Js=0,So(),Mo();break;case Ei:case Mi:case xi:case Ti:-1===Js?(0===Xs?Df("AGameVod_highlight",(uo=!uo)?"true":"false"):4<++oo&&(oo=1),ho()):_f(Js+"_"+Xs,ro,Io)}}function Po(){1===oo?($u("top_bar_game",w+U_((uo?F:U)+le+": "+Xc.Main_gameSelected)),so="day"):2===oo?($u("top_bar_game",w+U_((uo?F:U)+re+": "+Xc.Main_gameSelected)),so="week"):3===oo?($u("top_bar_game",w+U_((uo?F:U)+ce+": "+Xc.Main_gameSelected)),so="month"):4===oo&&($u("top_bar_game",w+U_((uo?F:U)+ue+": "+Xc.Main_gameSelected)),so="all"),Df("AGameVod_periodNumber",oo)}var Lo,To,Bo=0,Go=0,Oo=!1,Uo=0,Fo=0,Ao=5,No=3500,Ho=0,Do=!1,qo=!1,Ro=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],zo=!1,Vo="",Jo=null,Xo="",jo="",Yo="",Wo="",Ko="",Zo={};function $o(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Gc,To&&!Xc.Search_isSearching&&Xc.Main_selectedChannel_id&&kd(),Vo!==Xc.Main_selectedChannel&&(zo=!1),O_(),Xc.Main_selectedChannelDisplayname=Xc.Main_selectedChannelDisplayname.replace(W,""),Qu("top_bar_user",Xc.Main_selectedChannelDisplayname),Qu("top_bar_game",Ut),document.body.addEventListener("keydown",Cd,!1),Vi=!1,zo?(z_(Bo),Yu(Ro[10]),vd(),gd(),L_()):ed()}function Qo(){G_(),document.body.removeEventListener("keydown",Cd),ju(Ro[10])}function ed(){H_("stream_table_channel_content"),ju(Ro[10]),e_(),__(),Vo=Xc.Main_selectedChannel,Wo="",Oo=Do=zo=!1,Lo=void(Bo=Go=Uo=Ho=0),gf(function(){td(),nd()})}function td(){Bf=!0,Fo=0,No=3500}function nd(){Xf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Lo?Lo:Xc.Main_selectedChannel_id),No,2,null,id,ad)}function id(e){null!==JSON.parse(e).stream?(Jo=e,td(),ld()):Lo?(Jo=null,td(),ld()):(td(),sd())}function ad(){++Fo<Ao?(No+=500,nd()):(Jo=null,td(),ld())}function sd(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Xc.Main_selectedChannel_id);if(Gu){if(!(e=Android.mreadUrl(t,No,1,null)))return void od();200===(e=JSON.parse(e)).status?dd(e.responseText):od()}else(e=new XMLHttpRequest).open("GET",Hu+t,!0),e.timeout=No,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void dd(e.responseText);od()}},e.send(null)}function od(){++Fo<Ao?(No+=500,sd()):(Jo=null,td(),ld())}function dd(e){var t=JSON.parse(e);void 0!==(Lo=t.hosts[0].target_id)?(td(),nd()):(Jo=null,td(),ld())}function ld(){Xf("https://api.twitch.tv/kraken/channels/"+Xc.Main_selectedChannel_id,qg,2,null,rd,cd)}function rd(e){var t=JSON.parse(e);Xo=t.views,jo=t.followers,Yo=t.description,Xc.Main_selectedChannelLogo=t.logo,ud()}function cd(){++Fo<Ao?(No+=500,ld()):(Yo=jo=Xo="",Xc.Main_selectedChannelLogo=Au,ud())}function ud(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((eu=document.createElement("tr")).className="follower_header",eu.innerHTML='<div class="follower_header">'+gC.parse(Yo)+"</div>",document.getElementById("stream_table_channel_content").appendChild(t),document.getElementById("stream_table_channel_content").appendChild(eu),null!==Jo){var i=JSON.parse(Jo);if(null!==i.stream){var a=void 0!==Lo?Xc.Main_selectedChannelDisplayname+ie:"",s=i.stream;e.appendChild(_d("0_"+n,s.channel.name,s.preview.template,gC.parse(s.channel.status),s.game,M_(JSON.stringify(s.stream_type))+a+s.channel.display_name,y+Qp(s.created_at)+b+", "+v+k_(s.viewers)+R,C_(s.video_height,s.average_fps,s.channel.language))),n++}else Do=!0}else Do=!0;e.appendChild(fd("0_"+n,Xc.Main_selectedChannelDisplayname,Xc.Main_selectedChannelDisplayname+U,"movie-play")),n++,e.appendChild(fd("0_"+n,Xc.Main_selectedChannelDisplayname,Xc.Main_selectedChannelDisplayname+A,"movie")),n<2&&(n++,e.appendChild(X_(Ro[9]+"0_"+n))),document.getElementById("stream_table_channel_content").appendChild(e),(e=document.createElement("tr")).appendChild(md("1_0",Xc.Main_selectedChannelDisplayname,Xc.Main_selectedChannelDisplayname,Xc.Main_selectedChannelLogo)),document.getElementById("stream_table_channel_content").appendChild(e),pd()}function _d(e,t,n,i,a,s,o,d){return Wo=n.replace("{width}x{height}",Eu),(eu=document.createElement("td")).setAttribute("id",Ro[8]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+Ro[0]+e+'" class="stream_thumbnail_video" ><img id="'+Ro[1]+e+'" class="stream_img"></div><div id="'+Ro[2]+e+'" class="stream_text"><div id="'+Ro[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Lo?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+yi+s+'</div><div id="'+Ro[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Ro[4]+e+'"class="stream_info">'+i+'</div><div id="'+Ro[5]+e+'"class="stream_info">'+p+a+'</div><div id="'+Ro[6]+e+'"class="stream_info">'+o+"</div></div>",eu}function fd(e,t,n,i){return(eu=document.createElement("td")).setAttribute("id",Ro[8]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+Ro[0]+e+'" class="stream_thumbnail_video" ><div id="'+Ro[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Ro[2]+e+'" class="stream_text"><div id="'+Ro[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",eu}function md(e,t,n,i){return Ko=i,(eu=document.createElement("td")).setAttribute("id",Ro[8]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+Ro[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Ro[1]+e+'" class="stream_img_fallow"></div><div id="'+Ro[2]+e+'" class="stream_text"><div id="'+Ro[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Ro[5]+e+'"class="stream_info">'+k_(Xo)+q+'</div><div id="'+Ro[6]+e+'"class="stream_info" >'+k_(jo)+Nt+"</div></div>",eu}function hd(){Ri?($u("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Qu(Ro[3]+"1_0",Xc.Main_selectedChannelDisplayname+Et)):($u("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),Qa()?Qu(Ro[3]+"1_0",Xc.Main_selectedChannelDisplayname+xt):Qu(Ro[3]+"1_0",Xc.Main_selectedChannelDisplayname+Ht))}function pd(){gf(function(){zo||(t_(),zo=!0,""!==Wo&&Du(document.getElementById(Ro[1]+"0_0"),Wo,Nu),Du(document.getElementById(Ro[1]+"1_0"),Ko,Au),gd(),L_(),Yu(Ro[10])),vd(),Bf=!1})}function vd(){qo?hd():Qa()?(Ji=Xc.Main_selectedChannel_id,Vi=!1,oa()):(Ri=!1,hd())}function gd(){Ku(Ro[0]+Bo+"_"+(Bo?0:Go),Su),Wc&&yd(),tf()}function yd(){hf(Bo+"_"+(Bo?0:Go),Ro)}function bd(){if(Bo)Qa()&&Aa[Xc.Users_Position].access_token?(Vi=!1,Ji=Xc.Main_selectedChannel_id,Ri?ma():ua()):(u_(Bt),window.setTimeout(__,2e3));else{document.body.removeEventListener("keydown",Cd),ju(Ro[10]);var e=Do?1:0;Go===0-e?(Xc.Play_selectedChannel=document.getElementById(Ro[8]+Bo+"_"+Go).getAttribute(Iu),Xc.Play_selectedChannelDisplayname=document.getElementById(Ro[3]+Bo+"_"+Go).textContent,-1!==Xc.Play_selectedChannelDisplayname.indexOf(ie)?(Xc.Play_isHost=!0,Xc.Play_DisplaynameHost=Xc.Play_selectedChannelDisplayname,Xc.Play_selectedChannelDisplayname=Xc.Play_selectedChannelDisplayname.split(ie)[1],Xc.Play_selectedChannel_id=Lo):Xc.Play_selectedChannel_id=Xc.Main_selectedChannel_id,Xc.Play_gameSelected=document.getElementById(Ro[5]+Bo+"_"+Go).textContent.split(p)[1],gf(cf)):Go===1-e?gf(Kd):Go===2-e&&(cb=Ub,gf(hb))}}function wd(){Zo={"Main_values.Main_selectedChannel_id":Xc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Xc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Xc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Xc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:qo,"Main_values.Main_BeforeChannel":Xc.Main_BeforeChannel}}function kd(){Xc.Main_selectedChannel_id=Xc.Main_selectedChannel_id,Xc.Main_selectedChannelLogo=Xc.Main_selectedChannelLogo,Xc.Main_selectedChannel=Xc.Main_selectedChannel,Xc.Main_selectedChannelDisplayname=Xc.Main_selectedChannelDisplayname,qo=Zo.ChannelContent_UserChannels,Xc.Main_BeforeChannel=Xc.Main_BeforeChannel,To=!(Zo={})}function Cd(e){if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(yd(),Of(Cd));break;case Si:Bo||(yd(),--Go<0&&(Go=Do?1:2),gd());break;case Pi:Bo||(yd(),(Do?1:2)<++Go&&(Go=0),gd());break;case Ii:case Li:yd(),Bo=Bo?0:1,gd();break;case Ei:case Mi:case xi:case Ti:bd()}}var Md=0,Ed=0,xd=!1,Sd=0,Id={},Pd=[],Ld=!1,Td=0,Bd=5,Gd=3500,Od=0,Ud=0,Fd=0,Ad=!1,Nd=!1,Hd="",Dd=!1,qd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Rd=!1,zd=!1,Vd="",Jd="",Xd="",jd="",Yd="",Wd=0;function Kd(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Oc,!Xc.Search_isSearching&&Xc.Main_selectedChannel_id&&kd(),Xc.Main_selectedChannel!==Vd&&(Rd=!1),O_(),Xu("label_side_panel","icon-arrow-circle-left",I),Qu("top_bar_user",Xc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",ul,!1),Rd?(z_(Md),Qu("top_bar_game",zd?F:U),Yu(qd[10]),l_(Ed,Md,cu,Sd),dl(),L_()):$d()}function Zd(){Rd&&ll(),G_(),document.body.removeEventListener("keydown",ul),ju(qd[10])}function $d(){Rd&&ll(),H_("stream_table_channel_vod"),ju(qd[10]),Qu("top_bar_game",zd?F:U),e_(),__(),Vd=Xc.Main_selectedChannel,Ud=Od=0,Dd=Rd=!1,Id={},Md=Ed=Sd=0,xd=!(Bf=!(Nd=!(Pd=[]))),d_(),gf(function(){Qd(),el()})}function Qd(){q_(),Ld=!0,Td=0,Gd=3500}function el(){var e=Sd+Od;e&&Ud-1<e&&(e=Ud-ru,xd=!0),Xf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Xc.Main_selectedChannel_id)+"/videos?limit="+ru+"&broadcast_type="+(zd?"highlight":"archive")+"&sort=time&offset="+e,Gd,2,null,nl,tl)}function tl(){++Td<Bd?(Gd+=500,el()):(Ld=!1,Sd?(xd=!0,il()):(Bf=!1,t_(),u_(T)))}function nl(e){var t=JSON.parse(e),n=t.videos.length;Ud=parseInt(t._total),n<ru&&(xd=!0);var i=Sd;Ad=!(Sd+=n);var a=n/cu;0<n%cu&&a++;var s,o,d,l,r,c,u,_=0;if(!Dd){Dd=!0,d=document.createElement("tr");var f='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+yi+yi+h;(eu=document.createElement("td")).setAttribute("id",qd[8]+"y_0"),eu.className="stream_cell",eu.innerHTML='<div id="'+qd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+qd[3]+'y_0" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(eu),document.getElementById("stream_table_channel_vod").appendChild(d)}for(var m=0;m<a;m++){for(o=i/cu+m,d=document.createElement("tr"),s=0;s<cu&&_<n;s++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),o||s||!c||(c=!1,u=Nu),c||Id[r]?s--:(Id[r]=1,d.appendChild(pS(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Eu),gC.parse(l.title),H+F_(l.created_at),Wt+p+l.game,k_(l.views)+q,C_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Zp(l.length),l.animated_preview_url],qd)));for(;s<cu;s++)xd&&!Nd&&(Nd=!0,Sd=o*cu+s),d.appendChild(X_(qd[9]+o+"_"+s)),Pd.push(qd[9]+o+"_"+s);document.getElementById("stream_table_channel_vod").appendChild(d)}il()}function il(){gf(function(){if(Rd?D_(Nu):(t_(),Ad?u_(B+(zd?F:U)+G+S):(Rd=!0,D_(Nu),dl(),L_()),Yu(qd[10]),Bf=!1),0<Pd.length&&!xd)return Qd(),void al();l_(Ed,Md,cu,Sd),Ld=!(Pd=[])})}function al(){c_(Pd.length);var e=Sd+Od;e&&Ud-1<e&&(e=Ud-gu,xd=!0),Xf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Xc.Main_selectedChannel_id)+"/videos?limit="+gu+"&broadcast_type="+(zd?"highlight":"archive")+"&sort=time&offset="+e,Gd,2,null,ol,sl)}function sl(){++Td<Bd?(Gd+=500,al()):(xd=!0,Sd-=Pd.length,Pd=[],il())}function ol(e){var t,n,i=JSON.parse(e),a=i.videos.length,s=0,o=0,d=[];for(Ud=parseInt(i._total);s<Pd.length&&o<a;s++,o++)n=(t=i.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Id[n]?s--:(Id[n]=1,gS(Pd[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),gC.parse(t.title),H+F_(t.created_at),Wt+p+t.game,k_(t.views)+q,C_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Zp(t.length),t.animated_preview_url],qd),d.push(s));for(s=d.length-1;-1<s;s--)Pd.splice(d[s],1);Od+=o,xd&&(Sd-=Pd.length,Pd=[]),il()}function dl(){Md<0?rl():(df(Md,Ed,qd,cu,Sd),IS(qd,Md+"_"+Ed),Sd/cu<Md+uu&&!xd&&!Ld&&(Qd(),el()),Wc&&ll())}function ll(){window.clearInterval(Dx),-1<Md&&Sd?(Yu(qd[1]+Md+"_"+Ed),hf(Md+"_"+Ed,qd)):cl()}function rl(){Ku(qd[0]+"y_0",Su)}function cl(){Zu(qd[0]+"y_0",Su)}function ul(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(ll(),Of(ul));break;case Si:if(E_(Md,Ed-1,qd[0]))ll(),Ed--,dl();else for(t=cu-1;-1<t;t--)if(E_(Md-1,t,qd[0])){ll(),Md--,Ed=t,dl();break}break;case Pi:E_(Md,Ed+1,qd[0])?(ll(),Ed++,dl()):E_(Md+1,0,qd[0])&&(ll(),Md++,Ed=0,dl());break;case Ii:if(-1!==Md||Ad)if(Md){for(t=0;t<cu;t++)if(E_(Md-1,Ed-t,qd[0])){ll(),Md--,Ed-=t,dl();break}}else ll(),Md=-1,rl();else Md=0,cl(),dl();break;case Li:if(-1!==Md||Ad){for(t=0;t<cu;t++)if(E_(Md+1,Ed-t,qd[0])){ll(),Md++,Ed-=t,dl();break}}else Md=0,cl(),dl();break;case Ei:case Mi:case xi:case Ti:-1===Md?(Df("ChannelVod_highlight",(zd=!zd)?"true":"false"),$d()):_f(Md+"_"+Ed,qd,ul)}}var _l,fl,ml,hl,pl,vl=!1,gl=0,yl=[],bl=[],wl=10,kl=null,Cl=0,Ml="",El=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],xl=El.length,Sl=0,Il=!1,Pl=0;function Ll(){hl=document.getElementById("chat_box"),Ol()}function Tl(){Kl(),Gu&&Xc.Play_ChatForceDisable?(vl||Ol(),gf(function(){Nl(Pl=(new Date).getTime())})):nr()}function Bl(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function Gl(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?document.head.appendChild(a):hl.appendChild(a)}function Ol(){gl=0,vl=!1,Ul()}function Ul(){Xf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Al,Fl)}function Fl(){++gl<wl?Ul():vl=!1}function Al(e){Bl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Gl(t.type,e.type,e.image_url_4x,!0)})}),vl=!0}function Nl(e){gl=0,Hl(e)}function Hl(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+Xc.Main_selectedChannel_id+"/display";if(Gu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Pl===e&&Dl(e));if(200===(t=JSON.parse(t)).status)return void(Pl===e&&ql(t.responseText,e));Pl===e&&Dl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Pl===e&&ql(t.responseText,e));Pl===e&&Dl(e)}},t.send(null)}function Dl(e){gl++,Pl===e&&(gl<wl?Hl(e):pl=window.setTimeout(function(){Hl(e)},2500))}function ql(e,t){Bl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Gl(t.type,e.type,e.image_url_4x,!1)})}),Pl===t&&Rl(t)}function Rl(e){gl=0,Pl===e&&zl(e)}function zl(e){var t,n="https://api.twitch.tv/v5/videos/"+Xc.ChannelVod_vodId+"/comments?client_id="+yu+(Cl?"&content_offset_seconds="+parseInt(Cl):"");if(Gu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Pl===e&&Vl(e));if(200===(t=JSON.parse(t)).status)return void(Pl===e&&Jl(t.responseText,e));Pl===e&&Vl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Pl===e&&Jl(t.responseText,e));Pl===e&&Vl(e)}},t.send(null)}function Vl(e){gl++,Pl===e&&(gl<wl?zl(e):fl=window.setTimeout(function(){zl(e)},2500))}function Jl(e,t){e=JSON.parse(e);var n,i,a=null===kl;a&&(n="&nbsp;",n+='<span class="message">',n+=ai+yn+Xc.Main_selectedChannelDisplayname+" "+Ml,Xl(n+="</span>",0)),Cl=0,kl=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+El[e.commenter.display_name.charCodeAt(0)%xl]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=gC.parse(e.text)}),n+="</span>",a?Xl(n,e.content_offset_seconds):void 0!==kl&&jl(n,e.content_offset_seconds)}),a&&Pl===t&&(Yl(t),void 0!==kl&&$l(t))}function Xl(e,t){yl.push({time:t,message:e})}function jl(e,t){bl.push({time:t,message:e})}function Yl(e){Il||Pl!==e||(_l=window.setInterval(function(){Zl(e),hl.scrollTop=hl.scrollHeight},1e3))}function Wl(){Il||(window.clearInterval(pl),window.clearInterval(_l),window.clearInterval(fl),window.clearInterval(ml))}function Kl(){Wl(),Pl=0,H_("chat_box"),Il=!1,kl=null,yl=[],bl=[],Sl=0}function Zl(e){var t,n;if(Sl<yl.length-1)for(n=Sl;n<yl.length&&yl[n].time<Wd+Android.gettime()/1e3;n++,Sl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=yl[n].message,hl.appendChild(t);else if(Wl(),void 0!==kl){yl=bl.slice(),Sl=0,Yl(e),bl=[],Pl===e&&$l(e);var i=document.getElementsByClassName("chat_line");if(0<i.length-100)for(n=0;n<i.length-100;n++)i[0].parentNode.removeChild(i[0]);hl.scrollTop=hl.scrollHeight}else{var a="&nbsp;";a+='<span class="message">',a+=ai+ai+Cn+ai+ai,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,hl.appendChild(t),Il=!0,hl.scrollTop=hl.scrollHeight,window.clearInterval(_l),_l=window.setInterval(function(){hl.scrollTop=hl.scrollHeight},250)}}function $l(e){gl=0,Il||Pl!==e||Ql(e)}function Ql(e){var t,n="https://api.twitch.tv/v5/videos/"+Xc.ChannelVod_vodId+"/comments?client_id="+yu+(null!==kl?"&cursor="+kl:"");if(Gu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Il||Pl!==e||er(e));if(200===(t=JSON.parse(t)).status)return void(Il||Pl!==e||Jl(t.responseText,e));Il||Pl!==e||er(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Il||Pl!==e||Jl(t.responseText,e));Il||Pl!==e||er(e)}},t.send(null)}function er(e){gl++,Pl===e&&(gl<wl?Ql(e):ml=window.setTimeout(function(){Ql(e)},2500))}function tr(){Pl=0,ir(dn+ai+ln)}function nr(){Kl(),ju("chat_frame"),Yu("chat_box"),ir(Zn)}function ir(e){var t="&nbsp;";t+='<span class="message">',t+=ai+ai+ai+ai+ai+ai+ai+ai+ai+ai,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,hl.appendChild(n)}var ar=!1,sr=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_","featured_scroll"],or=0,dr=0,lr=!1,rr=0,cr={},ur=!1,_r=0,fr=5,mr=3500,hr=[],pr=0,vr=0,gr=!1,yr=0,br=!1;function wr(){Xc.Main_CenterLablesVectorPos=2,Xc.Main_Go=zc,Ku("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Or,!1),ar?(z_(or),Yu(sr[10]),l_(dr,or,cu,rr),Br(),L_()):Cr()}function kr(){document.body.removeEventListener("keydown",Or),Zu("top_bar_featured","icon_center_focus"),ju(sr[10])}function Cr(){H_("stream_table_featured"),ju(sr[10]),e_(),__(),ar=!1,Bf=!(gr=!(hr=[])),yr=or=dr=rr=vr=pr=0,lr=!(cr={}),d_(),gf(function(){Mr(),Er()})}function Mr(){q_(),ur=!0,_r=0,mr=3500}function Er(){Xf("https://api.twitch.tv/kraken/streams/featured?limit="+ru+"&offset="+(rr+pr)+(Qa()&&Aa[Xc.Users_Position].access_token?"&oauth_token="+Aa[Xc.Users_Position].access_token:""),mr,2,null,Sr,xr)}function xr(){++_r<fr?(mr+=500,Er()):(ur=!1,rr?(lr=!0,Ir()):(Bf=!1,t_(),u_(T)))}function Sr(e){var t=JSON.parse(e),n=t.featured.length;vr=parseInt(t._total),n<ru&&(lr=!0);var i=rr;br=!(rr+=n);var a=n/cu;0<n%cu&&a++;for(var s,o,d,l,r,c=0,u=0;u<a;u++){for(o=i/cu+u,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.featured[c].stream).channel._id,cr[r]?s--:(cr[r]=1,d.appendChild(K_(o,o+"_"+s,[l.channel.name,r],sr,[l.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Qp(l.created_at)+b+", "+v+k_(l.viewers)+R,C_(l.video_height,l.average_fps,l.channel.language)])));for(;s<cu;s++)lr&&!gr&&(gr=!0,rr=o*cu+s),d.appendChild(X_(sr[9]+o+"_"+s)),hr.push(sr[9]+o+"_"+s);document.getElementById("stream_table_featured").appendChild(d)}Ir()}function Ir(){gf(function(){if(ar){if(D_(Nu),0<hr.length&&!lr)return Mr(),void Pr();l_(dr,or,cu,rr),hr=[]}else t_(),br?u_(B+K):(ar=!0,D_(Nu),Br(),L_()),Yu(sr[10]),Bf=!1;ur=!1})}function Pr(){c_(hr.length),Xf("https://api.twitch.tv/kraken/streams/featured?limit="+gu+"&offset="+(rr+pr)+(Qa()&&Aa[Xc.Users_Position].access_token?"&oauth_token="+Aa[Xc.Users_Position].access_token:""),mr,2,null,Tr,Lr)}function Lr(){++_r<fr?(mr+=500,Pr()):(lr=!0,rr-=hr.length,hr=[],Ir())}function Tr(e){var t,n,i=JSON.parse(e),a=i.featured.length,s=0,o=0,d=[];for(a<gu&&(lr=!0);s<hr.length&&o<a;s++,o++)n=(t=i.featured[o].stream).channel._id,cr[n]?s--:(cr[n]=1,Z_(hr[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qp(t.created_at)+b+", "+v+k_(t.viewers)+R,C_(t.video_height,t.average_fps,t.channel.language)],sr),d.push(s));for(s=d.length-1;-1<s;s--)hr.splice(d[s],1);pr+=o,lr&&(rr-=hr.length,hr=[]),Ir()}function Br(){df(or,dr,sr,cu,rr),rr/cu<or+uu&&!lr&&!ur&&(Mr(),Er()),Wc&&Gr()}function Gr(){rr&&hf(or+"_"+dr,sr)}function Or(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(Gr(),Of(Or));break;case Si:if(E_(or,dr-1,sr[0]))Gr(),dr--,Br();else for(t=cu-1;-1<t;t--)if(E_(or-1,t,sr[0])){Gr(),or--,dr=t,Br();break}break;case Pi:E_(or,dr+1,sr[0])?(Gr(),dr++,Br()):E_(or+1,0,sr[0])&&(Gr(),or++,dr=0,Br());break;case Ii:for(t=0;t<cu;t++)if(E_(or-1,dr-t,sr[0])){Gr(),or--,dr-=t,Br();break}break;case Li:for(t=0;t<cu;t++)if(E_(or+1,dr-t,sr[0])){Gr(),or++,dr-=t,Br();break}break;case Ei:case Mi:case xi:case Ti:rf(or+"_"+dr,sr,Or)}}var Ur=!1,Fr=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_","live_scroll"],Ar=0,Nr=0,Hr=0,Dr=!1,qr=0,Rr={},zr=!1,Vr=0,Jr=5,Xr=3500,jr=[],Yr=0,Wr=0,Kr=!1,Zr=0;function $r(){Xc.Main_CenterLablesVectorPos=0,Xc.Main_Go=Cc,Ku("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",_c,!1),Ur?(z_(Ar),Yu(Fr[10]),l_(Nr,Ar,cu,qr),rc(),L_()):ec()}function Qr(){document.body.removeEventListener("keydown",_c),Zu("top_bar_live","icon_center_focus"),ju(Fr[10])}function ec(){H_("stream_table_live"),ju(Fr[10]),e_(),__(),Ur=!1,Bf=!(Kr=!(jr=[])),Zr=Ar=Nr=qr=Wr=Yr=0,Dr=!(Rr={}),d_(),gf(function(){tc(),nc()})}function tc(){q_(),zr=!0,Vr=0,Xr=3500}function nc(){var e=qr+Yr;e&&Wr-1<e&&(e=Wr-ru,Dr=!0),Xf("https://api.twitch.tv/kraken/streams?limit="+ru+"&offset="+e+(""!==nu?"&language="+nu:""),Xr,2,null,ac,ic)}function ic(){++Vr<Jr?(Xr+=500,nc()):(zr=!1,qr?(Dr=!0,sc()):(Bf=!1,t_(),u_(T),Yu("topbar")))}function ac(e){var t=JSON.parse(e),n=t.streams.length;Wr=parseInt(t._total),n<ru&&(Dr=!0);var i=qr;qr+=n;var a=n/cu;0<n%cu&&a++;for(var s,o,d,l,r,c=0,u=0;u<a;u++){for(o=i/cu+u,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,Rr[r]?s--:(Rr[r]=1,d.appendChild(K_(o,o+"_"+s,[l.channel.name,r,l.channel.status],Fr,[l.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Qp(l.created_at)+b+", "+v+k_(l.viewers)+R,C_(l.video_height,l.average_fps,l.channel.language)])));for(;s<cu;s++)Dr&&!Kr&&(Kr=!0,qr=o*cu+s),d.appendChild(X_(Fr[9]+o+"_"+s)),jr.push(Fr[9]+o+"_"+s);document.getElementById("stream_table_live").appendChild(d)}sc()}function sc(){gf(function(){if(Ur){if(D_(Nu),0<jr.length&&!Dr)return tc(),void oc();l_(Nr,Ar,cu,qr),jr=[]}else t_(),Yu("topbar"),qr?(Ur=!0,D_(Nu),rc(),Xc.Main_WasOpen=!0):u_(B+K),su&&Ur&&Yk.restor_playback.defaultValue&&(Xc.Play_WasPlaying||Xc.Main_WasOpen)?Xc.Play_WasPlaying?(B_(Xc.Main_Go),Xc.Main_Go=Jc,Xc.vodOffset||(Xc.vodOffset=1),Fd=Xc.vodOffset+1,lv(zn),1===Xc.Play_WasPlaying?cf():ff(),P_(!0),window.setTimeout(function(){rv()},2e3)):1!==Jc?(B_(Xc.Main_Go),Xc.Main_Go=Jc,cc(),P_()):(Yu(Fr[10]),Xc.Never_run&&v_(),Xc.Never_run=!1,L_()):(Yu(Fr[10]),L_()),Bf=su=!1;zr=!1})}function oc(){c_(jr.length);var e=qr+Yr;e&&Wr-1<e&&(e=Wr-gu,Dr=!0),Xf("https://api.twitch.tv/kraken/streams?limit="+gu+"&offset="+e+(""!==nu?"&language="+nu:""),Xr,2,null,lc,dc)}function dc(){++Vr<Jr?(Xr+=500,oc()):(Dr=!0,qr-=jr.length,jr=[],sc())}function lc(e){var t,n,i=JSON.parse(e),a=i.streams.length,s=0,o=0,d=[];for(Wr=parseInt(i._total),a<gu&&(Dr=!0);s<jr.length&&o<a;s++,o++)n=(t=i.streams[o]).channel._id,Rr[n]?s--:(Rr[n]=1,Z_(jr[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qp(t.created_at)+b+", "+v+k_(t.viewers)+R,C_(t.video_height,t.average_fps,t.channel.language)],Fr),d.push(s));for(s=d.length-1;-1<s;s--)jr.splice(d[s],1);Yr+=o,Dr&&(qr-=jr.length,jr=[]),sc()}function rc(){df(Ar,Nr,Fr,cu,qr),qr/cu<Ar+uu&&!Dr&&!zr&&(tc(),nc()),Wc&&cc()}function cc(){qr&&hf(Ar+"_"+Nr,Fr)}function uc(){Zu("exit_app_cancel","button_search_focused"),Zu("exit_app_minimize","button_search_focused"),Zu("exit_app_close","button_search_focused"),Ku(Hr?1===Hr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function _c(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:w_()?b_():h_()?m_():y_()?g_():(cc(),Of(_c));break;case Si:if(o_())--Hr<0&&(Hr=2),uc(),n_(),i_();else if(E_(Ar,Nr-1,Fr[0]))cc(),Nr--,rc();else for(t=cu-1;-1<t;t--)if(E_(Ar-1,t,Fr[0])){cc(),Ar--,Nr=t,rc();break}break;case Pi:o_()?(2<++Hr&&(Hr=0),uc(),n_(),i_()):E_(Ar,Nr+1,Fr[0])?(cc(),Nr++,rc()):E_(Ar+1,0,Fr[0])&&(cc(),Ar++,Nr=0,rc());break;case Ii:if(!o_())for(t=0;t<cu;t++)if(E_(Ar-1,Nr-t,Fr[0])){cc(),Ar--,Nr-=t,rc();break}break;case Li:if(!o_())for(t=0;t<cu;t++)if(E_(Ar+1,Nr-t,Fr[0])){cc(),Ar++,Nr-=t,rc();break}break;case Ei:case Mi:case xi:case Ti:rf(Ar+"_"+Nr,Fr,_c)}}var fc,mc,hc,pc,vc,gc,yc,bc=!0,wc=-1,kc=new Image,Cc=1,Mc=2,Ec=3,xc=4,Sc=5,Ic=6,Pc=7,Lc=8,Tc=9,Bc=10,Gc=11,Oc=12,Uc=13,Fc=14,Ac=15,Nc=16,Hc=17,Dc=18,qc=19,Rc=20,zc=21,Vc=22,Jc="",Xc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Ec,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Main_WasOpen:!1,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},jc=!0,Yc=!0,Wc=!1,Kc=[],Zc=0,$c=null,Qc=!0,eu="",tu=!1,nu="",iu=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],au=0,su=!0,ou=0,du=1.35,lu=1.5,ru=45,cu=3,uu=Math.floor(ru/cu/lu),_u=45,fu=5,mu=Math.floor(_u/fu/du),hu=48,pu=6,vu=Math.floor(hu/pu/lu),gu=6,yu="5seja5ptej058mxqy7gh5tcudjqtm9",bu="Client-ID",wu="Accept",ku="Authorization",Cu="OAuth ",Mu="application/vnd.twitchtv.v5+json",Eu="528x297",xu="340x475",Su="stream_thumbnail_focused",Iu="data_attribute",Pu="1.0",Lu="040419",Tu=Pu+"-"+Lu,Bu=0,Gu=0,Ou="?"+Math.random(),Uu="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Fu=Uu+"404_game.png",Au=Uu+"404_logo.png",Nu=Uu+"404_video.png",Hu="https://cors-anywhere.herokuapp.com/",Du=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function qu(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Ru(window.navigator.userLanguage||window.navigator.language)}):Ru(window.navigator.userLanguage||window.navigator.language)}function Ru(e){pf(),gf(function(){var t=document.body;bc&&(t.innerHTML=ni);try{Gu=Android.getAndroid()}catch(e){Gu=0,t.style.backgroundColor="rgba(0, 0, 0, 1)"}gf(function(){oC(),Ci(),console.log("language is "+e),ki(),-1!==window.location.href.indexOf("code")&&Jf(window.location.href),zu()})})}function zu(){ub(),Vu(!0),fc=document.getElementById("scrollbar"),T_(),Jc=Xc.Main_Go,gf(function(){vp(),$a(),Qa()&&wf(),document.body.addEventListener("keyup",tf,!1),_b(),$r(),Ll(),pc=window.setTimeout(S_,5e3),document.getElementById("side_panel").style.marginLeft="",A_(),Ju(),oS=zf("Vod_highlight",!1),zd=zf("ChannelVod_highlight",!1),uo=zf("AGameVod_highlight",!1),yx=zf("UserVod_highlight",!1),nS=qf("vod_periodNumber",2),oo=qf("AGameVod_periodNumber",2),hx=qf("UserVod_TypeNumber",1),Qy(),mc=document.getElementById("search_input"),hc=document.getElementById("user_input"),J_(Nu),J_(Fu),J_(Au),document.addEventListener("visibilitychange",N_,!1),vc=window.setInterval(bf,6e4)})}function Vu(e){bf(),Xu("label_refresh","icon-refresh",t+Xt),Xu("label_switch","icon-switch",l),Xu("label_side_panel","icon-ellipsis",Fn),Xu("icon_feed_refresh","icon-refresh",t+" Press up"),Qu("top_bar_live",_),Qu("top_bar_user",e?u:i),Qu("top_bar_featured",nn),Qu("top_bar_game",m),Qu("top_bar_vod",Zt),Qu("top_bar_clip",A),$u("scene2_search_text",yi+n),$u("scene2_channel_text",yi+Ut),$u("scene2_game_text",yi+Dt),Qu("dialog_end_replay_text",Qt),Qu("dialog_end_vod_text",sn),Qu("dialog_end_channel_text",Ut),Qu("dialog_end_game_text",Dt),$u("dialog_about_text",mi+hi),gc=[le,re,ce,ue],e?eC():(sC(),A_())}function Ju(){Qu("play_dialog_exit_text",z),Qu("side_panel_search",n),Qu("side_panel_settings",i),Qu("side_panel_about",a),Qu("side_panel_controls",e),Qu("side_panel_exit",J),Qu("side_panel_live",_),Qu("side_panel_user",u),Qu("side_panel_featured",nn),Qu("side_panel_games",m),Qu("side_panel_videos",Zt),Qu("side_panel_clips",A),Qu("side_panel_hide",s),Qu("chanel_button",x),Qu("game_button",m),Qu("live_button",_),Qu("exit_app_cancel",Y),Qu("exit_app_close",X),Qu("remove_cancel",Y),Qu("remove_yes",qt),Qu("exit_app_minimize",j),Qu("main_dialog_exit_text",V),$u("dialog_controls_text",fi),Qu("dialog_vod_text",bn),$u("dialog_vod_start_text",kn)}function Xu(e,t,n){$u(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+yi+n+"</div>")}function ju(e){document.getElementById(e).classList.add("hide")}function Yu(e){document.getElementById(e).classList.remove("hide")}function Wu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ku(e,t){document.getElementById(e).classList.add(t)}function Zu(e,t){document.getElementById(e).classList.remove(t)}function $u(e,t){document.getElementById(e).innerHTML=t}function Qu(e,t){document.getElementById(e).textContent=t}function e_(){z_(-1),Gu?Android.mshowLoading(!0):Yu("dialog_loading")}function t_(){Gu?Android.mshowLoading(!1):ju("dialog_loading")}function n_(){window.clearTimeout($c)}function i_(){$c=window.setTimeout(s_,6e3)}function a_(){i_(),Yu("main_dialog_exit"),document.body.addEventListener("keydown",Pf,!1)}function s_(){document.body.removeEventListener("keydown",Pf,!1),Of(yc),n_(),ju("main_dialog_exit"),Hr=0,uc()}function o_(){return Wu("main_dialog_exit")}function d_(){H_("dialog_counter_text"),r_(0,0,0)}function l_(e,t,n,i){0<i?(Qu("dialog_counter_text",t*n+(e+1)+"/"+i),r_(t,n,i)):d_()}function r_(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=Xc.Main_Go===xc||Xc.Main_Go===qc||Xc.Main_Go===Rc||Xc.Main_Go===Oc||Xc.Main_Go===Vc||Xc.Main_Go===Hc||Xc.Main_Go===Dc||Xc.Main_Go===Uc,s=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));fc.style.top=s+"px",Qc&&(Qc=!1,fc.style.backgroundColor="#777777")}else fc.style.backgroundColor="#000000",fc.style.top=i+"px",Qc=!0}function c_(e){(gu=12)/3<e&&(gu=3*e),99<gu&&(gu=99)}function u_(e){Qu("dialog_warning_text",e),Yu("dialog_warning")}function __(){ju("dialog_warning")}function f_(){g_(),b_(),Yu("dialog_about")}function m_(){ju("dialog_about")}function h_(){return Wu("dialog_about")}function p_(){g_(),b_(),__(),B_(Xc.Main_Go),d_(),$k()}function v_(){m_(),b_(),Yu("dialog_controls")}function g_(){ju("dialog_controls")}function y_(){return Wu("dialog_controls")}function b_(){ju("dialog_update")}function w_(){return Wu("dialog_update")}function k_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function C_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function M_(e){return-1!==e.indexOf("live")?"":W}function E_(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function x_(){bf(),P_(),document.body.addEventListener("keyup",tf,!1)}function S_(){for(var e,t=0;t<iu.length;t++)t<4?document.getElementById(iu[t]).style.opacity="0.5":-1===(e=document.getElementById(iu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ku("topbar","topbar_dim")}function I_(){for(var e=0;e<iu.length;e++)document.getElementById(iu[e]).style.opacity="1";Zu("topbar","topbar_dim")}function P_(e){window.clearTimeout(pc),I_(),Xc.Main_Go!==Gc&&(Xc.Main_BeforeChannelisSet=!1),Xc.Main_Go!==xc&&(Xc.Main_BeforeAgameisSet=!1),d_(),gf(function(){Xc.Main_Go===Cc?$r():Xc.Main_Go===Mc?qa():Xc.Main_Go===Ec?(cb=Ab,hb()):Xc.Main_Go===xc?Es():Xc.Main_Go===Lc?dk():Xc.Main_Go===Tc?Xw():Xc.Main_Go===Bc?Gk():Xc.Main_Go===Gc?$o():Xc.Main_Go===Oc?Kd():Xc.Main_Go===Uc?(cb=Ub,hb()):Xc.Main_Go===Fc?AE():Xc.Main_Go===Sc?_E():Xc.Main_Go===Ic?cM():Xc.Main_Go===Pc?(cb=Nb,hb()):Xc.Main_Go===Ac?OC():Xc.Main_Go===Nc?gw():Xc.Main_Go===Hc?rS():Xc.Main_Go===Dc?(cb=Ob,hb()):Xc.Main_Go===qc?fo():Xc.Main_Go===Rc?(cb=Fb,hb()):Xc.Main_Go===zc?wr():Xc.Main_Go===Vc?bx():$r(),pc=window.setTimeout(S_,3e3),e&&Nf()})}function L_(){Df("Main_values",JSON.stringify(Xc))}function T_(){Xc=mb(Xc,Rf("Main_values",{}))}function B_(e){e===Cc?Qr():e===Mc?Ra():e===Ec?pb():e===xc?xs():e===Lc?lk():e===Tc?jw():e===Bc?Ok():e===Gc?Qo():e===Oc?Zd():e===Uc?pb():e===Fc?NE():e===Sc?fE():e===Ic?uM():e===Pc?pb():e===Ac?UC():e===Nc?yw():e===Hc?cS():e===Dc?pb():e===qc?mo():e===Rc?pb():e===zc?kr():e===Vc&&wx(),Wu("settings_scroll")&&Qk()}function G_(){Xu("label_refresh","icon-refresh",t+Xt),Xu("label_side_panel","icon-ellipsis",Fn),ju("label_switch"),Zu("top_bar_user","icon_center_focus"),Qu("top_bar_live",_),Qu("top_bar_user",u),Qu("top_bar_featured",nn),Qu("top_bar_game",m),Qu("top_bar_vod",Zt),Qu("top_bar_clip",A)}function O_(){Xu("label_side_panel","icon-arrow-circle-left",I),H_("top_bar_live"),H_("top_bar_game"),H_("top_bar_vod"),H_("top_bar_clip"),H_("top_bar_featured"),Ku("top_bar_user","icon_center_focus")}function U_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function F_(e){return e=new Date(e),tu?e.getDate()+" "+jt[e.getMonth()]+", "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function A_(){$u("dialog_about_text",mi+be+Tu+hi)}function N_(){document.hidden?window.clearInterval(vc):(bf(),vc=window.setInterval(bf,6e4),window.setTimeout(function(){document.hidden||bf()},2e4))}function H_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function D_(e){for(var t,n=0;n<Kc.length;n++)null!==(t=document.getElementById(Kc[n].id))&&Du(t,Kc[n].src+Ou,e)}function q_(){Kc=[]}function R_(e,t){Kc.push({id:e,src:t})}function z_(e){wc=e}function V_(e){var t=0;return wc<e?t=-1:e<wc&&(t=1),wc=e,t}function J_(e){kc.src=e}function X_(e){return(eu=document.createElement("td")).setAttribute("id",e),eu.className="stream_cell",eu}function j_(e,t,n){return(eu=document.createElement("td")).setAttribute("id",t[4]+e),eu.setAttribute(Iu,n[0]),eu.setAttribute("data-id",n[1]),eu.className="stream_cell",eu.innerHTML=W_(e,t,n),eu}function Y_(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(Iu,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=W_(a,n,t),i.setAttribute("id",n[4]+a)}function W_(e,t,n){return R_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function K_(e,t,n,i,a){return e<cu&&J_(a[0]),(eu=document.createElement("td")).setAttribute("id",i[8]+t),eu.setAttribute(Iu,JSON.stringify(n)),eu.className="stream_cell",eu.innerHTML=$_(t,i,a),eu}function Z_(e,t,n,i){var a=document.getElementById(e),s=e.split(i[9])[1];a.setAttribute(Iu,JSON.stringify(t)),a.innerHTML=$_(s,i,n),a.setAttribute("id",i[8]+s)}function $_(e,t,n){return R_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+gC.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+p+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Q_(e,t,n){return(eu=document.createElement("td")).setAttribute("id",t[5]+e),eu.setAttribute(Iu,n[0]),eu.className="stream_cell",eu.innerHTML=ef(e,t,n),eu}function ef(e,t,n){return R_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function tf(){Yc=!0}function nf(){jc=!0}function af(){jc=!1,window.setTimeout(nf)}function sf(){return!jc||!Yc}function of(e,t,n,i,a){if(Ku(n[0]+e+"_"+t,Su),l_(t,e,i,a),V_(e)){var s=screen.height/100;1<e?E_(e+1,0,n[0])?mf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+42*s):tf():mf(n[6],5*s)}else tf()}function df(e,t,n,i,a){if(Ku(n[0]+e+"_"+t,Su),l_(t,e,i,a),V_(e)){var s=screen.height/100;e?E_(e+1,0,n[0])&&mf(n[10],-1*document.getElementById(n[8]+e+"_"+t).offsetTop+s*(33+au)):mf(n[10],7*s)}else tf()}function lf(e,t,n,i,a){if(Ku(n[0]+e+"_"+t,Su),l_(t,e,i,a),V_(e)){var s=screen.height/100;mf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+e+"_"+t).offsetTop+51*s:3.0625*s)}else tf()}function rf(e,t,n){document.body.removeEventListener("keydown",n),Xc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Iu)),Xc.Play_selectedChannel_id=Xc.Play_selectedChannel[1],Xc.Play_selectedChannel=Xc.Play_selectedChannel[0],Xc.Main_Go===Ic?(Xc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Xc.Play_selectedChannelDisplayname=Xc.Play_DisplaynameHost.split(ie)[1],Xc.Play_isHost=!0):Xc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Xc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(p)[1],Xc.Main_Go===xc&&(Xc.Main_OldgameSelected=Xc.Main_gameSelected),cf()}function cf(){document.body.addEventListener("keydown",wg,!1),ju("scene1"),Yu("scene2"),bv(),Sv(),Vv(),gf(bp)}function uf(e,t,n){document.body.removeEventListener("keydown",n),Vb=JSON.parse(document.getElementById(t[8]+e).getAttribute(Iu)),vm=parseInt(Vb[1]),Xc.Play_gameSelected=Vb[2],Xc.Main_selectedChannel=Vb[3],Xc.Main_selectedChannelDisplayname=Vb[4],Xc.Main_selectedChannelLogo=Vb[5],Xc.Main_selectedChannel_id=Vb[6],Xc.ChannelVod_vodId=Vb[7],Wd=parseInt(Vb[8]),zb=Vb[9],Xb=Vb[10],qb=Vb[11],Vb=Vb[0],Jb=document.getElementById(t[4]+e).textContent,Rb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Dm,!1),ju("scene1"),Yu("scene2"),Sv(),pv(),rv(),_v(),gf(gm)}function _f(e,t,n){document.body.removeEventListener("keydown",n),Xc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Iu)),Fd=parseInt(Xc.ChannelVod_vodId[1]),Hd=Xc.ChannelVod_vodId[2],Xc.Play_gameSelected=Xc.ChannelVod_vodId[3],Xc.Main_selectedChannel=Xc.ChannelVod_vodId[4],rp=Xc.ChannelVod_vodId[5],Xc.ChannelVod_vodId=Xc.ChannelVod_vodId[0].substr(1),Xc.Main_Go===Oc?Jd=document.getElementById(t[3]+e).innerHTML:(Jd="",Xc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),jd=document.getElementById(t[4]+e).textContent,Yd=document.getElementById(t[5]+e).textContent,Xd=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,ff()}function ff(){document.body.addEventListener("keydown",rb,!1),ju("scene1"),Yu("scene2"),Ay(),Sv(),pv(),_v(),ay=!1,gf(uy)}function mf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(tf,10)}function hf(e,t){Yc=!1,Zu(t[0]+e,Su)}function pf(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||vf(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function vf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function gf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function yf(){var e=(new Date).getTime()+Bu;return e=new Date(e),(tu?Yt[e.getDay()]+" "+e.getDate()+"/"+jt[e.getMonth()]:Yt[e.getDay()]+" "+jt[e.getMonth()]+"/"+e.getDate())+" "+Kp(e.getHours())+":"+Kp(e.getMinutes())}function bf(){Qu("label_clock",yf()),Ou="?"+Math.random()}function wf(){dh=Aa[Xc.Users_Position].name,AM()}function kf(){Ku("side_panel_"+ou,"side_panel_text_focus")}function Cf(){Zu("side_panel_"+ou,"side_panel_text_focus")}function Mf(){ou?1===ou?p_():2===ou?(document.body.addEventListener("keydown",yc,!1),f_()):3===ou?(document.body.addEventListener("keydown",yc,!1),v_()):4===ou?a_(yc):5===ou?Ef(Cc):6===ou?Ef(ss()?Fc:Mc):7===ou?Ef(zc):8===ou?Ef(Ec):9===ou?Ef(Hc):10===ou&&Ef(Dc):Xc.Main_Go!==Lc?(Xc.Search_isSearching||Xc.Main_Go!==Gc&&Xc.Main_Go!==Uc&&Xc.Main_Go!==Oc||wd(),Xc.Main_BeforeSearch=Xc.Main_Go,Xc.Main_Go=Lc,B_(Xc.Main_BeforeSearch),P_()):document.body.addEventListener("keydown",yc,!1),Sf()}function Ef(e){e===Xc.Main_Go?document.body.addEventListener("keydown",yc,!1):(Xc.Main_Before=Xc.Main_Go,Xc.Main_Go=e,B_(Xc.Main_Before),P_())}function xf(e){yc=e,document.body.removeEventListener("keydown",yc),document.body.addEventListener("keydown",If,!1),Zu("side_panel","side_panel_hide")}function Sf(){document.body.removeEventListener("keydown",If),Ku("side_panel","side_panel_hide"),Cf(),ou=0,kf()}function If(e){switch(e.keyCode){case Bi:case Si:document.body.addEventListener("keydown",yc,!1),Sf(),Ff();break;case Ii:ou&&(Cf(),ou--,kf());break;case Li:ou<10&&(Cf(),ou++,kf());break;case Ti:Mf()}}function Pf(e){switch(e.keyCode){case Bi:s_();break;case Pi:2<++Hr&&(Hr=0),uc(),n_(),i_();break;case Si:--Hr<0&&(Hr=2),uc(),n_(),i_();break;case Ti:Hr?Gu&&1===Hr?Android.mclose(!1):Gu&&2===Hr&&Android.mclose(!0):s_()}}qu();var Lf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Tf=[Cc,Fc,zc,Ec,Hc,Dc],Bf=!1;function Gf(e){if(!(Bf||cb.FirstLoad||sf()))switch(e.keyCode){case Bi:y_()?(Ff(),g_()):h_()?(Ff(),m_()):Xc.Main_Go===xc?(Xc.Main_OldgameSelected=Xc.Main_gameSelected,Xc.Games_return?(Xc.Main_Go=Tc,Xc.Main_gameSelected=Xc.gameSelectedOld):(Xc.Main_Go=Xc.Main_BeforeAgame,Xc.Main_BeforeAgame=Cc),xs(),Uf(),P_()):Xc.Main_Go===Rc?(Lb(xc),Uf(),P_()):Xc.Main_Go===Pc?(Lb(Fc),Uf(),P_()):Xc.Main_Go===Uc?(Lb(Gc),Uf(),P_()):Xc.Main_Go===qc?(Xc.Main_Go=xc,mo(),Uf(),P_()):Xc.Main_Go===Sc?(Xc.Main_Go=Fc,fE(),Uf(),P_()):Xc.Main_Go===Ic?(Xc.Main_Go=Fc,uM(),Uf(),P_()):Xc.Main_Go===Vc?(Xc.Main_Go=Fc,wx(),Uf(),P_()):Xc.Main_Go===Ac?(Xc.Main_Go=Fc,UC(),Uf(),P_()):Xc.Main_Go===Gc?(Xc.Main_Go=Xc.Main_BeforeChannel,Xc.Main_BeforeChannel=Cc,Qo(),Xc.Main_selectedChannel_id="",Uf(),P_()):Xc.Main_Go===Oc?(Xc.Main_Go=Gc,Zd(),Uf(),P_()):Xc.Main_Go===Bc?(Xc.Main_Go===Xc.Main_BeforeSearch?Xc.Main_Go=Cc:Xc.Main_Go=Xc.Main_BeforeSearch,Ok(),Xc.Search_isSearching=!1,Uf(),P_()):Xc.Main_Go===Tc?(Xc.Main_Go===Xc.Main_BeforeSearch?Xc.Main_Go=Cc:Xc.Main_Go=Xc.Main_BeforeSearch,Xc.Search_isSearching=!1,jw(),Uf(),P_()):Xc.Main_Go===Nc?(Xc.Main_Go===Xc.Main_BeforeSearch?Xc.Main_Go=Cc:Xc.Main_Go=Xc.Main_BeforeSearch,Xc.Main_selectedChannel_id&&kd(),yw(),Xc.Search_isSearching=!1,Uf(),P_()):(Uf(),xf(Gf));break;case Pi:if(Xc.Search_isSearching||Xc.Main_Go===Gc||Xc.Main_Go===Oc||Xc.Main_Go===Uc||Xc.Main_Go===Bc||Xc.Main_Go===Tc||Xc.Main_Go===Nc)break;Zu(Lf[Xc.Main_CenterLablesVectorPos],"icon_center_line"),Xc.Main_CenterLablesVectorPos++,5<Xc.Main_CenterLablesVectorPos&&(Xc.Main_CenterLablesVectorPos=0),Ff(),Af();break;case Si:if(Xc.Search_isSearching||Xc.Main_Go===Gc||Xc.Main_Go===Oc||Xc.Main_Go===Uc||Xc.Main_Go===Bc||Xc.Main_Go===Tc||Xc.Main_Go===Nc)break;Zu(Lf[Xc.Main_CenterLablesVectorPos],"icon_center_line"),Xc.Main_CenterLablesVectorPos--,Xc.Main_CenterLablesVectorPos<0&&(Xc.Main_CenterLablesVectorPos=5),Ff(),Af();break;case Li:Zu(Lf[Xc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Gf),Wc=!1,P_();break;case Ti:Hf()}}function Of(e){window.clearTimeout(pc),I_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Gf),document.body.addEventListener("keydown",Gf,!1),Ff()}function Uf(){Zu(Lf[Xc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Gf),Wc=!1}function Ff(){Wc=!0,Ku(Lf[Xc.Main_CenterLablesVectorPos],"icon_center_line")}function Af(){B_(Xc.Main_Go),Xc.Main_Go=Tf[Xc.Main_CenterLablesVectorPos],Xc.Main_Go!==Fc||ss()?P_(!0):(Xc.Main_Go=Mc,Uf(),P_())}function Nf(){Xc.Main_Go===Cc?document.body.removeEventListener("keydown",_c):Xc.Main_Go===Fc?document.body.removeEventListener("keydown",QE):Xc.Main_Go===xc?document.body.removeEventListener("keydown",Vs):Xc.Main_Go===zc?document.body.removeEventListener("keydown",Or):Xc.Main_Go===Bc?document.body.removeEventListener("keydown",Xk):Xc.Main_Go===Tc?document.body.removeEventListener("keydown",ik):Xc.Main_Go===Nc?document.body.removeEventListener("keydown",Bw):Xc.Main_Go===Oc?document.body.removeEventListener("keydown",ul):Xc.Main_Go===Gc?document.body.removeEventListener("keydown",Cd):Xc.Main_Go===Ic?document.body.removeEventListener("keydown",CM):Xc.Main_Go===Vc?document.body.removeEventListener("keydown",Nx):Xc.Main_Go===Ac?document.body.removeEventListener("keydown",XC):Xc.Main_Go===Ec?(cb=Ab,document.body.removeEventListener("keydown",Gb)):Xc.Main_Go===Uc?(cb=Ub,document.body.removeEventListener("keydown",Gb)):Xc.Main_Go===Hc?document.body.removeEventListener("keydown",PS):Xc.Main_Go===Dc?(cb=Ob,document.body.removeEventListener("keydown",Gb)):Xc.Main_Go===Rc?(cb=Fb,document.body.removeEventListener("keydown",Gb)):Xc.Main_Go===Pc?(cb=Nb,document.body.removeEventListener("keydown",Gb)):Xc.Main_Go===qc?document.body.removeEventListener("keydown",Io):Xc.Main_Go===Sc&&document.body.removeEventListener("keydown",IE)}function Hf(){window.clearTimeout(pc),I_(),Xc.Main_Go!==Gc&&(Xc.Main_BeforeChannelisSet=!1),Xc.Main_Go!==xc&&(Xc.Main_BeforeAgameisSet=!1),d_(),Xc.Main_Go===Cc?ec():Xc.Main_Go===Fc?HE():Xc.Main_Go===zc?Cr():Xc.Main_Go===xc?Ss():Xc.Main_Go===Ac?FC():Xc.Main_Go===Gc?ed():Xc.Main_Go===Oc?$d():Xc.Main_Go===Bc?Uk():Xc.Main_Go===Tc?Yw():Xc.Main_Go===Nc?bw():Xc.Main_Go===Ec?(cb=Ab,vb()):Xc.Main_Go===Pc?(cb=Nb).loadingData||cb.key_refresh():Xc.Main_Go===Hc?uS():Xc.Main_Go===Dc?(cb=Ob,vb()):Xc.Main_Go===Rc?(cb=Fb,vb()):Xc.Main_Go===Uc?(cb=Ub,vb()):Xc.Main_Go===qc?ho():Xc.Main_Go===Sc?mE():Xc.Main_Go===Ic?_M():Xc.Main_Go===Vc?kx():ec(),pc=window.setTimeout(S_,3e3)}function Df(e,t){localStorage.setItem(e,t)}function qf(e,t){return parseInt(localStorage.getItem(e))||t}function Rf(e,t){return JSON.parse(localStorage.getItem(e))||t}function zf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Vf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Jf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Zc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Xf(e,t,n,i,a,s,o){var d;if(Gu){if(!(d=Android.mreadUrl(e,t,n,i)))return void s();200===(d=JSON.parse(d)).status?a(d.responseText):s()}else(d=new XMLHttpRequest).open("GET",(o?Hu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(bu,yu),1<n&&d.setRequestHeader(wu,Mu),2<n&&d.setRequestHeader(ku,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);s()}},d.send(null)}var jf=0,Yf=null,Wf=0,Kf=!1,Zf=0,$f=0,Qf=!1,em=0,tm=2e3,nm=5,im="source",am=im,sm=0,om=[],dm="",lm=!1,rm=0,cm=0,um=1,_m=!1,fm=0,mm=!1,hm=!1,pm=[0,5],vm=0;function gm(){ov(),Vv(),Lp(document.getElementById("stream_info_icon"),Xc.Main_selectedChannelLogo),Qu("stream_info_name",Xc.Main_selectedChannelDisplayname),$u("stream_info_title",zb),$u("stream_info_game",qb+", "+Rb+", "+Xb),Qu("stream_live_icon",Jb),Qu("progress_bar_duration",Zp(vm)),Wy((cp=pm)[1]),Xc.Play_isHost=!1,Qu("progress_bar_current_time",Zp(0)),Qu("stream_live_time",""),Qu("stream_watching_time",""),_m=null!==Xc.ChannelVod_vodId,Ml=Ot+".",_m?(Cl=Wd,Tl()):tr(),$u("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Yu("progress_pause_holder"),Nm(),Qh=0,Yu("scene_channel_panel_bottom"),Yu("chat_box"),ju("chat_frame"),hm=!1,eh=-13,rm=cm=fm=0,sm=2,og(3),qh=!1,Hv(),Qa()?(Vi=!0,Ji=Xc.Main_selectedChannel_id,oa()):sv(),document.addEventListener("visibilitychange",xm,!1),Kf=!1,Qf=!($f=Zf=0),ym(),document.body.removeEventListener("keyup",tf)}function ym(){em=0,tm=2e3,bm()}function bm(){Xf("https://clips.twitch.tv/api/v2/clips/"+Vb+"/status",tm,1,null,km,wm,!0)}function wm(){++em<nm?(tm+=250,bm()):(dv(),Play_PannelEndStart(3))}function km(e){om=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)om.length?om.push({id:e[t].quality+"p"+Cm(e[t].frame_rate),url:e[t].source}):om.push({id:e[t].quality+"p"+Cm(e[t].frame_rate)+" (source)",url:e[t].source});cm=um,Mm()}function Cm(e){return 40<e?60:""}function Mm(){dm=om[sm=0].url,-1!==im.indexOf("source")&&(im="source");for(var e=0;e<Um();e++){if(om[e].id===im){dm=om[sm=e].url;break}-1!==om[e].id.indexOf(im)&&(dm=om[sm=e].url)}am=im,bc||console.log("PlayClip_onPlayer:",'\n\n"'+dm+'"\n'),cm=um,bc||console.log("PlayClip_onPlayer:",'\n\n"'+vh+'"\n'),Gu&&Qf&&Android.startVideoOffset(dm,3,lm?-1:Android.gettime()),lm=!1,Em()}function Em(){bh&&!Iv()&&xv(),Gu&&(Wf=0,mm=!(op=4),window.clearInterval(Sm),Yf=window.setInterval(Sm,dp))}function xm(){document.hidden&&Pm()}function Sm(){Gu&&(rm=Android.gettime()),Qf&&jf===rm&&!Yp()?++Wf>op&&(mm&&hm&&sm<Um()-1?sm++:!mm&&hm&&fm++,navigator.onLine?1<fm?jp(fm,3,Im):(Fm(),Mm(),hm=!0):Xp(!1,3)):(Wf=fm=0,hm=!1),jf=rm}function Im(e){if(!e){if(!(sm<Um()-1))return void Xp(!1,3);sm++}fm=0,Fm(),Mm(),hm=!0}function Pm(){Qf&&(om=[],Lm(),_v(),nv())}function Lm(){window.clearInterval(Yf),Gu&&Android.stopVideo(3),Qf=!1,Kl(),iv(),Yv(),document.body.removeEventListener("keydown",Dm),document.removeEventListener("visibilitychange",xm),Tm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",Wd=0}function Tm(){Kg=!1,Wg=Zg=0,Cv(),im=am,document.getElementById("scene_channel_panel").style.opacity="0",Gu&&Xy(Android.gettime()/1e3,vm,!0),$u("progress_bar_jump_to",yi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Mg)}function Bm(){Gm(),Wp(),Mg=window.setInterval(Gm,1e3),_v(),Dy(),Om(),Fm(),document.getElementById("scene_channel_panel").style.opacity="1",Am()}function Gm(){Gu&&Xy(Android.gettime()/1e3,vm,!Kg)}function Om(){for(var e=sm=0;e<Um();e++){if(om[e].id===im){sm=e;break}-1!==om[e].id.indexOf(im)&&(sm=e)}}function Um(){return om.length}function Fm(){1===Um()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):sm?sm===Um()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(im=om[sm].id).indexOf("source")?Qu("quality_name",im.replace("source",ye)):Qu("quality_name",im)}function Am(){ih=window.setTimeout(Tm,5e3+sy)}function Nm(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Qu("open_vod_text",_m?sn:on),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Hm(){_m?(Xc.vodOffset=Wd,Lm(),document.body.addEventListener("keydown",rb,!1),Hv(),gf(uy)):(qh=!0,lv(dn),window.setTimeout(function(){qh=!1,rv()},2e3))}function Dm(e){if(cm!==um)switch(e.keyCode){case Bi:fv()?(_v(),Pm()):uv()}else switch(e.keyCode){case Si:Xv()?lh&&(Qv(),lh--,Zv()):oh&&!yv()&&Iv()?($m++,Uv()):yv()?(Cv(),iy?(qv(),5<++Dh&&(Dh=0),Dv()):(Zy(-1,vm),sy=2500),Am()):Jv()?(ag(),ng(),--Xh<0&&(Xh=3),tg()):Bm();break;case Pi:Xv()?lh<PM-1&&(Qv(),lh++,Zv()):!oh||yv()||Jv()?yv()?(Cv(),iy?(qv(),--Dh<0&&(Dh=5),Dv()):(Zy(1,vm),sy=2500),Am()):Jv()?(ag(),ng(),3<++Xh&&(Xh=0),tg()):Bm():Df("ChatEnable",(bh=Iv()||Jv()?(Sv(),!1):(xv(),!0))?"true":"false");break;case Ii:Jv()?ag():yv()?(2===iy&&1!==Dh?(iy--,qy()):1===iy?(iy--,qy()):0<sm&&1===Dh&&(sm--,Fm()),Cv(),Am()):Xv()?Xv()?Kv():Bm():jv();break;case Li:Jv()?ag():yv()?(iy?1===iy?(iy++,qy()):sm<Um()-1&&1===Dh&&(sm++,Fm()):(iy++,qy()),Cv(),Am()):Xv()?Yv():oh&&Iv()?(4<++nh?Ov(!(nh=1)):4===nh&&Ov(!0),Bv(!0)):Bm();break;case Ti:Jv()?sg(3):yv()?iy?1===iy?(_m&&Xc.Play_ChatForceDisable&&(Yp()?Yl(Pl):Wl()),Jv()||Nv(3)):ug(3):(Cv(),Am(),Wg&&jy()):Xv()?(tv(),rf(lh,FM,wg)):Bm();break;case Bi:yv()?Tm():Xv()?Yv():fv()?(_v(),Pm()):uv();break;case Ei:case Mi:case xi:_m&&!Xc.Play_ChatForceDisable&&(Yp()?Yl(Pl):Wl()),Jv()||Nv(3)}}var qm,Rm,zm,Vm,Jm,Xm,jm,Ym,Wm,Km,Zm,$m=0,Qm=$m,eh=-5,th=.55,nh=3,ih=null,ah="source",sh=ah,oh=!0,dh="",lh=0,rh=0,ch=1,uh=2,_h=0,fh=null,mh=0,hh=0,ph=0,vh="",gh=[],yh=0,bh=!1,wh=null,kh=null,Ch=null,Mh="",Eh=0,xh=5,Sh=0,Ih=5,Ph=0,Lh=!1,Th=null,Bh=!1,Gh=0,Oh=null,Uh=0,Fh=0,Ah=!1,Nh=!1,Hh=!1,Dh=1,qh=!1,Rh=!1,zh=1e4,Vh=2e3,Jh="",Xh=0,jh=3,Yh=null,Wh="",Kh=0,Zh=0,$h=0,Qh=0,ep="",tp=!0,np=!1,ip=!1,ap=0,sp=!1,op=4,dp=1500,lp=0,rp="",cp=[],up=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],_p=[0,0,0,1,2,2,2,1],fp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],mp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],hp=1,pp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function vp(){jm=document.getElementById("chat_frame"),Wm=document.getElementById("chat_container"),Zm=document.getElementById("inner_progress_bar"),$m=qf("ChatPositionsValue",0),nh=qf("ChatSizeValue",3),bh=zf("ChatEnable",!1),oh=zf("Play_isFullScreen",!0),Bv(!1),Gv(!1),yp()}function gp(e){e?void 0!==qm&&($m=qm,nh=zm,(bh=Rm)||Sv(),Bv(!1)):(qm=$m,Rm=bh,zm=nh,$m=0,xv(),nh=4,Ov(bh=!0),Bv(!1),hl&&(hl.scrollTop=hl.scrollHeight)),Df("Play_isFullScreen",oh)}function yp(){hp=rC("chat_font_size");for(var e=0;e<pp.length;e++)Zu("chat_inner_container",pp[e]);Ku("chat_inner_container",pp[hp])}function bp(){ov(),$u("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+yi+_.toUpperCase()+"</div>"),H_("stream_info_title"),_m=!(Rh=!1),Lp(document.getElementById("stream_info_icon"),Au),Xc.Play_isHost?Qu("stream_info_name",Xc.Play_DisplaynameHost):Qu("stream_info_name",Xc.Play_selectedChannelDisplayname),Xc.Play_WasPlaying=1,L_(),Vm=Xc.Play_isHost,Xc.Play_isHost=!1,np=!1,Yu("scene_channel_panel_bottom"),Qu("stream_watching_time",g+Zp(Qh=0)),Mh=$p(0),Qu("stream_live_time",y+Mh+b),ju("chat_box"),Yu("chat_frame"),ju("progress_pause_holder"),og(1),ip=Nh=!(eh=-5),Kh=Fh=lp=0,Zh=Date.now(),zh=3e3,tp=!(Sh=$h=0),_h=rh,Hh=!(Lh=!(ph=hh=mh=Bh=0)),document.addEventListener("visibilitychange",kp,!1),Mp(),Tp(),document.body.removeEventListener("keyup",tf),fh=window.setInterval(Sp,6e4)}function wp(e){lv(e)}function Play_CheckResume(){Lh&&kp(),Ng&&by(),Qf&&(Pm(),window.clearInterval(Yf))}function kp(){document.hidden?Jv()?(_v(),Sv(),ev()):(iv(),Hh=!1,jm.src="about:blank",window.clearInterval(fh),$h=Date.now()):(Lh=!0,pv(),Lh&&(zh=3e3,np=!(Sh=0),$h=Date.now()-$h,Rh?Sp():Mp(),_h=rh,Ph=0,navigator.onLine?Tp():Xm=window.setInterval(Cp,100),fh=window.setInterval(Sp,6e4)))}function Cp(){(navigator.onLine||200<Ph)&&(window.clearInterval(Xm),Tp()),Ph++}function Mp(){var e="https://api.twitch.tv/kraken/streams/"+Xc.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=zh,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ep(JSON.parse(t.responseText)):xp())},t.send(null)}function Ep(e){null!==e.stream&&(Qu("stream_info_name",Vm?Xc.Play_DisplaynameHost:Xc.Play_selectedChannelDisplayname),Xc.Play_selectedChannel_id=e.stream.channel._id,$u("stream_info_title",gC.parse(e.stream.channel.status)),Xc.Play_gameSelected=e.stream.game,Jh=", ["+e.stream.channel.language.toUpperCase()+"]",Qu("stream_info_game",p+Xc.Play_gameSelected+v+k_(e.stream.viewers)+" "+R+Jh),Xc.Play_selectedChannelLogo=e.stream.channel.logo,Rh=!0,Lp(document.getElementById("stream_info_icon"),Xc.Play_selectedChannelLogo),Mh=e.stream.created_at,Qa()?(Vi=!0,Ji=Xc.Play_selectedChannel_id,oa()):sv())}function xp(){Sh<Ih&&(zh+=500,window.setTimeout(function(){Lh&&Mp()},750)),Sh++}function Sp(){var e="https://api.twitch.tv/kraken/streams/"+Xc.Play_selectedChannel_id;Vh=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(lp=0,Ip(JSON.parse(t.responseText))):Pp())},t.open("GET",e,!0),t.timeout=Vh,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.send(null)}function Ip(e){null!==e.stream&&($u("stream_info_title",gC.parse(e.stream.channel.status)),Xc.Play_gameSelected=e.stream.game,Qu("stream_info_game",p+Xc.Play_gameSelected+v+k_(e.stream.viewers)+" "+R+Jh),Rh||Lp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Pp(){lp<Ih?(window.setTimeout(function(){Lh&&Sp()},2500),lp++):lp=0}function Lp(e,t){e.onerror=function(){this.src=Au,Rh=!1},e.src=t}function Tp(){Eh=0,Vh=2e3+(np?3e3:0),Bp()}function Bp(){var e,t;if(e=_h===rh?"https://api.twitch.tv/api/channels/"+Xc.Play_selectedChannel+"/access_token"+(Qa()&&Aa[Xc.Users_Position].access_token?"?oauth_token="+Aa[Xc.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+Xc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(mh.token)+"&sig="+mh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Gu){if(!(t=Android.mreadUrl(e,Vh,1,null)))return void Op();200===(t=JSON.parse(t)).status?(Eh=0,Lh&&Fp(t.responseText)):403===t.status?Up():404===t.status?_g():Op()}else(t=new XMLHttpRequest).open("GET",Hu+e,!0),t.timeout=Vh,t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Eh=0,Lh&&Fp(t.responseText)):403===t.status?(Gp(t),Up()):404===t.status?(Gp(t),_g()):(Gp(t),Op()))},t.send(null)}function Gp(e){bc||(console.log(e.status),console.log(e.responseText))}function Op(){Lh&&tp&&(++Eh<xh+(np?15:0)?(Vh+=250,np?window.setTimeout(Bp,500):Bp()):_g())}function Up(){dv(),lv(Hn),window.setTimeout(function(){Lh&&_g()},4e3)}function Fp(e){_h===rh?(mh=JSON.parse(e),_h=ch,Tp()):_h===ch&&(gh=Ap(hh=e),_h=uh,Lh&&Dp())}function Ap(e){for(var t,n=[],i="",a=1,s=Hp(e),o=0;o<s.length;o++)i=s[o].split('NAME="')[1].split('"')[0],t=Np(s[o].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[o-a].id!==i&&n[o-a].id!==i+" (source)"?n.push({id:i,band:t,url:s[o].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:s[o].split("\n")[2]}));return n}function Np(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Hp(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Dp(){vh=gh[yh=0].url,-1!==ah.indexOf("source")&&(ah="source");for(var e=0;e<Tv();e++){if(gh[e].id===ah){vh=gh[yh=e].url;break}-1!==gh[e].id.indexOf(ah)&&(vh=gh[yh=e].url)}sh=ah,_h=uh,bc||console.log("Play_onPlayer:",'\n\n"'+vh+'"\n'),Gu&&Lh&&Android.startVideo(vh,1),qp()}function qp(){window.clearTimeout(Ym),sp=!1,bh&&!Iv()&&xv(),Hh=!0,Rp(),Gu&&(Uh=0,Ah=!(op=4),window.clearInterval(Oh),Oh=window.setInterval(Vp,dp))}function Rp(){if(Xc.Play_ChatForceDisable){sp=!0,window.clearInterval(Km);var e=jm.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(Ym),ap=0,ip=!1,jm.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+Xc.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",Ym=window.setTimeout(zp,5e3)}else nr()}function zp(){var e=jm.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(ip=-1!==e.body.innerHTML.indexOf("Connected")),t=ip}catch(e){ip=!0}ip?t&&(Km=window.setInterval(Ev,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):sp&&ap<7?(ap++,Ym=window.setTimeout(zp,1e3)):Rp()}function Vp(){Gu&&(Kh=Android.gettime()),Lh&&Gh===Kh&&!Yp()?op<++Uh&&(Ah&&Nh&&yh<Tv()-1?yh++:!Ah&&Nh&&Fh++,navigator.onLine?1<Fh?jp(Fh,1,Jp):(Lv(),Dp(),Nh=!0):Xp(!1,1)):(Uh=Fh=0,Nh=!1),Gh=Kh}function Jp(e){if(!e){if(!(yh<Tv()-1))return void _g();yh++}Fh=0,Lv(),Dp(),Nh=!0}function Xp(e,t){Xc.Play_isHost=e,og(t),Play_PannelEndStart(t)}function jp(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Xp(!1,t))},i.send(null)}function Yp(){return!!Gu&&!Android.getPlaybackState()}function Wp(){var e=yf();Qu("stream_clock",e),Qu("label_clock",e)}function Kp(e){return e<10?"0"+e:e}function Zp(e){var t,n,i;return e+=Qh/1e3,t=Kp(parseInt(e)%60),n=Kp((e=Math.floor(e/60))%60),i=Kp(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function $p(e){var t,n,i;return e<0&&!Qh&&(Qh=-1*e),e+=Qh,t=Kp(parseInt(e/1e3)%60),n=Kp((e=Math.floor(e/1e3/60))%60),i=Kp(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Qp(e){return $p((new Date).getTime()-new Date(e).getTime())}function ev(){Lh&&(tv(),Xc.Play_WasPlaying=0,nv())}function tv(){Gu&&Android.stopVideo(1),Lh=!1,Yv(),Kl(),iv(),av(),window.clearInterval(Km),Xc.Play_selectedChannel_id=""}function nv(){Xy(0,0),Yu("scene1"),ju("scene2"),x_()}function iv(){bv(),pv(),rv(),Vv(),rp="",yh===Tv()-1&&(sh=gh[0].id),Ug===Jy()-1&&(Sg=Og[0].id),sm===Um()-1&&(am=om[0].id)}function av(){Hh=!1,document.body.removeEventListener("keydown",wg),document.removeEventListener("visibilitychange",kp),jm.src="about:blank",window.clearInterval(fh),window.clearInterval(Oh),qh=!1}function sv(){$u("fallow_text",yi+Tt),Ri=!1}function ov(){Gu?Android.mshowLoading(!0):Yu("dialog_loading_play")}function dv(){Gu?Android.mshowLoading(!1):ju("dialog_loading_play")}function lv(e){Qu("dialog_warning_play_text",e),Yu("dialog_warning_play")}function rv(){ju("dialog_warning_play")}function cv(){return Wu("dialog_warning_play")}function uv(){fv()?_v():(Yu("play_dialog_exit"),wh=window.setTimeout(uv,3e3))}function _v(){window.clearTimeout(wh),ju("play_dialog_exit")}function fv(){return Wu("play_dialog_exit")}function mv(){window.clearTimeout(kh)}function hv(){window.clearTimeout(Ch)}function pv(){mv(),hv(),ju("play_dialog_simple_pause")}function vv(){Yp()?gv()?(ju("play_dialog_simple_pause"),Ch=window.setTimeout(vv,8e3)):(Yu("play_dialog_simple_pause"),kh=window.setTimeout(vv,1500)):pv()}function gv(){return Wu("play_dialog_simple_pause")}function yv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function bv(){Cv(),document.getElementById("scene_channel_panel").style.opacity="0",ah=sh,window.clearInterval(Mg)}function wv(){Hv(),Pv(),Lv(),kv(),Mg=window.setInterval(kv,1e3),Wp(),_v(),document.getElementById("scene_channel_panel").style.opacity="1",Mv()}function kv(){Qu("stream_watching_time",g+$p(Date.now()-$h-Zh)),Qu("stream_live_time",y+Qp(Mh)+b)}function Cv(){window.clearTimeout(ih),sy=0}function Mv(){ih=window.setTimeout(bv,5e3)}function Ev(){var e=jm.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function xv(){Uv(),Yu("chat_container")}function Sv(){ju("chat_container")}function Iv(){return Wu("chat_container")}function Pv(){for(var e=yh=0;e<Tv();e++){if(gh[e].id===ah){yh=e;break}-1!==gh[e].id.indexOf(ah)&&(yh=e)}}function Lv(){1===Tv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):yh?yh===Tv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(ah=gh[yh].id).indexOf("source")?Qu("quality_name",ah.replace("source",ye)+gh[yh].band):Qu("quality_name",ah+gh[yh].band)}function Tv(){return gh.length}function Bv(e){Wm.style.height=mp[nh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=mp[nh-1].dialogTop+"%",Uv(),Ev(),e&&Fv(An+mp[nh-1].percentage),window.setTimeout(function(){hl&&(hl.scrollTop=hl.scrollHeight)},500),Df("ChatSizeValue",nh)}function Gv(e){Wm.style.backgroundColor="rgba(0, 0, 0, "+th+")",e&&Fv(Nn+(100*th).toFixed(0)+"%")}function Ov(e){$m=e?_p[Qm=$m]:fp[$m][Qm]}function Uv(){var e=4===nh;$m<0?$m=e?2:7:(e?2:7)<$m&&($m=0),Wm.style.top=(e?.2:up[$m].top+up[$m].sizeOffset[nh-1])+"%",Wm.style.left=up[$m+(e?2:0)].left+"%",Df("ChatPositionsValue",$m)}function Fv(e){window.clearTimeout(Th),Qu("play_chat_dialog_text",e),Yu("play_chat_dialog"),Th=window.setTimeout(Av,1e3)}function Av(){ju("play_chat_dialog")}function Nv(e){Yp()?(pv(),Gu&&Android.play(!0),$u("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(yv()&&bv(),Oh=window.setInterval(Vp,dp)):2===e?(yv()&&Ay(),zg=window.setInterval(By,dp)):3===e&&(yv()&&Tm(),Yf=window.setInterval(Sm,dp))):(1===e?window.clearInterval(Oh):2===e?window.clearInterval(zg):3===e&&window.clearInterval(Yf),$u("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Gu&&Android.play(!1),vv())}function Hv(){qv(),Dh=1,Dv()}function Dv(){Ku("scene2_pannel_"+Dh,"playbotton_focus")}function qv(){Zu("scene2_pannel_"+Dh,"playbotton_focus")}function Rv(){cm=Ig=_h=-1,Sv(),bv(),Tm(),Ay(),qh||rv(),dv(),_v(),tg()}function zv(){Yu("dialog_end_stream")}function Vv(){ju("dialog_end_stream"),ag(),eg()}function Jv(){return Wu("dialog_end_stream")}function Xv(){return Wu("user_feed")}function jv(){var e=Qa();e?(dh!==Aa[Xc.Users_Position].name&&(UM=!1),dh=Aa[Xc.Users_Position].name):UM=!1,UM||MM||AM(),e&&(Yu("user_feed"),Jm=window.setTimeout(Yv,5e3))}function Yv(){ju("user_feed"),window.clearTimeout(Jm)}function Wv(){window.clearTimeout(Jm),Jm=window.setTimeout(Yv,5e3)}function Kv(){window.clearTimeout(Jm),MM||AM()}function Zv(){Wv(),Ku(FM[0]+lh,"feed_thumbnail_focused");var e=0;lh<3?e=3:$v(lh+2,FM[0])&&(e=-1*document.getElementById(FM[8]+(lh-2)).offsetLeft),e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function $v(e,t){return null!==document.getElementById(t+e,0)}function Qv(){Zu(FM[0]+lh,"feed_thumbnail_focused")}function eg(){ng(),Xh=0,tg()}function tg(){Ku("dialog_end_"+Xh,"dialog_end_icons_focus")}function ng(){Zu("dialog_end_"+Xh,"dialog_end_icons_focus")}function ig(e){1===e?Wh=Xc.Play_selectedChannelDisplayname+" "+_:2===e?Wh=Xc.Main_selectedChannelDisplayname+$t:3===e&&(Wh=Xc.Main_selectedChannelDisplayname+Ot),$u("dialog_end_stream_text",Wh+P+ai+en+jh+"..."),Jv()?(Ig=_h=uh,cm=um,-1===--jh?($u("dialog_end_stream_text",Wh+P+ai+en+"0..."),_v(),Sv(),1===e?ev():2===e?Oy():3===e&&Pm()):Yh=window.setTimeout(function(){ig(e)},1e3)):Yh=window.setTimeout(function(){ig(e)},50)}function ag(){window.clearTimeout(Yh),$u("dialog_end_stream_text",Wh+P+ai+tn)}function sg(e){var t=!0;Xh?1===Xh?Xc.Play_isHost?(Xc.Play_DisplaynameHost=Xc.Play_selectedChannelDisplayname+ie,Xc.Play_selectedChannel=ep.target_login,Xc.Play_selectedChannelDisplayname=ep.target_display_name,Xc.Play_DisplaynameHost=Xc.Play_DisplaynameHost+Xc.Play_selectedChannelDisplayname,tv(),document.body.addEventListener("keydown",wg,!1),Xc.Play_selectedChannel_id=ep.target_id,gf(bp)):Hm():2===Xh?dg(e):3===Xh&&rg(e):2===e?Og.length?(Jg=!(ly=!0),Ly(),pv(),Cl=ey=0,Tl()):(t=!1,lv($n),window.setTimeout(function(){rv()},2e3)):3===e&&(om.length?(mm=!(lm=!0),Mm(),pv(),_m?(ey=0,Cl=Wd,Tl()):tr()):(t=!1,lv($n),window.setTimeout(function(){rv()},2e3))),1!==Xh&&3===Xh&&""===Xc.Play_gameSelected&&(t=!1),t&&Vv()}function og(e){e?1===e?(ng(),Xh=2,tg(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(eg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(eg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Qu("dialog_end_vod_text",_m?sn:on)):(ng(),Xh=1,tg(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Qu("dialog_end_vod_text",cn))}function dg(e){Xc.Main_BeforeChannelisSet||Xc.Main_Go===Oc||Xc.Main_Go===Uc||(Xc.Main_BeforeChannel=Xc.Main_BeforeAgameisSet&&Xc.Main_Go!==xc?Xc.Main_BeforeAgame:Xc.Main_Go,Xc.Main_BeforeChannelisSet=!0),B_(Xc.Main_Go),Xc.Main_Go=Gc,1===e?(Xc.Main_selectedChannel_id=Xc.Play_selectedChannel_id,Xc.Main_selectedChannel=Xc.Play_selectedChannel,Xc.Main_selectedChannelDisplayname=Xc.Play_selectedChannelDisplayname,qo=Ri,Sv(),ev()):2===e?Oy():3===e&&Pm()}function lg(e){Xc.Search_isSearching||(Xc.Main_BeforeSearch=Xc.Main_Go),B_(Xc.Main_Go),Xc.Main_Go=Lc,1===e?(Sv(),ev()):2===e?Oy():3===e&&Pm()}function rg(e){if(""===Xc.Play_gameSelected)return qh=!0,lv(Yn),void window.setTimeout(function(){qh=!1,rv()},2e3);Xc.Main_BeforeAgameisSet||Xc.Main_Go===qc||Xc.Main_Go===Rc||(Xc.Main_BeforeAgame=Xc.Main_BeforeChannelisSet&&Xc.Main_Go!==Gc&&Xc.Main_Go!==Oc&&Xc.Main_Go!==Uc?Xc.Main_BeforeChannel:Xc.Main_Go,Xc.Main_BeforeAgameisSet=!0),B_(Xc.Main_Go),Xc.Main_Go=xc,Cs=!1,Xc.Main_gameSelected=Xc.Play_gameSelected,Sv(),1===e?ev():2===e?Oy():3===e&&Pm()}function cg(){Qa()&&Aa[Xc.Users_Position].access_token?Ri?ma():ua():(lv(Bt),qh=!0,window.setTimeout(function(){rv(),qh=!1},2e3))}function ug(e){Dh?1===Dh?(1===e?(Dp(),bv()):2===e?(Jg=!1,Ly(),Ay()):3===e&&(mm=!1,Mm(),Tm()),pv()):2===Dh?(Ji=1===e?Xc.Play_selectedChannel_id:Xc.Main_selectedChannel_id,cg(),Cv(),1===e?Mv():2===e?Ry():3===e&&Am()):3===Dh?rg(e):4===Dh?dg(e):5===Dh&&lg(e):Hm()}function Play_PannelEndStart(e){window.clearInterval(Oh),window.clearInterval(Yf),window.clearInterval(zg),Rv(),jh=3,ig(e),zv(e)}function _g(){_h=-1,Eh=0,Vh=2e3,window.clearTimeout(Ym),jm.src="about:blank",window.clearInterval(fh),window.clearInterval(Oh),""!==Xc.Play_selectedChannel_id?pg():fg()}function fg(){var e="https://api.twitch.tv/kraken/users?login="+Xc.Play_selectedChannel,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Vh,t.setRequestHeader(bu,yu),t.setRequestHeader(wu,Mu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void mg(JSON.parse(t.responseText).users[0]);hg()}},t.send(null)}function mg(e){void 0!==e?(Xc.Play_selectedChannel_id=e._id,Eh=0,Vh=2e3,pg()):Play_PannelEndStart(1)}function hg(){++Eh<xh?(Vh+=250,fg()):Xp(!1,1)}function pg(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Xc.Play_selectedChannel_id);if(Gu){if(!(e=Android.mreadUrl(t,Vh,1,null)))return void vg();200===(e=JSON.parse(e)).status?gg(e.responseText):vg()}else(e=new XMLHttpRequest).open("GET",Hu+t,!0),e.timeout=Vh,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void gg(e.responseText);vg()}},e.send(null)}function vg(){++Eh<xh?(Vh+=250,pg()):Xp(!1,1)}function gg(e){void 0!==(ep=JSON.parse(e).hosts[0]).target_login?(qh=!0,lv(Xc.Play_selectedChannelDisplayname+rn+ie+ep.target_display_name),window.setTimeout(function(){qh=!1},4e3),og(0),Xc.Play_isHost=!0):(og(1),Xc.Play_isHost=!1),Play_PannelEndStart(1)}function yg(){Ri?($u("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),$u("fallow_text",yi+Et)):($u("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),$u("fallow_text",yi+xt))}function bg(e){Jv()&&!fv()?(ag(),uv()):Xv()?Yv():yv()&&!ab()?e?Ay():bv():ab()&&fv()?(ib(),Uy(!1),nv()):fv()?(_v(),Sv(),e?Oy():ev()):(cv()&&rv(),uv())}function wg(e){if(_h!==uh)switch(e.keyCode){case Bi:fv()?(_v(),Sv(),ev()):uv()}else switch(e.keyCode){case Si:Xv()?lh&&(Qv(),lh--,Zv()):oh&&!yv()&&Iv()?($m++,Uv()):yv()?(qv(),5<++Dh&&(Dh=1),Dv(),Cv(),Mv()):Jv()?(ag(),ng(),--Xh<(Xc.Play_isHost?1:2)&&(Xh=3),tg()):wv();break;case Pi:Xv()?lh<PM-1&&(Qv(),lh++,Zv()):!oh||yv()||Jv()?yv()?(qv(),--Dh<1&&(Dh=5),Dv(),Cv(),Mv()):Jv()?(ag(),ng(),3<++Xh&&(Xh=Xc.Play_isHost?1:2),tg()):wv():Df("ChatEnable",(bh=Iv()||Jv()?(Sv(),!1):(xv(),!0))?"true":"false");break;case Ii:yv()?(0<yh&&1===Dh&&(yh--,Lv()),Cv(),Mv()):!Xv()&&Qa()?jv():Jv()?ag():Xv()&&Kv();break;case Li:yv()?(yh<Tv()-1&&1===Dh&&(yh++,Lv()),Cv(),Mv()):Xv()?Yv():oh&&Iv()?(4<++nh?Ov(!(nh=1)):4===nh&&Ov(!0),Bv(!0)):Jv()?ag():wv();break;case Ti:Jv()?sg(1):yv()?ug(1):Xv()?(tv(),rf(lh,FM,wg)):wv();break;case Bi:bg(!1);break;case Ei:case Mi:case xi:Jv()||Nv(1)}}var kg,Cg,Mg,Eg,xg="source",Sg=xg,Ig=0,Pg=null,Lg=0,Tg=0,Bg=0,Gg="",Og=[],Ug=0,Fg=0,Ag=5,Ng=!1,Hg=0,Dg=5,qg=1e4,Rg=0,zg=null,Vg=0,Jg=!1,Xg=0,jg=!1,Yg=!1,Wg=0,Kg=!1,Zg=0,$g=2e3,Qg=!1,ey=0,ty={},ny=0,iy=0,ay=!0,sy=0,oy=0,dy=0,ly=!1,ry=[0,10,30,60,120,300,600,900,1200,1800],cy=!1;function uy(){ov(),Vv(),ey=0,Qu("stream_live_time",""),Qu("stream_watching_time",""),Qu("progress_bar_current_time",Zp(0)),Ml=U+".",$u("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),ju("progress_pause_holder"),oy=0,Wy((cp=ry)[1]),Ig=rh,_m=!0,Wd=0,Xc.Play_isHost=!1,Xc.vodOffset?(fy(),vy()):(ay&&""!==Xc.Main_selectedChannel_id?(Lp(document.getElementById("stream_info_icon"),Xc.Main_selectedChannelLogo),ty["#"+Xc.ChannelVod_vodId]||Tl(),Qa()?(Ji=Xc.Main_selectedChannel_id,Vi=!0,oa()):sv()):(fy(),my()),Qu("stream_info_name",Xc.Main_selectedChannelDisplayname),$u("stream_info_title",Jd),$u("stream_info_game",Xd+", ["+Hd.toUpperCase()+"]"),Qu("stream_live_icon",jd)),ty["#"+Xc.ChannelVod_vodId]&&!Xc.vodOffset?(dv(),nb()):_y()}function _y(){Qh=0,Yu("chat_box"),ju("chat_frame"),window.setTimeout(function(){Yu("scene_channel_panel_bottom"),$u("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Yu("progress_pause_holder")},1e3),Qu("progress_bar_duration",Zp(Fd)),Xc.Play_WasPlaying=2,L_(),Eg=window.setInterval(ky,6e4),J_(rp),jg=!1,Kg=qh=Qg=!(eh=-13),Bg=Tg=Lg=Zg=Xg=0,document.addEventListener("visibilitychange",by,!1),cy=!(Ng=!(Yg=!1)),Cy(),og(2),document.body.removeEventListener("keyup",tf)}function fy(){Hg=0,Dg=5,qg=1e4}function my(){var e="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Xc.Main_selectedChannel),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=qg,t.setRequestHeader(bu,yu),t.setRequestHeader(wu,Mu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?hy(JSON.parse(t.responseText).users[0]):py())},t.send(null)}function hy(e){void 0!==e?(Xc.Main_selectedChannelLogo=e.logo,Xc.Main_selectedChannel_id=e._id,ty["#"+Xc.ChannelVod_vodId]||Tl(),Qa()?(Ji=Xc.Main_selectedChannel_id,Vi=!0,oa()):sv()):(Xc.Main_selectedChannelLogo=Au,Xc.Main_selectedChannel_id=""),Lp(document.getElementById("stream_info_icon"),Xc.Main_selectedChannelLogo)}function py(){++Hg<Dg?(qg+=500,window.setTimeout(function(){Ng&&my()},750)):Cg=window.setTimeout(my,2500)}function vy(){var e="https://api.twitch.tv/kraken/videos/"+Xc.ChannelVod_vodId,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=qg,t.setRequestHeader(bu,yu),t.setRequestHeader(wu,Mu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void yy(t.responseText);gy()}},t.send(null)}function gy(){++Hg<Dg&&(qg+=2e3,vy())}function yy(e){e=JSON.parse(e),$u("stream_info_title",gC.parse(e.title)),$u("stream_info_game",Wt+p+e.game+", "+k_(e.views)+q+", ["+e.language.toUpperCase()+"]"),Qu("stream_live_icon",H+F_(e.created_at)),Qu("progress_bar_duration",Zp(Fd=parseInt(e.length))),ey=1e3*Xc.vodOffset,Xy(Xc.vodOffset,Fd,!0),Xc.Main_selectedChannelDisplayname=e.channel.display_name,Qu("stream_info_name",Xc.Main_selectedChannelDisplayname),Xc.Main_selectedChannelLogo=e.channel.logo,Lp(document.getElementById("stream_info_icon"),Xc.Main_selectedChannelLogo),Xc.Main_selectedChannel_id=e.channel._id,Xc.Main_selectedChannel=e.channel.name,Qa()?(Vi=!0,Ji=Xc.Main_selectedChannel_id,oa()):sv(),J_(e.increment_view_count_url)}function by(){document.hidden?Jv()?(_v(),Sv(),Oy()):(ky(),$y(),Wl(),iv(),window.clearInterval(zg),window.clearInterval(Eg)):(Ng=!0,pv(),Ng&&(Ph=Ph=0,navigator.onLine?Ty():Xm=window.setInterval(wy,100),Yl(Pl),og(2),Eg=window.setInterval(ky,6e4)))}function wy(){(navigator.onLine||200<Ph)&&(window.clearInterval(Xm),Ig=rh,Cy()),Ph++}function ky(){Xc.vodOffset=Gu?parseInt(Android.gettime()/1e3):0,L_(),Xc.vodOffset=0}function Cy(){Fg=0,$g=2e3,My()}function My(){var e,t;if(e=Ig===rh?"https://api.twitch.tv/api/vods/"+Xc.ChannelVod_vodId+"/access_token"+(Qa()&&Aa[Xc.Users_Position].access_token?"?oauth_token="+Aa[Xc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Xc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Lg.token)+"&nauthsig="+Lg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Gu){if(!(t=Android.mreadUrl(e,Vh,1,null)))return void Ey();200===(t=JSON.parse(t)).status?(Fg=0,Ng&&xy(t.responseText)):Ey()}else(t=new XMLHttpRequest).open("GET",Hu+e,!0),t.timeout=$g,t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Fg=0,Ng&&xy(t.responseText)):Ey())},t.send(null)}function Ey(){if(Ng){if(JSON.parse(Lg.token)&&0!==JSON.parse(Lg.token).chansub.restricted_bitrates.length)return void Sy();++Fg<Ag?($g+=250,My()):(dv(),Play_PannelEndStart(2))}}function xy(e){Ig===rh?(Lg=JSON.parse(e),Ig=ch,Cy()):Ig===ch&&(Og=Ap(Tg=e),Ig=uh,Ng&&Ly())}function Sy(){Qa()&&Aa[Xc.Users_Position].access_token?(Ji=Xc.Main_selectedChannel_id,va()):(dv(),lv(L+St),window.setTimeout(function(){Ng&&Oy()},4e3))}function Iy(){dv(),lv(L+It),window.setTimeout(function(){Ng&&Oy()},4e3)}function Py(){cy?(dv(),lv(L+Pt),window.setTimeout(function(){Ng&&Oy()},4e3)):(cy=!0,Ig=rh,Cy())}function Ly(){Gg=Og[Ug=0].url,-1!==xg.indexOf("source")&&(xg="source");for(var e=0;e<Jy();e++){if(Og[e].id===xg){Gg=Og[Ug=e].url;break}-1!==Og[e].id.indexOf(xg)&&(Gg=Og[Ug=e].url)}Sg=xg,Ty()}function Ty(){bc||console.log("PlayVod_onPlayer:",'\n\n"'+Gg+'"\n'),Xc.vodOffset?(Cl=Xc.vodOffset,Tl(),Gu&&Ng&&Android.startVideoOffset(Gg,2,ly?-1:1e3*Xc.vodOffset),Xc.vodOffset=0):Gu&&Ng&&Android.startVideoOffset(Gg,2,ly?-1:Android.gettime()),ly=!1,bh&&!Iv()&&xv(),Gu&&(Vg=0,Jg=!(op=7),window.clearInterval(zg),zg=window.setInterval(By,dp))}function By(){Gu&&(ey=Android.gettime()),Ng&&Rg===ey&&!Yp()?++Vg>op&&(Jg&&jg&&Ug<Jy()-1?Ug++:!Jg&&jg&&Xg++,navigator.onLine?1<Xg?jp(Xg,2,Gy):(Vy(),Ly(),jg=!0):Xp(!1,2)):(Vg=Xg=0,jg=!1),Rg=ey}function Gy(e){if(!e){if(!(Ug<Jy()-1))return void Xp(!1,2);Ug++}Xg=0,Vy(),Ly(),jg=!0}function Oy(){Ng&&(Og=[],Uy(!0),nv())}function Uy(e){e&&$y(),Gu&&Android.stopVideo(2),Ng=!1,window.clearInterval(Eg),window.clearInterval(Cg),Xc.Play_WasPlaying=0,ay=!0,Kl(),Yv(),iv(),Fy()}function Fy(){document.body.removeEventListener("keydown",rb),document.removeEventListener("visibilitychange",by),Xc.vodOffset=0,window.clearInterval(Pg),window.clearInterval(zg),Fd=0}function Ay(){Kg=!1,Wg=Zg=0,Cv(),document.getElementById("scene_channel_panel").style.opacity="0",Gu&&Xy(Android.gettime()/1e3,Fd,!0),$u("progress_bar_jump_to",yi),document.getElementById("progress_bar_steps").style.display="none",xg=Sg,window.clearInterval(Mg)}function Ny(e){Hy(),Wp(),_v(),Mg=window.setInterval(Hy,1e3),e&&(Dy(),zy(),Vy(),Ry()),document.getElementById("scene_channel_panel").style.opacity="1"}function Hy(){Gu&&Xy(Android.gettime()/1e3,Fd,!Kg)}function Dy(){iy=Yp()?1:0,qy()}function qy(){iy?1===iy?(Ku("pause_button","progress_bar_div_focus"),Zu("progress_bar_div","progress_bar_div_focus"),qv(),$u("progress_bar_jump_to",yi),document.getElementById("progress_bar_steps").style.display="none"):2===iy&&(Zu("pause_button","progress_bar_div_focus"),Zu("progress_bar_div","progress_bar_div_focus"),Dv(),$u("progress_bar_jump_to",yi),document.getElementById("progress_bar_steps").style.display="none"):(Zu("pause_button","progress_bar_div_focus"),Ku("progress_bar_div","progress_bar_div_focus"),qv(),Wg&&(Ky(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Ry(){ih=window.setTimeout(Ay,5e3+sy)}function zy(){for(var e=Ug=0;e<Jy();e++){if(Og[e].id===xg){Ug=e;break}-1!==Og[e].id.indexOf(xg)&&(Ug=e)}}function Vy(){1===Jy()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Ug?Ug===Jy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(xg=Og[Ug].id).indexOf("source")?Qu("quality_name",xg.replace("source",ye)+Og[Ug].band):Qu("quality_name",xg+Og[Ug].band)}function Jy(){return Og.length}function Xy(e,t,n){Qu("progress_bar_current_time",Zp(e)),n&&(Zm.style.width=e/t*100+"%")}function jy(){pv(),Jv()||(mm=Jg=!1,Ng?(Gu&&Android.startVideoOffset(Gg,2,0<dy?1e3*dy:-1),Cl=dy):(Cl=Wd,Gu&&Android.startVideoOffset(dm,3,0<dy?1e3*dy:-1)),_m&&Tl()),$u("progress_bar_jump_to",yi),document.getElementById("progress_bar_steps").style.display="none",Kg=!1,dy=Wg=Zg=0}function Yy(){oy=Zg=0,Wy(cp[1])}function Wy(e){Wg&&!iy&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Qu("progress_bar_steps",Dn+e/60+Rn):Qu("progress_bar_steps",e?Dn+e+qn:Dn+cp[1]+qn)}function Ky(){Qu("progress_bar_jump_to",_e+" ("+(Wg<0?"-":"")+Zp(Math.abs(Wg))+")"+fe+Zp(dy))}function Zy(e,t){var n=Gu?Android.gettime()/1e3:0;window.clearTimeout(kg),Kg=!0,Zg<cp.length-1&&oy++%6==0&&Zg++,Wg+=cp[Zg]*e,dy=n+Wg,Ng&&(dy=10*Math.floor(dy/10)),t<dy?(Wg=t-n-cp[1],dy=n+Wg,oy=Zg=0):dy<0&&(Wg=0-n,dy=oy=Zg=0),Ky(),Zm.style.width=dy/t*100+"%",Wy(cp[Zg]*e),kg=window.setTimeout(Yy,1e3)}function $y(){var e=Gu?parseInt(Android.gettime()/1e3):0,t="#"+Xc.ChannelVod_vodId;300<e&&e<Fd-300?(ty[t]&&delete ty[t],ty[t]=e,Df("PlayVod_VodIds",JSON.stringify(ty))):Fd-300<e&&ty[t]&&(delete ty[t],Df("PlayVod_VodIds",JSON.stringify(ty)))}function Qy(){ty=Rf("PlayVod_VodIds",{});var e=eb();250<e&&tb(e-250)}function eb(){var e=0;for(var t in ty)ty.hasOwnProperty(t)&&e++;return e}function tb(e){var t=0;for(var n in ty){if(!(t<e))break;delete ty[n],t++}Df("PlayVod_VodIds",JSON.stringify(ty))}function nb(){ju("scene_channel_panel_bottom"),Ny(!1),$u("dialog_vod_saved_text",wn+$p(1e3*ty["#"+Xc.ChannelVod_vodId])),Yu("dialog_vod_start")}function ib(){Ay(),ju("dialog_vod_start"),sb(),window.setTimeout(function(){Yu("scene_channel_panel_bottom")},1e3)}function ab(){return Wu("dialog_vod_start")}function sb(){db(),ny=0,ob()}function ob(){Ku("dialog_vod_"+ny,"dialog_end_icons_focus")}function db(){Zu("dialog_vod_"+ny,"dialog_end_icons_focus")}function lb(e){ib(),e?(delete ty["#"+Xc.ChannelVod_vodId],Xc.vodOffset=0,uy()):(Xc.vodOffset=ty["#"+Xc.ChannelVod_vodId],ey=1e3*Xc.vodOffset,Xy(Xc.vodOffset,Fd,!0),_y())}function rb(e){if(Ig===uh||ab())switch(e.keyCode){case Si:Xv()?lh&&(Qv(),lh--,Zv()):oh&&!yv()&&Iv()?($m++,Uv()):yv()&&!ab()?(Cv(),iy?(qv(),5<++Dh&&(Dh=1),Dv()):(Zy(-1,Fd),sy=2500),Ry()):ab()?(db(),ny?ny--:ny++,ob()):Jv()?(ag(),ng(),--Xh<0&&(Xh=3),1===Xh&&(Xh=0),tg()):ab()||Ny(!0);break;case Pi:Xv()?lh<PM-1&&(Qv(),lh++,Zv()):!oh||yv()||Jv()?yv()&&!ab()?(Cv(),iy?(qv(),--Dh<1&&(Dh=5),Dv()):(Zy(1,Fd),sy=2500),Ry()):ab()?(db(),ny?ny--:ny++,ob()):Jv()?(ag(),ng(),3<++Xh&&(Xh=0),1===Xh&&(Xh=2),tg()):ab()||Ny(!0):Df("ChatEnable",(bh=Iv()||Jv()?(Sv(),!1):(xv(),!0))?"true":"false");break;case Ii:Jv()?ag():yv()&&!ab()?(2===iy&&1!==Dh?(iy--,qy()):1===iy?(iy--,qy()):0<Ug&&1===Dh&&(Ug--,Vy()),Cv(),Ry()):Xv()?Xv()?Kv():ab()||Ny(!0):jv();break;case Li:Jv()?ag():yv()&&!ab()?(iy?1===iy?(iy++,qy()):Ug<Jy()-1&&1===Dh&&(Ug++,Vy()):(iy++,qy()),Cv(),Ry()):Xv()?Yv():oh&&Iv()?(4<++nh?Ov(!(nh=1)):4===nh&&Ov(!0),Bv(!0)):ab()||Ny(!0);break;case Ti:ab()?lb(ny):Jv()?sg(2):yv()?iy?1===iy?(Xc.Play_ChatForceDisable&&(Yp()?Yl(Pl):Wl()),Jv()||Nv(2)):ug(2):(Cv(),Ry(),Wg&&jy()):Xv()?(tv(),rf(lh,FM,wg)):Ny(!0);break;case Bi:bg(!0);break;case Ei:case Mi:case xi:Xc.Play_ChatForceDisable&&(Yp()?Yl(Pl):Wl()),Jv()||Nv(2)}else switch(e.keyCode){case Bi:fv()?(_v(),Oy()):uv()}}var cb={};function ub(){console.log("InitScreens place holder")}function _b(){Kb(),Zb(),$b(),Qb(),ew()}function fb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function mb(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function hb(){au=-1,Xc.Main_Go=cb.screen,cb.label_init(),document.body.addEventListener("keydown",Gb,!1),cb.status?(z_(cb.posY),Yu(cb.ids[10]),l_(cb.posX,cb.posY,cb.ColoumnsCount,cb.itemsCount),xb(),L_()):vb()}function pb(){au=0,cb.label_exit(),document.body.removeEventListener("keydown",Gb),ju(cb.ids[10])}function vb(){H_(cb.table),ju(cb.ids[10]),__(),e_(),cb.cursor=null,cb.status=!1,cb.row=document.createElement("div"),cb.MaxOffset=0,cb.TopRowCreated=!1,cb.offset=0,cb.idObject={},cb.FirstLoad=!0,cb.itemsCount=0,cb.posX=0,cb.posY=0,cb.row_id=0,cb.coloumn_id=0,cb.data=null,cb.data_cursor=0,cb.dataEnded=!1,d_(),gf(function(){gb(),yb()})}function gb(){cb.loadingData=!0,cb.loadingDataTry=0,cb.loadingDataTimeout=3500}function yb(){var e;if(cb.set_url(),Gu){if(!(e=Android.mreadUrl(cb.url,cb.loadingDataTimeout,2,null)))return void bb();200===(e=JSON.parse(e)).status?cb.concatenate(e.responseText):bb()}else(e=new XMLHttpRequest).open("GET",cb.url,!0),e.timeout=cb.loadingDataTimeout,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Mu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?cb.concatenate(e.responseText):bb())},e.send(null)}function bb(){cb.loadingDataTry++,cb.loadingDataTry<cb.loadingDataTryMax?(cb.loadingDataTimeout+=500,yb()):(cb.loadingData=!1,cb.itemsCount?cb.dataEnded=!0:(cb.FirstLoad=!1,t_(),u_(T)))}function wb(){var e=cb.data.length-cb.data_cursor;if(e>cb.ItemsLimit?e=cb.ItemsLimit:cb.dataEnded=!0,e){var t=Math.ceil(e/cb.ColoumnsCount),n=cb.row_id+t;if(cb.HasSwitches&&!cb.TopRowCreated){cb.TopRowCreated=!0,cb.row=document.createElement("div");var i='<i class="icon-history stream_channel_fallow_icon"></i>'+yi+yi+f;(eu=document.createElement("div")).setAttribute("id",cb.ids[8]+"y_0"),eu.className="stream_cell_period",eu.innerHTML='<div id="'+cb.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+cb.ids[3]+'y_0" class="stream_channel_fallow_game">'+i+"</div></div>",cb.row.appendChild(eu),document.getElementById(cb.table).appendChild(cb.row)}for(cb.row_id;cb.row_id<n;cb.row_id++){for(cb.coloumn_id===cb.ColoumnsCount&&(cb.row=document.createElement("div"),cb.coloumn_id=0),cb.coloumn_id;cb.coloumn_id<cb.ColoumnsCount&&cb.data_cursor<cb.data.length;cb.data_cursor++)cb.addCell(cb.data[cb.data_cursor]);document.getElementById(cb.table).appendChild(cb.row)}}Eb(!e&&!cb.status)}function kb(e,t,n,i){var a=e+"_"+t;return R_(n[1]+a,i),e<cb.ColoumnsCount&&J_(i),(eu=document.createElement("div")).style.cssText=cb.ThumbCssText,a}function Cb(e,t,n,i,a,s){var o=kb(e,t,n,i);return eu.setAttribute("id",n[5]+o),eu.setAttribute(Iu,a),eu.innerHTML='<div id="'+n[0]+o+'" class="stream_thumbnail_game"><div><img id="'+n[1]+o+'" class="stream_img"></div><div id="'+n[2]+o+'" class="stream_text2"><div id="<div id="'+n[3]+o+'" class="stream_channel">'+a+'</div><div id="'+n[4]+o+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+s+"</div></div></div>",eu}function Mb(e,t,n,i,a,s,o,d,l,r,c,u,_,f,m,h){var p=kb(e,t,n,i);return eu.setAttribute("id",n[8]+p),eu.setAttribute(Iu,JSON.stringify([c,r,o[2],u,a,_,f,m,h,o[0],l,o[1]+o[2]])),eu.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+s[0]+s[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Zp(r)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+o[0]+ai+o[1]+o[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+q+"</div></div></div>",eu}function Eb(e){gf(function(){cb.status?(D_(cb.img_404),l_(cb.posX,cb.posY,cb.ColoumnsCount,cb.itemsCount)):(t_(),(cb.emptyContent=e)?u_(cb.empty_str()):(cb.status=!0,D_(cb.img_404),xb(),L_()),Yu(cb.ids[10]),cb.FirstLoad=!1)})}function xb(){cb.posY<0?Ib():(cb.addFocus(cb.posY,cb.posX,cb.ids,cb.ColoumnsCount,cb.itemsCount),cb.posY+cb.ItemsReloadLimit>cb.itemsCount/cb.ColoumnsCount&&cb.data_cursor<cb.data.length&&(q_(),cb.loadDataSuccess()),cb.data_cursor+Hb>cb.data.length&&!cb.dataEnded&&!cb.loadingData&&(gb(),yb()),Wc&&hf(cb.posY+"_"+cb.posX,cb.ids))}function Sb(e,t){hf(cb.posY+"_"+cb.posX,cb.ids),cb.posY+=e,cb.posX=t,xb()}function Ib(){Ku(cb.ids[0]+"y_0",Su)}function Pb(){Zu(cb.ids[0]+"y_0",Su)}function Lb(e){y_()?g_():h_()?m_():(e===cb.screen?Xc.Main_Go=Cc:Xc.Main_Go=e,pb())}function Tb(e){if(!cb.HasSwitches||cb.posY||-1!==e||cb.emptyContent){if(cb.HasSwitches&&-1===cb.posY)cb.posY=0,xb(),Pb();else for(var t=0;t<cb.ColoumnsCount;t++)if(E_(cb.posY+e,cb.posX-t,cb.ids[0])){Sb(e,cb.posX-t);break}}else hf(cb.posY+"_"+cb.posX,cb.ids),cb.posY=-1,Ib()}function Bb(e,t){E_(cb.posY,cb.posX+e,cb.ids[0])?Sb(0,cb.posX+e):E_(cb.posY+e,t,cb.ids[0])&&Sb(e,t)}function Gb(e){if(!cb.FirstLoad&&!sf())switch(af(),e.keyCode){case Bi:cb.key_exit();break;case Si:Bb(-1,cb.ColoumnsCount-1);break;case Pi:Bb(1,0);break;case Ii:Tb(-1);break;case Li:Tb(1);break;case Ei:case Mi:case xi:case Ti:cb.key_play()}}cb.FirstLoad=!1;var Ob,Ub,Fb,Ab,Nb,Hb=100,Db=3,qb="",Rb="",zb="",Vb="",Jb="",Xb="",jb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:wb,ThumbPading:Db,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: "+this.ThumbPading+"px;"}},Yb={ThumbSize:32.65,ItemsLimit:ru,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:uu,ColoumnsCount:cu,addFocus:df,cursor:null,key_refresh:vb,period:["day","week","month","all"],img_404:Nu,empty_str:function(){return B+A},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),vb()):uf(this.posY+"_"+this.posX,this.ids,Gb)},addCell:function(e){cb.idObject[e.tracking_id]||(cb.itemsCount++,cb.idObject[e.tracking_id]=1,cb.row.appendChild(Mb(cb.row_id,cb.coloumn_id,cb.ids,e.thumbnails.medium,e.broadcaster.display_name,[an,F_(e.created_at)],[gC.parse(e.title),p,e.game],k_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),cb.coloumn_id++)}},Wb={ThumbSize:19.35,ItemsLimit:_u,ItemsReloadLimit:mu,ColoumnsCount:fu,addFocus:lf,img_404:Fu,empty_str:function(){return B+$}};function Kb(){(Ob=mb(Ob=mb({ids:fb("Clip"),table:"stream_table_clip",screen:Dc,periodPos:qf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Hb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==nu?"&language="+nu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),cb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),cb.loadingData=!1},SetPeriod:function(){$u("top_bar_clip",A+U_(gc[this.periodPos-1])),Df("Clip_periodPos",this.periodPos)},label_init:function(){Xc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ku("top_bar_clip","icon_center_focus"),Xu("label_refresh","icon-refresh",t+Xt)},label_exit:function(){G_(),Zu("top_bar_clip","icon_center_focus"),Xu("label_refresh","icon-refresh",t+Xt)},key_exit:function(){y_()?g_():h_()?m_():(this.itemsCount&&hf(this.posY+"_"+this.posX,this.ids),Of(Gb))}},jb),Yb)).set_ThumbSize()}function Zb(){(Ub=mb(Ub=mb({ids:fb("ChannelClip"),table:"stream_table_channel_clip",screen:Uc,periodPos:qf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Xc.Main_selectedChannel)+"&limit="+Hb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),cb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),cb.loadingData=!1},SetPeriod:function(){$u("top_bar_game",A+gc[this.periodPos-1]),Df("ChannelClip_periodPos",this.periodPos)},label_init:function(){Xc.Main_CenterLablesVectorPos=1,!Xc.Search_isSearching&&Xc.Main_selectedChannel_id&&kd(),Xc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),O_(),this.SetPeriod(),Qu("top_bar_user",Xc.Main_selectedChannelDisplayname),Xu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Xc.Main_selectedChannel},label_exit:G_,key_exit:function(){y_()?g_():h_()?m_():(this.itemsCount&&hf(this.posY+"_"+this.posX,this.ids),Of(Gb))}},jb),Yb)).set_ThumbSize()}function $b(){(Fb=mb(Fb=mb({ids:fb("AGameClip"),table:"stream_table_a_game_clip",screen:Rc,periodPos:qf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Xc.Main_gameSelected)+"&limit="+Hb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==nu?"&language="+nu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),cb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),cb.loadingData=!1},SetPeriod:function(){$u("top_bar_game",w+U_(A+gc[this.periodPos-1]+": "+Xc.Main_gameSelected)),Df("AGameClip_periodPos",this.periodPos)},label_init:function(){Xc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ku("top_bar_game","icon_center_focus"),Xu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Xc.Main_gameSelected&&(this.status=!1),this.gameSelected=Xc.Main_gameSelected},label_exit:function(){Zu("top_bar_game","icon_center_focus"),$u("top_bar_game",m),Xu("label_side_panel","icon-ellipsis",Fn)},key_exit:function(){y_()?g_():h_()?m_():(this.itemsCount&&hf(this.posY+"_"+this.posX,this.ids),Of(Gb))}},jb),Yb)).set_ThumbSize()}function Qb(){(Ab=mb(Ab=mb({ids:fb("Game"),table:"stream_table_games",screen:Ec,key_refresh:vb,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Hb,set_url:function(){this.offset&&this.offset+Hb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),cb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.top,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),cb.loadingData=!1},label_init:function(){Xc.Main_CenterLablesVectorPos=3,Ku("top_bar_game","icon_center_focus")},label_exit:function(){Zu("top_bar_game","icon_center_focus")},key_exit:function(){y_()?g_():h_()?m_():(this.itemsCount&&hf(this.posY+"_"+this.posX,this.ids),Of(Gb))},key_play:function(){Xc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Iu),document.body.removeEventListener("keydown",Gb),Xc.Main_BeforeAgame=this.screen,Xc.Main_Go=xc,Xc.Main_BeforeAgameisSet=!0,Cs=!1,pb(),P_(),hf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){cb.idObject[e.game._id]||(cb.itemsCount++,cb.idObject[e.game._id]=1,cb.row.appendChild(Cb(cb.row_id,cb.coloumn_id,cb.ids,e.game.box.template.replace("{width}x{height}",xu),e.game.name,k_(e.channels)+" "+x+v+k_(e.viewers)+R)),cb.coloumn_id++)}},jb),Wb)).set_ThumbSize()}function ew(){(Nb=mb(Nb=mb({ids:fb("UserGames"),table:"stream_table_user_games",screen:Pc,isLive:zf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Hb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Aa[Xc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Hb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,$u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+" "+(this.isLive?$:Vt))),vb(),Df("user_Games_live",this.isLive?"true":"false"),zE()},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.follows),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),cb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.follows,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),cb.loadingData=!1},label_init:function(){Xc.Main_CenterLablesVectorPos=1,Xu("label_refresh","icon-refresh",Jt+$+"/"+Vt+":"+Xt),Xu("label_side_panel","icon-arrow-circle-left",I),Ku("top_bar_user","icon_center_focus"),this.OldUserName!==Aa[Xc.Users_Position].name&&(this.status=!1),this.OldUserName=Aa[Xc.Users_Position].name,$u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+" "+(this.isLive?$:Vt)))},label_exit:function(){Xc.Users_Position=0,Zu("top_bar_user","icon_center_focus"),Xu("label_refresh","icon-refresh",t+Xt),Qu("top_bar_user",u),Xu("label_side_panel","icon-ellipsis",Fn)},key_exit:function(){y_()?g_():h_()?m_():(this.itemsCount&&hf(this.posY+"_"+this.posX,this.ids),Of(Gb))},key_play:function(){Xc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Iu),document.body.removeEventListener("keydown",Gb),Xc.Main_BeforeAgame=this.screen,Xc.Main_Go=xc,Xc.Main_BeforeAgameisSet=!0,Cs=!1,pb(),P_()},addCell:function(e){var t=this.isLive?e.game:e;cb.idObject[t._id]||(cb.itemsCount++,cb.idObject[t._id]=1,cb.row.appendChild(Cb(cb.row_id,cb.coloumn_id,cb.ids,t.box.template.replace("{width}x{height}",xu),t.name,this.isLive?k_(e.channels)+" "+x+v+k_(e.viewers)+R:"")),cb.coloumn_id++)}},jb),Wb)).set_ThumbSize()}var tw=0,nw=0,iw=!1,aw=0,sw={},ow=[],dw=!1,lw=0,rw=5,cw=3500,uw=0,_w=0,fw=!1,mw=!1,hw="",pw=!1,vw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function gw(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Nc,Xc.isLastSChannels=!0,Xc.Search_isSearching=!0,hw!==Xc.Search_data&&(mw=!1),O_(),$u("top_bar_user",n+U_(x+" '"+Xc.Search_data+"'")),document.body.addEventListener("keydown",Bw,!1),mw?(z_(tw),Yu(vw[6]),l_(nw,tw,pu,aw),Lw(),L_()):bw()}function yw(){G_(),document.body.removeEventListener("keydown",Bw),ju(vw[6])}function bw(){H_("stream_table_search_channel"),ju(vw[6]),e_(),__(),hw=Xc.Search_data,mw=!1,sw={},aw=_w=uw=0,tw=nw=0,iw=!(Bf=!(pw=!(ow=[]))),d_(),gf(function(){ww(),kw()})}function ww(){q_(),dw=!0,lw=0,cw=3500}function kw(){var e=aw+uw;e&&_w-1<e&&(e=_w-hu,iw=!0),Xf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Xc.Search_data)+"&limit="+hu+"&offset="+e,cw,2,null,Mw,Cw)}function Cw(){++lw<rw?(cw+=500,kw()):(dw=!1,aw?(iw=!0,xw()):(Bf=!1,t_(),u_(T)))}function Mw(e){var t=JSON.parse(e),n=t.channels.length;_w=parseInt(t._total),n<hu&&(iw=!0);var i=aw;fw=!(aw+=n);var a=n/pu;0<n%pu&&a++;for(var s,o,d,l,r,c=0,u=0;u<a;u++){for(o=i/pu+u,d=document.createElement("tr"),s=0;s<pu&&c<n;s++,c++)r=(l=t.channels[c])._id,sw[r]?s--:(sw[r]=1,d.appendChild(Ew(o,o+"_"+s,[l.name,r,l.logo,l.display_name])));for(;s<pu;s++)iw&&!pw&&(pw=!0,aw=o*pu+s),d.appendChild(X_(vw[5]+o+"_"+s)),ow.push(vw[5]+o+"_"+s);document.getElementById("stream_table_search_channel").appendChild(d)}xw()}function Ew(e,t,n){return e<4&&J_(n[2]),j_(t,vw,n)}function xw(){gf(function(){if(mw){if(D_(Au),0<ow.length&&!iw)return ww(),void Sw();l_(nw,tw,pu,aw),ow=[]}else t_(),fw?u_(d):(mw=!0,D_(Au),Lw(),L_()),Yu(vw[6]),Bf=!1;dw=!1})}function Sw(){c_(ow.length);var e=aw+uw;e&&_w-1<e&&(e=_w-gu,iw=!0),Xf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Xc.Search_data)+"&limit="+gu+"&offset="+e,cw,2,null,Pw,Iw)}function Iw(){++lw<rw?(cw+=500,Sw()):(iw=!0,aw-=ow.length,ow=[],xw())}function Pw(e){var t,n,i=JSON.parse(e),a=i.channels.length,s=0,o=0,d=[];for(_w=parseInt(i._total),a<gu&&(iw=!0);s<ow.length&&o<a;s++,o++)n=(t=i.channels[o])._id,sw[n]?s--:(sw[n]=1,Y_(ow[s],[t.name,n,t.logo,t.display_name],vw),d.push(s));for(s=d.length-1;-1<s;s--)ow.splice(d[s],1);uw+=o,iw&&(aw-=ow.length,ow=[]),xw()}function Lw(){of(tw,nw,vw,pu,aw),aw/pu<tw+vu&&!iw&&!dw&&(ww(),kw()),Wc&&Tw()}function Tw(){aw&&hf(tw+"_"+nw,vw)}function Bw(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(Tw(),Of(Bw));break;case Si:if(E_(tw,nw-1,vw[0]))Tw(),nw--,Lw();else for(t=pu-1;-1<t;t--)if(E_(tw-1,t,vw[0])){Tw(),tw--,nw=t,Lw();break}break;case Pi:E_(tw,nw+1,vw[0])?(Tw(),nw++,Lw()):E_(tw+1,0,vw[0])&&(Tw(),tw++,nw=0,Lw());break;case Ii:for(t=0;t<pu;t++)if(E_(tw-1,nw-t,vw[0])){Tw(),tw--,nw-=t,Lw();break}break;case Li:for(t=0;t<pu;t++)if(E_(tw+1,nw-t,vw[0])){Tw(),tw++,nw-=t,Lw();break}break;case Ei:case Mi:case xi:case Ti:Xc.Main_selectedChannel=document.getElementById(vw[4]+tw+"_"+nw).getAttribute(Iu),Xc.Main_selectedChannel_id=document.getElementById(vw[4]+tw+"_"+nw).getAttribute("data-id"),Xc.Main_selectedChannelDisplayname=document.getElementById(vw[3]+tw+"_"+nw).textContent,document.body.removeEventListener("keydown",Bw),Xc.Main_BeforeChannel=Nc,Xc.Main_Go=Gc,Xc.Main_BeforeChannelisSet=!0,qo=Ri=!1,ju(vw[6]),P_()}}var Gw=!1,Ow=0,Uw=0,Fw=0,Aw=0,Nw=5,Hw=3500,Dw=0,qw=0,Rw=!1,zw=!1,Vw="",Jw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Xw(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Tc,Xc.Search_isSearching=!0,O_(),Vw!==Xc.Search_data&&(Gw=!1),$u("top_bar_user",n+U_(m+" '"+Xc.Search_data+"'")),document.body.addEventListener("keydown",ik,!1),Gw?(z_(Ow),Yu(Jw[7]),l_(Uw,Ow,fu,Fw),tk(),L_()):Yw()}function jw(){Xc.Search_isSearching||G_(),document.body.removeEventListener("keydown",ik),Xc.Games_return=!1,ju(Jw[7])}function Yw(){H_("stream_table_search_game"),ju(Jw[7]),e_(),__(),Vw=Xc.Search_data,zw=Gw=!1,Ow=Uw=Fw=qw=Dw=0,d_(),gf(function(){Ww(),Kw()})}function Ww(){q_(),Bf=!0,Aw=0,Hw=3500}function Kw(){Xf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Xc.Search_data),Hw,2,null,$w,Zw)}function Zw(){++Aw<Nw?(Hw+=500,Kw()):(Bf=!1,Fw?ek():(t_(),u_(T)))}function $w(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Fw;Rw=!(Fw+=n);var a=n/fu;0<n%fu&&a++;for(var s,o,d,l,r=0,c=0;c<a;c++){for(o=i/fu+c,d=document.createElement("tr"),s=0;s<fu&&r<n;s++,r++)l=t.games[r],d.appendChild(Qw(o,o+"_"+s,[l.name,l.box.template.replace("{width}x{height}",xu),""]));for(;s<fu;s++)zw||(zw=!0,Fw=o*fu+s),d.appendChild(X_(Jw[6]+o+"_"+s));document.getElementById("stream_table_search_game").appendChild(d)}ek()}function Qw(e,t,n){return e<2&&J_(n[1]),Q_(t,Jw,n)}function ek(){gf(function(){Gw||(t_(),Rw?u_(d):(Gw=!0,D_(Nu),tk(),L_())),Yu(Jw[7]),Bf=!1,l_(Uw,Ow,fu,Fw)})}function tk(){lf(Ow,Uw,Jw,fu,Fw),Wc&&nk()}function nk(){Fw&&hf(Ow+"_"+Uw,Jw)}function ik(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(nk(),Of(ik));break;case Si:if(E_(Ow,Uw-1,Jw[0]))nk(),Uw--,tk();else for(t=fu-1;-1<t;t--)if(E_(Ow-1,t,Jw[0])){nk(),Ow--,Uw=t,tk();break}break;case Pi:E_(Ow,Uw+1,Jw[0])?(nk(),Uw++,tk()):E_(Ow+1,0,Jw[0])&&(nk(),Ow++,Uw=0,tk());break;case Ii:for(t=0;t<fu;t++)if(E_(Ow-1,Uw-t,Jw[0])){nk(),Ow--,Uw-=t,tk();break}break;case Li:for(t=0;t<fu;t++)if(E_(Ow+1,Uw-t,Jw[0])){nk(),Ow++,Uw-=t,tk();break}break;case Ei:case Mi:case xi:case Ti:Xc.gameSelectedOld=Xc.Main_gameSelected,jw(),Xc.Main_gameSelected=document.getElementById(Jw[5]+Ow+"_"+Uw).getAttribute(Iu),document.body.removeEventListener("keydown",ik),Xc.Main_Go=xc,Xc.Games_return=!0,P_()}}var ak=0,sk=0,ok=!1;function dk(){__(),ju("label_refresh"),Xu("label_side_panel","icon-arrow-circle-left",I),Qu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",mc.placeholder=k,Ku("top_bar_user","icon_center_focus"),Yu("search_scroll"),sk=ak=0,ck(),_k()}function lk(){fk(!1),document.body.removeEventListener("keydown",uk),ck(),Xc.Main_Go=Xc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Qu("top_bar_user",u),Zu("top_bar_user","icon_center_focus"),Xu("label_side_panel","icon-ellipsis",Fn),Yu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",mc.value="",ju("search_scroll")}function rk(){lk(),gf(function(){sk?1===sk?Xw():2===sk&&Gk():gw()})}function ck(){Zu("chanel_button","button_search_focused"),Zu("game_button","button_search_focused"),Zu("live_button","button_search_focused"),ak&&(sk?1===sk?Ku("game_button","button_search_focused"):2===sk&&Ku("live_button","button_search_focused"):Ku("chanel_button","button_search_focused"))}function uk(e){if(!ok)switch(e.keyCode){case Bi:y_()?g_():h_()?m_():(lk(),P_());break;case Si:1===ak&&(--sk<0&&(sk=2),ck());break;case Pi:1===ak&&(2<++sk&&(sk=0),ck());break;case Ii:1===ak&&(ak=0,ck(),_k());break;case Li:ak?1===ak&&(ak=0,ck(),_k()):(fk(!1),ak=1,ck());break;case Ei:case Mi:case xi:case Ti:ak?""!==mc.value&&null!==mc.value?(Xc.Search_data=mc.value,mc.value="",rk()):(u_(o),window.setTimeout(function(){__()},1e3)):_k()}}function _k(){document.body.removeEventListener("keydown",uk),document.body.addEventListener("keydown",hk,!1),mc.placeholder=k,mc.focus(),ok=!0}function fk(e){mc.blur(),mk(),document.body.removeEventListener("keydown",hk),mc.placeholder=E+k,e&&document.body.addEventListener("keydown",uk,!1),ok=!1}function mk(){if(null!==mc){var e=mc.cloneNode(!0);mc.parentNode.replaceChild(e,mc),mc=document.getElementById("search_input")}}function hk(e){switch(e.keyCode){case Bi:h_()?m_():y_()?g_():(lk(),P_());break;case Fi:mc.value="";break;case Oi:case Li:fk(!0),ak=1,ck();break;case Gi:mc.value=mc.value.slice(0,-1);break;case Ui:mc.value+=" "}}var pk=0,vk=0,gk=!1,yk=0,bk={},wk=[],kk=!1,Ck=0,Mk=5,Ek=3500,xk=0,Sk=0,Ik=!1,Pk=!1,Lk=!1,Tk="",Bk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Gk(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Bc,Xc.Search_isSearching=!0,O_(),Tk!==Xc.Search_data&&(Pk=!1),$u("top_bar_user",n+U_(_+" '"+Xc.Search_data+"'")),document.body.addEventListener("keydown",Xk,!1),Pk?(z_(pk),Yu(Bk[10]),l_(vk,pk,cu,yk),Vk(),L_()):Uk()}function Ok(){G_(),document.body.removeEventListener("keydown",Xk),ju(Bk[10])}function Uk(){H_("stream_table_search_live"),ju(Bk[10]),e_(),__(),Tk=Xc.Search_data,Pk=!1,Sk=xk=0,bk={},pk=vk=yk=0,gk=!(Bf=!(Lk=!(wk=[]))),d_(),gf(function(){Fk(),Ak()})}function Fk(){q_(),kk=!0,Ck=0,Ek=3500}function Ak(){var e=yk+xk;e&&Sk-1<e&&(e=Sk-ru,gk=!0),Xf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Xc.Search_data)+"&limit="+ru+"&offset="+e,Ek,2,null,Hk,Nk)}function Nk(){++Ck<Mk?(Ek+=500,Ak()):(kk=!1,yk?(gk=!0,Dk()):(Bf=!1,t_(),u_(T)))}function Hk(e){var t=JSON.parse(e),n=t.streams.length;Sk=parseInt(t._total),n<ru&&(gk=!0);var i=yk;Ik=!(yk+=n);var a=n/cu;0<n%cu&&a++;for(var s,o,d,l,r,c=0,u=0;u<a;u++){for(o=i/cu+u,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,bk[r]?s--:(bk[r]=1,d.appendChild(K_(o,o+"_"+s,[l.channel.name,r],Bk,[l.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Qp(l.created_at)+b+", "+v+k_(l.viewers)+R,C_(l.video_height,l.average_fps,l.channel.language)])));for(;s<cu;s++)gk&&!Lk&&(Lk=!0,yk=o*cu+s),d.appendChild(X_(Bk[9]+o+"_"+s)),wk.push(Bk[9]+o+"_"+s);document.getElementById("stream_table_search_live").appendChild(d)}Dk()}function Dk(){gf(function(){if(Pk){if(D_(Nu),0<wk.length&&!gk)return Fk(),void qk();l_(vk,pk,cu,yk),wk=[]}else t_(),Ik?u_(d):(Pk=!0,D_(Nu),Vk(),L_()),Yu(Bk[10]),Bf=!1;kk=!1})}function qk(){c_(wk.length);var e=yk+xk;e&&Sk-1<e&&(e=Sk-gu,gk=!0),Xf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Xc.Search_data)+"&limit="+gu+"&offset="+e,Ek,2,null,zk,Rk)}function Rk(){++Ck<Mk?(Ek+=500,qk()):(gk=!0,yk-=wk.length,wk=[],Dk())}function zk(e){var t,n,i=JSON.parse(e),a=i.streams.length,s=0,o=0,d=[];for(Sk=parseInt(i._total),a<gu&&(gk=!0);s<wk.length&&o<a;s++,o++)n=(t=i.streams[o]).channel._id,bk[n]?s--:(bk[n]=1,Z_(wk[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qp(t.created_at)+b+", "+v+k_(t.viewers)+R,C_(t.video_height,t.average_fps,t.channel.language)],Bk),d.push(s));for(s=d.length-1;-1<s;s--)wk.splice(d[s],1);xk+=o,gk&&(yk-=wk.length,wk=[]),Dk()}function Vk(){df(pk,vk,Bk,cu,yk),yk/cu<pk+uu&&!gk&&!kk&&(Fk(),Ak()),Wc&&Jk()}function Jk(){yk&&hf(pk+"_"+vk,Bk)}function Xk(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(Jk(),Of(Xk));break;case Si:if(E_(pk,vk-1,Bk[0]))Jk(),vk--,Vk();else for(t=cu-1;-1<t;t--)if(E_(pk-1,t,Bk[0])){Jk(),pk--,vk=t,Vk();break}break;case Pi:E_(pk,vk+1,Bk[0])?(Jk(),vk++,Vk()):E_(pk+1,0,Bk[0])&&(Jk(),pk++,vk=0,Vk());break;case Ii:for(t=0;t<cu;t++)if(E_(pk-1,vk-t,Bk[0])){Jk(),pk--,vk-=t,Vk();break}break;case Li:for(t=0;t<cu;t++)if(E_(pk+1,vk-t,Bk[0])){Jk(),pk++,vk-=t,Vk();break}break;case Ei:case Mi:case xi:case Ti:rf(pk+"_"+vk,Bk,Xk)}}var jk=0,Yk={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Wk(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Español [ES][ES-MX]","Español - España [ES]","Español - Latinoamérica [ES-MX]","Français [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Português [PT][PT-BR]","Português -Portugal [PT]","Português - Brasil [PT-BR]","Slovenčina [SK]","Suomi [FI]","Svenska [SV]","Tiếng Việt [VI]","Türkçe [TR]","Čeština [CS]","Ελληνικά [EL]","Български [BG]","Русский [RU]","ภาษาไทย [TH]","中文 [ZH-ALL]","中文 简体 [ZH-CN]","中文 繁體 [ZH-TW]","日本語 [JA]","한국어 [KO]","Română [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function Wk(){var e=[],t=43200,n=0;for(Qh=0;n<48;n++)e.push("-"+Zp(t)),t-=900;for(e.push(Zp(0)),t=900,n=0;n<48;n++)e.push(Zp(t)),t+=900;return e}var Kk=[],Zk=0;function $k(){I_(),document.body.addEventListener("keydown",vC,!1),Xu("label_refresh","icon-arrow-circle-left",I),Qu("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ku("top_bar_user","icon_center_focus"),Yu("settings_scroll"),uC(jk=0)}function Qk(){document.body.removeEventListener("keydown",vC),_C(),Qu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Zu("top_bar_user","icon_center_focus"),Xu("label_refresh","icon-refresh",t+Xt),ju("settings_scroll")}function eC(){var e,t="";t+=tC("general",vn),e="content_lang",Kk.push(e),t+=nC(e,Xn),e="clock_offset",Kk.push(e),t+=nC(e,Vn),e="restor_playback",Kk.push(e),Yk[e].values=[Pn,In],t+=iC(e,Ln,Tn),e="videos_animation",Kk.push(e),Yk[e].values=[Pn,In],t+=nC(e,Un),t+=tC("play",un),e="chat_font_size",Kk.push(e),t+=iC(e,Bn,Gn),e="chat_brightness",Kk.push(e),t+=nC(e,ti),e="force_disable_chat",Kk.push(e),Yk[e].values=[Pn,In],$u("settings_main",t+=iC(e,Qn,ei)),Zk=Kk.length}function tC(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function nC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+dC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function iC(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+dC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function aC(e,t,n){$u(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function sC(){var e="";for(e in Qu("setting_title_general",vn),Qu((e="clock_offset")+"_name",Vn),Qu((e="content_lang")+"_name",Xn),Yk[e].values[0]=jn,Qu(e,dC(e)),Qu("setting_title_play",un),aC(e="restor_playback",Ln,Tn),Yk[e].values=[Pn,In],aC(e="chat_font_size",Bn,Gn),aC(e="force_disable_chat",Qn,ei),Yk[e].values=[Pn,In],Qu((e="videos_animation")+"_name",Un),Yk[e].values=[Pn,In],Qu((e="chat_brightness")+"_name",ti),Yk)Yk.hasOwnProperty(e)&&Qu(e,dC(e))}function oC(){for(var e in Yk)Yk[e].defaultValue=qf(e,Yk[e].defaultValue),Yk[e].defaultValue-=1;pC(),th=(.05*rC("chat_brightness")).toFixed(2),dS=rC("videos_animation"),nu=lC("content_lang"),Xc.Play_ChatForceDisable=rC("force_disable_chat")}function dC(e){return Yk[e].values[rC(e)]}function lC(e){return Yk[e].set_values[rC(e)]}function rC(e){return Yk[e].defaultValue}function cC(e){return Yk[e].values.length-1}function uC(e){var t=Kk[jk];Ku(t,"settings_value_focus"),Ku(t+"_div","settings_div_focus"),mC(e)}function _C(){var e=Kk[jk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Zu(e,"settings_value_focus"),Zu(e+"_div","settings_div_focus")}function fC(e){var t=Kk[e];Df(t,rC(t)+1),Qu(t,dC(t)),mC(e),hC(e)}function mC(e){var t=Kk[e],n=rC(t),i=cC(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function hC(e){"content_lang"===(e=Kk[e])?nu=lC("content_lang"):"videos_animation"===e?dS=rC("videos_animation"):"chat_brightness"===e?(th=(.05*rC("chat_brightness")).toFixed(2),Gv(!1)):"force_disable_chat"===e?Xc.Play_ChatForceDisable=rC("force_disable_chat"):"chat_font_size"===e?yp():"clock_offset"===e&&(pC(),bf())}function pC(){var e=rC("clock_offset");Bu=e<48?-9e5*(48-e):9e5*(e-48)}function vC(e){var t;switch(e.keyCode){case Bi:h_()?m_():y_()?g_():(Qk(),P_());break;case Si:0<rC(t=Kk[jk])&&(Yk[t].defaultValue-=1,fC(jk));break;case Pi:rC(t=Kk[jk])<cC(t)&&(Yk[t].defaultValue+=1,fC(jk));break;case Ii:0<jk&&(_C(),uC(--jk));break;case Li:jk<Zk-1&&(_C(),uC(++jk))}}var gC=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(o,""):e,n=[],i=0,a=0,s=0;s<t.length;)i=t.charCodeAt(s++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,o=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),yC=0,bC=0,wC=!1,kC=0,CC=!1,MC=0,EC=5,xC=3500,SC=[],IC=0,PC=!1,LC=!1,TC="",BC=!1,GC=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function OC(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Ac,Xc.isLastSChannels=!1,Xu("label_side_panel","icon-arrow-circle-left",I),Ku("top_bar_user","icon_center_focus"),$u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+Q)),document.body.addEventListener("keydown",XC,!1),TC!==Aa[Xc.Users_Position].name&&(LC=!1),LC?(z_(yC),Yu(GC[6]),l_(bC,yC,pu,kC),VC(),L_()):FC()}function UC(){Xc.Users_Position=0,Zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",XC),Qu("top_bar_user",u),Xu("label_side_panel","icon-ellipsis",Fn),ju(GC[6])}function FC(){H_("stream_table_user_channels"),ju(GC[6]),e_(),__(),TC=Aa[Xc.Users_Position].name,yC=bC=kC=IC=0,BC=wC=LC=!1,Bf=!0,d_(),SC=[],gf(function(){AC(),NC()})}function AC(){q_(),CC=!0,MC=0,xC=3500}function NC(){Xf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Aa[Xc.Users_Position].id)+"/follows/channels?limit=100&offset="+IC+"&sortby=created_at&",xC,2,null,DC,HC)}function HC(){++MC<EC?(xC+=500,NC()):(CC=!1,kC?(wC=!0,zC()):(Bf=!1,t_(),u_(T)))}function DC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel.name+","+t[a].channel._id+","+t[a].channel.logo+","+t[a].channel.display_name,-1===SC.indexOf(i)&&SC.push(i);IC+=n,AC(),NC()}else SC.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),qC()}function qC(){var e=hu,t=kC,n=SC.length-t;n<e&&(e=n),e<hu&&(wC=!0),PC=!(kC+=e);var i=e/pu;0<e%pu&&i++;for(var a,s,o,d=t,l=0;l<i;l++){for(s=t/pu+l,o=document.createElement("tr"),a=0;a<pu&&d<SC.length;a++,d++)o.appendChild(RC(s,s+"_"+a,SC[d].split(",")));for(;a<pu;a++)wC&&!BC&&(BC=!0,kC=s*pu+a),o.appendChild(X_(GC[5]+s+"_"+a));document.getElementById("stream_table_user_channels").appendChild(o)}zC()}function RC(e,t,n){return e<4&&J_(n[2]),j_(t,GC,n)}function zC(){gf(function(){LC?D_(Au):(t_(),PC?u_(B+Q):(LC=!0,D_(Au),VC(),L_()),Yu(GC[6]),Bf=!1),CC=!1,l_(bC,yC,pu,kC)})}function VC(){of(yC,bC,GC,pu,kC),kC/pu<yC+vu&&!wC&&!CC&&(AC(),NC()),Wc&&JC()}function JC(){kC&&hf(yC+"_"+bC,GC)}function XC(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(JC(),Of(XC));break;case Si:if(E_(yC,bC-1,GC[0]))JC(),bC--,VC();else for(t=pu-1;-1<t;t--)if(E_(yC-1,t,GC[0])){JC(),yC--,bC=t,VC();break}break;case Pi:E_(yC,bC+1,GC[0])?(JC(),bC++,VC()):E_(yC+1,0,GC[0])&&(JC(),yC++,bC=0,VC());break;case Ii:for(t=0;t<pu;t++)if(E_(yC-1,bC-t,GC[0])){JC(),yC--,bC-=t,VC();break}break;case Li:for(t=0;t<pu;t++)if(E_(yC+1,bC-t,GC[0])){JC(),yC++,bC-=t,VC();break}break;case Ei:case Mi:case xi:case Ti:Xc.Main_selectedChannel=document.getElementById(GC[4]+yC+"_"+bC).getAttribute(Iu),Xc.Main_selectedChannel_id=document.getElementById(GC[4]+yC+"_"+bC).getAttribute("data-id"),Xc.Main_selectedChannelDisplayname=document.getElementById(GC[3]+yC+"_"+bC).textContent,Xc.Main_selectedChannelLogo=document.getElementById(GC[1]+yC+"_"+bC).src,document.body.removeEventListener("keydown",XC),Xc.Main_BeforeChannel=Ac,Xc.Main_Go=Gc,Xc.Main_BeforeChannelisSet=!0,qo=Ri=!0,ju(GC[6]),P_()}}var jC=0,YC=0,WC=!1,KC=0,ZC={},$C=[],QC=!1,eM=0,tM=5,nM=3500,iM=0,aM=0,sM=!1,oM=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],dM=!1,lM="",rM=!1;function cM(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Ic,Xu("label_side_panel","icon-arrow-circle-left",I),Ku("top_bar_user","icon_center_focus"),$u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+Z)),document.body.addEventListener("keydown",CM,!1),lM!==Aa[Xc.Users_Position].name&&(dM=!1),dM?(z_(jC),Yu(oM[10]),l_(YC,jC,cu,KC),wM(),L_()):_M()}function uM(){Xc.Users_Position=0,Zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",CM),Qu("top_bar_user",u),Xu("label_side_panel","icon-ellipsis",Fn),ju(oM[10])}function _M(){H_("stream_table_user_host"),ju(oM[10]),e_(),__(),lM=Aa[Xc.Users_Position].name,dM=!1,ZC={},KC=aM=iM=0,jC=YC=0,WC=!(Bf=!(rM=!($C=[]))),d_(),gf(function(){fM(),mM()})}function fM(){q_(),QC=!0,eM=0,nM=3500}function mM(){var e=KC+iM;e&&aM-1<e&&(e=aM-ru,WC=!0),Xf("https://api.twitch.tv/api/users/"+encodeURIComponent(Aa[Xc.Users_Position].name)+"/followed/hosting?limit="+ru+"&offset="+e,nM,2,null,pM,hM)}function hM(){++eM<tM?(nM+=500,mM()):(QC=!1,KC?(WC=!0,vM()):(Bf=!1,t_(),u_(T)))}function pM(e){var t=JSON.parse(e),n=t.hosts.length;aM=parseInt(t._total),n<ru&&(WC=!0);var i=KC;sM=!(KC+=n);var a=n/cu;0<n%cu&&a++;for(var s,o,d,l,r,c=0,u=0;u<a;u++){for(o=i/cu+u,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.hosts[c]).target._id+""+l._id,ZC[r]?s--:(ZC[r]=1,d.appendChild(K_(o,o+"_"+s,[l.target.channel.name,l.target._id],oM,[l.target.preview_urls.template.replace("{width}x{height}",Eu),l.display_name+ie+l.target.channel.display_name,l.target.title,l.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+k_(l.target.viewers)+R,""])));for(;s<cu;s++)WC&&!rM&&(rM=!0,KC=o*cu+s),d.appendChild(X_(oM[9]+o+"_"+s)),$C.push(oM[9]+o+"_"+s);document.getElementById("stream_table_user_host").appendChild(d)}vM()}function vM(){gf(function(){if(dM){if(D_(Nu),0<$C.length&&!WC)return fM(),void gM();l_(YC,jC,cu,KC),$C=[]}else t_(),sM?u_(B+Z):(dM=!0,wM(),D_(Nu),L_()),Yu(oM[10]),Bf=!1;QC=!1})}function gM(){c_($C.length);var e=KC+iM;e&&aM-1<e&&(e=aM-gu,WC=!0),Xf("https://api.twitch.tv/api/users/"+encodeURIComponent(Aa[Xc.Users_Position].name)+"/followed/hosting?limit="+gu+"&offset="+e,nM,2,null,bM,yM)}function yM(){++eM<tM?(nM+=500,gM()):(WC=!0,KC-=$C.length,$C=[],vM())}function bM(e){var t,n,i=JSON.parse(e),a=i.streams.length,s=0,o=0,d=[];for(aM=parseInt(i._total),a<gu&&(WC=!0);s<$C.length&&o<a;s++,o++)n=(t=i.hosts[o]).target._id+""+t._id,ZC[n]?s--:(ZC[n]=1,Z_($C[s],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Eu),t.display_name+ie+t.target.channel.display_name,t.target.title,t.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+k_(t.target.viewers)+R,""],oM),d.push(s));for(s=d.length-1;-1<s;s--)$C.splice(d[s],1);iM+=o,WC&&(KC-=$C.length,$C=[]),vM()}function wM(){df(jC,YC,oM,cu,KC),KC/cu<jC+uu&&!WC&&!QC&&(fM(),mM()),Wc&&kM()}function kM(){KC&&hf(jC+"_"+YC,oM)}function CM(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(kM(),Of(CM));break;case Si:if(E_(jC,YC-1,oM[0]))kM(),YC--,wM();else for(t=cu-1;-1<t;t--)if(E_(jC-1,t,oM[0])){kM(),jC--,YC=t,wM();break}break;case Pi:E_(jC,YC+1,oM[0])?(kM(),YC++,wM()):E_(jC+1,0,oM[0])&&(kM(),jC++,YC=0,wM());break;case Ii:for(t=0;t<cu;t++)if(E_(jC-1,YC-t,oM[0])){kM(),jC--,YC-=t,wM();break}break;case Li:for(t=0;t<cu;t++)if(E_(jC+1,YC-t,oM[0])){kM(),jC++,YC-=t,wM();break}break;case Ei:case Mi:case xi:case Ti:rf(jC+"_"+YC,oM,CM)}}var MM,EM,xM,SM=0,IM=5,PM=0,LM=!1,TM="",BM=0,GM=0,OM={},UM=!1,FM=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function AM(){Qa()&&(H_("user_feed_scroll"),ju("user_feed_scroll"),MM=!0,Yu("dialog_loading_feed"),TM="",GM=BM=PM=SM=0,lh=0,OM={},gf(function(){NM(),HM()}))}function NM(){q_(),EM=0,xM=3500}function HM(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Aa[Xc.Users_Position].id)+"/follows/channels?limit=100&offset="+SM+"&sortby=created_at";if(Gu){if(!(e=Android.mreadUrl(t,xM,2,null)))return void DM();200===(e=JSON.parse(e)).status?qM(e.responseText):DM()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=xM,e.setRequestHeader(wu,Mu),e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void qM(e.responseText);DM()}},e.send(null)}function DM(){++EM<IM?(xM+=500,HM()):(MM=!1,PM?(LM=!0,JM()):(ju("dialog_loading_feed"),lv(T),window.setTimeout(function(){rv()},2e3)))}function qM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===TM.indexOf(i)&&(TM+=i);SM+=n,NM(),HM()}else TM=TM.slice(0,-1),NM(),gf(RM)}function RM(){var e=PM+BM;e&&GM-1<e&&(e=GM-ru,LM=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(TM)+"&limit=100&offset="+e+"&stream_type=all";if(Gu){if(!(t=Android.mreadUrl(n,xM,2,null)))return void zM();200===(t=JSON.parse(t)).status?VM(t.responseText):zM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=xM,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void VM(t.responseText);zM()}},t.send(null)}function zM(){++EM<IM?(xM+=500,RM()):(MM=!1,ju("dialog_loading_feed"),lv(T),window.setTimeout(function(){rv()},2e3))}function VM(e){var t=JSON.parse(e),n=t.streams.length;GM=parseInt(t._total),n<ru&&(LM=!0),PM+=n;for(var i,a,s=document.getElementById("user_feed_scroll"),o=0;o<n;o++)a=(i=t.streams[o]).channel._id,OM[a]||(OM[a]=1,s.appendChild(XM(o,[i.channel.name,a],FM,[i.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+Qp(i.created_at)+b+", "+v+k_(i.viewers)+R,C_(i.video_height,i.average_fps,i.channel.language)])));JM()}function JM(){gf(function(){D_(Nu),Zv(),UM=!(MM=!1),ju("dialog_loading_feed"),Yu("user_feed_scroll"),Wv()})}function XM(e,t,n,i){return R_(n[1]+e,i[0]),(eu=document.createElement("div")).setAttribute("id",n[8]+e),eu.setAttribute(Iu,JSON.stringify(t)),eu.className="user_feed_thumb",eu.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+p+i[3]+"</div></div></div>",eu}var jM=0,YM=0,WM=!1,KM=0,ZM={},$M=[],QM=!1,eE=0,tE=5,nE=3500,iE=0,aE=0,sE=0,oE=!1,dE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],lE=!1,rE="",cE="",uE=!1;function _E(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Sc,Xu("label_side_panel","icon-arrow-circle-left",I),Ku("top_bar_user","icon_center_focus"),$u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+K)),document.body.addEventListener("keydown",IE,!1),cE!==Aa[Xc.Users_Position].name&&(lE=!1),lE?(z_(jM),Yu(dE[10]),l_(YM,jM,cu,KM),xE(),L_()):mE()}function fE(){Xc.Users_Position=0,Zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",IE),Qu("top_bar_user",u),Xu("label_side_panel","icon-ellipsis",Fn),ju(dE[10])}function mE(){H_("stream_table_user_live"),ju(dE[10]),e_(),__(),lE=!1,cE=Aa[Xc.Users_Position].name,aE=iE=sE=0,ZM={},jM=YM=KM=0,WM=!(Bf=!(uE=!($M=[]))),rE="",d_(),gf(function(){hE(),pE()})}function hE(){q_(),QM=!0,eE=0,nE=3500}function pE(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Aa[Xc.Users_Position].id)+"/follows/channels?limit=100&offset="+sE+"&sortby=created_at";if(Gu){if(!(e=Android.mreadUrl(t,nE,2,null)))return void vE();200===(e=JSON.parse(e)).status?gE(e.responseText):vE()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=nE,e.setRequestHeader(wu,Mu),e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void gE(e.responseText);vE()}},e.send(null)}function vE(){++eE<tE?(nE+=500,pE()):(QM=!1,KM?(WM=!0,kE()):(Bf=!1,t_(),u_(T)))}function gE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===rE.indexOf(i)&&(rE+=i);sE+=n,hE(),pE()}else rE=rE.slice(0,-1),hE(),gf(yE)}function yE(){var e=KM+iE;e&&aE-1<e&&(e=aE-ru,WM=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(rE)+"&limit="+ru+"&offset="+e+"&stream_type=all";if(Gu){if(!(t=Android.mreadUrl(n,nE,2,null)))return void bE();200===(t=JSON.parse(t)).status?wE(t.responseText):bE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=nE,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void wE(t.responseText);bE()}},t.send(null)}function bE(){++eE<tE?(nE+=500,yE()):(QM=!1,t_(),u_(T))}function wE(e){var t=JSON.parse(e),n=t.streams.length;aE=parseInt(t._total),n<ru&&(WM=!0);var i=KM;oE=!(KM+=n);var a=n/cu;0<n%cu&&a++;for(var s,o,d,l,r,c=0,u=0;u<a;u++){for(o=i/cu+u,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,ZM[r]?s--:(ZM[r]=1,d.appendChild(K_(o,o+"_"+s,[l.channel.name,r],dE,[l.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Qp(l.created_at)+b+", "+v+k_(l.viewers)+R,C_(l.video_height,l.average_fps,l.channel.language)])));for(;s<cu;s++)WM&&!uE&&(uE=!0,KM=o*cu+s),d.appendChild(X_(dE[9]+o+"_"+s)),$M.push(dE[9]+o+"_"+s);document.getElementById("stream_table_user_live").appendChild(d)}kE()}function kE(){gf(function(){if(lE){if(D_(Nu),0<$M.length&&!WM)return hE(),void CE();l_(YM,jM,cu,KM),$M=[]}else t_(),oE?u_(B+K):(lE=!0,xE(),D_(Nu),L_()),Yu(dE[10]),Bf=!1;QM=!1})}function CE(){c_($M.length);var e=KM+iE;e&&aE-1<e&&(e=aE-gu,WM=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(rE)+"&limit="+gu+"&offset="+e+"&stream_type=all";if(Gu){if(!(t=Android.mreadUrl(n,nE,2,null)))return void ME();200===(t=JSON.parse(t)).status?EE(t.responseText):ME()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=nE,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void EE(t.responseText);ME()}},t.send(null)}function ME(){++eE<tE?(nE+=500,CE()):(WM=!0,KM-=$M.length,$M=[],kE())}function EE(e){var t,n,i=JSON.parse(e),a=i.streams.length,s=0,o=0,d=[];for(aE=parseInt(i._total),a<gu&&(WM=!0);s<$M.length&&o<a;s++,o++)n=(t=i.streams[o]).channel._id,ZM[n]?s--:(ZM[n]=1,Z_($M[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),M_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qp(t.created_at)+b+", "+v+k_(t.viewers)+R,C_(t.video_height,t.average_fps,t.channel.language)],dE),d.push(s));for(s=d.length-1;-1<s;s--)$M.splice(d[s],1);iE+=o,WM&&(KM-=$M.length,$M=[]),kE()}function xE(){df(jM,YM,dE,cu,KM),KM/cu<jM+uu&&!WM&&!QM&&(hE(),pE()),Wc&&SE()}function SE(){KM&&hf(jM+"_"+YM,dE)}function IE(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(SE(),Of(IE));break;case Si:if(E_(jM,YM-1,dE[0]))SE(),YM--,xE();else for(t=cu-1;-1<t;t--)if(E_(jM-1,t,dE[0])){SE(),jM--,YM=t,xE();break}break;case Pi:E_(jM,YM+1,dE[0])?(SE(),YM++,xE()):E_(jM+1,0,dE[0])&&(SE(),jM++,YM=0,xE());break;case Ii:for(t=0;t<cu;t++)if(E_(jM-1,YM-t,dE[0])){SE(),jM--,YM-=t,xE();break}break;case Li:for(t=0;t<cu;t++)if(E_(jM+1,YM-t,dE[0])){SE(),jM++,YM-=t,xE();break}break;case Ei:case Mi:case xi:case Ti:rf(jM+"_"+YM,dE,IE)}}var PE=0,LE=0,TE=8,BE=0,GE=null,OE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],UE=!1,FE=!0;function AE(){return Zc?(NE(),void Wi(Zc)):ss()?(Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Fc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",__(),Ku("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",QE,!1),void(UE?(z_(PE),Yu(OE[5]),VE(),L_()):HE())):(Xc.Main_Go=Cc,NE(),void P_())}function NE(){Xc.Users_Position=0,Zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",QE),ju(OE[5]),document.getElementById("screens_holder").style.top="0"}function HE(){H_("stream_table_user"),ju(OE[5]),e_(),__(),Bf=!(UE=!1),FE=!(PE=LE=0),gf(function(){DE()})}function DE(){for(var e,t,n,i=document.createElement("tbody"),a=0;a<Aa.length;a++)t=0,n=a%2?"B5B5B5":"FFFFFF",(eu=document.createElement("tr")).className="follower_header",eu.innerHTML='<div class="follower_header">'+(a?"":oe)+Aa[a].name+N+"</div>",document.getElementById("stream_table_user").appendChild(i),document.getElementById("stream_table_user").appendChild(eu),(e=document.createElement("tr")).appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,Nb.isLive?$:Vt,"gamepad",n)),t++,e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,Zt,"movie-play",n)),t++,e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,a?e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,se,"arrow-up",n)):e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(qE(a+"_"+t,Xc.Main_selectedChannelDisplayname,Aa[a].access_token?bt:yt,"key",n)),document.getElementById("stream_table_user").appendChild(e);RE()}function qE(e,t,n,i,a){return(eu=document.createElement("td")).setAttribute("id",OE[4]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+OE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+OE[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+OE[2]+e+'" class="stream_text"><div id="'+OE[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",eu}function RE(){gf(function(){UE||(t_(),UE=!0,VE(),L_()),Yu(OE[5]),FE=Bf=!1})}function zE(){for(var e=0;e<Aa.length;e++)Qu(OE[3]+e+"_2",Nb.isLive?$:Vt)}function VE(){Ku(OE[0]+PE+"_"+LE,"stream_thumbnail_focused"),V_(PE)?1<PE?E_(PE+1,0,OE[0])&&mf(OE[5],-1*document.getElementById(OE[4]+PE+"_"+LE).offsetTop+500):mf(OE[5],screen.height/100*7):tf(),Wc&&JE()}function JE(){Yc=!1,Zu(OE[0]+PE+"_"+LE,"stream_thumbnail_focused")}function XE(){return Xc.Users_Position=PE,3!==LE||Aa[Xc.Users_Position].access_token?7===LE&&Aa[Xc.Users_Position].access_token?(u_(bt),void window.setTimeout(__,1500)):(6!==LE&&7!==LE&&(ju(OE[5]),document.body.removeEventListener("keydown",QE),document.getElementById("screens_holder").style.top="0"),void gf(function(){LE?1===LE?cM():2===LE?(cb=Nb,hb()):3===LE?bx():4===LE?OC():5===LE?PE?is(PE):(Xc.Main_Before=Fc,qa()):6===LE?WE():7!==LE||Aa[Xc.Users_Position].access_token||WE():_E()})):(u_(xn),void window.setTimeout(__,5e3))}function jE(){window.clearTimeout(GE)}function YE(){GE=window.setTimeout(KE,2e4)}function WE(){YE(),6===LE?$u("main_dialog_remove",Rt+ai+Aa[Xc.Users_Position].name+"?"):7===LE&&$u("main_dialog_remove",_t+" "+Aa[Xc.Users_Position].name+"?"),Yu("main_remove_dialog")}function KE(){jE(),ju("main_remove_dialog"),BE=0,$E()}function ZE(){return Wu("main_remove_dialog")}function $E(){BE?(Zu("remove_cancel","button_search_focused"),Ku("remove_yes","button_search_focused")):(Ku("remove_cancel","button_search_focused"),Zu("remove_yes","button_search_focused"))}function QE(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:ZE()?KE():h_()?m_():y_()?g_():(JE(),Of(QE));break;case Si:if(ZE())--BE<0&&(BE=1),$E(),jE(),YE();else if(E_(PE,LE-1,OE[0]))JE(),LE--,VE();else if(E_(PE-1,0,OE[0])){for(t=TE-1;-1<t;t--)if(E_(PE-1,t,OE[0])){JE(),PE--,LE=t,VE();break}}else JE(),LE=TE-1,VE();break;case Pi:ZE()?(1<++BE&&(BE=0),$E(),jE(),YE()):(E_(PE,LE+1,OE[0])?(JE(),LE++):(E_(PE+1,0,OE[0])?(JE(),PE++):JE(),LE=0),VE());break;case Ii:for(t=0;t<TE;t++)if(E_(PE-1,LE-t,OE[0])){JE(),PE--,LE-=t,VE();break}break;case Li:for(t=0;t<TE;t++)if(E_(PE+1,LE-t,OE[0])){JE(),PE++,LE-=t,VE();break}break;case Ei:case Mi:case xi:case Ti:var n;if(ZE()){if(6===LE)n=BE,KE(),n&&(document.body.removeEventListener("keydown",QE),NE(),ts(PE));else if(n=BE,KE(),n){Xc.Users_AddcodePosition=Xc.Users_Position,L_();var i=Xi,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(yu)+"&redirect_uri="+i+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else XE()}}var ex=0,tx=0,nx=!1,ix=0,ax={},sx=[],ox=!1,dx=0,lx=5,rx=3500,cx=0,ux=0,_x=!1,fx=!1,mx="time",hx=2,px=!1,vx=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],gx=!1,yx=!1;function bx(){Xc.Main_CenterLablesVectorPos=1,Xc.Main_Go=Vc,Ku("top_bar_user","icon_center_focus"),Xu("label_side_panel","icon-arrow-circle-left",I),$u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+(yx?F:U))),document.body.addEventListener("keydown",Nx,!1),gx?(z_(ex),Yu(vx[10]),l_(tx,ex,cu,ix),Hx(),Ox(),L_()):kx()}function wx(){Xc.Users_Position=0,gx&&Ux(),Zu("top_bar_user","icon_center_focus"),Xu("label_side_panel","icon-ellipsis",Fn),document.body.removeEventListener("keydown",Nx),Qu("top_bar_user",u),ju(vx[10])}function kx(){gx&&Ux(),H_("stream_table_user_vod"),ju(vx[10]),e_(),Hx(),__(),px=gx=!1,ux=cx=0,ax={},ex=tx=ix=0,nx=!(Bf=!(fx=!(sx=[]))),gf(function(){d_(),Mx()})}function Cx(){q_(),ox=!0,dx=0,rx=3500}function Mx(){Cx(),Ex()}function Ex(){var e=ix+cx;e&&ux-1<e&&(e=ux-ru,nx=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+ru+"&broadcast_type="+(yx?"highlight":"archive")+"&sort="+mx+"&offset="+e;if(Gu){if(!(t=Android.mreadUrl(n,rx,3,Cu+Aa[Xc.Users_Position].access_token)))return void xx();if(200===(t=JSON.parse(t)).status)return void Ix(t.responseText);401===t.status||403===t.status?Ki(Xc.Users_Position,0,Mx,Sx):xx()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=rx,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.setRequestHeader(ku,Cu+Aa[Xc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void Ix(t.responseText);401===t.status||403===t.status?Ki(Xc.Users_Position,0,Mx,Sx):xx()}},t.send(null)}function xx(){++dx<lx?(rx+=500,Ex()):Sx()}function Sx(){ox=!1,ix?(nx=!0,Px()):(Bf=!1,t_(),u_(T))}function Ix(e){var t=JSON.parse(e),n=t.videos.length;ux=parseInt(t._total),n<ru&&(nx=!0);var i=ix;_x=!(ix+=n);var a=n/cu;0<n%cu&&a++;var s,o,d,l,r,c=0;if(!px){var u;for(px=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+yi+yi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+yi+yi+h,(eu=document.createElement("td")).setAttribute("id",vx[8]+"y_"+_),eu.className="stream_cell",eu.innerHTML='<div id="'+vx[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+vx[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(eu);document.getElementById("stream_table_user_vod").appendChild(d)}for(var _=0;_<a;_++){for(o=i/cu+_,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ax[r]?s--:(ax[r]=1,d.appendChild(pS(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Eu),l.channel.display_name,H+F_(l.created_at),gC.parse(l.title)+ai+Wt+p+l.game,k_(l.views)+q,C_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Zp(l.length),l.animated_preview_url],vx)));for(;s<cu;s++)nx&&!fx&&(fx=!0,ix=o*cu+s),d.appendChild(X_(vx[9]+o+"_"+s)),sx.push(vx[9]+o+"_"+s);document.getElementById("stream_table_user_vod").appendChild(d)}Px()}function Px(){gf(function(){gx?D_(Nu):(t_(),_x?u_(B+(yx?F:U)+G+S):(gx=!0,Ox(),D_(Nu),L_()),Yu(vx[10]),Bf=!1),0<sx.length&&!nx?Lx():(l_(tx,ex,cu,ix),ox=!(sx=[]))})}function Lx(){Cx(),Tx()}function Tx(){c_(sx.length);var e=ix+cx;e&&ux-1<e&&(e=ux-gu,nx=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+gu+"&broadcast_type="+(yx?"highlight":"archive")+"&sort="+mx+"&offset="+e;if(Gu){if(!(t=Android.mreadUrl(n,rx,3,Cu+Aa[Xc.Users_Position].access_token)))return void Bx();if(200===(t=JSON.parse(t)).status)return void Gx(t.responseText);401===t.status||403===t.status?Ki(Xc.Users_Position,0,Mx,Sx):Bx()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=rx,t.setRequestHeader(wu,Mu),t.setRequestHeader(bu,yu),t.setRequestHeader(ku,Cu+Aa[Xc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void Gx(t.responseText);401===t.status||403===t.status?Ki(Xc.Users_Position,0,Mx,Sx):Bx()}},t.send(null)}function Bx(){++dx<lx?(rx+=500,Tx()):(nx=!0,ix-=sx.length,sx=[],Px())}function Gx(e){var t,n,i=JSON.parse(e),a=i.videos.length,s=0,o=0,d=[];for(ux=parseInt(i._total);s<sx.length&&o<a;s++,o++)n=(t=i.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ax[n]?s--:(ax[n]=1,gS(sx[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,H+F_(t.created_at),gC.parse(t.title)+ai+Wt+p+t.game,k_(t.views)+q,C_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Zp(t.length),t.animated_preview_url],vx),d.push(s));for(s=d.length-1;-1<s;s--)sx.splice(d[s],1);cx+=o,nx&&(ix-=sx.length,sx=[]),Px()}function Ox(){ex<0?Fx():(df(ex,tx,vx,cu,ix),IS(vx,ex+"_"+tx),ix/cu<ex+uu&&!nx&&!ox&&Mx(),Wc&&Ux())}function Ux(){window.clearInterval(Dx),-1<ex&&ix?(Yu(vx[1]+ex+"_"+tx),hf(ex+"_"+tx,vx)):Ax()}function Fx(){var e=1<tx?1:tx;Ku(vx[0]+"y_"+e,Su)}function Ax(){var e=1<tx?1:tx;Zu(vx[0]+"y_"+e,Su)}function Nx(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:h_()?m_():h_()?m_():y_()?g_():(Ux(),Of(Nx));break;case Si:if(-1===ex)Ax(),--tx<0&&(tx=1),Fx();else if(ex||tx){if(E_(ex,tx-1,vx[0]))Ux(),tx--,Ox();else for(t=cu-1;-1<t;t--)if(E_(ex-1,t,vx[0])){Ux(),ex--,tx=t,Ox();break}}else Ux(),Ax(),ex=-1,tx=1,Fx();break;case Pi:-1===ex?(Ax(),1<++tx?(tx=0,_x?Fx():(ex=0,Ox())):Fx()):E_(ex,tx+1,vx[0])?(Ux(),tx++,Ox()):E_(ex+1,0,vx[0])&&(Ux(),ex++,tx=0,Ox());break;case Ii:if(-1!==ex||_x)if(ex){for(t=0;t<cu;t++)if(E_(ex-1,tx-t,vx[0])){Ux(),ex--,tx-=t,Ox();break}}else Ux(),ex=-1,Fx();else ex=0,Ax(),Ox();break;case Li:if(-1!==ex||_x){for(t=0;t<cu;t++)if(E_(ex+1,tx-t,vx[0])){Ux(),ex++,tx-=t,Ox();break}}else ex=0,Ax(),Ox();break;case Ei:case Mi:case xi:case Ti:-1===ex?(0===tx?Df("UserVod_highlight",(yx=!yx)?"true":"false"):1===hx?hx++:hx--,kx()):_f(ex+"_"+tx,vx,Nx)}}function Hx(){1===hx?($u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+" "+(yx?F:U)+Mn)),mx="time"):2===hx&&($u("top_bar_user",u+U_(Aa[Xc.Users_Position].name+" "+(yx?F:U)+En)),mx="views"),Df("UserVod_TypeNumber",hx)}var Dx,qx=0,Rx=0,zx=!1,Vx=0,Jx={},Xx=[],jx=!1,Yx=0,Wx=5,Kx=3500,Zx=0,$x=0,Qx=!1,eS=!1,tS="week",nS=2,iS=!1,aS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],sS=!1,oS=!1,dS=1,lS=new Image;function rS(){Xc.Main_CenterLablesVectorPos=4,Xc.Main_Go=Hc,Ku("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",PS,!1),sS?(z_(qx),Yu(aS[10]),l_(Rx,qx,cu,Vx),LS(),MS(),L_()):uS()}function cS(){sS&&ES(),G_(),document.body.removeEventListener("keydown",PS),Zu("top_bar_vod","icon_center_focus"),Qu("top_bar_vod",Zt),ju(aS[10])}function uS(){sS&&ES(),H_("stream_table_vod"),ju(aS[10]),e_(),LS(),__(),iS=sS=!1,$x=Zx=0,Jx={},qx=Rx=Vx=0,zx=!(Bf=!(eS=!(Xx=[]))),d_(),gf(function(){_S(),fS()})}function _S(){q_(),jx=!0,Yx=0,Kx=3500}function fS(){var e=Vx+Zx;e&&$x-1<e&&(e=$x-ru,zx=!0),Xf("https://api.twitch.tv/kraken/videos/top?limit="+ru+"&broadcast_type="+(oS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+tS+(""!==nu?"&language="+nu:""),Kx,2,null,hS,mS)}function mS(){++Yx<Wx?(Kx+=500,fS()):(jx=!1,Vx?(zx=!0,bS()):(Bf=!1,t_(),u_(T)))}function hS(e){var t=JSON.parse(e),n=t.vods.length;$x=parseInt(t._total),n<ru&&(zx=!0);var i=Vx;Qx=!(Vx+=n);var a=n/cu;0<n%cu&&a++;var s,o,d,l,r,c=0;if(!iS){var u;for(iS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+yi+yi+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+yi+yi+h,(eu=document.createElement("td")).setAttribute("id",aS[8]+"y_"+_),eu.className="stream_cell",eu.innerHTML='<div id="'+aS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+aS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(eu);document.getElementById("stream_table_vod").appendChild(d)}for(var _=0;_<a;_++){for(o=i/cu+_,d=document.createElement("tr"),s=0;s<cu&&c<n;s++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||Jx[r]?s--:(Jx[r]=1,d.appendChild(pS(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Eu),l.channel.display_name,H+F_(l.created_at),gC.parse(l.title)+ai+Wt+p+l.game,k_(l.views)+q,C_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Zp(l.length),l.animated_preview_url],aS)));for(;s<cu;s++)zx&&!eS&&(eS=!0,Vx=o*cu+s),d.appendChild(X_(aS[9]+o+"_"+s)),Xx.push(aS[9]+o+"_"+s);document.getElementById("stream_table_vod").appendChild(d)}bS()}function pS(e,t,n,i,a){return e<cu&&J_(i[0]),vS(n,t,i,a)}function vS(e,t,n,i){return(eu=document.createElement("td")).setAttribute("id",i[8]+t),eu.setAttribute(Iu,JSON.stringify(e)),eu.className="stream_cell",eu.innerHTML=yS(t,n,i),eu}function gS(e,t,n,i){var a=document.getElementById(e),s=e.split(i[9])[1];a.setAttribute(Iu,JSON.stringify(t)),a.innerHTML=yS(s,n,i),a.setAttribute("id",i[8]+s)}function yS(e,t,n){return R_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function bS(){gf(function(){if(sS?D_(Nu):(t_(),Qx?u_(B+(oS?F:U)+G+S):(sS=!0,MS(),D_(Nu),L_()),Yu(aS[10]),Bf=!1),0<Xx.length&&!zx)return _S(),void wS();l_(Rx,qx,cu,Vx),jx=!(Xx=[])})}function wS(){c_(Xx.length);var e=Vx+Zx;e&&$x-1<e&&(e=$x-gu,zx=!0),Xf("https://api.twitch.tv/kraken/videos/top?limit="+gu+"&broadcast_type="+(oS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+tS+(""!==nu?"&language="+nu:""),Kx,2,null,CS,kS)}function kS(){++Yx<Wx?(Kx+=500,wS()):(zx=!0,Vx-=Xx.length,Xx=[],bS())}function CS(e){var t,n,i=JSON.parse(e),a=i.vods.length,s=0,o=0,d=[];for($x=parseInt(i._total);s<Xx.length&&o<a;s++,o++)n=(t=i.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Jx[n]?s--:(Jx[n]=1,gS(Xx[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,H+F_(t.created_at),gC.parse(t.title)+ai+Wt+p+t.game,k_(t.views)+q,C_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Zp(t.length),t.animated_preview_url],aS),d.push(s));for(s=d.length-1;-1<s;s--)Xx.splice(d[s],1);Zx+=o,zx&&(Vx-=Xx.length,Xx=[]),bS()}function MS(){qx<0?xS():(df(qx,Rx,aS,cu,Vx),IS(aS,qx+"_"+Rx),Vx/cu<qx+uu&&!zx&&!jx&&(_S(),fS()),Wc&&ES())}function ES(){window.clearInterval(Dx),-1<qx&&Vx?(Yu(aS[1]+qx+"_"+Rx),hf(qx+"_"+Rx,aS)):SS()}function xS(){var e=1<Rx?1:Rx;Ku(aS[0]+"y_"+e,Su)}function SS(){var e=1<Rx?1:Rx;Zu(aS[0]+"y_"+e,Su)}function IS(t,n){if(dS){var i=document.getElementById(t[0]+n);lS.onload=function(){ju(t[1]+n),i.style.backgroundSize="612px";var e=0;Dx=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},lS.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function PS(e){var t;if(!Bf&&!sf())switch(af(),e.keyCode){case Bi:y_()?g_():h_()?m_():(ES(),Of(PS));break;case Si:if(-1===qx)SS(),--Rx<0&&(Rx=1),xS();else if(qx||Rx){if(E_(qx,Rx-1,aS[0]))ES(),Rx--,MS();else for(t=cu-1;-1<t;t--)if(E_(qx-1,t,aS[0])){ES(),qx--,Rx=t,MS();break}}else ES(),SS(),qx=-1,Rx=1,xS();break;case Pi:-1===qx?(SS(),1<++Rx?(Rx=0,Qx?xS():(qx=0,MS())):xS()):E_(qx,Rx+1,aS[0])?(ES(),Rx++,MS()):E_(qx+1,0,aS[0])&&(ES(),qx++,Rx=0,MS());break;case Ii:if(-1!==qx||Qx)if(qx){for(t=0;t<cu;t++)if(E_(qx-1,Rx-t,aS[0])){ES(),qx--,Rx-=t,MS();break}}else ES(),qx=-1,xS();else qx=0,SS(),MS();break;case Li:if(-1!==qx||Qx){for(t=0;t<cu;t++)if(E_(qx+1,Rx-t,aS[0])){ES(),qx++,Rx-=t,MS();break}}else qx=0,SS(),MS();break;case Ei:case Mi:case xi:case Ti:-1===qx?(0===Rx?Df("Vod_highlight",(oS=!oS)?"true":"false"):4<++nS&&(nS=1),uS()):_f(qx+"_"+Rx,aS,PS)}}function LS(){1===nS?($u("top_bar_vod",Zt+U_((oS?F:U)+le)),tS="day"):2===nS?($u("top_bar_vod",Zt+U_((oS?F:U)+re)),tS="week"):3===nS?($u("top_bar_vod",Zt+U_((oS?F:U)+ce)),tS="month"):4===nS&&($u("top_bar_vod",Zt+U_((oS?F:U)+ue)),tS="all"),Df("vod_periodNumber",nS)}