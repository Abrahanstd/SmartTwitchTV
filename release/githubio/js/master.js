var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,C,A,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,J,F,H,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Ae,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Je,Fe,He,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,At,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Jt,Ft,Ht,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,An,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Jn,Fn,Hn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa,da,la,ra="fglfgl27@gmail.com",ca="<br>",ua='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',_a='<div class="about_text_title">',fa='<div class="about_text_title" style="text-align: left;">',ma='<div style="text-align: left;">',ha="",pa="",va="",ga="",ya="",ba="",wa="",ka="",Ca="",Aa="&nbsp;";function Ea(){ha=e+" (C)",pa=n+" (D)",ga=a+" (A)",va=i+" (A)",l+=Zt,r+=Zt,I=ia+oa,ya=_a+e+"</div>"+_a+Ae+"</div>"+ca+ma+ua+xe+ca+ua+(Pe+=Yt)+ca+ua+Le+ca+ua+Te+ca+Be+ca+ua+Oe+ca+Aa+Aa+Aa+Ge+ca+ua+Ue+ca+"</div>"+ca+(ka=_a+ke+"</div>"+ma+ua+nt+ca+ua+$e+ca+ua+et+ca+"</div>"+ma+ua+tt+ca+ua+at+ca+ua+it+ca+ca+_a+Ce+"</div>"+ma+ua+ot+ca+ua+st+ca+ua+dt+ca+ua+lt+ca+ua+rt)+ca+ca+_a+we+"</div>",ba=_a+be+"</div></div>",wa=ma+ca+Re+ca+(_c?ca+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+ca+_a+Ne+"</div>"+ra+ca+ca+Ve+ca+De+ca+ca+fa+Je+"</div>"+ma+We+ca+ua+Fe+ca+ua+He+ca+ua+qe+ca+ua+ze+ca+ua+Xe+ca+ua+Ye+ca+ua+je+ca+Qe+ca+ua+Ze+ca+ua+Ke+ca+_a+we+"</div></div>",Ca=mt+ca+ua+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+ca+ua+pt+ca+ua+vt+ca+ua+gt+ca+ua+yt}function Ma(){Wc=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",C="Type your user name...",A="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ce="Chat Related:",Ae="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",Ct="Key test return OK",At="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+ca+"Chat: Connected."+ca+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",Cn=(kn="From:"+ca)+"Start",An="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness ",sa="Play Next",la="Playing next in ",da="Play All"}var Ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Pa="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",La=51,Ta=52,Ba=179,Oa=37,Ga=38,Ua=39,Ra=40,Na=13,Va=49,Da=8,Ja=13,Fa=32,Ha=46,qa=0,za=5,Xa=1e4,Ya=0,ja=!1,Wa=!1,Qa=!1,Za="",Ka="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",$a="elsu5d09k0xomu7cggx3qg5ybdwu7g",ei="https://id.twitch.tv/oauth2/token?";function ti(e){Vc.Users_Position=Vc.Users_AddcodePosition,Ya=e,Mi(),Wu(),si()}function ni(e,t,n,a){var i=new XMLHttpRequest,o=ei+"grant_type=refresh_token&client_id="+encodeURIComponent(mu)+"&client_secret="+encodeURIComponent($a)+"&refresh_token="+encodeURIComponent(Xi[e].refresh_token)+"&redirect_uri="+Ka;i.open("POST",o,!0),i.timeout=Xa,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ii(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(ri(),a&&a()):ai(e,t,n,a))},i.send(null)}function ai(e,t,n,a){++t<5?ni(e,t,n,a):a&&a()}function ii(e,t,n){var a=JSON.parse(e);oi(a.scope)?(Xi[t].access_token=a.access_token,Xi[t].refresh_token=a.refresh_token,_o()):ri(),n&&n()}function oi(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function si(){var e=ei+"grant_type=authorization_code&client_id="+encodeURIComponent(mu)+"&client_secret="+encodeURIComponent($a)+"&code="+encodeURIComponent(Ya)+"&redirect_uri="+Ka,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Xa,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?ci(t.responseText):di())},t.send(null)}function di(){++qa<za?si():li()}function li(){Qu(),s_(Lt),window.setTimeout(function(){d_(),qc=0,A_(),Vc.Main_Go=xc,window.location=Ka},4e3),Xi[Vc.Users_Position].access_token=0,Xi[Vc.Users_Position].refresh_token=0,_o()}function ri(){qM=!1,Qu(),s_(Lt),Xi[Vc.Users_Position].access_token=0,Xi[Vc.Users_Position].refresh_token=0,_o(),A_(),window.setTimeout(d_,4e3)}function ci(e){var t=JSON.parse(e);Xi[Vc.Users_Position].access_token=t.access_token,Xi[Vc.Users_Position].refresh_token=t.refresh_token,Mi(),ui()}function ui(){Ff("https://api.twitch.tv/kraken?oauth_token="+Xi[Vc.Users_Position].access_token,Xa,0,null,_i,fi)}function _i(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Xi[Vc.Users_Position].name)){if(_o(),qc=0,Qu(),qM=!1,Vc.Main_Go=xc,A_(),s_(wt),Pu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Ka},3e3)}else Xi[Vc.Users_Position].access_token=0,Xi[Vc.Users_Position].refresh_token=0,s_(Gn+Xi[Vc.Users_Position].name),window.setTimeout(function(){d_(),qc=0,A_(),Vc.Main_Go=xc,window.location=Ka},4e3)}function fi(){++qa<za?(Xa+=500,ui()):li()}function mi(){Mi(),ja=!1,hi()}function hi(){var e="https://api.twitch.tv/kraken/users/"+Xi[Vc.Users_Position].id+"/follows/channels/"+Za,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Xa,t.setRequestHeader(hu,mu),t.setRequestHeader(pu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?pi():404===t.status?vi(t.responseText):gi())},t.send(null)}function pi(){ja=!0,Qa?yg():Id()}function vi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ja=!1,Qa?yg():Id()):gi()}function gi(){++qa<za?(Xa+=500,hi()):Qa?yg():Id()}function yi(){Mi(),bi()}function bi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Xi[Vc.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(hu,mu),e.setRequestHeader(pu,yu),e.setRequestHeader("Authorization","OAuth "+Xi[Vc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ja=!0,void(Qa?yg():Id());401===e.status||403===e.status?ni(Vc.Users_Position,0,yi,null):wi()}},e.send(null)}function wi(){++qa<za&&(Xa+=500,bi())}function ki(){Mi(),Ci()}function Ci(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Xi[Vc.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(hu,mu),e.setRequestHeader(pu,yu),e.setRequestHeader("Authorization","OAuth "+Xi[Vc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ja=!1,void(Qa?yg():Id());401===e.status||403===e.status?ni(Vc.Users_Position,0,ki,null):Ai()}},e.send(null)}function Ai(){++qa<za&&(Xa+=500,Ci())}function Ei(){Mi(),Wa=!1,Ii()}function Mi(){qa=0,Xa=1e4}function Ii(){var e,t="https://api.twitch.tv/kraken/users/"+Xi[Vc.Users_Position].id+"/subscriptions/"+Za;if(Pu){if(!(e=Android.mreadUrl(t,Xa,3,Xi[Vc.Users_Position].access_token)))return void Si();if(200===(e=JSON.parse(e)).status)Wa=!0,Ly();else if(422===e.status)Wa=!1,Py();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Py();Si()}else 401===e.status||403===e.status?ni(Vc.Users_Position,0,Ei,xi):Si()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Xa,e.setRequestHeader(hu,mu),e.setRequestHeader(pu,yu),e.setRequestHeader("Authorization","OAuth "+Xi[Vc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Wa=!0,Ly();else if(422===e.status)Wa=!1,Py();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Py();Si()}else 401===e.status||403===e.status?ni(Vc.Users_Position,0,Ei,xi):Si()},e.send(null)}function Si(){++qa<za?(Xa+=500,Ii()):xi()}function xi(){Wa=!1,Py()}function Pi(e){Mi(),Li(e,0)}function Li(e,t){var n,a="https://api.twitch.tv/kraken?oauth_token="+Xi[e].access_token;if(Pu){if(!(n=Android.mreadUrl(a,3500,0,null)))return void Bi(e,t);200===(n=JSON.parse(n)).status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t)}else(n=new XMLHttpRequest).open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t))},n.send(null)}function Ti(e,t){var n=JSON.parse(e);n.token.valid?oi(n.token.authorization.scopes)||ri():(Mi(),ni(t,0,null,null))}function Bi(e,t){++t<za&&Li(e,t)}function Oi(){Mi(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Xi[Vc.Users_Position].name+"/follows/games/"+encodeURIComponent(Vc.Main_gameSelected)+"?oauth_token="+Xi[Vc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(hu,mu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return To=!0,void qo();401===e.status||403===e.status?ni(Vc.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++qa<za&&(Xa+=500,Gi())}function Ri(){Mi(),Ni()}function Ni(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Xi[Vc.Users_Position].name+"/follows/games/"+encodeURIComponent(Vc.Main_gameSelected)+"?oauth_token="+Xi[Vc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(hu,mu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return To=!1,void qo();401===e.status||403===e.status?ni(Vc.Users_Position,0,Ri,null):Vi()}},e.send(null)}function Vi(){++qa<za&&(Xa+=500,Ni())}function Di(){Mi(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Xi[Vc.Users_Position].name+"/follows/games/"+encodeURIComponent(Vc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(hu,mu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(To=!0,void qo()):404===e.status?(To=!1,void qo()):void Fi()},e.send(null)}function Fi(){++qa<za?(Xa+=500,Ji()):(To=!1,qo())}var Hi=0,qi=5,zi=3500,Xi=[],Yi=null,ji=!1,Wi=!1;function Qi(){Vc.Main_Go=vc,qu("top_bar_user","icon_center_focus"),d_(),sc.placeholder=C,Fu("add_user_scroll"),$i()}function Zi(){to(!1),document.body.removeEventListener("keydown",Ki),document.body.removeEventListener("keydown",no),zu("top_bar_user","icon_center_focus"),Ju("add_user_scroll")}function Ki(e){if(!ji&&!Wi&&Vc.Main_Go===vc)switch(e.keyCode){case Va:c_()?r_():m_()?f_():(0<Xi.length&&Vc.Main_Go!==xc?Vc.Main_Go=Vc.Main_Before:Vc.Main_Go=pc,Zi(),k_());break;case Ta:case La:case Ba:case Na:$i()}}function $i(){document.body.removeEventListener("keydown",Ki),document.body.addEventListener("keydown",no,!1),sc.placeholder=C,sc.focus(),Wi=!0}function eo(){if(null!==sc){var e=sc.cloneNode(!0);sc.parentNode.replaceChild(e,sc),sc=document.getElementById("user_input")}}function to(e){sc.blur(),eo(),document.body.removeEventListener("keydown",no),sc.placeholder=A+C,e&&document.body.addEventListener("keydown",Ki,!1),Wi=!1}function no(e){if(!ji&&Vc.Main_Go===vc)switch(e.keyCode){case Va:c_()?r_():m_()?f_():(0<Xi.length&&Vc.Main_Go!==xc?Vc.Main_Go=Vc.Main_Before:Vc.Main_Go=pc,Zi(),k_());break;case Ha:sc.value="";break;case Ja:case Ra:""!==sc.value&&null!==sc.value?mo(Yi=sc.value)?(Qu(),s_(u+Yi+ae),window.setTimeout(function(){d_(),$i()},1500)):(zi=3500,ji=!(Hi=0),Ju("add_user_scroll"),Wu(),ao()):$i();break;case Da:sc.value=sc.value.slice(0,-1);break;case Fa:sc.value+=" "}}function ao(){Ff("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Yi),zi,2,null,io,oo)}function io(e){JSON.parse(e)._total?(sc.value="",document.body.removeEventListener("keydown",Ki),co(e)):so()}function oo(){++Hi<qi?(zi+=500,ao()):so()}function so(){Yi=null,Qu(),s_(te),window.setTimeout(function(){Qi()},1e3),ji=!1}function lo(){if(0<(Xi=Nf("AddUser_UsernameArray",[])).length)for(var e=0;e<Xi.length;e++)Xi[e].access_token&&Pi(e)}function ro(){return 0<Xi.length}function co(e){Yi=JSON.parse(e).users[0],Xi.push({name:Yi.name,id:Yi._id,access_token:0,refresh_token:0}),_o(),qM=!1,Zi(),XM(),ji=!1}function uo(e){var t=Xi.indexOf(Xi[e]);-1<t&&Xi.splice(t,1),0<Xi.length?(qM=!1,XM()):Qi(),_o()}function _o(){Uf("AddUser_UsernameArray",JSON.stringify(Xi))}function fo(e){Yi=Xi[0],Xi[0]=Xi[e],Xi[e]=Yi,qM=!1,XM(),_o()}function mo(e){return-1!==Xi.indexOf(e)}function ho(){return 0<Xi.length}var po=0,vo=0,go=!1,yo=0,bo={},wo=[],ko=!1,Co=0,Ao=5,Eo=3500,Mo=0,Io=0,So=!1,xo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Po=!1,Lo=!1,To=!1,Bo=!1,Oo=!1;function Go(){Vc.Main_CenterLablesVectorPos=3,Vc.Main_Go=yc,document.body.addEventListener("keydown",ts,!1),qu("top_bar_game","icon_center_focus"),Du("label_side_panel","icon-arrow-circle-left",I),Vc.Search_isSearching&&(S_(),Xu("top_bar_user",n+x_(f+" '"+Vc.Search_data+"'"))),Xu("top_bar_game",b+x_(_+": "+Vc.Main_gameSelected)),Vc.Main_OldgameSelected===Vc.Main_gameSelected&&Po?(R_(po),Fu(xo[10]),Zo(),A_()):Ro()}function Uo(){Po&&-1===po&&(es(),vo=po=0,qu(xo[0]+"0_"+vo,ku)),Du("label_side_panel","icon-ellipsis",Rn),Xu("top_bar_game",f),document.body.removeEventListener("keydown",ts),zu("top_bar_game","icon_center_focus"),Ju(xo[10])}function Ro(){null===Vc.Main_OldgameSelected&&(Vc.Main_OldgameSelected=Vc.Main_gameSelected),B_("stream_table_a_game"),Ju(xo[10]),Wu(),d_(),Oo=Po=!1,bo={},Sf=!(yo=Io=Mo=0),po=vo=0,go=Lo=!(wo=[]),n_(),No(),Vo()}function No(){G_(),ko=!0,Co=0,Eo=3500}function Vo(){var e=yo+Mo;e&&Io-1<e&&(e=Io-iu,go=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+iu+"&offset="+e+(""!==Qc?"&broadcaster_language="+Qc:"");Pu&&!yo?qf(t,Eo,2,null,Jo,Do):zf(t,Eo,2,null,Jo,Do,!1)}function Do(){++Co<Ao?(Eo+=500,Vo()):(ko=!1,yo?(go=!0,Fo()):(Sf=!1,Qu(),s_(P)))}function Jo(e){var t=JSON.parse(e),n=t.streams.length;Io=parseInt(t._total),n<iu&&(go=!0);var a=yo;So=!(yo+=n);var i=n/ou;0<n%ou&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!Oo){var f;for(Oo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+Aa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+Kt,(jc=document.createElement("td")).setAttribute("id",xo[8]+"y_"+l),jc.className="stream_cell",jc.innerHTML='<div id="'+xo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+xo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(jc);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/ou+l,d=document.createElement("tr"),o=0;o<ou&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,bo[c]?o--:(bo[c]=1,d.appendChild(q_(s,s+"_"+o,[r.channel.name,c],xo,[r.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+dv(r.created_at)+" "+h+h_(r.viewers)+J,p_(r.video_height,r.average_fps,r.channel.broadcaster_language)])));for(;o<ou;o++)go&&!Lo&&(Lo=!0,yo=s*ou+o),d.appendChild(D_(xo[9]+s+"_"+o)),wo.push(xo[9]+s+"_"+o);_.appendChild(d)}Fo()}function Fo(){if(Po){if(O_(xa),0<wo.length&&!go)return No(),void jo();Zo(!0),wo=[]}else Ho(),So?(s_(L+Z),po=-1,$o()):(Po=!0,O_(xa),Zo(),A_()),Fu(xo[10]),Sf=!1,Qu();ko=!1}function Ho(){Bo?(To=!0,qo()):ro()?Di():(To=!1,qo())}function qo(){Xu(xo[3]+"y_2",To?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Aa+Aa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Aa+Aa+(ro()?It:Tt))}function zo(){ro()&&Xi[Vc.Users_Position].access_token?To?Ri():Oi():(s_(Bt),window.setTimeout(function(){So&&Vc.Main_Go===yc?s_(L+Z):d_()},2e3))}function Xo(){vo?1===vo?(Vc.Main_Go=Gc,Vc.Main_OldgameSelected=Vc.Main_gameSelected,Yo(),C_()):zo():(Vc.Main_Go=Oc,Vc.Main_OldgameSelected=Vc.Main_gameSelected,Yo(),C_())}function Yo(){Po&&-1===po&&(es(),vo=po=0,qu(xo[0]+"0_"+vo,ku)),document.body.removeEventListener("keydown",ts),Ju(xo[10])}function jo(){o_(wo.length);var e=yo+Mo;e&&Io-1<e&&(e=Io-fu,go=!0),Ff("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+fu+"&offset="+e+(""!==Qc?"&broadcaster_language="+Qc:""),Eo,2,null,Qo,Wo)}function Wo(){++Co<Ao?(Eo+=500,jo()):(go=!0,yo-=wo.length,wo=[],Fo())}function Qo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Io=parseInt(a._total),i<fu&&(go=!0);o<wo.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,bo[n]?o--:(bo[n]=1,z_(wo[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+dv(t.created_at)+" "+h+h_(t.viewers)+J,p_(t.video_height,t.average_fps,t.channel.broadcaster_language)],xo),d.push(o));for(o=d.length-1;-1<o;o--)wo.splice(d[o],1);Mo+=s,go&&(yo-=wo.length,wo=[]),Fo()}function Zo(e){po<0?$o():(ef(po,vo,xo,ou,yo,e),yo/ou<po+su&&!go&&!ko&&(No(),Vo()),Fc&&Ko())}function Ko(){-1<po&&yo?cf(po+"_"+vo,xo):es()}function $o(){qu(xo[0]+"y_"+vo,ku)}function es(){zu(xo[0]+"y_"+vo,ku)}function ts(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(Vc.Main_OldgameSelected=Vc.Main_gameSelected,Ko(),es(),Pf(ts));break;case Oa:if(-1===po)es(),--vo<0&&(vo=2),$o();else if(po||vo){if(g_(po,vo-1,xo[0]))Ko(),vo--,Zo();else for(t=ou-1;-1<t;t--)if(g_(po-1,t,xo[0])){Ko(),po--,vo=t,Zo();break}}else Ko(),es(),po=-1,vo=2,$o();break;case Ua:-1===po?(es(),2<++vo?(vo=0,So?$o():(po=0,Zo())):$o()):g_(po,vo+1,xo[0])?(Ko(),vo++,Zo()):g_(po+1,0,xo[0])&&(Ko(),po++,vo=0,Zo());break;case Ga:if(-1!==po||So)if(po){for(t=0;t<ou;t++)if(g_(po-1,vo-t,xo[0])){Ko(),po--,vo-=t,Zo();break}}else Ko(),po=-1,$o();else po=0,es(),Zo();break;case Ra:if(-1!==po||So){for(t=0;t<ou;t++)if(g_(po+1,vo-t,xo[0])){Ko(),po++,vo-=t,Zo();break}}else po=0,es(),Zo();break;case Ta:case La:case Ba:case Na:-1!==po?af(po+"_"+vo,xo,ts):Xo()}}var ns=0,as=0,is=!1,os=0,ss={},ds=[],ls=!1,rs=0,cs=5,us=3500,_s=0,fs=0,ms=!1,hs=!1,ps="week",vs=2,gs=!1,ys=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],bs=!1,ws=!1,ks="";function Cs(){Vc.Main_CenterLablesVectorPos=3,Vc.Main_Go=Oc,qu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ns,!1),Du("label_side_panel","icon-arrow-circle-left",I),ks===Vc.Main_gameSelected&&bs?(R_(ns),Fu(ys[10]),Vs(),Os(),A_()):Es()}function As(){bs&&Gs(),document.body.removeEventListener("keydown",Ns),zu("top_bar_game","icon_center_focus"),Xu("top_bar_game",f),Du("label_side_panel","icon-ellipsis",Rn),Ju(ys[10])}function Es(){bs&&Gs(),B_("stream_table_a_game_vod"),Ju(ys[10]),Wu(),Vs(),ks=Vc.Main_gameSelected,d_(),gs=bs=!1,Sf=!(hs=!(ds=[])),ns=as=os=fs=_s=0,is=!(ss={}),n_(),Ms(),Is()}function Ms(){G_(),ls=!0,rs=0,us=3500}function Is(){var e=os+_s;e&&fs-1<e&&(e=fs-iu,is=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+iu+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==Qc?"&language="+Qc:"");Pu&&!os?qf(t,us,2,null,xs,Ss):zf(t,us,2,null,xs,Ss,!1)}function Ss(){++rs<cs?(us+=500,Is()):(ls=!1,os?(is=!0,Ps()):(Sf=!1,Qu(),s_(P)))}function xs(e){var t=JSON.parse(e),n=t.vods.length;fs=parseInt(t._total),n<iu&&(is=!0);var a=os;ms=!(os+=n);var i=n/ou;0<n%ou&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!gs){var _;for(gs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(jc=document.createElement("td")).setAttribute("id",ys[8]+"y_"+f),jc.className="stream_cell",jc.innerHTML='<div id="'+ys[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ys[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(jc);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/ou+f,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ss[r]?o--:(ss[r]=1,d.appendChild(ES(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",bu),l.channel.display_name,N+P_(l.created_at),jS.parse(l.title)+ca+Qt+v+l.game,h_(l.views)+D,p_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+ov(l.length),l.animated_preview_url],ys)));for(;o<ou;o++)is&&!hs&&(hs=!0,os=s*ou+o),d.appendChild(D_(ys[9]+s+"_"+o)),ds.push(ys[9]+s+"_"+o);u.appendChild(d)}Ps()}function Ps(){if(bs?O_(xa):(ms?s_(L+(ws?G:O)+T+M):(bs=!0,O_(xa),Os(),A_()),Fu(ys[10]),Sf=!1,Qu()),0<ds.length&&!is)return Ms(),void Ls();Os(!0),ls=!(ds=[])}function Ls(){o_(ds.length);var e=os+_s;e&&fs-1<e&&(e=fs-fu,is=!0),Ff("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+fu+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==Qc?"&language="+Qc:""),us,2,null,Bs,Ts)}function Ts(){++rs<cs?(us+=500,Ls()):(is=!0,ds=[],Ps())}function Bs(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(fs=parseInt(a._total);o<ds.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ss[n]?o--:(ss[n]=1,IS(ds[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",bu),t.channel.display_name,N+P_(t.created_at),jS.parse(t.title)+ca+Qt+v+t.game,h_(t.views)+D,p_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+ov(t.length),t.animated_preview_url],ys),d.push(o));for(o=d.length-1;-1<o;o--)ds.splice(d[o],1);_s+=s,is&&(os-=ds.length,ds=[]),Ps()}function Os(e){ns<0?Us():(ef(ns,as,ys,ou,os,e),RS(ys,ns+"_"+as),os/ou<ns+su&&!is&&!ls&&(Ms(),Is()),Fc&&Gs())}function Gs(){window.clearInterval(WI),-1<ns&&os?(Fu(ys[1]+ns+"_"+as),cf(ns+"_"+as,ys)):Rs()}function Us(){var e=1<as?1:as;qu(ys[0]+"y_"+e,ku)}function Rs(){var e=1<as?1:as;zu(ys[0]+"y_"+e,ku)}function Ns(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(Gs(),Pf(Ns));break;case Oa:if(-1===ns)Rs(),--as<0&&(as=1),Us();else if(ns||as){if(g_(ns,as-1,ys[0]))Gs(),as--,Os();else for(t=ou-1;-1<t;t--)if(g_(ns-1,t,ys[0])){Gs(),ns--,as=t,Os();break}}else Gs(),Rs(),ns=-1,as=1,Us();break;case Ua:-1===ns?(Rs(),1<++as?(as=0,ms?Us():(ns=0,Os())):Us()):g_(ns,as+1,ys[0])?(Gs(),as++,Os()):g_(ns+1,0,ys[0])&&(Gs(),ns++,as=0,Os());break;case Ga:if(-1!==ns||ms)if(ns){for(t=0;t<ou;t++)if(g_(ns-1,as-t,ys[0])){Gs(),ns--,as-=t,Os();break}}else Gs(),ns=-1,Us();else ns=0,Rs(),Os();break;case Ra:if(-1!==ns||ms){for(t=0;t<ou;t++)if(g_(ns+1,as-t,ys[0])){Gs(),ns++,as-=t,Os();break}}else ns=0,Rs(),Os();break;case Ta:case La:case Ba:case Na:-1===ns?(0===as?Uf("AGameVod_highlight",(ws=!ws)?"true":"false"):4<++vs&&(vs=1),Es()):df(ns+"_"+as,ys,Ns)}}function Vs(){1===vs?(Xu("top_bar_game",b+x_((ws?G:O)+de+": "+Vc.Main_gameSelected)),ps="day"):2===vs?(Xu("top_bar_game",b+x_((ws?G:O)+le+": "+Vc.Main_gameSelected)),ps="week"):3===vs?(Xu("top_bar_game",b+x_((ws?G:O)+re+": "+Vc.Main_gameSelected)),ps="month"):4===vs&&(Xu("top_bar_game",b+x_((ws?G:O)+ce+": "+Vc.Main_gameSelected)),ps="all"),Uf("AGameVod_periodNumber",vs)}var Ds,Js=0,Fs=0,Hs=!1,qs=0,zs=0,Xs=5,Ys=3500,js=0,Ws=!1,Qs=!1,Zs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ks=!1,$s="",ed=null,td="",nd="",ad="",id="",od="",sd={},dd=!1,ld=null,rd="";function cd(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Mc,dd&&!Vc.Search_isSearching&&Vc.Main_selectedChannel_id&&Od(),$s!==Vc.Main_selectedChannel&&(Ks=!1),S_(),Vc.Main_selectedChannelDisplayname=Vc.Main_selectedChannelDisplayname.replace(j,""),Yu("top_bar_user",Vc.Main_selectedChannelDisplayname),Yu("top_bar_game",Ut),document.body.addEventListener("keydown",Gd,!1),Qa=!1,Ks?(R_(Js),Fu(Zs[10]),xd(),Pd(),A_()):_d()}function ud(){I_(),document.body.removeEventListener("keydown",Gd),Ju(Zs[10])}function _d(){B_("stream_table_channel_content"),Ju(Zs[10]),ld=null,Wu(),d_(),$s=Vc.Main_selectedChannel,id="",Hs=Ws=Ks=!1,Ds=void(Js=Fs=qs=js=0),fd(),md()}function fd(){Sf=!0,zs=0,Ys=3500}function md(){Ff("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ds?Ds:Vc.Main_selectedChannel_id),Ys,2,null,hd,pd)}function hd(e){null!==JSON.parse(e).stream?(ed=e,fd(),bd()):Ds?(ed=null,fd(),bd()):(fd(),vd())}function pd(){++zs<Xs?(Ys+=500,md()):(ed=null,fd(),bd())}function vd(){Ff("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Vc.Main_selectedChannel_id),Ys,1,null,yd,gd,!0)}function gd(){++zs<Xs?(Ys+=500,vd()):(ed=null,fd(),bd())}function yd(e){var t=JSON.parse(e);void 0!==(Ds=t.hosts[0].target_id)?(fd(),md()):(ed=null,fd(),bd())}function bd(){Ff("https://api.twitch.tv/kraken/channels/"+Vc.Main_selectedChannel_id,Fg,2,null,wd,kd)}function wd(e){var t=JSON.parse(e);ld=(ld=t.video_banner)?ld.replace("1920x1080",bu):ld,rd=t.profile_banner,td=t.views,nd=t.followers,ad=t.description,Vc.Main_selectedChannelLogo=t.logo,Cd()}function kd(){++zs<Xs?(Ys+=500,bd()):(ld=null,rd=Pa,ad=nd=td="",Vc.Main_selectedChannelLogo=Sa,Cd())}function Cd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((jc=document.createElement("tr")).className="follower_banner",jc.innerHTML='<div id="'+Zs[0]+'x_0" class="follower_banner"><img id="'+Zs[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(jc),null!==ed){var a=JSON.parse(ed);if(null!==a.stream){var i=void 0!==Ds?Vc.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(Ad("0_"+t,o.channel.name,o.preview.template,jS.parse(o.channel.status),o.game,v_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+dv(o.created_at)+" "+h+h_(o.viewers)+J,p_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Ws=!0}else Ws=!0;e.appendChild(Ed("0_"+t,Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(Ed("0_"+t,Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(D_(Zs[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Md("1_0",Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelLogo)),(jc=document.createElement("td")).setAttribute("id",Zs[8]+"x_x"),jc.className="stream_cell",jc.innerHTML='<div id="'+Zs[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Zs[4]+'x_x" class="stream_channel_info">'+jS.parse(ad)+"</div></div>",e.appendChild(jc),n.appendChild(e),Sd()}function Ad(e,t,n,a,i,o,s,d){return id=n.replace("{width}x{height}",bu),(jc=document.createElement("td")).setAttribute("id",Zs[8]+e),jc.setAttribute(Cu,t),jc.className="stream_cell",jc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Zs[1]+e+'" class="stream_img"></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ds?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Aa+o+'</div><div id="'+Zs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Zs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Zs[6]+e+'"class="stream_info">'+s+"</div></div>",jc}function Ed(e,t,n,a){return(jc=document.createElement("td")).setAttribute("id",Zs[8]+e),jc.setAttribute(Cu,t),jc.className="stream_cell",jc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Zs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",jc}function Md(e,t,n,a){return od=a,(jc=document.createElement("td")).setAttribute("id",Zs[8]+e),jc.setAttribute(Cu,t),jc.className="stream_cell",jc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Zs[1]+e+'" class="stream_img_fallow"></div><div id="'+Zs[2]+e+'" class="stream_text_channel"><div id="'+Zs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+h_(td)+D+'</div><div id="'+Zs[6]+e+'"class="stream_info" >'+h_(nd)+Vt+"</div></div>",jc}function Id(){ja?(Xu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Yu(Zs[3]+"1_0",Vc.Main_selectedChannelDisplayname+Mt)):(Xu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),ro()?Yu(Zs[3]+"1_0",Vc.Main_selectedChannelDisplayname+It):Yu(Zs[3]+"1_0",Vc.Main_selectedChannelDisplayname+Dt))}function Sd(){Ks||(Ks=!0,""!==id&&Bu(document.getElementById(Zs[1]+"0_0"),id,xa),Bu(document.getElementById(Zs[1]+"x_0"),rd,Pa),Bu(document.getElementById(Zs[1]+"1_0"),od,Sa),Pd(),A_(),Fu(Zs[10]),Qu()),xd(),Sf=!1}function xd(){Qs?Id():ro()?(Za=Vc.Main_selectedChannel_id,Qa=!1,mi()):(ja=!1,Id())}function Pd(){qu(Zs[0]+Js+"_"+(Js?0:Fs),ku),Fc&&Ld(),W_()}function Ld(){cf(Js+"_"+(Js?0:Fs),Zs)}function Td(){if(Js)ro()&&Xi[Vc.Users_Position].access_token?(Qa=!1,Za=Vc.Main_selectedChannel_id,ja?ki():yi()):(s_(Bt),window.setTimeout(d_,2e3));else{document.body.removeEventListener("keydown",Gd),Ju(Zs[10]);var e=Ws?1:0;Fs===0-e?(Vc.Play_selectedChannel=document.getElementById(Zs[8]+Js+"_"+Fs).getAttribute(Cu),Vc.Play_selectedChannelDisplayname=document.getElementById(Zs[3]+Js+"_"+Fs).textContent,-1!==Vc.Play_selectedChannelDisplayname.indexOf(ne)?(Vc.Play_isHost=!0,Vc.Play_DisplaynameHost=Vc.Play_selectedChannelDisplayname,Vc.Play_selectedChannelDisplayname=Vc.Play_selectedChannelDisplayname.split(ne)[1],Vc.Play_selectedChannel_id=Ds):Vc.Play_selectedChannel_id=Vc.Main_selectedChannel_id,Vc.Play_gameSelected=document.getElementById(Zs[5]+Js+"_"+Fs).textContent.split(v)[1],ff(of)):Fs===1-e?ff(dl):Fs===2-e&&(fb=qb,ff(gb))}}function Bd(){sd={"Main_values.Main_selectedChannel_id":Vc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Vc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Vc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Vc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Qs,"Main_values.Main_BeforeChannel":Vc.Main_BeforeChannel}}function Od(){Vc.Main_selectedChannel_id=Vc.Main_selectedChannel_id,Vc.Main_selectedChannelLogo=Vc.Main_selectedChannelLogo,Vc.Main_selectedChannel=Vc.Main_selectedChannel,Vc.Main_selectedChannelDisplayname=Vc.Main_selectedChannelDisplayname,Qs=sd.ChannelContent_UserChannels,Vc.Main_BeforeChannel=Vc.Main_BeforeChannel,dd=!(sd={})}function Gd(e){if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(Ld(),Pf(Gd));break;case Oa:Js||(Ld(),--Fs<0&&(Fs=Ws?1:2),Pd());break;case Ua:Js||(Ld(),(Ws?1:2)<++Fs&&(Fs=0),Pd());break;case Ga:case Ra:Ld(),Js=Js?0:1,Pd();break;case Ta:case La:case Ba:case Na:Td()}}var Ud=0,Rd=0,Nd=!1,Vd=0,Dd={},Jd=[],Fd=!1,Hd=0,qd=5,zd=3500,Xd=0,Yd=0,jd=0,Wd=!1,Qd=!1,Zd="",Kd=!1,$d=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],el=!1,tl=!1,nl="",al="",il="",ol="",sl=0;function dl(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Ic,!Vc.Search_isSearching&&Vc.Main_selectedChannel_id&&Od(),Vc.Main_selectedChannel!==nl&&(el=!1),S_(),Du("label_side_panel","icon-arrow-circle-left",I),Yu("top_bar_user",Vc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",kl,!1),el?(R_(Ud),Yu("top_bar_game",tl?G:O),Fu($d[10]),gl(),A_()):rl()}function ll(){el&&yl(),I_(),document.body.removeEventListener("keydown",kl),Ju($d[10]),d_()}function rl(){el&&yl(),B_("stream_table_channel_vod"),Ju($d[10]),Yu("top_bar_game",tl?G:O),Wu(),d_(),nl=Vc.Main_selectedChannel,Kd=el=!1,Sf=!(Qd=!(Jd=[])),Ud=Rd=Vd=Yd=Xd=0,Nd=!(Dd={}),n_(),cl(),ul()}function cl(){G_(),Fd=!0,Hd=0,zd=3500}function ul(){var e=Vd+Xd;e&&Yd-1<e&&(e=Yd-iu,Nd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Vc.Main_selectedChannel_id)+"/videos?limit="+iu+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e;Pu&&!Vd?qf(t,zd,2,null,fl,_l):zf(t,zd,2,null,fl,_l,!1)}function _l(){++Hd<qd?(zd+=500,ul()):(Fd=!1,Vd?(Nd=!0,ml()):(Sf=!1,Qu(),s_(P),Pf(kl)))}function fl(e){var t=JSON.parse(e),n=t.videos.length;Yd=parseInt(t._total),n<iu&&(Nd=!0);var a=Vd;Wd=!(Vd+=n);var i=n/ou;0<n%ou&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Kd){Kd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p;(jc=document.createElement("td")).setAttribute("id",$d[8]+"y_0"),jc.className="stream_cell",jc.innerHTML='<div id="'+$d[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+$d[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(jc),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/ou+h,d=document.createElement("tr"),o=0;o<ou&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==ld?ld:xa),c||Dd[r]?o--:(Dd[r]=1,d.appendChild(ES(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",bu),l.channel.display_name,N+P_(l.created_at),jS.parse(l.title)+ca+Qt+v+l.game,h_(l.views)+D,p_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+ov(l.length),l.animated_preview_url],$d)));for(;o<ou;o++)Nd&&!Qd&&(Qd=!0,Vd=s*ou+o),d.appendChild(D_($d[9]+s+"_"+o)),Jd.push($d[9]+s+"_"+o);f.appendChild(d)}ml()}function ml(){if(el?(gl(!0),O_(null!==ld?ld:xa)):(Wd?(Pf(kl),s_(L+(tl?G:O)+T+M)):(el=!0,O_(null!==ld?ld:xa),gl(),A_()),Fu($d[10]),Sf=!1,Qu()),0<Jd.length&&!Nd)return cl(),void hl();Fd=!(Jd=[])}function hl(){o_(Jd.length);var e=Vd+Xd;e&&Yd-1<e&&(e=Yd-fu,Nd=!0),Ff("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Vc.Main_selectedChannel_id)+"/videos?limit="+fu+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e,zd,2,null,vl,pl)}function pl(){++Hd<qd?(zd+=500,hl()):(Nd=!0,Vd-=Jd.length,Jd=[],ml())}function vl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Yd=parseInt(a._total);o<Jd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Dd[n]?o--:(Dd[n]=1,IS(Jd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",bu),t.channel.display_name,N+P_(t.created_at),jS.parse(t.title)+ca+Qt+v+t.game,h_(t.views)+D,p_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+ov(t.length),t.animated_preview_url],$d),d.push(o));for(o=d.length-1;-1<o;o--)Jd.splice(d[o],1);Xd+=s,Nd&&(Vd-=Jd.length,Jd=[]),ml()}function gl(e){Ud<0?bl():(ef(Ud,Rd,$d,ou,Vd,e),RS($d,Ud+"_"+Rd),Vd/ou<Ud+su&&!Nd&&!Fd&&(cl(),ul()),Fc&&yl())}function yl(){window.clearInterval(WI),-1<Ud&&Vd?(Fu($d[1]+Ud+"_"+Rd),cf(Ud+"_"+Rd,$d)):wl()}function bl(){qu($d[0]+"y_0",ku)}function wl(){zu($d[0]+"y_0",ku)}function kl(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(yl(),Pf(kl));break;case Oa:if(g_(Ud,Rd-1,$d[0]))yl(),Rd--,gl();else for(t=ou-1;-1<t;t--)if(g_(Ud-1,t,$d[0])){yl(),Ud--,Rd=t,gl();break}break;case Ua:g_(Ud,Rd+1,$d[0])?(yl(),Rd++,gl()):g_(Ud+1,0,$d[0])&&(yl(),Ud++,Rd=0,gl());break;case Ga:if(-1!==Ud||Wd)if(Ud){for(t=0;t<ou;t++)if(g_(Ud-1,Rd-t,$d[0])){yl(),Ud--,Rd-=t,gl();break}}else yl(),Ud=-1,bl();else Ud=0,wl(),gl();break;case Ra:if(-1!==Ud||Wd){for(t=0;t<ou;t++)if(g_(Ud+1,Rd-t,$d[0])){yl(),Ud++,Rd-=t,gl();break}}else Ud=0,wl(),gl();break;case Ta:case La:case Ba:case Na:-1===Ud?(Uf("ChannelVod_highlight",(tl=!tl)?"true":"false"),rl()):df(Ud+"_"+Rd,$d,kl)}}var Cl,Al,El,Ml,Il=0,Sl=10,xl=!1,Pl=0,Ll=null,Tl=!1,Bl=0,Ol={bbtv:{},ffz:{}},Gl={};function Ul(){sr(),Vc.Play_ChatForceDisable?(_r||Ir(),Tl=!1,ff(function(){Rl(Pl=(new Date).getTime(),Dl)})):tc()}function Rl(e,t){Il=0,Nl(e,t)}function Nl(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+Vc.Play_selectedChannel_id+"/display",a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void t(a.responseText,e);Vl(e,t)}},a.send(null)}function Vl(e,t){++Il<Sl?Nl(e,t):Al=window.setTimeout(function(){Nl(e,t)},500)}function Dl(e,t){Vr(e),Jl(),zl(),Pl===t&&Zl()}function Jl(){Ol.bbtv[Vc.Play_selectedChannel_id]||(Il=0,Fl())}function Fl(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(Vc.Play_selectedChannel),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ql(t.responseText):404===t.status?Ol.bbtv[Vc.Play_selectedChannel_id]=1:Hl())},t.send(null)}function Hl(){++Il<Sl&&Fl()}function ql(e){Wl(JSON.parse(e)),Ol.bbtv[Vc.Play_selectedChannel_id]=1}function zl(){Ol.ffz[Vc.Play_selectedChannel_id]||(Il=0,Xl())}function Xl(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(Vc.Play_selectedChannel),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?jl(t.responseText):404===t.status?Ol.ffz[Vc.Play_selectedChannel_id]=1:Yl())},t.send(null)}function Yl(){++Il<Sl&&Xl()}function jl(e){Ql(JSON.parse(e)),Ol.ffz[Vc.Play_selectedChannel_id]=1}function Wl(t){t.emotes.forEach(function(e){Gl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Ql(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(Gl[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(Gl[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Zl(){er(),Kl()}function Kl(){(Ll=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Ll.send("PASS blah\r\n"),Ll.send("NICK justinfan12345\r\n"),Ll.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Ll.send("JOIN #"+Vc.Play_selectedChannel+"\r\n")},Ll.onclose=function(){xl=!0},Ll.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Ll.send("PONG "+t.params[0]);break;case"JOIN":Tl=!0,ar('&nbsp;<span class="message">'+ca+bn+Vc.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":tr(t)}},El=window.setTimeout($l,5e3)}function $l(){Tl?Ml=window.setInterval(ir,1e3):(Ll.close(1e3),Zl())}function er(){window.clearTimeout(El)}function tr(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+br[a.charCodeAt(0)%wr]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),ar(t+='<span class="message">'+nr(zS(i,o))+"</span>")}function nr(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=qS(e[t]):e[t]=e[t][0];return jS.parse(e.join(" "),!0,!0)}function ar(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,cr.appendChild(t),ir(),100<++Bl&&(Bl=0,ac())}function ir(){cr.scrollTop=cr.scrollHeight}function or(){er(),window.clearTimeout(Al),window.clearTimeout(Cl),window.clearInterval(Ml)}function sr(){or(),Ll&&Ll.close(1e3),Pl=0,B_("chat_box"),Tl=xl=!1}var dr,lr,rr,cr,ur,_r=!1,fr=0,mr=[],hr=[],pr=10,vr=null,gr=0,yr="",br=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],wr=br.length,kr=0,Cr=!1,Ar=0;function Er(){cr=document.getElementById("chat_box"),Ir()}function Mr(){Wr(),Pu&&Vc.Play_ChatForceDisable?(_r||Ir(),ff(function(){Rl(Ar=(new Date).getTime(),Dr)})):tc()}function Ir(){fr=0,_r=!(Gl={}),Sr()}function Sr(){zf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Pr,xr,!1)}function xr(){++fr<pr?Sr():_r=!1}function Pr(e){XS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){YS(t.type,e.type,e.image_url_4x,null)})}),Lr()}function Lr(){fr=0,Tr()}function Tr(){zf("https://api.betterttv.net/2/emotes",1e4,0,null,Or,Br,!1)}function Br(){++fr<pr?Tr():_r=!1}function Or(e){Wl(JSON.parse(e)),Gr()}function Gr(){fr=0,Ur()}function Ur(){zf("https://api.frankerfacez.com/v1/set/global",1e4,0,null,Nr,Rr,!1)}function Rr(){++fr<pr?Ur():_r=!1}function Nr(e){Ql(JSON.parse(e)),_r=!0}function Vr(e){XS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){YS(t.type,e.type,e.image_url_4x,cr)})})}function Dr(e,t){Vr(e),Jl(),zl(),Ar===t&&Jr(t)}function Jr(e){fr=0,Ar===e&&Fr(e)}function Fr(e){var t="https://api.twitch.tv/v5/videos/"+Vc.ChannelVod_vodId+"/comments?client_id="+mu+(gr?"&content_offset_seconds="+parseInt(gr):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Ar===e&&qr(n.responseText,e));Ar===e&&Hr(e)}},n.send(null)}function Hr(e){fr++,Ar===e&&(fr<pr?Fr(e):lr=window.setTimeout(function(){Fr(e)},2500))}function qr(e,t){e=JSON.parse(e);var n,a,i=null===vr;i&&(n="&nbsp;",n+='<span class="message">',n+=ca+bn+Vc.Main_selectedChannelDisplayname+" "+yr,zr(n+="</span>",0)),gr=0,vr=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+br[e.commenter.display_name.charCodeAt(0)%wr]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=nr([e.text])}),n+="</span>",i?zr(n,e.content_offset_seconds):void 0!==vr&&Xr(n,e.content_offset_seconds)}),i&&Ar===t&&(Yr(t),void 0!==vr&&Zr(t))}function zr(e,t){mr.push({time:t,message:e})}function Xr(e,t){hr.push({time:t,message:e})}function Yr(e){Cr||Ar!==e||(dr=window.setInterval(function(){Qr(e),cr.scrollTop=cr.scrollHeight},1e3))}function jr(){Cr||(window.clearTimeout(ur),window.clearTimeout(lr),window.clearTimeout(rr),window.clearInterval(dr))}function Wr(){jr(),Ar=0,B_("chat_box"),Cr=!1,vr=null,mr=[],hr=[],kr=0}function Qr(e){var t;if(kr<mr.length-1)for(var n=kr;n<mr.length&&mr[n].time<sl+Android.gettime()/1e3;n++,kr++)(t=document.createElement("div")).className="chat_line",t.innerHTML=mr[n].message,cr.appendChild(t);else if(jr(),void 0!==vr)mr=hr.slice(),kr=0,Yr(e),hr=[],Ar===e&&Zr(e),ac();else{var a="&nbsp;";a+='<span class="message">',a+=ca+ca+An+ca+ca,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,cr.appendChild(t),Cr=!0,cr.scrollTop=cr.scrollHeight,window.clearInterval(dr),dr=window.setInterval(function(){cr.scrollTop=cr.scrollHeight},1e3)}}function Zr(e){fr=0,Cr||Ar!==e||Kr(e)}function Kr(e){var t="https://api.twitch.tv/v5/videos/"+Vc.ChannelVod_vodId+"/comments?client_id="+mu+(null!==vr?"&cursor="+vr:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Cr||Ar!==e||qr(n.responseText,e));Cr||Ar!==e||$r(e)}},n.send(null)}function $r(e){fr++,Ar===e&&(fr<pr?Kr(e):rr=window.setTimeout(function(){Kr(e)},2500))}function ec(){Wr(),nc(ln+ca+rn)}function tc(){Wr(),nc($n)}function nc(e){var t="&nbsp;";t+='<span class="message">',t+=ca+ca+ca+ca+ca+ca+ca+ca+ca+ca,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,cr.appendChild(n)}function ac(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);ir()}var ic,oc,sc,dc,lc,rc,cc,uc=!0,_c=!1,fc=!1,mc=-1,hc=new Image,pc=1,vc=2,gc=3,yc=4,bc=5,wc=6,kc=7,Cc=8,Ac=9,Ec=10,Mc=11,Ic=12,Sc=13,xc=14,Pc=15,Lc=16,Tc=17,Bc=18,Oc=19,Gc=20,Uc=21,Rc=22,Nc="",Vc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:gc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Dc=!0,Jc=!0,Fc=!1,Hc=[],qc=0,zc=0,Xc=null,Yc=!0,jc="",Wc=!1,Qc="",Zc=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Kc=[],$c=0,eu=!0,tu=0,nu=1.35,au=1.5,iu=45,ou=3,su=Math.floor(iu/ou/au),du=45,lu=5,ru=Math.floor(du/lu/nu),cu=48,uu=6,_u=Math.floor(cu/uu/au),fu=6,mu="5seja5ptej058mxqy7gh5tcudjqtm9",hu="Client-ID",pu="Accept",vu="Authorization",gu="OAuth ",yu="application/vnd.twitchtv.v5+json",bu="528x297",wu="340x475",ku="stream_thumbnail_focused",Cu="data_attribute",Au="1.0",Eu=".20",Mu="051719",Iu=Au+Eu+"-"+Mu,Su="",xu=0,Pu=0,Lu="?"+Math.random(),Tu="https://cors-anywhere.herokuapp.com/",Bu=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function Ou(){(fc=Vf("Main_isDebug",!1))&&uc?Gu():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Uu(window.navigator.userLanguage||window.navigator.language)}):Uu(window.navigator.userLanguage||window.navigator.language)}function Gu(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Uu(e){uf(),ff(function(){try{Pu=Android.getAndroid(),Su=Android.getversion()}catch(e){Su="1.0.0",Pu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",_c=fc=!0,console.log("Main_isReleased: "+uc),console.log("Main_isDebug: "+fc),console.log("Main_isBrowser: "+_c)}yC(),Ma(),FC(),console.log("language is "+e),Ea(),-1!==window.location.href.indexOf("code")&&Jf(window.location.href),Ru()})}function Ru(){mb(),Nu(!0),ic=document.getElementById("scrollbar"),E_(),Nc=Vc.Main_Go,ff(function(){Er(),Ep(),lo(),ro()&&(cc=window.setInterval(vf,6e5),vf()),document.body.addEventListener("keyup",W_,!1),hb(),document.getElementById("side_panel").style.marginLeft="",L_(),Vu(),hS=Vf("Vod_highlight",!1),tl=Vf("ChannelVod_highlight",!1),ws=Vf("AGameVod_highlight",!1),SI=Vf("UserVod_highlight",!1),uS=Rf("vod_periodNumber",2),vs=Rf("AGameVod_periodNumber",2),AI=Rf("UserVod_TypeNumber",1),nb(),oc=document.getElementById("search_input"),sc=document.getElementById("user_input"),V_(xa),V_(Ia),V_(Sa),document.addEventListener("visibilitychange",hf,!1),lc=window.setInterval(pf,6e4),fb=jb,gb(),dc=window.setTimeout(b_,5e3),Fu("topbar")})}function Nu(e){pf(),Du("label_refresh","icon-refresh",t+Yt),Xu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Aa+_t+"</div>"),Du("label_side_panel","icon-ellipsis",Rn),Du("icon_feed_refresh","icon-refresh",t+" Press up"),Yu("top_bar_live",_),Yu("top_bar_user",e?u:a),Yu("top_bar_featured",an),Yu("top_bar_game",f),Yu("top_bar_vod",Kt),Yu("top_bar_clip",U),Xu("scene2_search_text",Aa+n),Xu("scene2_channel_text",Aa+Ut),Xu("scene2_game_text",Aa+Jt),Yu("dialog_end_next_text",sa),Yu("dialog_end_replay_text",en),Yu("dialog_end_vod_text",sn),Yu("dialog_end_channel_text",Ut),Yu("dialog_end_game_text",Jt),Xu("dialog_about_text",ba+wa),Kc=[de,le,re,ce],e?fC():(gC(),L_())}function Vu(){Yu("play_dialog_exit_text",F),Yu("side_panel_search",n),Yu("side_panel_settings",a),Yu("side_panel_about",i),Yu("side_panel_controls",e),Yu("side_panel_exit",q),Yu("side_panel_live",_),Yu("side_panel_user",u),Yu("side_panel_featured",an),Yu("side_panel_games",f),Yu("side_panel_videos",Kt),Yu("side_panel_clips",U),Yu("side_panel_hide",o),Yu("chanel_button",E),Yu("game_button",f),Yu("live_button",_),Yu("exit_app_cancel",Y),Yu("exit_app_close",z),Yu("remove_cancel",Y),Yu("remove_yes",Ft),Yu("exit_app_minimize",X),Yu("main_dialog_exit_text",H),Xu("dialog_controls_text",ya),Yu("dialog_vod_text",wn),Xu("dialog_vod_start_text",Cn)}function Du(e,t,n){Xu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Aa+n+"</div>")}function Ju(e){document.getElementById(e).classList.add("hide")}function Fu(e){document.getElementById(e).classList.remove("hide")}function Hu(e){return-1===document.getElementById(e).className.indexOf("hide")}function qu(e,t){document.getElementById(e).classList.add(t)}function zu(e,t){document.getElementById(e).classList.remove(t)}function Xu(e,t){document.getElementById(e).innerHTML=t}function Yu(e,t){document.getElementById(e).textContent=t}function ju(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Wu(){R_(-1),Pu?Android.mshowLoading(!0):Fu("dialog_loading")}function Qu(){Pu?Android.mshowLoading(!1):Ju("dialog_loading")}function Zu(){window.clearTimeout(Xc)}function Ku(){Xc=window.setTimeout(e_,6e3)}function $u(){Ku(),Fu("main_dialog_exit"),document.body.addEventListener("keydown",Ef,!1)}function e_(){document.body.removeEventListener("keydown",Ef,!1),Pf(rc),Zu(),Ju("main_dialog_exit"),zc=0,t_()}function t_(){zu("exit_app_cancel","button_search_focused"),zu("exit_app_minimize","button_search_focused"),zu("exit_app_close","button_search_focused"),qu(zc?1===zc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function n_(){B_("dialog_counter_text"),i_(0,0,0)}function a_(e,t,n,a){0<a?(Yu("dialog_counter_text",t*n+(e+1)+"/"+a),i_(t,n,a)):n_()}function i_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Vc.Main_Go===yc||Vc.Main_Go===Oc||Vc.Main_Go===Gc||Vc.Main_Go===Ic||Vc.Main_Go===Rc||Vc.Main_Go===Tc||Vc.Main_Go===Bc||Vc.Main_Go===Sc,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));ic.style.top=o+"px",Yc&&(Yc=!1,ic.style.backgroundColor="#777777")}else ic.style.backgroundColor="#000000",ic.style.top=a+"px",Yc=!0}function o_(e){(fu=12)/3<e&&(fu=3*e),99<fu&&(fu=99)}function s_(e){Yu("dialog_warning_text",e),Fu("dialog_warning")}function d_(){Ju("dialog_warning")}function l_(){f_(),Fu("dialog_about")}function r_(){Ju("dialog_about")}function c_(){return Hu("dialog_about")}function u_(){f_(),d_(),M_(Vc.Main_Go),n_(),uC()}function __(){r_(),Fu("dialog_controls")}function f_(){Ju("dialog_controls")}function m_(){return Hu("dialog_controls")}function h_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function v_(e){return-1!==e.indexOf("live")?"":j}function g_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function y_(){pf(),k_(),document.body.addEventListener("keyup",W_,!1)}function b_(){for(var e,t=0;t<Zc.length;t++)t<2?document.getElementById(Zc[t]).style.opacity="0.5":-1===(e=document.getElementById(Zc[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");qu("topbar","topbar_dim")}function w_(){for(var e=0;e<Zc.length;e++)document.getElementById(Zc[e]).style.opacity="1";zu("topbar","topbar_dim")}function k_(e){window.clearTimeout(dc),w_(),ff(function(){C_(e)})}function C_(e){d_(),Vc.Main_Go!==Mc&&(Vc.Main_BeforeChannelisSet=!1),Vc.Main_Go!==yc&&(Vc.Main_BeforeAgameisSet=!1),n_(),Vc.Main_Go===pc?(fb=jb,gb()):Vc.Main_Go===vc?Qi():Vc.Main_Go===gc?(fb=Xb,gb()):Vc.Main_Go===yc?Go():Vc.Main_Go===Cc?bk():Vc.Main_Go===Ac?ok():Vc.Main_Go===Ec?Xk():Vc.Main_Go===Mc?cd():Vc.Main_Go===Ic?dl():Vc.Main_Go===Sc?(fb=qb,gb()):Vc.Main_Go===xc?XM():Vc.Main_Go===bc?yM():Vc.Main_Go===wc?QA():Vc.Main_Go===kc?(fb=Yb,gb()):Vc.Main_Go===Pc?gA():Vc.Main_Go===Lc?Lw():Vc.Main_Go===Tc?gS():Vc.Main_Go===Bc?(fb=Hb,gb()):Vc.Main_Go===Oc?Cs():Vc.Main_Go===Gc?(fb=zb,gb()):Vc.Main_Go===Uc?(fb=Wb,gb()):Vc.Main_Go===Rc&&xI(),dc=window.setTimeout(b_,3e3),e&&Of()}function A_(){Uf("Main_values",JSON.stringify(Vc))}function E_(){Vc=vb(Vc,Nf("Main_values",{}))}function M_(e){e===pc?yb():e===vc?Zi():e===gc?yb():e===yc?Uo():e===Cc?wk():e===Ac?sk():e===Ec?Yk():e===Mc?ud():e===Ic?ll():e===Sc?yb():e===xc?YM():e===bc?bM():e===wc?ZA():e===kc?yb():e===Pc?yA():e===Lc?Tw():e===Tc?yS():e===Bc?yb():e===Oc?As():e===Gc?yb():e===Uc?yb():e===Rc&&PI(),Hu("settings_scroll")&&_C()}function I_(){Du("label_refresh","icon-refresh",t+Yt),Du("label_side_panel","icon-ellipsis",Rn),zu("top_bar_user","icon_center_focus"),Yu("top_bar_live",_),Yu("top_bar_user",u),Yu("top_bar_featured",an),Yu("top_bar_game",f),Yu("top_bar_vod",Kt),Yu("top_bar_clip",U)}function S_(){Du("label_side_panel","icon-arrow-circle-left",I),B_("top_bar_live"),B_("top_bar_game"),B_("top_bar_vod"),B_("top_bar_clip"),B_("top_bar_featured"),qu("top_bar_user","icon_center_focus")}function x_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function P_(e){return e=new Date(e),Wc?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function L_(){Pu&&(Iu="Android: "+Su+" Web: "+Mu,T_(Su)&&Fu("label_update")),Xu("dialog_about_text",ba+ye+Iu+wa)}function T_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(Au)||parseInt(e[2])<parseInt(Eu.split(".")[1])}function B_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function O_(e){for(var t,n=0;n<Hc.length;n++)null!==(t=document.getElementById(Hc[n].id))&&Bu(t,Hc[n].src+Lu,e)}function G_(){Hc=[]}function U_(e,t){Hc.push({id:e,src:t})}function R_(e){mc=e}function N_(e){var t=0;return mc<e?t=-1:e<mc&&(t=1),mc=e,t}function V_(e){hc.src=e}function D_(e){return(jc=document.createElement("td")).setAttribute("id",e),jc.className="stream_cell",jc}function J_(e,t,n){return(jc=document.createElement("td")).setAttribute("id",t[4]+e),jc.setAttribute(Cu,n[0]),jc.setAttribute("data-id",n[1]),jc.className="stream_cell",jc.innerHTML=H_(e,t,n),jc}function F_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Cu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=H_(i,n,t),a.setAttribute("id",n[4]+i)}function H_(e,t,n){return U_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function q_(e,t,n,a,i){return e<ou&&V_(i[0]),(jc=document.createElement("td")).setAttribute("id",a[8]+t),jc.setAttribute(Cu,JSON.stringify(n)),jc.className="stream_cell",jc.innerHTML=X_(t,a,i),jc}function z_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Cu,JSON.stringify(t)),i.innerHTML=X_(o,a,n),i.setAttribute("id",a[8]+o)}function X_(e,t,n){return U_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+jS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Y_(e,t,n){return(jc=document.createElement("td")).setAttribute("id",t[5]+e),jc.setAttribute(Cu,n[0]),jc.className="stream_cell",jc.innerHTML=j_(e,t,n),jc}function j_(e,t,n){return U_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function W_(){Jc=!0}function Q_(){Dc=!0}function Z_(){Dc=!1,window.setTimeout(Q_)}function K_(){return!Dc||!Jc}function $_(e,t,n,a,i,o){qu(n[0]+e+"_"+t,ku),a_(t,e,a,i),N_(e)||o?1<e?g_(e+1,0,n[0])?rf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):W_():rf(n[6],.07*screen.height):W_()}function ef(e,t,n,a,i,o){qu(n[0]+e+"_"+t,ku),a_(t,e,a,i),N_(e)||o?e?g_(e+1,0,n[0])&&rf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):rf(n[10],.07*screen.height):W_()}function tf(e,t,n,a,i){qu(n[0]+e+"_"+t,ku),a_(t,e,a,i),N_(e)?rf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):W_()}function nf(e,t){return null===document.getElementById(t+e)}function af(e,t,n){nf(e,t[0])||(document.body.removeEventListener("keydown",n),Vc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Cu)),Vc.Play_selectedChannel_id=Vc.Play_selectedChannel[1],Vc.Play_selectedChannel=Vc.Play_selectedChannel[0],Vc.Main_Go===wc?(Vc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Vc.Play_selectedChannelDisplayname=Vc.Play_DisplaynameHost.split(ne)[1],Vc.Play_isHost=!0):Vc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Vc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Vc.Main_Go===yc&&(Vc.Main_OldgameSelected=Vc.Main_gameSelected),of())}function of(){document.body.addEventListener("keydown",wg,!1),Ju("scene1"),Fu("scene2"),Sv(),Ov(),Zv(),ro()&&!uE&&wE&&QE(),ff(Sp)}function sf(e,t,n){nf(e,t[0])||(document.body.removeEventListener("keydown",n),ew=JSON.parse(document.getElementById(t[8]+e).getAttribute(Cu)),ym=parseInt(ew[1]),Vc.Play_gameSelected=ew[2],Vc.Main_selectedChannel=ew[3],Vc.Main_selectedChannelDisplayname=ew[4],Vc.Main_selectedChannelLogo=ew[5],Vc.Main_selectedChannel_id=ew[6],Vc.ChannelVod_vodId=ew[7],sl=parseInt(ew[8]),$b=ew[9],nw=ew[10],Zb=ew[11],ew=ew[0],tw=document.getElementById(t[4]+e).textContent,Kb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",th,!1),Ju("scene1"),Fu("scene2"),Ov(),Av(),vv(),bv(),ro()&&!uE&&wE&&QE(),ff(Em))}function df(e,t,n){nf(e,t[0])||(document.body.removeEventListener("keydown",n),Vc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Cu)),jd=parseInt(Vc.ChannelVod_vodId[1]),Zd=Vc.ChannelVod_vodId[2],Vc.Play_gameSelected=Vc.ChannelVod_vodId[3],Vc.Main_selectedChannel=Vc.ChannelVod_vodId[4],vp=Vc.ChannelVod_vodId[5],Vc.ChannelVod_vodId=Vc.ChannelVod_vodId[0].substr(1),Vc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,il=document.getElementById(t[4]+e).textContent,ol=document.getElementById(t[5]+e).textContent,al=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,lf())}function lf(){document.body.addEventListener("keydown",_b,!1),Ju("scene1"),Fu("scene2"),Dy(),Ov(),Av(),bv(),oy=!1,ro()&&!uE&&wE&&QE(),ff(_y)}function rf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(W_,10)}function cf(e,t){Jc=!1,zu(t[0]+e,ku)}function uf(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(fc&&console.log("Main_Checktylesheet reloading"),_f("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):fc&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function _f(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function ff(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function mf(){var e=(new Date).getTime()+xu;return e=new Date(e),(Wc?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+iv(e.getHours())+":"+iv(e.getMinutes())}function hf(){document.hidden||(pf(),window.setTimeout(pf,2e4))}function pf(){document.hidden||(Yu("label_clock",mf()),Lu="?"+Math.random())}function vf(){document.hidden||ro()&&window.setTimeout(function(){DE()||uE||(gh=Xi[Vc.Users_Position].name,ME())},5e3)}function gf(){qu("side_panel_"+tu,"side_panel_text_focus")}function yf(){zu("side_panel_"+tu,"side_panel_text_focus")}function bf(){tu?1===tu?u_():2===tu?(document.body.addEventListener("keydown",rc,!1),l_()):3===tu?(document.body.addEventListener("keydown",rc,!1),__()):4===tu?$u(rc):5===tu?wf(pc):6===tu?wf(ho()?xc:vc):7===tu?wf(Uc):8===tu?wf(gc):9===tu?wf(Tc):10===tu&&wf(Bc):Vc.Main_Go!==Cc?(Vc.Search_isSearching||Vc.Main_Go!==Mc&&Vc.Main_Go!==Sc&&Vc.Main_Go!==Ic||Bd(),Vc.Main_BeforeSearch=Vc.Main_Go,Vc.Main_Go=Cc,M_(Vc.Main_BeforeSearch),k_()):document.body.addEventListener("keydown",rc,!1),Cf()}function wf(e){e===Vc.Main_Go?document.body.addEventListener("keydown",rc,!1):(Vc.Main_Before=Vc.Main_Go,Vc.Main_Go=e,M_(Vc.Main_Before),k_())}function kf(e){rc=e,document.body.removeEventListener("keydown",rc),document.body.addEventListener("keydown",Af,!1),zu("side_panel","side_panel_hide")}function Cf(){document.body.removeEventListener("keydown",Af),qu("side_panel","side_panel_hide"),yf(),tu=0,gf()}function Af(e){switch(e.keyCode){case Va:case Oa:document.body.addEventListener("keydown",rc,!1),Cf(),Tf();break;case Ga:tu&&(yf(),tu--,gf());break;case Ra:tu<10&&(yf(),tu++,gf());break;case Na:bf()}}function Ef(e){switch(e.keyCode){case Va:e_();break;case Ua:2<++zc&&(zc=0),t_(),Zu(),Ku();break;case Oa:--zc<0&&(zc=2),t_(),Zu(),Ku();break;case Na:zc?Pu&&1===zc?Android.mclose(!1):Pu&&2===zc&&Android.mclose(!0):e_()}}Ou();var Mf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],If=[pc,xc,Uc,gc,Tc,Bc],Sf=!1;function xf(e){if(!(Sf||fb.FirstLoad||K_()))switch(e.keyCode){case Va:m_()?(Tf(),f_()):c_()?(Tf(),r_()):Vc.Main_Go===yc?(Vc.Main_OldgameSelected=Vc.Main_gameSelected,Vc.Games_return?(Vc.Main_Go=Ac,Vc.Main_gameSelected=Vc.gameSelectedOld):(Vc.Main_Go=Vc.Main_BeforeAgame,Vc.Main_BeforeAgame=pc),Uo(),Lf(),C_()):Vc.Main_Go===Gc?(Vb(yc),Lf(),C_()):Vc.Main_Go===kc?(Vb(xc),Lf(),C_()):Vc.Main_Go===Sc?(Vb(Mc),Lf(),C_()):Vc.Main_Go===Oc?(Vc.Main_Go=yc,As(),Lf(),C_()):Vc.Main_Go===bc?(Vc.Main_Go=xc,bM(),Lf(),C_()):Vc.Main_Go===wc?(Vc.Main_Go=xc,ZA(),Lf(),C_()):Vc.Main_Go===Rc?(Vc.Main_Go=xc,PI(),Lf(),C_()):Vc.Main_Go===Pc?(Vc.Main_Go=xc,yA(),Lf(),C_()):Vc.Main_Go===Mc?(Vc.Main_Go=Vc.Main_BeforeChannel,Vc.Main_BeforeChannel=pc,ud(),Vc.Main_selectedChannel_id="",Lf(),C_()):Vc.Main_Go===Ic?(Vc.Main_Go=Mc,ll(),Lf(),C_()):Vc.Main_Go===Ec?(Vc.Main_Go===Vc.Main_BeforeSearch?Vc.Main_Go=pc:Vc.Main_Go=Vc.Main_BeforeSearch,Yk(),Vc.Search_isSearching=!1,Lf(),C_()):Vc.Main_Go===Ac?(Vc.Main_Go===Vc.Main_BeforeSearch?Vc.Main_Go=pc:Vc.Main_Go=Vc.Main_BeforeSearch,Vc.Search_isSearching=!1,sk(),Lf(),C_()):Vc.Main_Go===Lc?(Vc.Main_Go===Vc.Main_BeforeSearch?Vc.Main_Go=pc:Vc.Main_Go=Vc.Main_BeforeSearch,Vc.Main_selectedChannel_id&&Od(),Tw(),Vc.Search_isSearching=!1,Lf(),C_()):(Lf(),kf(xf));break;case Ua:if(Vc.Search_isSearching||Vc.Main_Go===Mc||Vc.Main_Go===Ic||Vc.Main_Go===Sc||Vc.Main_Go===Ec||Vc.Main_Go===Ac||Vc.Main_Go===Lc)break;zu(Mf[Vc.Main_CenterLablesVectorPos],"icon_center_line"),Vc.Main_CenterLablesVectorPos++,5<Vc.Main_CenterLablesVectorPos&&(Vc.Main_CenterLablesVectorPos=0),Tf(),Bf();break;case Oa:if(Vc.Search_isSearching||Vc.Main_Go===Mc||Vc.Main_Go===Ic||Vc.Main_Go===Sc||Vc.Main_Go===Ec||Vc.Main_Go===Ac||Vc.Main_Go===Lc)break;zu(Mf[Vc.Main_CenterLablesVectorPos],"icon_center_line"),Vc.Main_CenterLablesVectorPos--,Vc.Main_CenterLablesVectorPos<0&&(Vc.Main_CenterLablesVectorPos=5),Tf(),Bf();break;case Ra:zu(Mf[Vc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",xf),Fc=!1,C_();break;case Na:Gf()}}function Pf(e){window.clearTimeout(dc),w_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",xf),document.body.addEventListener("keydown",xf,!1),Tf()}function Lf(){zu(Mf[Vc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",xf),Fc=!1}function Tf(){Fc=!0,qu(Mf[Vc.Main_CenterLablesVectorPos],"icon_center_line")}function Bf(){M_(Vc.Main_Go),Vc.Main_Go=If[Vc.Main_CenterLablesVectorPos],Vc.Main_Go!==xc||ho()?k_(!0):(Vc.Main_Go=vc,Lf(),k_())}function Of(){Vc.Main_Go===pc?(fb=jb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===xc?document.body.removeEventListener("keydown",lI):Vc.Main_Go===yc?document.body.removeEventListener("keydown",ts):Vc.Main_Go===Uc?(fb=Wb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===Ec?document.body.removeEventListener("keydown",oC):Vc.Main_Go===Ac?document.body.removeEventListener("keydown",pk):Vc.Main_Go===Lc?document.body.removeEventListener("keydown",zw):Vc.Main_Go===Ic?document.body.removeEventListener("keydown",kl):Vc.Main_Go===Mc?document.body.removeEventListener("keydown",Gd):Vc.Main_Go===wc?document.body.removeEventListener("keydown",rE):Vc.Main_Go===Rc?document.body.removeEventListener("keydown",YI):Vc.Main_Go===Pc?document.body.removeEventListener("keydown",TA):Vc.Main_Go===gc?(fb=Xb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===Sc?(fb=qb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===Tc?document.body.removeEventListener("keydown",NS):Vc.Main_Go===Bc?(fb=Hb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===Gc?(fb=zb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===kc?(fb=Yb,document.body.removeEventListener("keydown",Fb)):Vc.Main_Go===Oc?document.body.removeEventListener("keydown",Ns):Vc.Main_Go===bc&&document.body.removeEventListener("keydown",RM)}function Gf(){window.clearTimeout(dc),w_(),Vc.Main_Go!==Mc&&(Vc.Main_BeforeChannelisSet=!1),Vc.Main_Go!==yc&&(Vc.Main_BeforeAgameisSet=!1),n_(),Vc.Main_Go===pc?(fb=jb,bb()):Vc.Main_Go===xc?jM():Vc.Main_Go===Uc?(fb=Wb,bb()):Vc.Main_Go===yc?Ro():Vc.Main_Go===Pc?bA():Vc.Main_Go===Mc?_d():Vc.Main_Go===Ic?rl():Vc.Main_Go===Ec?jk():Vc.Main_Go===Ac?dk():Vc.Main_Go===Lc?Bw():Vc.Main_Go===gc?(fb=Xb,bb()):Vc.Main_Go===kc?(fb=Yb).loadingData||fb.key_refresh():Vc.Main_Go===Tc?bS():Vc.Main_Go===Bc?(fb=Hb,bb()):Vc.Main_Go===Gc?(fb=zb,bb()):Vc.Main_Go===Sc?(fb=qb,bb()):Vc.Main_Go===Oc?Es():Vc.Main_Go===bc?wM():Vc.Main_Go===wc?KA():Vc.Main_Go===Rc&&LI(),dc=window.setTimeout(b_,3e3)}function Uf(e,t){localStorage.setItem(e,t)}function Rf(e,t){return parseInt(localStorage.getItem(e))||t}function Nf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Vf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Df(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Jf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),qc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Ff(e,t,n,a,i,o,s){Pu?qf(e,t,n,a,i,o):zf(e,t,n,a,i,o,s)}function Hf(e,t,n,a,i,o,s,d){Pu&&d?qf(e,t,n,a,i,o):zf(e,t,n,a,i,o,s)}function qf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function zf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Tu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(hu,mu),1<n&&d.setRequestHeader(pu,yu),2<n&&d.setRequestHeader(vu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}function Xf(e,t,n,a,i,o,s){Pu?Yf(e,t,n,a,i,o):zf(e,t,n,a,i,o,s)}function Yf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a,!0);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Yf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("POST",(s?Tu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(hu,mu),1<n&&d.setRequestHeader(pu,yu),2<n&&d.setRequestHeader(vu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var jf=0,Wf=null,Qf=0,Zf=!1,Kf=0,$f=0,em=!1,tm=0,nm=2e3,am=5,im="source",om=im,sm=0,dm=[],lm="",rm=!1,cm=0,um=0,_m=1,fm=!1,mm=0,hm=!1,pm=!1,vm=2e3,gm=[0,5],ym=0,bm=!1,wm=!1,km=["next_button","back_button"],Cm=0,Am=!1;function Em(){mv(),Zv(),Np(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo),Yu("stream_info_name",Vc.Main_selectedChannelDisplayname),Xu("stream_info_title",$b),Xu("stream_info_game",Zb+" "+Kb+" "+nw),Yu("stream_live_icon",tw),Yu("progress_bar_duration",ov(ym)),Ky((gp=gm)[1]),ju("stream_info_title"),Vc.Play_isHost=!1,Yu("progress_bar_current_time",ov(0)),Yu("stream_live_time",""),Yu("stream_watching_time",""),fm=null!==Vc.ChannelVod_vodId,yr=Gt+".",fm?(gr=sl,Mr()):ec(),Xu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Fu("progress_pause_holder"),$m(),Fu("scene_channel_panel_bottom"),Qf=mm=0,window.clearInterval(Wf),pm=!1,ch=-13,cm=um=0,sm=2,Vm(),og(3),$h=!1,Xv(),ro()?(Qa=!0,Za=Vc.Main_selectedChannel_id,mi()):fv(),document.addEventListener("visibilitychange",Om,!1),Zf=!1,em=!($f=Kf=0),Mm(),document.body.removeEventListener("keyup",W_)}function Mm(){tm=0,nm=2e3,Im()}function Im(){Ff("https://clips.twitch.tv/api/v2/clips/"+ew+"/status",nm,1,null,xm,Sm,!0)}function Sm(){++tm<am?(nm+=250,Im()):(hv(),ug(3))}function xm(e){dm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)dm.length?dm.push({id:e[t].quality+"p"+Pm(e[t].frame_rate),url:e[t].source}):dm.push({id:e[t].quality+"p"+Pm(e[t].frame_rate)+" (source)",url:e[t].source});um=_m,Lm()}function Pm(e){return 40<e?60:""}function Lm(){window.clearInterval(Wf),lm=dm[sm=0].url,-1!==im.indexOf("source")&&(im="source");for(var e=0;e<Qm();e++){if(dm[e].id===im){lm=dm[sm=e].url;break}-1!==dm[e].id.indexOf(im)&&(lm=dm[sm=e].url)}om=im,fc&&console.log("PlayClip_onPlayer:",'\n\n"'+lm+'"\n'),um=_m,Pu&&em&&Android.startVideoOffset(lm,3,rm?-1:Android.gettime()),rm=!1,Tm()}function Tm(){Th&&!Gv()&&Bv(),Pu&&(Qf=0,mp=1+vm/1e3,hm=!1,window.clearInterval(Wf),Wf=window.setInterval(Gm,hp))}function Bm(e){Yu("progress_bar_duration",ov(ym=e/1e3)),jm()}function Om(){document.hidden&&Rm()}function Gm(){Pu&&(cm=Android.gettime()),ym<cm/1e3&&(Pu&&Android.play(!1),Play_PannelEndStart(3)),em&&jf===cm&&!nv()?++Qf>mp&&(hm&&pm&&sm<Qm()-1?sm++:!hm&&pm&&mm++,navigator.onLine?1<mm?tv(mm,3,Um):(Zm(),Lm(),pm=!0):ev(!1,3)):(Qf=mm=0,pm=!1),jf=cm}function Um(e){if(!e){if(!(sm<Qm()-1))return void ev(!1,3);sm++}mm=0,Zm(),Lm(),pm=!0}function Rm(){em&&(Am=!1,Nm(),bv(),cv())}function Nm(){Xm(),dm=[],window.clearInterval(Wf),Pu&&Android.stopVideo(3),em=!1,Wr(),uv(),FE(),document.body.removeEventListener("keydown",th),document.removeEventListener("visibilitychange",Om),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",sl=0}function Vm(){var e,t=Dm(1,0),n=Dm(-1,fb.ColoumnsCount-1);wm=bm=!1,t?(bm=!0,Yu("next_button_text_name",(e=JSON.parse(document.getElementById(fb.ids[8]+t).getAttribute(Cu)))[4]),Xu("next_button_text_title",e[9]),Yu("end_next_button_text_name",e[4]),Xu("end_next_button_text_title",e[9]),Jm(0,1)):Jm(0,0),n?(wm=!0,Yu("back_button_text_name",(e=JSON.parse(document.getElementById(fb.ids[8]+n).getAttribute(Cu)))[4]),Xu("back_button_text_title",e[9]),Jm(1,1)):Jm(1,0)}function Dm(e,t){return g_(fb.posY,fb.posX+e,fb.ids[0])?fb.posY+"_"+(fb.posX+e):g_(fb.posY+e,t,fb.ids[0])?fb.posY+e+"_"+t:null}function Jm(e,t){document.getElementById(km[e]).style.opacity=t}function Fm(){Cm?1===Cm?Hm():-1===Cm&&qm():(fm&&Vc.Play_ChatForceDisable&&(nv()?Yr(Ar):jr()),Kv()||zv(3))}function Hm(){Jb(1,0),zm()}function qm(){Jb(-1,fb.ColoumnsCount-1),zm()}function zm(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",ff(function(){Nm(),sf(fb.posY+"_"+fb.posX,fb.ids,Fb),e.style.transition=""})}function Xm(){Zg=!1,Qg=Kg=0,Lv(),im=om,document.getElementById("scene_channel_panel").style.opacity="0",Pu&&Wy(Android.gettime()/1e3,ym,!0),Xu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Ag)}function Ym(){jm(),av(),Ag=window.setInterval(jm,1e3),bv(),Hy(),Wm(),Zm(),document.getElementById("scene_channel_panel").style.opacity="1",Km()}function jm(){Pu&&Wy(Android.gettime()/1e3,ym,!Zg)}function Wm(){for(var e=sm=0;e<Qm();e++){if(dm[e].id===im){sm=e;break}-1!==dm[e].id.indexOf(im)&&(sm=e)}}function Qm(){return dm.length}function Zm(){1===Qm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):sm?sm===Qm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(im=dm[sm].id).indexOf("source")?Yu("quality_name",im.replace("source",ge)):Yu("quality_name",im)}function Km(){fh=window.setTimeout(Xm,5e3+sy)}function $m(){document.getElementById("quality_name").style.width="16ch",Yu("open_vod_text",fm?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function eh(){fm?(Vc.vodOffset=sl,Nm(),document.body.addEventListener("keydown",_b,!1),Xv(),ff(_y)):($h=!0,pv(ln),window.setTimeout(function(){$h=!1,vv()},2e3))}function th(e){if(um!==_m)switch(e.keyCode){case Va:wv()?(bv(),Rm()):yv()}else switch(e.keyCode){case Oa:DE()?yh&&!uE&&(KE(),yh--,YE()):ph&&!Iv()&&Gv()?(lh++,Fv()):Iv()?(Lv(),2===iy?(jv(),5<++Kh&&(Kh=0),Yv()):iy?1===iy&&-1<Cm&&(Cm--,wm||!Cm?qy():Cm++):(eb(-1,ym),sy=2500),Km()):Kv()?(ag(),tg(),--ip<(bm?-1:0)&&(ip=3),eg()):Ym();break;case Ua:DE()?yh<pE-1&&!uE&&(KE(),yh++,YE()):!ph||Iv()||Kv()?Iv()?(Lv(),2===iy?(jv(),--Kh<0&&(Kh=5),Yv()):iy?1===iy&&Cm<1&&(Cm++,bm||!Cm?qy():Cm--):(eb(1,ym),sy=2500),Km()):Kv()?(ag(),tg(),3<++ip&&(ip=bm?-1:0),eg()):Ym():Uf("ChatEnable",(Th=Gv()||Kv()?(Ov(),!1):(Bv(),!0))?"true":"false");break;case Ga:Kv()?ag():Iv()?(2===iy&&1!==Kh?(iy--,qy()):1===iy?(iy--,qy()):0<sm&&1===Kh&&(sm--,Zm()),Lv(),Km()):DE()?DE()?XE():Ym():JE();break;case Ra:Kv()?ag():Iv()?(iy?1===iy?(iy++,qy()):sm<Qm()-1&&1===Kh&&(sm++,Zm()):(iy++,qy()),Lv(),Km()):DE()?FE():ph&&Gv()?(4<++_h?Jv(!(_h=1)):4===_h&&Jv(!0),Vv(!0)):Ym();break;case Na:Kv()?ig(3):Iv()?iy?1===iy?Fm():cg(3):(Lv(),Km(),Qg&&Qy()):DE()?(Nm(),af(yh,EE,wg)):Ym();break;case Va:Iv()?Xm():DE()?FE():wv()?(bv(),Rm()):yv();break;case Ta:case La:case Ba:fm&&!Vc.Play_ChatForceDisable&&(nv()?Yr(Ar):jr()),Kv()||zv(3)}}var nh,ah,ih,oh,sh,dh,lh=0,rh=lh,ch=-5,uh=.55,_h=3,fh=null,mh="source",hh=mh,ph=!0,vh=!1,gh="",yh=0,bh=2e3,wh=0,kh=1,Ch=2,Ah=0,Eh=null,Mh=0,Ih=0,Sh=0,xh="",Ph=[],Lh=0,Th=!1,Bh=null,Oh=null,Gh=null,Uh="",Rh=0,Nh=5,Vh=0,Dh=5,Jh=0,Fh=!1,Hh=null,qh=!1,zh=0,Xh=null,Yh=0,jh=0,Wh=!1,Qh=!1,Zh=!1,Kh=1,$h=!1,ep=!1,tp=1e4,np=2e3,ap="",ip=0,op=3,sp=null,dp="",lp=0,rp=0,cp="",up=!0,_p=!1,fp=!1,mp=7,hp=1e3,pp=0,vp="",gp=[],yp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],bp=[0,0,0,1,2,2,2,1],wp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],kp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Cp=1,Ap=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Ep(){sh=document.getElementById("chat_container"),dh=document.getElementById("inner_progress_bar"),lh=Rf("ChatPositionsValue",0),_h=Rf("ChatSizeValue",3),Th=Vf("ChatEnable",!1),ph=Vf("Play_isFullScreen",!0),Vv(!1),Dv(!1),Ip()}function Mp(e){e?void 0!==nh&&(lh=nh,_h=ih,(Th=ah)||Ov(),Vv(!1)):(nh=lh,ah=Th,ih=_h,lh=0,Bv(),_h=4,Jv(Th=!0),Vv(!1),cr&&(cr.scrollTop=cr.scrollHeight)),Uf("Play_isFullScreen",ph)}function Ip(){Cp=wC("chat_font_size");for(var e=0;e<Ap.length;e++)zu("chat_inner_container",Ap[e]);qu("chat_inner_container",Ap[Cp])}function Sp(){mv(),Xu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Aa+_.toUpperCase()+"</div>"),B_("stream_info_title"),fm=!(ep=!1),Np(document.getElementById("stream_info_icon"),Sa),Vc.Play_isHost?Yu("stream_info_name",Vc.Play_DisplaynameHost):Yu("stream_info_name",Vc.Play_selectedChannelDisplayname),Jm(0,0),Jm(1,0),Vc.Play_WasPlaying=1,A_(),vh=Vc.Play_isHost,Vc.Play_isHost=!1,_p=!1,Fu("scene_channel_panel_bottom"),rp=lp=0,Yu("stream_watching_time",g+ov(0)),Uh=sv(0),Yu("stream_live_time",y+Uh),Ju("progress_pause_holder"),og(1),ch=-5,Yh=jh=pp=0,window.clearInterval(Xh),Qh=!1,tp=3e3,up=!(Vh=0),Ah=wh,Zh=!(Fh=!(Sh=Ih=Mh=qh=0)),document.addEventListener("visibilitychange",Pp,!1),Tp(),Vp(),document.body.removeEventListener("keyup",W_),Eh=window.setInterval(Gp,6e4)}function xp(e){pv(e)}function Play_CheckResume(){Fh&&Pp(),Ng&&wy(),em&&(Rm(),window.clearInterval(Wf))}function Pp(){document.hidden?Kv()?(bv(),Ov(),lv()):(uv(),Zh=!1,sr(),window.clearInterval(Eh)):(Fh=!0,Av(),Fh&&(mv(),tp=3e3,_p=!(Vh=0),ep?Gp():Tp(),Ah=wh,Jh=0,navigator.onLine?Vp():oh=window.setInterval(Lp,100),Eh=window.setInterval(Gp,6e4)))}function Lp(){(navigator.onLine||200<Jh)&&(window.clearInterval(oh),Vp()),Jh++}function Tp(){zf("https://api.twitch.tv/kraken/streams/"+Vc.Play_selectedChannel_id,tp,2,null,Bp,Op,!1)}function Bp(e){null!==(e=JSON.parse(e)).stream&&(Yu("stream_info_name",vh?Vc.Play_DisplaynameHost:Vc.Play_selectedChannelDisplayname),Vc.Play_selectedChannel_id=e.stream.channel._id,Xu("stream_info_title",jS.parse(e.stream.channel.status,!1,!0)),Vc.Play_gameSelected=e.stream.game,ap=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Yu("stream_info_game",v+Vc.Play_gameSelected+h+h_(e.stream.viewers)+" "+J+ap),Vc.Play_selectedChannelLogo=e.stream.channel.logo,ep=!0,Np(document.getElementById("stream_info_icon"),Vc.Play_selectedChannelLogo),Uh=e.stream.created_at,ro()?(Qa=!0,Za=Vc.Play_selectedChannel_id,mi()):fv())}function Op(){Vh<Dh&&(tp+=500,window.setTimeout(function(){Fh&&Tp()},750)),Vh++}function Gp(){zf("https://api.twitch.tv/kraken/streams/"+Vc.Play_selectedChannel_id,3e3,2,null,Up,Rp,!1)}function Up(e){null!==(e=JSON.parse(e)).stream&&(Xu("stream_info_title",jS.parse(e.stream.channel.status,!1,!0)),Vc.Play_gameSelected=e.stream.game,Yu("stream_info_game",v+Vc.Play_gameSelected+h+h_(e.stream.viewers)+" "+J+ap),ep||Np(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Rp(){pp<Dh?(window.setTimeout(function(){Fh&&Gp()},2500),pp++):pp=0}function Np(e,t){e.onerror=function(){this.src=Sa,ep=!1},e.src=t}function Vp(){Rh=0,np=2e3+(_p?3e3:0),Dp()}function Dp(){var e,t;if(e=Ah===wh?"https://api.twitch.tv/api/channels/"+Vc.Play_selectedChannel+"/access_token"+(ro()&&Xi[Vc.Users_Position].access_token?"?oauth_token="+Xi[Vc.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Vc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Mh.token)+"&sig="+Mh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Pu){if(!(t=Android.mreadUrl(e,np,1,null)))return void Fp();200===(t=JSON.parse(t)).status?(Rh=0,Fh&&zp(t.responseText)):403===t.status?Hp():404===t.status?_g():Fp()}else(t=new XMLHttpRequest).open("GET",Tu+e,!0),t.timeout=np,t.setRequestHeader(hu,mu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Rh=0,Fh&&zp(t.responseText)):403===t.status?(Jp(t),_c?qp():Hp()):404===t.status?(Jp(t),_c?qp():_g()):(Jp(t),Fp()))},t.send(null)}function Jp(e){fc&&(console.log(e.status),console.log(e.responseText))}function Fp(){Fh&&up&&(++Rh<Nh+(_p?7:0)?(np+=250,_p?window.setTimeout(Dp,500):Dp()):_c?qp():_g())}function Hp(){hv(),pv(Dn),window.setTimeout(function(){Fh&&_g()},4e3)}function qp(){Ph=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Ah=Ch,Fh&&Wp()}function zp(e){Ah===wh?(Mh=JSON.parse(e),Ah=kh,Vp()):Ah===kh&&(Ph=Xp(Ih=e),Ah=Ch,Fh&&Wp())}function Xp(e){for(var t,n=[],a="",i=1,o=jp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Yp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Yp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function jp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Wp(){window.clearInterval(Xh),xh=Ph[Lh=0].url,-1!==mh.indexOf("source")&&(mh="source");for(var e=0;e<Nv();e++){if(Ph[e].id===mh){xh=Ph[Lh=e].url;break}-1!==Ph[e].id.indexOf(mh)&&(xh=Ph[Lh=e].url)}hh=mh,Ah=Ch,fc&&console.log("Play_onPlayer:",'\n\n"'+xh+'"\n'),Pu&&Fh&&Android.startVideo(xh,1),Qp()}function Qp(){fp=!1,Th&&!Gv()&&Bv(),Zh=!0,Zp(),Pu&&(Yh=0,mp=1+bh/1e3,Wh=!1,window.clearInterval(Xh),Xh=window.setInterval(Kp,hp))}function Zp(){Vc.Play_ChatForceDisable?Ul():tc()}function Kp(){var e=!nv();Pu&&(lp=Android.gettime()),Fh&&zh===lp&&e?mp<++Yh&&(Wh&&Qh&&Lh<Nv()-1?Lh++:!Wh&&Qh&&jh++,navigator.onLine?1<jh?tv(jh,1,$p):(Rv(),Wp(),Qh=!0):ev(!1,1)):(Yh=jh=0,Qh=!1),zh=lp,e&&rp++}function $p(e){if(!e){if(!(Lh<Nv()-1))return void _g();Lh++}jh=0,Rv(),Wp(),Qh=!0}function ev(e,t){Vc.Play_isHost=e,og(t),ug(t)}function tv(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&ev(!1,t))},a.send(null)}function nv(){return!!Pu&&!Android.getPlaybackState()}function av(){var e=mf();Yu("stream_clock",e),Yu("label_clock",e)}function iv(e){return e<10?"0"+e:e}function ov(e){var t,n,a;return t=iv(parseInt(e)%60),n=iv((e=Math.floor(e/60))%60),a=iv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function sv(e){return ov(parseInt(e/1e3))}function dv(e){return sv((new Date).getTime()-new Date(e).getTime())}function lv(){Fh&&(rv(),Vc.Play_WasPlaying=0,cv())}function rv(){Pu&&Android.stopVideo(1),Fh=!1,FE(),Wr(),uv(),_v(),Vc.Play_selectedChannel_id=""}function cv(){Wy(0,0),Fu("scene1"),Ju("scene2"),y_()}function uv(){Sv(),Av(),vv(),Zv(),vp="",Lh===Nv()-1&&(hh=Ph[0].id),Gg===jy()-1&&(Ig=Og[0].id),sm===Qm()-1&&(om=dm[0].id)}function _v(){Zh=!1,document.body.removeEventListener("keydown",wg),document.removeEventListener("visibilitychange",Pp),sr(),window.clearInterval(Eh),window.clearInterval(Xh),$h=!1}function fv(){Xu("fallow_text",Aa+Tt),ja=!1}function mv(){Pu?Android.mshowLoading(!0):Fu("dialog_loading_play")}function hv(){Pu?Android.mshowLoading(!1):Ju("dialog_loading_play")}function pv(e){Yu("dialog_warning_play_text",e),Fu("dialog_warning_play")}function vv(){Ju("dialog_warning_play")}function gv(){return Hu("dialog_warning_play")}function yv(){wv()?bv():(Fu("play_dialog_exit"),Bh=window.setTimeout(yv,3e3))}function bv(){window.clearTimeout(Bh),Ju("play_dialog_exit")}function wv(){return Hu("play_dialog_exit")}function kv(){window.clearTimeout(Oh)}function Cv(){window.clearTimeout(Gh)}function Av(){kv(),Cv(),Ju("play_dialog_simple_pause")}function Ev(){hv(),nv()?Mv()?(Ju("play_dialog_simple_pause"),Gh=window.setTimeout(Ev,8e3)):(Fu("play_dialog_simple_pause"),Oh=window.setTimeout(Ev,1500)):Av()}function Mv(){return Hu("play_dialog_simple_pause")}function Iv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Sv(){Lv(),document.getElementById("scene_channel_panel").style.opacity="0",mh=hh,window.clearInterval(Ag)}function xv(){Xv(),Uv(),Rv(),Pv(),Ag=window.setInterval(Pv,1e3),av(),bv(),document.getElementById("scene_channel_panel").style.opacity="1",Tv()}function Pv(){Yu("stream_watching_time",g+ov(rp)),Yu("stream_live_time",y+(-1===Uh.indexOf("00:00")?dv(Uh):"00:00"))}function Lv(){window.clearTimeout(fh),sy=0}function Tv(){fh=window.setTimeout(Sv,5e3)}function Bv(){Fv(),Fu("chat_container")}function Ov(){Ju("chat_container")}function Gv(){return Hu("chat_container")}function Uv(){for(var e=Lh=0;e<Nv();e++){if(Ph[e].id===mh){Lh=e;break}-1!==Ph[e].id.indexOf(mh)&&(Lh=e)}}function Rv(){1===Nv()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):Lh?Lh===Nv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(mh=Ph[Lh].id).indexOf("source")?Yu("quality_name",mh.replace("source",ge)+Ph[Lh].band):Yu("quality_name",mh+Ph[Lh].band)}function Nv(){return Ph.length}function Vv(e){sh.style.height=kp[_h-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=kp[_h-1].dialogTop+"%",Fv(),ir(),e&&Hv(Nn+kp[_h-1].percentage),window.setTimeout(function(){cr&&(cr.scrollTop=cr.scrollHeight)},500),Uf("ChatSizeValue",_h)}function Dv(e){sh.style.backgroundColor="rgba(0, 0, 0, "+uh+")",e&&Hv(Vn+(100*uh).toFixed(0)+"%")}function Jv(e){lh=e?bp[rh=lh]:wp[lh][rh]}function Fv(){var e=4===_h;lh<0?lh=e?2:7:(e?2:7)<lh&&(lh=0),sh.style.top=(e?.2:yp[lh].top+yp[lh].sizeOffset[_h-1])+"%",sh.style.left=yp[lh+(e?2:0)].left+"%",Uf("ChatPositionsValue",lh)}function Hv(e){window.clearTimeout(Hh),Yu("play_chat_dialog_text",e),Fu("play_chat_dialog"),Hh=window.setTimeout(qv,1e3)}function qv(){Ju("play_chat_dialog")}function zv(e){nv()?(Av(),Xu("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(Iv()&&Sv(),window.clearInterval(Xh),Xh=window.setInterval(Kp,hp)):2===e?(Iv()&&Dy(),window.clearInterval(qg),qg=window.setInterval(Gy,hp)):3===e&&(Iv()&&Xm(),window.clearInterval(Wf),Wf=window.setInterval(Gm,hp)),Pu&&Android.play(!0)):(window.clearInterval(Xh),window.clearInterval(qg),window.clearInterval(Wf),Xu("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Ev(),Pu&&Android.play(!1))}function Xv(){jv(),Kh=1,Yv()}function Yv(){qu("scene2_pannel_"+Kh,"playbotton_focus")}function jv(){zu("scene2_pannel_"+Kh,"playbotton_focus")}function Wv(e){Sg=Ah=-1,um=-1,Ov(),Sv(),Xm(),Dy(),$h||vv(),hv(),bv(),3===e&&bm&&Am&&(tg(),ip=-1),eg()}function Qv(){Fu("dialog_end_stream")}function Zv(){Ju("dialog_end_stream"),ag(),$v()}function Kv(){return Hu("dialog_end_stream")}function $v(){tg(),ip=0,eg()}function eg(){qu("dialog_end_"+ip,"dialog_end_icons_focus")}function tg(){zu("dialog_end_"+ip,"dialog_end_icons_focus")}function ng(e){1===e?dp=Vc.Play_selectedChannelDisplayname+" "+_:2===e?dp=Vc.Main_selectedChannelDisplayname+$t:3===e&&(dp=Vc.Main_selectedChannelDisplayname+Gt),Xu("dialog_end_stream_text",dp+S+ca+(bm&&Am?la:tn)+op+"..."),Kv()?(Sg=Ah=Ch,um=_m,-1===--op?(Xu("dialog_end_stream_text",dp+S+ca+tn+"0..."),bv(),Ov(),1===e?lv():2===e?Ry():3===e&&(bm&&Am?Hm():Rm())):sp=window.setTimeout(function(){ng(e)},1e3)):sp=window.setTimeout(function(){ng(e)},50)}function ag(){window.clearTimeout(sp),Xu("dialog_end_stream_text",dp+S+ca+nn)}function ig(e){var t=!0;-1===ip&&bm?Hm():ip?1===ip?Vc.Play_isHost?(Vc.Play_DisplaynameHost=Vc.Play_selectedChannelDisplayname+ne,Vc.Play_selectedChannel=cp.target_login,Vc.Play_selectedChannelDisplayname=cp.target_display_name,Vc.Play_DisplaynameHost=Vc.Play_DisplaynameHost+Vc.Play_selectedChannelDisplayname,rv(),document.body.addEventListener("keydown",wg,!1),Vc.Play_selectedChannel_id=cp.target_id,ff(Sp)):eh():2===ip?sg(e):3===ip&&lg(e):2===e?Og.length?(Xg=!(ry=!0),Ty(),Av(),gr=ty=0,Mr()):(t=!1,pv(ea),window.setTimeout(function(){vv()},2e3)):3===e&&(dm.length?(hm=!(rm=!0),Lm(),Av(),fm?(ty=0,gr=sl,Mr()):ec()):(t=!1,pv(ea),window.setTimeout(function(){vv()},2e3))),1!==ip&&3===ip&&""===Vc.Play_gameSelected&&(t=!1),t&&Zv()}function og(e){e?1===e?(tg(),ip=2,eg(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?($v(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&($v(),document.getElementById("dialog_end_-1").style.display=bm?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Yu("dialog_end_vod_text",fm?sn:dn)):(tg(),ip=1,eg(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Yu("dialog_end_vod_text",un))}function sg(e){Vc.Main_BeforeChannelisSet||Vc.Main_Go===Ic||Vc.Main_Go===Sc||(Vc.Main_BeforeChannel=Vc.Main_BeforeAgameisSet&&Vc.Main_Go!==yc?Vc.Main_BeforeAgame:Vc.Main_Go,Vc.Main_BeforeChannelisSet=!0),M_(Vc.Main_Go),Vc.Main_Go=Mc,1===e?(Vc.Main_selectedChannel_id=Vc.Play_selectedChannel_id,Vc.Main_selectedChannel=Vc.Play_selectedChannel,Vc.Main_selectedChannelDisplayname=Vc.Play_selectedChannelDisplayname,Qs=ja,Ov(),lv()):2===e?Ry():3===e&&Rm()}function dg(e){Vc.Search_isSearching||(Vc.Main_BeforeSearch=Vc.Main_Go),M_(Vc.Main_Go),Vc.Main_Go=Cc,1===e?(Ov(),lv()):2===e?Ry():3===e&&Rm()}function lg(e){if(""===Vc.Play_gameSelected)return $h=!0,pv(Qn),void window.setTimeout(function(){$h=!1,vv()},2e3);Vc.Main_BeforeAgameisSet||Vc.Main_Go===Oc||Vc.Main_Go===Gc||(Vc.Main_BeforeAgame=Vc.Main_BeforeChannelisSet&&Vc.Main_Go!==Mc&&Vc.Main_Go!==Ic&&Vc.Main_Go!==Sc?Vc.Main_BeforeChannel:Vc.Main_Go,Vc.Main_BeforeAgameisSet=!0),M_(Vc.Main_Go),Vc.Main_Go=yc,Bo=!1,Vc.Main_gameSelected=Vc.Play_gameSelected,Ov(),1===e?lv():2===e?Ry():3===e&&Rm()}function rg(){ro()&&Xi[Vc.Users_Position].access_token?ja?ki():yi():(pv(Bt),$h=!0,window.setTimeout(function(){vv(),$h=!1},2e3))}function cg(e){var t=document.getElementById("scene_channel_panel");2!==Kh&&(t.style.transition="none",t.style.opacity="0"),ff(function(){Kh?1===Kh?(1===e?(Wp(),Sv()):2===e?(Xg=!1,Ty(),Dy()):3===e&&(hm=!1,Lm(),Xm()),Av()):2===Kh?(Za=1===e?Vc.Play_selectedChannel_id:Vc.Main_selectedChannel_id,rg(),Lv(),1===e?Tv():2===e?zy():3===e&&Km()):3===Kh?lg(e):4===Kh?sg(e):5===Kh&&dg(e):eh(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(Xh),_g()):ug(e)}function ug(e){window.clearInterval(Xh),window.clearInterval(Wf),window.clearInterval(qg),Wv(e),op=3,ng(e),Qv()}function _g(){mv(),Ah=-1,Rh=0,np=2e3,sr(),window.clearInterval(Eh),window.clearInterval(Xh),""!==Vc.Play_selectedChannel_id?pg():fg()}function fg(){zf("https://api.twitch.tv/kraken/users?login="+Vc.Play_selectedChannel,np,2,null,mg,hg,!1)}function mg(e){void 0!==(e=JSON.parse(e).users[0])?(Vc.Play_selectedChannel_id=e._id,Rh=0,np=2e3,pg()):ug(1)}function hg(){++Rh<Nh?(np+=250,fg()):ev(!1,1)}function pg(){Ff("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Vc.Play_selectedChannel_id),np,1,null,gg,vg,!0)}function vg(){++Rh<Nh?(np+=250,pg()):ev(!1,1)}function gg(e){void 0!==(cp=JSON.parse(e).hosts[0]).target_login?($h=!0,pv(Vc.Play_selectedChannelDisplayname+cn+ne+cp.target_display_name),window.setTimeout(function(){$h=!1},4e3),og(0),Vc.Play_isHost=!0):(og(1),Vc.Play_isHost=!1),ug(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?Oy(t):3===e&&Bm(t))}function yg(){ja?(Xu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Xu("fallow_text",Aa+Mt)):(Xu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Xu("fallow_text",Aa+It))}function bg(e){Kv()&&!wv()?(ag(),yv()):DE()?FE():Iv()&&!db()?e?Dy():Sv():db()&&wv()?(sb(),Ny(!1),cv()):wv()?(bv(),Ov(),e?Ry():lv()):(gv()&&vv(),yv())}function wg(e){if(Ah!==Ch)switch(e.keyCode){case Va:wv()?(bv(),Ov(),lv()):yv()}else switch(e.keyCode){case Oa:DE()?yh&&!uE&&(KE(),yh--,YE()):ph&&!Iv()&&Gv()?(lh++,Fv()):Iv()?(jv(),5<++Kh&&(Kh=1),Yv(),Lv(),Tv()):Kv()?(ag(),tg(),--ip<(Vc.Play_isHost?1:2)&&(ip=3),eg()):xv();break;case Ua:DE()?yh<pE-1&&!uE&&(KE(),yh++,YE()):!ph||Iv()||Kv()?Iv()?(jv(),--Kh<1&&(Kh=5),Yv(),Lv(),Tv()):Kv()?(ag(),tg(),3<++ip&&(ip=Vc.Play_isHost?1:2),eg()):xv():Uf("ChatEnable",(Th=Gv()||Kv()?(Ov(),!1):(Bv(),!0))?"true":"false");break;case Ga:Iv()?(0<Lh&&1===Kh&&(Lh--,Rv()),Lv(),Tv()):!DE()&&ro()?JE():Kv()?ag():DE()&&XE();break;case Ra:Iv()?(Lh<Nv()-1&&1===Kh&&(Lh++,Rv()),Lv(),Tv()):DE()?FE():ph&&Gv()?(4<++_h?Jv(!(_h=1)):4===_h&&Jv(!0),Vv(!0)):Kv()?ag():xv();break;case Na:if(Kv())ig(1);else if(Iv())cg(1);else if(DE()){var t=document.getElementById(EE[8]+yh);null===t?HE():Vc.Play_selectedChannel!==JSON.parse(t.getAttribute(Cu))[0]?(rv(),af(yh,EE,wg)):HE()}else xv();break;case Va:bg(!1);break;case Ta:case La:case Ba:Kv()||zv(1)}}var kg,Cg,Ag,Eg,Mg="source",Ig=Mg,Sg=0,xg=null,Pg=0,Lg=0,Tg=0,Bg="",Og=[],Gg=0,Ug=0,Rg=5,Ng=!1,Vg=2e3,Dg=0,Jg=5,Fg=1e4,Hg=0,qg=null,zg=0,Xg=!1,Yg=0,jg=!1,Wg=!1,Qg=0,Zg=!1,Kg=0,$g=2e3,ey=!1,ty=0,ny={},ay=0,iy=0,oy=!0,sy=0,dy=0,ly=0,ry=!1,cy=[0,10,30,60,120,300,600,900,1200,1800],uy=!1;function _y(){mv(),Zv(),ty=0,Yu("stream_live_time",""),Yu("stream_watching_time",""),Yu("progress_bar_current_time",ov(0)),yr=O+".",Xu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Ju("progress_pause_holder"),dy=0,Ky((gp=cy)[1]),Sg=wh,fm=!0,sl=0,Vc.Play_isHost=!1,Jm(0,0),Jm(1,0),Vc.vodOffset?(my(),gy()):(oy&&""!==Vc.Main_selectedChannel_id?(Np(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo),ny["#"+Vc.ChannelVod_vodId]||Mr(),ro()?(Za=Vc.Main_selectedChannel_id,Qa=!0,mi()):fv()):(my(),hy()),Yu("stream_info_name",Vc.Main_selectedChannelDisplayname),Xu("stream_info_title",""),Xu("stream_info_game",al+" ["+Zd.toUpperCase()+"]"),Yu("stream_live_icon",il),ju("stream_info_game")),ny["#"+Vc.ChannelVod_vodId]&&!Vc.vodOffset?(hv(),ob()):fy()}function fy(){window.setTimeout(function(){Fu("scene_channel_panel_bottom"),Fu("progress_pause_holder")},1e3),Yu("progress_bar_duration",ov(jd)),Vc.Play_WasPlaying=2,A_(),Eg=window.setInterval(Cy,6e4),V_(vp),zg=Yg=0,window.clearInterval(qg),$h=ey=jg=!(ch=-13),Zg=!1,Tg=Lg=Pg=Kg=0,document.addEventListener("visibilitychange",wy,!1),uy=!(Ng=!(Wg=!1)),Ay(),og(2),document.body.removeEventListener("keyup",W_)}function my(){Dg=0,Jg=5,Fg=1e4}function hy(){zf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Vc.Main_selectedChannel),Fg,2,null,py,vy,!1)}function py(e){void 0!==(e=JSON.parse(e).users[0])?(Vc.Main_selectedChannelLogo=e.logo,Vc.Main_selectedChannel_id=e._id,ny["#"+Vc.ChannelVod_vodId]||Mr(),ro()?(Za=Vc.Main_selectedChannel_id,Qa=!0,mi()):fv()):(Vc.Main_selectedChannelLogo=Sa,Vc.Main_selectedChannel_id=""),Np(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo)}function vy(){++Dg<Jg?(Fg+=500,window.setTimeout(function(){Ng&&hy()},750)):Cg=window.setTimeout(hy,2500)}function gy(){zf("https://api.twitch.tv/kraken/videos/"+Vc.ChannelVod_vodId,Fg,2,null,by,yy,!1)}function yy(){++Dg<Jg&&(Fg+=2e3,gy())}function by(e){e=JSON.parse(e),Xu("stream_info_title",jS.parse(e.title,!1,!0)),Xu("stream_info_game",Qt+v+e.game+" "+h_(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Yu("stream_live_icon",N+P_(e.created_at)),Yu("progress_bar_duration",ov(jd=parseInt(e.length))),ty=1e3*Vc.vodOffset,Wy(Vc.vodOffset,jd,!0),Vc.Main_selectedChannelDisplayname=e.channel.display_name,Yu("stream_info_name",Vc.Main_selectedChannelDisplayname),Vc.Main_selectedChannelLogo=e.channel.logo,Np(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo),Vc.Main_selectedChannel_id=e.channel._id,Vc.Main_selectedChannel=e.channel.name,ro()?(Qa=!0,Za=Vc.Main_selectedChannel_id,mi()):fv(),V_(e.increment_view_count_url)}function wy(){document.hidden?Kv()?(bv(),Ov(),Ry()):(Cy(),tb(),jr(),uv(),window.clearInterval(qg),window.clearInterval(Eg)):(Ng=!0,Av(),Ng&&(mv(),Jh=Jh=0,navigator.onLine?By():oh=window.setInterval(ky,100),Yr(Ar),og(2),Eg=window.setInterval(Cy,6e4)))}function ky(){(navigator.onLine||200<Jh)&&(window.clearInterval(oh),Sg=wh,Ay()),Jh++}function Cy(){Vc.vodOffset=Pu?parseInt(Android.gettime()/1e3):0,A_(),Vc.vodOffset=0}function Ay(){Ug=0,$g=2e3,Ey()}function Ey(){Ff(Sg===wh?"https://api.twitch.tv/api/vods/"+Vc.ChannelVod_vodId+"/access_token"+(ro()&&Xi[Vc.Users_Position].access_token?"?oauth_token="+Xi[Vc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Vc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Pg.token)+"&nauthsig="+Pg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",np,1,null,Sy,My,!0)}function My(){if(Ng){var e;if(Pg.token&&(e=JSON.parse(Pg.token)),e&&0!==JSON.parse(Pg.token).chansub.restricted_bitrates.length)return void xy();++Ug<Rg?($g+=250,Ey()):_c?Iy():(hv(),ug(2))}}function Iy(){Og=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Sg=Ch,Ng&&Ty()}function Sy(e){Sg===wh?(Pg=JSON.parse(e),Sg=kh,Ay()):Sg===kh&&(Og=Xp(Lg=e),Sg=Ch,Ng&&Ty())}function xy(){ro()&&Xi[Vc.Users_Position].access_token?(Za=Vc.Main_selectedChannel_id,Ei()):(hv(),pv(x+St),window.setTimeout(function(){Ng&&Ry()},4e3))}function Py(){hv(),pv(x+xt),window.setTimeout(function(){Ng&&Ry()},4e3)}function Ly(){uy?(hv(),pv(x+Pt),window.setTimeout(function(){Ng&&Ry()},4e3)):(uy=!0,Sg=wh,Ay())}function Ty(){window.clearInterval(qg),Bg=Og[Gg=0].url,-1!==Mg.indexOf("source")&&(Mg="source");for(var e=0;e<jy();e++){if(Og[e].id===Mg){Bg=Og[Gg=e].url;break}-1!==Og[e].id.indexOf(Mg)&&(Bg=Og[Gg=e].url)}Ig=Mg,By()}function By(){fc&&console.log("PlayVod_onPlayer:",'\n\n"'+Bg+'"\n'),Vc.vodOffset?(gr=Vc.vodOffset,Mr(),Pu&&Ng&&Android.startVideoOffset(Bg,2,ry?-1:1e3*Vc.vodOffset),Vc.vodOffset=0):Pu&&Ng&&Android.startVideoOffset(Bg,2,ry?-1:Android.gettime()),ry=!1,Th&&!Gv()&&Bv(),Pu&&(zg=0,mp=3+Vg/1e3,Xg=!1,window.clearInterval(qg),qg=window.setInterval(Gy,hp))}function Oy(e){Yu("progress_bar_duration",ov(jd=e/1e3)),Fy()}function Gy(){Pu&&(ty=Android.gettime()),jd<ty/1e3&&(Pu&&Android.play(!1),Play_PannelEndStart(2)),Ng&&Hg===ty&&!nv()?++zg>mp&&(Xg&&jg&&Gg<jy()-1?Gg++:!Xg&&jg&&Yg++,navigator.onLine?1<Yg?tv(Yg,2,Uy):(Yy(),Ty(),jg=!0):ev(!1,2)):(zg=Yg=0,jg=!1),Hg=ty}function Uy(e){if(!e){if(!(Gg<jy()-1))return void ev(!1,2);Gg++}Yg=0,Yy(),Ty(),jg=!0}function Ry(){Ng&&(Og=[],Ny(!0),cv())}function Ny(e){e&&tb(),Pu&&Android.stopVideo(2),Ng=!1,window.clearInterval(Eg),window.clearInterval(Cg),Vc.Play_WasPlaying=0,oy=!0,Wr(),FE(),uv(),Vy()}function Vy(){document.body.removeEventListener("keydown",_b),document.removeEventListener("visibilitychange",wy),Vc.vodOffset=0,window.clearInterval(xg),window.clearInterval(qg),jd=0}function Dy(){Zg=!1,Qg=Kg=0,Lv(),document.getElementById("scene_channel_panel").style.opacity="0",Pu&&Wy(Android.gettime()/1e3,jd,!0),Xu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",Mg=Ig,window.clearInterval(Ag)}function Jy(e){Fy(),av(),bv(),Ag=window.setInterval(Fy,1e3),e&&(Hy(),Xy(),Yy(),zy()),document.getElementById("scene_channel_panel").style.opacity="1"}function Fy(){Pu&&Wy(Android.gettime()/1e3,jd,!Zg)}function Hy(){iy=1,Cm=0,qy()}function qy(){zu("pause_button","progress_bar_div_focus"),zu("next_button","progress_bar_div_focus"),zu("back_button","progress_bar_div_focus"),zu("progress_bar_div","progress_bar_div_focus"),iy?1===iy?(Cm?1===Cm?qu("next_button","progress_bar_div_focus"):-1===Cm&&qu("back_button","progress_bar_div_focus"):qu("pause_button","progress_bar_div_focus"),jv(),Xu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none"):2===iy&&(Yv(),Xu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none"):(qu("progress_bar_div","progress_bar_div_focus"),jv(),Qg&&($y(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function zy(){fh=window.setTimeout(Dy,5e3+sy)}function Xy(){for(var e=Gg=0;e<jy();e++){if(Og[e].id===Mg){Gg=e;break}-1!==Og[e].id.indexOf(Mg)&&(Gg=e)}}function Yy(){1===jy()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Gg?Gg===jy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Mg=Og[Gg].id).indexOf("source")?Yu("quality_name",Mg.replace("source",ge)+Og[Gg].band):Yu("quality_name",Mg+Og[Gg].band)}function jy(){return Og.length}function Wy(e,t,n){Yu("progress_bar_current_time",ov(e)),n&&(dh.style.width=e/t*100+"%")}function Qy(){Av(),Kv()||(hm=Xg=!1,Ng?(Pu&&Android.startVideoOffset(Bg,2,0<ly?1e3*ly:-1),gr=ly):(gr=sl,Pu&&Android.startVideoOffset(lm,3,0<ly?1e3*ly:-1)),fm&&Mr()),Xu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",Zg=!1,ly=Qg=Kg=0}function Zy(){dy=Kg=0,Ky(gp[1])}function Ky(e){Qg&&!iy&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Yu("progress_bar_steps",Jn+e/60+Hn):Yu("progress_bar_steps",e?Jn+e+Fn:Jn+gp[1]+Fn)}function $y(){Yu("progress_bar_jump_to",ue+" ("+(Qg<0?"-":"")+ov(Math.abs(Qg))+")"+_e+ov(ly))}function eb(e,t){var n=Pu?Android.gettime()/1e3:0;window.clearTimeout(kg),Zg=!0,Kg<gp.length-1&&dy++%6==0&&Kg++,Qg+=gp[Kg]*e,ly=n+Qg,Ng&&(ly=10*Math.floor(ly/10)),t<ly?(Qg=t-n-gp[1],ly=n+Qg,dy=Kg=0):ly<0&&(Qg=0-n,ly=dy=Kg=0),$y(),dh.style.width=ly/t*100+"%",Ky(gp[Kg]*e),kg=window.setTimeout(Zy,1e3)}function tb(){var e=Pu?parseInt(Android.gettime()/1e3):0,t="#"+Vc.ChannelVod_vodId;300<e&&e<jd-300?(ny[t]&&delete ny[t],ny[t]=e,Uf("PlayVod_VodIds",JSON.stringify(ny))):jd-300<e&&ny[t]&&(delete ny[t],Uf("PlayVod_VodIds",JSON.stringify(ny)))}function nb(){ny=Nf("PlayVod_VodIds",{});var e=ab();250<e&&ib(e-250)}function ab(){var e=0;for(var t in ny)ny.hasOwnProperty(t)&&e++;return e}function ib(e){var t=0;for(var n in ny){if(!(t<e))break;delete ny[n],t++}Uf("PlayVod_VodIds",JSON.stringify(ny))}function ob(){Ju("scene_channel_panel_bottom"),Jy(!1),Xu("dialog_vod_saved_text",kn+sv(1e3*ny["#"+Vc.ChannelVod_vodId])),Fu("dialog_vod_start")}function sb(){Dy(),Ju("dialog_vod_start"),lb(),window.setTimeout(function(){Fu("scene_channel_panel_bottom")},1e3)}function db(){return Hu("dialog_vod_start")}function lb(){cb(),ay=0,rb()}function rb(){qu("dialog_vod_"+ay,"dialog_end_icons_focus")}function cb(){zu("dialog_vod_"+ay,"dialog_end_icons_focus")}function ub(e){sb(),e?(delete ny["#"+Vc.ChannelVod_vodId],Vc.vodOffset=0,_y()):(Vc.vodOffset=ny["#"+Vc.ChannelVod_vodId],ty=1e3*Vc.vodOffset,Wy(Vc.vodOffset,jd,!0),fy())}function _b(e){if(Sg===Ch||db())switch(e.keyCode){case Oa:DE()?yh&&!uE&&(KE(),yh--,YE()):ph&&!Iv()&&Gv()?(lh++,Fv()):Iv()&&!db()?(Lv(),2===iy?(jv(),5<++Kh&&(Kh=1),Yv()):iy||(eb(-1,jd),sy=2500),zy()):db()?(cb(),ay?ay--:ay++,rb()):Kv()?(ag(),tg(),--ip<0&&(ip=3),1===ip&&(ip=0),eg()):db()||Jy(!0);break;case Ua:console.log(iy),DE()?yh<pE-1&&!uE&&(KE(),yh++,YE()):!ph||Iv()||Kv()?Iv()&&!db()?(Lv(),2===iy?(jv(),--Kh<1&&(Kh=5),Yv()):iy||(eb(1,jd),sy=2500),zy()):db()?(cb(),ay?ay--:ay++,rb()):Kv()?(ag(),tg(),3<++ip&&(ip=0),1===ip&&(ip=2),eg()):db()||Jy(!0):Uf("ChatEnable",(Th=Gv()||Kv()?(Ov(),!1):(Bv(),!0))?"true":"false");break;case Ga:Kv()?ag():Iv()&&!db()?(2===iy&&1!==Kh?(iy--,qy()):1===iy?(iy--,qy()):0<Gg&&1===Kh&&(Gg--,Yy()),Lv(),zy()):DE()?DE()?XE():db()||Jy(!0):JE();break;case Ra:Kv()?ag():Iv()&&!db()?(iy?1===iy?(iy++,qy()):Gg<jy()-1&&1===Kh&&(Gg++,Yy()):(iy++,qy()),Lv(),zy()):DE()?FE():ph&&Gv()?(4<++_h?Jv(!(_h=1)):4===_h&&Jv(!0),Vv(!0)):db()||Jy(!0);break;case Na:db()?ub(ay):Kv()?ig(2):Iv()?iy?1===iy?(Vc.Play_ChatForceDisable&&(nv()?Yr(Ar):jr()),Kv()||zv(2)):cg(2):(Lv(),zy(),Qg&&Qy()):DE()?(Ny(!0),af(yh,EE,wg)):Jy(!0);break;case Va:bg(!0);break;case Ta:case La:case Ba:Vc.Play_ChatForceDisable&&(nv()?Yr(Ar):jr()),Kv()||zv(2)}else switch(e.keyCode){case Va:wv()?(bv(),Ry()):yv()}}var fb={};function mb(){console.log("InitScreens place holder")}function hb(){ow(),sw(),lw(),rw(),cw(),_w(),fw()}function pb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function vb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function gb(){$c=-1,Vc.Main_Go=fb.screen,fb.label_init(),document.body.addEventListener("keydown",Fb,!1),Fu(fb.ids[10]),fb.status?(R_(fb.posY),Lb(!0),A_()):bb()}function yb(){$c=0,fb.label_exit(),document.body.removeEventListener("keydown",Fb),Ju(fb.ids[10]),d_()}function bb(){Wu(),B_(fb.table),d_(),fb.cursor=null,fb.status=!1,fb.row=document.createElement("div"),fb.MaxOffset=0,fb.TopRowCreated=!1,fb.offset=0,fb.idObject={},fb.Cells=[],fb.FirstLoad=!0,fb.itemsCount=0,fb.posX=0,fb.posY=0,fb.row_id=0,fb.currY=0,fb.coloumn_id=0,fb.data=null,fb.data_cursor=0,fb.dataEnded=!1,n_(),wb(),kb()}function wb(){fb.loadingData=!0,fb.loadingDataTry=0,fb.loadingDataTimeout=3500}function kb(){fb.set_url(),Pu&&!fb.itemsCount?qf(fb.url,fb.loadingDataTimeout,2,null,Ab,Cb):zf(fb.url,fb.loadingDataTimeout,2,null,Ab,Cb,!1)}function Cb(){fb.loadingDataTry++,fb.loadingDataTry<fb.loadingDataTryMax?(fb.loadingDataTimeout+=500,kb()):(fb.loadingData=!1,fb.itemsCount?fb.dataEnded=!0:(fb.FirstLoad=!1,Qu(),s_(P),fb.key_exit()))}function Ab(e){fb.concatenate(e)}function Eb(){var e=fb.data.length-fb.data_cursor;if(e>fb.ItemsLimit?e=fb.ItemsLimit:fb.loadingData||(fb.dataEnded=!0),fb.HasSwitches&&!fb.TopRowCreated&&fb.addSwitches(),e){fb.row_id||(fb.row=document.createElement("div"),fb.row.id=this.ids[12]+fb.row_id);var t=Math.ceil(e/fb.ColoumnsCount),n=fb.row_id+t;for(fb.row_id;fb.row_id<n;){for(fb.coloumn_id===fb.ColoumnsCount&&(fb.row=document.createElement("div"),fb.row.id=this.ids[12]+fb.row_id,fb.coloumn_id=0),fb.coloumn_id;fb.coloumn_id<fb.ColoumnsCount&&fb.data_cursor<fb.data.length;fb.data_cursor++)fb.data[fb.data_cursor]&&fb.addCell(fb.data[fb.data_cursor]);if(fb.coloumn_id===fb.ColoumnsCount)fb.Cells[fb.row_id]=fb.row,fb.row_id++;else if(fb.data_cursor>=fb.data.length){this.dataEnded&&(fb.Cells[fb.row_id]=fb.row);break}}}fb.emptyContent=!e&&!fb.status,Pb()}function Mb(e,t){var n=e+"_"+t;return(jc=document.createElement("div")).style.cssText=fb.ThumbCssText,n}function Ib(e,t,n,a,i,o){var s=Mb(e,t);return jc.setAttribute("id",n[5]+s),jc.setAttribute(Cu,i),jc.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+fb.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",jc}function Sb(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=Mb(e,t);return jc.setAttribute("id",n[8]+p),jc.setAttribute(Cu,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),jc.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+fb.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+ca+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+ov(r)+"</div></div></div></div>",jc}function xb(e,t,n,a,i){var o=Mb(e,t);return jc.setAttribute("id",a[8]+o),jc.setAttribute(Cu,JSON.stringify(n)),jc.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img" src="'+i[0]+'" onerror="this.onerror=null;this.src=\''+fb.img_404+'\'"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+jS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",jc}function Pb(){if(fb.status)a_(fb.posX,fb.posY,fb.ColoumnsCount,fb.itemsCount);else{if(fb.emptyContent)s_(fb.empty_str());else{fb.status=!0;for(var e=document.getElementById(fb.table),t=0;t<(fb.Cells.length<fb.visiblerows?fb.Cells.length:fb.visiblerows);t++)e.appendChild(fb.Cells[t])}eu&&fb.status&&dC.restor_playback.defaultValue?Vc.Play_WasPlaying?(M_(Vc.Main_Go),Vc.Main_Go=Nc,Vc.vodOffset||(Vc.vodOffset=1),jd=Vc.vodOffset+1,pv(qn),1===Vc.Play_WasPlaying?of():lf(),k_(!0),window.setTimeout(function(){$h||vv()},2e3)):1!==Nc?(M_(Vc.Main_Go),Vc.Main_Go=Nc,cf(fb.posY+"_"+fb.posX,fb.ids),k_()):(Vc.Never_run&&__(),Vc.Never_run=!1,Lb(),A_()):(Lb(),A_()),eu=!1,fb.FirstLoad=!1,Qu()}}function Lb(e){if(fb.emptyContent){if(!fb.HasSwitches)return void fb.key_exit();fb.posY=-1}if(fb.posY<0)return Rb(),void(fb.emptyContent||a_(fb.posX,fb.posY+1,fb.ColoumnsCount,fb.itemsCount));Bb(e),2<fb.posY&&fb.data_cursor+Qb>fb.data.length&&!fb.dataEnded&&!fb.loadingData?(wb(),kb()):fb.posY+fb.ItemsReloadLimit>fb.itemsCount/fb.ColoumnsCount&&fb.data_cursor<fb.data.length&&ff(function(){fb.loadDataSuccess()}),Fc&&cf(fb.posY+"_"+fb.posX,fb.ids)}function Tb(e){return null!==document.getElementById(e)}function Bb(e){if(fb.currY<fb.posY)1<fb.posY&&fb.Cells.length-1>=fb.posY+1&&(document.getElementById(fb.table).appendChild(fb.Cells[fb.posY+1]),Tb(fb.ids[12]+(fb.posY-2))&&document.getElementById(fb.ids[12]+(fb.posY-2)).remove());else if(fb.currY>fb.posY&&fb.posY){var t=document.getElementById(fb.table);t.insertBefore(fb.Cells[fb.posY-1],t.childNodes[fb.HasSwitches?1:0]),Tb(fb.ids[12]+(fb.posY+2))&&document.getElementById(fb.ids[12]+(fb.posY+2)).remove()}fb.currY=fb.posY,qu(fb.ids[0]+fb.posY+"_"+fb.posX,ku),a_(fb.posX,fb.posY,fb.ColoumnsCount,fb.itemsCount),fb.addFocus(fb.posY,fb.posX,fb.ids,e)}function Ob(e,t,n,a){e<2&&N_(e)||a?e?g_(e+1,0,n[0])&&rf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):rf(n[10],.07*screen.height):W_()}function Gb(e,t,n,a){N_(e)||a?fb.posY<fb.Cells.length-1&&rf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):fb.Cells.length-1===e&&g_(e-1,t,n[0])?rf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):W_()}function Ub(e,t){cf(fb.posY+"_"+fb.posX,fb.ids),fb.posY+=e,fb.posX=t,Lb()}function Rb(){1<fb.posX?fb.posX=0:fb.posX<0&&(fb.posX=1),qu(fb.ids[0]+"y_"+fb.posX,ku)}function Nb(){1<fb.posX?fb.posX=0:fb.posX<0&&(fb.posX=1),zu(fb.ids[0]+"y_"+fb.posX,ku)}function Vb(e){m_()?f_():c_()?r_():(e===fb.screen?Vc.Main_Go=pc:Vc.Main_Go=e,yb())}function Db(e){if(!fb.HasSwitches||fb.posY||-1!==e||fb.emptyContent){if(fb.HasSwitches&&-1===fb.posY&&g_(0,fb.posX,fb.ids[0]))fb.posY=0,Lb(),Nb();else for(var t=0;t<fb.ColoumnsCount;t++)if(g_(fb.posY+e,fb.posX-t,fb.ids[0]))return void Ub(e,fb.posX-t)}else cf(fb.posY+"_"+fb.posX,fb.ids),fb.posY=-1,1<fb.posX&&(fb.posX=1),Rb()}function Jb(e,t){fb.HasSwitches&&-1===fb.posY?(fb.posY=-1,Nb(),fb.posX++,Rb()):g_(fb.posY,fb.posX+e,fb.ids[0])?Ub(0,fb.posX+e):g_(fb.posY+e,t,fb.ids[0])&&Ub(e,t)}function Fb(e){if(!fb.FirstLoad&&!K_())switch(Z_(),e.keyCode){case Va:fb.key_exit();break;case Oa:Jb(-1,fb.ColoumnsCount-1);break;case Ua:fb.dataEnded||fb.posX<fb.ColoumnsCount-1||fb.Cells.length-1>=fb.posY+2?Jb(1,0):Lb(!0);break;case Ga:Db(-1);break;case Ra:fb.dataEnded||fb.Cells.length-1>=fb.posY+2?Db(1):Lb(!0);break;case Ta:case La:case Ba:case Na:fb.key_play()}}fb.FirstLoad=!1;var Hb,qb,zb,Xb,Yb,jb,Wb,Qb=100,Zb="",Kb="",$b="",ew="",tw="",nw="",aw={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Eb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){m_()?f_():c_()?r_():(g_(this.posY,this.posX,this.ids[0])?cf(this.posY+"_"+this.posX,this.ids):this.posY<0&&(Nb(),this.posY=0),Pf(Fb))}},iw={ThumbSize:32.65,visiblerows:3,ItemsLimit:iu,ItemsReloadLimit:su,ColoumnsCount:ou,addFocus:Ob,img_404:xa,empty_str:function(){return L+W},key_play:function(){af(this.posY+"_"+this.posX,this.ids,Fb)}};function ow(){(jb=vb(jb=vb({ids:pb("Live"),table:"stream_table_live",screen:pc,base_url:"https://api.twitch.tv/kraken/streams?limit="+Qb,set_url:function(){this.offset&&this.offset+Qb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Qc?"&broadcaster_language="+Qc:"")},label_init:function(){Vc.Main_CenterLablesVectorPos=0,qu("top_bar_live","icon_center_focus")},label_exit:function(){zu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(xb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+dv(e.created_at)+" "+h+h_(e.viewers)+J,p_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},aw),iw)).set_ThumbSize()}function sw(){(Wb=vb(Wb=vb({ids:pb("Featured"),table:"stream_table_featured",screen:Uc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Qb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(ro()&&Xi[Vc.Users_Position].access_token?"&oauth_token="+Xi[Vc.Users_Position].access_token:"")},label_init:function(){Vc.Main_CenterLablesVectorPos=2,qu("top_bar_featured","icon_center_focus")},label_exit:function(){zu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(xb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+dv(e.created_at)+" "+h+h_(e.viewers)+J,p_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},aw),iw)).set_ThumbSize()}var dw={ThumbSize:32.65,ItemsLimit:iu,TopRowCreated:!1,ItemsReloadLimit:su,ColoumnsCount:ou,addFocus:Ob,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:xa,empty_str:function(){return L+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Aa+Aa+m,Aa+Aa+da],a=0;a<n.length;a++)e='<i class="icon-'+this.SwitchesIcons[a]+' stream_channel_fallow_icon"></i>'+n[a],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+a),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+a+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+a+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(Am=!0,Nb(),this.posX=0,this.posY=0,sf(this.posY+"_"+this.posX,this.ids,Fb)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),bb())):sf(this.posY+"_"+this.posX,this.ids,Fb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Sb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,P_(e.created_at)],[jS.parse(e.title),v,e.game],h_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function lw(){(Hb=vb(Hb=vb({ids:pb("Clip"),table:"stream_table_clip",screen:Bc,periodPos:Rf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Qb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Qc?"&language="+Qc:"")},SetPeriod:function(){Xu("top_bar_clip",U+x_(Kc[this.periodPos-1])),Uf("Clip_periodPos",this.periodPos)},label_init:function(){Vc.Main_CenterLablesVectorPos=5,this.SetPeriod(),qu("top_bar_clip","icon_center_focus"),Du("label_refresh","icon-refresh",t+Yt)},label_exit:function(){I_(),zu("top_bar_clip","icon_center_focus"),Du("label_refresh","icon-refresh",t+Yt)}},aw),dw)).set_ThumbSize()}function rw(){(qb=vb(qb=vb({ids:pb("ChannelClip"),table:"stream_table_channel_clip",screen:Sc,periodPos:Rf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Vc.Main_selectedChannel)+"&limit="+Qb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Xu("top_bar_game",U+Kc[this.periodPos-1]),Uf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Vc.Main_CenterLablesVectorPos=1,!Vc.Search_isSearching&&Vc.Main_selectedChannel_id&&Od(),Vc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),S_(),this.SetPeriod(),Yu("top_bar_user",Vc.Main_selectedChannelDisplayname),Du("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Vc.Main_selectedChannel},label_exit:I_},aw),dw)).set_ThumbSize()}function cw(){(zb=vb(zb=vb({ids:pb("AGameClip"),table:"stream_table_a_game_clip",screen:Gc,periodPos:Rf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+Qb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Qc?"&language="+Qc:"")},SetPeriod:function(){Xu("top_bar_game",b+x_(U+Kc[this.periodPos-1]+": "+Vc.Main_gameSelected)),Uf("AGameClip_periodPos",this.periodPos)},label_init:function(){Vc.Main_CenterLablesVectorPos=3,this.SetPeriod(),qu("top_bar_game","icon_center_focus"),Du("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Vc.Main_gameSelected&&(this.status=!1),this.gameSelected=Vc.Main_gameSelected},label_exit:function(){zu("top_bar_game","icon_center_focus"),Xu("top_bar_game",f),Du("label_side_panel","icon-ellipsis",Rn)}},aw),dw)).set_ThumbSize()}var uw={ThumbSize:19.35,visiblerows:3,ItemsLimit:du,ItemsReloadLimit:ru,ColoumnsCount:lu,addFocus:Gb,img_404:Ia,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===kc?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===kc?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Vc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Cu),document.body.removeEventListener("keydown",Fb),Vc.Main_BeforeAgame=this.screen,Vc.Main_Go=yc,Vc.Main_BeforeAgameisSet=!0,Bo=!1,$c=0,document.body.removeEventListener("keydown",Fb),Ju(this.ids[10]),C_(),cf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===gc,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Ib(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",wu),n.name,t?h_(e.channels)+" "+E+h+h_(e.viewers)+J:"")),this.coloumn_id++)}};function _w(){(Xb=vb(Xb=vb({ids:pb("Game"),table:"stream_table_games",screen:gc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Qb,set_url:function(){this.offset&&this.offset+Qb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Vc.Main_CenterLablesVectorPos=3,qu("top_bar_game","icon_center_focus")},label_exit:function(){zu("top_bar_game","icon_center_focus")}},aw),uw)).set_ThumbSize()}function fw(){(Yb=vb(Yb=vb({ids:pb("UserGames"),table:"stream_table_user_games",screen:kc,isLive:Vf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Qb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Xi[Vc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Qb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+" "+(this.isLive?Z:zt))),bb(),Uf("user_Games_live",this.isLive?"true":"false"),qM&&KM()},label_init:function(){Vc.Main_CenterLablesVectorPos=1,Du("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Du("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user","icon_center_focus"),this.OldUserName!==Xi[Vc.Users_Position].name&&(this.status=!1),this.OldUserName=Xi[Vc.Users_Position].name,Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Vc.Users_Position=0,zu("top_bar_user","icon_center_focus"),Du("label_refresh","icon-refresh",t+Yt),Yu("top_bar_user",u),Du("label_side_panel","icon-ellipsis",Rn)}},aw),uw)).set_ThumbSize()}var mw=0,hw=0,pw=!1,vw=0,gw={},yw=[],bw=!1,ww=0,kw=5,Cw=3500,Aw=0,Ew=0,Mw=!1,Iw=!1,Sw="",xw=!1,Pw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Lw(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Lc,Vc.isLastSChannels=!0,Vc.Search_isSearching=!0,Sw!==Vc.Search_data&&(Iw=!1),S_(),Xu("top_bar_user",n+x_(E+" '"+Vc.Search_data+"'")),document.body.addEventListener("keydown",zw,!1),Iw?(R_(mw),Fu(Pw[6]),Hw(),A_()):Bw()}function Tw(){I_(),document.body.removeEventListener("keydown",zw),Ju(Pw[6])}function Bw(){B_("stream_table_search_channel"),Ju(Pw[6]),Wu(),d_(),Sw=Vc.Search_data,Iw=!1,gw={},Sf=!(vw=Ew=Aw=0),mw=hw=0,pw=xw=!(yw=[]),n_(),Ow(),Gw()}function Ow(){G_(),bw=!0,ww=0,Cw=3500}function Gw(){var e=vw+Aw;e&&Ew-1<e&&(e=Ew-cu,pw=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Vc.Search_data)+"&limit="+cu+"&offset="+e;Pu&&!vw?qf(t,Cw,2,null,Rw,Uw):zf(t,Cw,2,null,Rw,Uw,!1)}function Uw(){++ww<kw?(Cw+=500,Gw()):(bw=!1,vw?(pw=!0,Vw()):(Sf=!1,Qu(),s_(P)))}function Rw(e){var t=JSON.parse(e),n=t.channels.length;Ew=parseInt(t._total),n<cu&&(pw=!0);var a=vw;Mw=!(vw+=n);var i=n/uu;0<n%uu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/uu+_,d=document.createElement("tr"),o=0;o<uu&&c<n;o++,c++)r=(l=t.channels[c])._id,gw[r]?o--:(gw[r]=1,d.appendChild(Nw(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<uu;o++)pw&&!xw&&(xw=!0,vw=s*uu+o),d.appendChild(D_(Pw[5]+s+"_"+o)),yw.push(Pw[5]+s+"_"+o);u.appendChild(d)}Vw()}function Nw(e,t,n){return e<4&&V_(n[2]),J_(t,Pw,n)}function Vw(){if(Iw){if(O_(Sa),0<yw.length&&!pw)return Ow(),void Dw();Hw(!0),yw=[]}else Mw?s_(d):(Iw=!0,O_(Sa),Hw(),A_()),Fu(Pw[6]),Sf=!1,Qu();bw=!1}function Dw(){o_(yw.length);var e=vw+Aw;e&&Ew-1<e&&(e=Ew-fu,pw=!0),Ff("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Vc.Search_data)+"&limit="+fu+"&offset="+e,Cw,2,null,Fw,Jw)}function Jw(){++ww<kw?(Cw+=500,Dw()):(pw=!0,vw-=yw.length,yw=[],Vw())}function Fw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Ew=parseInt(a._total),i<fu&&(pw=!0);o<yw.length&&s<i;o++,s++)n=(t=a.channels[s])._id,gw[n]?o--:(gw[n]=1,F_(yw[o],[t.name,n,t.logo,t.display_name],Pw),d.push(o));for(o=d.length-1;-1<o;o--)yw.splice(d[o],1);Aw+=s,pw&&(vw-=yw.length,yw=[]),Vw()}function Hw(e){$_(mw,hw,Pw,uu,vw,e),vw/uu<mw+_u&&!pw&&!bw&&(Ow(),Gw()),Fc&&qw()}function qw(){vw&&cf(mw+"_"+hw,Pw)}function zw(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(qw(),Pf(zw));break;case Oa:if(g_(mw,hw-1,Pw[0]))qw(),hw--,Hw();else for(t=uu-1;-1<t;t--)if(g_(mw-1,t,Pw[0])){qw(),mw--,hw=t,Hw();break}break;case Ua:g_(mw,hw+1,Pw[0])?(qw(),hw++,Hw()):g_(mw+1,0,Pw[0])&&(qw(),mw++,hw=0,Hw());break;case Ga:for(t=0;t<uu;t++)if(g_(mw-1,hw-t,Pw[0])){qw(),mw--,hw-=t,Hw();break}break;case Ra:for(t=0;t<uu;t++)if(g_(mw+1,hw-t,Pw[0])){qw(),mw++,hw-=t,Hw();break}break;case Ta:case La:case Ba:case Na:Vc.Main_selectedChannel=document.getElementById(Pw[4]+mw+"_"+hw).getAttribute(Cu),Vc.Main_selectedChannel_id=document.getElementById(Pw[4]+mw+"_"+hw).getAttribute("data-id"),Vc.Main_selectedChannelDisplayname=document.getElementById(Pw[3]+mw+"_"+hw).textContent,document.body.removeEventListener("keydown",zw),Vc.Main_BeforeChannel=Lc,Vc.Main_Go=Mc,Vc.Main_BeforeChannelisSet=!0,Qs=ja=!1,Ju(Pw[6]),k_()}}var Xw=!1,Yw=0,jw=0,Ww=0,Qw=0,Zw=5,Kw=3500,$w=0,ek=0,tk=!1,nk=!1,ak="",ik=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function ok(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Ac,Vc.Search_isSearching=!0,S_(),ak!==Vc.Search_data&&(Xw=!1),Xu("top_bar_user",n+x_(f+" '"+Vc.Search_data+"'")),document.body.addEventListener("keydown",pk,!1),Xw?(R_(Yw),Fu(ik[7]),mk(),A_()):dk()}function sk(){Vc.Search_isSearching||I_(),document.body.removeEventListener("keydown",pk),Vc.Games_return=!1,Ju(ik[7])}function dk(){B_("stream_table_search_game"),Ju(ik[7]),Wu(),d_(),ak=Vc.Search_data,nk=Xw=!1,Yw=jw=Ww=ek=$w=0,n_(),lk(),rk()}function lk(){G_(),Sf=!0,Qw=0,Kw=3500}function rk(){Ff("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Vc.Search_data),Kw,2,null,uk,ck)}function ck(){++Qw<Zw?(Kw+=500,rk()):(Sf=!1,Ww?fk():(Qu(),s_(P)))}function uk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Ww;tk=!(Ww+=n);var i=n/lu;0<n%lu&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/lu+u,d=document.createElement("tr"),o=0;o<lu&&r<n;o++,r++)l=t.games[r],d.appendChild(_k(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",wu),""]));for(;o<lu;o++)nk||(nk=!0,Ww=s*lu+o),d.appendChild(D_(ik[6]+s+"_"+o));c.appendChild(d)}fk()}function _k(e,t,n){return e<2&&V_(n[1]),Y_(t,ik,n)}function fk(){Xw||(tk?s_(d):(Xw=!0,O_(xa),mk(),A_()),Qu()),Fu(ik[7]),Sf=!1,a_(jw,Yw,lu,Ww)}function mk(){tf(Yw,jw,ik,lu,Ww),Fc&&hk()}function hk(){Ww&&cf(Yw+"_"+jw,ik)}function pk(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(hk(),Pf(pk));break;case Oa:if(g_(Yw,jw-1,ik[0]))hk(),jw--,mk();else for(t=lu-1;-1<t;t--)if(g_(Yw-1,t,ik[0])){hk(),Yw--,jw=t,mk();break}break;case Ua:g_(Yw,jw+1,ik[0])?(hk(),jw++,mk()):g_(Yw+1,0,ik[0])&&(hk(),Yw++,jw=0,mk());break;case Ga:for(t=0;t<lu;t++)if(g_(Yw-1,jw-t,ik[0])){hk(),Yw--,jw-=t,mk();break}break;case Ra:for(t=0;t<lu;t++)if(g_(Yw+1,jw-t,ik[0])){hk(),Yw++,jw-=t,mk();break}break;case Ta:case La:case Ba:case Na:Vc.gameSelectedOld=Vc.Main_gameSelected,sk(),Vc.Main_gameSelected=document.getElementById(ik[5]+Yw+"_"+jw).getAttribute(Cu),document.body.removeEventListener("keydown",pk),Vc.Main_Go=yc,Vc.Games_return=!0,k_()}}var vk=0,gk=0,yk=!1;function bk(){d_(),Ju("label_refresh"),Du("label_side_panel","icon-arrow-circle-left",I),Yu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",oc.placeholder=w,qu("top_bar_user","icon_center_focus"),Fu("search_scroll"),gk=vk=0,Ck(),Ek()}function wk(){Mk(!1),document.body.removeEventListener("keydown",Ak),Ck(),Vc.Main_Go=Vc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Yu("top_bar_user",u),zu("top_bar_user","icon_center_focus"),Du("label_side_panel","icon-ellipsis",Rn),Fu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",oc.value="",Ju("search_scroll")}function kk(){wk(),ff(function(){gk?1===gk?ok():2===gk&&Xk():Lw()})}function Ck(){zu("chanel_button","button_search_focused"),zu("game_button","button_search_focused"),zu("live_button","button_search_focused"),vk&&(gk?1===gk?qu("game_button","button_search_focused"):2===gk&&qu("live_button","button_search_focused"):qu("chanel_button","button_search_focused"))}function Ak(e){if(!yk)switch(e.keyCode){case Va:m_()?f_():c_()?r_():(wk(),k_());break;case Oa:1===vk&&(--gk<0&&(gk=2),Ck());break;case Ua:1===vk&&(2<++gk&&(gk=0),Ck());break;case Ga:1===vk&&(vk=0,Ck(),Ek());break;case Ra:vk?1===vk&&(vk=0,Ck(),Ek()):(Mk(!1),vk=1,Ck());break;case Ta:case La:case Ba:case Na:vk?""!==oc.value&&null!==oc.value?(Vc.Search_data=oc.value,oc.value="",kk()):(s_(s),window.setTimeout(function(){d_()},1e3)):Ek()}}function Ek(){document.body.removeEventListener("keydown",Ak),document.body.addEventListener("keydown",Sk,!1),oc.placeholder=w,oc.focus(),yk=!0}function Mk(e){oc.blur(),Ik(),document.body.removeEventListener("keydown",Sk),oc.placeholder=A+w,e&&document.body.addEventListener("keydown",Ak,!1),yk=!1}function Ik(){if(null!==oc){var e=oc.cloneNode(!0);oc.parentNode.replaceChild(e,oc),oc=document.getElementById("search_input")}}function Sk(e){switch(e.keyCode){case Va:c_()?r_():m_()?f_():(wk(),k_());break;case Ha:oc.value="";break;case Ja:case Ra:Mk(!0),vk=1,Ck();break;case Da:oc.value=oc.value.slice(0,-1);break;case Fa:oc.value+=" "}}var xk=0,Pk=0,Lk=!1,Tk=0,Bk={},Ok=[],Gk=!1,Uk=0,Rk=5,Nk=3500,Vk=0,Dk=0,Jk=!1,Fk=!1,Hk=!1,qk="",zk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Xk(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Ec,Vc.Search_isSearching=!0,S_(),qk!==Vc.Search_data&&(Fk=!1),Xu("top_bar_user",n+x_(_+" '"+Vc.Search_data+"'")),document.body.addEventListener("keydown",oC,!1),Fk?(R_(xk),Fu(zk[10]),aC(),A_()):jk()}function Yk(){I_(),document.body.removeEventListener("keydown",oC),Ju(zk[10])}function jk(){B_("stream_table_search_live"),Ju(zk[10]),Wu(),d_(),qk=Vc.Search_data,Fk=!1,Sf=!(Hk=!(Ok=[])),xk=Pk=Tk=Dk=Vk=0,Lk=!(Bk={}),n_(),Wk(),Qk()}function Wk(){G_(),Gk=!0,Uk=0,Nk=3500}function Qk(){var e=Tk+Vk;e&&Dk-1<e&&(e=Dk-iu,Lk=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Vc.Search_data)+"&limit="+iu+"&offset="+e;Pu&&!Tk?qf(t,Nk,2,null,Kk,Zk):zf(t,Nk,2,null,Kk,Zk,!1)}function Zk(){++Uk<Rk?(Nk+=500,Qk()):(Gk=!1,Tk?(Lk=!0,$k()):(Sf=!1,Qu(),s_(P)))}function Kk(e){var t=JSON.parse(e),n=t.streams.length;Dk=parseInt(t._total),n<iu&&(Lk=!0);var a=Tk;Jk=!(Tk+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,Bk[r]?o--:(Bk[r]=1,d.appendChild(q_(s,s+"_"+o,[l.channel.name,r],zk,[l.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+dv(l.created_at)+" "+h+h_(l.viewers)+J,p_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<ou;o++)Lk&&!Hk&&(Hk=!0,Tk=s*ou+o),d.appendChild(D_(zk[9]+s+"_"+o)),Ok.push(zk[9]+s+"_"+o);u.appendChild(d)}$k()}function $k(){if(Fk){if(O_(xa),0<Ok.length&&!Lk)return Wk(),void eC();aC(!0),Ok=[]}else Jk?s_(d):(Fk=!0,O_(xa),aC(),A_()),Fu(zk[10]),Sf=!1,Qu();Gk=!1}function eC(){o_(Ok.length);var e=Tk+Vk;e&&Dk-1<e&&(e=Dk-fu,Lk=!0),Ff("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Vc.Search_data)+"&limit="+fu+"&offset="+e,Nk,2,null,nC,tC)}function tC(){++Uk<Rk?(Nk+=500,eC()):(Lk=!0,Tk-=Ok.length,Ok=[],$k())}function nC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Dk=parseInt(a._total),i<fu&&(Lk=!0);o<Ok.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,Bk[n]?o--:(Bk[n]=1,z_(Ok[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+dv(t.created_at)+" "+h+h_(t.viewers)+J,p_(t.video_height,t.average_fps,t.channel.broadcaster_language)],zk),d.push(o));for(o=d.length-1;-1<o;o--)Ok.splice(d[o],1);Vk+=s,Lk&&(Tk-=Ok.length,Ok=[]),$k()}function aC(e){ef(xk,Pk,zk,ou,Tk,e),Tk/ou<xk+su&&!Lk&&!Gk&&(Wk(),Qk()),Fc&&iC()}function iC(){Tk&&cf(xk+"_"+Pk,zk)}function oC(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(iC(),Pf(oC));break;case Oa:if(g_(xk,Pk-1,zk[0]))iC(),Pk--,aC();else for(t=ou-1;-1<t;t--)if(g_(xk-1,t,zk[0])){iC(),xk--,Pk=t,aC();break}break;case Ua:g_(xk,Pk+1,zk[0])?(iC(),Pk++,aC()):g_(xk+1,0,zk[0])&&(iC(),xk++,Pk=0,aC());break;case Ga:for(t=0;t<ou;t++)if(g_(xk-1,Pk-t,zk[0])){iC(),xk--,Pk-=t,aC();break}break;case Ra:for(t=0;t<ou;t++)if(g_(xk+1,Pk-t,zk[0])){iC(),xk++,Pk-=t,aC();break}break;case Ta:case La:case Ba:case Na:af(xk+"_"+Pk,zk,oC)}}var sC=0,dC={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:lC(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function lC(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+ov(t)),t-=900;for(e.push(ov(0)),t=900,n=0;n<48;n++)e.push(ov(t)),t+=900;return e}var rC=[],cC=0;function uC(){w_(),Ju("label_side_panel"),Du("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",PC,!1),Yu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",qu("top_bar_user","icon_center_focus"),Fu("settings_scroll"),CC(sC=0),vC("content_lang",Yn,TC)}function _C(){document.body.removeEventListener("keydown",PC),Fu("label_side_panel"),AC(),Yu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",zu("top_bar_user","icon_center_focus"),Du("label_refresh","icon-refresh",t+Yt),Ju("settings_scroll")}function fC(){var e,t="";t+=mC("general",gn),e="content_lang",rC.push(e),dC[e].values=[jn],t+=pC(e,Yn,""),e="clock_offset",rC.push(e),t+=hC(e,zn),e="restor_playback",rC.push(e),dC[e].values=[Pn,xn],t+=pC(e,Ln,Tn),e="videos_animation",rC.push(e),dC[e].values=[Pn,xn],t+=hC(e,Un),t+=mC("play",_n),e="chat_font_size",rC.push(e),t+=pC(e,Bn,On),e="chat_brightness",rC.push(e),t+=hC(e,aa),e="force_disable_chat",rC.push(e),dC[e].values=[Ft,L],t+=pC(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",rC.push(e),t+=hC(e,hn),e="buffer_vod",rC.push(e),t+=hC(e,pn),e="buffer_clip",rC.push(e),Xu("settings_main",t+=hC(e,vn)),cC=rC.length,DC()}function mC(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function hC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+bC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function pC(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+bC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function vC(e,t,n){Xu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function gC(){var e="";for(e in Yu("setting_title_general",gn),Yu((e="clock_offset")+"_name",zn),Yu((e="content_lang")+"_name",Yn),Yu(e,bC(e)),dC[e].values=[jn],Yu("setting_title_play",_n),Yu("setting_title_buffers",fn),Yu("setting_title_buffers_summary",mn),Yu((e="buffer_live")+"_name",hn),Yu((e="buffer_vod")+"_name",pn),Yu((e="buffer_clip")+"_name",vn),vC(e="restor_playback",Ln,Tn),dC[e].values=[Pn,xn],vC(e="chat_font_size",Bn,On),vC(e="force_disable_chat",ta,na),dC[e].values=[Pn,xn],Yu((e="videos_animation")+"_name",Un),dC[e].values=[Pn,xn],Yu((e="chat_brightness")+"_name",aa),dC)dC.hasOwnProperty(e)&&Yu(e,bC(e));VC()}function yC(){for(var e in dC)dC[e].defaultValue=Rf(e,dC[e].defaultValue),dC[e].defaultValue-=1,dC[e].defaultValue>kC(e)&&(dC[e].defaultValue=0);SC(0),xC(),uh=(.05*wC("chat_brightness")).toFixed(2),pS=wC("videos_animation"),Vc.Play_ChatForceDisable=wC("force_disable_chat")}function bC(e){return dC[e].values[wC(e)]}function wC(e){return dC[e].defaultValue}function kC(e){return dC[e].values.length-1}function CC(e){var t=rC[sC];qu(t,"settings_value_focus"),qu(t+"_div","settings_div_focus"),MC(e)}function AC(){var e=rC[sC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",zu(e,"settings_value_focus"),zu(e+"_div","settings_div_focus")}function EC(e){var t=rC[e];Uf(t,wC(t)+1),Yu(t,bC(t)),MC(e),IC(e)}function MC(e){var t=rC[e];if(kC(t)){var n=wC(t),a=kC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function IC(e){"videos_animation"===(e=rC[e])?pS=wC("videos_animation"):"buffer_live"===e?SC(1):"buffer_vod"===e?SC(2):"buffer_clip"===e?SC(3):"chat_brightness"===e?(uh=(.05*wC("chat_brightness")).toFixed(2),Dv(!1)):"force_disable_chat"===e?Vc.Play_ChatForceDisable=wC("force_disable_chat"):"chat_font_size"===e?Ip():"clock_offset"===e&&(xC(),pf())}function SC(e){try{e?1===e?(bh=1e3*bC("buffer_live"),Pu&&Android.SetBuffer(1,bh)):2===e?(Vg=1e3*bC("buffer_vod"),Pu&&Android.SetBuffer(2,Vg)):3===e&&(vm=1e3*bC("buffer_clip"),Pu&&Android.SetBuffer(3,vm)):(bh=1e3*bC("buffer_live"),Vg=1e3*bC("buffer_vod"),vm=1e3*bC("buffer_clip"),Pu&&(Android.SetBuffer(1,bh),Android.SetBuffer(2,Vg),Android.SetBuffer(3,vm)))}catch(e){}}function xC(){var e=wC("clock_offset");xu=e<48?-9e5*(48-e):9e5*(e-48)}function PC(e){var t;switch(e.keyCode){case Va:c_()?r_():m_()?f_():(_C(),k_());break;case Oa:0<wC(t=rC[sC])&&(dC[t].defaultValue-=1,EC(sC));break;case Ua:wC(t=rC[sC])<kC(t)&&(dC[t].defaultValue+=1,EC(sC));break;case Ga:0<sC&&(AC(),CC(--sC));break;case Ra:sC<cC-1&&(AC(),CC(++sC));break;case Na:sC||UC()}}var LC=0,TC="",BC={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},OC=[],GC=0;function UC(){w_(),document.body.removeEventListener("keydown",PC),Ju("settings_main"),Fu("settings_lang"),ZC(),Yu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",KC,!1),XC(LC=0),NC()}function RC(){document.body.removeEventListener("keydown",KC),document.body.addEventListener("keydown",PC,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Fu("settings_main"),Ju("settings_lang"),Yu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",YC(),VC(),NC()}function NC(){""===Qc&&(TC=Wn,BC.All.defaultValue=1,WC(0),qu(OC[0],"strokedextraminired"),ZC()),vC("content_lang",Yn,TC)}function VC(){if(Qc="",!qC("All")){for(var e in BC)qC(e)&&(Qc+=","+BC[e].set_values);Qc=Qc.slice(1)}TC=""===Qc?Wn:Qc.toUpperCase()}function DC(){var e="";for(var t in BC)OC.push(t),BC[t].values=[L,Ft],e+=JC(t,t);Xu("settings_lang",e),GC=OC.length}function JC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(qC(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+HC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function FC(){for(var e in BC)BC[e].defaultValue=Rf(e,BC[e].defaultValue),BC[e].defaultValue-=1;VC()}function HC(e){return BC[e].values[qC(e)]}function qC(e){return BC[e].defaultValue}function zC(e){return BC[e].values.length-1}function XC(e){var t=OC[LC];qu(t,"settings_value_focus"),qu(t+"_div","settings_div_focus"),QC(e),jC(t)}function YC(){var e=OC[LC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",zu(e,"settings_value_focus"),zu(e+"_div","settings_div_focus")}function jC(){var e=screen.height;7<LC?(e*=.093,e+=-1*document.getElementById(OC[LC-7]).offsetTop):e*=.077,LC<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function WC(e){var t=OC[e];Uf(t,qC(t)+1),Yu(t,HC(t)),QC(e)}function QC(e){var t=OC[e],n=qC(t),a=zC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function ZC(){for(var e in BC)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=qC("All")?"none":"inline-block")}function KC(e){var t;switch(e.keyCode){case Va:RC();break;case Oa:0<qC(t=OC[LC])&&(BC[t].defaultValue-=1,WC(LC),zu(OC[LC],"strokedextraminired"),-1!==t.indexOf("All")&&ZC());break;case Ua:qC(t=OC[LC])<zC(t)&&(BC[t].defaultValue+=1,WC(LC),qu(OC[LC],"strokedextraminired"),-1!==t.indexOf("All")&&ZC());break;case Ga:0<LC&&(YC(),XC(--LC));break;case Ra:!qC("All")&&LC<GC-1&&(YC(),XC(++LC))}}var $C=0,eA=0,tA=!1,nA=0,aA=!1,iA=0,oA=5,sA=3500,dA=[],lA=0,rA=0,cA=!1,uA=!1,_A="",fA=!1,mA={},hA=[],pA=0,vA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function gA(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Pc,Vc.isLastSChannels=!1,Du("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user","icon_center_focus"),Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+K)),document.body.addEventListener("keydown",TA,!1),_A!==Xi[Vc.Users_Position].name&&(uA=!1),uA?(R_($C),Fu(vA[6]),PA(),A_()):bA()}function yA(){Vc.Users_Position=0,zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",TA),Yu("top_bar_user",u),Du("label_side_panel","icon-ellipsis",Rn),Ju(vA[6])}function bA(){B_("stream_table_user_channels"),Ju(vA[6]),Wu(),d_(),_A=Xi[Vc.Users_Position].name,uA=!1,mA={},$C=eA=nA=pA=lA=rA=0,Sf=!(fA=tA=!(hA=[])),n_(),dA=[],wA(),kA()}function wA(){G_(),aA=!0,iA=0,sA=3500}function kA(){var e=nA+rA;e&&pA-1<e&&(e=pA-cu,tA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Vc.Users_Position].id)+"/follows/channels?limit="+cu+"&offset="+e+"&sortby=login&direction=asc";Pu&&!nA?qf(t,sA,2,null,AA,CA):zf(t,sA,2,null,AA,CA,!1)}function CA(){++iA<oA?(sA+=500,kA()):(aA=!1,nA?(tA=!0,MA()):(Sf=!1,Qu(),s_(P),Pf(TA)))}function AA(e){var t=JSON.parse(e),n=t.follows.length;pA=parseInt(t._total),n<cu&&(tA=!0);var a=nA;cA=!(nA+=n);var i=n/uu;0<n%uu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/uu+_,d=document.createElement("tr"),o=0;o<uu&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,mA[r]?o--:(mA[r]=1,d.appendChild(EA(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<uu;o++)tA&&!fA&&(fA=!0,nA=s*uu+o),d.appendChild(D_(vA[5]+s+"_"+o)),hA.push(vA[5]+s+"_"+o);u.appendChild(d)}MA()}function EA(e,t,n){return e<4&&V_(n[2]),J_(t,vA,n)}function MA(){if(uA){if(O_(Sa),0<hA.length&&!tA)return wA(),void IA();PA(!0),hA=[]}else cA?(s_(L+K),Pf(TA)):(uA=!0,O_(Sa),PA(),A_()),Fu(vA[6]),Sf=!1,Qu();aA=!1}function IA(){o_(hA.length);var e=nA+rA;e&&pA-1<e&&(e=pA-fu,tA=!0),Ff("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Vc.Users_Position].id)+"/follows/channels?limit="+fu+"&offset="+lA+"&sortby=login&direction=asc",sA,2,null,xA,SA)}function SA(){++iA<oA?(sA+=500,IA()):(tA=!0,nA-=hA.length,hA=[],MA())}function xA(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(pA=parseInt(a._total),i<fu&&(tA=!0);o<hA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,mA[n]?o--:(mA[n]=1,F_(hA[o],[t.name,n,t.logo,t.display_name],vA),d.push(o));for(o=d.length-1;-1<o;o--)hA.splice(d[o],1);rA+=s,tA&&(nA-=hA.length,hA=[]),MA()}function PA(e){$_($C,eA,vA,uu,nA,e),nA/uu<$C+_u&&!tA&&!aA&&(wA(),kA()),Fc&&LA()}function LA(){nA&&cf($C+"_"+eA,vA)}function TA(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(LA(),Pf(TA));break;case Oa:if(g_($C,eA-1,vA[0]))LA(),eA--,PA();else for(t=uu-1;-1<t;t--)if(g_($C-1,t,vA[0])){LA(),$C--,eA=t,PA();break}break;case Ua:g_($C,eA+1,vA[0])?(LA(),eA++,PA()):g_($C+1,0,vA[0])&&(LA(),$C++,eA=0,PA());break;case Ga:for(t=0;t<uu;t++)if(g_($C-1,eA-t,vA[0])){LA(),$C--,eA-=t,PA();break}break;case Ra:for(t=0;t<uu;t++)if(g_($C+1,eA-t,vA[0])){LA(),$C++,eA-=t,PA();break}break;case Ta:case La:case Ba:case Na:if(nf($C+"_"+eA,vA[0]))return;Vc.Main_selectedChannel=document.getElementById(vA[4]+$C+"_"+eA).getAttribute(Cu),Vc.Main_selectedChannel_id=document.getElementById(vA[4]+$C+"_"+eA).getAttribute("data-id"),Vc.Main_selectedChannelDisplayname=document.getElementById(vA[3]+$C+"_"+eA).textContent,Vc.Main_selectedChannelLogo=document.getElementById(vA[1]+$C+"_"+eA).src,document.body.removeEventListener("keydown",TA),Vc.Main_BeforeChannel=Pc,Vc.Main_Go=Mc,Vc.Main_BeforeChannelisSet=!0,Qs=ja=!0,Ju(vA[6]),k_()}}var BA=0,OA=0,GA=!1,UA=0,RA={},NA=[],VA=!1,DA=0,JA=5,FA=3500,HA=0,qA=0,zA=!1,XA=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],YA=!1,jA="",WA=!1;function QA(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=wc,Du("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user","icon_center_focus"),Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+Q)),document.body.addEventListener("keydown",rE,!1),jA!==Xi[Vc.Users_Position].name&&(YA=!1),YA?(R_(BA),Fu(XA[10]),dE(),A_()):KA()}function ZA(){Vc.Users_Position=0,zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",rE),Yu("top_bar_user",u),Du("label_side_panel","icon-ellipsis",Rn),Ju(XA[10])}function KA(){B_("stream_table_user_host"),Ju(XA[10]),Wu(),d_(),jA=Xi[Vc.Users_Position].name,YA=!1,RA={},Sf=!(UA=qA=HA=0),BA=OA=0,GA=WA=!(NA=[]),n_(),$A(),eE()}function $A(){G_(),VA=!0,DA=0,FA=3500}function eE(){var e=UA+HA;e&&qA-1<e&&(e=qA-iu,GA=!0),Hf("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Vc.Users_Position].name)+"/followed/hosting?limit="+iu+"&offset="+e,FA,2,null,nE,tE,!1,!UA)}function tE(){++DA<JA?(FA+=500,eE()):(VA=!1,UA?(GA=!0,aE()):(Sf=!1,Qu(),s_(P),Pf(rE)))}function nE(e){var t=JSON.parse(e),n=t.hosts.length;qA=parseInt(t._total),n<iu&&(GA=!0);var a=UA;zA=!(UA+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,RA[r]?o--:(RA[r]=1,d.appendChild(q_(s,s+"_"+o,[l.target.channel.name,l.target._id],XA,[l.target.preview_urls.template.replace("{width}x{height}",bu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+h_(l.target.viewers)+J,""])));for(;o<ou;o++)GA&&!WA&&(WA=!0,UA=s*ou+o),d.appendChild(D_(XA[9]+s+"_"+o)),NA.push(XA[9]+s+"_"+o);u.appendChild(d)}aE()}function aE(){if(YA){if(O_(xa),0<NA.length&&!GA)return $A(),void iE();dE(!0),NA=[]}else zA?(s_(L+Q),Pf(rE)):(YA=!0,dE(),O_(xa),A_()),Fu(XA[10]),Sf=!1,Qu();VA=!1}function iE(){o_(NA.length);var e=UA+HA;e&&qA-1<e&&(e=qA-fu,GA=!0),Ff("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Vc.Users_Position].name)+"/followed/hosting?limit="+fu+"&offset="+e,FA,2,null,sE,oE)}function oE(){++DA<JA?(FA+=500,iE()):(GA=!0,UA-=NA.length,NA=[],aE())}function sE(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(qA=parseInt(a._total),i<fu&&(GA=!0);o<NA.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,RA[n]?o--:(RA[n]=1,z_(NA[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",bu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+h_(t.target.viewers)+J,""],XA),d.push(o));for(o=d.length-1;-1<o;o--)NA.splice(d[o],1);HA+=s,GA&&(UA-=NA.length,NA=[]),aE()}function dE(e){ef(BA,OA,XA,ou,UA,e),UA/ou<BA+su&&!GA&&!VA&&($A(),eE()),Fc&&lE()}function lE(){UA&&cf(BA+"_"+OA,XA)}function rE(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(lE(),Pf(rE));break;case Oa:if(g_(BA,OA-1,XA[0]))lE(),OA--,dE();else for(t=ou-1;-1<t;t--)if(g_(BA-1,t,XA[0])){lE(),BA--,OA=t,dE();break}break;case Ua:g_(BA,OA+1,XA[0])?(lE(),OA++,dE()):g_(BA+1,0,XA[0])&&(lE(),BA++,OA=0,dE());break;case Ga:for(t=0;t<ou;t++)if(g_(BA-1,OA-t,XA[0])){lE(),BA--,OA-=t,dE();break}break;case Ra:for(t=0;t<ou;t++)if(g_(BA+1,OA-t,XA[0])){lE(),BA++,OA-=t,dE();break}break;case Ta:case La:case Ba:case Na:af(BA+"_"+OA,XA,rE)}}var cE,uE=!1,_E=0,fE=3500,mE=0,hE=5,pE=0,vE=!1,gE="",yE=0,bE={},wE=!1,kE=[],CE=null,AE=null,EE=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function ME(){ro()&&(qE(),wE?ZE(yh,EE[0])&&(CE=JSON.parse(document.getElementById(EE[8]+yh).getAttribute(Cu))[0]):CE=null,B_("user_feed_scroll"),wE=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Fu("dialog_loading_feed"),gE="",yh=yE=pE=mE=0,bE={},kE=[],ff(function(){PE(),IE()}))}function IE(){(AE=Xi[Vc.Users_Position].access_token)?(AE=gu+AE,OE()):(PE(),AE=null,LE())}function SE(e){for(var t,n=0;n<kE.length;n++)null!==(t=document.getElementById(kE[n].id))&&Bu(t,kE[n].src+Lu,e)}function xE(e,t){kE.push({id:e,src:t})}function PE(){uE=!0,_E=0,fE=3500}function LE(){zf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Vc.Users_Position].id)+"/follows/channels?limit=100&offset="+mE+"&sortby=created_at",fE,2,null,BE,TE,!1)}function TE(){++_E<hE?(fE+=500,LE()):(uE=!1,pE?(vE=!0,NE()):(Ju("dialog_loading_feed"),DE()&&(pv(P),window.setTimeout(function(){vv()},2e3))))}function BE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===gE.indexOf(a)&&(gE+=a);mE+=n,PE(),LE()}else gE=gE.slice(0,-1),PE(),ff(OE)}function OE(){var e="https://api.twitch.tv/kraken/streams/";e+=AE?"followed?":"?channel="+encodeURIComponent(gE)+"&",GE(e+="limit=100&offset=0&stream_type=all")}function GE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=fE,t.setRequestHeader(hu,mu),t.setRequestHeader(pu,yu),AE&&t.setRequestHeader(vu,AE),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?RE(t.responseText):!AE||401!==t.status&&403!==t.status?UE():ni(Vc.Users_Position,0,IE,IE))},t.send(null)}function UE(){++_E<hE?(fE+=500,OE()):(uE=!1,Ju("dialog_loading_feed"),DE()&&(pv(P),window.setTimeout(function(){vv()},2e3)))}function RE(e){var t=JSON.parse(e),n=t.streams.length;n<iu&&(vE=!0),pE+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,bE[i]||(bE[i]=1,null!==CE&&CE===a.channel.name&&(yh=s),o.appendChild(VE(s,[a.channel.name,i],EE,[a.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+dv(a.created_at)+" "+h+h_(a.viewers)+J,p_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));NE()}function NE(){wE=!(uE=!1),SE(xa),ff(function(){Ju("dialog_loading_feed"),YE()})}function VE(e,t,n,a){return xE(n[1]+e,a[0]),(jc=document.createElement("div")).setAttribute("id",n[8]+e),jc.setAttribute(Cu,JSON.stringify(t)),jc.className="user_feed_thumb",jc.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",jc}function DE(){return Hu("user_feed")}function JE(){var e=ro();e&&(gh!==Xi[Vc.Users_Position].name&&(wE=!1),gh=Xi[Vc.Users_Position].name),e&&ZE(0,EE[0])||(wE=!1),wE||uE||ME(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Fu("user_feed"),YE())}function FE(){Ju("user_feed")}function HE(){qE(),zE()}function qE(){window.clearTimeout(cE)}function zE(){DE()&&(cE=window.setTimeout(FE,5500))}function XE(){qE(),uE?window.setTimeout(function(){uE=!1},15e3):ME()}function YE(){HE(),ZE(yh,EE[0])&&(qu(EE[0]+yh,"feed_thumbnail_focused"),DE()?WE():Hu("scene2")&&QE())}function jE(){return yh<3?2.5:ZE(yh+2,EE[0])?-1*document.getElementById(EE[8]+(yh-2)).offsetLeft:ZE(yh+1,EE[0])?-1*document.getElementById(EE[8]+(yh-3)).offsetLeft:-1*document.getElementById(EE[8]+(yh-(3<yh?4:3))).offsetLeft}function WE(){var e=jE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function QE(){document.getElementById("user_feed").style.bottom="-1000%",Fu("user_feed");var e=WE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Ju("user_feed")}function ZE(e,t){return null!==document.getElementById(t+e)}function KE(){ZE(yh,EE[0])&&zu(EE[0]+yh,"feed_thumbnail_focused")}var $E=0,eM=0,tM=!1,nM=0,aM={},iM=[],oM=!1,sM=0,dM=5,lM=3500,rM=0,cM=0,uM=0,_M=!1,fM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],mM=!1,hM="",pM="",vM=!1,gM=null;function yM(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=bc,Du("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user","icon_center_focus"),Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+W)),document.body.addEventListener("keydown",RM,!1),pM!==Xi[Vc.Users_Position].name&&(mM=!1),mM?(R_($E),Fu(fM[10]),GM(),A_()):wM()}function bM(){Vc.Users_Position=0,zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",RM),Yu("top_bar_user",u),Du("label_side_panel","icon-ellipsis",Rn),Ju(fM[10])}function wM(){B_("stream_table_user_live"),Ju(fM[10]),Wu(),d_(),mM=!1,pM=Xi[Vc.Users_Position].name,Sf=!(vM=!(iM=[])),$E=eM=nM=cM=rM=uM=0,tM=!(aM={}),hM="",n_(),CM(),kM()}function kM(){(gM=Xi[Vc.Users_Position].access_token)?(gM=gu+gM,IM()):(gM=null,CM(),AM())}function CM(){G_(),oM=!0,sM=0,lM=3500}function AM(){Ff("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Vc.Users_Position].id)+"/follows/channels?limit=100&offset="+uM+"&sortby=created_at",lM,2,null,MM,EM)}function EM(){++sM<dM?(lM+=500,AM()):(oM=!1,nM?(tM=!0,LM()):(Sf=!1,Qu(),s_(P),Pf(RM)))}function MM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===hM.indexOf(a)&&(hM+=a);uM+=n,CM(),AM()}else hM=hM.slice(0,-1),CM(),IM()}function IM(){var e=nM+rM;e&&cM-1<e&&(e=cM-iu,tM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=gM?"followed?":"?channel="+encodeURIComponent(hM)+"&",SM(t+="limit="+iu+"&offset="+e+"&stream_type=all",PM,xM,kM)}function SM(e,t,n,a){var i;if(Pu&&!nM){if(!(i=Android.mreadUrl(e,lM,gM?3:2,gM)))return void GI();200===(i=JSON.parse(i)).status?t(i.responseText):!gM||401!==i.status&&403!==i.status?n():ni(Vc.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=lM,i.setRequestHeader(hu,mu),i.setRequestHeader(pu,yu),gM&&i.setRequestHeader(vu,gM),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!gM||401!==i.status&&403!==i.status?n():ni(Vc.Users_Position,0,a,a))},i.send(null)}function xM(){++sM<dM?(lM+=500,IM()):(oM=!1,nM?(tM=!0,LM()):(Sf=!1,Qu(),s_(P),Pf(RM)))}function PM(e){var t=JSON.parse(e),n=t.streams.length;cM=parseInt(t._total),n<iu&&(tM=!0);var a=nM;_M=!(nM+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,aM[r]?o--:(aM[r]=1,d.appendChild(q_(s,s+"_"+o,[l.channel.name,r],fM,[l.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+dv(l.created_at)+" "+h+h_(l.viewers)+J,p_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<ou;o++)tM&&!vM&&(vM=!0,nM=s*ou+o),d.appendChild(D_(fM[9]+s+"_"+o)),iM.push(fM[9]+s+"_"+o);u.appendChild(d)}LM()}function LM(){if(mM){if(O_(xa),0<iM.length&&!tM)return CM(),void TM();GM(!0),iM=[]}else _M?(Pf(RM),s_(L+W)):(mM=!0,GM(),O_(xa),A_()),Fu(fM[10]),Sf=!1,Qu();oM=!1}function TM(){o_(iM.length);var e=nM+rM;e&&cM-1<e&&(e=cM-fu,tM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=gM?"followed?":"?channel="+encodeURIComponent(hM)+"&",SM(t+="followed?limit=limit="+fu+"&offset="+e+"&stream_type=all",OM,BM,TM)}function BM(){++sM<dM?(lM+=500,TM()):(tM=!0,nM-=iM.length,iM=[],LM())}function OM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(cM=parseInt(a._total),i<fu&&(tM=!0);o<iM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,aM[n]?o--:(aM[n]=1,z_(iM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",bu),v_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+dv(t.created_at)+" "+h+h_(t.viewers)+J,p_(t.video_height,t.average_fps,t.channel.broadcaster_language)],fM),d.push(o));for(o=d.length-1;-1<o;o--)iM.splice(d[o],1);rM+=s,tM&&(nM-=iM.length,iM=[]),LM()}function GM(e){ef($E,eM,fM,ou,nM,e),nM/ou<$E+su&&!tM&&!oM&&(CM(),AM()),Fc&&UM()}function UM(){nM&&cf($E+"_"+eM,fM)}function RM(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(UM(),Pf(RM));break;case Oa:if(g_($E,eM-1,fM[0]))UM(),eM--,GM();else for(t=ou-1;-1<t;t--)if(g_($E-1,t,fM[0])){UM(),$E--,eM=t,GM();break}break;case Ua:g_($E,eM+1,fM[0])?(UM(),eM++,GM()):g_($E+1,0,fM[0])&&(UM(),$E++,eM=0,GM());break;case Ga:for(t=0;t<ou;t++)if(g_($E-1,eM-t,fM[0])){UM(),$E--,eM-=t,GM();break}break;case Ra:for(t=0;t<ou;t++)if(g_($E+1,eM-t,fM[0])){UM(),$E++,eM-=t,GM();break}break;case Ta:case La:case Ba:case Na:af($E+"_"+eM,fM,RM)}}var NM=0,VM=0,DM=8,JM=0,FM=null,HM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],qM=!1,zM=!0;function XM(){return qc?(YM(),void ti(qc)):ho()?(Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=xc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",d_(),qu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",lI,!1),void(qM?(R_(NM),Fu(HM[5]),$M(),A_()):jM())):(Vc.Main_Go=pc,YM(),void k_())}function YM(){Vc.Users_Position=0,zu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",lI),Ju(HM[5]),document.getElementById("screens_holder").style.top="0"}function jM(){B_("stream_table_user"),Ju(HM[5]),Wu(),d_(),Sf=!(qM=!1),zM=!(NM=VM=0),ff(function(){WM()})}function WM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Xi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(jc=document.createElement("tr")).className="follower_header",jc.innerHTML='<div class="follower_header">'+(o?"":oe)+Xi[o].name+R+"</div>",i.appendChild(a),i.appendChild(jc),(e=document.createElement("tr")).appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,Yb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(QM(o+"_"+t,Vc.Main_selectedChannelDisplayname,Xi[o].access_token?wt:bt,"key",n)),i.appendChild(e);ZM()}function QM(e,t,n,a,i){return(jc=document.createElement("td")).setAttribute("id",HM[4]+e),jc.setAttribute(Cu,t),jc.className="stream_cell",jc.innerHTML='<div id="'+HM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+HM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+HM[2]+e+'" class="stream_text"><div id="'+HM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",jc}function ZM(){ff(function(){qM||(qM=!0,$M(),Qu(),A_()),Fu(HM[5]),zM=Sf=!1})}function KM(){for(var e=0;e<Xi.length;e++)Yu(HM[3]+e+"_2",Yb.isLive?Z:zt)}function $M(){qu(HM[0]+NM+"_"+VM,"stream_thumbnail_focused"),N_(NM)?1<NM?g_(NM+1,0,HM[0])&&rf(HM[5],-1*document.getElementById(HM[4]+NM+"_"+VM).offsetTop+500):rf(HM[5],screen.height/100*7):W_(),Fc&&eI()}function eI(){Jc=!1,zu(HM[0]+NM+"_"+VM,"stream_thumbnail_focused")}function tI(){return Vc.Users_Position=NM,3!==VM||Xi[Vc.Users_Position].access_token?7===VM&&Xi[Vc.Users_Position].access_token?(s_(wt),void window.setTimeout(d_,1500)):(6!==VM&&7!==VM&&(Ju(HM[5]),document.body.removeEventListener("keydown",lI),document.getElementById("screens_holder").style.top="0"),void ff(function(){VM?1===VM?QA():2===VM?(fb=Yb,gb()):3===VM?xI():4===VM?gA():5===VM?NM?fo(NM):(Vc.Main_Before=xc,Qi()):6===VM?iI():7!==VM||Xi[Vc.Users_Position].access_token||iI():yM()})):(s_(In),void window.setTimeout(d_,5e3))}function nI(){window.clearTimeout(FM)}function aI(){FM=window.setTimeout(oI,2e4)}function iI(){aI(),6===VM?Xu("main_dialog_remove",Ht+ca+Xi[Vc.Users_Position].name+"?"):7===VM&&Xu("main_dialog_remove",ft+" "+Xi[Vc.Users_Position].name+"?"),Fu("main_remove_dialog")}function oI(){nI(),Ju("main_remove_dialog"),JM=0,dI()}function sI(){return Hu("main_remove_dialog")}function dI(){JM?(zu("remove_cancel","button_search_focused"),qu("remove_yes","button_search_focused")):(qu("remove_cancel","button_search_focused"),zu("remove_yes","button_search_focused"))}function lI(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:sI()?oI():c_()?r_():m_()?f_():(eI(),Pf(lI));break;case Oa:if(sI())--JM<0&&(JM=1),dI(),nI(),aI();else if(g_(NM,VM-1,HM[0]))eI(),VM--,$M();else if(g_(NM-1,0,HM[0])){for(t=DM-1;-1<t;t--)if(g_(NM-1,t,HM[0])){eI(),NM--,VM=t,$M();break}}else eI(),VM=DM-1,$M();break;case Ua:sI()?(1<++JM&&(JM=0),dI(),nI(),aI()):(g_(NM,VM+1,HM[0])?(eI(),VM++):(g_(NM+1,0,HM[0])?(eI(),NM++):eI(),VM=0),$M());break;case Ga:for(t=0;t<DM;t++)if(g_(NM-1,VM-t,HM[0])){eI(),NM--,VM-=t,$M();break}break;case Ra:for(t=0;t<DM;t++)if(g_(NM+1,VM-t,HM[0])){eI(),NM++,VM-=t,$M();break}break;case Ta:case La:case Ba:case Na:var n;if(sI()){if(6===VM)n=JM,oI(),n&&(document.body.removeEventListener("keydown",lI),YM(),uo(NM));else if(n=JM,oI(),n){Vc.Users_AddcodePosition=Vc.Users_Position,A_();var a=Ka,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(mu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else tI()}}var rI=0,cI=0,uI=!1,_I=0,fI={},mI=[],hI=!1,pI=0,vI=5,gI=3500,yI=0,bI=0,wI=!1,kI=!1,CI="time",AI=2,EI=!1,MI=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],II=!1,SI=!1;function xI(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Rc,qu("top_bar_user","icon_center_focus"),Du("label_side_panel","icon-arrow-circle-left",I),Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+(SI?G:O))),document.body.addEventListener("keydown",YI,!1),II?(R_(rI),Fu(MI[10]),jI(),HI(),A_()):LI()}function PI(){Vc.Users_Position=0,II&&qI(),zu("top_bar_user","icon_center_focus"),Du("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",YI),Yu("top_bar_user",u),Ju(MI[10])}function LI(){II&&qI(),B_("stream_table_user_vod"),Ju(MI[10]),Wu(),jI(),d_(),EI=II=!1,Sf=!(kI=!(mI=[])),rI=cI=_I=bI=yI=0,uI=!(fI={}),n_(),BI()}function TI(){G_(),hI=!0,pI=0,gI=3500}function BI(){TI(),OI()}function OI(){var e=_I+yI;e&&bI-1<e&&(e=bI-iu,uI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+iu+"&broadcast_type="+(SI?"highlight":"archive")+"&sort="+CI+"&offset="+e;if(Pu&&!_I){if(!(t=Android.mreadUrl(n,gI,3,gu+Xi[Vc.Users_Position].access_token)))return void GI();200===(t=JSON.parse(t)).status?RI(t.responseText):401===t.status||403===t.status?ni(Vc.Users_Position,0,BI,UI):GI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=gI,t.setRequestHeader(pu,yu),t.setRequestHeader(hu,mu),t.setRequestHeader(vu,gu+Xi[Vc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?RI(t.responseText):401===t.status||403===t.status?ni(Vc.Users_Position,0,BI,UI):GI())},t.send(null)}function GI(){++pI<vI?(gI+=500,OI()):UI()}function UI(){hI=!1,_I?(uI=!0,NI()):(Sf=!1,Qu(),s_(P),Pf(rE),Xi[Vc.Users_Position].access_token||(PI(),Vc.Main_Go=xc,PI(),Lf(),C_()))}function RI(e){var t=JSON.parse(e),n=t.videos.length;bI=parseInt(t._total),n<iu&&(uI=!0);var a=_I;wI=!(_I+=n);var i=n/ou;0<n%ou&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!EI){var _;for(EI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(jc=document.createElement("td")).setAttribute("id",MI[8]+"y_"+f),jc.className="stream_cell",jc.innerHTML='<div id="'+MI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+MI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(jc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/ou+f,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||fI[r]?o--:(fI[r]=1,d.appendChild(ES(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",bu),l.channel.display_name,N+P_(l.created_at),jS.parse(l.title)+ca+Qt+v+l.game,h_(l.views)+D,p_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+ov(l.length),l.animated_preview_url],MI)));for(;o<ou;o++)uI&&!kI&&(kI=!0,_I=s*ou+o),d.appendChild(D_(MI[9]+s+"_"+o)),mI.push(MI[9]+s+"_"+o);u.appendChild(d)}NI()}function NI(){II?(O_(xa),HI(!0)):(wI?(s_(L+(SI?G:O)+T+M),Pf(YI)):(II=!0,HI(),O_(xa),A_()),Fu(MI[10]),Sf=!1,Qu()),0<mI.length&&!uI?VI():hI=!(mI=[])}function VI(){TI(),DI()}function DI(){o_(mI.length);var e=_I+yI;e&&bI-1<e&&(e=bI-fu,uI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+fu+"&broadcast_type="+(SI?"highlight":"archive")+"&sort="+CI+"&offset="+e;if(Pu){if(!(t=Android.mreadUrl(n,gI,3,gu+Xi[Vc.Users_Position].access_token)))return void JI();if(200===(t=JSON.parse(t)).status)return void FI(t.responseText);401===t.status||403===t.status?ni(Vc.Users_Position,0,BI,UI):JI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=gI,t.setRequestHeader(pu,yu),t.setRequestHeader(hu,mu),t.setRequestHeader(vu,gu+Xi[Vc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void FI(t.responseText);401===t.status||403===t.status?ni(Vc.Users_Position,0,BI,UI):JI()}},t.send(null)}function JI(){++pI<vI?(gI+=500,DI()):(uI=!0,_I-=mI.length,mI=[],NI())}function FI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(bI=parseInt(a._total);o<mI.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||fI[n]?o--:(fI[n]=1,IS(mI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",bu),t.channel.display_name,N+P_(t.created_at),jS.parse(t.title)+ca+Qt+v+t.game,h_(t.views)+D,p_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+ov(t.length),t.animated_preview_url],MI),d.push(o));for(o=d.length-1;-1<o;o--)mI.splice(d[o],1);yI+=s,uI&&(_I-=mI.length,mI=[]),NI()}function HI(e){rI<0?zI():(ef(rI,cI,MI,ou,_I,e),RS(MI,rI+"_"+cI),_I/ou<rI+su&&!uI&&!hI&&BI(),Fc&&qI())}function qI(){window.clearInterval(WI),-1<rI&&_I?(Fu(MI[1]+rI+"_"+cI),cf(rI+"_"+cI,MI)):XI()}function zI(){var e=1<cI?1:cI;qu(MI[0]+"y_"+e,ku)}function XI(){var e=1<cI?1:cI;zu(MI[0]+"y_"+e,ku)}function YI(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:c_()?r_():c_()?r_():m_()?f_():(qI(),Pf(YI));break;case Oa:if(-1===rI)XI(),--cI<0&&(cI=1),zI();else if(rI||cI){if(g_(rI,cI-1,MI[0]))qI(),cI--,HI();else for(t=ou-1;-1<t;t--)if(g_(rI-1,t,MI[0])){qI(),rI--,cI=t,HI();break}}else qI(),XI(),rI=-1,cI=1,zI();break;case Ua:-1===rI?(XI(),1<++cI?(cI=0,wI?zI():(rI=0,HI())):zI()):g_(rI,cI+1,MI[0])?(qI(),cI++,HI()):g_(rI+1,0,MI[0])&&(qI(),rI++,cI=0,HI());break;case Ga:if(-1!==rI||wI)if(rI){for(t=0;t<ou;t++)if(g_(rI-1,cI-t,MI[0])){qI(),rI--,cI-=t,HI();break}}else qI(),rI=-1,zI();else rI=0,XI(),HI();break;case Ra:if(-1!==rI||wI){for(t=0;t<ou;t++)if(g_(rI+1,cI-t,MI[0])){qI(),rI++,cI-=t,HI();break}}else rI=0,XI(),HI();break;case Ta:case La:case Ba:case Na:-1===rI?(0===cI?Uf("UserVod_highlight",(SI=!SI)?"true":"false"):1===AI?AI++:AI--,LI()):df(rI+"_"+cI,MI,YI)}}function jI(){1===AI?(Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+" "+(SI?G:O)+En)),CI="time"):2===AI&&(Xu("top_bar_user",u+x_(Xi[Vc.Users_Position].name+" "+(SI?G:O)+Mn)),CI="views"),Uf("UserVod_TypeNumber",AI)}var WI,QI=0,ZI=0,KI=!1,$I=0,eS={},tS=[],nS=!1,aS=0,iS=5,oS=3500,sS=0,dS=0,lS=!1,rS=!1,cS="week",uS=2,_S=!1,fS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],mS=!1,hS=!1,pS=1,vS=new Image;function gS(){Vc.Main_CenterLablesVectorPos=4,Vc.Main_Go=Tc,qu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",NS,!1),mS?(R_(QI),Fu(fS[10]),VS(),BS(),A_()):bS()}function yS(){mS&&OS(),I_(),document.body.removeEventListener("keydown",NS),zu("top_bar_vod","icon_center_focus"),Yu("top_bar_vod",Kt),Ju(fS[10])}function bS(){mS&&OS(),B_("stream_table_vod"),Ju(fS[10]),Wu(),VS(),d_(),_S=mS=!1,Sf=!(rS=!(tS=[])),QI=ZI=$I=dS=sS=0,KI=!(eS={}),n_(),wS(),kS()}function wS(){G_(),nS=!0,aS=0,oS=3500}function kS(){var e=$I+sS;e&&dS-1<e&&(e=dS-iu,KI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+iu+"&broadcast_type="+(hS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+cS+(""!==Qc?"&language="+Qc:"");Pu&&!$I?qf(t,oS,2,null,AS,CS):zf(t,oS,2,null,AS,CS,!1)}function CS(){++aS<iS?(oS+=500,kS()):(nS=!1,$I?(KI=!0,xS()):(Sf=!1,Qu(),s_(P)))}function AS(e){var t=JSON.parse(e),n=t.vods.length;dS=parseInt(t._total),n<iu&&(KI=!0);var a=$I;lS=!($I+=n);var i=n/ou;0<n%ou&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!_S){var _;for(_S=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(jc=document.createElement("td")).setAttribute("id",fS[8]+"y_"+f),jc.className="stream_cell",jc.innerHTML='<div id="'+fS[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+fS[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(jc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/ou+f,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||eS[r]?o--:(eS[r]=1,d.appendChild(ES(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",bu),l.channel.display_name,N+P_(l.created_at),jS.parse(l.title)+ca+Qt+v+l.game,h_(l.views)+D,p_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+ov(l.length),l.animated_preview_url],fS)));for(;o<ou;o++)KI&&!rS&&(rS=!0,$I=s*ou+o),d.appendChild(D_(fS[9]+s+"_"+o)),tS.push(fS[9]+s+"_"+o);u.appendChild(d)}xS()}function ES(e,t,n,a,i){return e<ou&&V_(a[0]),MS(n,t,a,i)}function MS(e,t,n,a){return(jc=document.createElement("td")).setAttribute("id",a[8]+t),jc.setAttribute(Cu,JSON.stringify(e)),jc.className="stream_cell",jc.innerHTML=SS(t,n,a),jc}function IS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Cu,JSON.stringify(t)),i.innerHTML=SS(o,n,a),i.setAttribute("id",a[8]+o)}function SS(e,t,n){return U_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function xS(){if(mS?(O_(xa),BS(!0)):(lS?s_(L+(hS?G:O)+T+M):(mS=!0,BS(),O_(xa),A_()),Fu(fS[10]),Sf=!1,Qu()),0<tS.length&&!KI)return wS(),void PS();nS=!(tS=[])}function PS(){o_(tS.length);var e=$I+sS;e&&dS-1<e&&(e=dS-fu,KI=!0),Ff("https://api.twitch.tv/kraken/videos/top?limit="+fu+"&broadcast_type="+(hS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+cS+(""!==Qc?"&language="+Qc:""),oS,2,null,TS,LS)}function LS(){++aS<iS?(oS+=500,PS()):(KI=!0,$I-=tS.length,tS=[],xS())}function TS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(dS=parseInt(a._total);o<tS.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||eS[n]?o--:(eS[n]=1,IS(tS[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",bu),t.channel.display_name,N+P_(t.created_at),jS.parse(t.title)+ca+Qt+v+t.game,h_(t.views)+D,p_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+ov(t.length),t.animated_preview_url],fS),d.push(o));for(o=d.length-1;-1<o;o--)tS.splice(d[o],1);sS+=s,KI&&($I-=tS.length,tS=[]),xS()}function BS(e){QI<0?GS():(ef(QI,ZI,fS,ou,$I,e),RS(fS,QI+"_"+ZI),$I/ou<QI+su&&!KI&&!nS&&(wS(),kS()),Fc&&OS())}function OS(){window.clearInterval(WI),-1<QI&&$I?(Fu(fS[1]+QI+"_"+ZI),cf(QI+"_"+ZI,fS)):US()}function GS(){var e=1<ZI?1:ZI;qu(fS[0]+"y_"+e,ku)}function US(){var e=1<ZI?1:ZI;zu(fS[0]+"y_"+e,ku)}function RS(t,n){if(pS){var a=document.getElementById(t[0]+n);vS.onload=function(){Ju(t[1]+n),a.style.backgroundSize="612px";var e=0;WI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},vS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function NS(e){var t;if(!Sf&&!K_())switch(Z_(),e.keyCode){case Va:m_()?f_():c_()?r_():(OS(),Pf(NS));break;case Oa:if(-1===QI)US(),--ZI<0&&(ZI=1),GS();else if(QI||ZI){if(g_(QI,ZI-1,fS[0]))OS(),ZI--,BS();else for(t=ou-1;-1<t;t--)if(g_(QI-1,t,fS[0])){OS(),QI--,ZI=t,BS();break}}else OS(),US(),QI=-1,ZI=1,GS();break;case Ua:-1===QI?(US(),1<++ZI?(ZI=0,lS?GS():(QI=0,BS())):GS()):g_(QI,ZI+1,fS[0])?(OS(),ZI++,BS()):g_(QI+1,0,fS[0])&&(OS(),QI++,ZI=0,BS());break;case Ga:if(-1!==QI||lS)if(QI){for(t=0;t<ou;t++)if(g_(QI-1,ZI-t,fS[0])){OS(),QI--,ZI-=t,BS();break}}else OS(),QI=-1,GS();else QI=0,US(),BS();break;case Ra:if(-1!==QI||lS){for(t=0;t<ou;t++)if(g_(QI+1,ZI-t,fS[0])){OS(),QI++,ZI-=t,BS();break}}else QI=0,US(),BS();break;case Ta:case La:case Ba:case Na:-1===QI?(0===ZI?Uf("Vod_highlight",(hS=!hS)?"true":"false"):4<++uS&&(uS=1),bS()):df(QI+"_"+ZI,fS,NS)}}function VS(){1===uS?(Xu("top_bar_vod",Kt+x_((hS?G:O)+de)),cS="day"):2===uS?(Xu("top_bar_vod",Kt+x_((hS?G:O)+le)),cS="week"):3===uS?(Xu("top_bar_vod",Kt+x_((hS?G:O)+re)),cS="month"):4===uS&&(Xu("top_bar_vod",Kt+x_((hS?G:O)+ce)),cS="all"),Uf("vod_periodNumber",uS)}function DS(e,t){return e.replace(t.code,JS(t))}function JS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function FS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function HS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Gl[a]||Gl[e];e=i?DS(e,i):HS(e),t[n]=e}return t.join(" ")}function zS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([FS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function XS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function YS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+c((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function A(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;a+=g)e=b(e/r);return b(a+(r+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,r,c,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&k("overflow"),s*=c;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return A(_)}function f(e){var t,n,a,i,o,s,d,l,r,c,u,_,f,m,h,p=[];for(_=(e=C(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)h=l-c,m=g-c,p.push(w(E(c+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:C,encode:A},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=a,a=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var jS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();