var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,C,A,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,J,F,H,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Ae,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Je,Fe,He,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,At,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Jt,Ft,Ht,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,An,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Jn,Fn,Hn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa,da,la,ra="fglfgl27@gmail.com",ca="<br>",ua='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',_a='<div class="about_text_title">',fa='<div class="about_text_title" style="text-align: left;">',ma='<div style="text-align: left;">',ha="",pa="",va="",ga="",ya="",ba="",wa="",ka="",Ca="",Aa="&nbsp;";function Ea(){ha=e+" (C)",pa=n+" (D)",ga=a+" (A)",va=i+" (A)",l+=Zt,r+=Zt,I=ia+oa,ya=_a+e+"</div>"+_a+Ae+"</div>"+ca+ma+ua+xe+ca+ua+(Pe+=Yt)+ca+ua+Le+ca+ua+Te+ca+Be+ca+ua+Oe+ca+Aa+Aa+Aa+Ge+ca+ua+Ue+ca+"</div>"+ca+(ka=_a+ke+"</div>"+ma+ua+nt+ca+ua+$e+ca+ua+et+ca+"</div>"+ma+ua+tt+ca+ua+at+ca+ua+it+ca+ca+_a+Ce+"</div>"+ma+ua+ot+ca+ua+st+ca+ua+dt+ca+ua+lt+ca+ua+rt)+ca+ca+_a+we+"</div>",ba=_a+be+"</div></div>",wa=ma+ca+Re+ca+(rc?ca+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+ca+_a+Ne+"</div>"+ra+ca+ca+Ve+ca+De+ca+ca+fa+Je+"</div>"+ma+We+ca+ua+Fe+ca+ua+He+ca+ua+qe+ca+ua+ze+ca+ua+Xe+ca+ua+Ye+ca+ua+je+ca+Qe+ca+ua+Ze+ca+ua+Ke+ca+_a+we+"</div></div>",Ca=mt+ca+ua+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+ca+ua+pt+ca+ua+vt+ca+ua+gt+ca+ua+yt}function Ma(){Xc=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",C="Type your user name...",A="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ce="Chat Related:",Ae="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",Ct="Key test return OK",At="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+ca+"Chat: Connected."+ca+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",Cn=(kn="From:"+ca)+"Start",An="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness ",sa="Play Next",la="Playing next in ",da="Play All"}var Ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Pa="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",La=51,Ta=52,Ba=179,Oa=37,Ga=38,Ua=39,Ra=40,Na=13,Va=49,Da=8,Ja=13,Fa=32,Ha=46,qa=0,za=5,Xa=1e4,Ya=0,ja=!1,Wa=!1,Qa=!1,Za="",Ka="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",$a="elsu5d09k0xomu7cggx3qg5ybdwu7g",ei="https://id.twitch.tv/oauth2/token?";function ti(e){Uc.Users_Position=Uc.Users_AddcodePosition,Ya=e,Mi(),Xu(),si()}function ni(e,t,n,a){var i=new XMLHttpRequest,o=ei+"grant_type=refresh_token&client_id="+encodeURIComponent(uu)+"&client_secret="+encodeURIComponent($a)+"&refresh_token="+encodeURIComponent(Xi[e].refresh_token)+"&redirect_uri="+Ka;i.open("POST",o,!0),i.timeout=Xa,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ii(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(ri(),a&&a()):ai(e,t,n,a))},i.send(null)}function ai(e,t,n,a){++t<5?ni(e,t,n,a):a&&a()}function ii(e,t,n){var a=JSON.parse(e);oi(a.scope)?(Xi[t].access_token=a.access_token,Xi[t].refresh_token=a.refresh_token,_o()):ri(),n&&n()}function oi(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function si(){var e=ei+"grant_type=authorization_code&client_id="+encodeURIComponent(uu)+"&client_secret="+encodeURIComponent($a)+"&code="+encodeURIComponent(Ya)+"&redirect_uri="+Ka,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Xa,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?ci(t.responseText):di())},t.send(null)}function di(){++qa<za?si():li()}function li(){Yu(),a_(Lt),window.setTimeout(function(){i_(),Jc=0,w_(),Uc.Main_Go=Mc,window.location=Ka},4e3),Xi[Uc.Users_Position].access_token=0,Xi[Uc.Users_Position].refresh_token=0,_o()}function ri(){JM=!1,Yu(),a_(Lt),Xi[Uc.Users_Position].access_token=0,Xi[Uc.Users_Position].refresh_token=0,_o(),w_(),window.setTimeout(i_,4e3)}function ci(e){var t=JSON.parse(e);Xi[Uc.Users_Position].access_token=t.access_token,Xi[Uc.Users_Position].refresh_token=t.refresh_token,Mi(),ui()}function ui(){Vf("https://api.twitch.tv/kraken?oauth_token="+Xi[Uc.Users_Position].access_token,Xa,0,null,_i,fi)}function _i(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Xi[Uc.Users_Position].name)){if(_o(),Jc=0,Yu(),JM=!1,Uc.Main_Go=Mc,w_(),a_(wt),Iu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Ka},3e3)}else Xi[Uc.Users_Position].access_token=0,Xi[Uc.Users_Position].refresh_token=0,a_(Gn+Xi[Uc.Users_Position].name),window.setTimeout(function(){i_(),Jc=0,w_(),Uc.Main_Go=Mc,window.location=Ka},4e3)}function fi(){++qa<za?(Xa+=500,ui()):li()}function mi(){Mi(),ja=!1,hi()}function hi(){var e="https://api.twitch.tv/kraken/users/"+Xi[Uc.Users_Position].id+"/follows/channels/"+Za,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Xa,t.setRequestHeader(_u,uu),t.setRequestHeader(fu,pu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?pi():404===t.status?vi(t.responseText):gi())},t.send(null)}function pi(){ja=!0,Qa?pg():Id()}function vi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ja=!1,Qa?pg():Id()):gi()}function gi(){++qa<za?(Xa+=500,hi()):Qa?pg():Id()}function yi(){Mi(),bi()}function bi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Xi[Uc.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(_u,uu),e.setRequestHeader(fu,pu),e.setRequestHeader("Authorization","OAuth "+Xi[Uc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ja=!0,void(Qa?pg():Id());401===e.status||403===e.status?ni(Uc.Users_Position,0,yi,null):wi()}},e.send(null)}function wi(){++qa<za&&(Xa+=500,bi())}function ki(){Mi(),Ci()}function Ci(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Xi[Uc.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(_u,uu),e.setRequestHeader(fu,pu),e.setRequestHeader("Authorization","OAuth "+Xi[Uc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ja=!1,void(Qa?pg():Id());401===e.status||403===e.status?ni(Uc.Users_Position,0,ki,null):Ai()}},e.send(null)}function Ai(){++qa<za&&(Xa+=500,Ci())}function Ei(){Mi(),Wa=!1,Ii()}function Mi(){qa=0,Xa=1e4}function Ii(){var e,t="https://api.twitch.tv/kraken/users/"+Xi[Uc.Users_Position].id+"/subscriptions/"+Za;if(Iu){if(!(e=Android.mreadUrl(t,Xa,3,Xi[Uc.Users_Position].access_token)))return void Si();if(200===(e=JSON.parse(e)).status)Wa=!0,Sy();else if(422===e.status)Wa=!1,Iy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Iy();Si()}else 401===e.status||403===e.status?ni(Uc.Users_Position,0,Ei,xi):Si()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Xa,e.setRequestHeader(_u,uu),e.setRequestHeader(fu,pu),e.setRequestHeader("Authorization","OAuth "+Xi[Uc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Wa=!0,Sy();else if(422===e.status)Wa=!1,Iy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Iy();Si()}else 401===e.status||403===e.status?ni(Uc.Users_Position,0,Ei,xi):Si()},e.send(null)}function Si(){++qa<za?(Xa+=500,Ii()):xi()}function xi(){Wa=!1,Iy()}function Pi(e){Mi(),Li(e,0)}function Li(e,t){var n,a="https://api.twitch.tv/kraken?oauth_token="+Xi[e].access_token;if(Iu){if(!(n=Android.mreadUrl(a,3500,0,null)))return void Bi(e,t);200===(n=JSON.parse(n)).status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t)}else(n=new XMLHttpRequest).open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t))},n.send(null)}function Ti(e,t){var n=JSON.parse(e);n.token.valid?oi(n.token.authorization.scopes)||ri():(Mi(),ni(t,0,null,null))}function Bi(e,t){++t<za&&Li(e,t)}function Oi(){Mi(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Xi[Uc.Users_Position].name+"/follows/games/"+encodeURIComponent(Uc.Main_gameSelected)+"?oauth_token="+Xi[Uc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(_u,uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return To=!0,void qo();401===e.status||403===e.status?ni(Uc.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++qa<za&&(Xa+=500,Gi())}function Ri(){Mi(),Ni()}function Ni(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Xi[Uc.Users_Position].name+"/follows/games/"+encodeURIComponent(Uc.Main_gameSelected)+"?oauth_token="+Xi[Uc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(_u,uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return To=!1,void qo();401===e.status||403===e.status?ni(Uc.Users_Position,0,Ri,null):Vi()}},e.send(null)}function Vi(){++qa<za&&(Xa+=500,Ni())}function Di(){Mi(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Xi[Uc.Users_Position].name+"/follows/games/"+encodeURIComponent(Uc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(_u,uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(To=!0,void qo()):404===e.status?(To=!1,void qo()):void Fi()},e.send(null)}function Fi(){++qa<za?(Xa+=500,Ji()):(To=!1,qo())}var Hi=0,qi=5,zi=3500,Xi=[],Yi=null,ji=!1,Wi=!1;function Qi(){Uc.Main_Go=mc,Ju("top_bar_user","icon_center_focus"),i_(),ac.placeholder=C,Vu("add_user_scroll"),$i()}function Zi(){to(!1),document.body.removeEventListener("keydown",Ki),document.body.removeEventListener("keydown",no),Fu("top_bar_user","icon_center_focus"),Nu("add_user_scroll")}function Ki(e){if(!ji&&!Wi&&Uc.Main_Go===mc)switch(e.keyCode){case Va:d_()?s_():u_()?c_():(0<Xi.length&&Uc.Main_Go!==Mc?Uc.Main_Go=Uc.Main_Before:Uc.Main_Go=fc,Zi(),y_());break;case Ta:case La:case Ba:case Na:$i()}}function $i(){document.body.removeEventListener("keydown",Ki),document.body.addEventListener("keydown",no,!1),ac.placeholder=C,ac.focus(),Wi=!0}function eo(){if(null!==ac){var e=ac.cloneNode(!0);ac.parentNode.replaceChild(e,ac),ac=document.getElementById("user_input")}}function to(e){ac.blur(),eo(),document.body.removeEventListener("keydown",no),ac.placeholder=A+C,e&&document.body.addEventListener("keydown",Ki,!1),Wi=!1}function no(e){if(!ji&&Uc.Main_Go===mc)switch(e.keyCode){case Va:d_()?s_():u_()?c_():(0<Xi.length&&Uc.Main_Go!==Mc?Uc.Main_Go=Uc.Main_Before:Uc.Main_Go=fc,Zi(),y_());break;case Ha:ac.value="";break;case Ja:case Ra:""!==ac.value&&null!==ac.value?mo(Yi=ac.value)?(Yu(),a_(u+Yi+ae),window.setTimeout(function(){i_(),$i()},1500)):(zi=3500,ji=!(Hi=0),Nu("add_user_scroll"),Xu(),ao()):$i();break;case Da:ac.value=ac.value.slice(0,-1);break;case Fa:ac.value+=" "}}function ao(){Vf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Yi),zi,2,null,io,oo)}function io(e){JSON.parse(e)._total?(ac.value="",document.body.removeEventListener("keydown",Ki),co(e)):so()}function oo(){++Hi<qi?(zi+=500,ao()):so()}function so(){Yi=null,Yu(),a_(te),window.setTimeout(function(){Qi()},1e3),ji=!1}function lo(){if(0<(Xi=Gf("AddUser_UsernameArray",[])).length)for(var e=0;e<Xi.length;e++)Xi[e].access_token&&Pi(e)}function ro(){return 0<Xi.length}function co(e){Yi=JSON.parse(e).users[0],Xi.push({name:Yi.name,id:Yi._id,access_token:0,refresh_token:0}),_o(),JM=!1,Zi(),HM(),ji=!1}function uo(e){var t=Xi.indexOf(Xi[e]);-1<t&&Xi.splice(t,1),0<Xi.length?(JM=!1,HM()):Qi(),_o()}function _o(){Bf("AddUser_UsernameArray",JSON.stringify(Xi))}function fo(e){Yi=Xi[0],Xi[0]=Xi[e],Xi[e]=Yi,JM=!1,HM(),_o()}function mo(e){return-1!==Xi.indexOf(e)}function ho(){return 0<Xi.length}var po=0,vo=0,go=!1,yo=0,bo={},wo=[],ko=!1,Co=0,Ao=5,Eo=3500,Mo=0,Io=0,So=!1,xo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Po=!1,Lo=!1,To=!1,Bo=!1,Oo=!1;function Go(){Uc.Main_CenterLablesVectorPos=3,Uc.Main_Go=pc,document.body.addEventListener("keydown",ts,!1),Ju("top_bar_game","icon_center_focus"),Ru("label_side_panel","icon-arrow-circle-left",I),Uc.Search_isSearching&&(E_(),Hu("top_bar_user",n+M_(f+" '"+Uc.Search_data+"'"))),Hu("top_bar_game",b+M_(_+": "+Uc.Main_gameSelected)),Uc.Main_OldgameSelected===Uc.Main_gameSelected&&Po?(O_(po),Vu(xo[10]),Zo(),w_()):Ro()}function Uo(){Po&&-1===po&&(es(),vo=po=0,Ju(xo[0]+"0_"+vo,yu)),Ru("label_side_panel","icon-ellipsis",Rn),Hu("top_bar_game",f),document.body.removeEventListener("keydown",ts),Fu("top_bar_game","icon_center_focus"),Nu(xo[10])}function Ro(){null===Uc.Main_OldgameSelected&&(Uc.Main_OldgameSelected=Uc.Main_gameSelected),P_("stream_table_a_game"),Nu(xo[10]),Xu(),i_(),Oo=Po=!1,bo={},Ef=!(yo=Io=Mo=0),po=vo=0,go=Lo=!(wo=[]),$u(),No(),Vo()}function No(){T_(),ko=!0,Co=0,Eo=3500}function Vo(){var e=yo+Mo;e&&Io-1<e&&(e=Io-tu,go=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Uc.Main_gameSelected)+"&limit="+tu+"&offset="+e+(""!==Yc?"&broadcaster_language="+Yc:"");Iu&&!yo?Jf(t,Eo,2,null,Jo,Do):Ff(t,Eo,2,null,Jo,Do,!1)}function Do(){++Co<Ao?(Eo+=500,Vo()):(ko=!1,yo?(go=!0,Fo()):(Ef=!1,Yu(),a_(P)))}function Jo(e){var t=JSON.parse(e),n=t.streams.length;Io=parseInt(t._total),n<tu&&(go=!0);var a=yo;So=!(yo+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!Oo){var f;for(Oo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+Aa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+Kt,(zc=document.createElement("td")).setAttribute("id",xo[8]+"y_"+l),zc.className="stream_cell",zc.innerHTML='<div id="'+xo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+xo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(zc);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/nu+l,d=document.createElement("tr"),o=0;o<nu&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,bo[c]?o--:(bo[c]=1,d.appendChild(J_(s,s+"_"+o,[r.channel.name,c],xo,[r.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+iv(r.created_at)+" "+h+__(r.viewers)+J,f_(r.video_height,r.average_fps,r.channel.broadcaster_language)])));for(;o<nu;o++)go&&!Lo&&(Lo=!0,yo=s*nu+o),d.appendChild(R_(xo[9]+s+"_"+o)),wo.push(xo[9]+s+"_"+o);_.appendChild(d)}Fo()}function Fo(){if(Po){if(L_(xa),0<wo.length&&!go)return No(),void jo();Zo(!0),wo=[]}else Ho(),So?(a_(L+Z),po=-1,$o()):(Po=!0,L_(xa),Zo(),w_()),Vu(xo[10]),Ef=!1,Yu();ko=!1}function Ho(){Bo?(To=!0,qo()):ro()?Di():(To=!1,qo())}function qo(){Hu(xo[3]+"y_2",To?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Aa+Aa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Aa+Aa+(ro()?It:Tt))}function zo(){ro()&&Xi[Uc.Users_Position].access_token?To?Ri():Oi():(a_(Bt),window.setTimeout(function(){So&&Uc.Main_Go===pc?a_(L+Z):i_()},2e3))}function Xo(){vo?1===vo?(Uc.Main_Go=Tc,Uc.Main_OldgameSelected=Uc.Main_gameSelected,Yo(),b_()):zo():(Uc.Main_Go=Lc,Uc.Main_OldgameSelected=Uc.Main_gameSelected,Yo(),b_())}function Yo(){Po&&-1===po&&(es(),vo=po=0,Ju(xo[0]+"0_"+vo,yu)),document.body.removeEventListener("keydown",ts),Nu(xo[10])}function jo(){n_(wo.length);var e=yo+Mo;e&&Io-1<e&&(e=Io-cu,go=!0),Vf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Uc.Main_gameSelected)+"&limit="+cu+"&offset="+e+(""!==Yc?"&broadcaster_language="+Yc:""),Eo,2,null,Qo,Wo)}function Wo(){++Co<Ao?(Eo+=500,jo()):(go=!0,yo-=wo.length,wo=[],Fo())}function Qo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Io=parseInt(a._total),i<cu&&(go=!0);o<wo.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,bo[n]?o--:(bo[n]=1,F_(wo[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+iv(t.created_at)+" "+h+__(t.viewers)+J,f_(t.video_height,t.average_fps,t.channel.broadcaster_language)],xo),d.push(o));for(o=d.length-1;-1<o;o--)wo.splice(d[o],1);Mo+=s,go&&(yo-=wo.length,wo=[]),Fo()}function Zo(e){po<0?$o():(Z_(po,vo,xo,nu,yo,e),yo/nu<po+au&&!go&&!ko&&(No(),Vo()),Vc&&Ko())}function Ko(){-1<po&&yo?df(po+"_"+vo,xo):es()}function $o(){Ju(xo[0]+"y_"+vo,yu)}function es(){Fu(xo[0]+"y_"+vo,yu)}function ts(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(Uc.Main_OldgameSelected=Uc.Main_gameSelected,Ko(),es(),If(ts));break;case Oa:if(-1===po)es(),--vo<0&&(vo=2),$o();else if(po||vo){if(h_(po,vo-1,xo[0]))Ko(),vo--,Zo();else for(t=nu-1;-1<t;t--)if(h_(po-1,t,xo[0])){Ko(),po--,vo=t,Zo();break}}else Ko(),es(),po=-1,vo=2,$o();break;case Ua:-1===po?(es(),2<++vo?(vo=0,So?$o():(po=0,Zo())):$o()):h_(po,vo+1,xo[0])?(Ko(),vo++,Zo()):h_(po+1,0,xo[0])&&(Ko(),po++,vo=0,Zo());break;case Ga:if(-1!==po||So)if(po){for(t=0;t<nu;t++)if(h_(po-1,vo-t,xo[0])){Ko(),po--,vo-=t,Zo();break}}else Ko(),po=-1,$o();else po=0,es(),Zo();break;case Ra:if(-1!==po||So){for(t=0;t<nu;t++)if(h_(po+1,vo-t,xo[0])){Ko(),po++,vo-=t,Zo();break}}else po=0,es(),Zo();break;case Ta:case La:case Ba:case Na:-1!==po?ef(po+"_"+vo,xo,ts):Xo()}}var ns=0,as=0,is=!1,os=0,ss={},ds=[],ls=!1,rs=0,cs=5,us=3500,_s=0,fs=0,ms=!1,hs=!1,ps="week",vs=2,gs=!1,ys=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],bs=!1,ws=!1,ks="";function Cs(){Uc.Main_CenterLablesVectorPos=3,Uc.Main_Go=Lc,Ju("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ns,!1),Ru("label_side_panel","icon-arrow-circle-left",I),ks===Uc.Main_gameSelected&&bs?(O_(ns),Vu(ys[10]),Vs(),Os(),w_()):Es()}function As(){bs&&Gs(),document.body.removeEventListener("keydown",Ns),Fu("top_bar_game","icon_center_focus"),Hu("top_bar_game",f),Ru("label_side_panel","icon-ellipsis",Rn),Nu(ys[10])}function Es(){bs&&Gs(),P_("stream_table_a_game_vod"),Nu(ys[10]),Xu(),Vs(),ks=Uc.Main_gameSelected,i_(),gs=bs=!1,Ef=!(hs=!(ds=[])),ns=as=os=fs=_s=0,is=!(ss={}),$u(),Ms(),Is()}function Ms(){T_(),ls=!0,rs=0,us=3500}function Is(){var e=os+_s;e&&fs-1<e&&(e=fs-tu,is=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Uc.Main_gameSelected)+"&limit="+tu+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==Yc?"&language="+Yc:"");Iu&&!os?Jf(t,us,2,null,xs,Ss):Ff(t,us,2,null,xs,Ss,!1)}function Ss(){++rs<cs?(us+=500,Is()):(ls=!1,os?(is=!0,Ps()):(Ef=!1,Yu(),a_(P)))}function xs(e){var t=JSON.parse(e),n=t.vods.length;fs=parseInt(t._total),n<tu&&(is=!0);var a=os;ms=!(os+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!gs){var _;for(gs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(zc=document.createElement("td")).setAttribute("id",ys[8]+"y_"+f),zc.className="stream_cell",zc.innerHTML='<div id="'+ys[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ys[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(zc);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nu+f,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ss[r]?o--:(ss[r]=1,d.appendChild(kS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),zS.parse(l.title)+ca+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],ys)));for(;o<nu;o++)is&&!hs&&(hs=!0,os=s*nu+o),d.appendChild(R_(ys[9]+s+"_"+o)),ds.push(ys[9]+s+"_"+o);u.appendChild(d)}Ps()}function Ps(){if(bs?L_(xa):(ms?a_(L+(ws?G:O)+T+M):(bs=!0,L_(xa),Os(),w_()),Vu(ys[10]),Ef=!1,Yu()),0<ds.length&&!is)return Ms(),void Ls();Os(!0),ls=!(ds=[])}function Ls(){n_(ds.length);var e=os+_s;e&&fs-1<e&&(e=fs-cu,is=!0),Vf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Uc.Main_gameSelected)+"&limit="+cu+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==Yc?"&language="+Yc:""),us,2,null,Bs,Ts)}function Ts(){++rs<cs?(us+=500,Ls()):(is=!0,ds=[],Ps())}function Bs(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(fs=parseInt(a._total);o<ds.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ss[n]?o--:(ss[n]=1,AS(ds[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),zS.parse(t.title)+ca+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],ys),d.push(o));for(o=d.length-1;-1<o;o--)ds.splice(d[o],1);_s+=s,is&&(os-=ds.length,ds=[]),Ps()}function Os(e){ns<0?Us():(Z_(ns,as,ys,nu,os,e),OS(ys,ns+"_"+as),os/nu<ns+au&&!is&&!ls&&(Ms(),Is()),Vc&&Gs())}function Gs(){window.clearInterval(XI),-1<ns&&os?(Vu(ys[1]+ns+"_"+as),df(ns+"_"+as,ys)):Rs()}function Us(){var e=1<as?1:as;Ju(ys[0]+"y_"+e,yu)}function Rs(){var e=1<as?1:as;Fu(ys[0]+"y_"+e,yu)}function Ns(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(Gs(),If(Ns));break;case Oa:if(-1===ns)Rs(),--as<0&&(as=1),Us();else if(ns||as){if(h_(ns,as-1,ys[0]))Gs(),as--,Os();else for(t=nu-1;-1<t;t--)if(h_(ns-1,t,ys[0])){Gs(),ns--,as=t,Os();break}}else Gs(),Rs(),ns=-1,as=1,Us();break;case Ua:-1===ns?(Rs(),1<++as?(as=0,ms?Us():(ns=0,Os())):Us()):h_(ns,as+1,ys[0])?(Gs(),as++,Os()):h_(ns+1,0,ys[0])&&(Gs(),ns++,as=0,Os());break;case Ga:if(-1!==ns||ms)if(ns){for(t=0;t<nu;t++)if(h_(ns-1,as-t,ys[0])){Gs(),ns--,as-=t,Os();break}}else Gs(),ns=-1,Us();else ns=0,Rs(),Os();break;case Ra:if(-1!==ns||ms){for(t=0;t<nu;t++)if(h_(ns+1,as-t,ys[0])){Gs(),ns++,as-=t,Os();break}}else ns=0,Rs(),Os();break;case Ta:case La:case Ba:case Na:-1===ns?(0===as?Bf("AGameVod_highlight",(ws=!ws)?"true":"false"):4<++vs&&(vs=1),Es()):af(ns+"_"+as,ys,Ns)}}function Vs(){1===vs?(Hu("top_bar_game",b+M_((ws?G:O)+de+": "+Uc.Main_gameSelected)),ps="day"):2===vs?(Hu("top_bar_game",b+M_((ws?G:O)+le+": "+Uc.Main_gameSelected)),ps="week"):3===vs?(Hu("top_bar_game",b+M_((ws?G:O)+re+": "+Uc.Main_gameSelected)),ps="month"):4===vs&&(Hu("top_bar_game",b+M_((ws?G:O)+ce+": "+Uc.Main_gameSelected)),ps="all"),Bf("AGameVod_periodNumber",vs)}var Ds,Js=0,Fs=0,Hs=!1,qs=0,zs=0,Xs=5,Ys=3500,js=0,Ws=!1,Qs=!1,Zs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ks=!1,$s="",ed=null,td="",nd="",ad="",id="",od="",sd={},dd=!1,ld=null,rd="";function cd(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=Cc,dd&&!Uc.Search_isSearching&&Uc.Main_selectedChannel_id&&Od(),$s!==Uc.Main_selectedChannel&&(Ks=!1),E_(),Uc.Main_selectedChannelDisplayname=Uc.Main_selectedChannelDisplayname.replace(j,""),qu("top_bar_user",Uc.Main_selectedChannelDisplayname),qu("top_bar_game",Ut),document.body.addEventListener("keydown",Gd,!1),Qa=!1,Ks?(O_(Js),Vu(Zs[10]),xd(),Pd(),w_()):_d()}function ud(){A_(),document.body.removeEventListener("keydown",Gd),Nu(Zs[10])}function _d(){P_("stream_table_channel_content"),Nu(Zs[10]),ld=null,Xu(),i_(),$s=Uc.Main_selectedChannel,id="",Hs=Ws=Ks=!1,Ds=void(Js=Fs=qs=js=0),fd(),md()}function fd(){Ef=!0,zs=0,Ys=3500}function md(){Vf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ds?Ds:Uc.Main_selectedChannel_id),Ys,2,null,hd,pd)}function hd(e){null!==JSON.parse(e).stream?(ed=e,fd(),bd()):Ds?(ed=null,fd(),bd()):(fd(),vd())}function pd(){++zs<Xs?(Ys+=500,md()):(ed=null,fd(),bd())}function vd(){Vf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Uc.Main_selectedChannel_id),Ys,1,null,yd,gd,!0)}function gd(){++zs<Xs?(Ys+=500,vd()):(ed=null,fd(),bd())}function yd(e){var t=JSON.parse(e);void 0!==(Ds=t.hosts[0].target_id)?(fd(),md()):(ed=null,fd(),bd())}function bd(){Vf("https://api.twitch.tv/kraken/channels/"+Uc.Main_selectedChannel_id,Vg,2,null,wd,kd)}function wd(e){var t=JSON.parse(e);ld=(ld=t.video_banner)?ld.replace("1920x1080",vu):ld,rd=t.profile_banner,td=t.views,nd=t.followers,ad=t.description,Uc.Main_selectedChannelLogo=t.logo,Cd()}function kd(){++zs<Xs?(Ys+=500,bd()):(ld=null,rd=Pa,ad=nd=td="",Uc.Main_selectedChannelLogo=Sa,Cd())}function Cd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((zc=document.createElement("tr")).className="follower_banner",zc.innerHTML='<div id="'+Zs[0]+'x_0" class="follower_banner"><img id="'+Zs[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(zc),null!==ed){var a=JSON.parse(ed);if(null!==a.stream){var i=void 0!==Ds?Uc.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(Ad("0_"+t,o.channel.name,o.preview.template,zS.parse(o.channel.status),o.game,m_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+iv(o.created_at)+" "+h+__(o.viewers)+J,f_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Ws=!0}else Ws=!0;e.appendChild(Ed("0_"+t,Uc.Main_selectedChannelDisplayname,Uc.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(Ed("0_"+t,Uc.Main_selectedChannelDisplayname,Uc.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(R_(Zs[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Md("1_0",Uc.Main_selectedChannelDisplayname,Uc.Main_selectedChannelDisplayname,Uc.Main_selectedChannelLogo)),(zc=document.createElement("td")).setAttribute("id",Zs[8]+"x_x"),zc.className="stream_cell",zc.innerHTML='<div id="'+Zs[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Zs[4]+'x_x" class="stream_channel_info">'+zS.parse(ad)+"</div></div>",e.appendChild(zc),n.appendChild(e),Sd()}function Ad(e,t,n,a,i,o,s,d){return id=n.replace("{width}x{height}",vu),(zc=document.createElement("td")).setAttribute("id",Zs[8]+e),zc.setAttribute(bu,t),zc.className="stream_cell",zc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Zs[1]+e+'" class="stream_img"></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ds?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Aa+o+'</div><div id="'+Zs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Zs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Zs[6]+e+'"class="stream_info">'+s+"</div></div>",zc}function Ed(e,t,n,a){return(zc=document.createElement("td")).setAttribute("id",Zs[8]+e),zc.setAttribute(bu,t),zc.className="stream_cell",zc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Zs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",zc}function Md(e,t,n,a){return od=a,(zc=document.createElement("td")).setAttribute("id",Zs[8]+e),zc.setAttribute(bu,t),zc.className="stream_cell",zc.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Zs[1]+e+'" class="stream_img_fallow"></div><div id="'+Zs[2]+e+'" class="stream_text_channel"><div id="'+Zs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+__(td)+D+'</div><div id="'+Zs[6]+e+'"class="stream_info" >'+__(nd)+Vt+"</div></div>",zc}function Id(){ja?(Hu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),qu(Zs[3]+"1_0",Uc.Main_selectedChannelDisplayname+Mt)):(Hu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),ro()?qu(Zs[3]+"1_0",Uc.Main_selectedChannelDisplayname+It):qu(Zs[3]+"1_0",Uc.Main_selectedChannelDisplayname+Dt))}function Sd(){Ks||(Ks=!0,""!==id&&Pu(document.getElementById(Zs[1]+"0_0"),id,xa),Pu(document.getElementById(Zs[1]+"x_0"),rd,Pa),Pu(document.getElementById(Zs[1]+"1_0"),od,Sa),Pd(),w_(),Vu(Zs[10]),Yu()),xd(),Ef=!1}function xd(){Qs?Id():ro()?(Za=Uc.Main_selectedChannel_id,Qa=!1,mi()):(ja=!1,Id())}function Pd(){Ju(Zs[0]+Js+"_"+(Js?0:Fs),yu),Vc&&Ld(),X_()}function Ld(){df(Js+"_"+(Js?0:Fs),Zs)}function Td(){if(Js)ro()&&Xi[Uc.Users_Position].access_token?(Qa=!1,Za=Uc.Main_selectedChannel_id,ja?ki():yi()):(a_(Bt),window.setTimeout(i_,2e3));else{document.body.removeEventListener("keydown",Gd),Nu(Zs[10]);var e=Ws?1:0;Fs===0-e?(Uc.Play_selectedChannel=document.getElementById(Zs[8]+Js+"_"+Fs).getAttribute(bu),Uc.Play_selectedChannelDisplayname=document.getElementById(Zs[3]+Js+"_"+Fs).textContent,-1!==Uc.Play_selectedChannelDisplayname.indexOf(ne)?(Uc.Play_isHost=!0,Uc.Play_DisplaynameHost=Uc.Play_selectedChannelDisplayname,Uc.Play_selectedChannelDisplayname=Uc.Play_selectedChannelDisplayname.split(ne)[1],Uc.Play_selectedChannel_id=Ds):Uc.Play_selectedChannel_id=Uc.Main_selectedChannel_id,Uc.Play_gameSelected=document.getElementById(Zs[5]+Js+"_"+Fs).textContent.split(v)[1],cf(tf)):Fs===1-e?cf(dl):Fs===2-e&&(cb=Jb,cf(hb))}}function Bd(){sd={"Main_values.Main_selectedChannel_id":Uc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Uc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Uc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Uc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Qs,"Main_values.Main_BeforeChannel":Uc.Main_BeforeChannel}}function Od(){Uc.Main_selectedChannel_id=Uc.Main_selectedChannel_id,Uc.Main_selectedChannelLogo=Uc.Main_selectedChannelLogo,Uc.Main_selectedChannel=Uc.Main_selectedChannel,Uc.Main_selectedChannelDisplayname=Uc.Main_selectedChannelDisplayname,Qs=sd.ChannelContent_UserChannels,Uc.Main_BeforeChannel=Uc.Main_BeforeChannel,dd=!(sd={})}function Gd(e){if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(Ld(),If(Gd));break;case Oa:Js||(Ld(),--Fs<0&&(Fs=Ws?1:2),Pd());break;case Ua:Js||(Ld(),(Ws?1:2)<++Fs&&(Fs=0),Pd());break;case Ga:case Ra:Ld(),Js=Js?0:1,Pd();break;case Ta:case La:case Ba:case Na:Td()}}var Ud=0,Rd=0,Nd=!1,Vd=0,Dd={},Jd=[],Fd=!1,Hd=0,qd=5,zd=3500,Xd=0,Yd=0,jd=0,Wd=!1,Qd=!1,Zd="",Kd=!1,$d=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],el=!1,tl=!1,nl="",al="",il="",ol="",sl=0;function dl(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=Ac,!Uc.Search_isSearching&&Uc.Main_selectedChannel_id&&Od(),Uc.Main_selectedChannel!==nl&&(el=!1),E_(),Ru("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user",Uc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",kl,!1),el?(O_(Ud),qu("top_bar_game",tl?G:O),Vu($d[10]),gl(),w_()):rl()}function ll(){el&&yl(),A_(),document.body.removeEventListener("keydown",kl),Nu($d[10]),i_()}function rl(){el&&yl(),P_("stream_table_channel_vod"),Nu($d[10]),qu("top_bar_game",tl?G:O),Xu(),i_(),nl=Uc.Main_selectedChannel,Kd=el=!1,Ef=!(Qd=!(Jd=[])),Ud=Rd=Vd=Yd=Xd=0,Nd=!(Dd={}),$u(),cl(),ul()}function cl(){T_(),Fd=!0,Hd=0,zd=3500}function ul(){var e=Vd+Xd;e&&Yd-1<e&&(e=Yd-tu,Nd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Uc.Main_selectedChannel_id)+"/videos?limit="+tu+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e;Iu&&!Vd?Jf(t,zd,2,null,fl,_l):Ff(t,zd,2,null,fl,_l,!1)}function _l(){++Hd<qd?(zd+=500,ul()):(Fd=!1,Vd?(Nd=!0,ml()):(Ef=!1,Yu(),a_(P),If(kl)))}function fl(e){var t=JSON.parse(e),n=t.videos.length;Yd=parseInt(t._total),n<tu&&(Nd=!0);var a=Vd;Wd=!(Vd+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Kd){Kd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p;(zc=document.createElement("td")).setAttribute("id",$d[8]+"y_0"),zc.className="stream_cell",zc.innerHTML='<div id="'+$d[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+$d[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(zc),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/nu+h,d=document.createElement("tr"),o=0;o<nu&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==ld?ld:xa),c||Dd[r]?o--:(Dd[r]=1,d.appendChild(kS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),zS.parse(l.title)+ca+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],$d)));for(;o<nu;o++)Nd&&!Qd&&(Qd=!0,Vd=s*nu+o),d.appendChild(R_($d[9]+s+"_"+o)),Jd.push($d[9]+s+"_"+o);f.appendChild(d)}ml()}function ml(){if(el?(gl(!0),L_(null!==ld?ld:xa)):(Wd?(If(kl),a_(L+(tl?G:O)+T+M)):(el=!0,L_(null!==ld?ld:xa),gl(),w_()),Vu($d[10]),Ef=!1,Yu()),0<Jd.length&&!Nd)return cl(),void hl();Fd=!(Jd=[])}function hl(){n_(Jd.length);var e=Vd+Xd;e&&Yd-1<e&&(e=Yd-cu,Nd=!0),Vf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Uc.Main_selectedChannel_id)+"/videos?limit="+cu+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e,zd,2,null,vl,pl)}function pl(){++Hd<qd?(zd+=500,hl()):(Nd=!0,Vd-=Jd.length,Jd=[],ml())}function vl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Yd=parseInt(a._total);o<Jd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Dd[n]?o--:(Dd[n]=1,AS(Jd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),zS.parse(t.title)+ca+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],$d),d.push(o));for(o=d.length-1;-1<o;o--)Jd.splice(d[o],1);Xd+=s,Nd&&(Vd-=Jd.length,Jd=[]),ml()}function gl(e){Ud<0?bl():(Z_(Ud,Rd,$d,nu,Vd,e),OS($d,Ud+"_"+Rd),Vd/nu<Ud+au&&!Nd&&!Fd&&(cl(),ul()),Vc&&yl())}function yl(){window.clearInterval(XI),-1<Ud&&Vd?(Vu($d[1]+Ud+"_"+Rd),df(Ud+"_"+Rd,$d)):wl()}function bl(){Ju($d[0]+"y_0",yu)}function wl(){Fu($d[0]+"y_0",yu)}function kl(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(yl(),If(kl));break;case Oa:if(h_(Ud,Rd-1,$d[0]))yl(),Rd--,gl();else for(t=nu-1;-1<t;t--)if(h_(Ud-1,t,$d[0])){yl(),Ud--,Rd=t,gl();break}break;case Ua:h_(Ud,Rd+1,$d[0])?(yl(),Rd++,gl()):h_(Ud+1,0,$d[0])&&(yl(),Ud++,Rd=0,gl());break;case Ga:if(-1!==Ud||Wd)if(Ud){for(t=0;t<nu;t++)if(h_(Ud-1,Rd-t,$d[0])){yl(),Ud--,Rd-=t,gl();break}}else yl(),Ud=-1,bl();else Ud=0,wl(),gl();break;case Ra:if(-1!==Ud||Wd){for(t=0;t<nu;t++)if(h_(Ud+1,Rd-t,$d[0])){yl(),Ud++,Rd-=t,gl();break}}else Ud=0,wl(),gl();break;case Ta:case La:case Ba:case Na:-1===Ud?(Bf("ChannelVod_highlight",(tl=!tl)?"true":"false"),rl()):af(Ud+"_"+Rd,$d,kl)}}var Cl,Al,El,Ml,Il=0,Sl=10,xl=!1,Pl=0,Ll=null,Tl=!1,Bl=0,Ol={},Gl={};function Ul(){tr(),Uc.Play_ChatForceDisable?(dr||kr(),Tl=!1,cf(function(){Rl(Pl=(new Date).getTime())})):Kr()}function Rl(e){Il=0,Nl(e)}function Nl(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Uc.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Pl===e&&Dl(n.responseText,e));Pl===e&&Vl(e)}},n.send(null)}function Vl(e){Il++,Pl===e&&(Il<Sl?Nl(e):Al=window.setTimeout(function(){Nl(e)},1e3))}function Dl(e,t){HS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){qS(t.type,e.type,e.image_url_4x,or)})}),Ol[Uc.Play_selectedChannel_id]?Pl===t&&Xl():Jl(t)}function Jl(e){Il=0,Fl(e)}function Fl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Uc.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Pl===e&&ql(n.responseText,e):404===n.status?(Ol[Uc.Play_selectedChannel_id]=1,Pl===e&&Xl()):Pl===e&&Hl(e))},n.send(null)}function Hl(e){Il++,Pl===e&&(Il<Sl?Fl(e):Pl===e&&Xl())}function ql(e,t){zl(JSON.parse(e)),Ol[Uc.Play_selectedChannel_id]=1,Pl===t&&Xl()}function zl(t){t.emotes.forEach(function(e){Gl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Xl(){Wl(),Yl()}function Yl(){(Ll=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Ll.send("PASS blah\r\n"),Ll.send("NICK justinfan12345\r\n"),Ll.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Ll.send("JOIN #"+Uc.Play_selectedChannel+"\r\n")},Ll.onclose=function(){xl=!0},Ll.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Ll.send("PONG "+t.params[0]);break;case"JOIN":Tl=!0,Kl('&nbsp;<span class="message">'+ca+bn+Uc.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":Ql(t)}},El=window.setTimeout(jl,5e3)}function jl(){Tl?Ml=window.setInterval($l,1e3):(Ll.close(1e3),Xl())}function Wl(){window.clearTimeout(El)}function Ql(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+hr[a.charCodeAt(0)%pr]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Kl(t+='<span class="message">'+Zl(FS(i,o))+"</span>")}function Zl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=JS(e[t]):e[t]=e[t][0];return zS.parse(e.join(" "),!0,!0)}function Kl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,or.appendChild(t),$l(),100<++Bl&&(Bl=0,ec())}function $l(){or.scrollTop=or.scrollHeight}function er(){Wl(),window.clearTimeout(Al),window.clearTimeout(Cl),window.clearInterval(Ml)}function tr(){er(),Ll&&Ll.close(1e3),Pl=0,P_("chat_box"),Tl=xl=!1}var nr,ar,ir,or,sr,dr=!1,lr=0,rr=[],cr=[],ur=10,_r=null,fr=0,mr="",hr=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],pr=hr.length,vr=0,gr=!1,yr=0;function br(){or=document.getElementById("chat_box"),kr()}function wr(){Xr(),Iu&&Uc.Play_ChatForceDisable?(dr||kr(),cf(function(){Pr(yr=(new Date).getTime())})):Kr()}function kr(){lr=0,dr=!(Gl={}),Cr()}function Cr(){Ff("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Er,Ar,!1)}function Ar(){++lr<ur?Cr():dr=!1}function Er(e){HS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){qS(t.type,e.type,e.image_url_4x,null)})}),Mr()}function Mr(){lr=0,Ir()}function Ir(){Ff("https://api.betterttv.net/2/emotes",1e4,0,null,xr,Sr,!1)}function Sr(){++lr<ur?Ir():dr=!1}function xr(e){zl(JSON.parse(e)),dr=!0}function Pr(e){lr=0,Lr(e)}function Lr(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Uc.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(yr===e&&Br(n.responseText,e));yr===e&&Tr(e)}},n.send(null)}function Tr(e){lr++,yr===e&&(lr<ur?Lr(e):sr=window.setTimeout(function(){Lr(e)},1e3))}function Br(e,t){HS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){qS(t.type,e.type,e.image_url_4x,or)})}),yr===t&&Nr(t),Ol[Uc.Main_selectedChannel_id]?yr===t&&Nr(t):Or(t)}function Or(e){lr=0,Gr(e)}function Gr(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Uc.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?yr===e&&Rr(n.responseText,e):404===n.status?(Ol[Uc.Main_selectedChannel_id]=1,yr===e&&Nr()):yr===e&&Ur(e))},n.send(null)}function Ur(e){lr++,yr===e&&(lr<ur?Gr(e):yr===e&&Nr())}function Rr(e,t){zl(JSON.parse(e)),Ol[Uc.Main_selectedChannel_id]=1,yr===t&&Nr()}function Nr(e){lr=0,yr===e&&Vr(e)}function Vr(e){var t="https://api.twitch.tv/v5/videos/"+Uc.ChannelVod_vodId+"/comments?client_id="+uu+(fr?"&content_offset_seconds="+parseInt(fr):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(yr===e&&Jr(n.responseText,e));yr===e&&Dr(e)}},n.send(null)}function Dr(e){lr++,yr===e&&(lr<ur?Vr(e):ar=window.setTimeout(function(){Vr(e)},2500))}function Jr(e,t){e=JSON.parse(e);var n,a,i=null===_r;i&&(n="&nbsp;",n+='<span class="message">',n+=ca+bn+Uc.Main_selectedChannelDisplayname+" "+mr,Fr(n+="</span>",0)),fr=0,_r=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+hr[e.commenter.display_name.charCodeAt(0)%pr]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Zl([e.text])}),n+="</span>",i?Fr(n,e.content_offset_seconds):void 0!==_r&&Hr(n,e.content_offset_seconds)}),i&&yr===t&&(qr(t),void 0!==_r&&jr(t))}function Fr(e,t){rr.push({time:t,message:e})}function Hr(e,t){cr.push({time:t,message:e})}function qr(e){gr||yr!==e||(nr=window.setInterval(function(){Yr(e),or.scrollTop=or.scrollHeight},1e3))}function zr(){gr||(window.clearTimeout(sr),window.clearTimeout(ar),window.clearTimeout(ir),window.clearInterval(nr))}function Xr(){zr(),yr=0,P_("chat_box"),gr=!1,_r=null,rr=[],cr=[],vr=0}function Yr(e){var t;if(vr<rr.length-1)for(var n=vr;n<rr.length&&rr[n].time<sl+Android.gettime()/1e3;n++,vr++)(t=document.createElement("div")).className="chat_line",t.innerHTML=rr[n].message,or.appendChild(t);else if(zr(),void 0!==_r)rr=cr.slice(),vr=0,qr(e),cr=[],yr===e&&jr(e),ec();else{var a="&nbsp;";a+='<span class="message">',a+=ca+ca+An+ca+ca,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,or.appendChild(t),gr=!0,or.scrollTop=or.scrollHeight,window.clearInterval(nr),nr=window.setInterval(function(){or.scrollTop=or.scrollHeight},1e3)}}function jr(e){lr=0,gr||yr!==e||Wr(e)}function Wr(e){var t="https://api.twitch.tv/v5/videos/"+Uc.ChannelVod_vodId+"/comments?client_id="+uu+(null!==_r?"&cursor="+_r:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(gr||yr!==e||Jr(n.responseText,e));gr||yr!==e||Qr(e)}},n.send(null)}function Qr(e){lr++,yr===e&&(lr<ur?Wr(e):ir=window.setTimeout(function(){Wr(e)},2500))}function Zr(){Xr(),$r(ln+ca+rn)}function Kr(){Xr(),$r($n)}function $r(e){var t="&nbsp;";t+='<span class="message">',t+=ca+ca+ca+ca+ca+ca+ca+ca+ca+ca,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,or.appendChild(n)}function ec(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);$l()}var tc,nc,ac,ic,oc,sc,dc,lc=!0,rc=!1,cc=!1,uc=-1,_c=new Image,fc=1,mc=2,hc=3,pc=4,vc=5,gc=6,yc=7,bc=8,wc=9,kc=10,Cc=11,Ac=12,Ec=13,Mc=14,Ic=15,Sc=16,xc=17,Pc=18,Lc=19,Tc=20,Bc=21,Oc=22,Gc="",Uc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:hc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Rc=!0,Nc=!0,Vc=!1,Dc=[],Jc=0,Fc=0,Hc=null,qc=!0,zc="",Xc=!1,Yc="",jc=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Wc=[],Qc=0,Zc=!0,Kc=0,$c=1.35,eu=1.5,tu=45,nu=3,au=Math.floor(tu/nu/eu),iu=45,ou=5,su=Math.floor(iu/ou/$c),du=48,lu=6,ru=Math.floor(du/lu/eu),cu=6,uu="5seja5ptej058mxqy7gh5tcudjqtm9",_u="Client-ID",fu="Accept",mu="Authorization",hu="OAuth ",pu="application/vnd.twitchtv.v5+json",vu="528x297",gu="340x475",yu="stream_thumbnail_focused",bu="data_attribute",wu="1.0",ku=".20",Cu="051519",Au=wu+ku+"-"+Cu,Eu="",Mu=0,Iu=0,Su="?"+Math.random(),xu="https://cors-anywhere.herokuapp.com/",Pu=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function Lu(){(cc=Uf("Main_isDebug",!1))&&lc?Tu():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Bu(window.navigator.userLanguage||window.navigator.language)}):Bu(window.navigator.userLanguage||window.navigator.language)}function Tu(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Bu(e){lf(),cf(function(){try{Iu=Android.getAndroid(),Eu=Android.getversion()}catch(e){Eu="1.0.0",Iu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",rc=cc=!0,console.log("Main_isReleased: "+lc),console.log("Main_isDebug: "+cc),console.log("Main_isBrowser: "+rc)}pC(),Ma(),VC(),console.log("language is "+e),Ea(),-1!==window.location.href.indexOf("code")&&Nf(window.location.href),Ou()})}function Ou(){ub(),Gu(!0),tc=document.getElementById("scrollbar"),k_(),Gc=Uc.Main_Go,cf(function(){br(),kp(),lo(),ro()&&(dc=window.setInterval(mf,6e5),mf()),document.body.addEventListener("keyup",X_,!1),_b(),document.getElementById("side_panel").style.marginLeft="",S_(),Uu(),_S=Uf("Vod_highlight",!1),tl=Uf("ChannelVod_highlight",!1),ws=Uf("AGameVod_highlight",!1),EI=Uf("UserVod_highlight",!1),lS=Of("vod_periodNumber",2),vs=Of("AGameVod_periodNumber",2),wI=Of("UserVod_TypeNumber",1),$y(),nc=document.getElementById("search_input"),ac=document.getElementById("user_input"),U_(xa),U_(Ia),U_(Sa),document.addEventListener("visibilitychange",_f,!1),oc=window.setInterval(ff,6e4),cb=zb,hb(),ic=window.setTimeout(v_,5e3),Vu("topbar")})}function Gu(e){ff(),Ru("label_refresh","icon-refresh",t+Yt),Hu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Aa+_t+"</div>"),Ru("label_side_panel","icon-ellipsis",Rn),Ru("icon_feed_refresh","icon-refresh",t+" Press up"),qu("top_bar_live",_),qu("top_bar_user",e?u:a),qu("top_bar_featured",an),qu("top_bar_game",f),qu("top_bar_vod",Kt),qu("top_bar_clip",U),Hu("scene2_search_text",Aa+n),Hu("scene2_channel_text",Aa+Ut),Hu("scene2_game_text",Aa+Jt),qu("dialog_end_next_text",sa),qu("dialog_end_replay_text",en),qu("dialog_end_vod_text",sn),qu("dialog_end_channel_text",Ut),qu("dialog_end_game_text",Jt),Hu("dialog_about_text",ba+wa),Wc=[de,le,re,ce],e?cC():(hC(),S_())}function Uu(){qu("play_dialog_exit_text",F),qu("side_panel_search",n),qu("side_panel_settings",a),qu("side_panel_about",i),qu("side_panel_controls",e),qu("side_panel_exit",q),qu("side_panel_live",_),qu("side_panel_user",u),qu("side_panel_featured",an),qu("side_panel_games",f),qu("side_panel_videos",Kt),qu("side_panel_clips",U),qu("side_panel_hide",o),qu("chanel_button",E),qu("game_button",f),qu("live_button",_),qu("exit_app_cancel",Y),qu("exit_app_close",z),qu("remove_cancel",Y),qu("remove_yes",Ft),qu("exit_app_minimize",X),qu("main_dialog_exit_text",H),Hu("dialog_controls_text",ya),qu("dialog_vod_text",wn),Hu("dialog_vod_start_text",Cn)}function Ru(e,t,n){Hu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Aa+n+"</div>")}function Nu(e){document.getElementById(e).classList.add("hide")}function Vu(e){document.getElementById(e).classList.remove("hide")}function Du(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ju(e,t){document.getElementById(e).classList.add(t)}function Fu(e,t){document.getElementById(e).classList.remove(t)}function Hu(e,t){document.getElementById(e).innerHTML=t}function qu(e,t){document.getElementById(e).textContent=t}function zu(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Xu(){O_(-1),Iu?Android.mshowLoading(!0):Vu("dialog_loading")}function Yu(){Iu?Android.mshowLoading(!1):Nu("dialog_loading")}function ju(){window.clearTimeout(Hc)}function Wu(){Hc=window.setTimeout(Zu,6e3)}function Qu(){Wu(),Vu("main_dialog_exit"),document.body.addEventListener("keydown",kf,!1)}function Zu(){document.body.removeEventListener("keydown",kf,!1),If(sc),ju(),Nu("main_dialog_exit"),Fc=0,Ku()}function Ku(){Fu("exit_app_cancel","button_search_focused"),Fu("exit_app_minimize","button_search_focused"),Fu("exit_app_close","button_search_focused"),Ju(Fc?1===Fc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function $u(){P_("dialog_counter_text"),t_(0,0,0)}function e_(e,t,n,a){0<a?(qu("dialog_counter_text",t*n+(e+1)+"/"+a),t_(t,n,a)):$u()}function t_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Uc.Main_Go===pc||Uc.Main_Go===Lc||Uc.Main_Go===Tc||Uc.Main_Go===Ac||Uc.Main_Go===Oc||Uc.Main_Go===xc||Uc.Main_Go===Pc||Uc.Main_Go===Ec,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));tc.style.top=o+"px",qc&&(qc=!1,tc.style.backgroundColor="#777777")}else tc.style.backgroundColor="#000000",tc.style.top=a+"px",qc=!0}function n_(e){(cu=12)/3<e&&(cu=3*e),99<cu&&(cu=99)}function a_(e){qu("dialog_warning_text",e),Vu("dialog_warning")}function i_(){Nu("dialog_warning")}function o_(){c_(),Vu("dialog_about")}function s_(){Nu("dialog_about")}function d_(){return Du("dialog_about")}function l_(){c_(),i_(),C_(Uc.Main_Go),$u(),lC()}function r_(){s_(),Vu("dialog_controls")}function c_(){Nu("dialog_controls")}function u_(){return Du("dialog_controls")}function __(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function f_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function m_(e){return-1!==e.indexOf("live")?"":j}function h_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function p_(){ff(),y_(),document.body.addEventListener("keyup",X_,!1)}function v_(){for(var e,t=0;t<jc.length;t++)t<2?document.getElementById(jc[t]).style.opacity="0.5":-1===(e=document.getElementById(jc[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ju("topbar","topbar_dim")}function g_(){for(var e=0;e<jc.length;e++)document.getElementById(jc[e]).style.opacity="1";Fu("topbar","topbar_dim")}function y_(e){window.clearTimeout(ic),g_(),cf(function(){b_(e)})}function b_(e){i_(),Uc.Main_Go!==Cc&&(Uc.Main_BeforeChannelisSet=!1),Uc.Main_Go!==pc&&(Uc.Main_BeforeAgameisSet=!1),$u(),Uc.Main_Go===fc?(cb=zb,hb()):Uc.Main_Go===mc?Qi():Uc.Main_Go===hc?(cb=Hb,hb()):Uc.Main_Go===pc?Go():Uc.Main_Go===bc?vk():Uc.Main_Go===wc?nk():Uc.Main_Go===kc?Hk():Uc.Main_Go===Cc?cd():Uc.Main_Go===Ac?dl():Uc.Main_Go===Ec?(cb=Jb,hb()):Uc.Main_Go===Mc?HM():Uc.Main_Go===vc?pM():Uc.Main_Go===gc?YA():Uc.Main_Go===yc?(cb=qb,hb()):Uc.Main_Go===Ic?hA():Uc.Main_Go===Sc?Sw():Uc.Main_Go===xc?hS():Uc.Main_Go===Pc?(cb=Db,hb()):Uc.Main_Go===Lc?Cs():Uc.Main_Go===Tc?(cb=Fb,hb()):Uc.Main_Go===Bc?(cb=Xb,hb()):Uc.Main_Go===Oc&&MI(),ic=window.setTimeout(v_,3e3),e&&Lf()}function w_(){Bf("Main_values",JSON.stringify(Uc))}function k_(){Uc=mb(Uc,Gf("Main_values",{}))}function C_(e){e===fc?pb():e===mc?Zi():e===hc?pb():e===pc?Uo():e===bc?gk():e===wc?ak():e===kc?qk():e===Cc?ud():e===Ac?ll():e===Ec?pb():e===Mc?qM():e===vc?vM():e===gc?jA():e===yc?pb():e===Ic?pA():e===Sc?xw():e===xc?pS():e===Pc?pb():e===Lc?As():e===Tc?pb():e===Bc?pb():e===Oc&&II(),Du("settings_scroll")&&rC()}function A_(){Ru("label_refresh","icon-refresh",t+Yt),Ru("label_side_panel","icon-ellipsis",Rn),Fu("top_bar_user","icon_center_focus"),qu("top_bar_live",_),qu("top_bar_user",u),qu("top_bar_featured",an),qu("top_bar_game",f),qu("top_bar_vod",Kt),qu("top_bar_clip",U)}function E_(){Ru("label_side_panel","icon-arrow-circle-left",I),P_("top_bar_live"),P_("top_bar_game"),P_("top_bar_vod"),P_("top_bar_clip"),P_("top_bar_featured"),Ju("top_bar_user","icon_center_focus")}function M_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function I_(e){return e=new Date(e),Xc?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function S_(){Iu&&(Au="Android: "+Eu+" Web: "+Cu,x_(Eu)&&Vu("label_update")),Hu("dialog_about_text",ba+ye+Au+wa)}function x_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(wu)||parseInt(e[2])<parseInt(ku.split(".")[1])}function P_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function L_(e){for(var t,n=0;n<Dc.length;n++)null!==(t=document.getElementById(Dc[n].id))&&Pu(t,Dc[n].src+Su,e)}function T_(){Dc=[]}function B_(e,t){Dc.push({id:e,src:t})}function O_(e){uc=e}function G_(e){var t=0;return uc<e?t=-1:e<uc&&(t=1),uc=e,t}function U_(e){_c.src=e}function R_(e){return(zc=document.createElement("td")).setAttribute("id",e),zc.className="stream_cell",zc}function N_(e,t,n){return(zc=document.createElement("td")).setAttribute("id",t[4]+e),zc.setAttribute(bu,n[0]),zc.setAttribute("data-id",n[1]),zc.className="stream_cell",zc.innerHTML=D_(e,t,n),zc}function V_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(bu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=D_(i,n,t),a.setAttribute("id",n[4]+i)}function D_(e,t,n){return B_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function J_(e,t,n,a,i){return e<nu&&U_(i[0]),(zc=document.createElement("td")).setAttribute("id",a[8]+t),zc.setAttribute(bu,JSON.stringify(n)),zc.className="stream_cell",zc.innerHTML=H_(t,a,i),zc}function F_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(bu,JSON.stringify(t)),i.innerHTML=H_(o,a,n),i.setAttribute("id",a[8]+o)}function H_(e,t,n){return B_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+zS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function q_(e,t,n){return(zc=document.createElement("td")).setAttribute("id",t[5]+e),zc.setAttribute(bu,n[0]),zc.className="stream_cell",zc.innerHTML=z_(e,t,n),zc}function z_(e,t,n){return B_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function X_(){Nc=!0}function Y_(){Rc=!0}function j_(){Rc=!1,window.setTimeout(Y_)}function W_(){return!Rc||!Nc}function Q_(e,t,n,a,i,o){Ju(n[0]+e+"_"+t,yu),e_(t,e,a,i),G_(e)||o?1<e?h_(e+1,0,n[0])?sf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):X_():sf(n[6],.07*screen.height):X_()}function Z_(e,t,n,a,i,o){Ju(n[0]+e+"_"+t,yu),e_(t,e,a,i),G_(e)||o?e?h_(e+1,0,n[0])&&sf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):sf(n[10],.07*screen.height):X_()}function K_(e,t,n,a,i){Ju(n[0]+e+"_"+t,yu),e_(t,e,a,i),G_(e)?sf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):X_()}function $_(e,t){return null===document.getElementById(t+e)}function ef(e,t,n){$_(e,t[0])||(document.body.removeEventListener("keydown",n),Uc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(bu)),Uc.Play_selectedChannel_id=Uc.Play_selectedChannel[1],Uc.Play_selectedChannel=Uc.Play_selectedChannel[0],Uc.Main_Go===gc?(Uc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Uc.Play_selectedChannelDisplayname=Uc.Play_DisplaynameHost.split(ne)[1],Uc.Play_isHost=!0):Uc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Uc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Uc.Main_Go===pc&&(Uc.Main_OldgameSelected=Uc.Main_gameSelected),tf())}function tf(){document.body.addEventListener("keydown",gg,!1),Nu("scene1"),Vu("scene2"),Ev(),Lv(),jv(),ro()&&!lE&&gE&&YE(),cf(Ep)}function nf(e,t,n){$_(e,t[0])||(document.body.removeEventListener("keydown",n),Zb=JSON.parse(document.getElementById(t[8]+e).getAttribute(bu)),pm=parseInt(Zb[1]),Uc.Play_gameSelected=Zb[2],Uc.Main_selectedChannel=Zb[3],Uc.Main_selectedChannelDisplayname=Zb[4],Uc.Main_selectedChannelLogo=Zb[5],Uc.Main_selectedChannel_id=Zb[6],Uc.ChannelVod_vodId=Zb[7],sl=parseInt(Zb[8]),Qb=Zb[9],$b=Zb[10],jb=Zb[11],Zb=Zb[0],Kb=document.getElementById(t[4]+e).textContent,Wb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Km,!1),Nu("scene1"),Vu("scene2"),Lv(),wv(),mv(),vv(),ro()&&!lE&&gE&&YE(),cf(km))}function af(e,t,n){$_(e,t[0])||(document.body.removeEventListener("keydown",n),Uc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(bu)),jd=parseInt(Uc.ChannelVod_vodId[1]),Zd=Uc.ChannelVod_vodId[2],Uc.Play_gameSelected=Uc.ChannelVod_vodId[3],Uc.Main_selectedChannel=Uc.ChannelVod_vodId[4],mp=Uc.ChannelVod_vodId[5],Uc.ChannelVod_vodId=Uc.ChannelVod_vodId[0].substr(1),Uc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,il=document.getElementById(t[4]+e).textContent,ol=document.getElementById(t[5]+e).textContent,al=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,of())}function of(){document.body.addEventListener("keydown",rb,!1),Nu("scene1"),Vu("scene2"),Ry(),Lv(),wv(),vv(),ny=!1,ro()&&!lE&&gE&&YE(),cf(ry)}function sf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(X_,10)}function df(e,t){Nc=!1,Fu(t[0]+e,yu)}function lf(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(cc&&console.log("Main_Checktylesheet reloading"),rf("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):cc&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function rf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function cf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function uf(){var e=(new Date).getTime()+Mu;return e=new Date(e),(Xc?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+tv(e.getHours())+":"+tv(e.getMinutes())}function _f(){document.hidden||(ff(),window.setTimeout(ff,2e4))}function ff(){document.hidden||(qu("label_clock",uf()),Su="?"+Math.random())}function mf(){document.hidden||ro()&&window.setTimeout(function(){RE()||lE||(hh=Xi[Uc.Users_Position].name,CE())},5e3)}function hf(){Ju("side_panel_"+Kc,"side_panel_text_focus")}function pf(){Fu("side_panel_"+Kc,"side_panel_text_focus")}function vf(){Kc?1===Kc?l_():2===Kc?(document.body.addEventListener("keydown",sc,!1),o_()):3===Kc?(document.body.addEventListener("keydown",sc,!1),r_()):4===Kc?Qu(sc):5===Kc?gf(fc):6===Kc?gf(ho()?Mc:mc):7===Kc?gf(Bc):8===Kc?gf(hc):9===Kc?gf(xc):10===Kc&&gf(Pc):Uc.Main_Go!==bc?(Uc.Search_isSearching||Uc.Main_Go!==Cc&&Uc.Main_Go!==Ec&&Uc.Main_Go!==Ac||Bd(),Uc.Main_BeforeSearch=Uc.Main_Go,Uc.Main_Go=bc,C_(Uc.Main_BeforeSearch),y_()):document.body.addEventListener("keydown",sc,!1),bf()}function gf(e){e===Uc.Main_Go?document.body.addEventListener("keydown",sc,!1):(Uc.Main_Before=Uc.Main_Go,Uc.Main_Go=e,C_(Uc.Main_Before),y_())}function yf(e){sc=e,document.body.removeEventListener("keydown",sc),document.body.addEventListener("keydown",wf,!1),Fu("side_panel","side_panel_hide")}function bf(){document.body.removeEventListener("keydown",wf),Ju("side_panel","side_panel_hide"),pf(),Kc=0,hf()}function wf(e){switch(e.keyCode){case Va:case Oa:document.body.addEventListener("keydown",sc,!1),bf(),xf();break;case Ga:Kc&&(pf(),Kc--,hf());break;case Ra:Kc<10&&(pf(),Kc++,hf());break;case Na:vf()}}function kf(e){switch(e.keyCode){case Va:Zu();break;case Ua:2<++Fc&&(Fc=0),Ku(),ju(),Wu();break;case Oa:--Fc<0&&(Fc=2),Ku(),ju(),Wu();break;case Na:Fc?Iu&&1===Fc?Android.mclose(!1):Iu&&2===Fc&&Android.mclose(!0):Zu()}}Lu();var Cf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Af=[fc,Mc,Bc,hc,xc,Pc],Ef=!1;function Mf(e){if(!(Ef||cb.FirstLoad||W_()))switch(e.keyCode){case Va:u_()?(xf(),c_()):d_()?(xf(),s_()):Uc.Main_Go===pc?(Uc.Main_OldgameSelected=Uc.Main_gameSelected,Uc.Games_return?(Uc.Main_Go=wc,Uc.Main_gameSelected=Uc.gameSelectedOld):(Uc.Main_Go=Uc.Main_BeforeAgame,Uc.Main_BeforeAgame=fc),Uo(),Sf(),b_()):Uc.Main_Go===Tc?(Ub(pc),Sf(),b_()):Uc.Main_Go===yc?(Ub(Mc),Sf(),b_()):Uc.Main_Go===Ec?(Ub(Cc),Sf(),b_()):Uc.Main_Go===Lc?(Uc.Main_Go=pc,As(),Sf(),b_()):Uc.Main_Go===vc?(Uc.Main_Go=Mc,vM(),Sf(),b_()):Uc.Main_Go===gc?(Uc.Main_Go=Mc,jA(),Sf(),b_()):Uc.Main_Go===Oc?(Uc.Main_Go=Mc,II(),Sf(),b_()):Uc.Main_Go===Ic?(Uc.Main_Go=Mc,pA(),Sf(),b_()):Uc.Main_Go===Cc?(Uc.Main_Go=Uc.Main_BeforeChannel,Uc.Main_BeforeChannel=fc,ud(),Uc.Main_selectedChannel_id="",Sf(),b_()):Uc.Main_Go===Ac?(Uc.Main_Go=Cc,ll(),Sf(),b_()):Uc.Main_Go===kc?(Uc.Main_Go===Uc.Main_BeforeSearch?Uc.Main_Go=fc:Uc.Main_Go=Uc.Main_BeforeSearch,qk(),Uc.Search_isSearching=!1,Sf(),b_()):Uc.Main_Go===wc?(Uc.Main_Go===Uc.Main_BeforeSearch?Uc.Main_Go=fc:Uc.Main_Go=Uc.Main_BeforeSearch,Uc.Search_isSearching=!1,ak(),Sf(),b_()):Uc.Main_Go===Sc?(Uc.Main_Go===Uc.Main_BeforeSearch?Uc.Main_Go=fc:Uc.Main_Go=Uc.Main_BeforeSearch,Uc.Main_selectedChannel_id&&Od(),xw(),Uc.Search_isSearching=!1,Sf(),b_()):(Sf(),yf(Mf));break;case Ua:if(Uc.Search_isSearching||Uc.Main_Go===Cc||Uc.Main_Go===Ac||Uc.Main_Go===Ec||Uc.Main_Go===kc||Uc.Main_Go===wc||Uc.Main_Go===Sc)break;Fu(Cf[Uc.Main_CenterLablesVectorPos],"icon_center_line"),Uc.Main_CenterLablesVectorPos++,5<Uc.Main_CenterLablesVectorPos&&(Uc.Main_CenterLablesVectorPos=0),xf(),Pf();break;case Oa:if(Uc.Search_isSearching||Uc.Main_Go===Cc||Uc.Main_Go===Ac||Uc.Main_Go===Ec||Uc.Main_Go===kc||Uc.Main_Go===wc||Uc.Main_Go===Sc)break;Fu(Cf[Uc.Main_CenterLablesVectorPos],"icon_center_line"),Uc.Main_CenterLablesVectorPos--,Uc.Main_CenterLablesVectorPos<0&&(Uc.Main_CenterLablesVectorPos=5),xf(),Pf();break;case Ra:Fu(Cf[Uc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Mf),Vc=!1,b_();break;case Na:Tf()}}function If(e){window.clearTimeout(ic),g_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Mf),document.body.addEventListener("keydown",Mf,!1),xf()}function Sf(){Fu(Cf[Uc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Mf),Vc=!1}function xf(){Vc=!0,Ju(Cf[Uc.Main_CenterLablesVectorPos],"icon_center_line")}function Pf(){C_(Uc.Main_Go),Uc.Main_Go=Af[Uc.Main_CenterLablesVectorPos],Uc.Main_Go!==Mc||ho()?y_(!0):(Uc.Main_Go=mc,Sf(),y_())}function Lf(){Uc.Main_Go===fc?(cb=zb,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===Mc?document.body.removeEventListener("keydown",oI):Uc.Main_Go===pc?document.body.removeEventListener("keydown",ts):Uc.Main_Go===Bc?(cb=Xb,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===kc?document.body.removeEventListener("keydown",nC):Uc.Main_Go===wc?document.body.removeEventListener("keydown",fk):Uc.Main_Go===Sc?document.body.removeEventListener("keydown",Fw):Uc.Main_Go===Ac?document.body.removeEventListener("keydown",kl):Uc.Main_Go===Cc?document.body.removeEventListener("keydown",Gd):Uc.Main_Go===gc?document.body.removeEventListener("keydown",sE):Uc.Main_Go===Oc?document.body.removeEventListener("keydown",qI):Uc.Main_Go===Ic?document.body.removeEventListener("keydown",xA):Uc.Main_Go===hc?(cb=Hb,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===Ec?(cb=Jb,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===xc?document.body.removeEventListener("keydown",GS):Uc.Main_Go===Pc?(cb=Db,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===Tc?(cb=Fb,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===yc?(cb=qb,document.body.removeEventListener("keydown",Vb)):Uc.Main_Go===Lc?document.body.removeEventListener("keydown",Ns):Uc.Main_Go===vc&&document.body.removeEventListener("keydown",OM)}function Tf(){window.clearTimeout(ic),g_(),Uc.Main_Go!==Cc&&(Uc.Main_BeforeChannelisSet=!1),Uc.Main_Go!==pc&&(Uc.Main_BeforeAgameisSet=!1),$u(),Uc.Main_Go===fc?(cb=zb,vb()):Uc.Main_Go===Mc?zM():Uc.Main_Go===Bc?(cb=Xb,vb()):Uc.Main_Go===pc?Ro():Uc.Main_Go===Ic?vA():Uc.Main_Go===Cc?_d():Uc.Main_Go===Ac?rl():Uc.Main_Go===kc?zk():Uc.Main_Go===wc?ik():Uc.Main_Go===Sc?Pw():Uc.Main_Go===hc?(cb=Hb,vb()):Uc.Main_Go===yc?(cb=qb).loadingData||cb.key_refresh():Uc.Main_Go===xc?vS():Uc.Main_Go===Pc?(cb=Db,vb()):Uc.Main_Go===Tc?(cb=Fb,vb()):Uc.Main_Go===Ec?(cb=Jb,vb()):Uc.Main_Go===Lc?Es():Uc.Main_Go===vc?gM():Uc.Main_Go===gc?WA():Uc.Main_Go===Oc&&SI(),ic=window.setTimeout(v_,3e3)}function Bf(e,t){localStorage.setItem(e,t)}function Of(e,t){return parseInt(localStorage.getItem(e))||t}function Gf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Uf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Rf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Nf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Jc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Vf(e,t,n,a,i,o,s){Iu?Jf(e,t,n,a,i,o):Ff(e,t,n,a,i,o,s)}function Df(e,t,n,a,i,o,s,d){Iu&&d?Jf(e,t,n,a,i,o):Ff(e,t,n,a,i,o,s)}function Jf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Ff(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?xu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(_u,uu),1<n&&d.setRequestHeader(fu,pu),2<n&&d.setRequestHeader(mu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}function Hf(e,t,n,a,i,o,s){Iu?qf(e,t,n,a,i,o):Ff(e,t,n,a,i,o,s)}function qf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a,!0);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function qf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("POST",(s?xu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(_u,uu),1<n&&d.setRequestHeader(fu,pu),2<n&&d.setRequestHeader(mu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var zf=0,Xf=null,Yf=0,jf=!1,Wf=0,Qf=0,Zf=!1,Kf=0,$f=2e3,em=5,tm="source",nm=tm,am=0,im=[],om="",sm=!1,dm=0,lm=0,rm=1,cm=!1,um=0,_m=!1,fm=!1,mm=2e3,hm=[0,5],pm=0,vm=!1,gm=!1,ym=["next_button","back_button"],bm=0,wm=!1;function km(){uv(),jv(),Gp(document.getElementById("stream_info_icon"),Uc.Main_selectedChannelLogo),qu("stream_info_name",Uc.Main_selectedChannelDisplayname),Hu("stream_info_title",Qb),Hu("stream_info_game",jb+" "+Wb+" "+$b),qu("stream_live_icon",Kb),qu("progress_bar_duration",nv(pm)),Wy((hp=hm)[1]),zu("stream_info_title"),Uc.Play_isHost=!1,qu("progress_bar_current_time",nv(0)),qu("stream_live_time",""),qu("stream_watching_time",""),cm=null!==Uc.ChannelVod_vodId,mr=Gt+".",cm?(fr=sl,wr()):Zr(),Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Vu("progress_pause_holder"),Qm(),Vu("scene_channel_panel_bottom"),Yf=um=0,window.clearInterval(Xf),fm=!1,dh=-13,dm=lm=0,am=2,Um(),ng(3),Qh=!1,Hv(),ro()?(Qa=!0,Za=Uc.Main_selectedChannel_id,mi()):cv(),document.addEventListener("visibilitychange",Lm,!1),jf=!1,Zf=!(Qf=Wf=0),Cm(),document.body.removeEventListener("keyup",X_)}function Cm(){Kf=0,$f=2e3,Am()}function Am(){Vf("https://clips.twitch.tv/api/v2/clips/"+Zb+"/status",$f,1,null,Mm,Em,!0)}function Em(){++Kf<em?($f+=250,Am()):(_v(),lg(3))}function Mm(e){im=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)im.length?im.push({id:e[t].quality+"p"+Im(e[t].frame_rate),url:e[t].source}):im.push({id:e[t].quality+"p"+Im(e[t].frame_rate)+" (source)",url:e[t].source});lm=rm,Sm()}function Im(e){return 40<e?60:""}function Sm(){window.clearInterval(Xf),om=im[am=0].url,-1!==tm.indexOf("source")&&(tm="source");for(var e=0;e<Ym();e++){if(im[e].id===tm){om=im[am=e].url;break}-1!==im[e].id.indexOf(tm)&&(om=im[am=e].url)}nm=tm,cc&&console.log("PlayClip_onPlayer:",'\n\n"'+om+'"\n'),lm=rm,Iu&&Zf&&Android.startVideoOffset(om,3,sm?-1:Android.gettime()),sm=!1,xm()}function xm(){xh&&!Tv()&&Pv(),Iu&&(Yf=0,up=1+mm/1e3,_m=!1,window.clearInterval(Xf),Xf=window.setInterval(Tm,_p))}function Pm(e){qu("progress_bar_duration",nv(pm=e/1e3)),zm()}function Lm(){document.hidden&&Om()}function Tm(){Iu&&(dm=Android.gettime()),pm<dm/1e3&&(Iu&&Android.play(!1),Play_PannelEndStart(3)),Zf&&zf===dm&&!$p()?++Yf>up&&(_m&&fm&&am<Ym()-1?am++:!_m&&fm&&um++,navigator.onLine?1<um?Kp(um,3,Bm):(jm(),Sm(),fm=!0):Zp(!1,3)):(Yf=um=0,fm=!1),zf=dm}function Bm(e){if(!e){if(!(am<Ym()-1))return void Zp(!1,3);am++}um=0,jm(),Sm(),fm=!0}function Om(){Zf&&(wm=!1,Gm(),vv(),dv())}function Gm(){Hm(),im=[],window.clearInterval(Xf),Iu&&Android.stopVideo(3),Zf=!1,Xr(),lv(),VE(),document.body.removeEventListener("keydown",Km),document.removeEventListener("visibilitychange",Lm),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",sl=0}function Um(){var e,t=Rm(1,0),n=Rm(-1,cb.ColoumnsCount-1);gm=vm=!1,t?(vm=!0,qu("next_button_text_name",(e=JSON.parse(document.getElementById(cb.ids[8]+t).getAttribute(bu)))[4]),Hu("next_button_text_title",e[9]),qu("end_next_button_text_name",e[4]),Hu("end_next_button_text_title",e[9]),Nm(0,1)):Nm(0,0),n?(gm=!0,qu("back_button_text_name",(e=JSON.parse(document.getElementById(cb.ids[8]+n).getAttribute(bu)))[4]),Hu("back_button_text_title",e[9]),Nm(1,1)):Nm(1,0)}function Rm(e,t){return h_(cb.posY,cb.posX+e,cb.ids[0])?cb.posY+"_"+(cb.posX+e):h_(cb.posY+e,t,cb.ids[0])?cb.posY+e+"_"+t:null}function Nm(e,t){document.getElementById(ym[e]).style.opacity=t}function Vm(){bm?1===bm?Dm():-1===bm&&Jm():(cm&&Uc.Play_ChatForceDisable&&($p()?qr(yr):zr()),Wv()||Fv(3))}function Dm(){Nb(1,0),Fm()}function Jm(){Nb(-1,cb.ColoumnsCount-1),Fm()}function Fm(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",cf(function(){Gm(),nf(cb.posY+"_"+cb.posX,cb.ids,Vb),e.style.transition=""})}function Hm(){jg=!1,Yg=Wg=0,Sv(),tm=nm,document.getElementById("scene_channel_panel").style.opacity="0",Iu&&Xy(Android.gettime()/1e3,pm,!0),Hu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(wg)}function qm(){zm(),ev(),wg=window.setInterval(zm,1e3),vv(),Dy(),Xm(),jm(),document.getElementById("scene_channel_panel").style.opacity="1",Wm()}function zm(){Iu&&Xy(Android.gettime()/1e3,pm,!jg)}function Xm(){for(var e=am=0;e<Ym();e++){if(im[e].id===tm){am=e;break}-1!==im[e].id.indexOf(tm)&&(am=e)}}function Ym(){return im.length}function jm(){1===Ym()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):am?am===Ym()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(tm=im[am].id).indexOf("source")?qu("quality_name",tm.replace("source",ge)):qu("quality_name",tm)}function Wm(){ch=window.setTimeout(Hm,5e3+ay)}function Qm(){document.getElementById("quality_name").style.width="16ch",qu("open_vod_text",cm?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Zm(){cm?(Uc.vodOffset=sl,Gm(),document.body.addEventListener("keydown",rb,!1),Hv(),cf(ry)):(Qh=!0,fv(ln),window.setTimeout(function(){Qh=!1,mv()},2e3))}function Km(e){if(lm!==rm)switch(e.keyCode){case Va:gv()?(vv(),Om()):pv()}else switch(e.keyCode){case Oa:RE()?ph&&!lE&&(WE(),ph--,qE()):fh&&!Av()&&Tv()?(oh++,Vv()):Av()?(Sv(),2===ty?(zv(),5<++Wh&&(Wh=0),qv()):ty?1===ty&&-1<bm&&(bm--,gm||!bm?Jy():bm++):(Zy(-1,pm),ay=2500),Wm()):Wv()?(eg(),Kv(),--tp<(vm?-1:0)&&(tp=3),Zv()):qm();break;case Ua:RE()?ph<fE-1&&!lE&&(WE(),ph++,qE()):!fh||Av()||Wv()?Av()?(Sv(),2===ty?(zv(),--Wh<0&&(Wh=5),qv()):ty?1===ty&&bm<1&&(bm++,vm||!bm?Jy():bm--):(Zy(1,pm),ay=2500),Wm()):Wv()?(eg(),Kv(),3<++tp&&(tp=vm?-1:0),Zv()):qm():Bf("ChatEnable",(xh=Tv()||Wv()?(Lv(),!1):(Pv(),!0))?"true":"false");break;case Ga:Wv()?eg():Av()?(2===ty&&1!==Wh?(ty--,Jy()):1===ty?(ty--,Jy()):0<am&&1===Wh&&(am--,jm()),Sv(),Wm()):RE()?RE()?HE():qm():NE();break;case Ra:Wv()?eg():Av()?(ty?1===ty?(ty++,Jy()):am<Ym()-1&&1===Wh&&(am++,jm()):(ty++,Jy()),Sv(),Wm()):RE()?VE():fh&&Tv()?(4<++rh?Nv(!(rh=1)):4===rh&&Nv(!0),Uv(!0)):qm();break;case Na:Wv()?tg(3):Av()?ty?1===ty?Vm():dg(3):(Sv(),Wm(),Yg&&Yy()):RE()?(Gm(),ef(ph,kE,gg)):qm();break;case Va:Av()?Hm():RE()?VE():gv()?(vv(),Om()):pv();break;case Ta:case La:case Ba:cm&&!Uc.Play_ChatForceDisable&&($p()?qr(yr):zr()),Wv()||Fv(3)}}var $m,eh,th,nh,ah,ih,oh=0,sh=oh,dh=-5,lh=.55,rh=3,ch=null,uh="source",_h=uh,fh=!0,mh=!1,hh="",ph=0,vh=2e3,gh=0,yh=1,bh=2,wh=0,kh=null,Ch=0,Ah=0,Eh=0,Mh="",Ih=[],Sh=0,xh=!1,Ph=null,Lh=null,Th=null,Bh="",Oh=0,Gh=5,Uh=0,Rh=5,Nh=0,Vh=!1,Dh=null,Jh=!1,Fh=0,Hh=null,qh=0,zh=0,Xh=!1,Yh=!1,jh=!1,Wh=1,Qh=!1,Zh=!1,Kh=1e4,$h=2e3,ep="",tp=0,np=3,ap=null,ip="",op=0,sp=0,dp="",lp=!0,rp=!1,cp=!1,up=7,_p=1e3,fp=0,mp="",hp=[],pp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],vp=[0,0,0,1,2,2,2,1],gp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],yp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],bp=1,wp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function kp(){ah=document.getElementById("chat_container"),ih=document.getElementById("inner_progress_bar"),oh=Of("ChatPositionsValue",0),rh=Of("ChatSizeValue",3),xh=Uf("ChatEnable",!1),fh=Uf("Play_isFullScreen",!0),Uv(!1),Rv(!1),Ap()}function Cp(e){e?void 0!==$m&&(oh=$m,rh=th,(xh=eh)||Lv(),Uv(!1)):($m=oh,eh=xh,th=rh,oh=0,Pv(),rh=4,Nv(xh=!0),Uv(!1),or&&(or.scrollTop=or.scrollHeight)),Bf("Play_isFullScreen",fh)}function Ap(){bp=gC("chat_font_size");for(var e=0;e<wp.length;e++)Fu("chat_inner_container",wp[e]);Ju("chat_inner_container",wp[bp])}function Ep(){uv(),Hu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Aa+_.toUpperCase()+"</div>"),P_("stream_info_title"),cm=!(Zh=!1),Gp(document.getElementById("stream_info_icon"),Sa),Uc.Play_isHost?qu("stream_info_name",Uc.Play_DisplaynameHost):qu("stream_info_name",Uc.Play_selectedChannelDisplayname),Nm(0,0),Nm(1,0),Uc.Play_WasPlaying=1,w_(),mh=Uc.Play_isHost,Uc.Play_isHost=!1,rp=!1,Vu("scene_channel_panel_bottom"),sp=op=0,qu("stream_watching_time",g+nv(0)),Bh=av(0),qu("stream_live_time",y+Bh),Nu("progress_pause_holder"),ng(1),dh=-5,qh=zh=fp=0,window.clearInterval(Hh),Yh=!1,Kh=3e3,lp=!(Uh=0),wh=gh,jh=!(Vh=!(Eh=Ah=Ch=Jh=0)),document.addEventListener("visibilitychange",Ip,!1),xp(),Up(),document.body.removeEventListener("keyup",X_),kh=window.setInterval(Tp,6e4)}function Mp(e){fv(e)}function Play_CheckResume(){Vh&&Ip(),Gg&&gy(),Zf&&(Om(),window.clearInterval(Xf))}function Ip(){document.hidden?Wv()?(vv(),Lv(),ov()):(lv(),jh=!1,tr(),window.clearInterval(kh)):(Vh=!0,wv(),Vh&&(uv(),Kh=3e3,rp=!(Uh=0),Zh?Tp():xp(),wh=gh,Nh=0,navigator.onLine?Up():nh=window.setInterval(Sp,100),kh=window.setInterval(Tp,6e4)))}function Sp(){(navigator.onLine||200<Nh)&&(window.clearInterval(nh),Up()),Nh++}function xp(){Ff("https://api.twitch.tv/kraken/streams/"+Uc.Play_selectedChannel_id,Kh,2,null,Pp,Lp,!1)}function Pp(e){null!==(e=JSON.parse(e)).stream&&(qu("stream_info_name",mh?Uc.Play_DisplaynameHost:Uc.Play_selectedChannelDisplayname),Uc.Play_selectedChannel_id=e.stream.channel._id,Hu("stream_info_title",zS.parse(e.stream.channel.status,!1,!0)),Uc.Play_gameSelected=e.stream.game,ep=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",qu("stream_info_game",v+Uc.Play_gameSelected+h+__(e.stream.viewers)+" "+J+ep),Uc.Play_selectedChannelLogo=e.stream.channel.logo,Zh=!0,Gp(document.getElementById("stream_info_icon"),Uc.Play_selectedChannelLogo),Bh=e.stream.created_at,ro()?(Qa=!0,Za=Uc.Play_selectedChannel_id,mi()):cv())}function Lp(){Uh<Rh&&(Kh+=500,window.setTimeout(function(){Vh&&xp()},750)),Uh++}function Tp(){Ff("https://api.twitch.tv/kraken/streams/"+Uc.Play_selectedChannel_id,3e3,2,null,Bp,Op,!1)}function Bp(e){null!==(e=JSON.parse(e)).stream&&(Hu("stream_info_title",zS.parse(e.stream.channel.status,!1,!0)),Uc.Play_gameSelected=e.stream.game,qu("stream_info_game",v+Uc.Play_gameSelected+h+__(e.stream.viewers)+" "+J+ep),Zh||Gp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Op(){fp<Rh?(window.setTimeout(function(){Vh&&Tp()},2500),fp++):fp=0}function Gp(e,t){e.onerror=function(){this.src=Sa,Zh=!1},e.src=t}function Up(){Oh=0,$h=2e3+(rp?3e3:0),Rp()}function Rp(){var e,t;if(e=wh===gh?"https://api.twitch.tv/api/channels/"+Uc.Play_selectedChannel+"/access_token"+(ro()&&Xi[Uc.Users_Position].access_token?"?oauth_token="+Xi[Uc.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Uc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Ch.token)+"&sig="+Ch.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Iu){if(!(t=Android.mreadUrl(e,$h,1,null)))return void Vp();200===(t=JSON.parse(t)).status?(Oh=0,Vh&&Fp(t.responseText)):403===t.status?Dp():404===t.status?rg():Vp()}else(t=new XMLHttpRequest).open("GET",xu+e,!0),t.timeout=$h,t.setRequestHeader(_u,uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Oh=0,Vh&&Fp(t.responseText)):403===t.status?(Np(t),rc?Jp():Dp()):404===t.status?(Np(t),rc?Jp():rg()):(Np(t),Vp()))},t.send(null)}function Np(e){cc&&(console.log(e.status),console.log(e.responseText))}function Vp(){Vh&&lp&&(++Oh<Gh+(rp?5:0)?($h+=250,rp?window.setTimeout(Rp,350):Rp()):rc?Jp():rg())}function Dp(){_v(),fv(Dn),window.setTimeout(function(){Vh&&rg()},4e3)}function Jp(){Ih=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],wh=bh,Vh&&Xp()}function Fp(e){wh===gh?(Ch=JSON.parse(e),wh=yh,Up()):wh===yh&&(Ih=Hp(Ah=e),wh=bh,Vh&&Xp())}function Hp(e){for(var t,n=[],a="",i=1,o=zp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=qp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function qp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function zp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Xp(){window.clearInterval(Hh),Mh=Ih[Sh=0].url,-1!==uh.indexOf("source")&&(uh="source");for(var e=0;e<Gv();e++){if(Ih[e].id===uh){Mh=Ih[Sh=e].url;break}-1!==Ih[e].id.indexOf(uh)&&(Mh=Ih[Sh=e].url)}_h=uh,wh=bh,cc&&console.log("Play_onPlayer:",'\n\n"'+Mh+'"\n'),Iu&&Vh&&Android.startVideo(Mh,1),Yp()}function Yp(){cp=!1,xh&&!Tv()&&Pv(),jh=!0,jp(),Iu&&(qh=0,up=1+vh/1e3,Xh=!1,window.clearInterval(Hh),Hh=window.setInterval(Wp,_p))}function jp(){Uc.Play_ChatForceDisable?Ul():Kr()}function Wp(){var e=!$p();Iu&&(op=Android.gettime()),Vh&&Fh===op&&e?up<++qh&&(Xh&&Yh&&Sh<Gv()-1?Sh++:!Xh&&Yh&&zh++,navigator.onLine?1<zh?Kp(zh,1,Qp):(Ov(),Xp(),Yh=!0):Zp(!1,1)):(qh=zh=0,Yh=!1),Fh=op,e&&sp++}function Qp(e){if(!e){if(!(Sh<Gv()-1))return void rg();Sh++}zh=0,Ov(),Xp(),Yh=!0}function Zp(e,t){Uc.Play_isHost=e,ng(t),lg(t)}function Kp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Zp(!1,t))},a.send(null)}function $p(){return!!Iu&&!Android.getPlaybackState()}function ev(){var e=uf();qu("stream_clock",e),qu("label_clock",e)}function tv(e){return e<10?"0"+e:e}function nv(e){var t,n,a;return t=tv(parseInt(e)%60),n=tv((e=Math.floor(e/60))%60),a=tv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function av(e){return nv(parseInt(e/1e3))}function iv(e){return av((new Date).getTime()-new Date(e).getTime())}function ov(){Vh&&(sv(),Uc.Play_WasPlaying=0,dv())}function sv(){Iu&&Android.stopVideo(1),Vh=!1,VE(),Xr(),lv(),rv(),Uc.Play_selectedChannel_id=""}function dv(){Xy(0,0),Vu("scene1"),Nu("scene2"),p_()}function lv(){Ev(),wv(),mv(),jv(),mp="",Sh===Gv()-1&&(_h=Ih[0].id),Tg===zy()-1&&(Ag=Lg[0].id),am===Ym()-1&&(nm=im[0].id)}function rv(){jh=!1,document.body.removeEventListener("keydown",gg),document.removeEventListener("visibilitychange",Ip),tr(),window.clearInterval(kh),window.clearInterval(Hh),Qh=!1}function cv(){Hu("fallow_text",Aa+Tt),ja=!1}function uv(){Iu?Android.mshowLoading(!0):Vu("dialog_loading_play")}function _v(){Iu?Android.mshowLoading(!1):Nu("dialog_loading_play")}function fv(e){qu("dialog_warning_play_text",e),Vu("dialog_warning_play")}function mv(){Nu("dialog_warning_play")}function hv(){return Du("dialog_warning_play")}function pv(){gv()?vv():(Vu("play_dialog_exit"),Ph=window.setTimeout(pv,3e3))}function vv(){window.clearTimeout(Ph),Nu("play_dialog_exit")}function gv(){return Du("play_dialog_exit")}function yv(){window.clearTimeout(Lh)}function bv(){window.clearTimeout(Th)}function wv(){yv(),bv(),Nu("play_dialog_simple_pause")}function kv(){_v(),$p()?Cv()?(Nu("play_dialog_simple_pause"),Th=window.setTimeout(kv,8e3)):(Vu("play_dialog_simple_pause"),Lh=window.setTimeout(kv,1500)):wv()}function Cv(){return Du("play_dialog_simple_pause")}function Av(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Ev(){Sv(),document.getElementById("scene_channel_panel").style.opacity="0",uh=_h,window.clearInterval(wg)}function Mv(){Hv(),Bv(),Ov(),Iv(),wg=window.setInterval(Iv,1e3),ev(),vv(),document.getElementById("scene_channel_panel").style.opacity="1",xv()}function Iv(){qu("stream_watching_time",g+nv(sp)),qu("stream_live_time",y+(-1===Bh.indexOf("00:00")?iv(Bh):"00:00"))}function Sv(){window.clearTimeout(ch),ay=0}function xv(){ch=window.setTimeout(Ev,5e3)}function Pv(){Vv(),Vu("chat_container")}function Lv(){Nu("chat_container")}function Tv(){return Du("chat_container")}function Bv(){for(var e=Sh=0;e<Gv();e++){if(Ih[e].id===uh){Sh=e;break}-1!==Ih[e].id.indexOf(uh)&&(Sh=e)}}function Ov(){1===Gv()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):Sh?Sh===Gv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(uh=Ih[Sh].id).indexOf("source")?qu("quality_name",uh.replace("source",ge)+Ih[Sh].band):qu("quality_name",uh+Ih[Sh].band)}function Gv(){return Ih.length}function Uv(e){ah.style.height=yp[rh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=yp[rh-1].dialogTop+"%",Vv(),$l(),e&&Dv(Nn+yp[rh-1].percentage),window.setTimeout(function(){or&&(or.scrollTop=or.scrollHeight)},500),Bf("ChatSizeValue",rh)}function Rv(e){ah.style.backgroundColor="rgba(0, 0, 0, "+lh+")",e&&Dv(Vn+(100*lh).toFixed(0)+"%")}function Nv(e){oh=e?vp[sh=oh]:gp[oh][sh]}function Vv(){var e=4===rh;oh<0?oh=e?2:7:(e?2:7)<oh&&(oh=0),ah.style.top=(e?.2:pp[oh].top+pp[oh].sizeOffset[rh-1])+"%",ah.style.left=pp[oh+(e?2:0)].left+"%",Bf("ChatPositionsValue",oh)}function Dv(e){window.clearTimeout(Dh),qu("play_chat_dialog_text",e),Vu("play_chat_dialog"),Dh=window.setTimeout(Jv,1e3)}function Jv(){Nu("play_chat_dialog")}function Fv(e){$p()?(wv(),Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(Av()&&Ev(),window.clearInterval(Hh),Hh=window.setInterval(Wp,_p)):2===e?(Av()&&Ry(),window.clearInterval(Jg),Jg=window.setInterval(Ty,_p)):3===e&&(Av()&&Hm(),window.clearInterval(Xf),Xf=window.setInterval(Tm,_p)),Iu&&Android.play(!0)):(window.clearInterval(Hh),window.clearInterval(Jg),window.clearInterval(Xf),Hu("pause_button",'<i class="pause_button3d icon-play-1"></i>'),kv(),Iu&&Android.play(!1))}function Hv(){zv(),Wh=1,qv()}function qv(){Ju("scene2_pannel_"+Wh,"playbotton_focus")}function zv(){Fu("scene2_pannel_"+Wh,"playbotton_focus")}function Xv(e){Eg=wh=-1,lm=-1,Lv(),Ev(),Hm(),Ry(),Qh||mv(),_v(),vv(),3===e&&vm&&wm&&(Kv(),tp=-1),Zv()}function Yv(){Vu("dialog_end_stream")}function jv(){Nu("dialog_end_stream"),eg(),Qv()}function Wv(){return Du("dialog_end_stream")}function Qv(){Kv(),tp=0,Zv()}function Zv(){Ju("dialog_end_"+tp,"dialog_end_icons_focus")}function Kv(){Fu("dialog_end_"+tp,"dialog_end_icons_focus")}function $v(e){1===e?ip=Uc.Play_selectedChannelDisplayname+" "+_:2===e?ip=Uc.Main_selectedChannelDisplayname+$t:3===e&&(ip=Uc.Main_selectedChannelDisplayname+Gt),Hu("dialog_end_stream_text",ip+S+ca+(vm&&wm?la:tn)+np+"..."),Wv()?(Eg=wh=bh,lm=rm,-1===--np?(Hu("dialog_end_stream_text",ip+S+ca+tn+"0..."),vv(),Lv(),1===e?ov():2===e?Oy():3===e&&(vm&&wm?Dm():Om())):ap=window.setTimeout(function(){$v(e)},1e3)):ap=window.setTimeout(function(){$v(e)},50)}function eg(){window.clearTimeout(ap),Hu("dialog_end_stream_text",ip+S+ca+nn)}function tg(e){var t=!0;-1===tp&&vm?Dm():tp?1===tp?Uc.Play_isHost?(Uc.Play_DisplaynameHost=Uc.Play_selectedChannelDisplayname+ne,Uc.Play_selectedChannel=dp.target_login,Uc.Play_selectedChannelDisplayname=dp.target_display_name,Uc.Play_DisplaynameHost=Uc.Play_DisplaynameHost+Uc.Play_selectedChannelDisplayname,sv(),document.body.addEventListener("keydown",gg,!1),Uc.Play_selectedChannel_id=dp.target_id,cf(Ep)):Zm():2===tp?ag(e):3===tp&&og(e):2===e?Lg.length?(Hg=!(sy=!0),xy(),wv(),fr=Kg=0,wr()):(t=!1,fv(ea),window.setTimeout(function(){mv()},2e3)):3===e&&(im.length?(_m=!(sm=!0),Sm(),wv(),cm?(Kg=0,fr=sl,wr()):Zr()):(t=!1,fv(ea),window.setTimeout(function(){mv()},2e3))),1!==tp&&3===tp&&""===Uc.Play_gameSelected&&(t=!1),t&&jv()}function ng(e){e?1===e?(Kv(),tp=2,Zv(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Qv(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Qv(),document.getElementById("dialog_end_-1").style.display=vm?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",qu("dialog_end_vod_text",cm?sn:dn)):(Kv(),tp=1,Zv(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",qu("dialog_end_vod_text",un))}function ag(e){Uc.Main_BeforeChannelisSet||Uc.Main_Go===Ac||Uc.Main_Go===Ec||(Uc.Main_BeforeChannel=Uc.Main_BeforeAgameisSet&&Uc.Main_Go!==pc?Uc.Main_BeforeAgame:Uc.Main_Go,Uc.Main_BeforeChannelisSet=!0),C_(Uc.Main_Go),Uc.Main_Go=Cc,1===e?(Uc.Main_selectedChannel_id=Uc.Play_selectedChannel_id,Uc.Main_selectedChannel=Uc.Play_selectedChannel,Uc.Main_selectedChannelDisplayname=Uc.Play_selectedChannelDisplayname,Qs=ja,Lv(),ov()):2===e?Oy():3===e&&Om()}function ig(e){Uc.Search_isSearching||(Uc.Main_BeforeSearch=Uc.Main_Go),C_(Uc.Main_Go),Uc.Main_Go=bc,1===e?(Lv(),ov()):2===e?Oy():3===e&&Om()}function og(e){if(""===Uc.Play_gameSelected)return Qh=!0,fv(Qn),void window.setTimeout(function(){Qh=!1,mv()},2e3);Uc.Main_BeforeAgameisSet||Uc.Main_Go===Lc||Uc.Main_Go===Tc||(Uc.Main_BeforeAgame=Uc.Main_BeforeChannelisSet&&Uc.Main_Go!==Cc&&Uc.Main_Go!==Ac&&Uc.Main_Go!==Ec?Uc.Main_BeforeChannel:Uc.Main_Go,Uc.Main_BeforeAgameisSet=!0),C_(Uc.Main_Go),Uc.Main_Go=pc,Bo=!1,Uc.Main_gameSelected=Uc.Play_gameSelected,Lv(),1===e?ov():2===e?Oy():3===e&&Om()}function sg(){ro()&&Xi[Uc.Users_Position].access_token?ja?ki():yi():(fv(Bt),Qh=!0,window.setTimeout(function(){mv(),Qh=!1},2e3))}function dg(e){var t=document.getElementById("scene_channel_panel");2!==Wh&&(t.style.transition="none",t.style.opacity="0"),cf(function(){Wh?1===Wh?(1===e?(Xp(),Ev()):2===e?(Hg=!1,xy(),Ry()):3===e&&(_m=!1,Sm(),Hm()),wv()):2===Wh?(Za=1===e?Uc.Play_selectedChannel_id:Uc.Main_selectedChannel_id,sg(),Sv(),1===e?xv():2===e?Fy():3===e&&Wm()):3===Wh?og(e):4===Wh?ag(e):5===Wh&&ig(e):Zm(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(Hh),rg()):lg(e)}function lg(e){window.clearInterval(Hh),window.clearInterval(Xf),window.clearInterval(Jg),Xv(e),np=3,$v(e),Yv()}function rg(){uv(),wh=-1,Oh=0,$h=2e3,tr(),window.clearInterval(kh),window.clearInterval(Hh),""!==Uc.Play_selectedChannel_id?fg():cg()}function cg(){Ff("https://api.twitch.tv/kraken/users?login="+Uc.Play_selectedChannel,$h,2,null,ug,_g,!1)}function ug(e){void 0!==(e=JSON.parse(e).users[0])?(Uc.Play_selectedChannel_id=e._id,Oh=0,$h=2e3,fg()):lg(1)}function _g(){++Oh<Gh?($h+=250,cg()):Zp(!1,1)}function fg(){Vf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Uc.Play_selectedChannel_id),$h,1,null,hg,mg,!0)}function mg(){++Oh<Gh?($h+=250,fg()):Zp(!1,1)}function hg(e){void 0!==(dp=JSON.parse(e).hosts[0]).target_login?(Qh=!0,fv(Uc.Play_selectedChannelDisplayname+cn+ne+dp.target_display_name),window.setTimeout(function(){Qh=!1},4e3),ng(0),Uc.Play_isHost=!0):(ng(1),Uc.Play_isHost=!1),lg(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?Ly(t):3===e&&Pm(t))}function pg(){ja?(Hu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Hu("fallow_text",Aa+Mt)):(Hu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Hu("fallow_text",Aa+It))}function vg(e){Wv()&&!gv()?(eg(),pv()):RE()?VE():Av()&&!ib()?e?Ry():Ev():ib()&&gv()?(ab(),Gy(!1),dv()):gv()?(vv(),Lv(),e?Oy():ov()):(hv()&&mv(),pv())}function gg(e){if(wh!==bh)switch(e.keyCode){case Va:gv()?(vv(),Lv(),ov()):pv()}else switch(e.keyCode){case Oa:RE()?ph&&!lE&&(WE(),ph--,qE()):fh&&!Av()&&Tv()?(oh++,Vv()):Av()?(zv(),5<++Wh&&(Wh=1),qv(),Sv(),xv()):Wv()?(eg(),Kv(),--tp<(Uc.Play_isHost?1:2)&&(tp=3),Zv()):Mv();break;case Ua:RE()?ph<fE-1&&!lE&&(WE(),ph++,qE()):!fh||Av()||Wv()?Av()?(zv(),--Wh<1&&(Wh=5),qv(),Sv(),xv()):Wv()?(eg(),Kv(),3<++tp&&(tp=Uc.Play_isHost?1:2),Zv()):Mv():Bf("ChatEnable",(xh=Tv()||Wv()?(Lv(),!1):(Pv(),!0))?"true":"false");break;case Ga:Av()?(0<Sh&&1===Wh&&(Sh--,Ov()),Sv(),xv()):!RE()&&ro()?NE():Wv()?eg():RE()&&HE();break;case Ra:Av()?(Sh<Gv()-1&&1===Wh&&(Sh++,Ov()),Sv(),xv()):RE()?VE():fh&&Tv()?(4<++rh?Nv(!(rh=1)):4===rh&&Nv(!0),Uv(!0)):Wv()?eg():Mv();break;case Na:if(Wv())tg(1);else if(Av())dg(1);else if(RE()){var t=document.getElementById(kE[8]+ph);null===t?DE():Uc.Play_selectedChannel!==JSON.parse(t.getAttribute(bu))[0]?(sv(),ef(ph,kE,gg)):DE()}else Mv();break;case Va:vg(!1);break;case Ta:case La:case Ba:Wv()||Fv(1)}}var yg,bg,wg,kg,Cg="source",Ag=Cg,Eg=0,Mg=null,Ig=0,Sg=0,xg=0,Pg="",Lg=[],Tg=0,Bg=0,Og=5,Gg=!1,Ug=2e3,Rg=0,Ng=5,Vg=1e4,Dg=0,Jg=null,Fg=0,Hg=!1,qg=0,zg=!1,Xg=!1,Yg=0,jg=!1,Wg=0,Qg=2e3,Zg=!1,Kg=0,$g={},ey=0,ty=0,ny=!0,ay=0,iy=0,oy=0,sy=!1,dy=[0,10,30,60,120,300,600,900,1200,1800],ly=!1;function ry(){uv(),jv(),Kg=0,qu("stream_live_time",""),qu("stream_watching_time",""),qu("progress_bar_current_time",nv(0)),mr=O+".",Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Nu("progress_pause_holder"),iy=0,Wy((hp=dy)[1]),Eg=gh,cm=!0,sl=0,Uc.Play_isHost=!1,Nm(0,0),Nm(1,0),Uc.vodOffset?(uy(),hy()):(ny&&""!==Uc.Main_selectedChannel_id?(Gp(document.getElementById("stream_info_icon"),Uc.Main_selectedChannelLogo),$g["#"+Uc.ChannelVod_vodId]||wr(),ro()?(Za=Uc.Main_selectedChannel_id,Qa=!0,mi()):cv()):(uy(),_y()),qu("stream_info_name",Uc.Main_selectedChannelDisplayname),Hu("stream_info_title",""),Hu("stream_info_game",al+" ["+Zd.toUpperCase()+"]"),qu("stream_live_icon",il),zu("stream_info_game")),$g["#"+Uc.ChannelVod_vodId]&&!Uc.vodOffset?(_v(),nb()):cy()}function cy(){window.setTimeout(function(){Vu("scene_channel_panel_bottom"),Vu("progress_pause_holder")},1e3),qu("progress_bar_duration",nv(jd)),Uc.Play_WasPlaying=2,w_(),kg=window.setInterval(by,6e4),U_(mp),Fg=qg=0,window.clearInterval(Jg),Qh=Zg=zg=!(dh=-13),jg=!1,xg=Sg=Ig=Wg=0,document.addEventListener("visibilitychange",gy,!1),ly=!(Gg=!(Xg=!1)),wy(),ng(2),document.body.removeEventListener("keyup",X_)}function uy(){Rg=0,Ng=5,Vg=1e4}function _y(){Ff("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Uc.Main_selectedChannel),Vg,2,null,fy,my,!1)}function fy(e){void 0!==(e=JSON.parse(e).users[0])?(Uc.Main_selectedChannelLogo=e.logo,Uc.Main_selectedChannel_id=e._id,$g["#"+Uc.ChannelVod_vodId]||wr(),ro()?(Za=Uc.Main_selectedChannel_id,Qa=!0,mi()):cv()):(Uc.Main_selectedChannelLogo=Sa,Uc.Main_selectedChannel_id=""),Gp(document.getElementById("stream_info_icon"),Uc.Main_selectedChannelLogo)}function my(){++Rg<Ng?(Vg+=500,window.setTimeout(function(){Gg&&_y()},750)):bg=window.setTimeout(_y,2500)}function hy(){Ff("https://api.twitch.tv/kraken/videos/"+Uc.ChannelVod_vodId,Vg,2,null,vy,py,!1)}function py(){++Rg<Ng&&(Vg+=2e3,hy())}function vy(e){e=JSON.parse(e),Hu("stream_info_title",zS.parse(e.title,!1,!0)),Hu("stream_info_game",Qt+v+e.game+" "+__(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),qu("stream_live_icon",N+I_(e.created_at)),qu("progress_bar_duration",nv(jd=parseInt(e.length))),Kg=1e3*Uc.vodOffset,Xy(Uc.vodOffset,jd,!0),Uc.Main_selectedChannelDisplayname=e.channel.display_name,qu("stream_info_name",Uc.Main_selectedChannelDisplayname),Uc.Main_selectedChannelLogo=e.channel.logo,Gp(document.getElementById("stream_info_icon"),Uc.Main_selectedChannelLogo),Uc.Main_selectedChannel_id=e.channel._id,Uc.Main_selectedChannel=e.channel.name,ro()?(Qa=!0,Za=Uc.Main_selectedChannel_id,mi()):cv(),U_(e.increment_view_count_url)}function gy(){document.hidden?Wv()?(vv(),Lv(),Oy()):(by(),Ky(),zr(),lv(),window.clearInterval(Jg),window.clearInterval(kg)):(Gg=!0,wv(),Gg&&(uv(),Nh=Nh=0,navigator.onLine?Py():nh=window.setInterval(yy,100),qr(yr),ng(2),kg=window.setInterval(by,6e4)))}function yy(){(navigator.onLine||200<Nh)&&(window.clearInterval(nh),Eg=gh,wy()),Nh++}function by(){Uc.vodOffset=Iu?parseInt(Android.gettime()/1e3):0,w_(),Uc.vodOffset=0}function wy(){Bg=0,Qg=2e3,ky()}function ky(){Vf(Eg===gh?"https://api.twitch.tv/api/vods/"+Uc.ChannelVod_vodId+"/access_token"+(ro()&&Xi[Uc.Users_Position].access_token?"?oauth_token="+Xi[Uc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Uc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Ig.token)+"&nauthsig="+Ig.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",$h,1,null,Ey,Cy,!0)}function Cy(){if(Gg){var e;if(Ig.token&&(e=JSON.parse(Ig.token)),e&&0!==JSON.parse(Ig.token).chansub.restricted_bitrates.length)return void My();++Bg<Og?(Qg+=250,ky()):rc?Ay():(_v(),lg(2))}}function Ay(){Lg=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Eg=bh,Gg&&xy()}function Ey(e){Eg===gh?(Ig=JSON.parse(e),Eg=yh,wy()):Eg===yh&&(Lg=Hp(Sg=e),Eg=bh,Gg&&xy())}function My(){ro()&&Xi[Uc.Users_Position].access_token?(Za=Uc.Main_selectedChannel_id,Ei()):(_v(),fv(x+St),window.setTimeout(function(){Gg&&Oy()},4e3))}function Iy(){_v(),fv(x+xt),window.setTimeout(function(){Gg&&Oy()},4e3)}function Sy(){ly?(_v(),fv(x+Pt),window.setTimeout(function(){Gg&&Oy()},4e3)):(ly=!0,Eg=gh,wy())}function xy(){window.clearInterval(Jg),Pg=Lg[Tg=0].url,-1!==Cg.indexOf("source")&&(Cg="source");for(var e=0;e<zy();e++){if(Lg[e].id===Cg){Pg=Lg[Tg=e].url;break}-1!==Lg[e].id.indexOf(Cg)&&(Pg=Lg[Tg=e].url)}Ag=Cg,Py()}function Py(){cc&&console.log("PlayVod_onPlayer:",'\n\n"'+Pg+'"\n'),Uc.vodOffset?(fr=Uc.vodOffset,wr(),Iu&&Gg&&Android.startVideoOffset(Pg,2,sy?-1:1e3*Uc.vodOffset),Uc.vodOffset=0):Iu&&Gg&&Android.startVideoOffset(Pg,2,sy?-1:Android.gettime()),sy=!1,xh&&!Tv()&&Pv(),Iu&&(Fg=0,up=3+Ug/1e3,Hg=!1,window.clearInterval(Jg),Jg=window.setInterval(Ty,_p))}function Ly(e){qu("progress_bar_duration",nv(jd=e/1e3)),Vy()}function Ty(){Iu&&(Kg=Android.gettime()),jd<Kg/1e3&&(Iu&&Android.play(!1),Play_PannelEndStart(2)),Gg&&Dg===Kg&&!$p()?++Fg>up&&(Hg&&zg&&Tg<zy()-1?Tg++:!Hg&&zg&&qg++,navigator.onLine?1<qg?Kp(qg,2,By):(qy(),xy(),zg=!0):Zp(!1,2)):(Fg=qg=0,zg=!1),Dg=Kg}function By(e){if(!e){if(!(Tg<zy()-1))return void Zp(!1,2);Tg++}qg=0,qy(),xy(),zg=!0}function Oy(){Gg&&(Lg=[],Gy(!0),dv())}function Gy(e){e&&Ky(),Iu&&Android.stopVideo(2),Gg=!1,window.clearInterval(kg),window.clearInterval(bg),Uc.Play_WasPlaying=0,ny=!0,Xr(),VE(),lv(),Uy()}function Uy(){document.body.removeEventListener("keydown",rb),document.removeEventListener("visibilitychange",gy),Uc.vodOffset=0,window.clearInterval(Mg),window.clearInterval(Jg),jd=0}function Ry(){jg=!1,Yg=Wg=0,Sv(),document.getElementById("scene_channel_panel").style.opacity="0",Iu&&Xy(Android.gettime()/1e3,jd,!0),Hu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",Cg=Ag,window.clearInterval(wg)}function Ny(e){Vy(),ev(),vv(),wg=window.setInterval(Vy,1e3),e&&(Dy(),Hy(),qy(),Fy()),document.getElementById("scene_channel_panel").style.opacity="1"}function Vy(){Iu&&Xy(Android.gettime()/1e3,jd,!jg)}function Dy(){ty=1,bm=0,Jy()}function Jy(){Fu("pause_button","progress_bar_div_focus"),Fu("next_button","progress_bar_div_focus"),Fu("back_button","progress_bar_div_focus"),Fu("progress_bar_div","progress_bar_div_focus"),ty?1===ty?(bm?1===bm?Ju("next_button","progress_bar_div_focus"):-1===bm&&Ju("back_button","progress_bar_div_focus"):Ju("pause_button","progress_bar_div_focus"),zv(),Hu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none"):2===ty&&(qv(),Hu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none"):(Ju("progress_bar_div","progress_bar_div_focus"),zv(),Yg&&(Qy(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Fy(){ch=window.setTimeout(Ry,5e3+ay)}function Hy(){for(var e=Tg=0;e<zy();e++){if(Lg[e].id===Cg){Tg=e;break}-1!==Lg[e].id.indexOf(Cg)&&(Tg=e)}}function qy(){1===zy()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Tg?Tg===zy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Cg=Lg[Tg].id).indexOf("source")?qu("quality_name",Cg.replace("source",ge)+Lg[Tg].band):qu("quality_name",Cg+Lg[Tg].band)}function zy(){return Lg.length}function Xy(e,t,n){qu("progress_bar_current_time",nv(e)),n&&(ih.style.width=e/t*100+"%")}function Yy(){wv(),Wv()||(_m=Hg=!1,Gg?(Iu&&Android.startVideoOffset(Pg,2,0<oy?1e3*oy:-1),fr=oy):(fr=sl,Iu&&Android.startVideoOffset(om,3,0<oy?1e3*oy:-1)),cm&&wr()),Hu("progress_bar_jump_to",Aa),document.getElementById("progress_bar_steps").style.display="none",jg=!1,oy=Yg=Wg=0}function jy(){iy=Wg=0,Wy(hp[1])}function Wy(e){Yg&&!ty&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?qu("progress_bar_steps",Jn+e/60+Hn):qu("progress_bar_steps",e?Jn+e+Fn:Jn+hp[1]+Fn)}function Qy(){qu("progress_bar_jump_to",ue+" ("+(Yg<0?"-":"")+nv(Math.abs(Yg))+")"+_e+nv(oy))}function Zy(e,t){var n=Iu?Android.gettime()/1e3:0;window.clearTimeout(yg),jg=!0,Wg<hp.length-1&&iy++%6==0&&Wg++,Yg+=hp[Wg]*e,oy=n+Yg,Gg&&(oy=10*Math.floor(oy/10)),t<oy?(Yg=t-n-hp[1],oy=n+Yg,iy=Wg=0):oy<0&&(Yg=0-n,oy=iy=Wg=0),Qy(),ih.style.width=oy/t*100+"%",Wy(hp[Wg]*e),yg=window.setTimeout(jy,1e3)}function Ky(){var e=Iu?parseInt(Android.gettime()/1e3):0,t="#"+Uc.ChannelVod_vodId;300<e&&e<jd-300?($g[t]&&delete $g[t],$g[t]=e,Bf("PlayVod_VodIds",JSON.stringify($g))):jd-300<e&&$g[t]&&(delete $g[t],Bf("PlayVod_VodIds",JSON.stringify($g)))}function $y(){$g=Gf("PlayVod_VodIds",{});var e=eb();250<e&&tb(e-250)}function eb(){var e=0;for(var t in $g)$g.hasOwnProperty(t)&&e++;return e}function tb(e){var t=0;for(var n in $g){if(!(t<e))break;delete $g[n],t++}Bf("PlayVod_VodIds",JSON.stringify($g))}function nb(){Nu("scene_channel_panel_bottom"),Ny(!1),Hu("dialog_vod_saved_text",kn+av(1e3*$g["#"+Uc.ChannelVod_vodId])),Vu("dialog_vod_start")}function ab(){Ry(),Nu("dialog_vod_start"),ob(),window.setTimeout(function(){Vu("scene_channel_panel_bottom")},1e3)}function ib(){return Du("dialog_vod_start")}function ob(){db(),ey=0,sb()}function sb(){Ju("dialog_vod_"+ey,"dialog_end_icons_focus")}function db(){Fu("dialog_vod_"+ey,"dialog_end_icons_focus")}function lb(e){ab(),e?(delete $g["#"+Uc.ChannelVod_vodId],Uc.vodOffset=0,ry()):(Uc.vodOffset=$g["#"+Uc.ChannelVod_vodId],Kg=1e3*Uc.vodOffset,Xy(Uc.vodOffset,jd,!0),cy())}function rb(e){if(Eg===bh||ib())switch(e.keyCode){case Oa:RE()?ph&&!lE&&(WE(),ph--,qE()):fh&&!Av()&&Tv()?(oh++,Vv()):Av()&&!ib()?(Sv(),2===ty?(zv(),5<++Wh&&(Wh=1),qv()):ty||(Zy(-1,jd),ay=2500),Fy()):ib()?(db(),ey?ey--:ey++,sb()):Wv()?(eg(),Kv(),--tp<0&&(tp=3),1===tp&&(tp=0),Zv()):ib()||Ny(!0);break;case Ua:console.log(ty),RE()?ph<fE-1&&!lE&&(WE(),ph++,qE()):!fh||Av()||Wv()?Av()&&!ib()?(Sv(),2===ty?(zv(),--Wh<1&&(Wh=5),qv()):ty||(Zy(1,jd),ay=2500),Fy()):ib()?(db(),ey?ey--:ey++,sb()):Wv()?(eg(),Kv(),3<++tp&&(tp=0),1===tp&&(tp=2),Zv()):ib()||Ny(!0):Bf("ChatEnable",(xh=Tv()||Wv()?(Lv(),!1):(Pv(),!0))?"true":"false");break;case Ga:Wv()?eg():Av()&&!ib()?(2===ty&&1!==Wh?(ty--,Jy()):1===ty?(ty--,Jy()):0<Tg&&1===Wh&&(Tg--,qy()),Sv(),Fy()):RE()?RE()?HE():ib()||Ny(!0):NE();break;case Ra:Wv()?eg():Av()&&!ib()?(ty?1===ty?(ty++,Jy()):Tg<zy()-1&&1===Wh&&(Tg++,qy()):(ty++,Jy()),Sv(),Fy()):RE()?VE():fh&&Tv()?(4<++rh?Nv(!(rh=1)):4===rh&&Nv(!0),Uv(!0)):ib()||Ny(!0);break;case Na:ib()?lb(ey):Wv()?tg(2):Av()?ty?1===ty?(Uc.Play_ChatForceDisable&&($p()?qr(yr):zr()),Wv()||Fv(2)):dg(2):(Sv(),Fy(),Yg&&Yy()):RE()?(Gy(!0),ef(ph,kE,gg)):Ny(!0);break;case Va:vg(!0);break;case Ta:case La:case Ba:Uc.Play_ChatForceDisable&&($p()?qr(yr):zr()),Wv()||Fv(2)}else switch(e.keyCode){case Va:gv()?(vv(),Oy()):pv()}}var cb={};function ub(){console.log("InitScreens place holder")}function _b(){nw(),aw(),ow(),sw(),dw(),rw(),cw()}function fb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function mb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function hb(){Qc=-1,Uc.Main_Go=cb.screen,cb.label_init(),document.body.addEventListener("keydown",Vb,!1),Vu(cb.ids[10]),cb.status?(O_(cb.posY),Sb(!0),w_()):vb()}function pb(){Qc=0,cb.label_exit(),document.body.removeEventListener("keydown",Vb),Nu(cb.ids[10]),i_()}function vb(){Xu(),P_(cb.table),i_(),cb.cursor=null,cb.status=!1,cb.row=document.createElement("div"),cb.MaxOffset=0,cb.TopRowCreated=!1,cb.offset=0,cb.idObject={},cb.Cells=[],cb.FirstLoad=!0,cb.itemsCount=0,cb.posX=0,cb.posY=0,cb.row_id=0,cb.currY=0,cb.coloumn_id=0,cb.data=null,cb.data_cursor=0,cb.dataEnded=!1,$u(),gb(),yb()}function gb(){cb.loadingData=!0,cb.loadingDataTry=0,cb.loadingDataTimeout=3500}function yb(){cb.set_url(),Iu&&!cb.itemsCount?Jf(cb.url,cb.loadingDataTimeout,2,null,wb,bb):Ff(cb.url,cb.loadingDataTimeout,2,null,wb,bb,!1)}function bb(){cb.loadingDataTry++,cb.loadingDataTry<cb.loadingDataTryMax?(cb.loadingDataTimeout+=500,yb()):(cb.loadingData=!1,cb.itemsCount?cb.dataEnded=!0:(cb.FirstLoad=!1,Yu(),a_(P),cb.key_exit()))}function wb(e){cb.concatenate(e)}function kb(){var e=cb.data.length-cb.data_cursor;if(e>cb.ItemsLimit?e=cb.ItemsLimit:cb.loadingData||(cb.dataEnded=!0),cb.HasSwitches&&!cb.TopRowCreated&&cb.addSwitches(),e){cb.row_id||(cb.row=document.createElement("div"),cb.row.id=this.ids[12]+cb.row_id);var t=Math.ceil(e/cb.ColoumnsCount),n=cb.row_id+t;for(cb.row_id;cb.row_id<n;){for(cb.coloumn_id===cb.ColoumnsCount&&(cb.row=document.createElement("div"),cb.row.id=this.ids[12]+cb.row_id,cb.coloumn_id=0),cb.coloumn_id;cb.coloumn_id<cb.ColoumnsCount&&cb.data_cursor<cb.data.length;cb.data_cursor++)cb.data[cb.data_cursor]&&cb.addCell(cb.data[cb.data_cursor]);if(cb.coloumn_id===cb.ColoumnsCount)cb.Cells[cb.row_id]=cb.row,cb.row_id++;else if(cb.data_cursor>=cb.data.length){this.dataEnded&&(cb.Cells[cb.row_id]=cb.row);break}}}cb.emptyContent=!e&&!cb.status,Ib()}function Cb(e,t){var n=e+"_"+t;return(zc=document.createElement("div")).style.cssText=cb.ThumbCssText,n}function Ab(e,t,n,a,i,o){var s=Cb(e,t);return zc.setAttribute("id",n[5]+s),zc.setAttribute(bu,i),zc.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+cb.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",zc}function Eb(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=Cb(e,t);return zc.setAttribute("id",n[8]+p),zc.setAttribute(bu,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),zc.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+cb.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+ca+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+nv(r)+"</div></div></div></div>",zc}function Mb(e,t,n,a,i){var o=Cb(e,t);return zc.setAttribute("id",a[8]+o),zc.setAttribute(bu,JSON.stringify(n)),zc.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img" src="'+i[0]+'" onerror="this.onerror=null;this.src=\''+cb.img_404+'\'"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+zS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",zc}function Ib(){if(cb.status)e_(cb.posX,cb.posY,cb.ColoumnsCount,cb.itemsCount);else{if(cb.emptyContent)a_(cb.empty_str());else{cb.status=!0;for(var e=document.getElementById(cb.table),t=0;t<(cb.Cells.length<cb.visiblerows?cb.Cells.length:cb.visiblerows);t++)e.appendChild(cb.Cells[t])}Zc&&cb.status&&iC.restor_playback.defaultValue?Uc.Play_WasPlaying?(C_(Uc.Main_Go),Uc.Main_Go=Gc,Uc.vodOffset||(Uc.vodOffset=1),jd=Uc.vodOffset+1,fv(qn),1===Uc.Play_WasPlaying?tf():of(),y_(!0),window.setTimeout(function(){Qh||mv()},2e3)):1!==Gc?(C_(Uc.Main_Go),Uc.Main_Go=Gc,df(cb.posY+"_"+cb.posX,cb.ids),y_()):(Uc.Never_run&&r_(),Uc.Never_run=!1,Sb(),w_()):(Sb(),w_()),Zc=!1,cb.FirstLoad=!1,Yu()}}function Sb(e){if(cb.emptyContent){if(!cb.HasSwitches)return void cb.key_exit();cb.posY=-1}if(cb.posY<0)return Ob(),void(cb.emptyContent||e_(cb.posX,cb.posY+1,cb.ColoumnsCount,cb.itemsCount));Pb(e),2<cb.posY&&cb.data_cursor+Yb>cb.data.length&&!cb.dataEnded&&!cb.loadingData?(gb(),yb()):cb.posY+cb.ItemsReloadLimit>cb.itemsCount/cb.ColoumnsCount&&cb.data_cursor<cb.data.length&&cf(function(){cb.loadDataSuccess()}),Vc&&df(cb.posY+"_"+cb.posX,cb.ids)}function xb(e){return null!==document.getElementById(e)}function Pb(e){if(cb.currY<cb.posY)1<cb.posY&&cb.Cells.length-1>=cb.posY+1&&(document.getElementById(cb.table).appendChild(cb.Cells[cb.posY+1]),xb(cb.ids[12]+(cb.posY-2))&&document.getElementById(cb.ids[12]+(cb.posY-2)).remove());else if(cb.currY>cb.posY&&cb.posY){var t=document.getElementById(cb.table);t.insertBefore(cb.Cells[cb.posY-1],t.childNodes[cb.HasSwitches?1:0]),xb(cb.ids[12]+(cb.posY+2))&&document.getElementById(cb.ids[12]+(cb.posY+2)).remove()}cb.currY=cb.posY,Ju(cb.ids[0]+cb.posY+"_"+cb.posX,yu),e_(cb.posX,cb.posY,cb.ColoumnsCount,cb.itemsCount),cb.addFocus(cb.posY,cb.posX,cb.ids,e)}function Lb(e,t,n,a){e<2&&G_(e)||a?e?h_(e+1,0,n[0])&&sf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):sf(n[10],.07*screen.height):X_()}function Tb(e,t,n,a){G_(e)||a?cb.posY<cb.Cells.length-1&&sf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):cb.Cells.length-1===e&&h_(e-1,t,n[0])?sf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):X_()}function Bb(e,t){df(cb.posY+"_"+cb.posX,cb.ids),cb.posY+=e,cb.posX=t,Sb()}function Ob(){1<cb.posX?cb.posX=0:cb.posX<0&&(cb.posX=1),Ju(cb.ids[0]+"y_"+cb.posX,yu)}function Gb(){1<cb.posX?cb.posX=0:cb.posX<0&&(cb.posX=1),Fu(cb.ids[0]+"y_"+cb.posX,yu)}function Ub(e){u_()?c_():d_()?s_():(e===cb.screen?Uc.Main_Go=fc:Uc.Main_Go=e,pb())}function Rb(e){if(!cb.HasSwitches||cb.posY||-1!==e||cb.emptyContent){if(cb.HasSwitches&&-1===cb.posY&&h_(0,cb.posX,cb.ids[0]))cb.posY=0,Sb(),Gb();else for(var t=0;t<cb.ColoumnsCount;t++)if(h_(cb.posY+e,cb.posX-t,cb.ids[0]))return void Bb(e,cb.posX-t)}else df(cb.posY+"_"+cb.posX,cb.ids),cb.posY=-1,1<cb.posX&&(cb.posX=1),Ob()}function Nb(e,t){cb.HasSwitches&&-1===cb.posY?(cb.posY=-1,Gb(),cb.posX++,Ob()):h_(cb.posY,cb.posX+e,cb.ids[0])?Bb(0,cb.posX+e):h_(cb.posY+e,t,cb.ids[0])&&Bb(e,t)}function Vb(e){if(!cb.FirstLoad&&!W_())switch(j_(),e.keyCode){case Va:cb.key_exit();break;case Oa:Nb(-1,cb.ColoumnsCount-1);break;case Ua:cb.dataEnded||cb.posX<cb.ColoumnsCount-1||cb.Cells.length-1>=cb.posY+2?Nb(1,0):Sb(!0);break;case Ga:Rb(-1);break;case Ra:cb.dataEnded||cb.Cells.length-1>=cb.posY+2?Rb(1):Sb(!0);break;case Ta:case La:case Ba:case Na:cb.key_play()}}cb.FirstLoad=!1;var Db,Jb,Fb,Hb,qb,zb,Xb,Yb=100,jb="",Wb="",Qb="",Zb="",Kb="",$b="",ew={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:kb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){u_()?c_():d_()?s_():(h_(this.posY,this.posX,this.ids[0])?df(this.posY+"_"+this.posX,this.ids):this.posY<0&&(Gb(),this.posY=0),If(Vb))}},tw={ThumbSize:32.65,visiblerows:3,ItemsLimit:tu,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:Lb,img_404:xa,empty_str:function(){return L+W},key_play:function(){ef(this.posY+"_"+this.posX,this.ids,Vb)}};function nw(){(zb=mb(zb=mb({ids:fb("Live"),table:"stream_table_live",screen:fc,base_url:"https://api.twitch.tv/kraken/streams?limit="+Yb,set_url:function(){this.offset&&this.offset+Yb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Yc?"&broadcaster_language="+Yc:"")},label_init:function(){Uc.Main_CenterLablesVectorPos=0,Ju("top_bar_live","icon_center_focus")},label_exit:function(){Fu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Mb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+iv(e.created_at)+" "+h+__(e.viewers)+J,f_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},ew),tw)).set_ThumbSize()}function aw(){(Xb=mb(Xb=mb({ids:fb("Featured"),table:"stream_table_featured",screen:Bc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Yb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(ro()&&Xi[Uc.Users_Position].access_token?"&oauth_token="+Xi[Uc.Users_Position].access_token:"")},label_init:function(){Uc.Main_CenterLablesVectorPos=2,Ju("top_bar_featured","icon_center_focus")},label_exit:function(){Fu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Mb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+iv(e.created_at)+" "+h+__(e.viewers)+J,f_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},ew),tw)).set_ThumbSize()}var iw={ThumbSize:32.65,ItemsLimit:tu,TopRowCreated:!1,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:Lb,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:xa,empty_str:function(){return L+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Aa+Aa+m,Aa+Aa+da],a=0;a<n.length;a++)e='<i class="icon-'+this.SwitchesIcons[a]+' stream_channel_fallow_icon"></i>'+n[a],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+a),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+a+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+a+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(wm=!0,Gb(),this.posX=0,this.posY=0,nf(this.posY+"_"+this.posX,this.ids,Vb)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),vb())):nf(this.posY+"_"+this.posX,this.ids,Vb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Eb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,I_(e.created_at)],[zS.parse(e.title),v,e.game],__(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function ow(){(Db=mb(Db=mb({ids:fb("Clip"),table:"stream_table_clip",screen:Pc,periodPos:Of("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Yb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Yc?"&language="+Yc:"")},SetPeriod:function(){Hu("top_bar_clip",U+M_(Wc[this.periodPos-1])),Bf("Clip_periodPos",this.periodPos)},label_init:function(){Uc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ju("top_bar_clip","icon_center_focus"),Ru("label_refresh","icon-refresh",t+Yt)},label_exit:function(){A_(),Fu("top_bar_clip","icon_center_focus"),Ru("label_refresh","icon-refresh",t+Yt)}},ew),iw)).set_ThumbSize()}function sw(){(Jb=mb(Jb=mb({ids:fb("ChannelClip"),table:"stream_table_channel_clip",screen:Ec,periodPos:Of("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Uc.Main_selectedChannel)+"&limit="+Yb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Hu("top_bar_game",U+Wc[this.periodPos-1]),Bf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Uc.Main_CenterLablesVectorPos=1,!Uc.Search_isSearching&&Uc.Main_selectedChannel_id&&Od(),Uc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),E_(),this.SetPeriod(),qu("top_bar_user",Uc.Main_selectedChannelDisplayname),Ru("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Uc.Main_selectedChannel},label_exit:A_},ew),iw)).set_ThumbSize()}function dw(){(Fb=mb(Fb=mb({ids:fb("AGameClip"),table:"stream_table_a_game_clip",screen:Tc,periodPos:Of("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Uc.Main_gameSelected)+"&limit="+Yb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Yc?"&language="+Yc:"")},SetPeriod:function(){Hu("top_bar_game",b+M_(U+Wc[this.periodPos-1]+": "+Uc.Main_gameSelected)),Bf("AGameClip_periodPos",this.periodPos)},label_init:function(){Uc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ju("top_bar_game","icon_center_focus"),Ru("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Uc.Main_gameSelected&&(this.status=!1),this.gameSelected=Uc.Main_gameSelected},label_exit:function(){Fu("top_bar_game","icon_center_focus"),Hu("top_bar_game",f),Ru("label_side_panel","icon-ellipsis",Rn)}},ew),iw)).set_ThumbSize()}var lw={ThumbSize:19.35,visiblerows:3,ItemsLimit:iu,ItemsReloadLimit:su,ColoumnsCount:ou,addFocus:Tb,img_404:Ia,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===yc?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===yc?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Uc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(bu),document.body.removeEventListener("keydown",Vb),Uc.Main_BeforeAgame=this.screen,Uc.Main_Go=pc,Uc.Main_BeforeAgameisSet=!0,Bo=!1,Qc=0,document.body.removeEventListener("keydown",Vb),Nu(this.ids[10]),b_(),df(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===hc,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Ab(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",gu),n.name,t?__(e.channels)+" "+E+h+__(e.viewers)+J:"")),this.coloumn_id++)}};function rw(){(Hb=mb(Hb=mb({ids:fb("Game"),table:"stream_table_games",screen:hc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Yb,set_url:function(){this.offset&&this.offset+Yb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Uc.Main_CenterLablesVectorPos=3,Ju("top_bar_game","icon_center_focus")},label_exit:function(){Fu("top_bar_game","icon_center_focus")}},ew),lw)).set_ThumbSize()}function cw(){(qb=mb(qb=mb({ids:fb("UserGames"),table:"stream_table_user_games",screen:yc,isLive:Uf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Yb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Xi[Uc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Yb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+" "+(this.isLive?Z:zt))),vb(),Bf("user_Games_live",this.isLive?"true":"false"),JM&&WM()},label_init:function(){Uc.Main_CenterLablesVectorPos=1,Ru("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),this.OldUserName!==Xi[Uc.Users_Position].name&&(this.status=!1),this.OldUserName=Xi[Uc.Users_Position].name,Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Uc.Users_Position=0,Fu("top_bar_user","icon_center_focus"),Ru("label_refresh","icon-refresh",t+Yt),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn)}},ew),lw)).set_ThumbSize()}var uw=0,_w=0,fw=!1,mw=0,hw={},pw=[],vw=!1,gw=0,yw=5,bw=3500,ww=0,kw=0,Cw=!1,Aw=!1,Ew="",Mw=!1,Iw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Sw(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=Sc,Uc.isLastSChannels=!0,Uc.Search_isSearching=!0,Ew!==Uc.Search_data&&(Aw=!1),E_(),Hu("top_bar_user",n+M_(E+" '"+Uc.Search_data+"'")),document.body.addEventListener("keydown",Fw,!1),Aw?(O_(uw),Vu(Iw[6]),Dw(),w_()):Pw()}function xw(){A_(),document.body.removeEventListener("keydown",Fw),Nu(Iw[6])}function Pw(){P_("stream_table_search_channel"),Nu(Iw[6]),Xu(),i_(),Ew=Uc.Search_data,Aw=!1,hw={},Ef=!(mw=kw=ww=0),uw=_w=0,fw=Mw=!(pw=[]),$u(),Lw(),Tw()}function Lw(){T_(),vw=!0,gw=0,bw=3500}function Tw(){var e=mw+ww;e&&kw-1<e&&(e=kw-du,fw=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Uc.Search_data)+"&limit="+du+"&offset="+e;Iu&&!mw?Jf(t,bw,2,null,Ow,Bw):Ff(t,bw,2,null,Ow,Bw,!1)}function Bw(){++gw<yw?(bw+=500,Tw()):(vw=!1,mw?(fw=!0,Uw()):(Ef=!1,Yu(),a_(P)))}function Ow(e){var t=JSON.parse(e),n=t.channels.length;kw=parseInt(t._total),n<du&&(fw=!0);var a=mw;Cw=!(mw+=n);var i=n/lu;0<n%lu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/lu+_,d=document.createElement("tr"),o=0;o<lu&&c<n;o++,c++)r=(l=t.channels[c])._id,hw[r]?o--:(hw[r]=1,d.appendChild(Gw(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<lu;o++)fw&&!Mw&&(Mw=!0,mw=s*lu+o),d.appendChild(R_(Iw[5]+s+"_"+o)),pw.push(Iw[5]+s+"_"+o);u.appendChild(d)}Uw()}function Gw(e,t,n){return e<4&&U_(n[2]),N_(t,Iw,n)}function Uw(){if(Aw){if(L_(Sa),0<pw.length&&!fw)return Lw(),void Rw();Dw(!0),pw=[]}else Cw?a_(d):(Aw=!0,L_(Sa),Dw(),w_()),Vu(Iw[6]),Ef=!1,Yu();vw=!1}function Rw(){n_(pw.length);var e=mw+ww;e&&kw-1<e&&(e=kw-cu,fw=!0),Vf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Uc.Search_data)+"&limit="+cu+"&offset="+e,bw,2,null,Vw,Nw)}function Nw(){++gw<yw?(bw+=500,Rw()):(fw=!0,mw-=pw.length,pw=[],Uw())}function Vw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(kw=parseInt(a._total),i<cu&&(fw=!0);o<pw.length&&s<i;o++,s++)n=(t=a.channels[s])._id,hw[n]?o--:(hw[n]=1,V_(pw[o],[t.name,n,t.logo,t.display_name],Iw),d.push(o));for(o=d.length-1;-1<o;o--)pw.splice(d[o],1);ww+=s,fw&&(mw-=pw.length,pw=[]),Uw()}function Dw(e){Q_(uw,_w,Iw,lu,mw,e),mw/lu<uw+ru&&!fw&&!vw&&(Lw(),Tw()),Vc&&Jw()}function Jw(){mw&&df(uw+"_"+_w,Iw)}function Fw(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(Jw(),If(Fw));break;case Oa:if(h_(uw,_w-1,Iw[0]))Jw(),_w--,Dw();else for(t=lu-1;-1<t;t--)if(h_(uw-1,t,Iw[0])){Jw(),uw--,_w=t,Dw();break}break;case Ua:h_(uw,_w+1,Iw[0])?(Jw(),_w++,Dw()):h_(uw+1,0,Iw[0])&&(Jw(),uw++,_w=0,Dw());break;case Ga:for(t=0;t<lu;t++)if(h_(uw-1,_w-t,Iw[0])){Jw(),uw--,_w-=t,Dw();break}break;case Ra:for(t=0;t<lu;t++)if(h_(uw+1,_w-t,Iw[0])){Jw(),uw++,_w-=t,Dw();break}break;case Ta:case La:case Ba:case Na:Uc.Main_selectedChannel=document.getElementById(Iw[4]+uw+"_"+_w).getAttribute(bu),Uc.Main_selectedChannel_id=document.getElementById(Iw[4]+uw+"_"+_w).getAttribute("data-id"),Uc.Main_selectedChannelDisplayname=document.getElementById(Iw[3]+uw+"_"+_w).textContent,document.body.removeEventListener("keydown",Fw),Uc.Main_BeforeChannel=Sc,Uc.Main_Go=Cc,Uc.Main_BeforeChannelisSet=!0,Qs=ja=!1,Nu(Iw[6]),y_()}}var Hw=!1,qw=0,zw=0,Xw=0,Yw=0,jw=5,Ww=3500,Qw=0,Zw=0,Kw=!1,$w=!1,ek="",tk=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function nk(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=wc,Uc.Search_isSearching=!0,E_(),ek!==Uc.Search_data&&(Hw=!1),Hu("top_bar_user",n+M_(f+" '"+Uc.Search_data+"'")),document.body.addEventListener("keydown",fk,!1),Hw?(O_(qw),Vu(tk[7]),uk(),w_()):ik()}function ak(){Uc.Search_isSearching||A_(),document.body.removeEventListener("keydown",fk),Uc.Games_return=!1,Nu(tk[7])}function ik(){P_("stream_table_search_game"),Nu(tk[7]),Xu(),i_(),ek=Uc.Search_data,$w=Hw=!1,qw=zw=Xw=Zw=Qw=0,$u(),ok(),sk()}function ok(){T_(),Ef=!0,Yw=0,Ww=3500}function sk(){Vf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Uc.Search_data),Ww,2,null,lk,dk)}function dk(){++Yw<jw?(Ww+=500,sk()):(Ef=!1,Xw?ck():(Yu(),a_(P)))}function lk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Xw;Kw=!(Xw+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/ou+u,d=document.createElement("tr"),o=0;o<ou&&r<n;o++,r++)l=t.games[r],d.appendChild(rk(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",gu),""]));for(;o<ou;o++)$w||($w=!0,Xw=s*ou+o),d.appendChild(R_(tk[6]+s+"_"+o));c.appendChild(d)}ck()}function rk(e,t,n){return e<2&&U_(n[1]),q_(t,tk,n)}function ck(){Hw||(Kw?a_(d):(Hw=!0,L_(xa),uk(),w_()),Yu()),Vu(tk[7]),Ef=!1,e_(zw,qw,ou,Xw)}function uk(){K_(qw,zw,tk,ou,Xw),Vc&&_k()}function _k(){Xw&&df(qw+"_"+zw,tk)}function fk(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(_k(),If(fk));break;case Oa:if(h_(qw,zw-1,tk[0]))_k(),zw--,uk();else for(t=ou-1;-1<t;t--)if(h_(qw-1,t,tk[0])){_k(),qw--,zw=t,uk();break}break;case Ua:h_(qw,zw+1,tk[0])?(_k(),zw++,uk()):h_(qw+1,0,tk[0])&&(_k(),qw++,zw=0,uk());break;case Ga:for(t=0;t<ou;t++)if(h_(qw-1,zw-t,tk[0])){_k(),qw--,zw-=t,uk();break}break;case Ra:for(t=0;t<ou;t++)if(h_(qw+1,zw-t,tk[0])){_k(),qw++,zw-=t,uk();break}break;case Ta:case La:case Ba:case Na:Uc.gameSelectedOld=Uc.Main_gameSelected,ak(),Uc.Main_gameSelected=document.getElementById(tk[5]+qw+"_"+zw).getAttribute(bu),document.body.removeEventListener("keydown",fk),Uc.Main_Go=pc,Uc.Games_return=!0,y_()}}var mk=0,hk=0,pk=!1;function vk(){i_(),Nu("label_refresh"),Ru("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",nc.placeholder=w,Ju("top_bar_user","icon_center_focus"),Vu("search_scroll"),hk=mk=0,bk(),kk()}function gk(){Ck(!1),document.body.removeEventListener("keydown",wk),bk(),Uc.Main_Go=Uc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",qu("top_bar_user",u),Fu("top_bar_user","icon_center_focus"),Ru("label_side_panel","icon-ellipsis",Rn),Vu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",nc.value="",Nu("search_scroll")}function yk(){gk(),cf(function(){hk?1===hk?nk():2===hk&&Hk():Sw()})}function bk(){Fu("chanel_button","button_search_focused"),Fu("game_button","button_search_focused"),Fu("live_button","button_search_focused"),mk&&(hk?1===hk?Ju("game_button","button_search_focused"):2===hk&&Ju("live_button","button_search_focused"):Ju("chanel_button","button_search_focused"))}function wk(e){if(!pk)switch(e.keyCode){case Va:u_()?c_():d_()?s_():(gk(),y_());break;case Oa:1===mk&&(--hk<0&&(hk=2),bk());break;case Ua:1===mk&&(2<++hk&&(hk=0),bk());break;case Ga:1===mk&&(mk=0,bk(),kk());break;case Ra:mk?1===mk&&(mk=0,bk(),kk()):(Ck(!1),mk=1,bk());break;case Ta:case La:case Ba:case Na:mk?""!==nc.value&&null!==nc.value?(Uc.Search_data=nc.value,nc.value="",yk()):(a_(s),window.setTimeout(function(){i_()},1e3)):kk()}}function kk(){document.body.removeEventListener("keydown",wk),document.body.addEventListener("keydown",Ek,!1),nc.placeholder=w,nc.focus(),pk=!0}function Ck(e){nc.blur(),Ak(),document.body.removeEventListener("keydown",Ek),nc.placeholder=A+w,e&&document.body.addEventListener("keydown",wk,!1),pk=!1}function Ak(){if(null!==nc){var e=nc.cloneNode(!0);nc.parentNode.replaceChild(e,nc),nc=document.getElementById("search_input")}}function Ek(e){switch(e.keyCode){case Va:d_()?s_():u_()?c_():(gk(),y_());break;case Ha:nc.value="";break;case Ja:case Ra:Ck(!0),mk=1,bk();break;case Da:nc.value=nc.value.slice(0,-1);break;case Fa:nc.value+=" "}}var Mk=0,Ik=0,Sk=!1,xk=0,Pk={},Lk=[],Tk=!1,Bk=0,Ok=5,Gk=3500,Uk=0,Rk=0,Nk=!1,Vk=!1,Dk=!1,Jk="",Fk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Hk(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=kc,Uc.Search_isSearching=!0,E_(),Jk!==Uc.Search_data&&(Vk=!1),Hu("top_bar_user",n+M_(_+" '"+Uc.Search_data+"'")),document.body.addEventListener("keydown",nC,!1),Vk?(O_(Mk),Vu(Fk[10]),eC(),w_()):zk()}function qk(){A_(),document.body.removeEventListener("keydown",nC),Nu(Fk[10])}function zk(){P_("stream_table_search_live"),Nu(Fk[10]),Xu(),i_(),Jk=Uc.Search_data,Vk=!1,Ef=!(Dk=!(Lk=[])),Mk=Ik=xk=Rk=Uk=0,Sk=!(Pk={}),$u(),Xk(),Yk()}function Xk(){T_(),Tk=!0,Bk=0,Gk=3500}function Yk(){var e=xk+Uk;e&&Rk-1<e&&(e=Rk-tu,Sk=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Uc.Search_data)+"&limit="+tu+"&offset="+e;Iu&&!xk?Jf(t,Gk,2,null,Wk,jk):Ff(t,Gk,2,null,Wk,jk,!1)}function jk(){++Bk<Ok?(Gk+=500,Yk()):(Tk=!1,xk?(Sk=!0,Qk()):(Ef=!1,Yu(),a_(P)))}function Wk(e){var t=JSON.parse(e),n=t.streams.length;Rk=parseInt(t._total),n<tu&&(Sk=!0);var a=xk;Nk=!(xk+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/nu+_,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,Pk[r]?o--:(Pk[r]=1,d.appendChild(J_(s,s+"_"+o,[l.channel.name,r],Fk,[l.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+iv(l.created_at)+" "+h+__(l.viewers)+J,f_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<nu;o++)Sk&&!Dk&&(Dk=!0,xk=s*nu+o),d.appendChild(R_(Fk[9]+s+"_"+o)),Lk.push(Fk[9]+s+"_"+o);u.appendChild(d)}Qk()}function Qk(){if(Vk){if(L_(xa),0<Lk.length&&!Sk)return Xk(),void Zk();eC(!0),Lk=[]}else Nk?a_(d):(Vk=!0,L_(xa),eC(),w_()),Vu(Fk[10]),Ef=!1,Yu();Tk=!1}function Zk(){n_(Lk.length);var e=xk+Uk;e&&Rk-1<e&&(e=Rk-cu,Sk=!0),Vf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Uc.Search_data)+"&limit="+cu+"&offset="+e,Gk,2,null,$k,Kk)}function Kk(){++Bk<Ok?(Gk+=500,Zk()):(Sk=!0,xk-=Lk.length,Lk=[],Qk())}function $k(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Rk=parseInt(a._total),i<cu&&(Sk=!0);o<Lk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,Pk[n]?o--:(Pk[n]=1,F_(Lk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+iv(t.created_at)+" "+h+__(t.viewers)+J,f_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Fk),d.push(o));for(o=d.length-1;-1<o;o--)Lk.splice(d[o],1);Uk+=s,Sk&&(xk-=Lk.length,Lk=[]),Qk()}function eC(e){Z_(Mk,Ik,Fk,nu,xk,e),xk/nu<Mk+au&&!Sk&&!Tk&&(Xk(),Yk()),Vc&&tC()}function tC(){xk&&df(Mk+"_"+Ik,Fk)}function nC(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(tC(),If(nC));break;case Oa:if(h_(Mk,Ik-1,Fk[0]))tC(),Ik--,eC();else for(t=nu-1;-1<t;t--)if(h_(Mk-1,t,Fk[0])){tC(),Mk--,Ik=t,eC();break}break;case Ua:h_(Mk,Ik+1,Fk[0])?(tC(),Ik++,eC()):h_(Mk+1,0,Fk[0])&&(tC(),Mk++,Ik=0,eC());break;case Ga:for(t=0;t<nu;t++)if(h_(Mk-1,Ik-t,Fk[0])){tC(),Mk--,Ik-=t,eC();break}break;case Ra:for(t=0;t<nu;t++)if(h_(Mk+1,Ik-t,Fk[0])){tC(),Mk++,Ik-=t,eC();break}break;case Ta:case La:case Ba:case Na:ef(Mk+"_"+Ik,Fk,nC)}}var aC=0,iC={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:oC(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function oC(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+nv(t)),t-=900;for(e.push(nv(0)),t=900,n=0;n<48;n++)e.push(nv(t)),t+=900;return e}var sC=[],dC=0;function lC(){g_(),Nu("label_side_panel"),Ru("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",IC,!1),qu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ju("top_bar_user","icon_center_focus"),Vu("settings_scroll"),bC(aC=0),mC("content_lang",Yn,xC)}function rC(){document.body.removeEventListener("keydown",IC),Vu("label_side_panel"),wC(),qu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Fu("top_bar_user","icon_center_focus"),Ru("label_refresh","icon-refresh",t+Yt),Nu("settings_scroll")}function cC(){var e,t="";t+=uC("general",gn),e="content_lang",sC.push(e),iC[e].values=[jn],t+=fC(e,Yn,""),e="clock_offset",sC.push(e),t+=_C(e,zn),e="restor_playback",sC.push(e),iC[e].values=[Pn,xn],t+=fC(e,Ln,Tn),e="videos_animation",sC.push(e),iC[e].values=[Pn,xn],t+=_C(e,Un),t+=uC("play",_n),e="chat_font_size",sC.push(e),t+=fC(e,Bn,On),e="chat_brightness",sC.push(e),t+=_C(e,aa),e="force_disable_chat",sC.push(e),iC[e].values=[Ft,L],t+=fC(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",sC.push(e),t+=_C(e,hn),e="buffer_vod",sC.push(e),t+=_C(e,pn),e="buffer_clip",sC.push(e),Hu("settings_main",t+=_C(e,vn)),dC=sC.length,RC()}function uC(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function _C(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function fC(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function mC(e,t,n){Hu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function hC(){var e="";for(e in qu("setting_title_general",gn),qu((e="clock_offset")+"_name",zn),qu((e="content_lang")+"_name",Yn),qu(e,vC(e)),iC[e].values=[jn],qu("setting_title_play",_n),qu("setting_title_buffers",fn),qu("setting_title_buffers_summary",mn),qu((e="buffer_live")+"_name",hn),qu((e="buffer_vod")+"_name",pn),qu((e="buffer_clip")+"_name",vn),mC(e="restor_playback",Ln,Tn),iC[e].values=[Pn,xn],mC(e="chat_font_size",Bn,On),mC(e="force_disable_chat",ta,na),iC[e].values=[Pn,xn],qu((e="videos_animation")+"_name",Un),iC[e].values=[Pn,xn],qu((e="chat_brightness")+"_name",aa),iC)iC.hasOwnProperty(e)&&qu(e,vC(e));UC()}function pC(){for(var e in iC)iC[e].defaultValue=Of(e,iC[e].defaultValue),iC[e].defaultValue-=1,iC[e].defaultValue>yC(e)&&(iC[e].defaultValue=0);EC(0),MC(),lh=(.05*gC("chat_brightness")).toFixed(2),fS=gC("videos_animation"),Uc.Play_ChatForceDisable=gC("force_disable_chat")}function vC(e){return iC[e].values[gC(e)]}function gC(e){return iC[e].defaultValue}function yC(e){return iC[e].values.length-1}function bC(e){var t=sC[aC];Ju(t,"settings_value_focus"),Ju(t+"_div","settings_div_focus"),CC(e)}function wC(){var e=sC[aC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Fu(e,"settings_value_focus"),Fu(e+"_div","settings_div_focus")}function kC(e){var t=sC[e];Bf(t,gC(t)+1),qu(t,vC(t)),CC(e),AC(e)}function CC(e){var t=sC[e];if(yC(t)){var n=gC(t),a=yC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function AC(e){"videos_animation"===(e=sC[e])?fS=gC("videos_animation"):"buffer_live"===e?EC(1):"buffer_vod"===e?EC(2):"buffer_clip"===e?EC(3):"chat_brightness"===e?(lh=(.05*gC("chat_brightness")).toFixed(2),Rv(!1)):"force_disable_chat"===e?Uc.Play_ChatForceDisable=gC("force_disable_chat"):"chat_font_size"===e?Ap():"clock_offset"===e&&(MC(),ff())}function EC(e){try{e?1===e?(vh=1e3*vC("buffer_live"),Iu&&Android.SetBuffer(1,vh)):2===e?(Ug=1e3*vC("buffer_vod"),Iu&&Android.SetBuffer(2,Ug)):3===e&&(mm=1e3*vC("buffer_clip"),Iu&&Android.SetBuffer(3,mm)):(vh=1e3*vC("buffer_live"),Ug=1e3*vC("buffer_vod"),mm=1e3*vC("buffer_clip"),Iu&&(Android.SetBuffer(1,vh),Android.SetBuffer(2,Ug),Android.SetBuffer(3,mm)))}catch(e){}}function MC(){var e=gC("clock_offset");Mu=e<48?-9e5*(48-e):9e5*(e-48)}function IC(e){var t;switch(e.keyCode){case Va:d_()?s_():u_()?c_():(rC(),y_());break;case Oa:0<gC(t=sC[aC])&&(iC[t].defaultValue-=1,kC(aC));break;case Ua:gC(t=sC[aC])<yC(t)&&(iC[t].defaultValue+=1,kC(aC));break;case Ga:0<aC&&(wC(),bC(--aC));break;case Ra:aC<dC-1&&(wC(),bC(++aC));break;case Na:aC||BC()}}var SC=0,xC="",PC={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},LC=[],TC=0;function BC(){g_(),document.body.removeEventListener("keydown",IC),Nu("settings_main"),Vu("settings_lang"),jC(),qu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",WC,!1),HC(SC=0),GC()}function OC(){document.body.removeEventListener("keydown",WC),document.body.addEventListener("keydown",IC,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Vu("settings_main"),Nu("settings_lang"),qu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",qC(),UC(),GC()}function GC(){""===Yc&&(xC=Wn,PC.All.defaultValue=1,XC(0),Ju(LC[0],"strokedextraminired"),jC()),mC("content_lang",Yn,xC)}function UC(){if(Yc="",!JC("All")){for(var e in PC)JC(e)&&(Yc+=","+PC[e].set_values);Yc=Yc.slice(1)}xC=""===Yc?Wn:Yc.toUpperCase()}function RC(){var e="";for(var t in PC)LC.push(t),PC[t].values=[L,Ft],e+=NC(t,t);Hu("settings_lang",e),TC=LC.length}function NC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(JC(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+DC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function VC(){for(var e in PC)PC[e].defaultValue=Of(e,PC[e].defaultValue),PC[e].defaultValue-=1;UC()}function DC(e){return PC[e].values[JC(e)]}function JC(e){return PC[e].defaultValue}function FC(e){return PC[e].values.length-1}function HC(e){var t=LC[SC];Ju(t,"settings_value_focus"),Ju(t+"_div","settings_div_focus"),YC(e),zC(t)}function qC(){var e=LC[SC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Fu(e,"settings_value_focus"),Fu(e+"_div","settings_div_focus")}function zC(){var e=screen.height;7<SC?(e*=.093,e+=-1*document.getElementById(LC[SC-7]).offsetTop):e*=.077,SC<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function XC(e){var t=LC[e];Bf(t,JC(t)+1),qu(t,DC(t)),YC(e)}function YC(e){var t=LC[e],n=JC(t),a=FC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function jC(){for(var e in PC)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=JC("All")?"none":"inline-block")}function WC(e){var t;switch(e.keyCode){case Va:OC();break;case Oa:0<JC(t=LC[SC])&&(PC[t].defaultValue-=1,XC(SC),Fu(LC[SC],"strokedextraminired"),-1!==t.indexOf("All")&&jC());break;case Ua:JC(t=LC[SC])<FC(t)&&(PC[t].defaultValue+=1,XC(SC),Ju(LC[SC],"strokedextraminired"),-1!==t.indexOf("All")&&jC());break;case Ga:0<SC&&(qC(),HC(--SC));break;case Ra:!JC("All")&&SC<TC-1&&(qC(),HC(++SC))}}var QC=0,ZC=0,KC=!1,$C=0,eA=!1,tA=0,nA=5,aA=3500,iA=[],oA=0,sA=0,dA=!1,lA=!1,rA="",cA=!1,uA={},_A=[],fA=0,mA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function hA(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=Ic,Uc.isLastSChannels=!1,Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+K)),document.body.addEventListener("keydown",xA,!1),rA!==Xi[Uc.Users_Position].name&&(lA=!1),lA?(O_(QC),Vu(mA[6]),IA(),w_()):vA()}function pA(){Uc.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",xA),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn),Nu(mA[6])}function vA(){P_("stream_table_user_channels"),Nu(mA[6]),Xu(),i_(),rA=Xi[Uc.Users_Position].name,lA=!1,uA={},QC=ZC=$C=fA=oA=sA=0,Ef=!(cA=KC=!(_A=[])),$u(),iA=[],gA(),yA()}function gA(){T_(),eA=!0,tA=0,aA=3500}function yA(){var e=$C+sA;e&&fA-1<e&&(e=fA-du,KC=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Uc.Users_Position].id)+"/follows/channels?limit="+du+"&offset="+e+"&sortby=login&direction=asc";Iu&&!$C?Jf(t,aA,2,null,wA,bA):Ff(t,aA,2,null,wA,bA,!1)}function bA(){++tA<nA?(aA+=500,yA()):(eA=!1,$C?(KC=!0,CA()):(Ef=!1,Yu(),a_(P),If(xA)))}function wA(e){var t=JSON.parse(e),n=t.follows.length;fA=parseInt(t._total),n<du&&(KC=!0);var a=$C;dA=!($C+=n);var i=n/lu;0<n%lu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/lu+_,d=document.createElement("tr"),o=0;o<lu&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,uA[r]?o--:(uA[r]=1,d.appendChild(kA(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<lu;o++)KC&&!cA&&(cA=!0,$C=s*lu+o),d.appendChild(R_(mA[5]+s+"_"+o)),_A.push(mA[5]+s+"_"+o);u.appendChild(d)}CA()}function kA(e,t,n){return e<4&&U_(n[2]),N_(t,mA,n)}function CA(){if(lA){if(L_(Sa),0<_A.length&&!KC)return gA(),void AA();IA(!0),_A=[]}else dA?(a_(L+K),If(xA)):(lA=!0,L_(Sa),IA(),w_()),Vu(mA[6]),Ef=!1,Yu();eA=!1}function AA(){n_(_A.length);var e=$C+sA;e&&fA-1<e&&(e=fA-cu,KC=!0),Vf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Uc.Users_Position].id)+"/follows/channels?limit="+cu+"&offset="+oA+"&sortby=login&direction=asc",aA,2,null,MA,EA)}function EA(){++tA<nA?(aA+=500,AA()):(KC=!0,$C-=_A.length,_A=[],CA())}function MA(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(fA=parseInt(a._total),i<cu&&(KC=!0);o<_A.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,uA[n]?o--:(uA[n]=1,V_(_A[o],[t.name,n,t.logo,t.display_name],mA),d.push(o));for(o=d.length-1;-1<o;o--)_A.splice(d[o],1);sA+=s,KC&&($C-=_A.length,_A=[]),CA()}function IA(e){Q_(QC,ZC,mA,lu,$C,e),$C/lu<QC+ru&&!KC&&!eA&&(gA(),yA()),Vc&&SA()}function SA(){$C&&df(QC+"_"+ZC,mA)}function xA(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(SA(),If(xA));break;case Oa:if(h_(QC,ZC-1,mA[0]))SA(),ZC--,IA();else for(t=lu-1;-1<t;t--)if(h_(QC-1,t,mA[0])){SA(),QC--,ZC=t,IA();break}break;case Ua:h_(QC,ZC+1,mA[0])?(SA(),ZC++,IA()):h_(QC+1,0,mA[0])&&(SA(),QC++,ZC=0,IA());break;case Ga:for(t=0;t<lu;t++)if(h_(QC-1,ZC-t,mA[0])){SA(),QC--,ZC-=t,IA();break}break;case Ra:for(t=0;t<lu;t++)if(h_(QC+1,ZC-t,mA[0])){SA(),QC++,ZC-=t,IA();break}break;case Ta:case La:case Ba:case Na:if($_(QC+"_"+ZC,mA[0]))return;Uc.Main_selectedChannel=document.getElementById(mA[4]+QC+"_"+ZC).getAttribute(bu),Uc.Main_selectedChannel_id=document.getElementById(mA[4]+QC+"_"+ZC).getAttribute("data-id"),Uc.Main_selectedChannelDisplayname=document.getElementById(mA[3]+QC+"_"+ZC).textContent,Uc.Main_selectedChannelLogo=document.getElementById(mA[1]+QC+"_"+ZC).src,document.body.removeEventListener("keydown",xA),Uc.Main_BeforeChannel=Ic,Uc.Main_Go=Cc,Uc.Main_BeforeChannelisSet=!0,Qs=ja=!0,Nu(mA[6]),y_()}}var PA=0,LA=0,TA=!1,BA=0,OA={},GA=[],UA=!1,RA=0,NA=5,VA=3500,DA=0,JA=0,FA=!1,HA=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],qA=!1,zA="",XA=!1;function YA(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=gc,Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+Q)),document.body.addEventListener("keydown",sE,!1),zA!==Xi[Uc.Users_Position].name&&(qA=!1),qA?(O_(PA),Vu(HA[10]),iE(),w_()):WA()}function jA(){Uc.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",sE),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn),Nu(HA[10])}function WA(){P_("stream_table_user_host"),Nu(HA[10]),Xu(),i_(),zA=Xi[Uc.Users_Position].name,qA=!1,OA={},Ef=!(BA=JA=DA=0),PA=LA=0,TA=XA=!(GA=[]),$u(),QA(),ZA()}function QA(){T_(),UA=!0,RA=0,VA=3500}function ZA(){var e=BA+DA;e&&JA-1<e&&(e=JA-tu,TA=!0),Df("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Uc.Users_Position].name)+"/followed/hosting?limit="+tu+"&offset="+e,VA,2,null,$A,KA,!1,!BA)}function KA(){++RA<NA?(VA+=500,ZA()):(UA=!1,BA?(TA=!0,eE()):(Ef=!1,Yu(),a_(P),If(sE)))}function $A(e){var t=JSON.parse(e),n=t.hosts.length;JA=parseInt(t._total),n<tu&&(TA=!0);var a=BA;FA=!(BA+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/nu+_,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,OA[r]?o--:(OA[r]=1,d.appendChild(J_(s,s+"_"+o,[l.target.channel.name,l.target._id],HA,[l.target.preview_urls.template.replace("{width}x{height}",vu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+__(l.target.viewers)+J,""])));for(;o<nu;o++)TA&&!XA&&(XA=!0,BA=s*nu+o),d.appendChild(R_(HA[9]+s+"_"+o)),GA.push(HA[9]+s+"_"+o);u.appendChild(d)}eE()}function eE(){if(qA){if(L_(xa),0<GA.length&&!TA)return QA(),void tE();iE(!0),GA=[]}else FA?(a_(L+Q),If(sE)):(qA=!0,iE(),L_(xa),w_()),Vu(HA[10]),Ef=!1,Yu();UA=!1}function tE(){n_(GA.length);var e=BA+DA;e&&JA-1<e&&(e=JA-cu,TA=!0),Vf("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Uc.Users_Position].name)+"/followed/hosting?limit="+cu+"&offset="+e,VA,2,null,aE,nE)}function nE(){++RA<NA?(VA+=500,tE()):(TA=!0,BA-=GA.length,GA=[],eE())}function aE(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(JA=parseInt(a._total),i<cu&&(TA=!0);o<GA.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,OA[n]?o--:(OA[n]=1,F_(GA[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",vu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+__(t.target.viewers)+J,""],HA),d.push(o));for(o=d.length-1;-1<o;o--)GA.splice(d[o],1);DA+=s,TA&&(BA-=GA.length,GA=[]),eE()}function iE(e){Z_(PA,LA,HA,nu,BA,e),BA/nu<PA+au&&!TA&&!UA&&(QA(),ZA()),Vc&&oE()}function oE(){BA&&df(PA+"_"+LA,HA)}function sE(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(oE(),If(sE));break;case Oa:if(h_(PA,LA-1,HA[0]))oE(),LA--,iE();else for(t=nu-1;-1<t;t--)if(h_(PA-1,t,HA[0])){oE(),PA--,LA=t,iE();break}break;case Ua:h_(PA,LA+1,HA[0])?(oE(),LA++,iE()):h_(PA+1,0,HA[0])&&(oE(),PA++,LA=0,iE());break;case Ga:for(t=0;t<nu;t++)if(h_(PA-1,LA-t,HA[0])){oE(),PA--,LA-=t,iE();break}break;case Ra:for(t=0;t<nu;t++)if(h_(PA+1,LA-t,HA[0])){oE(),PA++,LA-=t,iE();break}break;case Ta:case La:case Ba:case Na:ef(PA+"_"+LA,HA,sE)}}var dE,lE=!1,rE=0,cE=3500,uE=0,_E=5,fE=0,mE=!1,hE="",pE=0,vE={},gE=!1,yE=[],bE=null,wE=null,kE=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function CE(){ro()&&(JE(),gE?jE(ph,kE[0])&&(bE=JSON.parse(document.getElementById(kE[8]+ph).getAttribute(bu))[0]):bE=null,P_("user_feed_scroll"),gE=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Vu("dialog_loading_feed"),hE="",ph=pE=fE=uE=0,vE={},yE=[],cf(function(){IE(),AE()}))}function AE(){(wE=Xi[Uc.Users_Position].access_token)?(wE=hu+wE,LE()):(IE(),wE=null,SE())}function EE(e){for(var t,n=0;n<yE.length;n++)null!==(t=document.getElementById(yE[n].id))&&Pu(t,yE[n].src+Su,e)}function ME(e,t){yE.push({id:e,src:t})}function IE(){lE=!0,rE=0,cE=3500}function SE(){Ff("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Uc.Users_Position].id)+"/follows/channels?limit=100&offset="+uE+"&sortby=created_at",cE,2,null,PE,xE,!1)}function xE(){++rE<_E?(cE+=500,SE()):(lE=!1,fE?(mE=!0,GE()):(Nu("dialog_loading_feed"),RE()&&(fv(P),window.setTimeout(function(){mv()},2e3))))}function PE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===hE.indexOf(a)&&(hE+=a);uE+=n,IE(),SE()}else hE=hE.slice(0,-1),IE(),cf(LE)}function LE(){var e="https://api.twitch.tv/kraken/streams/";e+=wE?"followed?":"?channel="+encodeURIComponent(hE)+"&",TE(e+="limit=100&offset=0&stream_type=all")}function TE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=cE,t.setRequestHeader(_u,uu),t.setRequestHeader(fu,pu),wE&&t.setRequestHeader(mu,wE),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?OE(t.responseText):!wE||401!==t.status&&403!==t.status?BE():ni(Uc.Users_Position,0,AE,AE))},t.send(null)}function BE(){++rE<_E?(cE+=500,LE()):(lE=!1,Nu("dialog_loading_feed"),RE()&&(fv(P),window.setTimeout(function(){mv()},2e3)))}function OE(e){var t=JSON.parse(e),n=t.streams.length;n<tu&&(mE=!0),fE+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,vE[i]||(vE[i]=1,null!==bE&&bE===a.channel.name&&(ph=s),o.appendChild(UE(s,[a.channel.name,i],kE,[a.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+iv(a.created_at)+" "+h+__(a.viewers)+J,f_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));GE()}function GE(){gE=!(lE=!1),EE(xa),cf(function(){Nu("dialog_loading_feed"),qE()})}function UE(e,t,n,a){return ME(n[1]+e,a[0]),(zc=document.createElement("div")).setAttribute("id",n[8]+e),zc.setAttribute(bu,JSON.stringify(t)),zc.className="user_feed_thumb",zc.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",zc}function RE(){return Du("user_feed")}function NE(){var e=ro();e&&(hh!==Xi[Uc.Users_Position].name&&(gE=!1),hh=Xi[Uc.Users_Position].name),e&&jE(0,kE[0])||(gE=!1),gE||lE||CE(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Vu("user_feed"),qE())}function VE(){Nu("user_feed")}function DE(){JE(),FE()}function JE(){window.clearTimeout(dE)}function FE(){RE()&&(dE=window.setTimeout(VE,5500))}function HE(){JE(),lE?window.setTimeout(function(){lE=!1},15e3):CE()}function qE(){DE(),jE(ph,kE[0])&&(Ju(kE[0]+ph,"feed_thumbnail_focused"),RE()?XE():Du("scene2")&&YE())}function zE(){return ph<3?2.5:jE(ph+2,kE[0])?-1*document.getElementById(kE[8]+(ph-2)).offsetLeft:jE(ph+1,kE[0])?-1*document.getElementById(kE[8]+(ph-3)).offsetLeft:-1*document.getElementById(kE[8]+(ph-(3<ph?4:3))).offsetLeft}function XE(){var e=zE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function YE(){document.getElementById("user_feed").style.bottom="-1000%",Vu("user_feed");var e=XE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Nu("user_feed")}function jE(e,t){return null!==document.getElementById(t+e)}function WE(){jE(ph,kE[0])&&Fu(kE[0]+ph,"feed_thumbnail_focused")}var QE=0,ZE=0,KE=!1,$E=0,eM={},tM=[],nM=!1,aM=0,iM=5,oM=3500,sM=0,dM=0,lM=0,rM=!1,cM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],uM=!1,_M="",fM="",mM=!1,hM=null;function pM(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=vc,Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+W)),document.body.addEventListener("keydown",OM,!1),fM!==Xi[Uc.Users_Position].name&&(uM=!1),uM?(O_(QE),Vu(cM[10]),TM(),w_()):gM()}function vM(){Uc.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",OM),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn),Nu(cM[10])}function gM(){P_("stream_table_user_live"),Nu(cM[10]),Xu(),i_(),uM=!1,fM=Xi[Uc.Users_Position].name,Ef=!(mM=!(tM=[])),QE=ZE=$E=dM=sM=lM=0,KE=!(eM={}),_M="",$u(),bM(),yM()}function yM(){(hM=Xi[Uc.Users_Position].access_token)?(hM=hu+hM,AM()):(hM=null,bM(),wM())}function bM(){T_(),nM=!0,aM=0,oM=3500}function wM(){Vf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Uc.Users_Position].id)+"/follows/channels?limit=100&offset="+lM+"&sortby=created_at",oM,2,null,CM,kM)}function kM(){++aM<iM?(oM+=500,wM()):(nM=!1,$E?(KE=!0,SM()):(Ef=!1,Yu(),a_(P),If(OM)))}function CM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===_M.indexOf(a)&&(_M+=a);lM+=n,bM(),wM()}else _M=_M.slice(0,-1),bM(),AM()}function AM(){var e=$E+sM;e&&dM-1<e&&(e=dM-tu,KE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=hM?"followed?":"?channel="+encodeURIComponent(_M)+"&",EM(t+="limit="+tu+"&offset="+e+"&stream_type=all",IM,MM,yM)}function EM(e,t,n,a){var i;if(Iu&&!$E){if(!(i=Android.mreadUrl(e,oM,hM?3:2,hM)))return void TI();200===(i=JSON.parse(i)).status?t(i.responseText):!hM||401!==i.status&&403!==i.status?n():ni(Uc.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=oM,i.setRequestHeader(_u,uu),i.setRequestHeader(fu,pu),hM&&i.setRequestHeader(mu,hM),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!hM||401!==i.status&&403!==i.status?n():ni(Uc.Users_Position,0,a,a))},i.send(null)}function MM(){++aM<iM?(oM+=500,AM()):(nM=!1,$E?(KE=!0,SM()):(Ef=!1,Yu(),a_(P),If(OM)))}function IM(e){var t=JSON.parse(e),n=t.streams.length;dM=parseInt(t._total),n<tu&&(KE=!0);var a=$E;rM=!($E+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/nu+_,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,eM[r]?o--:(eM[r]=1,d.appendChild(J_(s,s+"_"+o,[l.channel.name,r],cM,[l.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+iv(l.created_at)+" "+h+__(l.viewers)+J,f_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<nu;o++)KE&&!mM&&(mM=!0,$E=s*nu+o),d.appendChild(R_(cM[9]+s+"_"+o)),tM.push(cM[9]+s+"_"+o);u.appendChild(d)}SM()}function SM(){if(uM){if(L_(xa),0<tM.length&&!KE)return bM(),void xM();TM(!0),tM=[]}else rM?(If(OM),a_(L+W)):(uM=!0,TM(),L_(xa),w_()),Vu(cM[10]),Ef=!1,Yu();nM=!1}function xM(){n_(tM.length);var e=$E+sM;e&&dM-1<e&&(e=dM-cu,KE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=hM?"followed?":"?channel="+encodeURIComponent(_M)+"&",EM(t+="followed?limit=limit="+cu+"&offset="+e+"&stream_type=all",LM,PM,xM)}function PM(){++aM<iM?(oM+=500,xM()):(KE=!0,$E-=tM.length,tM=[],SM())}function LM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(dM=parseInt(a._total),i<cu&&(KE=!0);o<tM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,eM[n]?o--:(eM[n]=1,F_(tM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+iv(t.created_at)+" "+h+__(t.viewers)+J,f_(t.video_height,t.average_fps,t.channel.broadcaster_language)],cM),d.push(o));for(o=d.length-1;-1<o;o--)tM.splice(d[o],1);sM+=s,KE&&($E-=tM.length,tM=[]),SM()}function TM(e){Z_(QE,ZE,cM,nu,$E,e),$E/nu<QE+au&&!KE&&!nM&&(bM(),wM()),Vc&&BM()}function BM(){$E&&df(QE+"_"+ZE,cM)}function OM(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(BM(),If(OM));break;case Oa:if(h_(QE,ZE-1,cM[0]))BM(),ZE--,TM();else for(t=nu-1;-1<t;t--)if(h_(QE-1,t,cM[0])){BM(),QE--,ZE=t,TM();break}break;case Ua:h_(QE,ZE+1,cM[0])?(BM(),ZE++,TM()):h_(QE+1,0,cM[0])&&(BM(),QE++,ZE=0,TM());break;case Ga:for(t=0;t<nu;t++)if(h_(QE-1,ZE-t,cM[0])){BM(),QE--,ZE-=t,TM();break}break;case Ra:for(t=0;t<nu;t++)if(h_(QE+1,ZE-t,cM[0])){BM(),QE++,ZE-=t,TM();break}break;case Ta:case La:case Ba:case Na:ef(QE+"_"+ZE,cM,OM)}}var GM=0,UM=0,RM=8,NM=0,VM=null,DM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],JM=!1,FM=!0;function HM(){return Jc?(qM(),void ti(Jc)):ho()?(Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=Mc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",i_(),Ju("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",oI,!1),void(JM?(O_(GM),Vu(DM[5]),QM(),w_()):zM())):(Uc.Main_Go=fc,qM(),void y_())}function qM(){Uc.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",oI),Nu(DM[5]),document.getElementById("screens_holder").style.top="0"}function zM(){P_("stream_table_user"),Nu(DM[5]),Xu(),i_(),Ef=!(JM=!1),FM=!(GM=UM=0),cf(function(){XM()})}function XM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Xi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(zc=document.createElement("tr")).className="follower_header",zc.innerHTML='<div class="follower_header">'+(o?"":oe)+Xi[o].name+R+"</div>",i.appendChild(a),i.appendChild(zc),(e=document.createElement("tr")).appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,qb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(YM(o+"_"+t,Uc.Main_selectedChannelDisplayname,Xi[o].access_token?wt:bt,"key",n)),i.appendChild(e);jM()}function YM(e,t,n,a,i){return(zc=document.createElement("td")).setAttribute("id",DM[4]+e),zc.setAttribute(bu,t),zc.className="stream_cell",zc.innerHTML='<div id="'+DM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+DM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+DM[2]+e+'" class="stream_text"><div id="'+DM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",zc}function jM(){cf(function(){JM||(JM=!0,QM(),Yu(),w_()),Vu(DM[5]),FM=Ef=!1})}function WM(){for(var e=0;e<Xi.length;e++)qu(DM[3]+e+"_2",qb.isLive?Z:zt)}function QM(){Ju(DM[0]+GM+"_"+UM,"stream_thumbnail_focused"),G_(GM)?1<GM?h_(GM+1,0,DM[0])&&sf(DM[5],-1*document.getElementById(DM[4]+GM+"_"+UM).offsetTop+500):sf(DM[5],screen.height/100*7):X_(),Vc&&ZM()}function ZM(){Nc=!1,Fu(DM[0]+GM+"_"+UM,"stream_thumbnail_focused")}function KM(){return Uc.Users_Position=GM,3!==UM||Xi[Uc.Users_Position].access_token?7===UM&&Xi[Uc.Users_Position].access_token?(a_(wt),void window.setTimeout(i_,1500)):(6!==UM&&7!==UM&&(Nu(DM[5]),document.body.removeEventListener("keydown",oI),document.getElementById("screens_holder").style.top="0"),void cf(function(){UM?1===UM?YA():2===UM?(cb=qb,hb()):3===UM?MI():4===UM?hA():5===UM?GM?fo(GM):(Uc.Main_Before=Mc,Qi()):6===UM?tI():7!==UM||Xi[Uc.Users_Position].access_token||tI():pM()})):(a_(In),void window.setTimeout(i_,5e3))}function $M(){window.clearTimeout(VM)}function eI(){VM=window.setTimeout(nI,2e4)}function tI(){eI(),6===UM?Hu("main_dialog_remove",Ht+ca+Xi[Uc.Users_Position].name+"?"):7===UM&&Hu("main_dialog_remove",ft+" "+Xi[Uc.Users_Position].name+"?"),Vu("main_remove_dialog")}function nI(){$M(),Nu("main_remove_dialog"),NM=0,iI()}function aI(){return Du("main_remove_dialog")}function iI(){NM?(Fu("remove_cancel","button_search_focused"),Ju("remove_yes","button_search_focused")):(Ju("remove_cancel","button_search_focused"),Fu("remove_yes","button_search_focused"))}function oI(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:aI()?nI():d_()?s_():u_()?c_():(ZM(),If(oI));break;case Oa:if(aI())--NM<0&&(NM=1),iI(),$M(),eI();else if(h_(GM,UM-1,DM[0]))ZM(),UM--,QM();else if(h_(GM-1,0,DM[0])){for(t=RM-1;-1<t;t--)if(h_(GM-1,t,DM[0])){ZM(),GM--,UM=t,QM();break}}else ZM(),UM=RM-1,QM();break;case Ua:aI()?(1<++NM&&(NM=0),iI(),$M(),eI()):(h_(GM,UM+1,DM[0])?(ZM(),UM++):(h_(GM+1,0,DM[0])?(ZM(),GM++):ZM(),UM=0),QM());break;case Ga:for(t=0;t<RM;t++)if(h_(GM-1,UM-t,DM[0])){ZM(),GM--,UM-=t,QM();break}break;case Ra:for(t=0;t<RM;t++)if(h_(GM+1,UM-t,DM[0])){ZM(),GM++,UM-=t,QM();break}break;case Ta:case La:case Ba:case Na:var n;if(aI()){if(6===UM)n=NM,nI(),n&&(document.body.removeEventListener("keydown",oI),qM(),uo(GM));else if(n=NM,nI(),n){Uc.Users_AddcodePosition=Uc.Users_Position,w_();var a=Ka,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(uu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else KM()}}var sI=0,dI=0,lI=!1,rI=0,cI={},uI=[],_I=!1,fI=0,mI=5,hI=3500,pI=0,vI=0,gI=!1,yI=!1,bI="time",wI=2,kI=!1,CI=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],AI=!1,EI=!1;function MI(){Uc.Main_CenterLablesVectorPos=1,Uc.Main_Go=Oc,Ju("top_bar_user","icon_center_focus"),Ru("label_side_panel","icon-arrow-circle-left",I),Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+(EI?G:O))),document.body.addEventListener("keydown",qI,!1),AI?(O_(sI),Vu(CI[10]),zI(),DI(),w_()):SI()}function II(){Uc.Users_Position=0,AI&&JI(),Fu("top_bar_user","icon_center_focus"),Ru("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",qI),qu("top_bar_user",u),Nu(CI[10])}function SI(){AI&&JI(),P_("stream_table_user_vod"),Nu(CI[10]),Xu(),zI(),i_(),kI=AI=!1,Ef=!(yI=!(uI=[])),sI=dI=rI=vI=pI=0,lI=!(cI={}),$u(),PI()}function xI(){T_(),_I=!0,fI=0,hI=3500}function PI(){xI(),LI()}function LI(){var e=rI+pI;e&&vI-1<e&&(e=vI-tu,lI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+tu+"&broadcast_type="+(EI?"highlight":"archive")+"&sort="+bI+"&offset="+e;if(Iu&&!rI){if(!(t=Android.mreadUrl(n,hI,3,hu+Xi[Uc.Users_Position].access_token)))return void TI();200===(t=JSON.parse(t)).status?OI(t.responseText):401===t.status||403===t.status?ni(Uc.Users_Position,0,PI,BI):TI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=hI,t.setRequestHeader(fu,pu),t.setRequestHeader(_u,uu),t.setRequestHeader(mu,hu+Xi[Uc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?OI(t.responseText):401===t.status||403===t.status?ni(Uc.Users_Position,0,PI,BI):TI())},t.send(null)}function TI(){++fI<mI?(hI+=500,LI()):BI()}function BI(){_I=!1,rI?(lI=!0,GI()):(Ef=!1,Yu(),a_(P),If(sE),Xi[Uc.Users_Position].access_token||(II(),Uc.Main_Go=Mc,II(),Sf(),b_()))}function OI(e){var t=JSON.parse(e),n=t.videos.length;vI=parseInt(t._total),n<tu&&(lI=!0);var a=rI;gI=!(rI+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!kI){var _;for(kI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(zc=document.createElement("td")).setAttribute("id",CI[8]+"y_"+f),zc.className="stream_cell",zc.innerHTML='<div id="'+CI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+CI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(zc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nu+f,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||cI[r]?o--:(cI[r]=1,d.appendChild(kS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),zS.parse(l.title)+ca+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],CI)));for(;o<nu;o++)lI&&!yI&&(yI=!0,rI=s*nu+o),d.appendChild(R_(CI[9]+s+"_"+o)),uI.push(CI[9]+s+"_"+o);u.appendChild(d)}GI()}function GI(){AI?(L_(xa),DI(!0)):(gI?(a_(L+(EI?G:O)+T+M),If(qI)):(AI=!0,DI(),L_(xa),w_()),Vu(CI[10]),Ef=!1,Yu()),0<uI.length&&!lI?UI():_I=!(uI=[])}function UI(){xI(),RI()}function RI(){n_(uI.length);var e=rI+pI;e&&vI-1<e&&(e=vI-cu,lI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+cu+"&broadcast_type="+(EI?"highlight":"archive")+"&sort="+bI+"&offset="+e;if(Iu){if(!(t=Android.mreadUrl(n,hI,3,hu+Xi[Uc.Users_Position].access_token)))return void NI();if(200===(t=JSON.parse(t)).status)return void VI(t.responseText);401===t.status||403===t.status?ni(Uc.Users_Position,0,PI,BI):NI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=hI,t.setRequestHeader(fu,pu),t.setRequestHeader(_u,uu),t.setRequestHeader(mu,hu+Xi[Uc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void VI(t.responseText);401===t.status||403===t.status?ni(Uc.Users_Position,0,PI,BI):NI()}},t.send(null)}function NI(){++fI<mI?(hI+=500,RI()):(lI=!0,rI-=uI.length,uI=[],GI())}function VI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(vI=parseInt(a._total);o<uI.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||cI[n]?o--:(cI[n]=1,AS(uI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),zS.parse(t.title)+ca+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],CI),d.push(o));for(o=d.length-1;-1<o;o--)uI.splice(d[o],1);pI+=s,lI&&(rI-=uI.length,uI=[]),GI()}function DI(e){sI<0?FI():(Z_(sI,dI,CI,nu,rI,e),OS(CI,sI+"_"+dI),rI/nu<sI+au&&!lI&&!_I&&PI(),Vc&&JI())}function JI(){window.clearInterval(XI),-1<sI&&rI?(Vu(CI[1]+sI+"_"+dI),df(sI+"_"+dI,CI)):HI()}function FI(){var e=1<dI?1:dI;Ju(CI[0]+"y_"+e,yu)}function HI(){var e=1<dI?1:dI;Fu(CI[0]+"y_"+e,yu)}function qI(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:d_()?s_():d_()?s_():u_()?c_():(JI(),If(qI));break;case Oa:if(-1===sI)HI(),--dI<0&&(dI=1),FI();else if(sI||dI){if(h_(sI,dI-1,CI[0]))JI(),dI--,DI();else for(t=nu-1;-1<t;t--)if(h_(sI-1,t,CI[0])){JI(),sI--,dI=t,DI();break}}else JI(),HI(),sI=-1,dI=1,FI();break;case Ua:-1===sI?(HI(),1<++dI?(dI=0,gI?FI():(sI=0,DI())):FI()):h_(sI,dI+1,CI[0])?(JI(),dI++,DI()):h_(sI+1,0,CI[0])&&(JI(),sI++,dI=0,DI());break;case Ga:if(-1!==sI||gI)if(sI){for(t=0;t<nu;t++)if(h_(sI-1,dI-t,CI[0])){JI(),sI--,dI-=t,DI();break}}else JI(),sI=-1,FI();else sI=0,HI(),DI();break;case Ra:if(-1!==sI||gI){for(t=0;t<nu;t++)if(h_(sI+1,dI-t,CI[0])){JI(),sI++,dI-=t,DI();break}}else sI=0,HI(),DI();break;case Ta:case La:case Ba:case Na:-1===sI?(0===dI?Bf("UserVod_highlight",(EI=!EI)?"true":"false"):1===wI?wI++:wI--,SI()):af(sI+"_"+dI,CI,qI)}}function zI(){1===wI?(Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+" "+(EI?G:O)+En)),bI="time"):2===wI&&(Hu("top_bar_user",u+M_(Xi[Uc.Users_Position].name+" "+(EI?G:O)+Mn)),bI="views"),Bf("UserVod_TypeNumber",wI)}var XI,YI=0,jI=0,WI=!1,QI=0,ZI={},KI=[],$I=!1,eS=0,tS=5,nS=3500,aS=0,iS=0,oS=!1,sS=!1,dS="week",lS=2,rS=!1,cS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],uS=!1,_S=!1,fS=1,mS=new Image;function hS(){Uc.Main_CenterLablesVectorPos=4,Uc.Main_Go=xc,Ju("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",GS,!1),uS?(O_(YI),Vu(cS[10]),US(),PS(),w_()):vS()}function pS(){uS&&LS(),A_(),document.body.removeEventListener("keydown",GS),Fu("top_bar_vod","icon_center_focus"),qu("top_bar_vod",Kt),Nu(cS[10])}function vS(){uS&&LS(),P_("stream_table_vod"),Nu(cS[10]),Xu(),US(),i_(),rS=uS=!1,Ef=!(sS=!(KI=[])),YI=jI=QI=iS=aS=0,WI=!(ZI={}),$u(),gS(),yS()}function gS(){T_(),$I=!0,eS=0,nS=3500}function yS(){var e=QI+aS;e&&iS-1<e&&(e=iS-tu,WI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+tu+"&broadcast_type="+(_S?"highlight":"archive")+"&sort=views&offset="+e+"&period="+dS+(""!==Yc?"&language="+Yc:"");Iu&&!QI?Jf(t,nS,2,null,wS,bS):Ff(t,nS,2,null,wS,bS,!1)}function bS(){++eS<tS?(nS+=500,yS()):($I=!1,QI?(WI=!0,MS()):(Ef=!1,Yu(),a_(P)))}function wS(e){var t=JSON.parse(e),n=t.vods.length;iS=parseInt(t._total),n<tu&&(WI=!0);var a=QI;oS=!(QI+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!rS){var _;for(rS=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Aa+Aa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Aa+Aa+p,(zc=document.createElement("td")).setAttribute("id",cS[8]+"y_"+f),zc.className="stream_cell",zc.innerHTML='<div id="'+cS[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+cS[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(zc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nu+f,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ZI[r]?o--:(ZI[r]=1,d.appendChild(kS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),zS.parse(l.title)+ca+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],cS)));for(;o<nu;o++)WI&&!sS&&(sS=!0,QI=s*nu+o),d.appendChild(R_(cS[9]+s+"_"+o)),KI.push(cS[9]+s+"_"+o);u.appendChild(d)}MS()}function kS(e,t,n,a,i){return e<nu&&U_(a[0]),CS(n,t,a,i)}function CS(e,t,n,a){return(zc=document.createElement("td")).setAttribute("id",a[8]+t),zc.setAttribute(bu,JSON.stringify(e)),zc.className="stream_cell",zc.innerHTML=ES(t,n,a),zc}function AS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(bu,JSON.stringify(t)),i.innerHTML=ES(o,n,a),i.setAttribute("id",a[8]+o)}function ES(e,t,n){return B_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function MS(){if(uS?(L_(xa),PS(!0)):(oS?a_(L+(_S?G:O)+T+M):(uS=!0,PS(),L_(xa),w_()),Vu(cS[10]),Ef=!1,Yu()),0<KI.length&&!WI)return gS(),void IS();$I=!(KI=[])}function IS(){n_(KI.length);var e=QI+aS;e&&iS-1<e&&(e=iS-cu,WI=!0),Vf("https://api.twitch.tv/kraken/videos/top?limit="+cu+"&broadcast_type="+(_S?"highlight":"archive")+"&sort=views&offset="+e+"&period="+dS+(""!==Yc?"&language="+Yc:""),nS,2,null,xS,SS)}function SS(){++eS<tS?(nS+=500,IS()):(WI=!0,QI-=KI.length,KI=[],MS())}function xS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(iS=parseInt(a._total);o<KI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ZI[n]?o--:(ZI[n]=1,AS(KI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),zS.parse(t.title)+ca+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],cS),d.push(o));for(o=d.length-1;-1<o;o--)KI.splice(d[o],1);aS+=s,WI&&(QI-=KI.length,KI=[]),MS()}function PS(e){YI<0?TS():(Z_(YI,jI,cS,nu,QI,e),OS(cS,YI+"_"+jI),QI/nu<YI+au&&!WI&&!$I&&(gS(),yS()),Vc&&LS())}function LS(){window.clearInterval(XI),-1<YI&&QI?(Vu(cS[1]+YI+"_"+jI),df(YI+"_"+jI,cS)):BS()}function TS(){var e=1<jI?1:jI;Ju(cS[0]+"y_"+e,yu)}function BS(){var e=1<jI?1:jI;Fu(cS[0]+"y_"+e,yu)}function OS(t,n){if(fS){var a=document.getElementById(t[0]+n);mS.onload=function(){Nu(t[1]+n),a.style.backgroundSize="612px";var e=0;XI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},mS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function GS(e){var t;if(!Ef&&!W_())switch(j_(),e.keyCode){case Va:u_()?c_():d_()?s_():(LS(),If(GS));break;case Oa:if(-1===YI)BS(),--jI<0&&(jI=1),TS();else if(YI||jI){if(h_(YI,jI-1,cS[0]))LS(),jI--,PS();else for(t=nu-1;-1<t;t--)if(h_(YI-1,t,cS[0])){LS(),YI--,jI=t,PS();break}}else LS(),BS(),YI=-1,jI=1,TS();break;case Ua:-1===YI?(BS(),1<++jI?(jI=0,oS?TS():(YI=0,PS())):TS()):h_(YI,jI+1,cS[0])?(LS(),jI++,PS()):h_(YI+1,0,cS[0])&&(LS(),YI++,jI=0,PS());break;case Ga:if(-1!==YI||oS)if(YI){for(t=0;t<nu;t++)if(h_(YI-1,jI-t,cS[0])){LS(),YI--,jI-=t,PS();break}}else LS(),YI=-1,TS();else YI=0,BS(),PS();break;case Ra:if(-1!==YI||oS){for(t=0;t<nu;t++)if(h_(YI+1,jI-t,cS[0])){LS(),YI++,jI-=t,PS();break}}else YI=0,BS(),PS();break;case Ta:case La:case Ba:case Na:-1===YI?(0===jI?Bf("Vod_highlight",(_S=!_S)?"true":"false"):4<++lS&&(lS=1),vS()):af(YI+"_"+jI,cS,GS)}}function US(){1===lS?(Hu("top_bar_vod",Kt+M_((_S?G:O)+de)),dS="day"):2===lS?(Hu("top_bar_vod",Kt+M_((_S?G:O)+le)),dS="week"):3===lS?(Hu("top_bar_vod",Kt+M_((_S?G:O)+re)),dS="month"):4===lS&&(Hu("top_bar_vod",Kt+M_((_S?G:O)+ce)),dS="all"),Bf("vod_periodNumber",lS)}function RS(e,t){return e.replace(t.code,NS(t))}function NS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function VS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function DS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function JS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Gl[a]||Gl[e];e=i?RS(e,i):DS(e),t[n]=e}return t.join(" ")}function FS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([VS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function HS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function qS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+c((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function A(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;a+=g)e=b(e/r);return b(a+(r+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,r,c,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&k("overflow"),s*=c;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return A(_)}function f(e){var t,n,a,i,o,s,d,l,r,c,u,_,f,m,h,p=[];for(_=(e=C(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)h=l-c,m=g-c,p.push(w(E(c+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:C,encode:A},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=a,a=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var zS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();