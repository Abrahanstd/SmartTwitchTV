var n='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="twitchicon"><img style="float:right;width:100%;" src="https://bhb27.github.io/smarttv-twitch/release/githubio/images/twitchlogo.png" alt="twitchlogo"><div style="text-align:center;"><div id="label_about" class="icon_top_label" style="text-align:center;"></div></div></div><div id="controls_div" class="controls_div"><div id="label_search" class="icon_top_label"></div><div id="label_controls" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label"></div></div><div style="position:fixed;text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:727%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="info_dialogs hide" style="width:90%;margin-top:5.5%;margin-left:5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="info_dialogs hide" style="width:70%;margin-top:6%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="info_dialogs hide" style="width:70%;margin-top:6%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="blank_focus" class="screen_size"></div><div class="screen_size"></div><div id="oauth" class="imput_text_box" style="display:none;"><div id="oauth_text" class="strokedextramini" style="font-size:190%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div><div class="screen_size"></div><div id="search" class="imput_text_box" style="display:none;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div><div class="screen_size"></div><div id="add_user" class="imput_text_box" style="display:none;"><input id="user_input" class="input_class" type="text" placeholder="" /></div><div class="screen_size"></div><table id="stream_table_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_host" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_featured" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_games" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_channels" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_games" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_a_game" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_game" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_channel" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_channel_a" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_vod" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_clip" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_vod" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_clip" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_gclip" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_gvod" class="streams_tables"></table><div class="screen_size"></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo" style="float:right;padding-right:0.5%;padding-top:1.5%;"><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div><div id="stream_clock"></div><div id="stream_controls"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info"><div class="playmaininfo" style="vertical-align:top;padding-left:1%;padding-top:1.5%;display:inline-block;width:71%;"><div id="stream_info_name" style="font-size:130%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_search" class="playbotton" style="z-order:6;width:12%;"><div id="ic_search" style="vertical-align:middle;display:inline-block"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_channel" class="playbotton" style="z-order:5;width:19%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_game" class="playbotton" style="z-order:5;width:18%;"><div id="game_icon" style="vertical-align:middle;display:inline-block"><i class="icon-gamepad strokicon" style="font-size:238%;"></i></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_heart" class="playbotton" style="z-order:3;width:15%;"><div id="fallow_heart" style="vertical-align:middle;display:inline-block"><i class="icon-heart-o strokicon"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_quality" class="playbotton" style="z-order:2;width:28%;margin-right:0;"><div id="quality_video" style="vertical-align:middle;display:inline-block"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="height:auto;display:inline-block;">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:185%;width:80%;"></div></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:250%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_replay" class="dialog_end_icons"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_vod" class="dialog_end_icons"><i class="icon-videocamera strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_channel" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_game" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:1%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:850%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:350%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:24%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:350%;"></div></div><div id="dialog_buffer_play" class="dialogs hide" style="z-index:98;margin-top:28%;"><div id="dialog_buffer_play_text" class="strokedbig" style="font-size:310%;"></div></div></div><video id="video_live" class="video-js" width="1920" height="1080" preload="metadata" poster="https://bhb27.github.io/smarttv-twitch/release/githubio/images/video_poster.png" style="background:black"></video></div>',e="Refresh and back to top",t="Search",i="Controls",o="About",r="The text you entered is empty.",a="The search result is empty.",s="Switch screen",c="Switch Past Broadcast and Highlight",l="Switch Period (24h, 7d, 30d, all)",u="Go to ",d="User ",h="Live",p="Games",f="Playing ",m=" for ",v="Watching time ",g="Since ",y=" ago",_="A Game",b="Write yours search...",w="Write yours authentication key...",k="Write user name...",T="Press Enter to ",E="Channels",C="Channel",S="Back to previously screen (Return)",x=" has ended",I="This video is only available to subscribers.",M="Connection failed, unable to load content hit refresh to try again",L="No",B=" for this ",A="Connection failed, unable to load video content exiting...",O=" Past Broadcast",H=" Highlight",R=" Clips",N=" Content",j="Streamed on ",P="Duration ",F=" Views",D="Buffering ",q=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",U="Exit",G="Close",J="Minimize",X="Cancel",W="Not Live | ",K=" Channels Live",Y=" Hosts Live",$=" Games Live",Q=" Followed Channels",Z=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",oe="Make First",re=" (First user has it's content on SmartHub Preview, can Sub out side User screen when providing a key)",ae="Add a Twitch user to display it's Followed Channels content here",se=" (24h)",ce=" (7d)",le=" (30d)",ue=" (all)",de="Jumping ",he=" to ",pe="Jump Canceled",fe=" , jump time bigger then duration",me=" Sec",ve=" Min",ge=" Hr",ye="Source",_e="Version: ",be="Twitch.TV",we="Press return key to close this.",ke="Player Related:",Te="Chat Related:",Ee="General Related:",Ce="Update",Se="Current Major version ",xe=" Latest Major version ",Ie="This are the none players related controls, the player can show it's own controls.",Me="Play a video: Navigate using Directional pad (up/down/left/right), Select or Play/Pause keys to start playing",Le="Refresh screen content: Guide or info (Guide is channel press key on smart remote)",Be="Close the application: from Live screen press return to see the options",Ae="Force close the application (in case it freezes or miss behave): Hold return key until it force closes (Works for any application on Samsung TV's)",Oe=" Switch screen: Chanel Up (Move to right screen) or Chanel Down (Move to left screen)",He="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Re="Go back to Live from any screen: color button green or B",Ne="Start a search: color button blue or D",je="After setting up the search text press return or click on DONE and use the Directional pad (left/right) to chose the type of search then press Select or Play/Pause, Directional pad (up) goes back to edit the search text",Pe="Controls list: color button yellow or C",Fe="About this application: color button red or A",De="This is a unofficial Twitch.Tv application develop by a individual on his free time, for TV's that don't have access to a official application, released for free to any one that wanna to use it.",qe="On 99% on the updates the app can update it self to add fixes and new featuring, the app will warn the user the day there is a need to update manually by reinstalling it via computer in the case you use a computer to install it.",ze="Developer information:",Ve="This is an open source applicationlication check it on my github",Ue="github.com/bhb27/smarttv-twitch",Ge="This application is licensed under the GNU General Public License v3.0, and uses following dependencies:",Je="Font Awesome - The iconic font and CSS toolkit by FortAwesome (https://github.com/FortAwesome/Font-Awesome)",Xe="Video.js - HTML5 Video Player (https://github.com/videojs/video.js)",We="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Ke="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",$e="Samsung WebApi API - this module defines the functionalities that are provides as the Samsung TV for Tizen Platform Product API (http://developer.samsung.com/tv/develop/api-references/samsung-product-api-references/webapi-api)",Qe="Show information panel: Select key if chat is showing or Directional pad (up/down/left/right) if not",Ze="Close the video: press return (click it twice under 3 seconds, click tree times if information panel or controls is open)",et="Play/Pause a video: Play or Pause keys",tt="Jump Forward/Backwards (not availably for live streams): Directional pad (right/left), multiple clicks add more time before jump",nt="Change video quality (not availably for clips): Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",it="Force refresh a video (in case it freezes) (not availably for clips): press select key twice, it will change the video quality to the same you are current watching, by opening information panel (first click) after second click will start re-buffering",ot="Show or hide the Chat (Only availably on live streams): Guide or info (Guide is channel press key on smart remote)",rt="Change Chat position (if chat it's showing and info panel is not): Chanel Up or Down",at="Change Chat size (if chat it's showing and info panel is not): Directional pad (up/down)",st="Change Chat background brightness (if chat it's showing and info panel is not): Directional pad (left/right)",ct="Force refresh the Chat (in case it freezes or doesn't load): Force refresh the video by pressing select key twice, it will change the video quality to the same you are current watching, by opening information panel (first click) after second click will start re-buffering and the chat will reload it self",lt="Change the speed (Only availably for clips): Open information panel, navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new speed after press Select key to confirm the change",ut="Restart a clip (can also be used in case it freezes): color button blue or D",dt='Start a search: Open information panel, navigate using use Directional pad (left/right) to "Search" and press select',ht='Open Channel content: Open information panel, navigate using use Directional pad (left/right) to "Channel content" and press select',pt="A update is available, and the app can't self update this version ",ft="Major changes:",mt="Temp update 1",vt="Adding a authentication key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to) for the chosen user, enter the authentication key for user ",gt=" below, fallowing this steps:",yt="Access the site http://tiny.cc/twitchkey (using a computer or a smart phone)",_t='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',bt="Login to Twitch.TV using the user name you are trying to add a key for",wt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",kt="The web page will update and show a key code, write that key code bellow",Tt=" Add Authentication key",Et="Key added OK (Click to test key)",Ct="Key test fail, it's needed to add new one",St="Key test return OK",xt="You try to add a key for user ",It=" but this key is for user ",Mt=" Following",Lt=" Follow",Bt=" And you have not set a authentication key the app can't check yours sub status.",At=" And you are not a sub of this channel",Ot=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Ht="Fail authentication check with the provider key, please check and try again",Rt="No user",Nt="Set a user and a authentication key to be able to fallow/unfollow",jt="Restart the",Pt=" Clip",Ft="Channel content",Dt="Network is disconnect, the application can't work without INTERNET",qt="Network connection reestablished",zt=" Followers",Vt=", Can't fallow or unfallow ",Ut="Game content",Gt="Yes",Jt="Are you sure you want to remove the user ",Xt="Press Up to ",Wt="Followed Games",Kt="Change between",Yt=" (Guide or Info)",$t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Qt="Started ",Zt=" (CH Up/Down)",en="Videos",tn=" Video",nn="Replay",on="Open the Stream at this clip position",rn="exiting in ",an='press "Return" to exit',sn="Featured",cn="fglfgl27@gmail.com",ln="<br>",un='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',dn='<div class="about_text_title">',hn='<div class="about_text_title" style="text-align: left;">',pn='<div style="text-align: left;">',fn="",mn="",vn="",gn="",yn="",_n="",bn="",wn="",kn="",Tn="&nbsp;",En="";function Cn(){fn=i+" (C)",mn=t+" (D)",vn=o+" (A)",s+=Zt,gn=dn+i+"</div>"+Ie+ln+ln+un+Me+ln+un+Le+ln+un+Be+ln+un+Ae+ln+un+Oe+ln+He+ln+un+Re+ln+un+Ne+ln+je+ln+un+Pe+ln+un+Fe+ln+dn+we+"</div>",yn=dn+be+"</div>",_n=De+ln+qe+ln+ln+dn+ze+"</div>"+cn+ln+ln+Ve+ln+Ue+ln+ln+hn+Ge+"</div>"+pn+un+Je+ln+un+Xe+ln+un+We+ln+un+Ke+ln+un+Ye+ln+un+$e+ln+dn+we+"</div></div>",bn=dn+i+"</div>"+dn+Ee+"</div>"+un+Qe+ln+un+Ze+ln+un+dt+ln+un+ht+dn+ke+"</div>"+un+et+ln+un+tt+ln+un+lt+ln+un+nt+ln+un+it+ln+un+ut+dn+Te+"</div>"+un+ot+ln+un+rt+ln+un+at+ln+un+st+ln+un+ct+dn+we+"</div>",wn=dn+Ce+"</div>"+pt+ln,En=ln+dn+ft+"</div>"+pn+un+mt+ln+ln+we+"</div>",kn=gt+ln+un+yt+ln+un+_t+ln+un+bt+ln+un+wt+ln+un+kt}function Sn(){console.log("loading language pt_BR"),e="Atualizar e voltar pro topo",t="Pesquisar",i="Controles",o="Sobre",r="Nenhum texto foi inserido.",s="Trocar de tela",c="Transmissões Anteriores/Destaques",l="Período (24h, 7d, 30d, todos)",d="Usuário ",h="Ao Vivo",p="Jogos",f="Jogando ",v="Assistindo há ",g="Desde ",y=" atrás",_="Um jogo",b="entrar com a pesquisa...",k="entrar com usuário...",T="Pressione a tecla selecionar para ",E="Canais",C="Canal",S="Voltar (retornar)",x=" acabou",M="Não foi possível carregar. Atualize para tentar novamente.",A="Não foi possível carregar o conteúdo do vídeo, pois a conexão falhou, encerrando...",L="Não há",O=" Transmissões Anterior",H=" Destaque",R=" Clipes",N=" Conteúdo",j="Transmitido em ",P="Duração ",F=" Visualizações",D="Carregando ",q=" Espectadores",z="Pressione novamente para sair!",V="Quer sair do Twitch?",U="Sair",G="Fechar",J="Minimizar",X="Cancelar",W="Retransmissão | ",K=" Canais Ao Vivo",Y=" Hosts Ao Vivo",$=" Jogos Ao Vivo",Z=" Adicionar Usuário",ee=" Remover Usuário",te="Usuário inexistente",ne=" hospedando ",ie=" já configurado",oe="Tornar o Principal",re=" (O conteúdo do usuário principal aparece no SmartHub Preview e consegue seguir quando fornece uma chave de acesso)",ue=" (todos)",de="Saltando ",he=m=" para ",pe="Slato cancelado",fe=" , o tempo de salto é maior que a duração",me=" Seg",ve=" Min",ge=" H",ye="Original",_e="Versão: ",be="Twitch.TV",we="Pressione retornar para fechar este.",ke="Relacionado ao Player:",Te="Relacionado ao Chat:",Ee="Gerais:",Ce="Atualização",Se="Versão Atual ",xe=" Última Versão ",Ie="Estes controles não estão relacionados ao player. O player pode mostrar os seus controles.",Me="Reproduzir um Vídeo: Navegue usando as setas direcionais, pressione PLAY/PAUSE para reproduzir.",Le="Atualizar Conteúdo: Pressione GUIDE ou INFO.",Be="Fechar: Durante uma transmissão, pressione retornar pra ver as opções",Ae="Forçar Encerramento  do aplicativo (caso necessário): Pressione retornar até o aplicativo seja encerrado.",Oe="Alternar entre Telas: CH Cima (Tela da Direita) ou CH Baixo (Tela da Esquerda).",He="Algumas telas irão atualizar o conteúdo (como as Transmissões Anteriores, por exemplo), ao invés de mudarem completamente.",Re="Voltar para Ao Vivo: Botão Verde (B)",Ne="Pesquisar: Botão Azul(D)",je="Após inserir o conteúdo da busca, pressione retornar ou clique em CONCLUÍDO e use as Setas Direcionais (esquerda/direita) para escolher o tipo de busca. Pressione a tecla selecionar ou PLAY/PAUSE para confirmar.",Pe="Controles: Botão Amarelo (C)",Fe="Sobre: Botão Vermelho (A)",De="Este é um aplicativo não oficial do Twitch.TV, desenvolvido por um individuo no seu tempo livre, feito para TVs que não possuem uma versão oficial. Seu uso é gratuito.",qe="Em 99% das vezes, o aplicativo se atualizará sozinho para adicionar correções e novas funções. O aplicativo avisará ao usuário quando houver necessidade de ser atualizado manualmente (através de uma nova instalação pelo computador no caso ter ter usado o computar pra instalar).",ze="Sobre o Desenvolvedor:",Ve="Este é um aplicativo Open Source. Confira no meu GitHub",Ue="github.com/bhb27/smarttv-twitch",Ge="Este aplicativo está licenciado sob a Licença Pública GNU v3.0 e usa as seguintes dependências:",Qe="Exibir Informações: Pressione a tecla selecionar caso o Chat esteja sendo exibido ou use as Setas Direcionais.",Ze="Fechar um vídeo: Pressione retornar duas vezes seguidas em menos de três segundos",et="Pausar/Reproduzir: Pressione PLAY ou PAUSE.",tt="Avançar/Retroceder (indisponível para Transmissões Ao Vivo): Setas Direcionais (esquerda/direita).",nt="Alterar qualidade (indisponível para Clipes): Abra o Painel de Informações, use as Setas Direcionais (Cima/Baixo) para escolher a qualidade e pressione a tecla selecionar para alterar.",it="Forçar a atualização de um vídeo (indisponível para Clipes): Pressione a tecla selecionar duas vezes. A qualidade do vídeo continuará sendo a mesma, mas após o segundo clique, o vídeo será recarregado.",ot="Exibir/Esconder o Chat (Somente disponível em transmissões ao vivo): GUIDE ou INFO.",rt="Posição do Chat (Se o chat esta visível): CH Para Cima ou Para Baixo.",at="Tamanho do Chat (Se o chat esta visível): Setas Direcionais (cima/baixo).",st="Brilho do Chat (Se o chat esta visível): Setas Direcionais (esquerda/direita).",ct="Forçar atualização do Chat (caso necessário): Pressione a tecla selecionar duas vezes. No primeiro clique, a qualidade continuará a mesma, mas após o segundo, o vídeo e o chat serão recarregados.",lt="Altere a velocidade (apenas disponível para clipes): abra o painel de informações, navegue usando o botão Direcional (esquerda / direita), use a tecla direcional (para cima / baixo) para escolher a nova velocidade depois de pressionar a tecla Selecionar para confirmar a alteração",ut="Reinicie um clipe (também pode ser usado no caso do clipe congelar): Botão Azul (D)",dt='Inicie uma pesquisa: abra o painel de informações, navegue usando o botão Direcional (esquerda / direita) para "Pesquisar" e pressione a tecla selecionar',ht='Abra o conteúdo do canal: abra o painel de informações, navegue usando o botão direcional (esquerda / direita) para "Conteúdo do canal" e pressione a tecla selecionar',pt="Há uma atualização disponível, mas o app não pôde ser atualizado automaticamente ",ft="Changelist:",mt="Atualização Temporária 1",vt="Adicionando uma chave de autenticação para um usuário, permite ao aplicativo seguir e assistir a transmissões anteriores reservadas somente para inscritos (Em canais que você é inscrito), entre com a chave de autenticação do usuário ",gt=" abaixo seguidos os passos:",yt="Acesse o site http://tiny.cc/twitchkey (usando um computador ou smart phone)",_t='Clique no botão "Authorize" assim vai abrir o site de autenticação do Twitch.TV',bt="Faço login no Twitch.TV usando o usuário que você esta tentando adicionar a chave",wt="Clique no botão de autorizar no site do Twitch.TV se você esta de acordo com as permissões",kt="A pagina vai atualizar e mostrar a chave de acesso no centro (só tem letra minuscula), escreva esta no aplicativo",Tt=" Adicione uma chave de autenticação",Et="Chave adicionada OK (Clique para testar)",Ct="O teste da chave falhou, sera necessário adicionar uma nova",St="O teste da chave retornou OK",xt="Você esta tentando adicionar uma chave para o usuário ",It=" mas esta é para o usuário ",Mt=Q=" Seguindo",Lt=" Seguir",Bt=" E você não definiu uma chave de autenticação, o aplicativo não pode verificar se é inscrito.",At=" E você não é um inscrito deste canal",Ot=" Você é um inscrito deste canal, mas o aplicativo falha ao tentar autenticar, contate o desenvolvedor através do e-mail no sobre",Ht="Falhou o teste com a chave do informada, verifique e tente novamente",Rt="Sem Usuário",Nt="Adicione um usuário e uma chave de autenticação para poder seguir ou deixar de seguir",jt="Reinicie o",Ft="Conteúdo do canal",Dt="A rede esta desconectada, o aplicativo não funciona sem INTERNET",qt="Conexão de rede restabelecida",zt=" Seguidores",Vt=", Não é possível seguir ou deixar de seguir ",Ut="Conteúdo do jogo",Gt="Sim",Jt="Tem certeza que deseja remover o usuário ",Xt="Pressione a tecla pra cima para ",Wt="Jogos seguidos",Kt="Troque entre",Yt=" (Guia ou Info)",$t=["Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"],Qt="Começou ",en="Vídeos",tn=" Vídeo",Zt=" (CH Cima/Baixo)",on="Abrir a transmissão no ponto deste clipe",rn="saindo em ",an='pressione "Retornar" para sair',sn="Destaques"}var xn=427,In=428,Mn=458,Ln=19,Bn=415,An=10252,On=457,Hn=37,Rn=39,Nn=38,jn=40,Pn=13,Fn=403,Dn=404,qn=405,zn=406,Vn=10009,Un=8,Gn=65385,Jn=65376,Xn=32,Wn=46;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n,p="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i={},o=(Object.freeze||Object)({default:i}),r=o&&i||o,a=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?n=document:(n=a["__GLOBAL_DOCUMENT_CACHE@4"])||(n=a["__GLOBAL_DOCUMENT_CACHE@4"]=r);var s,c,l,u,f=n,d=p.navigator&&p.navigator.userAgent||"",h=/AppleWebKit\/([\d.]+)/i.exec(d),m=h?parseFloat(h.pop()):null,v=/iPad/i.test(d),g=/iPhone/i.test(d)&&!v,y=/iPod/i.test(d),_=g||v||y,b=(s=d.match(/OS (\d+)_/i))&&s[1]?s[1]:null,w=/Android/i.test(d),k=function(){var e=d.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),T=w&&/webkit/i.test(d)&&k<2.3,E=w&&k<5&&m<537,C=/Firefox/i.test(d),S=/Edge/i.test(d),x=!S&&/Chrome/i.test(d),I=(c=d.match(/Chrome\/(\d+)/))&&c[1]?parseFloat(c[1]):null,M=/MSIE\s8\.0/.test(d),L=(!(u=(l=/MSIE\s(\d+)\.\d/.exec(d))&&parseFloat(l[1]))&&/Trident\/7.0/i.test(d)&&/rv:11.0/.test(d)&&(u=11),u),B=/Safari/i.test(d)&&!x&&!w&&!S,A=B||_,O=ie()&&("ontouchstart"in p||p.DocumentTouch&&p.document instanceof p.DocumentTouch),H=ie()&&"backgroundSize"in p.document.createElement("video").style,R=(Object.freeze||Object)({IS_IPAD:v,IS_IPHONE:g,IS_IPOD:y,IS_IOS:_,IOS_VERSION:b,IS_ANDROID:w,ANDROID_VERSION:k,IS_OLD_ANDROID:T,IS_NATIVE_ANDROID:E,IS_FIREFOX:C,IS_EDGE:S,IS_CHROME:x,CHROME_VERSION:I,IS_IE8:M,IE_VERSION:L,IS_SAFARI:B,IS_ANY_SAFARI:A,TOUCH_ENABLED:O,BACKGROUND_SIZE_SUPPORTED:H}),N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},F=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},D=function(e,t){return e.raw=t,e},q=Object.prototype.toString,z=function(e){return G(e)?Object.keys(e):[]};function V(t,n){z(t).forEach(function(e){return n(t[e],e)})}function U(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&V(e,function(e,t){n[t]=e})}),n)}function G(e){return!!e&&"object"===(void 0===e?"undefined":N(e))}function J(e){return G(e)&&"[object Object]"===q.call(e)&&e.constructor===Object}var X=void 0,W="info",K=[],Y=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!!L&&L<11,i=X.levels[W],o=new RegExp("^("+i+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),K&&K.push([].concat(t)),t.unshift("VIDEOJS:"),p.console){var r=p.console[e];r||"debug"!==e||(r=p.console.info||p.console.log),r&&i&&o.test(e)&&(n&&(t=t.map(function(t){if(G(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](p.console,t):r(t))}};(X=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Y("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:W},X.level=function(e){if("string"==typeof e){if(!X.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');W=e}return W},X.history=function(){return K?[].concat(K):[]},X.history.clear=function(){K&&(K.length=0)},X.history.disable=function(){null!==K&&(K.length=0,K=null)},X.history.enable=function(){null===K&&(K=[])},X.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y("error",t)},X.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y("warn",t)},X.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y("debug",t)};var $=X,Q=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t};function Z(e,t){if(!e||!t)return"";if("function"==typeof p.getComputedStyle){var n=p.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}var ee=D(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function te(e){return"string"==typeof e&&/\S/.test(e)}function ne(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function ie(){return f===p.document&&void 0!==f.createElement}function oe(e){return G(e)&&1===e.nodeType}function re(){try{return p.parent!==p.self}catch(e){return!0}}function ae(i){return function(e,t){if(!te(e))return f[i](null);te(t)&&(t=f.querySelector(t));var n=oe(t)?t:f;return n[i]&&n[i](e)}}function se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=f.createElement(e);return Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?($.warn(Q(ee,e,t)),o.setAttribute(e,t)):"textContent"===e?ce(o,t):o[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){o.setAttribute(e,t[e])}),i&&xe(o,i),o}function ce(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function le(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ue(e,t){return ne(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function de(e,t){return e.classList?e.classList.add(t):ue(e,t)||(e.className=(e.className+" "+t).trim()),e}function he(e,t){return e.classList?e.classList.remove(t):(ne(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function pe(e,t,n){var i=ue(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?de(e,t):he(e,t),e}function fe(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function me(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,i=n.length-1;0<=i;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),t[o]=r}return t}function ve(e,t){return e.getAttribute(t)}function ge(e,t,n){e.setAttribute(t,n)}function ye(e,t){e.removeAttribute(t)}function _e(){f.body.focus(),f.onselectstart=function(){return!1}}function be(){f.onselectstart=function(){return!0}}function we(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(Z(e,"height"))),n.width||(n.width=parseFloat(Z(e,"width"))),n}}function ke(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=f.documentElement,i=f.body,o=n.clientLeft||i.clientLeft||0,r=p.pageXOffset||i.scrollLeft,a=t.left+r-o,s=n.clientTop||i.clientTop||0,c=p.pageYOffset||i.scrollTop,l=t.top+c-s;return{left:Math.round(a),top:Math.round(l)}}function Te(e,t){var n={},i=ke(e),o=e.offsetWidth,r=e.offsetHeight,a=i.top,s=i.left,c=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,c=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-c+r)/r)),n.x=Math.max(0,Math.min(1,(l-s)/o)),n}function Ee(e){return G(e)&&3===e.nodeType}function Ce(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Se(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),oe(e)||Ee(e)?e:"string"==typeof e&&/\S/.test(e)?f.createTextNode(e):void 0}).filter(function(e){return e})}function xe(t,e){return Se(e).forEach(function(e){return t.appendChild(e)}),t}function Ie(e,t){return xe(Ce(e),t)}function Me(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||9===L||0===e.button&&1===e.buttons}var Le=ae("querySelector"),Be=ae("querySelectorAll"),Ae=(Object.freeze||Object)({isReal:ie,isEl:oe,isInFrame:re,createEl:se,textContent:ce,prependTo:le,hasClass:ue,addClass:de,removeClass:he,toggleClass:pe,setAttributes:fe,getAttributes:me,getAttribute:ve,setAttribute:ge,removeAttribute:ye,blockTextSelection:_e,unblockTextSelection:be,getBoundingClientRect:we,findPosition:ke,getPointerPosition:Te,isTextNode:Ee,emptyEl:Ce,normalizeContent:Se,appendContent:xe,insertContent:Ie,isSingleLeftClick:Me,$:Le,$$:Be}),Oe=1;function He(){return Oe++}var Re={},Ne="vdata"+(new Date).getTime();function je(e){var t=e[Ne];return t||(t=e[Ne]=He()),Re[t]||(Re[t]={}),Re[t]}function Pe(e){var t=e[Ne];return!!t&&!!Object.getOwnPropertyNames(Re[t]).length}function Fe(e){var t=e[Ne];if(t){delete Re[t];try{delete e[Ne]}catch(t){e.removeAttribute?e.removeAttribute(Ne):e[Ne]=null}}}function De(e,t){var n=je(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Fe(e)}function qe(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function ze(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||p.event;for(var o in e={},i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&i.preventDefault||(e[o]=i[o]));if(e.target||(e.target=e.srcElement||f),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var r=f.documentElement,a=f.body;e.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Ve=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Ve=!0}});p.addEventListener("test",null,e),p.removeEventListener("test",null,e)}catch(e){}}();var Ue=["touchstart","touchmove"];function Ge(a,e,t){if(Array.isArray(e))return qe(Ge,a,e,t);var s=je(a);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=He()),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=ze(e);var n=s.handlers[e.type];if(n)for(var i=n.slice(0),o=0,r=i.length;o<r&&!e.isImmediatePropagationStopped();o++)try{i[o].call(a,e,t)}catch(e){$.error(e)}}}),1===s.handlers[e].length)if(a.addEventListener){var n=!1;Ve&&-1<Ue.indexOf(e)&&(n={passive:!0}),a.addEventListener(e,s.dispatcher,n)}else a.attachEvent&&a.attachEvent("on"+e,s.dispatcher)}function Je(e,t,n){if(Pe(e)){var i=je(e);if(i.handlers){if(Array.isArray(t))return qe(Je,e,t,n);var o=function(e,t){i.handlers[t]=[],De(e,t)};if(void 0!==t){var r=i.handlers[t];if(r)if(n){if(n.guid)for(var a=0;a<r.length;a++)r[a].guid===n.guid&&r.splice(a--,1);De(e,t)}else o(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&o(e,s)}}}function Xe(e,t,n){var i=Pe(e)?je(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ze(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles)Xe.call(null,o,t,n);else if(!o&&!t.defaultPrevented){var r=je(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function We(t,n,i){if(Array.isArray(n))return qe(We,t,n,i);var e=function e(){Je(t,n,e),i.apply(this,arguments)};e.guid=i.guid=i.guid||He(),Ge(t,n,e)}var Ke=(Object.freeze||Object)({fixEvent:ze,on:Ge,off:Je,trigger:Xe,one:We}),Ye=!1,$e=void 0,Qe=function(){if(ie()&&!1!==$e.options.autoSetup){var e=f.getElementsByTagName("video"),t=f.getElementsByTagName("audio"),n=f.getElementsByTagName("video-js"),i=[];if(e&&0<e.length)for(var o=0,r=e.length;o<r;o++)i.push(e[o]);if(t&&0<t.length)for(var a=0,s=t.length;a<s;a++)i.push(t[a]);if(n&&0<n.length)for(var c=0,l=n.length;c<l;c++)i.push(n[c]);if(i&&0<i.length)for(var u=0,d=i.length;u<d;u++){var h=i[u];if(!h||!h.getAttribute){Ze(1);break}void 0===h.player&&null!==h.getAttribute("data-setup")&&$e(h)}else Ye||Ze(1)}};function Ze(e,t){t&&($e=t),p.setTimeout(Qe,e)}ie()&&"complete"===f.readyState?Ye=!0:We(p,"load",function(){Ye=!0});var et=function(e){var t=f.createElement("style");return t.className=e,t},tt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},nt=function(e,t,n){t.guid||(t.guid=He());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},it=function(t,n){var i=Date.now();return function(){var e=Date.now();n<=e-i&&(t.apply(void 0,arguments),i=e)}},ot=function(){};ot.prototype.allowedEvents_={},ot.prototype.addEventListener=ot.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ge(this,e,t),this.addEventListener=n},ot.prototype.removeEventListener=ot.prototype.off=function(e,t){Je(this,e,t)},ot.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},We(this,e,t),this.addEventListener=n},ot.prototype.dispatchEvent=ot.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ze(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Xe(this,e)};var rt=function(t){return t instanceof ot||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},at=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},st=function(e){if(!e.nodeName&&!rt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},ct=function(e){if(!at(e))throw new Error("Invalid event type; must be a non-empty string or array.")},lt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},ut=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,i=void 0,o=void 0,r=void 0;return n?(i=e.eventBusEl_,3<=t.length&&t.shift(),o=t[0],r=t[1]):(i=t[0],o=t[1],r=t[2]),st(i),ct(o),lt(r),{isTargetingSelf:n,target:i,type:o,listener:r=nt(e,r)}},dt=function(e,t,n,i){st(e),e.nodeName?Ke[t](e,n,i):e[t](n,i)},ht={on:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ut(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(dt(a,"on",s,c),!r){var l=function(){return e.off(a,s,c)};l.guid=c.guid;var u=function(){return e.off("dispose",l)};u.guid=c.guid,dt(this,"on","dispose",l),dt(a,"on","dispose",u)}},one:function(){for(var o=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=ut(this,t),r=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(r)dt(a,"one",s,c);else{var l=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o.off(a,s,e),c.apply(null,n)};l.guid=c.guid,dt(a,"one",s,l)}},off:function(e,t,n){if(!e||at(e))Je(this.eventBusEl_,e,t);else{var i=e,o=t;st(i),ct(o),lt(n),n=nt(this,n),this.off("dispose",n),i.nodeName?(Je(i,o,n),Je(i,"dispose",n)):rt(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(e,t){return Xe(this.eventBusEl_,e,t)}};function pt(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=se("span",{className:"vjs-event-bus"});return U(e,ht),e.on("dispose",function(){e.off(),p.setTimeout(function(){e.eventBusEl_=null},0)}),e}var ft={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var i=void 0;return V(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&rt(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function mt(e,t){return U(e,ft),e.state=U({},e.state,t),"function"==typeof e.handleStateChanged&&rt(e)&&e.on("statechanged",e.handleStateChanged),e}function vt(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function gt(){for(var n={},e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){e&&V(e,function(e,t){J(e)?(J(n[t])||(n[t]={}),n[t]=gt(n[t],e)):n[t]=e})}),n}var yt=function(){function c(e,t,n){if(j(this,c),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=gt({},this.options_),t=this.options_=gt(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+He()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&pt(this,{eventBusKey:this.el_?"el_":null}),mt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return c.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Fe(this.el_),this.el_=null),this.player_=null},c.prototype.player=function(){return this.player_},c.prototype.options=function(e){return $.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=gt(this.options_,e)),this.options_},c.prototype.el=function(){return this.el_},c.prototype.createEl=function(e,t,n){return se(e,t,n)},c.prototype.localize=function(e,o){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),r=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],c=t;return r&&r[e]?c=r[e]:s&&s[e]&&(c=s[e]),o&&(c=c.replace(/\{(\d+)\}/g,function(e,t){var n=o[t-1],i=n;return void 0===n&&(i=e),i})),c},c.prototype.contentEl=function(){return this.contentEl_||this.el_},c.prototype.id=function(){return this.id_},c.prototype.name=function(){return this.name_},c.prototype.children=function(){return this.children_},c.prototype.getChildById=function(e){return this.childIndex_[e]},c.prototype.getChild=function(e){if(e)return e=vt(e),this.childNameIndex_[e]},c.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof e){o=vt(e);var r=t.componentClass||o;t.name=o;var a=c.getComponent(r);if(!a)throw new Error("Component "+r+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,t)}else i=e;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&vt(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var s=this.contentEl().children[n]||null;this.contentEl().insertBefore(i.el(),s)}return i},c.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},c.prototype.initChildren=function(){var o=this,i=this.options_.children;if(i){var r=this.options_,e=void 0,n=c.getComponent("Tech");(e=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,n=void 0;return"string"==typeof e?n=i[t=e]||o.options_[t]||{}:(t=e.name,n=e),{name:t,opts:n}}).filter(function(e){var t=c.getComponent(e.opts.componentClass||vt(e.name));return t&&!n.isTech(t)}).forEach(function(e){var t=e.name,n=e.opts;if(void 0!==r[t]&&(n=r[t]),!1!==n){!0===n&&(n={}),n.playerOptions=o.options_.playerOptions;var i=o.addChild(t,n);i&&(o[t]=i)}})}},c.prototype.buildCSSClass=function(){return""},c.prototype.ready=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},c.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},c.prototype.$=function(e,t){return Le(e,t||this.contentEl())},c.prototype.$$=function(e,t){return Be(e,t||this.contentEl())},c.prototype.hasClass=function(e){return ue(this.el_,e)},c.prototype.addClass=function(e){de(this.el_,e)},c.prototype.removeClass=function(e){he(this.el_,e)},c.prototype.toggleClass=function(e,t){pe(this.el_,e,t)},c.prototype.show=function(){this.removeClass("vjs-hidden")},c.prototype.hide=function(){this.addClass("vjs-hidden")},c.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},c.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},c.prototype.getAttribute=function(e){return ve(this.el_,e)},c.prototype.setAttribute=function(e,t){ge(this.el_,e,t)},c.prototype.removeAttribute=function(e){ye(this.el_,e)},c.prototype.width=function(e,t){return this.dimension("width",e,t)},c.prototype.height=function(e,t){return this.dimension("height",e,t)},c.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},c.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+vt(e)],10)},c.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof p.getComputedStyle){var n=p.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+vt(e);t=this.el_[i]}return t},c.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},c.prototype.currentWidth=function(){return this.currentDimension("width")},c.prototype.currentHeight=function(){return this.currentDimension("height")},c.prototype.focus=function(){this.el_.focus()},c.prototype.blur=function(){this.el_.blur()},c.prototype.emitTapEvents=function(){var t=0,i=null,o=void 0;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),o=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)o=!1;else if(i){var t=e.touches[0].pageX-i.pageX,n=e.touches[0].pageY-i.pageY;10<Math.sqrt(t*t+n*n)&&(o=!1)}});var e=function(){o=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(i=null)===o&&(new Date).getTime()-t<200&&(e.preventDefault(),this.trigger("tap"))})},c.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=nt(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var e=function(e){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e)}},c.prototype.setTimeout=function(e,t){var n=this;e=nt(this,e);var i=p.setTimeout(e,t),o=function(){return n.clearTimeout(i)};return o.guid="vjs-timeout-"+i,this.on("dispose",o),i},c.prototype.clearTimeout=function(e){p.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},c.prototype.setInterval=function(e,t){var n=this;e=nt(this,e);var i=p.setInterval(e,t),o=function(){return n.clearInterval(i)};return o.guid="vjs-interval-"+i,this.on("dispose",o),i},c.prototype.clearInterval=function(e){p.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},c.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=nt(this,e);var n=p.requestAnimationFrame(e),i=function(){return t.cancelAnimationFrame(n)};return i.guid="vjs-raf-"+n,this.on("dispose",i),n}return this.setTimeout(e,1e3/60)},c.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){p.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},c.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=c.getComponent("Tech"),i=n&&n.isTech(t),o=c===t||c.prototype.isPrototypeOf(t.prototype);if(i||!o){throw new Error('Illegal component, "'+e+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".")}e=vt(e),c.components_||(c.components_={});var r=c.getComponent("Player");if("Player"===e&&r&&r.players){var a=r.players,s=Object.keys(a);if(a&&0<s.length&&s.map(function(e){return a[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return c.components_[e]=t},c.getComponent=function(e){if(e)return e=vt(e),c.components_&&c.components_[e]?c.components_[e]:void 0},c}();function _t(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function bt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:_t.bind(null,"start",0,e),end:_t.bind(null,"end",1,e)}}function wt(e,t){return Array.isArray(e)?bt(e):void 0===e||void 0===t?bt():bt([[e,t]])}function kt(e,t){var n=0,i=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=wt(0,0));for(var r=0;r<e.length;r++)i=e.start(r),t<(o=e.end(r))&&(o=t),n+=o-i;return n/t}yt.prototype.supportsRaf_="function"==typeof p.requestAnimationFrame&&"function"==typeof p.cancelAnimationFrame,yt.registerComponent("Component",yt);for(var Tt={},Et=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ct=Et[0],St=void 0,xt=0;xt<Et.length;xt++)if(Et[xt][1]in f){St=Et[xt];break}if(St)for(var It=0;It<St.length;It++)Tt[Ct[It]]=St[It];function Mt(e){if(e instanceof Mt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:G(e)&&("number"==typeof e.code&&(this.code=e.code),U(this,e)),this.message||(this.message=Mt.defaultMessages[this.code]||"")}Mt.prototype.code=0,Mt.prototype.message="",Mt.prototype.status=null,Mt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Mt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Lt=0;Lt<Mt.errorTypes.length;Lt++)Mt[Mt.errorTypes[Lt]]=Lt,Mt.prototype[Mt.errorTypes[Lt]]=Lt;function Bt(e){return null!=e&&"function"==typeof e.then}function At(e){Bt(e)&&e.then(null,function(e){})}var Ot=function(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){return i[t]&&(e[t]=i[t]),e},{cues:i.cues&&Array.prototype.map.call(i.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},Ht="vjs-modal-dialog",Rt=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=se("div",{className:Ht+"-content"},{role:"document"}),n.descEl_=se("p",{className:Ht+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),ce(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},o.prototype.buildCSSClass=function(){return Ht+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},o.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},o.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},o.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},o.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",nt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},o.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",nt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},o.prototype.fill=function(){this.fillWith(this.content())},o.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Ie(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},o.prototype.empty=function(){this.trigger("beforemodalempty"),Ce(this.contentEl()),this.trigger("modalempty")},o.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},o.prototype.conditionalFocus_=function(){var e=f.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(f,"keydown",this.handleKeyDown))},o.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(f,"keydown",this.handleKeyDown)},o.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,o=0;o<t.length;o++)if(n===t[o]){i=o;break}f.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}},o.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof p.HTMLAnchorElement||e instanceof p.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof p.HTMLInputElement||e instanceof p.HTMLSelectElement||e instanceof p.HTMLTextAreaElement||e instanceof p.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof p.HTMLIFrameElement||e instanceof p.HTMLObjectElement||e instanceof p.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},o}(yt);Rt.prototype.options_={pauseOnOpen:!0,temporary:!0},yt.registerComponent("ModalDialog",Rt);var Nt=function(r){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;j(this,a);var n=F(this,r.call(this));if(!t&&(t=n,M))for(var i in t=f.createElement("custom"),a.prototype)"constructor"!==i&&(t[i]=a.prototype[i]);t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<e.length;o++)t.addTrack(e[o]);return F(n,t)}return P(a,r),a.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},a.prototype.removeTrack=function(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},a.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},a}(ot);for(var jt in Nt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Nt.prototype.allowedEvents_)Nt.prototype["on"+jt]=null;var Pt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Ft=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];j(this,s);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].enabled){Pt(t,t[i]);break}if(M){for(var o in n=f.createElement("custom"),Nt.prototype)"constructor"!==o&&(n[o]=Nt.prototype[o]);for(var r in s.prototype)"constructor"!==r&&(n[r]=s.prototype[r])}return(n=e=F(this,a.call(this,t,n))).changing_=!1,F(e,n)}return P(s,a),s.prototype.addTrack=function(e){var t=this;e.enabled&&Pt(this,e),a.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,Pt(t,e),t.changing_=!1,t.trigger("change"))})},s}(Nt),Dt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},qt=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];j(this,s);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].selected){Dt(t,t[i]);break}if(M){for(var o in n=f.createElement("custom"),Nt.prototype)"constructor"!==o&&(n[o]=Nt.prototype[o]);for(var r in s.prototype)"constructor"!==r&&(n[r]=s.prototype[r])}return(n=e=F(this,a.call(this,t,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),F(e,n)}return P(s,a),s.prototype.addTrack=function(e){var t=this;e.selected&&Dt(this,e),a.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,Dt(t,e),t.changing_=!1,t.trigger("change"))})},s}(Nt),zt=function(r){function a(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];j(this,a);var n=void 0;if(M){for(var i in n=f.createElement("custom"),Nt.prototype)"constructor"!==i&&(n[i]=Nt.prototype[i]);for(var o in a.prototype)"constructor"!==o&&(n[o]=a.prototype[o])}return e=F(this,r.call(this,t,n)),F(n=e,n)}return P(a,r),a.prototype.addTrack=function(e){r.prototype.addTrack.call(this,e),e.addEventListener("modechange",nt(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",nt(this,function(){this.trigger("selectedlanguagechange")}))},a}(Nt),Vt=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];j(this,r);var t=this;if(M)for(var n in t=f.createElement("custom"),r.prototype)"constructor"!==n&&(t[n]=r.prototype[n]);t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=e.length;i<o;i++)t.addTrackElement_(e[i]);if(M)return t}return r.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},r.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},r.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},r}(),Ut=function(){function i(e){j(this,i);var t=this;if(M)for(var n in t=f.createElement("custom"),i.prototype)"constructor"!==n&&(t[n]=i.prototype[n]);if(i.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function(){return this.length_}}),M)return t}return i.prototype.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)o.call(this,n)},i.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},i}(),Gt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Jt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Xt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Wt={disabled:"disabled",hidden:"hidden",showing:"showing"},Kt=function(s){function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};j(this,c);var t=F(this,s.call(this)),n=t;if(M)for(var i in n=f.createElement("custom"),c.prototype)"constructor"!==i&&(n[i]=c.prototype[i]);var o={id:e.id||"vjs_track_"+He(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(e){Object.defineProperty(n,e,{get:function(){return o[e]},set:function(){}})};for(var a in o)r(a);return F(t,n)}return P(c,s),c}(ot),Yt=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=f.createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&((o=f.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),f.body.appendChild(o));for(var r={},a=0;a<t.length;a++)r[t[a]]=n[t[a]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=p.location.protocol),i&&f.body.removeChild(o),r},$t=function(e){if(!e.match(/^https?:\/\//)){var t=f.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Qt=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},Zt=function(e){var t=p.location,n=Yt(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},en=(Object.freeze||Object)({parseUrl:Yt,getAbsoluteURL:$t,getFileExtension:Qt,isCrossOrigin:Zt}),tn=function(e){var t=nn.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},nn=Object.prototype.toString,on=t(function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),rn=Object.prototype.toString,an=Object.prototype.hasOwnProperty,sn=function(e){if(!e)return{};var r={};return function(e,t,n){if(!tn(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===rn.call(e)?function(e,t,n){for(var i=0,o=e.length;i<o;i++)an.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e.charAt(i),i,e)}(e,t,n):function(e,t,n){for(var i in e)an.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n)}(on(e).split("\n"),function(e){var t,n=e.indexOf(":"),i=on(e.slice(0,n)).toLowerCase(),o=on(e.slice(n+1));void 0===r[i]?r[i]=o:(t=r[i],"[object Array]"===Object.prototype.toString.call(t)?r[i].push(o):r[i]=[r[i],o])}),r},cn=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)ln.call(n,i)&&(e[i]=n[i])}return e},ln=Object.prototype.hasOwnProperty,un=hn;function dn(e,t,n){var i=e;return tn(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=cn(t,{uri:e}),i.callback=n,i}function hn(e,t,n){return pn(t=dn(e,t,n))}function pn(i){if(void 0===i.callback)throw new Error("callback argument missing");var o=!1,r=function(e,t,n){o||(o=!0,i.callback(e,t,n))};function t(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,m)}function e(){if(!a){var e;clearTimeout(c),e=i.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=m,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(s),f)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:u,headers:{},url:l,rawRequest:s},s.getAllResponseHeaders&&(t.headers=sn(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),r(n,t,t.body)}}var n,a,s=i.xhr||null;s||(s=i.cors||i.useXDR?new hn.XDomainRequest:new hn.XMLHttpRequest);var c,l=s.url=i.uri||i.url,u=s.method=i.method||"GET",d=i.body||i.data,h=s.headers=i.headers||{},p=!!i.sync,f=!1,m={body:void 0,headers:{},statusCode:0,method:u,url:l,rawRequest:s};if("json"in i&&!1!==i.json&&(f=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==u&&"HEAD"!==u&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(!0===i.json?d:i.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(u,l,!p,i.username,i.password),p||(s.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(c=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},i.timeout)),s.setRequestHeader)for(n in h)h.hasOwnProperty(n)&&s.setRequestHeader(n,h[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(s.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(s),s.send(d||null),s}hn.XMLHttpRequest=p.XMLHttpRequest||function(){},hn.XDomainRequest="withCredentials"in new hn.XMLHttpRequest?hn.XMLHttpRequest:p.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){hn["delete"===i?"del":i]=function(e,t,n){return(t=dn(e,t,n)).method=i.toUpperCase(),pn(t)}});var fn=function(e,t){var n=new p.WebVTT.Parser(p,p.vttjs,p.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(p.console&&p.console.groupCollapsed&&p.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return $.error(e)}),p.console&&p.console.groupEnd&&p.console.groupEnd()),n.flush()},mn=function(d){function h(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(j(this,h),!t.tech)throw new Error("A tech was not provided.");var n=gt(t,{kind:Xt[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=Wt[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden");var r=e=F(this,d.call(this,n));if(r.tech_=n.tech,M)for(var a in h.prototype)"constructor"!==a&&(r[a]=h.prototype[a]);r.cues_=[],r.activeCues_=[];var s=new Ut(r.cues_),c=new Ut(r.activeCues_),l=!1,u=nt(r,function(){this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==i&&r.tech_.ready(function(){r.tech_.on("timeupdate",u)},!0),Object.defineProperty(r,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(r,"mode",{get:function(){return i},set:function(e){var t=this;Wt[e]&&("showing"===(i=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0),this.trigger("modechange"))}}),Object.defineProperty(r,"cues",{get:function(){return this.loaded_?s:null},set:function(){}}),Object.defineProperty(r,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];o.startTime<=e&&o.endTime>=e?t.push(o):o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e&&t.push(o)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(l=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function(){}}),n.src?(r.src=n.src,function(e,o){var t={uri:e},n=Zt(e);n&&(t.cors=n),un(t,nt(this,function(e,t,n){if(e)return $.error(e,t);if(o.loaded_=!0,"function"!=typeof p.WebVTT){if(o.tech_){var i=function(){return fn(n,o)};o.tech_.on("vttjsloaded",i),o.tech_.on("vttjserror",function(){$.error("vttjs failed to load, stopping trying to process "+o.src),o.tech_.off("vttjsloaded",i)})}}else fn(n,o)}))}(n.src,r)):r.loaded_=!0,F(e,r)}return P(h,d),h.prototype.addCue=function(e){var t=e;if(p.vttjs&&!(e instanceof p.vttjs.VTTCue)){for(var n in t=new p.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},h.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},h}(Kt);mn.prototype.allowedEvents_={cuechange:"cuechange"};var vn=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};j(this,s);var n=gt(t,{kind:Jt[t.kind]||""}),i=e=F(this,a.call(this,n)),o=!1;if(M)for(var r in s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);return Object.defineProperty(i,"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,F(e,i)}return P(s,a),s}(Kt),gn=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};j(this,s);var n=gt(t,{kind:Gt[t.kind]||""}),i=e=F(this,a.call(this,n)),o=!1;if(M)for(var r in s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);return Object.defineProperty(i,"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),F(e,i)}return P(s,a),s}(Kt),yn=function(a){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};j(this,s);var t=F(this,a.call(this)),n=void 0,i=t;if(M)for(var o in i=f.createElement("custom"),s.prototype)"constructor"!==o&&(i[o]=s.prototype[o]);var r=new mn(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperty(i,"readyState",{get:function(){return n}}),Object.defineProperty(i,"track",{get:function(){return r}}),n=0,r.addEventListener("loadeddata",function(){n=2,i.trigger({type:"load",target:i})}),M?F(t,i):t}return P(s,a),s}(ot);yn.prototype.allowedEvents_={load:"load"},yn.NONE=0,yn.LOADING=1,yn.LOADED=2,yn.ERROR=3;var _n={audio:{ListClass:Ft,TrackClass:vn,capitalName:"Audio"},video:{ListClass:qt,TrackClass:gn,capitalName:"Video"},text:{ListClass:zt,TrackClass:mn,capitalName:"Text"}};Object.keys(_n).forEach(function(e){_n[e].getterName=e+"Tracks",_n[e].privateName=e+"Tracks_"});var bn={remoteText:{ListClass:zt,TrackClass:mn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Vt,TrackClass:yn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},wn=gt(_n,bn);bn.names=Object.keys(bn),_n.names=Object.keys(_n),wn.names=[].concat(bn.names).concat(_n.names);var kn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Tn(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function En(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function Cn(){this.values=kn(null)}function Sn(e,t,n,i){var o=i?e.split(i):[e];for(var r in o)if("string"==typeof o[r]){var a=o[r].split(n);2===a.length&&t(a[0],a[1])}}function xn(t,e,r){var n,i,a,o=t;function s(){var e=En(t);if(null===e)throw new Tn(Tn.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function c(){t=t.replace(/^\s+/,"")}if(c(),e.startTime=s(),c(),"--\x3e"!==t.substr(0,3))throw new Tn(Tn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),c(),e.endTime=s(),c(),n=t,i=e,a=new Cn,Sn(n,function(e,t){switch(e){case"region":for(var n=r.length-1;0<=n;n--)if(r[n].id===t){a.set(e,r[n].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];a.integer(e,o),a.percent(e,o)&&a.set("snapToLines",!1),a.alt(e,o,["auto"]),2===i.length&&a.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),a.percent(e,i[0]),2===i.length&&a.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),i.region=a.get("region",null),i.vertical=a.get("vertical",""),i.line=a.get("line","auto"),i.lineAlign=a.get("lineAlign","start"),i.snapToLines=a.get("snapToLines",!0),i.size=a.get("size",100),i.align=a.get("align","middle"),i.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},i.align),i.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},i.align)}((Tn.prototype=kn(Error.prototype)).constructor=Tn).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Cn.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var In={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},Mn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Ln={v:"title",lang:"lang"},Bn={rt:"ruby"};function An(r,n){function e(){if(!n)return null;var e,t=n.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],n=n.substr(e.length),e}function t(e){return In[e]}function i(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],t);return e}function o(e,t){var n=Mn[e];if(!n)return null;var i=r.document.createElement(n);i.localName=n;var o=Ln[e];return o&&t&&(i[o]=t.trim()),i}for(var a,s,c,l=r.document.createElement("div"),u=l,d=[];null!==(a=e());)if("<"!==a[0])u.appendChild(r.document.createTextNode(i(a)));else{if("/"===a[1]){d.length&&d[d.length-1]===a.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var h,p=En(a.substr(1,a.length-2));if(p){h=r.document.createProcessingInstruction("timestamp",p),u.appendChild(h);continue}var f=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(h=o(f[1],f[3])))continue;if(s=u,Bn[(c=h).localName]&&Bn[c.localName]!==s.localName)continue;f[2]&&(h.className=f[2].substr(1).replace("."," ")),d.push(f[1]),u.appendChild(h),u=h}return l}var On=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Hn(e){for(var t=0;t<On.length;t++){var n=On[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function Rn(){}function Nn(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",r="rgba(0, 0, 0, 0.8)";i&&(o="rgb(255, 255, 255)",r="rgb(0, 0, 0)"),Rn.call(this),this.cue=t,this.cueDiv=An(e,t.text);var a={color:o,backgroundColor:r,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(a.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function o(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[e.length=0]:n}return"ruby"===t.tagName?r(e):t.childNodes?(o(e,t),r(e)):void 0}for(o(t,e);n=r(t);)for(var i=0;i<n.length;i++)if(Hn(n.charCodeAt(i)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function jn(e){var t,n,i,o,r=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,r&&!this.lineHeight&&(this.lineHeight=13)}function Pn(e,t,s,c){var n=new jn(t),i=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&i++;return-1*++i}(i),r=[];if(i.snapToLines){var a;switch(i.vertical){case"":r=["+y","-y"],a="height";break;case"rl":r=["+x","-x"],a="width";break;case"lr":r=["-x","+x"],a="width"}var l=n.lineHeight,u=l*Math.round(o),d=s[a]+l,h=r[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/l)*l),o<0&&(u+=""===i.vertical?s.height:s.width,r=r.reverse()),n.move(h,u)}else{var p=n.lineHeight/s.height*100;switch(i.lineAlign){case"middle":o-=p/2;break;case"end":o-=p}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}r=["+y","-x","+x","-y"],n=new jn(t)}var f=function(e,t){for(var n,i=new jn(e),o=1,r=0;r<t.length;r++){for(;e.overlapsOppositeAxis(s,t[r])||e.within(s)&&e.overlapsAny(c);)e.move(t[r]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<o&&(n=new jn(e),o=a),e=new jn(i)}return n||i}(n,r);t.move(f.toCSSCompatValues(s))}function Fn(){}Rn.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},Rn.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Nn.prototype=kn(Rn.prototype)).constructor=Nn,jn.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},jn.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},jn.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},jn.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},jn.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},jn.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},jn.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},jn.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},Fn.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Fn.convertCueToDOMTree=function(e,t){return e&&t?An(e,t):null},Fn.processCues=function(i,o,e){if(!i||!o||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var r=i.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",e.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(o)){var a=[],s=jn.getSimpleBoxPosition(r),c={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var e,t,n=0;n<o.length;n++)t=o[n],e=new Nn(i,t,c),r.appendChild(e.div),Pn(0,e,s,a),t.displayState=e.div,a.push(jn.getSimpleBoxPosition(e))}()}else for(var t=0;t<o.length;t++)r.appendChild(o[t].displayState)},(Fn.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof Tn))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,r=this;function n(){for(var e=r.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var o=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Tn(Tn.Errors.BadSignature);r.state="HEADER"}for(var a=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:i=n(),r.state){case"HEADER":/:/.test(i)?(t=i).match(/X-TIMESTAMP-MAP/)?Sn(t,function(e,t){switch(e){case"X-TIMESTAMP-MAP":n=t,i=new Cn,Sn(n,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",En(t))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}var n,i},/=/):Sn(t,function(e,t){switch(e){case"Region":!function(e){var o=new Cn;if(Sn(e,function(e,t){switch(e){case"id":o.set(e,t);break;case"width":o.percent(e,t);break;case"lines":o.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new Cn;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;o.set(e+"X",i.get("x")),o.set(e+"Y",i.get("y"));break;case"scroll":o.alt(e,t,["up"])}},/=/,/\s/),o.has("id")){var t=new(r.vttjs.VTTRegion||r.window.VTTRegion);t.width=o.get("width",100),t.lines=o.get("lines",3),t.regionAnchorX=o.get("regionanchorX",0),t.regionAnchorY=o.get("regionanchorY",100),t.viewportAnchorX=o.get("viewportanchorX",0),t.viewportAnchorY=o.get("viewportanchorY",100),t.scroll=o.get("scroll",""),r.onregion&&r.onregion(t),r.regionList.push({id:o.get("id"),region:t})}}(t)}},/:/):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{xn(i,r.cue,r.regionList)}catch(e){r.reportOrThrowError(e),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i;continue;case"BADCUE":i||(r.state="ID");continue}}}catch(e){r.reportOrThrowError(e),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Tn(Tn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Dn=Fn,qn={"":!0,lr:!0,rl:!0},zn={start:!0,middle:!0,end:!0,left:!0,right:!0};function Vn(e){return"string"==typeof e&&!!zn[e.toLowerCase()]&&e.toLowerCase()}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function Gn(e,t,n){var i=this,o=/MSIE\s8\.0/.test(navigator.userAgent),r={};o?i=document.createElement("custom"):r.enumerable=!0,i.hasBeenReset=!1;var a="",s=!1,c=e,l=t,u=n,d=null,h="",p=!0,f="auto",m="start",v=50,g="middle",y=50,_="middle";if(Object.defineProperty(i,"id",Un({},r,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(i,"pauseOnExit",Un({},r,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(i,"startTime",Un({},r,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",Un({},r,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",Un({},r,{get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",Un({},r,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",Un({},r,{get:function(){return h},set:function(e){var t,n="string"==typeof(t=e)&&!!qn[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",Un({},r,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",Un({},r,{get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",Un({},r,{get:function(){return m},set:function(e){var t=Vn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",Un({},r,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",Un({},r,{get:function(){return g},set:function(e){var t=Vn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",Un({},r,{get:function(){return y},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",Un({},r,{get:function(){return _},set:function(e){var t=Vn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),i.displayState=void 0,o)return i}Gn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Jn=Gn,Xn={"":!0,up:!0};function Wn(e){return"number"==typeof e&&0<=e&&e<=100}var Kn=function(){var t=100,n=3,i=0,o=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Wn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Wn(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Wn(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!Wn(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!Wn(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t,n="string"==typeof(t=e)&&!!Xn[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");s=n}}})},Yn=t(function(e){var t=e.exports={WebVTT:Dn,VTTCue:Jn,VTTRegion:Kn};p.vttjs=t,p.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,o=p.VTTCue,r=p.VTTRegion;t.shim=function(){p.VTTCue=n,p.VTTRegion=i},t.restore=function(){p.VTTCue=o,p.VTTRegion=r},p.VTTCue||t.shim()}),$n=function(t){function o(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};j(this,o),n.reportTouchActivity=!1;var i=F(this,t.call(this,null,n,e));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),wn.names.forEach(function(e){var t=wn[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new wn.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return P(o,t),o.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},o.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(nt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},o.prototype.onDurationChange=function(e){this.duration_=this.duration()},o.prototype.buffered=function(){return wt(0,0)},o.prototype.bufferedPercent=function(){return kt(this.buffered(),this.duration_)},o.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.dispose=function(){this.clearTracks(_n.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},o.prototype.clearTracks=function(e){var o=this;(e=[].concat(e)).forEach(function(e){for(var t=o[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&o.removeRemoteTextTrack(i),t.removeTrack(i)}})},o.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},o.prototype.reset=function(){},o.prototype.error=function(e){return void 0!==e&&(this.error_=new Mt(e),this.trigger("error")),this.error_},o.prototype.played=function(){return this.hasStarted_?wt(0,0):wt()},o.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.initTrackListeners=function(){var o=this;_n.names.forEach(function(e){var t=_n[e],n=function(){o.trigger(e+"trackchange")},i=o[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),o.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},o.prototype.addWebVttScript_=function(){var e=this;if(!p.WebVTT)if(f.body.contains(this.el())){if(!this.options_["vtt.js"]&&J(Yn)&&0<Object.keys(Yn).length)return void this.trigger("vttjsloaded");var t=f.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),p.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},o.prototype.emulateTextTracks=function(){var e=this,n=this.textTracks(),t=this.remoteTextTracks(),i=function(e){return n.addTrack(e.track)},o=function(e){return n.removeTrack(e.track)};t.on("addtrack",i),t.on("removetrack",o),this.addWebVttScript_();var r=function(){return e.trigger("texttrackchange")},a=function(){r();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",r),"showing"===t.mode&&t.addEventListener("cuechange",r)}};a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",o),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",r)})},o.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=e.textTracks();o.kind=t,n&&(o.label=n),i&&(o.language=i),o.tech=e;var a=new wn.text.TrackClass(o);return r.addTrack(a),a}(this,e,t,n)},o.prototype.createRemoteTextTrack=function(e){var t=gt(e,{tech:this});return new bn.remoteTextEl.TrackClass(t)},o.prototype.addRemoteTextTrack=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&($.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(i.track)}),i},o.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},o.prototype.getVideoPlaybackQuality=function(){return{}},o.prototype.setPoster=function(){},o.prototype.playsinline=function(){},o.prototype.setPlaysinline=function(){},o.prototype.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(e,t){return o.canPlayType(e.type)},o.isTech=function(e){return e.prototype instanceof o||e instanceof o||e===o},o.registerTech=function(e,t){if(o.techs_||(o.techs_={}),!o.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=vt(e),o.techs_[e]=t,"Tech"!==e&&o.defaultTechOrder_.push(e),t},o.getTech=function(e){if(e)return e=vt(e),o.techs_&&o.techs_[e]?o.techs_[e]:p&&p.videojs&&p.videojs[e]?($.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),p.videojs[e]):void 0},o}(yt);wn.names.forEach(function(e){var t=wn[e];$n.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),$n.prototype.featuresVolumeControl=!0,$n.prototype.featuresFullscreenResize=!1,$n.prototype.featuresPlaybackRate=!1,$n.prototype.featuresProgressEvents=!1,$n.prototype.featuresSourceset=!1,$n.prototype.featuresTimeupdateEvents=!1,$n.prototype.featuresNativeTextTracks=!1,$n.withSourceHandlers=function(o){o.registerSourceHandler=function(e,t){var n=o.sourceHandlers;n||(n=o.sourceHandlers=[]),void 0===t&&(t=n.length),n.splice(t,0,e)},o.canPlayType=function(e){for(var t=o.sourceHandlers||[],n=void 0,i=0;i<t.length;i++)if(n=t[i].canPlayType(e))return n;return""},o.selectSourceHandler=function(e,t){for(var n=o.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},o.canPlaySource=function(e,t){var n=o.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},o.prototype),o.prototype.setSource=function(e){var t=o.selectSourceHandler(e,this.options_);t||(o.nativeSourceHandler?t=o.nativeSourceHandler:$.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==o.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},o.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},yt.registerComponent("Tech",$n),$n.registerTech("Tech",$n),$n.defaultTechOrder_=[];var Qn={},Zn={},ei={};function ti(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o="call"+vt(n),r=e.reduce(ri(o),i),a=r===ei,s=a?null:t[n](r);return function(e,t,n,i){for(var o=e.length-1;0<=o;o--){var r=e[o];r[t]&&r[t](i,n)}}(e,n,s,a),s}var ni={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},ii={setCurrentTime:1},oi={play:1,pause:1};function ri(n){return function(e,t){return e===ei?ei:t[n]?t[n](e):e}}var ai={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},si=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=Qt(e);return ai[t.toLowerCase()]||""};function ci(e){var t=si(e.src);return!e.type&&t&&(e.type=t),e}var li=function(l){function u(e,t,n){j(this,u);var i=gt({createEl:!1},t),o=F(this,l.call(this,e,i,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var r=0,a=t.playerOptions.techOrder;r<a.length;r++){var s=vt(a[r]),c=$n.getTech(s);if(s||(c=yt.getComponent(s)),c&&c.isSupported()){e.loadTech_(s);break}}return o}return P(u,l),u}(yt);yt.registerComponent("MediaLoader",li);var ui=function(o){function i(e,t){j(this,i);var n=F(this,o.call(this,e,t));return n.emitTapEvents(),n.enable(),n}return P(i,o),i.prototype.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=U({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&$.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=U({role:"button"},n),this.tabIndex_=t.tabIndex;var i=o.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},i.prototype.dispose=function(){this.controlTextEl_=null,o.prototype.dispose.call(this)},i.prototype.createControlTextEl=function(e){return this.controlTextEl_=se("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,ce(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},i.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+o.prototype.buildCSSClass.call(this)},i.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},i.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},i.prototype.handleClick=function(e){},i.prototype.handleFocus=function(e){Ge(f,"keydown",nt(this,this.handleKeyPress))},i.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):o.prototype.handleKeyPress&&o.prototype.handleKeyPress.call(this,e)},i.prototype.handleBlur=function(e){Je(f,"keydown",nt(this,this.handleKeyPress))},i}(yt);yt.registerComponent("ClickableComponent",ui);var di=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.update(),e.on("posterchange",nt(n,n.update)),n}return P(o,i),o.prototype.dispose=function(){this.player().off("posterchange",this.update),i.prototype.dispose.call(this)},o.prototype.createEl=function(){var e=se("div",{className:"vjs-poster",tabIndex:-1});return H||(this.fallbackImg_=se("img"),e.appendChild(this.fallbackImg_)),e},o.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},o.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},o.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},o}(ui);yt.registerComponent("PosterImage",di);var hi="#222",pi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function fi(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function mi(e,t,n){try{e.style[t]=n}catch(e){return}}var vi=function(o){function r(n,e,t){j(this,r);var i=F(this,o.call(this,n,e,t));return n.on("loadstart",nt(i,i.toggleDisplay)),n.on("texttrackchange",nt(i,i.updateDisplay)),n.on("loadstart",nt(i,i.preselectTrack)),n.ready(nt(i,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",nt(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),i}return P(r,o),r.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,o=void 0,r=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?r=s:r||(r=s):n&&!n.enabled?o=i=r=null:s.default&&("descriptions"!==s.kind||i?s.kind in e&&!o&&(o=s):i=s)}r?r.mode="showing":o?o.mode="showing":i&&(i.mode="showing")},r.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},r.prototype.clearDisplay=function(){"function"==typeof p.WebVTT&&p.WebVTT.processCues(p,[],this.el_)},r.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,i=e.length;i--;){var o=e[i];"showing"===o.mode&&("descriptions"===o.kind?t=o:n=o)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},r.prototype.updateForTrack=function(e){if("function"==typeof p.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(p.WebVTT.processCues(p,t,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),o=t.length;o--;){var r=t[o];if(r){var a=r.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&mi(a.firstChild,"color",fi(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&mi(a.firstChild,"backgroundColor",fi(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?mi(a,"backgroundColor",fi(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+hi:"raised"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+hi:"depressed"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+hi:"uniform"===i.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+hi)),i.fontPercent&&1!==i.fontPercent){var s=p.parseFloat(a.style.fontSize);a.style.fontSize=s*i.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=pi[i.fontFamily])}}}},r}(yt);yt.registerComponent("TextTrackDisplay",vi);var gi=function(o){function e(){return j(this,e),F(this,o.apply(this,arguments))}return P(e,o),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=se("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),i=o.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},e}(yt);yt.registerComponent("LoadingSpinner",gi);var yi=function(t){function e(){return j(this,e),F(this,t.apply(this,arguments))}return P(e,t),e.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=U({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=U({type:"button"},n);var i=yt.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},e.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return $.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),yt.prototype.addChild.call(this,e,t)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(ui);yt.registerComponent("Button",yi);var _i=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-big-play-button"},o.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var o=function(){return i.focus()};Bt(t)?t.then(o,function(){}):this.setTimeout(o,1)}else this.player_.focus()}},o.prototype.handleKeyPress=function(e){this.mouseused_=!1,i.prototype.handleKeyPress.call(this,e)},o.prototype.handleMouseDown=function(e){this.mouseused_=!0},o}(yi);_i.prototype.controlText_="Play Video",yt.registerComponent("BigPlayButton",_i);var bi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Close")),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},o}(yi);yt.registerComponent("CloseButton",bi);var wi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),n.on(e,"ended",n.handleEnded),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},o.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},o.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},o.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},o}(yi);wi.prototype.controlText_="Play",yt.registerComponent("PlayToggle",wi);var ki=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),r=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=i=n="-"),(o=0<o||0<a?o+":":"")+(i=((o||10<=r)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},Ti=ki,Ei=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e;return Ti(e,t)},Ci=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.throttledUpdateContent=it(nt(n,n.updateContent),25),n.on(e,"timeupdate",n.throttledUpdateContent),n}return P(o,i),o.prototype.createEl=function(e){var t=this.buildCSSClass(),n=i.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=se("span",{className:t+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},o.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,i.prototype.dispose.call(this)},o.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=f.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},o.prototype.formatTime_=function(e){return Ei(e)},o.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},o.prototype.updateContent=function(e){},o}(yt);Ci.prototype.labelText_="Time",Ci.prototype.controlText_="Time",yt.registerComponent("TimeDisplay",Ci);var Si=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"ended",n.handleEnded),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-current-time"},o.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},o.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},o}(Ci);Si.prototype.labelText_="Current Time",Si.prototype.controlText_="Current Time",yt.registerComponent("CurrentTimeDisplay",Si);var xi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"durationchange",n.updateContent),n.on(e,"loadedmetadata",n.throttledUpdateContent),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-duration"},o.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},o}(Ci);xi.prototype.labelText_="Duration",xi.prototype.controlText_="Duration",yt.registerComponent("DurationDisplay",xi);var Ii=function(e){function t(){return j(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(yt);yt.registerComponent("TimeDivider",Ii);var Mi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"durationchange",n.throttledUpdateContent),n.on(e,"ended",n.handleEnded),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-remaining-time"},o.prototype.formatTime_=function(e){return"-"+i.prototype.formatTime_.call(this,e)},o.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},o.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},o}(Ci);Mi.prototype.labelText_="Remaining Time",Mi.prototype.controlText_="Remaining Time",yt.registerComponent("RemainingTimeDisplay",Mi);var Li=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return P(o,i),o.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=se("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},o.prototype.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},o.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},o}(yt);yt.registerComponent("LiveDisplay",Li);var Bi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}return P(o,i),o.prototype.enabled=function(){return this.enabled_},o.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},o.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},o.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=U({tabIndex:0},t),n=U({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),i.prototype.createEl.call(this,e,t,n)},o.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),_e(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},o.prototype.handleMouseMove=function(e){},o.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;be(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},o.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style;return this.vertical()?i.height=n:i.width=n,e}}},o.prototype.calculateDistance=function(e){var t=Te(this.el_,e);return this.vertical()?t.y:t.x},o.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},o.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},o.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},o.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},o.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},o}(yt);yt.registerComponent("Slider",Bi);var Ai=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.partEls_=[],n.on(e,"progress",n.update),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},o.prototype.dispose=function(){this.partEls_=null,i.prototype.dispose.call(this)},o.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,r=function(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.el_.style.width=r(i,n);for(var a=0;a<t.length;a++){var s=t.start(a),c=t.end(a),l=o[a];l||(l=this.el_.appendChild(se()),o[a]=l),l.style.left=r(s,i),l.style.width=r(c-s,i)}for(var u=o.length;u>t.length;u--)this.el_.removeChild(o[u-1]);o.length=t.length},o}(yt);yt.registerComponent("LoadProgressBar",Ai);var Oi=function(e){function t(){return j(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var i=we(this.el_),o=we(this.player_.el()),r=e.width*t;if(o&&i){var a=e.left-o.left+r,s=e.width-r+(o.right-e.right),c=i.width/2;a<c?c+=c-a:s<c&&(c=s),c<0?c=0:c>i.width&&(c=i.width),this.el_.style.right="-"+c+"px",ce(this.el_,n)}},t}(yt);yt.registerComponent("TimeTooltip",Oi);var Hi=function(e){function t(){return j(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(i,o){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),t=Ei(e,r.player_.duration()),n=r.getChild("timeTooltip");n&&n.update(i,o,t)})},t}(yt);Hi.prototype.options_={children:[]},L&&!(8<L)||_||w||Hi.prototype.options_.children.push("timeTooltip"),yt.registerComponent("PlayProgressBar",Hi);var Ri=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.update=it(nt(n,n.update),25),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.prototype.update=function(n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=o.player_.duration(),t=Ei(i*e,e);o.el_.style.left=n.width*i+"px",o.getChild("timeTooltip").update(n,i,t)})},o}(yt);Ri.prototype.options_={children:["timeTooltip"]},yt.registerComponent("MouseTimeDisplay",Ri);var Ni=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.setEventHandlers_(),n}return P(o,i),o.prototype.setEventHandlers_=function(){var e=this;this.update=it(nt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},o.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ei(e,n),Ei(n,n)],"{1} of {2}")),this.bar.update(we(this.el_),t)},o.prototype.update=function(e){var t=i.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},o.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},o.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},o.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return 1<=e?1:e},o.prototype.handleMouseDown=function(e){Me(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,e))},o.prototype.handleMouseMove=function(e){if(Me(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},o.prototype.enable=function(){i.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},o.prototype.disable=function(){i.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},o.prototype.handleMouseUp=function(e){i.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&At(this.player_.play())},o.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},o.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},o.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):i.prototype.handleKeyPress&&i.prototype.handleKeyPress.call(this,e)},o}(Bi);Ni.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},L&&!(8<L)||_||w||Ni.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ni.prototype.playerEvent="timeupdate",yt.registerComponent("SeekBar",Ni);var ji=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.handleMouseMove=it(nt(n,n.handleMouseMove),25),n.throttledHandleMouseSeek=it(nt(n,n.handleMouseSeek),25),n.enable(),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},o.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),i=t.el(),o=we(i),r=Te(i,e).x;1<r?r=1:r<0&&(r=0),n&&n.update(o,r)}},o.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},o.prototype.enabled=function(){return this.enabled_},o.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},o.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},o.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},o}(yt);ji.prototype.options_={children:["seekBar"]},yt.registerComponent("ProgressControl",ji);var Pi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"fullscreenchange",n.handleFullscreenChange),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},o.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},o}(yi);Pi.prototype.controlText_="Fullscreen",yt.registerComponent("FullscreenToggle",Pi);var Fi=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Di=function(e){function t(){return j(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(yt);yt.registerComponent("VolumeLevel",Di);var qi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},o.prototype.handleMouseDown=function(e){Me(e)&&i.prototype.handleMouseDown.call(this,e)},o.prototype.handleMouseMove=function(e){Me(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},o.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},o.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},o.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},o.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},o.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},o.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},o.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},o}(Bi);qi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},qi.prototype.playerEvent="volumechange",yt.registerComponent("VolumeBar",qi);var zi=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};j(this,o),t.vertical=t.vertical||!1,(void 0===t.volumeBar||J(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical);var n=F(this,i.call(this,e,t));return Fi(n,e),n.throttledHandleMouseMove=it(nt(n,n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}return P(o,i),o.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},o.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},o}(yt);zi.prototype.options_={children:["volumeBar"]},yt.registerComponent("VolumeControl",zi);var Vi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return Fi(n,e),n.on(e,["loadstart","volumechange"],n.update),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},o.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},o.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)he(this.el_,"vjs-vol-"+n);de(this.el_,"vjs-vol-"+t)},o.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},o}(yi);Vi.prototype.controlText_="Mute",yt.registerComponent("MuteToggle",Vi);var Ui=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};j(this,o),void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||J(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline);var n=F(this,i.call(this,e,t));return Fi(n,e),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}return P(o,i),o.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},o.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},o.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},o}(yt);Ui.prototype.options_={children:["muteToggle","volumeControl"]},yt.registerComponent("VolumePanel",Ui);var Gi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return P(o,i),o.prototype.addItem=function(t){this.addChild(t),t.on("click",nt(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},o.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=se(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Ge(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},o.prototype.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},o.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},o.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},o.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},o.prototype.focus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},o}(yt);yt.registerComponent("Menu",Gi);var Ji=function(o){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};j(this,r);var n=F(this,o.call(this,e,t));n.menuButton_=new yi(e,t),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=yi.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}return P(r,o),r.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.prototype.createMenu=function(){var e=new Gi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=se("li",{className:"vjs-menu-title",innerHTML:vt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),le(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},r.prototype.createItems=function(){},r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+yi.prototype.buildCSSClass()+" "+o.prototype.buildCSSClass.call(this)},r.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+o.prototype.buildCSSClass.call(this)},r.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},r.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",nt(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},r.prototype.focus=function(){this.menuButton_.focus()},r.prototype.blur=function(){this.menuButton_.blur()},r.prototype.handleFocus=function(){Ge(f,"keydown",nt(this,this.handleKeyPress))},r.prototype.handleBlur=function(){Je(f,"keydown",nt(this,this.handleKeyPress))},r.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},r.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},r.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),_&&re())return;this.menu.focus()}},r.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},r}(yt);yt.registerComponent("MenuButton",Ji);var Xi=function(r){function a(e,t){j(this,a);var n=t.tracks,i=F(this,r.call(this,e,t));if(i.items.length<=1&&i.hide(),!n)return F(i);var o=nt(i,i.update);return n.addEventListener("removetrack",o),n.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",function(){n.removeEventListener("removetrack",o),n.removeEventListener("addtrack",o)}),i}return P(a,r),a}(Ji);yt.registerComponent("TrackButton",Xi);var Wi=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.selectable=t.selectable,n.isSelected_=t.selected||!1,n.selected(n.isSelected_),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}return P(o,i),o.prototype.createEl=function(e,t,n){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",U({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),n)},o.prototype.handleClick=function(e){this.selected(!0)},o.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},o}(ui);yt.registerComponent("MenuItem",Wi);var Ki=function(c){function l(e,t){j(this,l);var n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode;var o=F(this,c.call(this,e,t));o.track=n;var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,t)};if(e.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",a),o.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",a)}),void 0===i.onchange){var s=void 0;o.on(["tap","click"],function(){if("object"!==N(p.Event))try{s=new p.Event("change")}catch(e){}s||(s=f.createEvent("Event")).initEvent("change",!0,!0),i.dispatchEvent(s)})}return o.handleTracksChange(),o}return P(l,c),l.prototype.handleClick=function(e){var t=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[t]),c.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var r=i[o];r===this.track&&-1<n.indexOf(r.kind)?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled")}},l.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},l.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},l.prototype.dispose=function(){this.track=null,c.prototype.dispose.call(this)},l}(Wi);yt.registerComponent("TextTrackMenuItem",Ki);var Yi=function(n){function i(e,t){return j(this,i),t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,F(this,n.call(this,e,t))}return P(i,n),i.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},i.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(Ki);yt.registerComponent("OffTextTrackMenuItem",Yi);var $i=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return j(this,i),t.tracks=e.textTracks(),F(this,n.call(this,e,t))}return P(i,n),i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ki,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new Yi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var r=i[o];if(-1<this.kinds_.indexOf(r.kind)){var a=new t(this.player_,{track:r,selectable:!0});a.addClass("vjs-"+r.kind+"-menu-item"),e.push(a)}}return e},i}(Xi);yt.registerComponent("TextTrackButton",$i);var Qi=function(a){function s(e,t){j(this,s);var n=t.track,i=t.cue,o=e.currentTime();t.selectable=!0,t.label=i.text,t.selected=i.startTime<=o&&o<i.endTime;var r=F(this,a.call(this,e,t));return r.track=n,r.cue=i,n.addEventListener("cuechange",nt(r,r.update)),r}return P(s,a),s.prototype.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},s}(Wi);yt.registerComponent("ChaptersTrackMenuItem",Qi);var Zi=function(i){function o(e,t,n){return j(this,o),F(this,i.call(this,e,t,n))}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),i.prototype.update.call(this)},o.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},o.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},o.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(vt(this.kind_))},o.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),i.prototype.createMenu.call(this)},o.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var o=t[n],r=new Qi(this.player_,{track:this.track_,cue:o});e.push(r)}return e},o}($i);Zi.prototype.kind_="chapters",Zi.prototype.controlText_="Chapters",yt.registerComponent("ChaptersButton",Zi);var eo=function(a){function s(e,t,n){j(this,s);var i=F(this,a.call(this,e,t,n)),o=e.textTracks(),r=nt(i,i.handleTracksChange);return o.addEventListener("change",r),i.on("dispose",function(){o.removeEventListener("change",r)}),i}return P(s,a),s.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,o=t.length;i<o;i++){var r=t[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},s.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},s}($i);eo.prototype.kind_="descriptions",eo.prototype.controlText_="Descriptions",yt.registerComponent("DescriptionsButton",eo);var to=function(i){function o(e,t,n){return j(this,o),F(this,i.call(this,e,t,n))}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},o}($i);to.prototype.kind_="subtitles",to.prototype.controlText_="Subtitles",yt.registerComponent("SubtitlesButton",to);var no=function(i){function o(e,t){j(this,o),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";var n=F(this,i.call(this,e,t));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}return P(o,i),o.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},o}(Ki);yt.registerComponent("CaptionSettingsMenuItem",no);var io=function(i){function o(e,t,n){return j(this,o),F(this,i.call(this,e,t,n))}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new no(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e)},o}($i);io.prototype.kind_="captions",io.prototype.controlText_="Captions",yt.registerComponent("CaptionsButton",io);var oo=function(o){function e(){return j(this,e),F(this,o.apply(this,arguments))}return P(e,o),e.prototype.createEl=function(e,t,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",o.prototype.createEl.call(this,e,U({innerHTML:i},t),n)},e}(Ki);yt.registerComponent("SubsCapsMenuItem",oo);var ro=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};j(this,o);var n=F(this,i.call(this,e,t));return n.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(vt(n.label_)),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new no(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e,oo)},o}($i);ro.prototype.kinds_=["captions","subtitles"],ro.prototype.controlText_="Subtitles",yt.registerComponent("SubsCapsButton",ro);var ao=function(a){function s(e,t){j(this,s);var n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled;var o=F(this,a.call(this,e,t));o.track=n;var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)};return i.addEventListener("change",r),o.on("dispose",function(){i.removeEventListener("change",r)}),o}return P(s,a),s.prototype.handleClick=function(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var i=t[n];i.enabled=i===this.track}},s.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},s}(Wi);yt.registerComponent("AudioTrackMenuItem",ao);var so=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return j(this,i),t.tracks=e.audioTracks(),F(this,n.call(this,e,t))}return P(i,n),i.prototype.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new ao(this.player_,{track:i,selectable:!0}))}return e},i}(Xi);so.prototype.controlText_="Audio Track",yt.registerComponent("AudioTrackButton",so);var co=function(r){function a(e,t){j(this,a);var n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=1===i,t.selectable=!0;var o=F(this,r.call(this,e,t));return o.label=n,o.rate=i,o.on(e,"ratechange",o.update),o}return P(a,r),a.prototype.handleClick=function(e){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(Wi);co.prototype.contentElType="button",yt.registerComponent("PlaybackRateMenuItem",co);var lo=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}return P(o,i),o.prototype.createEl=function(){var e=i.prototype.createEl.call(this);return this.labelEl_=se("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},o.prototype.dispose=function(){this.labelEl_=null,i.prototype.dispose.call(this)},o.prototype.buildCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createMenu=function(){var e=new Gi(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new co(this.player(),{rate:t[n]+"x"}));return e},o.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},o.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>t){i=n[o];break}this.player().playbackRate(i)},o.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},o.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},o.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},o.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},o}(Ji);lo.prototype.controlText_="Playback Rate",yt.registerComponent("PlaybackRateMenuButton",lo);var uo=function(e){function t(){return j(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(yt);yt.registerComponent("Spacer",uo);var ho=function(t){function e(){return j(this,e),F(this,t.apply(this,arguments))}return P(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(uo);yt.registerComponent("CustomControlSpacer",ho);var po=function(e){function t(){return j(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(yt);po.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},yt.registerComponent("ControlBar",po);var fo=function(i){function o(e,t){j(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"error",n.open),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},o.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},o}(Rt);fo.prototype.options_=gt(Rt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),yt.registerComponent("ErrorDisplay",fo);var mo="vjs-text-track-settings",vo=["#000","Black"],go=["#00F","Blue"],yo=["#0FF","Cyan"],_o=["#0F0","Green"],bo=["#F0F","Magenta"],wo=["#F00","Red"],ko=["#FFF","White"],To=["#FF0","Yellow"],Eo=["1","Opaque"],Co=["0.5","Semi-Transparent"],So=["0","Transparent"],xo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[vo,ko,wo,_o,go,To,bo,yo]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Eo,Co,So]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ko,vo,wo,_o,go,To,bo,yo]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Eo,Co]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[So,Co,Eo]}};function Io(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}xo.windowColor.options=xo.backgroundColor.options;var Mo=function(i){function o(e,t){j(this,o),t.temporary=!1;var n=F(this,i.call(this,e,t));return n.updateDisplay=nt(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=se("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===t.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),V(xo,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return P(o,i),o.prototype.dispose=function(){this.endDialog=null,i.prototype.dispose.call(this)},o.prototype.createElSelect_=function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",o=xo[e],r=o.id.replace("%s",this.id_),a=[t,r].join(" ").trim();return["<"+i+' id="'+r+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(o.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(o.options.map(function(e){var t=r+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},o.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElColors_=function(){return se("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.prototype.createElFont_=function(){return se("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return se("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.prototype.label=function(){return this.localize("Caption Settings Dialog")},o.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.prototype.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.prototype.getValues=function(){var a=this;return function(n,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return z(n).reduce(function(e,t){return i(e,n[t],t)},e)}(xo,function(e,t,n){var i,o,r=(i=a.$(t.selector),o=t.parser,Io(i.options[i.options.selectedIndex].value,o));return void 0!==r&&(e[n]=r),e},{})},o.prototype.setValues=function(n){var i=this;V(xo,function(e,t){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(Io(e.options[i].value,n)===t){e.selectedIndex=i;break}}(i.$(e.selector),n[t],e.parser)})},o.prototype.setDefaults=function(){var n=this;V(xo,function(e){var t=e.hasOwnProperty("default")?e.default:0;n.$(e.selector).selectedIndex=t})},o.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(p.localStorage.getItem(mo))}catch(e){$.warn(e)}e&&this.setValues(e)},o.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?p.localStorage.setItem(mo,JSON.stringify(e)):p.localStorage.removeItem(mo)}catch(e){$.warn(e)}}},o.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},o.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(f,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},o}(Rt);yt.registerComponent("TextTrackSettings",Mo);var Lo=function(r){function a(e,t){j(this,a);var n=t.ResizeObserver||p.ResizeObserver;null===t.ResizeObserver&&(n=!1);var i=gt({createEl:!n},t),o=F(this,r.call(this,e,i));return o.ResizeObserver=t.ResizeObserver||p.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=function(i,o,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:p,s=void 0;return function(){var e=this,t=arguments,n=function(){n=s=null,r||i.apply(e,t)};!s&&r&&i.apply(e,t),a.clearTimeout(s),s=a.setTimeout(n,o)}}(function(){o.resizeHandler()},100,!1,e),n?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(e.el())):(o.loadListener_=function(){o.el_.contentWindow&&Ge(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return P(a,r),a.prototype.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},a.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},a.prototype.dispose=function(){this.resizeObserver_&&(this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Je(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},a}(yt);yt.registerComponent("ResizeManager",Lo);var Bo=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],o="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(o=i[0]),e.triggerSourceset(o),!0)},Ao={};M||(Ao=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=f.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=f.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",p.Element.prototype.appendChild.call(this,n),this.innerHTML}}));var Oo=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Ho=function(r){var a=r.el();if(!a.resetSourceWatch_){var t={},e=Oo([r.el(),p.HTMLMediaElement.prototype,p.Element.prototype,Ao],"innerHTML"),n=function(o){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=o.apply(a,t);return Bo(r),i}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=n(t[e]))}),Object.defineProperty(a,"innerHTML",gt(e,{set:n(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},r.one("sourceset",a.resetSourceWatch_)}},Ro={};M||(Ro=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?$t(p.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return p.Element.prototype.setAttribute.call(this,"src",e),e}}));var No=D(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),jo=function(u){function d(e,t){j(this,d);var n=F(this,u.call(this,e,t)),i=e.source,o=!1;if(i&&(n.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var r=n.el_.childNodes,a=r.length,s=[];a--;){var c=r[a];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),o||n.el_.hasAttribute("crossorigin")||!Zt(c.src)||(o=!0)):s.push(c))}for(var l=0;l<s.length;l++)n.el_.removeChild(s[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&$.warn(Q(No)),n.restoreMetadataTracksInIOSNativePlayer_(),(O||g||E)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}return P(d,u),d.prototype.dispose=function(){this.el_.resetSourceset_&&this.el_.resetSourceset_(),d.disposeMediaElement(this.el_),this.options_=null,u.prototype.dispose.call(this)},d.prototype.setupSourcesetHandling_=function(){!function(i){if(i.featuresSourceset){var o=i.el();if(!o.resetSourceset_){var n=Oo([i.el(),p.HTMLMediaElement.prototype,Ro],"src"),r=o.setAttribute,t=o.load;Object.defineProperty(o,"src",gt(n,{set:function(e){var t=n.set.call(o,e);return i.triggerSourceset(o.src),t}})),o.setAttribute=function(e,t){var n=r.call(o,e,t);return/src/i.test(e)&&i.triggerSourceset(o.src),n},o.load=function(){var e=t.call(o);return Bo(i)||(i.triggerSourceset(""),Ho(i)),e},o.currentSrc?i.triggerSourceset(o.currentSrc):Bo(i)||Ho(i),o.resetSourceset_=function(){o.resetSourceset_=null,o.load=t,o.setAttribute=r,Object.defineProperty(o,"src",n),o.resetSourceWatch_&&o.resetSourceWatch_()}}}}(this)},d.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),o=void 0,e=function(){o=[];for(var e=0;e<i.length;e++){var t=i[e];"metadata"===t.kind&&o.push({track:t,storedMode:t.mode})}};e(),i.addEventListener("change",e),this.on("dispose",function(){return i.removeEventListener("change",e)});var t=function e(){for(var t=0;t<o.length;t++){var n=o[t];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}i.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",e),i.removeEventListener("change",t),i.addEventListener("change",t)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",e),i.addEventListener("change",e),i.removeEventListener("change",t)})},d.prototype.proxyNativeTracks_=function(){var a=this;_n.names.forEach(function(e){var t=_n[e],o=a.el()[t.getterName],r=a[t.getterName]();if(a["featuresNative"+t.capitalName+"Tracks"]&&o&&o.addEventListener){var i={change:function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},n=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,i=0;i<o.length;i++)if(o[i]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};Object.keys(i).forEach(function(t){var n=i[t];o.addEventListener(t,n),a.on("dispose",function(e){return o.removeEventListener(t,n)})}),a.on("loadstart",n),a.on("dispose",function(e){return a.off("loadstart",n)})}})},d.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),d.disposeMediaElement(e),e=t}else{e=f.createElement("video");var n=gt({},this.options_.tag&&me(this.options_.tag));O&&!0===this.options_.nativeControlsForTouch||delete n.controls,fe(e,U(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&ge(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var r=i[o],a=this.options_[r];void 0!==a&&(a?ge(e,r,r):ye(e,r),e[r]=a)}return e},d.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),2<=e.readyState&&o.push("loadeddata"),3<=e.readyState&&o.push("canplay"),4<=e.readyState&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(e){this.trigger(e)},this)})}},d.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){$(e,"Video is not ready. (Video.js)")}},d.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&w&&x&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},d.prototype.width=function(){return this.el_.offsetWidth},d.prototype.height=function(){return this.el_.offsetHeight},d.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},d.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=p.navigator&&p.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},d.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},d.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},d.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},d.prototype.reset=function(){d.resetMediaElement(this.el_)},d.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},d.prototype.setControls=function(e){this.el_.controls=!!e},d.prototype.addTextTrack=function(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):u.prototype.addTextTrack.call(this,e,t,n)},d.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return u.prototype.createRemoteTextTrack.call(this,e);var t=f.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},d.prototype.addRemoteTextTrack=function(e,t){var n=u.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},d.prototype.removeRemoteTextTrack=function(e){if(u.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},d.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),p.performance&&"function"==typeof p.performance.now?e.creationTime=p.performance.now():p.performance&&p.performance.timing&&"number"==typeof p.performance.timing.navigationStart&&(e.creationTime=p.Date.now()-p.performance.timing.navigationStart),e},d}($n);if(ie()){jo.TEST_VID=f.createElement("video");var Po=f.createElement("track");Po.kind="captions",Po.srclang="en",Po.label="English",jo.TEST_VID.appendChild(Po)}jo.isSupported=function(){try{jo.TEST_VID.volume=.5}catch(e){return!1}return!(!jo.TEST_VID||!jo.TEST_VID.canPlayType)},jo.canPlayType=function(e){return jo.TEST_VID.canPlayType(e)},jo.canPlaySource=function(e,t){return jo.canPlayType(e.type)},jo.canControlVolume=function(){try{var e=jo.TEST_VID.volume;return jo.TEST_VID.volume=e/2+.1,e!==jo.TEST_VID.volume}catch(e){return!1}},jo.canControlPlaybackRate=function(){if(w&&x&&I<58)return!1;try{var e=jo.TEST_VID.playbackRate;return jo.TEST_VID.playbackRate=e/2+.1,e!==jo.TEST_VID.playbackRate}catch(e){return!1}},jo.canOverrideAttributes=function(){if(M)return!1;try{var e=function(){};Object.defineProperty(f.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(f.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(f.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(f.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},jo.supportsNativeTextTracks=function(){return A},jo.supportsNativeVideoTracks=function(){return!(!jo.TEST_VID||!jo.TEST_VID.videoTracks)},jo.supportsNativeAudioTracks=function(){return!(!jo.TEST_VID||!jo.TEST_VID.audioTracks)},jo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],jo.prototype.featuresVolumeControl=jo.canControlVolume(),jo.prototype.featuresPlaybackRate=jo.canControlPlaybackRate(),jo.prototype.featuresSourceset=jo.canOverrideAttributes(),jo.prototype.movingMediaElementInDOM=!_,jo.prototype.featuresFullscreenResize=!0,jo.prototype.featuresProgressEvents=!0,jo.prototype.featuresTimeupdateEvents=!0,jo.prototype.featuresNativeTextTracks=jo.supportsNativeTextTracks(),jo.prototype.featuresNativeVideoTracks=jo.supportsNativeVideoTracks(),jo.prototype.featuresNativeAudioTracks=jo.supportsNativeAudioTracks();var Fo=jo.TEST_VID&&jo.TEST_VID.constructor.prototype.canPlayType,Do=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,qo=/^video\/mp4/i;jo.patchCanPlayType=function(){4<=k&&!C&&!x?jo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Do.test(e)?"maybe":Fo.call(this,e)}:T&&(jo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&qo.test(e)?"maybe":Fo.call(this,e)})},jo.unpatchCanPlayType=function(){var e=jo.TEST_VID.constructor.prototype.canPlayType;return jo.TEST_VID.constructor.prototype.canPlayType=Fo,e},jo.patchCanPlayType(),jo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},jo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){jo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){jo.prototype["set"+vt(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){jo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){jo.prototype["set"+vt(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){jo.prototype[e]=function(){return this.el_[e]()}}),$n.withSourceHandlers(jo),jo.nativeSourceHandler={},jo.nativeSourceHandler.canPlayType=function(e){try{return jo.TEST_VID.canPlayType(e)}catch(e){return""}},jo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return jo.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Qt(e.src);return jo.nativeSourceHandler.canPlayType("video/"+n)}return""},jo.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},jo.nativeSourceHandler.dispose=function(){},jo.registerSourceHandler(jo.nativeSourceHandler),$n.registerTech("Html5",jo);var zo=D(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Vo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Uo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Go=function(u){function d(e,t,n){if(j(this,d),e.id=e.id||t.id||"vjs_video_"+He(),(t=U(d.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var i=e.closest("[lang]");i&&i.getAttribute&&(t.language=i.getAttribute("lang"))}else for(var o=e;o&&1===o.nodeType;){if(me(o).hasOwnProperty("lang")){t.language=o.getAttribute("lang");break}o=o.parentNode}var r=F(this,u.call(this,null,t,n));if(r.isPosterFromTech_=!1,r.queuedCallbacks_=[],r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(r.tag=e,r.tagAttributes=e&&me(e),r.language(r.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),r.languages_=a}else r.languages_=d.prototype.options_.languages;r.cache_={},r.poster_=t.poster||"",r.controls_=!!t.controls,r.cache_.lastVolume=1,e.controls=!1,e.removeAttribute("controls"),r.scrubbing_=!1,r.el_=r.createEl(),r.cache_.lastPlaybackRate=r.defaultPlaybackRate(),pt(r,{eventBusKey:"el_"});var s=gt(r.options_);if(t.plugins){var c=t.plugins;Object.keys(c).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](c[e])},r)}r.options_.playerOptions=s,r.middleware_=[],r.initChildren(),r.isAudio("audio"===e.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),_||r.addClass("vjs-workinghover"),d.players[r.id_]=r;var l="6.10.0".split(".")[0];return r.addClass("vjs-v"+l),r.userActive(!0),r.reportUserActivity(),r.one("play",r.listenForUserActivity_),r.on("fullscreenchange",r.handleFullscreenChange_),r.on("stageclick",r.handleStageClick_),r.changingSrc_=!1,r.playWaitingForReady_=!1,r.playOnLoadstart_=null,r}return P(d,u),d.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),d.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Zn[this.id()]=null,u.prototype.dispose.call(this)},d.prototype.createEl=function(){var t=this.tag,n=void 0,e=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();e?n=this.el_=t.parentNode:i||(n=this.el_=u.prototype.createEl.call(this,"div"));var o=me(t);if(i){for(n=this.el_=t,t=this.tag=f.createElement("video");n.children.length;)t.appendChild(n.firstChild);ue(n,"video-js")||de(n,"video-js"),n.appendChild(t),e=this.playerElIngest_=n,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(e){void 0!==n[e]&&(t[e]=n[e])})}if(t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(e){"class"===e?(n.className+=" "+o[e],i&&(t.className+=" "+o[e])):(n.setAttribute(e,o[e]),i&&t.setAttribute(e,o[e]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==p.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=et("vjs-styles-dimensions");var r=Le(".vjs-styles-defaults"),a=Le("head");a.insertBefore(this.styleEl_,r?r.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),c=0;c<s.length;c++){var l=s.item(c);de(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!e&&t.parentNode.insertBefore(n,t),le(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n},d.prototype.width=function(e){return this.dimension("width",e)},d.prototype.height=function(e){return this.dimension("height",e)},d.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?$.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},d.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},d.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},d.prototype.updateStyleEl_=function(){if(!0!==p.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),tt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var r="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=r&&(s.width=r),0<=a&&(s.height=a))}},d.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=vt(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&($n.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};wn.names.forEach(function(e){var t=wn[e];r[t.getterName]=n[t.privateName]}),U(r,this.options_[i]),U(r,this.options_[o]),U(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime);var a,s,c=$n.getTech(e);if(!c)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new c(r),this.tech_.ready(nt(this,this.handleTechReady_),!0),a=this.textTracksJson_||[],s=this.tech_,a.forEach(function(e){var t=s.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),s.textTracks(),Vo.forEach(function(e){n.on(n.tech_,e,n["handleTech"+vt(e)+"_"])}),Object.keys(Uo).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Uo[t]+"_"].bind(n),event:e}):n["handleTech"+Uo[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||le(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},d.prototype.unloadTech_=function(){var e,t,n,i=this;wn.names.forEach(function(e){var t=wn[e];i[t.privateName]=i[t.getterName]()}),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),Array.prototype.map.call(t,function(e){var t=Ot(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Ot))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},d.prototype.tech=function(e){return void 0===e&&$.warn(Q(zo)),this.tech_},d.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},d.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},d.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){$("deleting tag.poster throws in some browsers",e)}},d.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},d.prototype.updateSourceCaches_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var i=e.$$("source"),o=0;o<i.length;o++){var r=i[o];if(r.type&&r.src&&r.src===t)return r.type}return si(t)}(this,t)),this.cache_.source={src:t,type:n};for(var i=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),o=[],r=this.$$("source"),a=[],s=0;s<r.length;s++){var c=me(r[s]);o.push(c),c.src&&c.src===t&&a.push(c.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},d.prototype.handleTechSourceset_=function(e){var n=this;this.changingSrc_||(this.updateSourceCaches_(e.src),e.src)||this.tech_.one(["sourceset","loadstart"],function e(t){"sourceset"!==t.type&&n.updateSourceCaches_(n.techGet_("currentSrc")),n.tech_.off(["sourceset","loadstart"],e)}),this.trigger({src:e.src,type:"sourceset"})},d.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},d.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},d.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},d.prototype.handleTechWaiting_=function(){var e=this;this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},d.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},d.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},d.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},d.prototype.handleTechSeeking_=function(){this.trigger("seeking")},d.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},d.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&($.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},d.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},d.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},d.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},d.prototype.handleTechClick_=function(e){Me(e)&&this.controls_&&(this.paused()?this.play():this.pause())},d.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},d.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},d.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},d.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},d.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},d.prototype.handleStageClick_=function(){this.reportUserActivity()},d.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},d.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},d.prototype.handleTechTextData_=function(){var e=null;1<arguments.length&&(e=arguments[1]),this.trigger("textdata",e)},d.prototype.getCache=function(){return this.cache_},d.prototype.techCall_=function(o,r){this.ready(function(){if(o in ii)return e=this.middleware_,t=this.tech_,i=r,t[n=o](e.reduce(ri(n),i));if(o in oi)return ti(this.middleware_,this.tech_,o,r);var e,t,n,i;try{this.tech_&&this.tech_[o](r)}catch(e){throw $(e),e}},!0)},d.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in ni)return t=this.middleware_,n=this.tech_,i=e,t.reduceRight(ri(i),n[i]());if(e in oi)return ti(this.middleware_,this.tech_,e);var t,n,i;try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw $("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw $("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw $(t),t}}},d.prototype.play=function(){var e=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){e.playOnLoadstart_=null,At(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,At(e.play())})}},d.prototype.pause=function(){this.techCall_("pause")},d.prototype.paused=function(){return!1!==this.techGet_("paused")},d.prototype.played=function(){return this.techGet_("played")||wt(0,0)},d.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},d.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},d.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},d.prototype.remainingTime=function(){return this.duration()-this.currentTime()},d.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},d.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=wt(0,0)),e},d.prototype.bufferedPercent=function(){return kt(this.buffered(),this.duration())},d.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return t<n&&(n=t),n},d.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},d.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},d.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},d.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},d.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},d.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},d.prototype.requestFullscreen=function(){var n=Tt;this.isFullscreen(!0),n.requestFullscreen?(Ge(f,n.fullscreenchange,nt(this,function e(t){this.isFullscreen(f[n.fullscreenElement]),!1===this.isFullscreen()&&Je(f,n.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},d.prototype.exitFullscreen=function(){var e=Tt;this.isFullscreen(!1),e.requestFullscreen?f[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},d.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=f.documentElement.style.overflow,Ge(f,"keydown",nt(this,this.fullWindowOnEscKey)),f.documentElement.style.overflow="hidden",de(f.body,"vjs-full-window"),this.trigger("enterFullWindow")},d.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},d.prototype.exitFullWindow=function(){this.isFullWindow=!1,Je(f,"keydown",this.fullWindowOnEscKey),f.documentElement.style.overflow=this.docOrigOverflow,he(f.body,"vjs-full-window"),this.trigger("exitFullWindow")},d.prototype.canPlayType=function(e){for(var t=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=$n.getTech(o);if(r||(r=yt.getComponent(o)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else $.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},d.prototype.selectSource=function(e){var n,i=this,t=this.options_.techOrder.map(function(e){return[e,$n.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():($.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(e,n,i){var o=void 0;return e.some(function(t){return n.some(function(e){if(o=i(t,e))return!0})}),o},r=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?o(e,t,(n=r,function(e,t){return n(t,e)})):o(t,e,r))||!1},d.prototype.src=function(e){var o=this;if(void 0===e)return this.cache_.src||"";var t,n,i,r=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):G(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[ci({src:e})]:G(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[ci(e)]:[];return e}(e);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),t=this,n=r[0],i=function(e,t){var n,i;if(o.middleware_=t,o.cache_.sources=r,o.updateSourceCaches_(e),o.src_(e))return 1<r.length?o.src(r.slice(1)):(o.changingSrc_=!1,o.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void o.triggerReady());n=t,i=o.tech_,n.forEach(function(e){return e.setTech&&e.setTech(i)})},t.setTimeout(function(){return function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2],r=arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5],t=e[0],c=e.slice(1);if("string"==typeof t)n(i,Qn[t],o,r,a,s);else if(t){var l=function(e,t){var n=Zn[e.id()],i=null;if(null==n)return i=t(e),Zn[e.id()]=[[t,i]],i;for(var o=0;o<n.length;o++){var r=n[o],a=r[0],s=r[1];a===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(r,t);l.setSource(U({},i),function(e,t){if(e)return n(i,c,o,r,a,s);a.push(l),n(t,i.type===t.type?c:Qn[t.type],o,r,a,s)})}else c.length?n(i,c,o,r,a,s):s?o(i,a):n(i,Qn["*"],o,r,a,!0)}(n,Qn[n.type],i,t)},1)):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},d.prototype.src_=function(e){var t,n,i=this,o=this.selectSource([e]);return!o||(t=o.tech,n=this.techName_,vt(t)!==vt(n)?(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready(function(){i.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},d.prototype.load=function(){this.techCall_("load")},d.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},d.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},d.prototype.currentSource=function(){return this.cache_.source||{}},d.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},d.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},d.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},d.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},d.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},d.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},d.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},d.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},d.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},d.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},d.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Mt(e),this.addClass("vjs-error"),$.error("(CODE:"+this.error_.code+" "+Mt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},d.prototype.reportUserActivity=function(e){this.userActivity_=!0},d.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},d.prototype.listenForUserActivity_=function(){var t=void 0,n=void 0,i=void 0,o=nt(this,this.reportUserActivity);this.on("mousedown",function(){o(),this.clearInterval(t),t=this.setInterval(o,250)}),this.on("mousemove",function(e){e.screenX===n&&e.screenY===i||(n=e.screenX,i=e.screenY,o())}),this.on("mouseup",function(e){o(),this.clearInterval(t)}),this.on("keydown",o),this.on("keyup",o);var r=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var e=this.options_.inactivityTimeout;e<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},d.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},d.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},d.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},d.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},d.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},d.prototype.removeRemoteTextTrack=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},d.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},d.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},d.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},d.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},d.prototype.languages=function(){return gt(d.prototype.options_.languages,this.languages_)},d.prototype.toJSON=function(){var e=gt(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=gt(i)).player=void 0,e.tracks[n]=i}return e},d.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new Rt(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},d.getTagSettings=function(e){var t={sources:[],tracks:[]},n=me(e),i=n["data-setup"];if(ue(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}(i||"{}"),r=o[0],a=o[1];r&&$.error(r),U(n,a)}if(U(t,n),e.hasChildNodes())for(var s=e.childNodes,c=0,l=s.length;c<l;c++){var u=s[c],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(me(u)):"track"===d&&t.tracks.push(me(u))}return t},d.prototype.flexNotSupported_=function(){var e=f.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},d}(yt);wn.names.forEach(function(e){var t=wn[e];Go.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Go.players={};var Jo=p.navigator;Go.prototype.options_={techOrder:$n.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Jo&&(Jo.languages&&Jo.languages[0]||Jo.userLanguage||Jo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},M||Go.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Go.prototype[e]=function(){return this.techGet_(e)}}),Vo.forEach(function(e){Go.prototype["handleTech"+vt(e)+"_"]=function(){return this.trigger(e)}}),yt.registerComponent("Player",Go);var Xo="plugin",Wo="activePlugins_",Ko={},Yo=function(e){return Ko.hasOwnProperty(e)},$o=function(e){return Yo(e)?Ko[e]:void 0},Qo=function(e,t){e[Wo]=e[Wo]||{},e[Wo][t]=!0},Zo=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},er=function(o,r){return r.prototype.name=o,function(){Zo(this,{name:o,plugin:r,instance:null},!0);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new(Function.prototype.bind.apply(r,[null].concat([this].concat(t))));return this[o]=function(){return i},Zo(this,i.getEventHash()),i}},tr=function(){function r(e){if(j(this,r),this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,pt(this),delete this.trigger,mt(this,this.constructor.defaultState),Qo(e,this.name),this.dispose=nt(this,this.dispose),e.on("dispose",this.dispose)}return r.prototype.version=function(){return this.constructor.VERSION},r.prototype.getEventHash=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},r.prototype.trigger=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Xe(this.eventBusEl_,e,this.getEventHash(t))},r.prototype.handleStateChanged=function(e){},r.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Wo][e]=!1,this.player=this.state=null,t[e]=er(e,Ko[e])},r.isBasic=function(e){var t="string"==typeof e?$o(e):e;return"function"==typeof t&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":N(e))+".");if(Yo(e))$.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Go.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":N(t))+".");var n,i,o;return Ko[e]=t,e!==Xo&&(r.isBasic(t)?Go.prototype[e]=(n=e,i=t,o=function(){Zo(this,{name:n,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return Qo(this,n),Zo(this,{name:n,plugin:i,instance:e}),e},Object.keys(i).forEach(function(e){o[e]=i[e]}),o):Go.prototype[e]=er(e,t)),t},r.deregisterPlugin=function(e){if(e===Xo)throw new Error("Cannot de-register base plugin.");Yo(e)&&(delete Ko[e],delete Go.prototype[e])},r.getPlugins=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Ko),n=void 0;return e.forEach(function(e){var t=$o(e);t&&((n=n||{})[e]=t)}),n},r.getPluginVersion=function(e){var t=$o(e);return t&&t.VERSION||""},r}();tr.getPlugin=$o,tr.BASE_PLUGIN_NAME=Xo,tr.registerPlugin(Xo,tr),Go.prototype.usingPlugin=function(e){return!!this[Wo]&&!0===this[Wo][e]},Go.prototype.hasPlugin=function(e){return!!Yo(e)},"undefined"==typeof HTMLVideoElement&&ie()&&(f.createElement("video"),f.createElement("audio"),f.createElement("track"),f.createElement("video-js"));var nr=function(e){return 0===e.indexOf("#")?e.slice(1):e};function ir(e,n,t){var i=ir.getPlayer(e);if(i)return n&&$.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&i.ready(t),i;var o="string"==typeof e?Le("#"+nr(e)):e;if(!oe(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");f.body.contains(o)||$.warn("The element supplied is not included in the DOM"),n=n||{},ir.hooks("beforesetup").forEach(function(e){var t=e(o,gt(n));G(t)&&!Array.isArray(t)?n=gt(n,t):$.error("please return an object in beforesetup hooks")});var r=yt.getComponent("Player");return i=new r(o,n,t),ir.hooks("setup").forEach(function(e){return e(i)}),i}if(ir.hooks_={},ir.hooks=function(e,t){return ir.hooks_[e]=ir.hooks_[e]||[],t&&(ir.hooks_[e]=ir.hooks_[e].concat(t)),ir.hooks_[e]},ir.hook=function(e,t){ir.hooks(e,t)},ir.hookOnce=function(n,e){ir.hooks(n,[].concat(e).map(function(t){return function e(){return ir.removeHook(n,e),t.apply(void 0,arguments)}}))},ir.removeHook=function(e,t){var n=ir.hooks(e).indexOf(t);return!(n<=-1||(ir.hooks_[e]=ir.hooks_[e].slice(),ir.hooks_[e].splice(n,1),0))},!0!==p.VIDEOJS_NO_DYNAMIC_STYLE&&ie()){var or=Le(".vjs-styles-defaults");if(!or){or=et("vjs-styles-defaults");var rr=Le("head");rr&&rr.insertBefore(or,rr.firstChild),tt(or,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return Ze(1,ir),ir.VERSION="6.10.0",ir.options=Go.prototype.options_,ir.getPlayers=function(){return Go.players},ir.getPlayer=function(e){var t=Go.players,n=void 0;if("string"==typeof e){var i=nr(e),o=t[i];if(o)return o;n=Le("#"+i)}else n=e;if(oe(n)){var r=n,a=r.player,s=r.playerId;if(a||t[s])return a||t[s]}},ir.getAllPlayers=function(){return Object.keys(Go.players).map(function(e){return Go.players[e]}).filter(Boolean)},ir.players=Go.players,ir.getComponent=yt.getComponent,ir.registerComponent=function(e,t){$n.isTech(t)&&$.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),yt.registerComponent.call(yt,e,t)},ir.getTech=$n.getTech,ir.registerTech=$n.registerTech,ir.use=function(e,t){Qn[e]=Qn[e]||[],Qn[e].push(t)},!M&&Object.defineProperty?(Object.defineProperty(ir,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ir.middleware,"TERMINATOR",{value:ei,writeable:!1,enumerable:!0})):ir.middleware={TERMINATOR:ei},ir.browser=R,ir.TOUCH_ENABLED=O,ir.extend=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},i={};for(var o in"object"===(void 0===t?"undefined":N(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":N(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},ir.mergeOptions=gt,ir.bind=nt,ir.registerPlugin=tr.registerPlugin,ir.plugin=function(e,t){return $.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),tr.registerPlugin(e,t)},ir.getPlugins=tr.getPlugins,ir.getPlugin=tr.getPlugin,ir.getPluginVersion=tr.getPluginVersion,ir.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),ir.options.languages=gt(ir.options.languages,((n={})[e]=t,n)),ir.options.languages[e]},ir.log=$,ir.createTimeRange=ir.createTimeRanges=wt,ir.formatTime=Ei,ir.setFormatTime=function(e){Ti=e},ir.resetFormatTime=function(){Ti=ki},ir.parseUrl=Yt,ir.isCrossOrigin=Zt,ir.EventTarget=ot,ir.on=Ge,ir.one=We,ir.off=Je,ir.trigger=Xe,ir.xhr=un,ir.TextTrack=mn,ir.AudioTrack=vn,ir.VideoTrack=gn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){ir[e]=function(){return $.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Ae[e].apply(null,arguments)}}),ir.computedStyle=Z,ir.dom=Ae,ir.url=en,ir});var Kn=0,Yn=10,$n=1e4,Qn=[],Zn=null,ei=!1,ti=!1,ni="",ii="",oi=!1,ri=!1,ai=!1,si="",ci=!1;function li(){if(""!==ii)return Di(),Vi(),void GS();Mu=Tu,sh("top_bar_user","icon_center_focus"),Th(),si=document.querySelector("#oauth_input"),nu.placeholder=w,document.getElementById("oauth_text").innerHTML=vt+Gu+kn,hi(),xo("oauth_input")}function ui(){pi(),document.body.removeEventListener("keydown",di),ch("top_bar_user","icon_center_focus")}function di(e){if(!ei&&!ti)switch(e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=bu,ui(),Fh());break;case xn:Mu=lu,ui(),Fh();break;case In:Mu=su,ui(),Fh();break;case Bn:case Ln:case An:case Pn:hi();break;case Fn:Ch();break;case Dn:ui(),Kh();break;case qn:Ih();break;case zn:Bu=Mu,Mu=fu,ui(),Fh()}}function hi(){document.body.removeEventListener("keydown",di),document.body.addEventListener("keydown",fi,!1),si.addEventListener("input"),si.addEventListener("compositionend"),nu.placeholder=w,si.focus(),ti=!0}function pi(){si.blur(),document.body.removeEventListener("keydown",fi),document.body.addEventListener("keydown",di,!1),nu.placeholder=T+w,window.setTimeout(function(){ti=!1},250)}function fi(e){if(!ei)switch(e.keyCode){case Wn:nu.value="",e.preventDefault();break;case Jn:case Gn:""!==nu.value&&null!==nu.value&&(ii=nu.value,Di(),dh(),xo("blank_focus"),Ti()),pi();break;case Un:nu.value=nu.value.slice(0,-1),e.preventDefault();break;case Xn:nu.value+=" ",e.preventDefault()}}function mi(){Qn=[];var e=parseInt(localStorage.getItem("UsercodeArraySize"))||0;if(0<e)for(var t=0;t<e;t++)Qn[t]=localStorage.getItem("UsercodeArray"+t);_i()}function vi(){(Qn=JSON.parse(localStorage.getItem("userkeys"))||[]).length||mi(),bi(0)}function gi(){Qn.push(Zn+","+ni+","+ii),_i(),hh(),GS(),ei=!1}function yi(e){var t=Qn.indexOf(Qn[e]);-1<t&&Qn.splice(t,1),_i()}function _i(){localStorage.setItem("userkeys",JSON.stringify(Qn))}function bi(e){if(0<ro.length&&(Gu=ro[e]),0<Qn.length){var t=ki(ro[e]);if(-1<t){var n=Qn[t].split(",");Zn=n[0],ni=n[1],ii=n[2]}else wi()}else wi()}function wi(){ii=ni=Zn=""}function ki(e){for(var t=0;t<Qn.length;t++)if(e===Qn[t].split(",")[0])return t;return-1}function Ti(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken?oauth_token="+ii,!0),e.timeout=$n,e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Ci(e.responseText);Ei()}},e.send(null)}catch(e){Ei()}}function Ei(){++Kn<Yn?($n+=Kn<5?250:3500,Ti()):(ei=!1,hh(),kh(Ht),window.setTimeout(function(){Th(),hi()},4e3))}function Ci(e){rx(e)?(Zn=JSON.parse(e).token.user_name+"",Di(),ci=!1,Si()):(hh(),kh(xt+Gu+It+Zn),window.setTimeout(function(){Th(),hi()},3500))}function Si(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users?login="+Gu,!0),e.timeout=$n,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void(ci?Li(e.responseText):Ii(e.responseText));xi()}},e.send(null)}catch(e){xi()}}function xi(){++Kn<Yn&&($n+=Kn<5?250:3500,Si())}function Ii(e){ni=JSON.parse(e).users[0]._id,nu.value="",document.body.removeEventListener("keydown",di),ax(!0),gi()}function Mi(){Di(),oi=!1,""!==ni?Bi():(ci=!0,Si())}function Li(e){var t=JSON.parse(e).users[0];void 0!==t?(ni=t._id,Di(),oi=!1,Bi()):(ei=oi=!1,ai?Wv():Zy())}function Bi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+ni+"/follows/channels/"+zu,!0),e.timeout=$n,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ei=!(oi=!0),void(ai?Wv():Zy());if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ei=oi=!1,void(ai?Wv():Zy());Ai()}else Ai()}},e.send(null)}catch(e){Ai()}}function Ai(){++Kn<Yn?($n+=Kn<5?250:3500,Bi()):(ei=!1,ai?Wv():Zy())}function Oi(){Di(),Hi()}function Hi(){try{var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+ni+"/follows/channels/"+zu,!0),e.timeout=$n,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.setRequestHeader("Authorization","OAuth "+ii),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return oi=!(ei=!1),void(ai?Wv():Zy());Ri()}},e.send(null)}catch(e){Ri()}}function Ri(){++Kn<Yn&&($n+=3500,Hi())}function Ni(){Di(),ji()}function ji(){try{var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+ni+"/follows/channels/"+zu,!0),e.timeout=$n,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.setRequestHeader("Authorization","OAuth "+ii),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ei=oi=!1,void(ai?Wv():Zy());Pi()}},e.send(null)}catch(e){Pi()}}function Pi(){++Kn<Yn&&($n+=3500,ji())}function Fi(){Di(),ri=!1,qi()}function Di(){$n=1e4,ei=!(Kn=0)}function qi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+ni+"/subscriptions/"+zu,!0),e.timeout=$n,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.setRequestHeader("Authorization","OAuth "+ii),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ei=!(ri=!0),void $g();if(422===e.status)console.log("channel does not have a subscription program");else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ei=ri=!1,void Yg();zi()}else zi()}},e.send(null)}catch(e){zi()}}function zi(){++Kn<Yn?($n+=Kn<5?250:3500,qi()):ei=!1}function Vi(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken?oauth_token="+ii,!0),t.timeout=$n,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=rx(t.responseText);return ax(e),kh(e?St:Ct),window.setTimeout(function(){Th()},4e3),void(ei=!1)}Ui()}},t.send(null)}catch(e){Ui()}}function Ui(){++Kn<Yn?($n+=Kn<5?250:3500,Vi()):(kh(Ct),ax(!1),window.setTimeout(function(){Th()},4e3),ei=!1)}function Gi(e){try{var t=ki(ro[e]);if(-1<t){ii=Qn[t].split(",")[2],Gu=ro[e];var n=new XMLHttpRequest;n.open("GET","https://api.twitch.tv/kraken?oauth_token="+ii,!0),n.timeout=$n,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void ex(rx(n.responseText),e);Ji(e)}},n.send(null)}else ex(!1,e)}catch(t){Ji(e)}}function Ji(e){++Kn<Yn?($n+=3500,Gi(e)):ex(!1,e)}function Xi(){Di(),Wi()}function Wi(){try{var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Gu+"/follows/games/"+encodeURIComponent(qu)+"?oauth_token="+ii,!0),e.timeout=1e4,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wo=!0,void cr();Ki()}},e.send(null)}catch(e){Ki()}}function Ki(){++Kn<Yn&&($n+=3500,Wi())}function Yi(){Di(),$i()}function $i(){try{var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Gu+"/follows/games/"+encodeURIComponent(qu)+"?oauth_token="+ii,!0),e.timeout=1e4,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Wo=!1,void cr();Qi()}},e.send(null)}catch(e){Qi()}}function Qi(){++Kn<Yn&&($n+=3500,$i())}function Zi(){Di(),eo()}function eo(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/api/users/"+Gu+"/follows/games/"+encodeURIComponent(qu),!0),e.timeout=1e4,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Wo=!0,void cr()):404===e.status?(Wo=!1,void cr()):void to()},e.send(null)}catch(e){to()}}function to(){++Kn<Yn?($n+=3500,eo()):(Wo=!1,cr())}var no=0,io=10,oo=3500,ro=[],ao=null,so=!1,co=!1,lo=null;function uo(){Mu=cu,sh("top_bar_user","icon_center_focus"),Th(),lo=document.querySelector("#user_input"),tu.placeholder=k,fo(),xo("user_input")}function ho(){mo(),document.body.removeEventListener("keydown",po),ch("top_bar_user","icon_center_focus")}function po(e){if(!so&&!co)switch(e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Lu,ho(),Fh());break;case xn:Mu=lu,ho(),Fh();break;case In:Mu=su,ho(),Fh();break;case Bn:case Ln:case An:case Pn:fo();break;case Fn:Ch();break;case Dn:ho(),Kh();break;case qn:Ih();break;case zn:Bu=Mu,Mu=fu,ho(),Fh()}}function fo(){document.body.removeEventListener("keydown",po),document.body.addEventListener("keydown",vo,!1),lo.addEventListener("input"),lo.addEventListener("compositionend"),tu.placeholder=k,lo.focus(),co=!0}function mo(){lo.blur(),document.body.removeEventListener("keydown",vo),document.body.addEventListener("keydown",po,!1),tu.placeholder=T+k,window.setTimeout(function(){co=!1},250)}function vo(e){if(!so)switch(e.keyCode){case Wn:tu.value="",e.preventDefault();break;case Jn:case Gn:""!==tu.value&&null!==tu.value&&(Co(ao=ou?tu.value:"testtwitch27")?(hh(),kh(d+ao+ie),window.setTimeout(function(){Th(),fo()},1500)):(oo=3500,so=!(no=0),dh(),xo("blank_focus"),go())),mo();break;case Un:tu.value=tu.value.slice(0,-1),e.preventDefault();break;case Xn:tu.value+=" ",e.preventDefault()}}function go(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(ao)+"/follows/channels?limit=1&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=oo,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return tu.value="",document.body.removeEventListener("keydown",po),void wo();yo()}},e.send(null)}catch(e){yo()}}function yo(){++no<io?(oo+=no<5?250:3500,go()):(ao=null,hh(),kh(te),window.setTimeout(function(){uo()},1e3),so=!1)}function _o(){ro=[];var e=parseInt(localStorage.getItem("UsernameArraySize"))||0;if(0<e)for(var t=0;t<e;t++)ro[t]=localStorage.getItem("UsernameArray"+t);To()}function bo(){(ro=JSON.parse(localStorage.getItem("usernames"))||[]).length||_o(),ro.length&&vi(),(iu=2.4<=parseFloat(tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version")))&&window.setTimeout(function(){Hk(),window.addEventListener("appcontrol",Vk,!1),Uu=window.setInterval(Hk,6e5),document.addEventListener("visibilitychange",$h,!1)},3500)}function wo(){ro.push(ao),To(),DS=!1,GS(),so=!1,iu&&1===ro.length&&(window.clearInterval(Uu),document.removeEventListener("visibilitychange",$h),Uu=window.setInterval(Hk,6e5),document.addEventListener("visibilitychange",$h,!1),Hk())}function ko(e){var t=ki(ro[e]);-1<t&&yi(t);var n=ro.indexOf(ro[e]);-1<n&&ro.splice(n,1),0<ro.length?(DS=!1,GS(),e||Hk()):(uo(),Hk()),bi(e),To()}function To(){localStorage.setItem("usernames",JSON.stringify(ro))}function Eo(e){ao=ro[0],ro[0]=ro[e],ro[e]=ao,DS=!1,GS(),Hk()}function Co(e){return-1!==ro.indexOf(e)}function So(){return 0<ro.length}function xo(e){window.scroll(0,Ep()+Cp(e)-ed-od)}var Io=0,Mo=0,Lo=!1,Bo=0,Ao=[],Oo=[],Ho=!1,Ro=0,No=10,jo=3500,Po=0,Fo=0,Do=!0,qo=25,zo=!1,Vo=0,Uo=!1,Go=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_"],Jo=!1,Xo=!1,Wo=!1,Ko=!1,Yo=!1;function $o(){Mu=uu,document.body.addEventListener("keydown",_r,!1),Yb&&ch("top_bar_user","icon_center_focus"),sh("top_bar_game","icon_center_focus"),document.getElementById("top_bar_game").innerHTML=_+Uh(h+": "+qu),rp(Io),Vu===qu&&Jo?(kp(Go[0],Io,Mo,uu,ed,Qu,!1),_h(Mo,Io,ud,Bo)):Zo()}function Qo(){Jo&&(-1===Io&&(Io=0),gr(),fr()),document.getElementById("top_bar_game").innerHTML=p,document.body.removeEventListener("keydown",_r),ch("top_bar_game","icon_center_focus")}function Zo(){Th(),Jo=!1,Tp("blank_focus"),dh(),Qh("stream_table_a_game"),zo=Yo=!1,Ao=[],Io=Mo=Bo=Vo=Fo=Po=0,Lo=Xo=!(Oo=[]),yh(),er(),tr()}function er(){Ho=!0,Ro=0,jo=3500}function tr(){try{var e=new XMLHttpRequest,t=Bo+Fo;t&&Vo-1<t&&(t=Vo-ld,zo=Lo=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qu)+"&limit="+ld+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=jo,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ir(e.responseText);nr()}},e.send(null)}catch(e){nr()}}function nr(){++Ro<No?(jo+=Ro<5?250:3500,tr()):(Yo=Ho=!1,hh(),kh(M))}function ir(e){var t=JSON.parse(e),n=t.streams.length;Vo=parseInt(t._total),n<ld&&(Lo=!0);var i=Bo;Uo=!(Bo+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=document.createElement("tr"),u=0,d=0;d<3;d++)c=d?1===d?R:"":en,(Ku=document.createElement("td")).setAttribute("id",Go[8]+"y_"+d),Ku.className="stream_cell",Ku.innerHTML='<div id="'+Go[0]+"y_"+d+'" class="stream_thumbnail_fallow_game" ><div id="'+Go[3]+"y_"+d+'" class="stream_channel_fallow_game">'+c+"</div></div>",l.appendChild(Ku);for(document.getElementById("stream_table_a_game").appendChild(l),d=0;d<o;d++){for(a=i/ud+d,l=document.createElement("tr"),r=0;r<ud&&u<n;r++,u++)rr((s=t.streams[u]).channel.name)?r--:l.appendChild(or(a,a+"_"+r,s.channel.name,[s.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(s.stream_type))+s.channel.display_name,s.channel.status,s.game,g+Um(s.created_at)+y+", "+m+Hh(s.viewers)+q,Rh(s.video_height,s.average_fps,s.channel.language)]));for(;r<ud;r++)Lo&&!Xo&&(Xo=!0,Bo=a*ud+r),l.appendChild(sp(Go[9]+a+"_"+r)),Oo.push(Go[9]+a+"_"+r);document.getElementById("stream_table_a_game").appendChild(l)}ar()}function or(e,t,n,i){return Ao.push(n),e<ud&&ap(i[0]),dp(n,t,Go,i)}function rr(e){for(var t=0;t<Ao.length;t++)if(e===Ao[t])return Po++,!0;return!1}function ar(){Ip(function(){if(Jo){if(0<Po&&!Lo)return Yo=!0,er(),void dr();Po=0,Yo=Ho=!1}else hh(),sr(),Uo?(kh(L+$),Io=-1,kp(Go[0],"y",0,uu,135,0,!1),vr()):(Jo=!0,fr(),np(Go[1],9,Rd,ud)),Ho=!1})}function sr(){Ko?(Wo=!0,cr()):""!==Gu?Zi():(Wo=!1,cr())}function cr(){document.getElementById(Go[3]+"y_2").innerHTML=Wo?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+Tn+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+Tn+(""!==Gu?Lt:Rt)}function lr(){""!==ii?Wo?Yi():Xi():(kh(Nt),window.setTimeout(function(){Uo&&Mu===uu?kh(L+$):Th()},2e3))}function ur(){Mo?1===Mo?(Mu=xu,Vu=qu,Qo(),Fh()):lr():(Mu=Su,Vu=qu,Qo(),Fh())}function dr(){try{var e=new XMLHttpRequest;wh(Po);var t=Bo+Fo;t&&Vo-1<t&&(t=Vo-yd,zo=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qu)+"&limit="+yd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=jo,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||pr(e.responseText)},e.send(null)}catch(e){hr()}}function hr(){++Ro<No?(jo+=Ro<5?250:3500,dr()):(zo=!0,Po=0,Oo=[],ar())}function pr(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=Oo.slice();Vo=parseInt(i._total),o<ld&&(zo=!0);for(var s=0;s<Oo.length&&r<o;s++,r++)rr((t=i.streams[r]).channel.name)?(Po--,s--):(Ao.push(t.channel.name),hp(Oo[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+Um(t.created_at)+y+", "+m+Hh(t.viewers)+q,Rh(t.video_height,t.average_fps,t.channel.language)],Go),Po--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Fo+=r,zo?(Po=0,Oo=[]):Oo=a,ar()}function fr(){_p(Io,Mo,Go,uu,ud,Bo),3<Io&&ip(Go[1],Io,Rd,ud,4),Bo/ud<Io+dd&&!Lo&&!Yo&&(Yo=!0,er(),tr())}function mr(){wp(Io+"_"+Mo,Go)}function vr(){sh(Go[0]+"y_"+Mo,Cd)}function gr(){ch(Go[0]+"y_"+Mo,Cd)}function yr(){Do=!0}function _r(e){var t;if(Ho&&!Yo||!Do)e.preventDefault();else switch(Do=!1,window.setTimeout(yr,qo),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():Yo||(Vu=qu,Mu=ww?mu:Ou,Qo(),Fh());break;case Hn:if(-1===Io)gr(),--Mo<0&&(Mo=2),vr();else if(Io||Mo){if(jh(Io,Mo-1,Go[0]))mr(),Mo--,fr();else for(t=ud-1;-1<t;t--)if(jh(Io-1,t,Go[0])){mr(),Io--,Mo=t,fr();break}}else mr(),gr(),Io=-1,Mo=2,vr();break;case Rn:-1===Io?(gr(),2<++Mo?(Mo=0,Uo?vr():(Io=0,fr())):vr()):jh(Io,Mo+1,Go[0])?(mr(),Mo++,fr()):jh(Io+1,0,Go[0])&&(mr(),Io++,Mo=0,fr());break;case Nn:if(-1!==Io||Uo)if(Io){for(t=0;t<ud;t++)if(jh(Io-1,Mo-t,Go[0])){mr(),Io--,Mo-=t,fr();break}}else mr(),Io=-1,vr();else Io=0,gr(),fr();break;case jn:if(-1!==Io||Uo){for(t=0;t<ud;t++)if(jh(Io+1,Mo-t,Go[0])){mr(),Io++,Mo-=t,fr();break}}else Io=0,gr(),fr();break;case On:case Mn:Yo||Zo();break;case xn:Yb||(Lu=uu,Mu=Eu,Vu=qu,Qo(),Fh());break;case In:Yb||(Lu=uu,Mu=Iu,Qo(),Fh());break;case Bn:case Ln:case An:case Pn:-1!==Io?(rm=document.getElementById(Go[8]+Io+"_"+Mo).getAttribute(Sd),am=document.getElementById(Go[3]+Io+"_"+Mo).textContent,document.body.removeEventListener("keydown",_r),Vu=qu,qh()):ur();break;case Fn:Ch();break;case Dn:Qo(),Kh();break;case qn:Ih();break;case zn:Bu=uu,Mu=fu,Vu=qu,Qo(),Fh()}}var br=0,wr=0,kr=!1,Tr=0,Er=[],Cr=[],Sr=!1,xr=0,Ir=10,Mr=3500,Lr=0,Br=!0,Ar=25,Or=!1,Hr=0,Rr=!1,Nr=["c_thumbdiv","c_img","c_infodiv","c_title","c_createdon","c_game","c_viwers","c_duration","c_cell","cpempty_","c_lang"],jr=!1,Pr=null,Fr=2,Dr="week",qr=!1,zr=!1;function Vr(){Mu=Cu,Xr(),sh("top_bar_clip","icon_center_focus"),ih("label_refresh","icon-refresh",e+Yt),ih("label_controls","icon-calendar",l+" (C)"),document.body.addEventListener("keydown",ra,!1),rp(br),jr?(kp(Nr[0],br,wr,Cu,ed,Qu,!1),_h(wr,br,ud,Tr)):Gr()}function Ur(){zh(),document.body.removeEventListener("keydown",ra),ch("top_bar_clip","icon_center_focus"),ih("label_refresh","icon-refresh",e+Yt),ih("label_controls","icon-question-circle",fn)}function Gr(){Th(),Tp("blank_focus"),dh(),Pr=null,jr=!1,Qh("stream_table_clip"),Or=zr=!1,Er=[],br=wr=Tr=Hr=Lr=0,kr=qr=!(Cr=[]),yh(),Jr(),Wr()}function Jr(){Sr=!0,xr=0,Mr=3500}function Xr(){1===Fr?(document.getElementById("top_bar_clip").innerHTML=R+Uh(se),Dr="day"):2===Fr?(document.getElementById("top_bar_clip").innerHTML=R+Uh(ce),Dr="week"):3===Fr?(document.getElementById("top_bar_clip").innerHTML=R+Uh(le),Dr="month"):4===Fr&&(document.getElementById("top_bar_clip").innerHTML=R+Uh(ue),Dr="all"),localStorage.setItem("Clip_periodNumber",Fr)}function Wr(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?limit="+ld+"&period="+encodeURIComponent(Dr)+(null===Pr?"":"&cursor="+encodeURIComponent(Pr))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Mr,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Yr(e.responseText);Kr()}},e.send(null)}catch(e){Kr()}}function Kr(){++xr<Ir?(Mr+=xr<5?250:3500,Wr()):(zr=Sr=!1,hh(),kh(M))}function Yr(e){var t=JSON.parse(e),n=t.clips.length;Pr=t._cursor,n<ld&&(kr=!0);var i=Tr;Rr=!(Tr+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)$r((c=t.clips[l]).slug)?r--:(Er.push(c.slug),s.appendChild(Gx(a,a+"_"+r,c.slug+","+c.duration+","+c.game+","+c.broadcaster.name+","+c.broadcaster.display_name+","+c.broadcaster.logo.replace("150x150","300x300")+","+c.broadcaster.id,[c.thumbnails.medium,c.broadcaster.display_name,j+Gh(c.created_at),c.title+ln+f+c.game,Hh(c.views)+F,"["+c.language.toUpperCase()+"]",P+zm(c.duration)],Nr)));for(;r<ud;r++)kr&&!qr&&(qr=!0,Tr=a*ud+r),s.appendChild(sp(Nr[9]+a+"_"+r)),Cr.push(Nr[9]+a+"_"+r);document.getElementById("stream_table_clip").appendChild(s)}Qr()}function $r(e){for(var t=0;t<Er.length;t++)if(e===Er[t])return Lr++,!0;return!1}function Qr(){Ip(function(){if(jr){if(0<Lr&&!kr)return zr=!0,Jr(),void Zr();Lr=0,zr=Sr=!(Cr=[])}else hh(),Rr?kh(L+R):(jr=!0,na(),np(Nr[1],9,Rd,ud)),Sr=!1})}function Zr(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?limit="+Lr+"&period="+encodeURIComponent(Dr)+(null===Pr?"":"&cursor="+encodeURIComponent(Pr))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Mr,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||ta(e.responseText)},e.send(null)}catch(e){ea()}}function ea(){++xr<Ir?(Mr+=xr<5?250:3500,Zr()):(Or=!0,Lr=0,Cr=[],Qr())}function ta(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=Cr.slice();Pr=i._cursor,o<Lr&&(Or=!0);for(var s=0;s<Cr.length&&r<o;s++,r++)$r((t=i.clips[r]).slug)?(Lr--,s--):(Er.push(t.slug),Xx(Cr[s],t.slug+","+t.duration+","+t.game+","+t.broadcaster.name+","+t.broadcaster.display_name+","+t.broadcaster.logo.replace("150x150","300x300")+","+t.broadcaster.id,[t.thumbnails.medium,t.broadcaster.display_name,j+Gh(t.created_at),t.title+ln+f+t.game,Hh(t.views)+F,"["+t.language.toUpperCase()+"]",P+zm(t.duration)],Nr),Lr--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Or?(Lr=0,Cr=[]):Cr=a,Qr()}function na(){_p(br,wr,Nr,Cu,ud,Tr),3<br&&ip(Nr[1],br,Rd,ud,4),Tr/ud<br+dd&&!kr&&!zr&&(zr=!0,Jr(),Wr())}function ia(){wp(br+"_"+wr,Nr)}function oa(){Br=!0}function ra(e){var t;if(!Sr||zr)if(Br)switch(Br=!1,window.setTimeout(oa,Ar),e.keyCode){case Vn:xh()?Sh():(Mu=Lu===Cu?su:Lu,Ur(),Fh());break;case Hn:if(jh(br,wr-1,Nr[0]))ia(),wr--,na();else for(t=ud-1;-1<t;t--)if(jh(br-1,t,Nr[0])){ia(),br--,wr=t,na();break}break;case Rn:jh(br,wr+1,Nr[0])?(ia(),wr++,na()):jh(br+1,0,Nr[0])&&(ia(),br++,wr=0,na());break;case Nn:for(t=0;t<ud;t++)if(jh(br-1,wr-t,Nr[0])){ia(),br--,wr-=t,na();break}break;case jn:for(t=0;t<ud;t++)if(jh(br+1,wr-t,Nr[0])){ia(),br++,wr-=t,na();break}break;case On:case Mn:Gr();break;case xn:Lu=Cu,Mu=su,Ur(),Fh();break;case In:Lu=Cu,Mu=Eu,Ur(),Fh();break;case Bn:case Ln:case An:case Pn:kb=document.getElementById(Nr[8]+br+"_"+wr).getAttribute(Sd).split(","),ub=parseInt(kb[1]),qu=kb[2],Nu=kb[3],ju=kb[4],Pu=kb[5],zu=kb[6],kb=kb[0],bb="",Tb=document.getElementById(Nr[4]+br+"_"+wr).textContent,gb=document.getElementById(Nr[5]+br+"_"+wr).textContent,_b=document.getElementById(Nr[6]+br+"_"+wr).textContent,Eb=document.getElementById(Nr[7]+br+"_"+wr).textContent,yb=document.getElementById(Nr[10]+br+"_"+wr).innerHTML,aa();break;case Fn:Ch();break;case Dn:Ur(),Kh();break;case qn:zr||(4<++Fr&&(Fr=1),Xr(),Gr());break;case zn:Yb||(Bu=Cu),Mu=fu,Ur(),Fh()}else e.preventDefault();else e.preventDefault()}function aa(){document.body.addEventListener("keydown",mf,!1),document.body.removeEventListener("keydown",ra),rh("scene2"),yv(),lv(),nv(),rv(),oh("scene1"),Xp()}var sa=!1,ca=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_"],la=0,ua=0,da=0,ha=!1,pa=0,fa=[],ma=!1,va=0,ga=10,ya=3500,_a=0,ba=[],wa=0,ka=!0,Ta=25,Ea=!1,Ca=0,Sa=!1,xa=!1,Ia=0,Ma=!1,La=!1;function Ba(){Mu=Iu,sh("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Xa,!1),rp(la),sa?(kp(ca[0],la,ua,Iu,ed,Qu,!1),_h(ua,la,ud,pa)):Oa()}function Aa(){document.body.removeEventListener("keydown",Xa),ch("top_bar_featured","icon_center_focus")}function Oa(){Th(),sa=!1,Tp("blank_focus"),dh(),Qh("stream_table_featured"),La=!1,xa=Ea=!(ba=[]),Ia=la=ua=pa=Ca=wa=_a=0,ha=!(fa=[]),yh(),Ha(),Ra()}function Ha(){ma=!0,va=0,ya=3500}function Ra(){try{var e=new XMLHttpRequest,t=pa+wa;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+ld+"&offset="+t+(""!==ii?"&oauth_token="+ii:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ya,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ja(e.responseText);Na()}},e.send(null)}catch(e){Na()}}function Na(){++va<ga?(ya+=va<5?250:3500,Ra()):La?(Ea=ha=!(La=!1),Da()):(ma=!1,hh(),kh(M))}function ja(e){var t=JSON.parse(e),n=t.featured.length;Ca=parseInt(t._total),n<ld&&(ha=!0);var i=pa;Ma=!(pa+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)Fa((c=t.featured[l].stream).channel.name)?r--:s.appendChild(Pa(a,a+"_"+r,c.channel.name,[c.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,g+Um(c.created_at)+y+", "+m+Hh(c.viewers)+q,Rh(c.video_height,c.average_fps,c.channel.language)]));for(;r<ud;r++)ha&&!xa&&(xa=!0,pa=a*ud+r),s.appendChild(sp(ca[9]+a+"_"+r)),ba.push(ca[9]+a+"_"+r);document.getElementById("stream_table_featured").appendChild(s)}Da()}function Pa(e,t,n,i){return fa.push(n),e<ud&&ap(i[0]),dp(n,t,ca,i)}function Fa(e){for(var t=0;t<fa.length;t++)if(e===fa[t])return _a++,!0;return!1}function Da(){Ip(function(){if(sa){if(0<_a&&!ha)return La=!0,Ha(),void qa();_a=0,La=ma=!(ba=[])}else hh(),Ma?kh(L+STR_Featured_CHANNELS):(sa=!0,np(ca[1],9,Rd,ud),Ua()),ma=!1})}function qa(){try{var e=new XMLHttpRequest;wh(_a);var t=pa+wa;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+yd+"&offset="+t+(""!==ii?"&oauth_token="+ii:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ya,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Va(e.responseText)},e.send(null)}catch(e){za()}}function za(){++va<ga?(ya+=va<5?250:3500,qa()):(Ea=!0,_a=0,ba=[],Da())}function Va(e){var t,n,i=JSON.parse(e),o=i.featured.length,r=0,a=ba.slice();o<ld&&(Ea=!0);for(var s=0;s<ba.length&&r<o;s++,r++)Fa((t=i.featured[r].stream).channel.name)?(_a--,s--):(fa.push(t.channel.name),hp(ba[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+Um(t.created_at)+y+", "+m+Hh(t.viewers)+q,Rh(t.video_height,t.average_fps,t.channel.language)],ca),_a--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));wa+=r,Ea?(_a=0,ba=[]):ba=a,Da()}function Ua(){_p(la,ua,ca,Iu,ud,pa),3<la&&ip(ca[1],la,Rd,ud,4),pa/ud<la+dd&&!ha&&!La&&(La=!0,Ha(),Ra())}function Ga(){wp(la+"_"+ua,ca)}function Ja(){ka=!0}function Xa(e){var t;if(ma&&!La||!ka)e.preventDefault();else switch(ka=!1,window.setTimeout(Ja,Ta),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Lu===Iu?su:Lu,Aa(),Fh());break;case Hn:if(jh(la,ua-1,ca[0]))Ga(),ua--,Ua();else for(t=ud-1;-1<t;t--)if(jh(la-1,t,ca[0])){Ga(),la--,ua=t,Ua();break}break;case Rn:jh(la,ua+1,ca[0])?(Ga(),ua++,Ua()):jh(la+1,0,ca[0])&&(Ga(),la++,ua=0,Ua());break;case Nn:for(t=0;t<ud;t++)if(jh(la-1,ua-t,ca[0])){Ga(),la--,ua-=t,Ua();break}break;case jn:for(t=0;t<ud;t++)if(jh(la+1,ua-t,ca[0])){Ga(),la++,ua-=t,Ua();break}break;case On:case Mn:La||Oa();break;case xn:La||(Lu=bu,Mu=lu,Aa(),Fh());break;case In:La||(Lu=Iu,Mu=So()?bu:cu,Aa(),Fh());break;case Bn:case Ln:case An:case Pn:rm=document.getElementById(ca[8]+la+"_"+ua).getAttribute(Sd),am=document.getElementById(ca[3]+la+"_"+ua).textContent,document.body.removeEventListener("keydown",Xa),qh();break;case Fn:Ch();break;case Dn:Aa(),Kh();break;case qn:Ih();break;case zn:Bu=Iu,Mu=fu,Aa(),Fh()}}var Wa=!1,Ka=0,Ya=0,$a=!1,Qa=0,Za=[],es=!1,ts=0,ns=10,is=3500,os=0,rs=[],as=0,ss=!0,cs=0,ls=!1,us=0,ds=1,hs=!1,ps=!1,fs=!1,ms=["g_thumbdiv","g_img","g_infodiv","g_displayname","g_viwers","g_cell","gempty_"];function vs(){Mu=lu,document.body.addEventListener("keydown",As,!1),sh("top_bar_game","icon_center_focus"),rp(Ka),Wa?(kp(ms[0],Ka,Ya,lu,nd,Zu,!1),_h(Ya,Ka,pd,Qa)):ys()}function gs(){document.body.removeEventListener("keydown",As),ch("top_bar_game","icon_center_focus")}function ys(){Th(),Wa=!1,Tp("blank_focus"),dh(),Qh("stream_table_games"),fs=!1,hs=ls=!(rs=[]),Ka=Ya=Qa=us=as=os=0,$a=!(Za=[]),yh(),_s(),bs()}function _s(){es=!0,ts=0,is=3500}function bs(){try{var e=new XMLHttpRequest,t=Qa+as;t&&us-1<t&&(t=us-hd,ls=$a=!0),e.open("GET","https://api.twitch.tv/kraken/games/top?limit="+(hd+(t?0:ds))+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=is,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ks(e.responseText);ws()}},e.send(null)}catch(e){ws()}}function ws(){++ts<ns?(is+=ts<5?250:3500,bs()):fs?(ls=$a=!(fs=!1),Cs()):(es=!1,hh(),kh(M))}function ks(e){var t=JSON.parse(e),n=t.top.length;if(us=parseInt(t._total),hd<n)return ds=0,_s(),void bs();n<hd&&($a=!0);var i=Qa;ps=!(Qa+=n);var o=n/pd;0<n%pd&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/pd+u,s=document.createElement("tr"),r=0;r<pd&&l<n;r++,l++)Es((c=t.top[l]).game.name)?r--:s.appendChild(Ts(a,a+"_"+r,[c.game.name,c.game.box.template.replace("{width}x{height}",Ed),Hh(c.channels)+" "+E+m+Hh(c.viewers)+q]));for(;r<pd;r++)$a&&!hs&&(hs=!0,Qa=a*pd+r),s.appendChild(sp(ms[6]+a+"_"+r)),rs.push(ms[6]+a+"_"+r);document.getElementById("stream_table_games").appendChild(s)}Cs()}function Ts(e,t,n){return Za.push(n[0]),e<2&&ap(n[1]),fp(t,ms,n)}function Es(e){for(var t=0;t<Za.length;t++)if(e===Za[t])return os++,!0;return!1}function Cs(){Ip(function(){if(Wa){if(0<os&&!$a)return fs=!0,_s(),void Ss();os=0,fs=es=!(rs=[])}else hh(),ps?kh(L+$):(Wa=!0,Ms(),np(ms[1],7,Od,pd)),es=!1})}function Ss(){try{var e=new XMLHttpRequest;wh(os);var t=Qa+as;t&&us-1<t&&(t=us-yd,ls=!0),e.open("GET","https://api.twitch.tv/kraken/games/top?limit="+yd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=is,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Is(e.responseText)},e.send(null)}catch(e){xs()}}function xs(){++ts<ns?(is+=ts<5?250:3500,Ss()):(ls=!0,os=0,rs=[],Cs())}function Is(e){var t,n,i=JSON.parse(e),o=i.top.length,r=0,a=rs.slice();us=parseInt(i._total),o<hd&&(ls=!0);for(var s=0;s<rs.length&&r<o;s++,r++)Es((t=i.top[r]).game.name)?(os--,s--):(Za.push(t.game.name),mp(rs[s],[t.game.name,t.game.box.template.replace("{width}x{height}",Ed),Hh(t.channels)+" "+E+m+Hh(t.viewers)+q],ms),os--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));as+=r,ls?(os=0,rs=[]):rs=a,Cs()}function Ms(){bp(Ka,Ya,ms,lu,pd,Qa),2<Ka&&ip(ms[1],Ka,Od,pd,3),Qa/pd<Ka+fd&&!$a&&!fs&&(fs=!0,_s(),bs())}function Ls(){wp(Ka+"_"+Ya,ms)}function Bs(){ss=!0}function As(e){var t;if(es&&!fs||!ss)e.preventDefault();else switch(ss=!1,window.setTimeout(Bs,cs),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Mu===Lu||Lu===uu||Lu===fu?su:Lu,gs(),Fh());break;case Hn:if(jh(Ka,Ya-1,ms[0]))Ls(),Ya--,Ms();else for(t=pd-1;-1<t;t--)if(jh(Ka-1,t,ms[0])){Ls(),Ka--,Ya=t,Ms();break}break;case Rn:jh(Ka,Ya+1,ms[0])?(Ls(),Ya++,Ms()):jh(Ka+1,0,ms[0])&&(Ls(),Ka++,Ya=0,Ms());break;case Nn:for(t=0;t<pd;t++)if(jh(Ka-1,Ya-t,ms[0])){Ls(),Ka--,Ya-=t,Ms();break}break;case jn:for(t=0;t<pd;t++)if(jh(Ka+1,Ya-t,ms[0])){Ls(),Ka++,Ya-=t,Ms();break}break;case On:case Mn:fs||ys();break;case xn:Lu=lu,Mu=Eu,gs(),Fh();break;case In:Lu=lu,Mu=Iu,gs(),Fh();break;case Bn:case Ln:case An:case Pn:fs||(qu=document.getElementById(ms[5]+Ka+"_"+Ya).getAttribute(Sd),document.body.removeEventListener("keydown",As),Ou=Mu,Mu=uu,Ko=!(Ru=!0),gs(),Fh());break;case Fn:Ch();break;case Dn:gs(),Kh();break;case qn:Ih();break;case zn:Bu=lu,Mu=fu,gs(),Fh()}}var Os=0,Hs=0,Rs=!1,Ns=0,js=[],Ps=[],Fs=!1,Ds=0,qs=10,zs=3500,Vs=0,Us=!0,Gs=25,Js=!1,Xs=0,Ws=!1,Ks=["gc_thumbdiv","gc_img","gc_infodiv","gc_title","gc_createdon","gc_game","gc_viwers","gc_duration","gc_cell","gcpempty_","gc_lang"],Ys=!1,$s=null,Qs=2,Zs="week",ec=!1,tc=!1,nc="";function ic(){Mu=xu,sc(),sh("top_bar_game","icon_center_focus"),ih("label_controls","icon-arrow-circle-left",S),ih("label_switch","icon-calendar",l+Zt),document.body.addEventListener("keydown",_c,!1),rp(Os),nc===qu&&Ys?(kp(Ks[0],Os,Hs,xu,ed,Qu,!1),_h(Hs,Os,ud,Ns)):rc()}function oc(){document.body.removeEventListener("keydown",_c),ch("top_bar_game","icon_center_focus"),document.getElementById("top_bar_game").innerHTML=p,ih("label_controls","icon-question-circle",fn),ih("label_switch","icon-switch",s)}function rc(){nc=qu,Th(),Tp("blank_focus"),dh(),$s=null,Ys=!1,Qh("stream_table_gclip"),Js=tc=!1,js=[],Os=Hs=Ns=Xs=Vs=0,Rs=ec=!(Ps=[]),yh(),ac(),cc()}function ac(){Fs=!0,Ds=0,zs=3500}function sc(){1===Qs?(document.getElementById("top_bar_game").innerHTML=_+Uh(R+se+": "+qu),Zs="day"):2===Qs?(document.getElementById("top_bar_game").innerHTML=_+Uh(R+ce+": "+qu),Zs="week"):3===Qs?(document.getElementById("top_bar_game").innerHTML=_+Uh(R+le+": "+qu),Zs="month"):4===Qs&&(document.getElementById("top_bar_game").innerHTML=_+Uh(R+ue+": "+qu),Zs="all"),localStorage.setItem("Gclip_periodNumber",Qs)}function cc(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?game="+encodeURIComponent(qu)+"&limit="+ld+"&period="+encodeURIComponent(Zs)+(null===$s?"":"&cursor="+encodeURIComponent($s))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=zs,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void uc(e.responseText);lc()}},e.send(null)}catch(e){lc()}}function lc(){++Ds<qs?(zs+=Ds<5?250:3500,cc()):(tc=Fs=!1,hh(),kh(M))}function uc(e){var t=JSON.parse(e),n=t.clips.length;$s=t._cursor,n<ld&&(Rs=!0);var i=Ns;Ws=!(Ns+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)dc((c=t.clips[l]).slug)?r--:(js.push(c.slug),s.appendChild(Gx(a,a+"_"+r,c.slug+","+c.duration+","+c.game+","+c.broadcaster.name+","+c.broadcaster.display_name+","+c.broadcaster.logo.replace("150x150","300x300")+","+c.broadcaster.id,[c.thumbnails.medium,c.broadcaster.display_name,j+Gh(c.created_at),c.title+ln+f+c.game,Hh(c.views)+F,"["+c.language.toUpperCase()+"]",P+zm(c.duration)],Ks)));for(;r<ud;r++)Rs&&!ec&&(ec=!0,Ns=a*ud+r),s.appendChild(sp(Ks[9]+a+"_"+r)),Ps.push(Ks[9]+a+"_"+r);document.getElementById("stream_table_gclip").appendChild(s)}hc()}function dc(e){for(var t=0;t<js.length;t++)if(e===js[t])return Vs++,!0;return!1}function hc(){Ip(function(){if(Ys){if(0<Vs&&!Rs)return tc=!0,ac(),void pc();Vs=0,tc=Fs=!(Ps=[])}else hh(),Ws?kh(L+R):(Ys=!0,vc(),np(Ks[1],9,Rd,ud)),Fs=!1})}function pc(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?game="+encodeURIComponent(qu)+"&limit="+Vs+"&period="+encodeURIComponent(Zs)+(null===$s?"":"&cursor="+encodeURIComponent($s))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=zs,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||mc(e.responseText)},e.send(null)}catch(e){fc()}}function fc(){++Ds<qs?(zs+=Ds<5?250:3500,pc()):(Js=!0,Vs=0,Ps=[],hc())}function mc(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=Ps.slice();$s=i._cursor,o<Vs&&(Js=!0);for(var s=0;s<Ps.length&&r<o;s++,r++)dc((t=i.clips[r]).slug)?(Vs--,s--):(js.push(t.slug),Xx(Ps[s],t.slug+","+t.duration+","+t.game+","+t.broadcaster.name+","+t.broadcaster.display_name+","+t.broadcaster.logo.replace("150x150","300x300")+","+t.broadcaster.id,[t.thumbnails.medium,t.broadcaster.display_name,j+Gh(t.created_at),t.title+ln+f+t.game,Hh(t.views)+F,"["+t.language.toUpperCase()+"]",P+zm(t.duration)],Ks),Vs--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Js?(Vs=0,Ps=[]):Ps=a,hc()}function vc(){_p(Os,Hs,Ks,xu,ud,Ns),3<Os&&ip(Ks[1],Os,Rd,ud,4),Ns/ud<Os+dd&&!Rs&&!tc&&(tc=!0,ac(),cc())}function gc(){wp(Os+"_"+Hs,Ks)}function yc(){Us=!0}function _c(e){var t;if(!Fs||tc)if(Us)switch(Us=!1,window.setTimeout(yc,Gs),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=uu,oc(),Fh());break;case Hn:if(jh(Os,Hs-1,Ks[0]))gc(),Hs--,vc();else for(t=ud-1;-1<t;t--)if(jh(Os-1,t,Ks[0])){gc(),Os--,Hs=t,vc();break}break;case Rn:jh(Os,Hs+1,Ks[0])?(gc(),Hs++,vc()):jh(Os+1,0,Ks[0])&&(gc(),Os++,Hs=0,vc());break;case Nn:for(t=0;t<ud;t++)if(jh(Os-1,Hs-t,Ks[0])){gc(),Os--,Hs-=t,vc();break}break;case jn:for(t=0;t<ud;t++)if(jh(Os+1,Hs-t,Ks[0])){gc(),Os++,Hs-=t,vc();break}break;case On:case Mn:rc();break;case xn:tc||(4<++Qs&&(Qs=1),sc(),rc());break;case In:tc||(--Qs<1&&(Qs=4),sc(),rc());break;case Bn:case Ln:case An:case Pn:kb=document.getElementById(Ks[8]+Os+"_"+Hs).getAttribute(Sd).split(","),SGclip_DurationSeconds=parseInt(kb[1]),qu=kb[2],Nu=kb[3],ju=kb[4],Pu=kb[5],zu=kb[6],kb=kb[0],bb="",Tb=document.getElementById(Ks[4]+Os+"_"+Hs).textContent,gb=document.getElementById(Ks[5]+Os+"_"+Hs).textContent,_b=document.getElementById(Ks[6]+Os+"_"+Hs).textContent,Eb=document.getElementById(Ks[7]+Os+"_"+Hs).textContent,yb=document.getElementById(Ks[10]+Os+"_"+Hs).innerHTML,bc();break;case Fn:Ch();break;case Dn:oc(),Kh();break;case qn:Ih();break;case zn:Yb||(Bu=xu),Mu=fu,oc(),Fh()}else e.preventDefault();else e.preventDefault()}function bc(){document.body.addEventListener("keydown",mf,!1),document.body.removeEventListener("keydown",_c),rh("scene2"),yv(),lv(),nv(),rv(),oh("scene1"),Xp()}var wc=0,kc=0,Tc=!1,Ec=0,Cc=[],Sc=[],xc=!1,Ic=0,Mc=10,Lc=3500,Bc=0,Ac=0,Oc=!0,Hc=25,Rc=!1,Nc=0,jc=!1,Pc=!1,Fc="week",Dc=2,qc=!1,zc=["gv_thumbdiv","gv_img","gv_infodiv","gv_title","gv_streamon","gv_duration","gv_viwers","gv_quality","gv_cell","gsvempty_","gv_game"],Vc=!1,Uc=!1,Gc=!1,Jc="";function Xc(){Mu=Su,sh("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",cl,!1),ih("label_controls","icon-arrow-circle-left",S),ih("label_refresh","icon-refresh",c+Yt),ih("label_switch","icon-calendar",l+Zt),rp(wc),Jc===qu&&Vc?(kp(zc[0],wc,kc,Su,ed,Qu,!1),_h(kc,wc,ud,Ec),ul()):Kc()}function Wc(){document.body.removeEventListener("keydown",cl),ch("top_bar_game","icon_center_focus"),document.getElementById("top_bar_game").innerHTML=p,ih("label_controls","icon-question-circle",fn),ih("label_refresh","icon-refresh",e+Yt),ih("label_switch","icon-switch",s)}function Kc(){Jc=qu,ul(),Th(),Vc=!1,Tp("blank_focus"),dh(),Qh("stream_table_gvod"),Rc=Gc=!1,Cc=[],wc=kc=Ec=Nc=Ac=Bc=0,Tc=Pc=!(Sc=[]),yh(),Yc(),$c()}function Yc(){xc=!0,Ic=0,Lc=3500}function $c(){try{var e=new XMLHttpRequest,t=Ec+Ac;t&&Nc-1<t&&(t=Nc-ld,Rc=Tc=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(qu)+"&limit="+ld+"&broadcast_type="+(Uc?"highlight":"archive")+"&sort=views&offset="+t+"&period="+Fc+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Lc,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Zc(e.responseText);Qc()}},e.send(null)}catch(e){Qc()}}function Qc(){++Ic<Mc?(Lc+=Ic<5?250:3500,$c()):(Gc=xc=!1,hh(),kh(M))}function Zc(e){var t=JSON.parse(e),n=t.videos.length;Nc=parseInt(t._total),n<ld&&(Tc=!0);var i=Ec;jc=!(Ec+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)c=t.videos[l],-1!==(JSON.stringify(c.preview)+"").indexOf("404_processing_320x240.png")?(Bc++,r--):el(c._id)?r--:(Cc.push(c._id),s.appendChild(Gx(a,a+"_"+r,c._id+","+c.length+","+c.language+","+c.game+","+c.channel.name,[c.preview.replace("320x240",Td),c.channel.display_name,j+Gh(c.created_at),c.title+ln+Qt+f+c.game,Hh(c.views)+F,Rh(c.resolutions.chunked.slice(-4),parseInt(c.fps.chunked)||0,c.language),P+zm(c.length)],zc)));for(;r<ud;r++)Tc&&!Pc&&(Pc=!0,Ec=a*ud+r),s.appendChild(sp(zc[9]+a+"_"+r)),Sc.push(zc[9]+a+"_"+r);document.getElementById("stream_table_gvod").appendChild(s)}tl()}function el(e){for(var t=0;t<Cc.length;t++)if(e===Cc[t])return Bc++,!0;return!1}function tl(){Ip(function(){if(Vc){if(0<Bc&&!Tc)return Gc=!0,Yc(),void nl();Bc=0,Gc=xc=!(Sc=[])}else hh(),jc?kh(L+(Uc?H:O)+B+C):(Vc=!0,rl(),np(zc[1],9,Rd,ud)),xc=!1})}function nl(){try{var e=new XMLHttpRequest;wh(Bc);var t=Ec+Ac;t&&Nc-1<t&&(t=Nc-yd,Rc=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(qu)+"&limit="+yd+"&broadcast_type="+(Uc?"highlight":"archive")+"&sort=views&offset="+t+"&period="+Fc+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Lc,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||ol(e.responseText)},e.send(null)}catch(e){il()}}function il(){++Ic<Mc?(Lc+=Ic<5?250:3500,nl()):(Rc=!0,Bc=0,Sc=[],tl())}function ol(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=Sc.slice();Nc=parseInt(i._total),o<ld&&(Rc=!0);for(var s=0;s<Sc.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:el(t._id)?(Bc--,s--):(Cc.push(t._id),Xx(Sc[s],t._id+","+t.length+","+t.language+","+t.game+","+t.channel.name,[t.preview.replace("320x240",Td),t.channel.display_name,j+Gh(t.created_at),t.title+ln+Qt+f+t.game,Hh(t.views)+F,Rh(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),P+zm(t.length)],zc),Bc--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Ac+=r,Rc?(Bc=0,Sc=[]):Sc=a,tl()}function rl(){_p(wc,kc,zc,Su,ud,Ec),3<wc&&ip(zc[1],wc,Rd,ud,4),Ec/ud<wc+dd&&!Tc&&!Gc&&(Gc=!0,Yc(),$c())}function al(){wp(wc+"_"+kc,zc)}function sl(){Oc=!0}function cl(e){var t;if(!xc||Gc)if(Oc)switch(Oc=!1,window.setTimeout(sl,Hc),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=uu,Wc(),Fh());break;case Hn:if(jh(wc,kc-1,zc[0]))al(),kc--,rl();else for(t=ud-1;-1<t;t--)if(jh(wc-1,t,zc[0])){al(),wc--,kc=t,rl();break}break;case Rn:jh(wc,kc+1,zc[0])?(al(),kc++,rl()):jh(wc+1,0,zc[0])&&(al(),wc++,kc=0,rl());break;case Nn:for(t=0;t<ud;t++)if(jh(wc-1,kc-t,zc[0])){al(),wc--,kc-=t,rl();break}break;case jn:for(t=0;t<ud;t++)if(jh(wc+1,kc-t,zc[0])){al(),wc++,kc-=t,rl();break}break;case xn:Gc||(4<++Dc&&(Dc=1),Kc());break;case In:Gc||(--Dc<1&&(Dc=4),Kc());break;case On:case Mn:Gc||(Uc=!Uc,localStorage.setItem("Gvod_highlight",Uc?"true":"false"),Kc());break;case Bn:case Ln:case An:case Pn:mT=document.getElementById(zc[8]+wc+"_"+kc).getAttribute(Sd).split(","),aT=parseInt(mT[1]),lT=mT[2],uT=mT[3],Nu=mT[4],mT=mT[0].substr(1),vT="",ju=document.getElementById(zc[3]+wc+"_"+kc).textContent,yT=document.getElementById(zc[4]+wc+"_"+kc).textContent,_T=document.getElementById(zc[5]+wc+"_"+kc).textContent,gT=document.getElementById(zc[10]+wc+"_"+kc).innerHTML+", "+document.getElementById(zc[6]+wc+"_"+kc).textContent,ll();break;case Fn:Ch();break;case Dn:Wc(),Kh();break;case qn:Ih();break;case zn:Yb||(Bu=Su),Mu=fu,Wc(),Fh()}else e.preventDefault();else e.preventDefault()}function ll(){document.body.addEventListener("keydown",fy,!1),document.body.removeEventListener("keydown",cl),rh("scene2"),ry(),yv(),lv(),nv(),rv(),qc=!0,oh("scene1"),Pg()}function ul(){1===Dc?(document.getElementById("top_bar_game").innerHTML=_+Uh((Uc?H:O)+se+": "+qu),Fc="day"):2===Dc?(document.getElementById("top_bar_game").innerHTML=_+Uh((Uc?H:O)+ce+": "+qu),Fc="week"):3===Dc?(document.getElementById("top_bar_game").innerHTML=_+Uh((Uc?H:O)+le+": "+qu),Fc="month"):4===Dc&&(document.getElementById("top_bar_game").innerHTML=_+Uh((Uc?H:O)+ue+": "+qu),Fc="all"),localStorage.setItem("Gvod_periodNumber",Dc)}var dl=!1,hl=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_"],pl=0,fl=0,ml=0,vl=!1,gl=0,yl=[],_l=!1,bl=0,wl=10,kl=3500,Tl=0,El=[],Cl=0,Sl=!0,xl=25,Il=!1,Ml=0,Ll=!1,Bl=!1,Al=0,Ol=!1,Hl=!1;function Rl(){Mu=su,sh("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",Ql,!1),rp(pl),dl?(kp(hl[0],pl,fl,su,ed,Qu,!1),_h(fl,pl,ud,gl)):jl()}function Nl(){document.body.removeEventListener("keydown",Ql),ch("top_bar_live","icon_center_focus"),vh()}function jl(){Th(),dl=!1,Tp("blank_focus"),dh(),Qh("stream_table_live"),Hl=!1,Bl=Il=!(El=[]),Al=pl=fl=gl=Ml=Cl=Tl=0,vl=!(yl=[]),yh(),Pl(),Fl()}function Pl(){_l=!0,bl=0,kl=3500}function Fl(){try{var e=new XMLHttpRequest,t=gl+Cl;t&&Ml-1<t&&(t=Ml-ld,Il=vl=!0),e.open("GET","https://api.twitch.tv/kraken/streams?limit="+ld+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=kl,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ql(e.responseText);Dl()}},e.send(null)}catch(e){Dl()}}function Dl(){++bl<wl?(kl+=bl<5?250:3500,Fl()):Hl?(Il=vl=!(Hl=!1),Ul()):(_l=!1,hh(),kh(M),rh("topbar"))}function ql(e){var t=JSON.parse(e),n=t.streams.length;Ml=parseInt(t._total),n<ld&&(vl=!0);var i=gl;Ol=!(gl+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)Vl((c=t.streams[l]).channel.name)?r--:s.appendChild(zl(a,a+"_"+r,c.channel.name,[c.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,g+Um(c.created_at)+y+", "+m+Hh(c.viewers)+q,Rh(c.video_height,c.average_fps,c.channel.language)]));for(;r<ud;r++)vl&&!Bl&&(Bl=!0,gl=a*ud+r),s.appendChild(sp(hl[9]+a+"_"+r)),El.push(hl[9]+a+"_"+r);document.getElementById("stream_table_live").appendChild(s)}Ul()}function zl(e,t,n,i){return yl.push(n),e<ud&&ap(i[0]),dp(n,t,hl,i)}function Vl(e){for(var t=0;t<yl.length;t++)if(e===yl[t])return Tl++,!0;return!1}function Ul(){Ip(function(){if(dl){if(0<Tl&&!vl)return Hl=!0,Pl(),void Gl();Tl=0,Hl=_l=!(El=[])}else hh(),rh("topbar"),Ol?kh(L+K):(dl=!0,np(hl[1],9,Rd,ud),Wl()),_l=!1,Ll||(Ll=!0,Wh()&&Bh(),document.getElementById("oauth").style.display="block",document.getElementById("search").style.display="block",document.getElementById("add_user").style.display="block")})}function Gl(){try{var e=new XMLHttpRequest;wh(Tl);var t=gl+Cl;t&&Ml-1<t&&(t=Ml-yd,Il=!0),e.open("GET","https://api.twitch.tv/kraken/streams?limit="+yd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=kl,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Xl(e.responseText)},e.send(null)}catch(e){Jl()}}function Jl(){++bl<wl?(kl+=bl<5?250:3500,Gl()):(Il=!0,Tl=0,El=[],Ul())}function Xl(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=El.slice();Ml=parseInt(i._total),o<ld&&(Il=!0);for(var s=0;s<El.length&&r<o;s++,r++)Vl((t=i.streams[r]).channel.name)?(Tl--,s--):(yl.push(t.channel.name),hp(El[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+Um(t.created_at)+y+", "+m+Hh(t.viewers)+q,Rh(t.video_height,t.average_fps,t.channel.language)],hl),Tl--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Cl+=r,Il?(Tl=0,El=[]):El=a,Ul()}function Wl(){_p(pl,fl,hl,su,ud,gl),3<pl&&ip(hl[1],pl,Rd,ud,4),gl/ud<pl+dd&&!vl&&!Hl&&(Hl=!0,Pl(),Fl())}function Kl(){wp(pl+"_"+fl,hl)}function Yl(){ch("exit_app_cancel","button_search_focused"),ch("exit_app_minimize","button_search_focused"),ch("exit_app_close","button_search_focused"),sh(ml?1===ml?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function $l(){Sl=!0}function Ql(e){var t;if(_l&&!Hl||!Sl)e.preventDefault();else switch(Sl=!1,window.setTimeout($l,xl),e.keyCode){case Vn:xh()?Sh():Oh()?Ah():Lh()?Mh():gh()?vh():mh();break;case Hn:if(gh())--ml<0&&(ml=2),Yl(),ph(),fh();else if(jh(pl,fl-1,hl[0]))Kl(),fl--,Wl();else for(t=ud-1;-1<t;t--)if(jh(pl-1,t,hl[0])){Kl(),pl--,fl=t,Wl();break}break;case Rn:gh()?(2<++ml&&(ml=0),Yl(),ph(),fh()):jh(pl,fl+1,hl[0])?(Kl(),fl++,Wl()):jh(pl+1,0,hl[0])&&(Kl(),pl++,fl=0,Wl());break;case Nn:if(!gh())for(t=0;t<ud;t++)if(jh(pl-1,fl-t,hl[0])){Kl(),pl--,fl-=t,Wl();break}break;case jn:if(!gh())for(t=0;t<ud;t++)if(jh(pl+1,fl-t,hl[0])){Kl(),pl++,fl-=t,Wl();break}break;case On:case Mn:Hl||jl();break;case xn:Hl||(Lu=su,Mu=So()?bu:cu,Nl(),Fh());break;case In:Hl||(Lu=su,Mu=Cu,Nl(),Fh());break;case Bn:case Ln:case An:case Pn:if(gh()){var n=ml;vh();try{1===n?tizen.application.getCurrentApplication().hide():2===n&&tizen.application.getCurrentApplication().exit()}catch(e){}}else rm=document.getElementById(hl[8]+pl+"_"+fl).getAttribute(Sd),am=document.getElementById(hl[3]+pl+"_"+fl).textContent,document.body.removeEventListener("keydown",Ql),qh();break;case Fn:Ch();break;case Dn:break;case qn:Ih();break;case zn:Bu=su,Mu=fu,Nl(),Fh()}}var Zl,eu,tu,nu,iu,ou=!0,ru=-1,au=new Image,su=1,cu=2,lu=3,uu=4,du=5,hu=6,pu=7,fu=8,mu=9,vu=10,gu=11,yu=12,_u=13,bu=14,wu=15,ku=16,Tu=17,Eu=18,Cu=19,Su=20,xu=21,Iu=22,Mu=1,Lu=1,Bu=1,Au=1,Ou=1,Hu=!1,Ru=!1,Nu="",ju="",Pu="",Fu=null,Du=null,qu="",zu="",Vu=null,Uu=null,Gu="",Ju=!0,Xu=!0,Wu=!1,Ku="",Yu="",$u=!1,Qu=275,Zu=523,ed=372,td=464,nd=567,id=92,od=60,rd=100,ad=83,sd=1.35,cd=1.5,ld=45,ud=3,dd=Math.floor(ld/ud/cd),hd=45,pd=5,fd=Math.floor(hd/pd/sd),md=48,vd=6,gd=Math.floor(md/vd/cd),yd=6,_d="ypvnuqrh98wqz1sr0ov3fgfu4jh1yx",bd="Client-ID",wd="Accept",kd="application/vnd.twitchtv.v5+json",Td="528x297",Ed="340x475",Cd="stream_thumbnail_focused",Sd="data_attribute",xd=400,Id="4.0.0",Md="",Ld="051618",Bd="",Ad="https://bhb27.github.io/smarttv-twitch/release/githubio/images/",Od=Ad+"404_game.png",Hd=Ad+"404_logo.png",Rd=Ad+"404_video.png",Nd=Ad+"blur_game.png",jd=Ad+"blur_video_1.png",Pd=Ad+"blur_video_2.png",Fd=Ad+"blur_video_1_16.png",Dd=Ad+"blur_video_2_16.png",qd=Ad+"blur_vod.png",zd=Ad+"user_minus.png",Vd=Ad+"user_plus.png",Ud=Ad+"user_up.png",Gd=Ad+"user_code.png",Jd=Ad+"ch_logo.png",Xd=Ad+"temp.mp4",Wd=Ad+"smart_live.png",Kd=Ad+"smart_games.png",Yd=Ad+"smart_users.png",$d=Ad+"smart_add_user.png",Qd=function(e,t,n){e.onerror=function(){this.src=n},e.src=t},Zd=function(e,t){e.onerror=function(){this.src=t},e.src=e.getAttribute("data-src"),e.removeAttribute("data-src")},eh=function(e){e.setAttribute("data-src",e.getAttribute("src")),e.removeAttribute("src")};function th(e){var t=e.language.split(".")[0];-1!==t.indexOf("pt_")?(Sn(),$u=!0):console.log("language is "+t),Cn(),Sp(),Ip(function(){ou?document.body.innerHTML=n:gn=gn+ln+gp(),Ip(nh)})}function nh(){ih("label_refresh","icon-refresh",e+Yt),ih("label_search","icon-search",mn),ih("label_switch","icon-switch",s),ih("label_controls","icon-question-circle",fn),ih("label_about","icon-info-circle",vn),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_featured").innerHTML=sn,document.getElementById("top_bar_game").innerHTML=p,document.getElementById("top_bar_vod").innerHTML=en,document.getElementById("top_bar_clip").innerHTML=R,document.getElementById("chanel_button").innerHTML=E,document.getElementById("game_button").innerHTML=p,document.getElementById("live_button").innerHTML=h,document.getElementById("exit_app_cancel").innerHTML=X,document.getElementById("exit_app_close").innerHTML=G,document.getElementById("remove_cancel").innerHTML=X,document.getElementById("remove_yes").innerHTML=Gt,document.getElementById("exit_app_minimize").innerHTML=J,document.getElementById("main_dialog_exit_text").innerHTML=V,document.getElementById("dialog_about_text").innerHTML=yn+_n,document.getElementById("dialog_controls_text").innerHTML=gn,Zl=document.getElementById("scrollbar"),eu=document.getElementById("search_input"),tu=document.getElementById("user_input"),nu=document.getElementById("oauth_input"),HE="true"===(localStorage.getItem("user_Games_live")||"true"),Nx="true"===(localStorage.getItem("Vod_highlight")||"false"),pT="true"===(localStorage.getItem("Svod_highlight")||"false"),Uc="true"===(localStorage.getItem("Gvod_highlight")||"false"),Ox=parseInt(localStorage.getItem("vod_periodNumber"))||2,mb=parseInt(localStorage.getItem("sclip_periodNumber"))||2,Fr=parseInt(localStorage.getItem("Clip_periodNumber"))||2,Qs=parseInt(localStorage.getItem("Gclip_periodNumber"))||2,Dc=parseInt(localStorage.getItem("Gvod_periodNumber"))||2,Ip(function(){_m(),bo(),Rl(),ap(Rd),ap(Od),ap(Hd),ap(Nd),ap(jd),ap(Pd),ap(Fd),ap(Dd),ap(qd),ap(zd),ap(Vd),ap(Ud),ap(Gd),window.setTimeout(Jh,5e3),document.addEventListener("visibilitychange",Yh,!1)})}function ih(e,t,n){document.getElementById(e).innerHTML='<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+Tn+n+"</div>"}function oh(e){document.getElementById(e).classList.add("hide")}function rh(e){document.getElementById(e).classList.remove("hide")}function ah(e){return-1===document.getElementById(e).className.indexOf("hide")}function sh(e,t){document.getElementById(e).classList.add(t)}function ch(e,t){document.getElementById(e).classList.remove(t)}function lh(e,t){document.getElementById(e).style.border=t}function uh(e,t){document.getElementById(e).style.backgroundColor=t}function dh(){vh(),rh("dialog_loading")}function hh(){oh("dialog_loading")}function ph(){window.clearTimeout(Du)}function fh(){Du=window.setTimeout(vh,6e3)}function mh(){fh(),rh("main_dialog_exit")}function vh(){ph(),oh("main_dialog_exit"),ml=0,Yl()}function gh(){return ah("main_dialog_exit")}function yh(){Qh("dialog_counter_text"),bh(0,0,0)}function _h(e,t,n,i){0<i?(document.getElementById("dialog_counter_text").innerHTML=t*n+(e+1)+"/"+i,bh(t,n,i)):yh()}function bh(e,t,n){if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Math.ceil(900/(Math.ceil(n/t)-1)*e+100);Zl.style.top=i+"px",Ju&&(Ju=!1,Zl.style.backgroundColor="#777777")}else Zl.style.backgroundColor="#000000",Zl.style.top="100px",Ju=!0}function wh(e){(yd=12)/3<e&&(yd=3*e),99<yd&&(yd=99)}function kh(e){Xu||e!==M||(Wu=!0),document.getElementById("dialog_warning_text").innerHTML=Xu?e:Dt,rh("dialog_warning")}function Th(){oh("dialog_warning")}function Eh(){return ah("dialog_warning")}function Ch(){vh(),Mh(),Ah(),rh("dialog_about")}function Sh(){oh("dialog_about")}function xh(){return ah("dialog_about")}function Ih(){vh(),Sh(),Ah(),rh("dialog_controls")}function Mh(){oh("dialog_controls")}function Lh(){return ah("dialog_controls")}function Bh(){vh(),Sh(),Mh(),rh("dialog_update")}function Ah(){oh("dialog_update")}function Oh(){return ah("dialog_update")}function Hh(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Rh(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function Nh(e){return-1!==e.indexOf("live")?"":W}function jh(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function Ph(){hv(),Fh(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON)}function Fh(){Tp("blank_focus"),Xu&&Th(),Mu!==gu&&Mu!==uu&&(Hu=Ru=!1),yh(),Mu===su?Rl():Mu===cu?uo():Mu===lu?vs():Mu===uu?$o():Mu===fu?$b():Mu===mu?Ew():Mu===vu?rk():Mu===gu?Py():Mu===yu?wT():Mu===_u?xb():Mu===bu?GS():Mu===du?hS():Mu===hu?EC():Mu===pu?FE():Mu===wu?nE():Mu===ku?B_():Mu===Eu?Px():Mu===Cu?Vr():Mu===Su?Xc():Mu===xu?ic():Mu===Iu?Ba():Rl()}function Dh(e){e===su?Nl():e===cu?ho():e===lu?gs():e===uu?Qo():e===fu?Qb():e===mu?Cw():e===vu?ak():e===gu?Fy():e===yu?kT():e===_u?Ib():e===bu?JS():e===du?pS():e===hu?CC():e===pu?DE():e===wu?iE():e===ku?A_():e===Eu?Fx():e===Cu?Ur():e===Su?Wc():e===xu?oc():e===Iu&&Aa()}function qh(){document.body.addEventListener("keydown",Yv,!1),rh("scene2"),pv(),yv(),oh("scene1"),bm()}function zh(){ih("label_refresh","icon-refresh",e+Yt),ih("label_search","icon-search",mn),ih("label_switch","icon-switch",s),ih("label_controls","icon-question-circle",fn),ch("top_bar_user","icon_center_focus"),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_featured").innerHTML=sn,document.getElementById("top_bar_game").innerHTML=p,document.getElementById("top_bar_vod").innerHTML=en,document.getElementById("top_bar_clip").innerHTML=R}function Vh(){ih("label_controls","icon-arrow-circle-left",S),Qh("label_switch"),Qh("top_bar_live"),Qh("top_bar_game"),Qh("top_bar_vod"),Qh("top_bar_clip"),Qh("top_bar_featured"),sh("top_bar_user","icon_center_focus")}function Uh(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function Gh(e){return e=new Date(e),$u?e.getDate()+" "+$t[e.getMonth()]+", "+e.getFullYear():$t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function Jh(){try{Fu=webapis.network.addNetworkStateChangeListener(function(e){1===e||4===e?(Xu=!0,Eh()&&(kh(qt),Wu&&Fh(),Wu=!1),iv()&&kh(qt),window.setTimeout(Th,1500)):(Xu=!1,window.setTimeout(function(){Xu||(kh(""),tv(Dt))},5e3))})}catch(e){}}function Xh(){try{webapis.network.removeNetworkStateChangeListener(Fu)}catch(e){}}function Wh(){var e=null,t=null,n=null,i=null,o=0;try{e=tizen.application.getAppInfo().version,t=tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version"),i=webapis.productinfo.getFirmware(),n=webapis.productinfo.getModel()}catch(e){}return null!==e&&null!==t&&null!==n&&null!==i&&(Bd="APP "+_e+(Md=e)+"."+Ld+ln+"Tizen "+_e+t+Tn+Tn+"|"+Tn+Tn+"TV: "+n+Tn+Tn+"|"+Tn+Tn+"FW: "+i+ln,e=e.split("."),o=parseInt(e[0]+e[1]+e[2]),document.getElementById("dialog_about_text").innerHTML=yn+Bd+_n,document.getElementById("dialog_update_text").innerHTML=wn+Se+Md+xe+Id+ln+En,o<xd)}function Kh(){bi(0),Mu=su,Fh()}function Yh(){document.hidden?Xh():window.setTimeout(function(){Jh()},2e4)}function $h(){document.hidden?window.clearInterval(Uu):window.setTimeout(function(){0<ro.length?((new Date).getTime()-59e4>Mk&&Hk(),Uu=window.setInterval(Hk,6e5)):(window.clearInterval(Uu),document.removeEventListener("visibilitychange",$h))},1e4)}function Qh(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function Zh(){this.val=0}function ep(e,t,n){for(var i=0;i<t.length;i++)if(e===t[i])return n.val++,!0;return!1}function tp(e,t,n){for(var i=0;i<e.length;i++)Qd(document.getElementById(t[i]),e[i],n)}function np(e,t,n,i){for(var o,r,a=0;a<t;a++)for(o=0;o<i;o++)null!==(r=document.getElementById(e+a+"_"+o))&&Zd(r,n);op(0)}function ip(e,t,n,i,o){var r,a=op(t);if(t===o&&1===a&&(a=0),a){var s,c,l=0;for(r=0<a;l<i;l++)s=r?t+o:t-o,null!==(c=document.getElementById(e+s+"_"+l))&&Zd(c,n),s=r?t-o-1:t+o+1,null!==(c=document.getElementById(e+s+"_"+l))&&eh(c)}}function op(e){var t=0;return ru<e?t=1:e<ru&&(t=-1),ru=e,t}function rp(e){ru=e}function ap(e){au.src=e}function sp(e){return(Ku=document.createElement("td")).setAttribute("id",e),Ku.className="stream_cell",Ku}function cp(e,t,n){return(Ku=document.createElement("td")).setAttribute("id",t[4]+e),Ku.setAttribute(Sd,n[0]),Ku.setAttribute("data-id",n[1]),Ku.className="stream_cell",Ku.innerHTML=up(e,t,n),Ku}function lp(e,t,n){var i=e.split(n[5])[1];(e=document.getElementById(e)).setAttribute(Sd,t[0]),e.setAttribute("data-id",t[1]),e.innerHTML=up(i,n,t),e.setAttribute("id",n[4]+i)}function up(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[2]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function dp(e,t,n,i){return(Ku=document.createElement("td")).setAttribute("id",n[8]+t),Ku.setAttribute(Sd,e),Ku.className="stream_cell",Ku.innerHTML=pp(t,n,i),Ku}function hp(e,t,n,i){var o=e.split(i[9])[1];(e=document.getElementById(e)).setAttribute(Sd,t),e.innerHTML=pp(o,i,n),e.setAttribute("id",i[8]+o)}function pp(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[0]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+n[2]+'</div><div id="'+t[5]+e+'"class="stream_info">'+f+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function fp(e,t,n){return(Ku=document.createElement("td")).setAttribute("id",t[5]+e),Ku.setAttribute(Sd,n[0]),Ku.className="stream_cell",Ku.innerHTML=vp(e,t,n),Ku}function mp(e,t,n){var i=e.split(n[6])[1];(e=document.getElementById(e)).setAttribute(Sd,t[0]),e.innerHTML=vp(i,n,t),e.setAttribute("id",n[5]+i)}function vp(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[1]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function gp(){var e=ln+"Html5 mp4 video support:"+ln+un;if(document.createElement("video").canPlayType){var t=document.createElement("video"),n=t.canPlayType('video/mp4; codecs="avc1.42E01E"');e+=n?"probably"===n?" Full support for avc1.":" Some support for avc1.("+n+")":"No video support for avc1.",e+=ln+un,e+=(n=t.canPlayType('video/mp4; codecs="mp4a.40.2"'))?"probably"===n?" Full support for mp4a.":" Some support for mp4a.("+n+")":" No video support for mp4a."}else e+="No video support at all, createElement video fail.";return e}function yp(t,n,i,o,r,a){Ip(function(){var e=t+"_"+n;sh(i[0]+e,Cd),Ip(function(){kp(i[0],t,n,o,td,Qu,!0)}),_h(n,t,r,a)})}function _p(t,n,i,o,r,a){Ip(function(){var e=t+"_"+n;sh(i[0]+e,Cd),Ip(function(){kp(i[0],t,n,o,ed,Qu,!1)}),_h(n,t,r,a)})}function bp(t,n,i,o,r,a){Ip(function(){var e=t+"_"+n;sh(i[0]+e,Cd),Ip(function(){kp(i[0],t,n,o,nd,Zu,!1)}),_h(n,t,r,a)})}function wp(e,t){ch(t[0]+e,Cd)}function kp(e,t,n,i,o,r,a){var s=e+t+"_"+n;null!==document.getElementById(s)?(i===wu||i===ku?jh(t+1,0,e)||(2<t?s=e+(t-1)+"_"+n:t=0):1<t&&r!==Zu&&!jh(t+1,0,e)?s=e+(t-1)+"_"+n:1!==t||r===Zu||jh(t+1,0,e)||(s=e+(t-1)+"_"+n,t=0),t||i!==uu||(r-=ad),a?(a=!t||1===t)&&(s=e+"0_"+n,o-=id):a=!t,Mu===i&&window.scroll(0,Ep()+Cp(s)-o+(a?r:0))):t||n||Tp("blank_focus")}function Tp(e){window.scroll(0,Ep()+Cp(e)-ed)}function Ep(){return document.body.scrollTop}function Cp(e){return document.getElementById(e).getBoundingClientRect().top}function Sp(){for(var e=document.styleSheets,t=0;t<e.length;t++)null!==e[t].href&&(e[t].cssRules.length||xp(e[t].href))}function xp(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Ip(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}tizen.tvinputdevice.registerKey("ChannelUp"),tizen.tvinputdevice.registerKey("ChannelDown"),tizen.tvinputdevice.registerKey("MediaPlayPause"),tizen.tvinputdevice.registerKey("MediaPlay"),tizen.tvinputdevice.registerKey("MediaPause"),tizen.tvinputdevice.registerKey("ColorF0Red"),tizen.tvinputdevice.registerKey("ColorF1Green"),tizen.tvinputdevice.registerKey("ColorF2Yellow"),tizen.tvinputdevice.registerKey("ColorF3Blue"),tizen.tvinputdevice.registerKey("Guide"),tizen.tvinputdevice.registerKey("Info"),document.addEventListener("DOMContentLoaded",function(){tizen.systeminfo.getPropertyValue("LOCALE",th)});var Mp=0,Lp=null,Bp=0,Ap=!1,Op=!1,Hp=0,Rp=null,Np=0,jp=-12,Pp=12,Fp=!1,Dp=["2x","1.5x","1x (Normal)","0.5x","0.25x"],qp=2,zp=2,Vp=null,Up=0,Gp=3500,Jp=10;function Xp(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),Qm(),yv(),Cm(document.getElementById("stream_info_icon"),Pu),document.getElementById("stream_info_name").innerHTML=ju,document.getElementById("stream_info_title").innerHTML=bb,document.getElementById("stream_info_game").innerHTML=yb+", "+_b+", "+Eb,document.getElementById("stream_live_icon").innerHTML=Tb,document.getElementById("stream_live_time").innerHTML=gb,document.getElementById("stream_watching_time").innerHTML=v+zm(0),Zp(1),zp=qp=2,qv(3),cm=!1,sm=0,Av(),""!==Gu?(ai=!0,Mi(),$m()):Ym(),document.addEventListener("visibilitychange",Qp,!1),Op=Ap=!1,jp=-12,Pp=12,Fp=!(Np=Hp=0),Wp()}function Wp(){Up=0,Gp=3500,Kp()}function Kp(){try{var e=new XMLHttpRequest;e.open("GET","https://clips.twitch.tv/api/v2/clips/"+kb+"/status",!0),e.timeout=Gp,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?$p(e.responseText):Yp())},e.send(null)}catch(e){Yp()}}function Yp(){++Up<Jp?(Gp+=1e3,Kp()):(Zm(),Xv(3))}function $p(e){kb=JSON.parse(e).quality_options[0].source,Ip(function(){um.src({type:"video/mp4",src:kb}),um.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!0),this.on("ended",function(){Xv(3)}),this.on("timeupdate",function(){of(this.currentTime())}),this.on("error",function(){Xv(3)}),this.on("loadedmetadata",function(){Ap=!0})}),Lp=window.setInterval(ef,500)})}function Qp(){document.hidden&&tf()}function Zp(e){e?(document.getElementById("scene2_quality").style.width="18%",document.getElementById("quality_video").innerHTML='<i class="icon-speedometer strokicon" style="font-size: 225%;"></i>',document.getElementById("quality_name").style.width="55%",document.getElementById("quality_name").style.fontSize="205%"):(document.getElementById("scene2_quality").style.width="28%",document.getElementById("quality_video").innerHTML='<i class="icon-videocamera strokicon"></i>',document.getElementById("quality_name").style.width="80%",document.getElementById("quality_name").style.fontSize="185%")}function ef(){um.paused()||Mp!==um.currentTime()||(Bp++,Qm(),90<Bp&&(Bp=0,Zm(),tv(A),window.setTimeout(tf,1500))),um.paused()||um.play(),Mp=um.currentTime()}function tf(){Fp&&(nf(),Xm())}function nf(){Wm(),document.body.removeEventListener("keydown",mf),document.removeEventListener("visibilitychange",Qp),rf(),Zp(0),window.clearInterval(Lp),Fp=!1}function of(e){!iv()||Op||cm||nv(),ev()&&Zm(),dv()&&!um.paused()&&lv(),Ap=!(Bp=0),hv()&&(document.getElementById("stream_watching_time").innerHTML=v+zm(e))}function rf(){sf(),document.getElementById("scene_channel_panel").style.opacity="0"}function af(){Dm(),sm=0,Av(),qp=zp,hf(),document.getElementById("stream_watching_time").innerHTML=v+zm(um.currentTime()),document.getElementById("scene_channel_panel").style.opacity="1",cf()}function sf(){window.clearTimeout(Vp)}function cf(){Vp=window.setTimeout(rf,5e3)}function lf(){um.paused()||um.pause(),um.currentTime(Np),Hp=0,jp=-12,Ap=Op=!(Pp=12),um.play()}function uf(){window.clearTimeout(Rp),Op=!0;var e="",t="";if(!Hp)return Np=0,jp=-12,Pp=12,tv(pe),void window.setTimeout(function(){Op=!1},1500);if(Hp<0)e=(Np=-1===Hp?-5:-2===Hp?-10:-3===Hp?-15:-4===Hp?-20:-5===Hp?-25:-6===Hp?-30:-7===Hp?-35:-8===Hp?-40:-9===Hp?-45:-10===Hp?-50:-11===Hp?-55:-60)+me,(t=um.currentTime()+Np)<0&&(jp=Hp,t=0),t=zm(Np=t);else{if(e=(Np=1===Hp?5:2===Hp?10:3===Hp?15:4===Hp?20:5===Hp?25:6===Hp?30:7===Hp?35:8===Hp?40:9===Hp?45:10===Hp?50:11===Hp?55:60)+me,(t=um.currentTime()+Np)>ub)return Np=0,Pp=Hp,tv(pe+fe),void(Rp=window.setTimeout(function(){Hp=0,Op=!(Pp=16)},1500));t=zm(Np=t)}tv(de+e+he+t),Rp=window.setTimeout(lf,1500)}function df(){var e=1;qp?1===qp?e=1.5:3===qp?e=.5:4===qp&&(e=.25):e=2,um.playbackRate(e),sf(),rf(),zp=qp}function hf(){qp?qp===Dp.length-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),document.getElementById("quality_name").innerHTML=Dp[qp]}function pf(){um.src({type:"video/mp4",src:kb}),Qm(),lv(),qp=zp=2,hf()}function ff(){console.log("PlayClip_OpenVod")}function mf(e){switch(e.keyCode){case Hn:hv()?(4<++sm&&(sm=0),Av(),sf(),cf()):Nv()?(Fv(),--mm<0&&(mm=3),1===mm&&(mm=0),jv(3)):Ap&&(jp<Hp&&Hp--,uf());break;case Rn:hv()?(--sm<0&&(sm=4),Av(),sf(),cf()):Nv()?(Fv(),3<++mm&&(mm=0),1===mm&&(mm=2),jv(3)):Ap&&(Hp<Pp&&Hp++,uf());break;case Nn:Nv()?Fv():hv()?0===sm&&(sf(),cf(),--qp<0&&(qp=0),hf()):af();break;case jn:Nv()?Fv():hv()?0===sm&&(sf(),cf(),4<++qp&&(qp=4),hf()):af();break;case Pn:Nv()?Dv(3):hv()?Jv(3):af();break;case Vn:kv()?wv():hv()?rf():av()?(rv(),Ip(tf)):ov();break;case Bn:case Ln:case An:Nv()||Bv();break;case On:case Mn:yv(),Hf=!1,localStorage.setItem("ChatEnable","false");break;case qn:Nv()||bv();break;case zn:Nv()||pf()}}var vf=1,gf=.55,yf=3,_f="",bf="source",wf=bf,kf=0,Tf=0,Ef=1,Cf=2,Sf=Tf,xf="",If=0,Mf=0,Lf=0,Bf="",Af=[],Of=0,Hf=!1,Rf="",Nf="",jf="",Pf=0,Ff="",Df=0,qf=10,zf=0,Vf=15,Uf=!1,Gf=null,Jf=0,Xf=0,Wf=0,Kf=[],Yf=[],$f=!1,Qf=0,Zf=null,em=0,tm=!1,nm=0,im=!1,om=!1,rm="",am="",sm=0,cm=!1,lm="",um=null,dm=!1,hm=1e4,pm=3500,fm="",mm=0,vm=3,gm=null,ym="";function _m(){um=videojs("video_live"),Wm(),document.getElementById("scene2_search_text").innerHTML=Tn+t,document.getElementById("scene2_channel_text").innerHTML=Tn+Ft,document.getElementById("scene2_game_text").innerHTML=Tn+Ut,document.getElementById("dialog_end_replay_text").innerHTML=nn,document.getElementById("dialog_end_vod_text").innerHTML=on,document.getElementById("dialog_end_channel_text").innerHTML=Ft,document.getElementById("dialog_end_game_text").innerHTML=Ut,vf=parseInt(localStorage.getItem("ChatPositionsValue"))||1,gf=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,yf=parseInt(localStorage.getItem("ChatSizeValue"))||3,Hf="true"===localStorage.getItem("ChatEnable"),document.getElementById("play_dialog_exit_text").innerHTML=z,document.getElementById("dialog_buffer_play_text").innerHTML=D+'<div style="height: 45px; vertical-align: middle; display: inline-block; "><i class="fa icon-circle-o-notch fa-spin"></i></div>',document.getElementById("chat_container").innerHTML='<iframe id="chat_frame" width="100%" height="100%" frameborder="0" scrolling="no" style="position: absolute; overflow: hidden;" src="about:blank"></iframe><div id="scene_channel_dialog_chat" style="position: absolute; text-align: center; width: 100%; margin-top: 50%;"><div id="scene_channel_dialog_chat_text" class="strokedbig" style="display: inline-block; font-size: 216%; color: white;"></div></div>',document.getElementById("dialog_controls_play_text").innerHTML=bn,document.getElementById("stream_controls").innerHTML='<div style="vertical-align: middle; display: inline-block"><i class="icon-question-circle" style="color: #FFFFFF; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+Tn+fn+"</div>"}function bm(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),Qm(),document.getElementById("stream_live_icon").innerHTML='<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+Tn+h.toUpperCase()+"</div>",Qh("stream_info_title"),dm=!1,document.getElementById("stream_info_icon").setAttribute("data-src",Jd),document.getElementById("stream_info_name").innerHTML=am,document.getElementById("stream_watching_time").innerHTML=v+zm(0),document.getElementById("stream_live_time").innerHTML=g+zm(0)+y,Sv(!1),xv(!1),cm=!1,zf=0,hm=1e4,km(),xf=window.setInterval(Em,6e4),Zf=window.setInterval(jm,500),Sf=Tf,Uf=!(Lf=Mf=If=$f=0),document.addEventListener("visibilitychange",wm,!1),om=!1,Sm(),qv(1)}function wm(){document.hidden?(Wm(),om=!1,document.getElementById("chat_frame").src="about:blank",window.clearInterval(xf),window.clearInterval(Zf)):(Uf=!0,rh("scene2"),oh("scene1"),lv(),Qm(),window.setTimeout(function(){Bk||Uf&&(tm=!0,im=!(nm=80),Nm(),zf=0,hm=1e4,window.setTimeout(km,7500),xf=window.setInterval(Em,6e4),Zf=window.setInterval(jm,500))},500))}function km(){try{var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);document.getElementById("stream_info_title").innerHTML=e.stream.channel.status,lm=e.stream.game,fm=", ["+e.stream.channel.language.toUpperCase()+"]",document.getElementById("stream_info_game").innerHTML=f+lm+m+Hh(e.stream.viewers)+" "+q+fm,Pu=e.stream.channel.logo,Cm(document.getElementById("stream_info_icon"),Pu),Ff=e.stream.created_at,dm=!0,zu=e.stream.channel._id,""!==Gu?(ai=!0,Mi(),$m()):Ym()}else Tm()},t.open("GET","https://api.twitch.tv/kraken/streams/"+rm+"?"+Math.round(1e7*Math.random()),!0),t.timeout=hm,t.setRequestHeader(bd,_d),t.send(null)}catch(e){Tm()}}function Tm(){++zf<Vf&&(hm+=2e3,km())}function Em(){var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState&&200===t.status)try{var e=JSON.parse(t.responseText);document.getElementById("stream_info_title").innerHTML=e.stream.channel.status,document.getElementById("stream_info_game").innerHTML=f+e.stream.game+m+Hh(e.stream.viewers)+" "+q+fm,dm||Cm(document.getElementById("stream_info_icon"),e.stream.channel.logo)}catch(e){}},t.open("GET","https://api.twitch.tv/kraken/streams/"+rm+"?"+Math.round(1e7*Math.random()),!0),t.timeout=1e4,t.setRequestHeader(bd,_d),t.send(null)}function Cm(e,t){e.onerror=function(){this.src=Hd,dm=!1},e.src=t}function Sm(){Df=0,pm=3500,xm()}function xm(){try{var e,t=new XMLHttpRequest;e=Sf===Tf?"https://api.twitch.tv/api/channels/"+rm+"/access_token":"http://usher.twitch.tv/api/channel/hls/"+rm+".m3u8?player=twitchweb&&type=any&sig="+If.sig+"&token="+escape(If.token)+"&allow_source=true&allow_audi_only=true&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=pm,t.setRequestHeader(bd,_d),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{Df=0,Uf&&Bm(t.responseText)}catch(e){}else-1!==t.responseText.indexOf("Bad auth token")?Lm():Im()},t.send(null)}catch(e){Im()}}function Im(){Uf&&(++Df<qf?(pm+=Df<5?250:3500,xm()):(Zm(),Xv(1)))}function Mm(){Kf[Wf]=rm,Yf[Wf]=Af,Wf++}function Lm(){for(var e=0;e<Kf.length;e++)Kf[e]===rm&&(Af=Yf[e],$f=!0);$f?(Sf=Cf,Uf&&Rm()):(Zm(),Xv(1))}function Bm(e){Sf===Tf?(If=JSON.parse(e),Sf=Ef,Sm()):Sf===Ef&&(Af=Am(Mf=e),Sf=Cf,Bk=!1,Uf&&Rm(),Mm())}function Am(e){for(var t,n=[],i="",o=1,r=Hm(e),a=0;a<r.length;a++)i=r[a].split('NAME="')[1].split('"')[0],t=Om(r[a].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[a-o].id!==i&&n[a-o].id!==i+" (source)"?n.push({id:i+t,url:r[a].split("\n")[2]}):o++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i+t,url:r[a].split("\n")[2]}));return n}function Om(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Hm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Rm(){Bf=Af[Of=0].url,-1!==bf.indexOf("source")&&(bf="source");for(var e=0;e<Cv();e++){if(Af[e].id===bf){Bf=Af[Of=e].url;break}-1!==Af[e].id.indexOf(bf)&&(Bf=Af[Of=e].url)}wf=bf,Uf&&Nm()}function Nm(){Qm(),um.src({type:"application/x-mpegURL",src:Bf}),Xf=Jf,nv(),pv(),Hf&&!_v()&&gv(),om||(um.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!0),this.on("ended",function(){Xv(1)}),this.on("timeupdate",function(){Fm(this.currentTime())}),this.on("error",function(){Xv(1)}),this.on("loadedmetadata",function(){document.getElementById("chat_frame").src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+rm+"&fade=false&bot_activity=true&prevent_clipping=false"})}),om=!0)}function jm(){um.paused()||Qf!==um.currentTime()||(em++,Qm(),im&&!tm&&(nm=-10),30+nm<em&&(em=0,Of<Cv()-1?(im&&Of++,Ev(),Rm(),im=!0):(Zm(),tv(A),window.setTimeout(Gm,1500)))),um.paused()||um.play(),Qf=um.currentTime()}function Pm(){um.off("ended",null),um.off("timeupdate",null),um.off("error",null),um.off("loadedmetadata",null),um.off("playing",null),um.off("canplaythrough",null)}function Fm(e){iv()&&!cm&&nv(),ev()&&Zm(),dv()&&!um.paused()&&lv(),nm=em=0,tm=!1,Jf=e+Xf-14,hv()&&(document.getElementById("stream_watching_time").innerHTML=v+zm(Jf))}function Dm(e){var t,n=new Date;t=$u?n.getDate()+"/"+$t[n.getMonth()]:$t[n.getMonth()]+"/"+n.getDate(),document.getElementById("stream_clock").innerHTML=t+" "+qm(n.getHours())+":"+qm(n.getMinutes())}function qm(e){return e<10?"0"+e:e}function zm(e){var t,n,i;return t=qm(parseInt(e)%60),n=qm((e=Math.floor(e/60))%60),i=qm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Vm(e){var t;return t=qm((e=Math.floor(e/1e3/60))%60),qm(e=Math.floor(e/60))+":"+t}function Um(e){return Vm((new Date).getTime()-new Date(e).getTime())}function Gm(){Uf&&(Jm(),Xm())}function Jm(){Wm(),Km(),Uf=!1}function Xm(){rh("scene1"),oh("scene2"),Ph()}function Wm(){um.pause(),Pm(),um.autoplay(!1),um.src({type:"video/mp4",src:Xd}),lv(),nv(),Rv()}function Km(){om=!1,document.body.removeEventListener("keydown",Yv),document.removeEventListener("visibilitychange",wm),Xf=Jf=0,document.getElementById("chat_frame").src="about:blank",window.clearInterval(xf),window.clearInterval(Zf),nm=0,im=tm=!1}function Ym(){document.getElementById("fallow_text").innerHTML=Tn+Rt,oi=!1}function $m(){rh("scene2_heart")}function Qm(){rh("dialog_buffer_play")}function Zm(){oh("dialog_buffer_play")}function ev(){return ah("dialog_buffer_play")}function tv(e){document.getElementById("dialog_warning_play_text").innerHTML=e,rh("dialog_warning_play")}function nv(){document.getElementById("dialog_warning_play_text").innerHTML="",oh("dialog_warning_play")}function iv(){return ah("dialog_warning_play")}function ov(){av()?rv():(rh("play_dialog_exit"),Rf=window.setTimeout(ov,3e3))}function rv(){window.clearTimeout(Rf),oh("play_dialog_exit")}function av(){return ah("play_dialog_exit")}function sv(){window.clearTimeout(Nf)}function cv(){window.clearTimeout(jf)}function lv(){sv(),cv(),oh("play_dialog_simple_pause")}function uv(){um.paused()?dv()?(oh("play_dialog_simple_pause"),jf=window.setTimeout(uv,8e3)):(rh("play_dialog_simple_pause"),Nf=window.setTimeout(uv,1500)):lv()}function dv(){return ah("play_dialog_simple_pause")}function hv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function pv(){mv(),document.getElementById("scene_channel_panel").style.opacity="0",bf=wf,kf=0,1!==vf&&7!==vf&&8!==vf||Iv()}function fv(){sm=0,Av(),Tv(),Ev(),document.getElementById("stream_live_time").innerHTML=g+Um(Ff)+y,document.getElementById("stream_watching_time").innerHTML=v+zm(Jf),Dm(),rv(),document.getElementById("scene_channel_panel").style.opacity="1",vv(),kf=-5,1!==vf&&7!==vf&&8!==vf||Iv()}function mv(){window.clearTimeout(_f)}function vv(){_f=window.setTimeout(pv,5e3)}function gv(){Iv(),rh("chat_container")}function yv(){oh("chat_container")}function _v(){return ah("chat_container")}function bv(){rv(),rh("dialog_controls_play")}function wv(){oh("dialog_controls_play")}function kv(){return ah("dialog_controls_play")}function Tv(){for(var e=Of=0;e<Cv();e++){if(Af[e].id===bf){Of=e;break}-1!==Af[e].id.indexOf(bf)&&(Of=e)}}function Ev(){Of?Of===Cv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bf=Af[Of].id).indexOf("source")?document.getElementById("quality_name").innerHTML=bf.replace("source",ye):document.getElementById("quality_name").innerHTML=bf}function Cv(){return Af.length}function Sv(e){var t=48,n=100,i=50;Pf=0,2===yf?(t=32,n=66,i=25,Pf=16):1===yf&&(t=17,n=33,i=12.5,Pf=31),document.getElementById("chat_container").style.height=t+"%",document.getElementById("scene_channel_dialog_chat").style.marginTop=i+"%",Iv(),e&&Mv("Size "+n+"%"),localStorage.setItem("ChatSizeValue",yf)}function xv(e){var t=gf-.05;t=t<.05?0:t.toFixed(2),document.getElementById("chat_container").style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&Mv("Brightness "+(100*t).toFixed(0)+"%"),localStorage.setItem("ChatBackgroundValue",gf)}function Iv(){var e="75.3%",t=52+Pf+kf+"%";vf||(vf=8),vf<9?(1<vf&&(t="33%"),2<vf&&(t="0%"),3<vf&&(e="38.3%"),4<vf&&(e="0%"),5<vf&&(t="33%"),6<vf&&(t=52+Pf+kf+"%"),7<vf&&(e="38.3%")):vf=1,document.getElementById("chat_container").style.top=t,document.getElementById("chat_container").style.left=e,localStorage.setItem("ChatPositionsValue",vf)}function Mv(e){window.clearTimeout(Gf),document.getElementById("scene_channel_dialog_chat_text").innerHTML=e,rh("scene_channel_dialog_chat"),Gf=window.setTimeout(Lv,1e3)}function Lv(){oh("scene_channel_dialog_chat")}function Bv(){um.paused()?(lv(),um.play(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),hv()&&pv()):(um.pause(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON),uv())}function Av(){lh("scene2_quality","3.5px solid rgba(0, 0, 0, 0)"),uh("scene2_quality","rgba(0, 0, 0, 0)"),lh("scene2_heart","3.5px solid rgba(0, 0, 0, 0)"),uh("scene2_heart","rgba(0, 0, 0, 0)"),lh("scene2_channel","3.5px solid rgba(0, 0, 0, 0)"),uh("scene2_channel","rgba(0, 0, 0, 0)"),lh("scene2_game","3.5px solid rgba(0, 0, 0, 0)"),uh("scene2_game","rgba(0, 0, 0, 0)"),lh("scene2_search","3.5px solid rgba(0, 0, 0, 0)"),uh("scene2_search","rgba(0, 0, 0, 0)"),sm?1===sm?(lh("scene2_heart","3.5px solid #FFFFFF"),uh("scene2_heart","rgba(0, 0, 0, 0.7)")):2===sm?(lh("scene2_game","3.5px solid #FFFFFF"),uh("scene2_game","rgba(0, 0, 0, 0.7)")):3===sm?(lh("scene2_channel","3.5px solid #FFFFFF"),uh("scene2_channel","rgba(0, 0, 0, 0.7)")):4===sm&&(lh("scene2_search","3.5px solid #FFFFFF"),uh("scene2_search","rgba(0, 0, 0, 0.7)")):(lh("scene2_quality","3.5px solid #FFFFFF"),uh("scene2_quality","rgba(0, 0, 0, 0.7)"))}function Ov(e){ig=Sf=Cf,yv(),pv(),rf(),ry(),nv(),Zm(),rv(),wv(),jv(e)}function Hv(e){rh("dialog_end_stream")}function Rv(){oh("dialog_end_stream"),Fv(),mm=0}function Nv(){return ah("dialog_end_stream")}function jv(e){lh("dialog_end_replay","3.5px solid rgba(0, 0, 0, 0)"),uh("dialog_end_replay","rgba(0, 0, 0, 0)"),lh("dialog_end_vod","3.5px solid rgba(0, 0, 0, 0)"),uh("dialog_end_vod","rgba(0, 0, 0, 0)"),lh("dialog_end_channel","3.5px solid rgba(0, 0, 0, 0)"),uh("dialog_end_channel","rgba(0, 0, 0, 0)"),lh("dialog_end_game","3.5px solid rgba(0, 0, 0, 0)"),uh("dialog_end_game","rgba(0, 0, 0, 0)"),1===e&&mm<2&&(mm+=2),mm?1===mm?(lh("dialog_end_vod","3.5px solid #FFFFFF"),uh("dialog_end_vod","rgba(150,150,150, 0.7)")):2===mm?(lh("dialog_end_channel","3.5px solid #FFFFFF"),uh("dialog_end_channel","rgba(150,150,150, 0.7)")):3===mm&&(lh("dialog_end_game","3.5px solid #FFFFFF"),uh("dialog_end_game","rgba(150,150,150, 0.7)")):(lh("dialog_end_replay","3.5px solid #FFFFFF"),uh("dialog_end_replay","rgba(150,150,150, 0.7)"))}function Pv(e){1===e?ym=am+" "+h:2===e?ym=ju+tn:3===e&&(ym=ju+Pt),document.getElementById("dialog_end_stream_text").innerHTML=ym+x+ln+rn+vm+"...",-1==--vm?(document.getElementById("dialog_end_stream_text").innerHTML=ym+x+ln+rn+"0...",rv(),yv(),1===e?Ip(Gm):2===e?Ip(ny):3===e&&Ip(tf)):gm=window.setTimeout(function(){Pv(e)},1e3)}function Fv(){window.clearTimeout(gm),document.getElementById("dialog_end_stream_text").innerHTML=ym+x+ln+an}function Dv(e){mm?1===mm?ff():2===mm?zv(e):3===mm&&Uv(e):2===e?(fg=0,Sg=!1,Qg(),lv()):3===e&&pf(),Rv()}function qv(e){document.getElementById("dialog_end_replay").style.display="inline-block",document.getElementById("dialog_end_vod").style.display="inline-block",1===e?(document.getElementById("dialog_end_replay").style.display="none",document.getElementById("dialog_end_vod").style.display="none"):1<e&&(document.getElementById("dialog_end_vod").style.display="none")}function zv(e){Hu||Mu===yu||Mu===_u||(Au=Ru&&Mu!==uu?Ou:Mu,Hu=!0),Dh(Mu),Mu=gu,1===e?(Nu=rm,ju=am,Ly=oi,yv(),Ip(Gm)):2===e?Ip(ny):3===e&&Ip(tf)}function Vv(e){Yb||(Bu=Mu),Dh(Mu),Mu=fu,1===e?(yv(),Ip(Gm)):2===e?Ip(ny):3===e&&Ip(tf)}function Uv(e){Ru||Mu===Su||Mu===xu||(Ou=Hu&&Mu!==gu&&Mu!==yu&&Mu!==_u?Au:Mu,Ru=!0),Dh(Mu),Mu=uu,Ko=!1,1===e?(qu=lm,yv(),Ip(Gm)):2===e?(qu=uT,Ip(ny)):3===e&&Ip(tf)}function Gv(){""!==ii?oi?Ni():Oi():(tv(Nt),cm=!0,window.setTimeout(function(){nv(),cm=!1},2e3))}function Jv(e){sm?1===sm?(Gv(),1===e&&(mv(),vv()),2===e?(sy(),cy()):3===e&&(sf(),cf())):2===sm?Uv(e):3===sm?zv(e):4===sm&&Vv(e):(1===e&&(im=!1,Rm(),lv()),2===e?(fg||(fg=um.currentTime()),Sg=!1,Qg(),lv()):3===e&&df())}function Xv(e){Ov(e),vm=3,Ip(function(){Pv(e),Hv(e)})}function Wv(){oi?(document.getElementById("fallow_heart").innerHTML='<i class="icon-heart" style="color: #00b300; font-size: 210%; text-shadow: #FFFFFF 0 0 3px, #FFFFFF 0 0 3px, #FFFFFF 0 0 2px;"></i>',document.getElementById("fallow_text").innerHTML=Tn+Mt):(document.getElementById("fallow_heart").innerHTML='<i class="icon-heart-o" style="color: #FFFFFF; font-size: 210%; text-shadow: #000000 0 0 3px, #000000 0 0 3px, #000000 0 0 2px;"></i>',document.getElementById("fallow_text").innerHTML=Tn+Lt)}function Kv(e){kv()&&wv(),Nv()&&!av()?(Fv(),ov()):hv()?pv():av()?(rv(),yv(),Ip(e?ny:Gm)):(iv()&&nv(),ov())}function Yv(e){if(Sf!==Cf)switch(e.keyCode){case Vn:av()?(rv(),yv(),Ip(Gm)):ov()}else switch(e.keyCode){case On:case Mn:_v()||Nv()?(yv(),Hf=!1,localStorage.setItem("ChatEnable","false")):(gv(),Hf=!0,localStorage.setItem("ChatEnable","true"));break;case xn:_v()&&(vf++,Iv());break;case In:_v()&&(vf--,Iv());break;case Hn:!hv()&&_v()?((gf-=.05)<.05&&(gf=.05),xv(!0)):hv()?(4<++sm&&(sm=0),Av(),mv(),vv()):Nv()?(Fv(),--mm<0&&(mm=3),jv(1)):fv();break;case Rn:!hv()&&_v()?(1.05<(gf+=.05)&&(gf=1.05),xv(!0)):hv()?(--sm<0&&(sm=4),Av(),mv(),vv()):Nv()?(Fv(),3<++mm&&(mm=0),jv(1)):fv();break;case Nn:hv()?(0<Of&&!sm&&(Of--,Ev()),mv(),vv()):_v()?yf<3?(yf++,Sv(!0)):Mv("Size 100%"):Nv()?Fv():fv();break;case jn:hv()?(Of<Cv()-1&&!sm&&(Of++,Ev()),mv(),vv()):_v()?1<yf?(yf--,Sv(!0)):Mv("Size 33%"):Nv()?Fv():fv();break;case Pn:Nv()?Dv(1):hv()?Jv(1):fv();break;case Vn:Kv(!1);break;case Bn:case Ln:case An:Nv()||Bv();break;case qn:Nv()||bv()}}var $v="",Qv="source",Zv=Qv,eg=0,tg=1,ng=2,ig=eg,og="",rg=0,ag=0,sg=0,cg="",lg=[],ug=0,dg=0,hg=10,pg=!1,fg=0,mg=0,vg=15,gg=1e4,yg=[],_g=[],bg=0,wg=0,kg=null,Tg=0,Eg=!1,Cg=0,Sg=!1,xg=!1,Ig=!1,Mg=!1,Lg=null,Bg=0,Ag=!1,Og=0,Hg=-16,Rg=16,Ng=3500,jg=!1;function Pg(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),Qm(),yv(),qc?(mg=0,vg=15,gg=1e4,Fg()):Cm(document.getElementById("stream_info_icon"),Pu),document.getElementById("stream_info_name").innerHTML=ju,document.getElementById("stream_info_title").innerHTML=vT,document.getElementById("stream_info_game").innerHTML=gT+", ["+lT.toUpperCase()+"]",document.getElementById("stream_live_icon").innerHTML=yT,document.getElementById("stream_live_time").innerHTML=_T,document.getElementById("stream_watching_time").innerHTML=v+zm(0),""!==Gu?(ai=!0,Mi(),$m()):Ym(),Ag=cm=jg=!1,sg=ag=rg=Og=0,Hg=-16,Rg=16,ig=eg,document.addEventListener("visibilitychange",zg,!1),kg=window.setInterval(ey,500),pg=!(Mg=Ig=xg=!1),Vg(),qv(2)}function Fg(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken/users?login="+Nu,!0),t.timeout=gg,t.setRequestHeader(bd,_d),t.setRequestHeader(wd,kd),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=JSON.parse(t.responseText).users[0];return void 0!==e?(Pu=e.logo,zu=e._id):(Pu=Hd,zu=""),void Cm(document.getElementById("stream_info_icon"),Pu)}Dg()}},t.send(null)}catch(e){Dg()}}function Dg(){++mg<vg?(gg+=2e3,Fg()):Cm(document.getElementById("stream_info_icon"),Hd)}function qg(){++mg<vg&&(gg+=2e3,PlayVod_updateStreamInfoend())}function zg(){document.hidden?(um.pause(),fg=um.currentTime(),Wm(),window.clearInterval(kg),lv()):(pg=!0,rh("scene2"),oh("scene1"),lv(),Qm(),window.setTimeout(function(){pg&&(Ig=!1,Zg(),Cg=80,Sg=!(Eg=!0),kg=window.setInterval(ey,500))},500))}function Vg(){dg=0,Ng=3500,Ug()}function Ug(){try{var e,t=new XMLHttpRequest;e=ig===eg?"https://api.twitch.tv/api/vods/"+mT+"/access_token"+(""!==ii?"?oauth_token="+ii:""):"http://usher.twitch.tv/vod/"+mT+".m3u8?player=twitchweb&&type=any&nauthsig="+rg.sig+"&nauth="+escape(rg.token)+"&allow_source=true&allow_audi_only=true&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=Ng,t.setRequestHeader(bd,_d),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{dg=0,pg&&Wg(t.responseText)}catch(e){}else-1!==t.responseText.indexOf("Bad auth token")?Xg():Gg()},t.send(null)}catch(e){Gg()}}function Gg(){if(pg){if(0!==JSON.parse(rg.token).chansub.restricted_bitrates.length)return void Kg();++dg<hg?(Ng+=dg<5?250:3500,Ug()):(Zm(),Xv(2))}}function Jg(){yg[bg]=mT,_g[bg]=lg,bg++}function Xg(){for(var e=0;e<yg.length;e++)yg[e]===Nu&&(lg=_g[e],jg=!0);jg?(ig=ng,pg&&Qg()):(Zm(),Xv(2))}function Wg(e){ig===eg?(rg=JSON.parse(e),ig=tg,Vg()):ig===tg&&(lg=Am(ag=e),ig=Cf,pg&&Qg(),Jg())}function Kg(){""!==ii?Fi():(Zm(),tv(I+Bt),window.setTimeout(function(){pg&&ny()},4e3))}function Yg(){Zm(),tv(I+At),window.setTimeout(function(){pg&&ny()},4e3)}function $g(){Zm(),tv(I+Ot),window.setTimeout(function(){pg&&ny()},4e3)}function Qg(){cg=lg[ug=0].url,-1!==Qv.indexOf("source")&&(Qv="source");for(var e=0;e<dy();e++){if(lg[e].id===Qv){cg=lg[ug=e].url;break}-1!==lg[e].id.indexOf(Qv)&&(cg=lg[ug=e].url)}Zv=Qv,pg&&Zg()}function Zg(){Qm(),um.src({type:"application/x-mpegURL",src:cg}),xg=!1,nv(),ry(),Ig||(um.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!1),this.on("ended",function(){Xv(2)}),this.on("timeupdate",function(){ty(this.currentTime())}),this.on("error",function(){Xv(2)}),this.on("loadedmetadata",function(){0<fg&&fg!==this.currentTime()?(Mg=!0,this.currentTime(fg),Qm(),lv()):this.autoplay(!0),xg=!0}),this.on("playing",function(){0<fg&&(fg=0)}),this.on("canplaythrough",function(){Mg&&(Mg=!1,this.play())})}),Ig=!0)}function ey(){um.paused()||wg!==um.currentTime()||(Tg++,Qm(),Sg&&!Eg&&(Cg=-10),30+Cg<Tg&&(Tg=0,ug<dy()-1?(Sg&&ug++,uy(),fg||(fg=um.currentTime()),Qg(),Sg=!0):(Zm(),tv(A),window.setTimeout(ny,1500)))),um.paused()||um.play(),wg=um.currentTime()}function ty(e){!iv()||Ag||cm||nv(),ev()&&!Mg&&Zm(),dv()&&!um.paused()&&lv(),Cg=Tg=0,xg=!(Eg=!1),hv()&&(document.getElementById("stream_watching_time").innerHTML=v+zm(e))}function ny(){pg&&(iy(),Xm())}function iy(){Wm(),oy(),qc=pg=!1}function oy(){Ig=!1,document.body.removeEventListener("keydown",fy),document.removeEventListener("visibilitychange",zg),fg=0,window.clearInterval(og),window.clearInterval(kg),Cg=0,Sg=Eg=!1}function ry(){sy(),document.getElementById("scene_channel_panel").style.opacity="0",Qv=Zv}function ay(){sm=0,Av(),ly(),Dm(),document.getElementById("stream_watching_time").innerHTML=v+zm(um.currentTime()),uy(),document.getElementById("scene_channel_panel").style.opacity="1",cy()}function sy(){window.clearTimeout($v)}function cy(){$v=window.setTimeout(ry,5e3)}function ly(){for(var e=ug=0;e<dy();e++){if(lg[e].id===Qv){ug=e;break}-1!==lg[e].id.indexOf(Qv)&&(ug=e)}}function uy(){ug?ug===dy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Qv=lg[ug].id).indexOf("source")?document.getElementById("quality_name").innerHTML=Qv.replace("source",ye):document.getElementById("quality_name").innerHTML=Qv}function dy(){return lg.length}function hy(){um.paused()||um.pause(),um.currentTime(Bg),Og=0,Hg=-16,xg=Ag=!(Rg=16),um.play(),lv()}function py(){window.clearTimeout(Lg),Ag=!0;var e="",t="";if(!Og)return Bg=0,Hg=-16,Rg=16,tv(pe),void(Lg=window.setTimeout(function(){Ag=!1},1500));if(Og<0)e=(Bg=-1===Og?-5:-2===Og?-10:-3===Og?-15:-4===Og?-30:-5===Og?-60:-6===Og?-120:-7===Og?-300:-8===Og?-600:-9===Og?-900:-10===Og?-1800:-11===Og?-3600:-12===Og?-7200:-13===Og?-10800:-14===Og?-14400:-15===Og?-18e3:-36e3)+me,Bg<-30&&(e=Bg/60+ve),Bg<-1800&&(e=Bg/60/60+ge),(t=um.currentTime()+Bg)<0&&(Hg=Og,t=0),t=zm(Bg=t);else{if(e=(Bg=1===Og?5:2===Og?10:3===Og?15:4===Og?30:5===Og?60:6===Og?120:7===Og?300:8===Og?600:9===Og?900:10===Og?1800:11===Og?3600:12===Og?7200:13===Og?10800:14===Og?14400:15===Og?18e3:36e3)+me,30<Bg&&(e=Bg/60+ve),1800<Bg&&(e=Bg/60/60+ge),(t=um.currentTime()+Bg)>aT)return Bg=0,Rg=Og,tv(pe+fe),void(Lg=window.setTimeout(function(){Og=0,Ag=!(Rg=16)},1500));t=zm(Bg=t)}tv(de+e+he+t),Lg=window.setTimeout(hy,1500)}function fy(e){if(ig!==ng)switch(e.keyCode){case Vn:av()?(rv(),Ip(ny)):ov()}else switch(e.keyCode){case On:case Mn:yv(),Hf=!1,localStorage.setItem("ChatEnable","false");break;case Hn:hv()?(4<++sm&&(sm=0),Av(),sy(),cy()):Nv()?(Fv(),--mm<0&&(mm=3),1===mm&&(mm=0),jv(2)):xg&&(Hg<Og&&Og--,py());break;case Rn:hv()?(--sm<0&&(sm=4),Av(),sy(),cy()):Nv()?(Fv(),3<++mm&&(mm=0),1===mm&&(mm=2),jv(2)):xg&&(Og<Rg&&Og++,py());break;case Nn:hv()?(0<ug&&!sm&&(ug--,uy()),sy(),cy()):Nv()?Fv():ay();break;case jn:hv()?(ug<dy()-1&&!sm&&(ug++,uy()),sy(),cy()):Nv()?Fv():ay();break;case Pn:Nv()?Dv(2):hv()?Jv(2):ay();break;case Vn:Kv(!0);break;case Bn:case Ln:case An:Nv()||Bv();break;case qn:Nv()||bv()}}var my,vy=0,gy=0,yy=!1,_y=0,by="",wy="",ky=!1,Ty=0,Ey=10,Cy=3500,Sy=0,xy=!0,Iy=25,My=!1,Ly=!1,By=["scc_thumbdiv","scc_img","scc_infodiv","scc_name","scc_createdon","scc_game","scc_viwers","scc_duration","scc_cell","sccempty_"],Ay=!1,Oy="",Hy=null,Ry="",Ny="",jy="";function Py(){Mu=gu,Oy!==Nu&&(Ay=!1),Vh(),ju=ju.replace(W,""),document.getElementById("top_bar_user").innerHTML=ju,document.getElementById("top_bar_game").innerHTML=Ft,document.body.addEventListener("keydown",a_,!1),ai=!1,Ay?(s_("scdescription"),t_()):Dy()}function Fy(){zh(),document.body.removeEventListener("keydown",a_)}function Dy(){Th(),Oy=Nu,My=Ay=!1,s_("blank_focus"),dh(),Qh("stream_table_search_channel_a"),yy=!1,my=void(vy=gy=_y=Sy=0),qy(),zy()}function qy(){by=[],wy=[],ky=!0,Ty=0,Cy=3500}function zy(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==my?my:Nu)+"?"+Math.round(1e7*Math.random()),!0),e.timeout=Cy,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void(null!==JSON.parse(e.responseText).stream?(Hy=e.responseText,qy(),Xy()):(qy(),Uy()));Vy()}},e.send(null)}catch(e){Vy()}}function Vy(){++Ty<Ey?(Cy+=Ty<5?250:3500,zy()):(Hy=null,qy(),Xy())}function Uy(){try{var e=new XMLHttpRequest;e.open("GET","http://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(zu)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Cy,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Jy(e.responseText);Gy()}},e.send(null)}catch(e){Gy()}}function Gy(){++Ty<Ey?(Cy+=3500,Uy()):(Hy=null,qy(),Xy())}function Jy(e){var t=JSON.parse(e);void 0!==(my=t.hosts[0].target_login)?(qy(),zy()):(Hy=null,qy(),Xy())}function Xy(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken/channels/"+zu,!0),t.timeout=gg,t.setRequestHeader(bd,_d),t.setRequestHeader(wd,kd),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=JSON.parse(t.responseText);return Ry=e.views,Ny=e.followers,jy=e.description,void Ky()}Wy()}},t.send(null)}catch(e){Wy()}}function Wy(){++Ty<Ey?(Cy+=3500,Xy()):(jy=Ny=Ry="",Ky())}function Ky(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((Ku=document.createElement("tr")).className="follower_header",Ku.innerHTML='<div id="scdescription" class="follower_header">'+jy+"</div>",document.getElementById("stream_table_search_channel_a").appendChild(t),document.getElementById("stream_table_search_channel_a").appendChild(Ku),null!==Hy){var i=JSON.parse(Hy);if(null!==i.stream){var o=void 0!==my?ju+ne:"",r=i.stream;e.appendChild(Yy("0_"+n,r.channel.name,r.preview.template,r.channel.status,r.game,Nh(JSON.stringify(r.stream_type))+o+r.channel.display_name,g+Um(r.created_at)+y+", "+m+Hh(r.viewers)+q,Rh(r.video_height,r.average_fps,r.channel.language))),n++}else My=!0}else My=!0;e.appendChild($y("0_"+n,ju,ju+O,Fd)),n++,e.appendChild($y("0_"+n,ju,ju+R,Dd)),n<2&&(n++,e.appendChild(sp(By[9]+"0_"+n))),document.getElementById("stream_table_search_channel_a").appendChild(e),(e=document.createElement("tr")).appendChild(Qy("1_0",ju,ju,Pu)),document.getElementById("stream_table_search_channel_a").appendChild(e),e_()}function Yy(e,t,n,i,o,r,a,s){return n=n.replace("{width}x{height}",Td),by.push(n),wy.push(By[1]+e),(Ku=document.createElement("td")).setAttribute("id",By[8]+e),Ku.setAttribute(Sd,t),Ku.className="stream_cell",Ku.innerHTML='<div id="'+By[0]+e+'" class="stream_thumbnail_video" ><img id="'+By[1]+e+'" class="stream_img"></div><div id="'+By[2]+e+'" class="stream_text"><div id="'+By[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==my?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Tn+r+'</div><div id="'+By[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+s+'</div><div id="'+By[4]+e+'"class="stream_info">'+i+'</div><div id="'+By[5]+e+'"class="stream_info">'+f+o+'</div><div id="'+By[6]+e+'"class="stream_info">'+a+"</div></div>",Ku}function $y(e,t,n,i){return by.push(i),wy.push(By[1]+e),(Ku=document.createElement("td")).setAttribute("id",By[8]+e),Ku.setAttribute(Sd,t),Ku.className="stream_cell",Ku.innerHTML='<div id="'+By[0]+e+'" class="stream_thumbnail_video" ><img id="'+By[1]+e+'" class="stream_img"></div><div id="'+By[2]+e+'" class="stream_text"><div id="'+By[3]+e+'" class="stream_channel">'+n+'</div><div id="'+By[4]+e+'"class="stream_info hide"></div><div id="'+By[5]+e+'"class="stream_info hide"></div><div id="'+By[6]+e+'"class="stream_info hide" ></div><div id="'+By[7]+e+'"class="stream_info hide"></div></div>',Ku}function Qy(e,t,n,i){return by.push(i),wy.push(By[1]+e),(Ku=document.createElement("td")).setAttribute("id",By[8]+e),Ku.setAttribute(Sd,t),Ku.className="stream_cell",Ku.innerHTML='<div id="'+By[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+By[1]+e+'" class="stream_img_fallow"></div><div id="'+By[2]+e+'" class="stream_text"><div id="'+By[3]+e+'" class="stream_channel">'+n+'</div><div id="'+By[4]+e+'"class="stream_channel hide"></div><div id="'+By[5]+e+'"class="stream_info">'+Hh(Ry)+F+'</div><div id="'+By[6]+e+'"class="stream_info" >'+Hh(Ny)+zt+'</div><div id="'+By[7]+e+'"class="stream_info hide"></div></div>',Ku}function Zy(){oi?(document.getElementById("schannel_cont_heart").innerHTML='<i class="icon-heart" style="color: #00b300; font-size: 1200%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>',document.getElementById(By[3]+"1_0").innerHTML=ju+Mt):(document.getElementById("schannel_cont_heart").innerHTML='<i class="icon-heart-o" style="color: #FFFFFF; font-size: 1200%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>',document.getElementById(By[3]+"1_0").innerHTML=""!==Gu?ju+Lt:ju+Vt)}function e_(){Ip(function(){Ay||(hh(),Ay=!0,n_(),s_("scdescription")),t_(),tp(by,wy,Rd),ky=!1})}function t_(){Ly?Zy():""!==Gu?(ai=!1,Mi()):(oi=!1,Zy())}function n_(){var e=vy+"_"+(vy?0:gy);sh(By[0]+e,Cd)}function i_(){wp(vy+"_"+(vy?0:gy),By)}function o_(){xy=!0}function r_(){if(vy)""!==ii?(ai=!1,oi?Ni():Oi()):(kh(Nt),window.setTimeout(Th,2e3));else{document.body.removeEventListener("keydown",a_);var e=My?1:0;gy===0-e?(rm=document.getElementById(By[8]+vy+"_"+gy).getAttribute(Sd),-1!==(am=document.getElementById(By[3]+vy+"_"+gy).textContent).indexOf(ne)&&(am=am.split(ne)[1]),qh()):gy===1-e?wT():gy===2-e&&xb()}}function a_(e){if(ky)e.preventDefault();else if(xy)switch(xy=!1,window.setTimeout(o_,Iy),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Au,Fy(),Fh());break;case Hn:i_(),--gy<0&&(gy=My?1:2),n_();break;case Rn:i_(),(My?1:2)<++gy&&(gy=0),n_();break;case Nn:case jn:i_(),vy=vy?0:1,n_();break;case On:case Mn:Dy();break;case Bn:case Ln:case An:case Pn:r_();break;case Fn:Ch();break;case Dn:Fy(),Kh();break;case qn:Ih();break;case zn:Yb||(Bu=gu),Mu=fu,zh(),document.body.removeEventListener("keydown",a_),Fh()}else e.preventDefault()}function s_(e){window.scroll(0,Ep()+Cp(e)-rd)}var c_=0,l_=0,u_=!1,d_=0,h_=[],p_=[],f_=!1,m_=0,v_=10,g_=3500,y_=0,__=0,b_=!0,w_=25,k_=!1,T_=0,E_=!1,C_=!1,S_="",x_=!1,I_=!1,M_=!1,L_=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_"];function B_(){Mu=ku,Yb=I_=!0,S_!==Xb&&(C_=!1),Vh(),document.getElementById("top_bar_user").innerHTML=t+Uh(E+" '"+Xb+"'"),document.body.addEventListener("keydown",W_,!1),rp(c_),C_?(kp(L_[0],c_,l_,ku,td,Qu,!0),_h(l_,c_,vd,d_)):H_()}function A_(){zh(),document.body.removeEventListener("keydown",W_)}function O_(){Fh()}function H_(){S_=Xb,Th(),C_=!1,Tp("blank_focus"),dh(),Qh("stream_table_search_channel"),k_=M_=!1,h_=[],c_=l_=d_=T_=__=y_=0,u_=x_=!(p_=[]),yh(),R_(),N_()}function R_(){f_=!0,m_=0,g_=3500}function N_(){try{var e=new XMLHttpRequest,t=d_+__;t&&T_-1<t&&(t=T_-md,k_=u_=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Xb)+"&limit="+md+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=g_,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void P_(e.responseText);j_()}},e.send(null)}catch(e){j_()}}function j_(){++m_<v_?(g_+=m_<5?250:3500,N_()):(M_=f_=!1,hh(),kh(M))}function P_(e){var t=JSON.parse(e),n=t.channels.length;T_=parseInt(t._total),n<md&&(u_=!0);var i=d_;E_=!(d_+=n);var o=n/vd;0<n%vd&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/vd+u,s=document.createElement("tr"),r=0;r<vd&&l<n;r++,l++)D_((c=t.channels[l])._id)?r--:s.appendChild(F_(a,a+"_"+r,[c.name,c._id,c.logo,c.display_name]));for(;r<vd;r++)u_&&!x_&&(x_=!0,d_=a*vd+r),s.appendChild(sp(L_[5]+a+"_"+r)),p_.push(L_[5]+a+"_"+r);document.getElementById("stream_table_search_channel").appendChild(s)}q_()}function F_(e,t,n){return h_.push(n[1]),e<4&&ap(n[2]),cp(t,L_,n)}function D_(e){for(var t=0;t<h_.length;t++)if(e===h_[t])return y_++,!0;return!1}function q_(){Ip(function(){if(C_){if(0<y_&&!u_)return M_=!0,R_(),void z_();y_=0,M_=f_=!(p_=[])}else hh(),E_?kh(a):(C_=!0,G_(),np(L_[1],9,Hd,vd)),f_=!1})}function z_(){try{var e=new XMLHttpRequest;wh(y_);var t=d_+__;t&&T_-1<t&&(t=T_-yd,k_=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Xb)+"&limit="+yd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=g_,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||U_(e.responseText)},e.send(null)}catch(e){V_()}}function V_(){++m_<v_?(g_+=m_<5?250:3500,z_()):(k_=!0,y_=0,p_=[],q_())}function U_(e){var t,n,i=JSON.parse(e),o=i.channels.length,r=0,a=p_.slice();T_=parseInt(i._total),o<ld&&(k_=!0);for(var s=0;s<p_.length&&r<o;s++,r++)D_((t=i.channels[r]).name)?(y_--,s--):(h_.push(t.name),SChannels_replaceCellEmpty(p_[s],[t.name,t._id,t.logo,t.display_name],L_),y_--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));__+=r,k_?(y_=0,p_=[]):p_=a,q_()}function G_(){yp(c_,l_,L_,ku,vd,d_),3<c_&&ip(L_[1],c_,Hd,vd,4),d_/vd<c_+gd&&!u_&&!M_&&(M_=!0,R_(),N_())}function J_(){wp(c_+"_"+l_,L_)}function X_(){b_=!0}function W_(e){var t;if(!f_||M_)if(b_)switch(b_=!1,window.setTimeout(X_,w_),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Mu===Bu?su:Bu,A_(),Yb=!1,O_());break;case Hn:if(jh(c_,l_-1,L_[0]))J_(),l_--,G_();else for(t=vd-1;-1<t;t--)if(jh(c_-1,t,L_[0])){J_(),c_--,l_=t,G_();break}break;case Rn:jh(c_,l_+1,L_[0])?(J_(),l_++,G_()):jh(c_+1,0,L_[0])&&(J_(),c_++,l_=0,G_());break;case Nn:for(t=0;t<vd;t++)if(jh(c_-1,l_-t,L_[0])){J_(),c_--,l_-=t,G_();break}break;case jn:for(t=0;t<vd;t++)if(jh(c_+1,l_-t,L_[0])){J_(),c_++,l_-=t,G_();break}break;case On:case Mn:M_||H_();break;case Bn:case Ln:case An:case Pn:M_||(Nu=document.getElementById(L_[4]+c_+"_"+l_).getAttribute(Sd),zu=document.getElementById(L_[4]+c_+"_"+l_).getAttribute("data-id"),ju=document.getElementById(L_[3]+c_+"_"+l_).textContent,Pu=document.getElementById(L_[1]+c_+"_"+l_).src,document.body.removeEventListener("keydown",W_),Au=ku,Mu=gu,Ly=oi=!(Hu=!0),Fh());break;case Fn:Ch();break;case Dn:A_(),Yb=!1,Kh();break;case qn:Ih();break;case zn:Mu=fu,A_(),O_()}else e.preventDefault();else e.preventDefault()}var K_=0,Y_=0,$_=!1,Q_=0,Z_=[],eb=[],tb=!1,nb=0,ib=10,ob=3500,rb=0,ab=!0,sb=25,cb=!1,lb=0,ub=0,db=!1,hb=["sp_thumbdiv","sp_img","sp_infodiv","sp_title","sp_createdon","sp_game","sp_viwers","sp_duration","sp_cell","spempty_","sp_lang"],pb=!1,fb=null,mb=2,vb="week",gb=0,yb="",_b="",bb="",wb="",kb="",Tb="",Eb="",Cb=!1,Sb=!1;function xb(){Mu=_u,Nu!==wb&&(pb=!1),Vh(),Bb(),document.getElementById("top_bar_user").innerHTML=ju,ih("label_switch","icon-calendar",l+Zt),document.body.addEventListener("keydown",Vb,!1),rp(K_),pb?(kp(hb[0],K_,Y_,_u,ed,Qu,!1),_h(Y_,K_,ud,Q_)):Mb()}function Ib(){zh(),document.body.removeEventListener("keydown",Vb)}function Mb(){Th(),Tp("blank_focus"),dh(),wb=Nu,fb=null,pb=!1,Qh("stream_table_search_clip"),cb=Sb=!1,Z_=[],K_=Y_=Q_=lb=rb=0,$_=Cb=!(eb=[]),yh(),Lb(),Ab()}function Lb(){tb=!0,nb=0,ob=3500}function Bb(){1===mb?(document.getElementById("top_bar_game").innerHTML=R+se,vb="day"):2===mb?(document.getElementById("top_bar_game").innerHTML=R+ce,vb="week"):3===mb?(document.getElementById("top_bar_game").innerHTML=R+le,vb="month"):4===mb&&(document.getElementById("top_bar_game").innerHTML=R+ue,vb="all"),localStorage.setItem("sclip_periodNumber",mb)}function Ab(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(Nu)+"&limit="+ld+"&period="+encodeURIComponent(vb)+(null===fb?"":"&cursor="+encodeURIComponent(fb))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ob,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Hb(e.responseText);Ob()}},e.send(null)}catch(e){Ob()}}function Ob(){++nb<ib?(ob+=nb<5?250:3500,Ab()):(Sb=tb=!1,hh(),kh(M))}function Hb(e){var t=JSON.parse(e),n=t.clips.length;fb=t._cursor,n<ld&&($_=!0);var i=Q_;db=!(Q_+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)Rb((c=t.clips[l]).slug)?r--:(Z_.push(c.slug),s.appendChild(Gx(a,a+"_"+r,c.slug+","+c.duration+","+c.game,[c.thumbnails.medium,c.title,j+Gh(c.created_at),f+c.game,Hh(c.views)+F,"["+c.language.toUpperCase()+"]",P+zm(c.duration)],hb)));for(;r<ud;r++)$_&&!Cb&&(Cb=!0,Q_=a*ud+r),s.appendChild(sp(hb[9]+a+"_"+r)),eb.push(hb[9]+a+"_"+r);document.getElementById("stream_table_search_clip").appendChild(s)}Nb()}function Rb(e){for(var t=0;t<Z_.length;t++)if(e===Z_[t])return rb++,!0;return!1}function Nb(){Ip(function(){if(pb){if(0<rb&&!$_)return Sb=!0,Lb(),void jb();rb=0,Sb=tb=!(eb=[])}else hh(),db?kh(L+R):(pb=!0,Db(),np(hb[1],9,Rd,ud)),tb=!1})}function jb(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(Nu)+"&limit="+rb+"&period="+vb+(null===fb?"":"&cursor="+encodeURIComponent(fb))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ob,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Fb(e.responseText)},e.send(null)}catch(e){Pb()}}function Pb(){++nb<ib?(ob+=nb<5?250:3500,jb()):(cb=!0,rb=0,eb=[],Nb())}function Fb(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=eb.slice();fb=i._cursor,o<rb&&(cb=!0);for(var s=0;s<eb.length&&r<o;s++,r++)Rb((t=i.clips[r]).slug)?(rb--,s--):(Z_.push(t.slug),Xx(eb[s],t.slug,[t.thumbnails.medium,t.title,j+Gh(t.created_at),f+t.game,Hh(t.views)+F,"["+t.language.toUpperCase()+"]",P+zm(t.duration)],hb),rb--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));cb?(rb=0,eb=[]):eb=a,Nb()}function Db(){_p(K_,Y_,hb,_u,ud,Q_),3<K_&&ip(hb[1],K_,Rd,ud,4),Q_/ud<K_+dd&&!$_&&!Sb&&(Sb=!0,Lb(),Ab())}function qb(){wp(K_+"_"+Y_,hb)}function zb(){ab=!0}function Vb(e){var t;if(!tb||Sb)if(ab)switch(ab=!1,window.setTimeout(zb,sb),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=gu,Ib(),Fh());break;case Hn:if(jh(K_,Y_-1,hb[0]))qb(),Y_--,Db();else for(t=ud-1;-1<t;t--)if(jh(K_-1,t,hb[0])){qb(),K_--,Y_=t,Db();break}break;case Rn:jh(K_,Y_+1,hb[0])?(qb(),Y_++,Db()):jh(K_+1,0,hb[0])&&(qb(),K_++,Y_=0,Db());break;case Nn:for(t=0;t<ud;t++)if(jh(K_-1,Y_-t,hb[0])){qb(),K_--,Y_-=t,Db();break}break;case jn:for(t=0;t<ud;t++)if(jh(K_+1,Y_-t,hb[0])){qb(),K_++,Y_-=t,Db();break}break;case On:case Mn:Mb();break;case xn:Sb||(4<++mb&&(mb=1),Bb(),Mb());break;case In:Sb||(--mb<1&&(mb=4),Bb(),Mb());break;case Bn:case Ln:case An:case Pn:kb=document.getElementById(hb[8]+K_+"_"+Y_).getAttribute(Sd).split(","),ub=parseInt(kb[1]),qu=kb[2],kb=kb[0],bb=document.getElementById(hb[3]+K_+"_"+Y_).textContent,Tb=document.getElementById(hb[4]+K_+"_"+Y_).textContent,gb=document.getElementById(hb[5]+K_+"_"+Y_).textContent,_b=document.getElementById(hb[6]+K_+"_"+Y_).textContent,Eb=document.getElementById(hb[7]+K_+"_"+Y_).textContent,yb=document.getElementById(hb[10]+K_+"_"+Y_).textContent,Ub();break;case Fn:Ch();break;case Dn:Ib(),Kh();break;case qn:Ih();break;case zn:Yb||(Bu=_u),Mu=fu,Ib(),Fh()}else e.preventDefault();else e.preventDefault()}function Ub(){document.body.addEventListener("keydown",mf,!1),document.body.removeEventListener("keydown",Vb),rh("scene2"),yv(),lv(),nv(),rv(),oh("scene1"),Xp()}var Gb=0,Jb=0,Xb="",Wb=!1,Kb="",Yb=!1;function $b(){Th(),ih("label_refresh","icon-arrow-circle-left",S),document.getElementById("label_search").style.display="none",document.getElementById("label_switch").style.display="none",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",document.getElementById("top_bar_user").innerHTML=t,eu.placeholder=b,sh("top_bar_user","icon_center_focus"),Jb=Gb=0,Kb=document.querySelector("#search_input"),ew(),iw(),nw("search_input")}function Qb(){ow(),document.body.removeEventListener("keydown",tw),ew(),Mu=Bu,document.getElementById("label_search").style.display="block",document.getElementById("label_switch").style.display="block",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",document.getElementById("top_bar_user").innerHTML=d,ch("top_bar_user","icon_center_focus"),ih("label_refresh","icon-refresh",e+Yt),eu.value=""}function Zb(){Qb(),Jb?1===Jb?Ew():2===Jb&&rk():B_()}function ew(){ch("chanel_button","button_search_focused"),ch("game_button","button_search_focused"),ch("live_button","button_search_focused"),Gb&&(Jb?1===Jb?sh("game_button","button_search_focused"):2===Jb&&sh("live_button","button_search_focused"):sh("chanel_button","button_search_focused"))}function tw(e){if(!Wb)switch(e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Qb(),Fh());break;case Hn:1===Gb&&(--Jb<0&&(Jb=2),ew());break;case Rn:1===Gb&&(2<++Jb&&(Jb=0),ew());break;case Nn:1===Gb&&(Gb=0,ew(),iw());break;case jn:Gb?1===Gb&&(Gb=0,ew(),iw()):(ow(),Gb=1,ew());break;case On:case Mn:break;case xn:case In:Qb(),Fh();break;case Bn:case Ln:case An:case Pn:Gb?""!==eu.value&&null!==eu.value?(Xb=eu.value,eu.value="",Zb()):(kh(r),window.setTimeout(function(){Th()},1e3)):iw();break;case Fn:Ch();break;case Dn:Qb(),Kh();break;case qn:Ih()}}function nw(e){window.scroll(0,Ep()+Cp(e)-ed+rd)}function iw(){document.body.removeEventListener("keydown",tw),document.body.addEventListener("keydown",rw,!1),Kb.addEventListener("input"),Kb.addEventListener("compositionend"),eu.placeholder=b,Kb.focus(),Wb=!0}function ow(){Kb.blur(),document.body.removeEventListener("keydown",rw),document.body.addEventListener("keydown",tw,!1),eu.placeholder=T+b,window.setTimeout(function(){Wb=!1},500)}function rw(e){switch(e.keyCode){case Wn:eu.value="",e.preventDefault();break;case Jn:case Gn:ow(),Gb=1,ew();break;case Un:eu.value=eu.value.slice(0,-1),e.preventDefault();break;case Xn:eu.value+=" ",e.preventDefault()}}var aw=!1,sw=0,cw=0,lw=0,uw=!1,dw=0,hw=10,pw=3500,fw=0,mw=!0,vw=25,gw=0,yw=!1,_w=!1,bw="",ww=!1,kw="",Tw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_"];function Ew(){Mu=mu,Yb=!0,Vh(),bw!==Xb&&(aw=!1),document.getElementById("top_bar_user").innerHTML=t+Uh(p+" '"+Xb+"'"),document.body.addEventListener("keydown",Nw,!1),rp(sw),aw?(kp(Tw[0],sw,cw,mu,nd,Zu,!1),_h(cw,sw,pd,lw)):Sw()}function Cw(){Yb||zh(),document.body.removeEventListener("keydown",Nw),ww=!1,qu=kw}function Sw(){bw=Xb,Th(),aw=!1,Tp("blank_focus"),dh(),Qh("stream_table_search_game"),_w=!1,sw=cw=lw=gw=fw=0,yh(),xw(),Iw()}function xw(){uw=!0,dw=0,pw=3500}function Iw(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Xb)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=pw,e.setRequestHeader(bd,_d),e.setRequestHeader(wd,kd),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Lw(e.responseText);Mw()}},e.send(null)}catch(e){Mw()}}function Mw(){++dw<hw?(pw+=dw<5?250:3500,Iw()):(uw=!1,hh(),kh(M))}function Lw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=lw;yw=!(lw+=n);var o=n/pd;0<n%pd&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/pd+u,s=document.createElement("tr"),r=0;r<pd&&l<n;r++,l++)c=t.games[l],s.appendChild(Bw(a,a+"_"+r,[c.name,c.box.template.replace("{width}x{height}",Ed),""]));for(;r<pd;r++)_w||(_w=!0,lw=a*pd+r),s.appendChild(sp(Tw[6]+a+"_"+r));document.getElementById("stream_table_search_game").appendChild(s)}Aw()}function Bw(e,t,n){return e<2&&ap(n[1]),fp(t,Tw,n)}function Aw(){Ip(function(){aw||(hh(),yw?kh(a):(aw=!0,Ow())),np(Tw[1],7,Od,pd),uw=!1})}function Ow(){bp(sw,cw,Tw,mu,pd,Qa),2<sw&&ip(Tw[1],sw,Od,pd,3)}function Hw(){wp(sw+"_"+cw,Tw)}function Rw(){mw=!0}function Nw(e){var t;if(uw)e.preventDefault();else if(mw)switch(mw=!1,window.setTimeout(Rw,vw),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Mu===Bu?su:Bu,Yb=!1,Cw(),Fh());break;case Hn:if(jh(sw,cw-1,Tw[0]))Hw(),cw--,Ow();else for(t=pd-1;-1<t;t--)if(jh(sw-1,t,Tw[0])){Hw(),sw--,cw=t,Ow();break}break;case Rn:jh(sw,cw+1,Tw[0])?(Hw(),cw++,Ow()):jh(sw+1,0,Tw[0])&&(Hw(),sw++,cw=0,Ow());break;case Nn:for(t=0;t<pd;t++)if(jh(sw-1,cw-t,Tw[0])){Hw(),sw--,cw-=t,Ow();break}break;case jn:for(t=0;t<pd;t++)if(jh(sw+1,cw-t,Tw[0])){Hw(),sw++,cw-=t,Ow();break}break;case On:case Mn:Sw();break;case Bn:case Ln:case An:case Pn:kw=qu,Cw(),qu=document.getElementById(Tw[5]+sw+"_"+cw).getAttribute(Sd),document.body.removeEventListener("keydown",Nw),Mu=uu,ww=!0,Fh();break;case Fn:Ch();break;case Dn:Yb=!1,Cw(),Kh();break;case qn:Ih();break;case zn:Mu=fu,Cw(),Fh()}else e.preventDefault()}var jw=0,Pw=0,Fw=!1,Dw=0,qw=[],zw=[],Vw=!1,Uw=0,Gw=10,Jw=3500,Xw=0,Ww=0,Kw=!0,Yw=25,$w=!1,Qw=0,Zw=!1,ek=!1,tk=!1,nk="",ik=!1,ok=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_"];function rk(){Mu=vu,Yb=!0,Vh(),nk!==Xb&&(ek=!1),document.getElementById("top_bar_user").innerHTML=t+Uh(h+" '"+Xb+"'"),document.body.addEventListener("keydown",wk,!1),rp(jw),ek?(kp(ok[0],jw,Pw,vu,ed,Qu,!1),_h(Pw,jw,ud,Dw)):sk()}function ak(){zh(),document.body.removeEventListener("keydown",wk)}function sk(){nk=Xb,Th(),ek=!1,Tp("blank_focus"),dh(),Qh("stream_table_search_live"),$w=ik=!1,qw=[],jw=Pw=Dw=Qw=Ww=Xw=0,Fw=tk=!(zw=[]),yh(),ck(),lk()}function ck(){Vw=!0,Uw=0,Jw=3500}function lk(){try{var e=new XMLHttpRequest,t=Dw+Ww;t&&Qw-1<t&&(t=Qw-ld,$w=Fw=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Xb)+"&limit="+ld+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Jw,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void dk(e.responseText);uk()}},e.send(null)}catch(e){uk()}}function uk(){++Uw<Gw?(Jw+=Uw<5?250:3500,lk()):(ik=Vw=!1,hh(),kh(M))}function dk(e){var t=JSON.parse(e),n=t.streams.length;Qw=parseInt(t._total),n<ld&&(Fw=!0);var i=Dw;Zw=!(Dw+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)pk((c=t.streams[l]).channel.name)?r--:s.appendChild(hk(a,a+"_"+r,c.channel.name,[c.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,g+Um(c.created_at)+y+", "+m+Hh(c.viewers)+q,Rh(c.video_height,c.average_fps,c.channel.language)]));for(;r<ud;r++)Fw&&!tk&&(tk=!0,Dw=a*ud+r),s.appendChild(sp(ok[9]+a+"_"+r)),zw.push(ok[9]+a+"_"+r);document.getElementById("stream_table_search_live").appendChild(s)}fk()}function hk(e,t,n,i){return qw.push(n),e<ud&&ap(i[0]),dp(n,t,ok,i)}function pk(e){for(var t=0;t<qw.length;t++)if(e===qw[t])return Xw++,!0;return!1}function fk(){Ip(function(){if(ek){if(0<Xw&&!Fw)return ik=!0,ck(),void mk();Xw=0,ik=Vw=!(zw=[])}else hh(),Zw?kh(a):(ek=!0,yk(),np(ok[1],9,Rd,ud)),Vw=!1})}function mk(){try{var e=new XMLHttpRequest;wh(Xw);var t=Dw+Ww;t&&Qw-1<t&&(t=Qw-yd,$w=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Xb)+"&limit="+yd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Jw,e.setRequestHeader(bd,"anwtqukxvrtwxb4flazs2lqlabe3hqv"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||gk(e.responseText)},e.send(null)}catch(e){vk()}}function vk(){++Uw<Gw?(Jw+=Uw<5?250:3500,mk()):($w=!0,Xw=0,zw=[],fk())}function gk(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=zw.slice();Qw=parseInt(i._total),o<ld&&($w=!0);for(var s=0;s<zw.length&&r<o;s++,r++)pk((t=i.streams[r]).channel.name)?(Xw--,s--):(qw.push(t.channel.name),hp(El[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+Um(t.created_at)+y+", "+m+Hh(t.viewers)+q,Rh(t.video_height,t.average_fps,t.channel.language)],ok),Xw--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Ww+=r,$w?(Xw=0,zw=[]):zw=a,fk()}function yk(){_p(jw,Pw,ok,vu,ud,Dw),3<jw&&ip(ok[1],jw,Rd,ud,4),Dw/ud<jw+dd&&!Fw&&!ik&&(ik=!0,ck(),lk())}function _k(){wp(jw+"_"+Pw,ok)}function bk(){Kw=!0}function wk(e){var t;if(!Vw||ik)if(Kw)switch(Kw=!1,window.setTimeout(bk,Yw),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Mu===Bu?su:Bu,ak(),Yb=!1,Fh());break;case Hn:if(jh(jw,Pw-1,ok[0]))_k(),Pw--,yk();else for(t=ud-1;-1<t;t--)if(jh(jw-1,t,ok[0])){_k(),jw--,Pw=t,yk();break}break;case Rn:jh(jw,Pw+1,ok[0])?(_k(),Pw++,yk()):jh(jw+1,0,ok[0])&&(_k(),jw++,Pw=0,yk());break;case Nn:for(t=0;t<ud;t++)if(jh(jw-1,Pw-t,ok[0])){_k(),jw--,Pw-=t,yk();break}break;case jn:for(t=0;t<ud;t++)if(jh(jw+1,Pw-t,ok[0])){_k(),jw++,Pw-=t,yk();break}break;case On:case Mn:ik||sk();break;case Bn:case Ln:case An:case Pn:rm=document.getElementById(ok[8]+jw+"_"+Pw).getAttribute(Sd),am=document.getElementById(ok[3]+jw+"_"+Pw).textContent,document.body.removeEventListener("keydown",wk),qh();break;case Fn:Ch();break;case Dn:ak(),Yb=!1,Kh();break;case qn:Ih();break;case zn:Mu=fu,ak(),Fh()}else e.preventDefault();else e.preventDefault()}var kk=0,Tk=10,Ek=3500,Ck=[],Sk=[],xk=[],Ik="",Mk=0,Lk=!1,Bk=!1,Ak="",Ok=0;function Hk(){ro.length?Lk=!1:(window.clearInterval(Uu),document.removeEventListener("visibilitychange",$h),Lk=!0),Ak=ro[0],Rk(),Nk(),Ok=0,Lk?webapis.preview.setPreviewData(Dk()):jk()}function Rk(){Ck=[],Sk=[],xk=[]}function Nk(){kk=0,Tk=10,Ek=1e4}function jk(){try{var e,t=new XMLHttpRequest;Ok?1===Ok?e="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(Ik)+"&limit=21&"+Math.round(1e7*Math.random()):2===Ok?e="https://api.twitch.tv/api/users/"+encodeURIComponent(Ak)+"/follows/games/live?limit=6&"+Math.round(1e7*Math.random()):3===Ok&&(e="https://api.twitch.tv/api/users/"+encodeURIComponent(Ak)+"/followed/hosting?limit=10&"+Math.round(1e7*Math.random())):e="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ak)+"/follows/channels?limit=100&sortby=last_broadcast&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=Ek,t.setRequestHeader(bd,_d),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{Fk(t.responseText)}catch(e){}else Pk()},t.send(null)}catch(e){Pk()}}function Pk(){++kk<Tk?(Ek+=1e3,jk()):Rk()}function Fk(e){var t=JSON.parse(e);if(Ok)1===Ok?Ck=t.streams:2===Ok?Sk=t.follows:3===Ok&&(xk=t.hosts);else{Ik="";for(var n=0;n<t.follows.length;n++)Ik+=t.follows[n].channel.name+",";Ik=Ik.slice(0,-1)}Ok<3?(Ok++,Nk(),jk()):(Mk=(new Date).getTime(),webapis.preview.setPreviewData(qk()),window.setTimeout(Rk,1e3))}function Dk(){return'{"sections":['+zk(!0)}function qk(){var e,t,n,i='{"sections":[';if(t=Ck.length){for(i+='{"title":"'+K+" "+Ak+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+(n=Nh(JSON.stringify(Ck[e].stream_type))+Ck[e].channel.display_name)+'","subtitle":"'+f+Ck[e].game+'","image_ratio":"16by9","image_url":"'+Ck[e].preview.template.replace("{width}x{height}",Td)+'","action_data":"{\\"videoIdx\\": \\"'+Ck[e].channel.name+'\\",\\"videoTitleIdx\\": \\"'+n+'\\"}","is_playable":true}';i+="]},"}if(t=xk.length){for(i+='{"title":"'+Y+" "+Ak+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+(xk[e].display_name+ne+xk[e].target.channel.display_name)+'","subtitle":"'+f+xk[e].target.meta_game+'","image_ratio":"16by9","image_url":"'+xk[e].target.preview_urls.template.replace("{width}x{height}",Td)+'","action_data":"{\\"videoIdx\\": \\"'+xk[e].target.channel.name+'\\",\\"videoTitleIdx\\": \\"'+xk[e].target.channel.display_name+'\\"}","is_playable":true}';i+="]},"}if(t=Sk.length){for(i+='{"title":"'+$+" "+Ak+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+Sk[e].game.name+'","image_ratio":"2by3","image_url":"'+Sk[e].game.box.template.replace("{width}x{height}",Ed)+'","action_data":"{\\"gameIdx\\": \\"'+Sk[e].game.name+'\\"}","is_playable":false}';i+="]},"}return i+zk(!1)}function zk(e){return'{"title":"'+h+'","tiles":[{"title":"'+u+h+'","image_ratio":"16by9","image_url":"'+Wd+'","action_data":"{\\"screenIdx\\": '+su+'}","is_playable":false}]},'+(e?'{"title":"'+Z+'","tiles":[{"title":"'+u+Z+'","subtitle":"'+ae+'","image_ratio":"16by9","image_url":"'+$d+'","action_data":"{\\"screenIdx\\": '+cu+'}","is_playable":false}]},':'{"title":"'+d+'","tiles":[{"title":"'+u+d+'","image_ratio":"16by9","image_url":"'+Yd+'","action_data":"{\\"screenIdx\\": '+bu+'}","is_playable":false}]},')+'{"title":"'+p+'","tiles":[{"title":"'+u+p+'","image_ratio":"16by9","image_url":"'+Kd+'","action_data":"{\\"screenIdx\\": '+lu+'}","is_playable":false}]}]}'}function Vk(){var e;try{e=tizen.application.getCurrentApplication().getRequestedAppControl()}catch(e){}var t,n,i,o,r,a,s,c=!1;if(e){Bk=!0,t=e.appControl.data;for(var l=0;l<t.length;l++)if("PAYLOAD"===t[l].key)if(n=JSON.parse(t[l].value[0]).values,JSON.parse(n).videoIdx){if(i=JSON.parse(n).videoIdx,o=JSON.parse(n).videoTitleIdx,om&&rm===i)return;rm=i,am=o,Uf?Jm():pg?iy():Fp?nf():Dh(Mu),window.setTimeout(qh,10)}else JSON.parse(n).gameIdx?(c=(r=JSON.parse(n).gameIdx)!==qu,s=Mu,qu=r,Mu=uu,Dh(s),Uf?window.setTimeout(Gm,10):pg?window.setTimeout(ny,10):Fp?window.setTimeout(tf,10):c&&Fh()):JSON.parse(n).screenIdx&&(c=(a=JSON.parse(n).screenIdx)!==Mu,s=Mu,Mu=a,Dh(s),Uf?window.setTimeout(Gm,10):pg?window.setTimeout(ny,10):Fp?window.setTimeout(tf,10):c&&Fh())}}var Uk=0,Gk=0,Jk=!1,Xk=0,Wk=[],Kk=[],Yk=!1,$k=0,Qk=10,Zk=3500,eT=0,tT=0,nT=!0,iT=25,oT=!1,rT=0,aT=0,sT=!1,cT=!1,lT="",uT="",dT=["sv_thumbdiv","sv_img","sv_infodiv","sv_title","sv_streamon","sv_duration","sv_viwers","sv_quality","sv_cell","svempty_","sv_game"],hT=!1,pT=!1,fT="",mT="",vT="",gT="",yT="",_T="",bT=!1;function wT(){Mu=yu,Nu!==fT&&(hT=!1),Vh(),ih("label_switch","icon-switch",c+Zt),document.getElementById("top_bar_user").innerHTML=ju,document.body.addEventListener("keydown",NT,!1),rp(Uk),hT?(document.getElementById("top_bar_game").innerHTML=pT?H:O,kp(dT[0],Uk,Gk,yu,ed,Qu,!1),_h(Gk,Uk,ud,Xk)):TT()}function kT(){zh(),document.body.removeEventListener("keydown",NT)}function TT(){document.getElementById("top_bar_game").innerHTML=pT?H:O,Th(),fT=Nu,hT=!1,Tp("blank_focus"),dh(),Qh("stream_table_search_vod"),oT=bT=!1,Wk=[],Uk=Gk=Xk=rT=tT=eT=0,Jk=cT=!(Kk=[]),yh(),ET(),CT()}function ET(){Yk=!0,$k=0,Zk=3500}function CT(){try{var e=new XMLHttpRequest,t=Xk+tT;t&&rT-1<t&&(t=rT-ld,oT=Jk=!0),e.open("GET","https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Nu)+"/videos?limit="+ld+"&broadcast_type="+(pT?"highlight":"archive")+"&sort=time&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Zk,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void xT(e.responseText);ST()}},e.send(null)}catch(e){ST()}}function ST(){++$k<Qk?(Zk+=$k<5?250:3500,CT()):(bT=Yk=!1,hh(),kh(M))}function xT(e){var t=JSON.parse(e),n=t.videos.length;rT=parseInt(t._total),n<ld&&(Jk=!0);var i=Xk;sT=!(Xk+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)c=t.videos[l],-1!==(JSON.stringify(c.preview)+"").indexOf("404_processing_320x240.png")?(eT++,r--):IT(c._id)?r--:(Wk.push(c._id),s.appendChild(Gx(a,a+"_"+r,c._id+","+c.length+","+c.language+","+c.game,[c.preview.replace("320x240",Td),c.title,j+Gh(c.created_at),Qt+f+c.game,Hh(c.views)+F,Rh(c.resolutions.chunked.slice(-4),parseInt(c.fps.chunked)||0,c.language),P+zm(c.length)],dT)));for(;r<ud;r++)Jk&&!cT&&(cT=!0,Xk=a*ud+r),s.appendChild(sp(dT[9]+a+"_"+r)),Kk.push(dT[9]+a+"_"+r);document.getElementById("stream_table_search_vod").appendChild(s)}MT()}function IT(e){for(var t=0;t<Wk.length;t++)if(e===Wk[t])return eT++,!0;return!1}function MT(){Ip(function(){if(hT){if(0<eT&&!Jk)return bT=!0,ET(),void LT();eT=0,bT=Yk=!(Kk=[])}else hh(),sT?kh(L+(pT?H:O)+B+C):(hT=!0,OT(),np(dT[1],9,Rd,ud)),Yk=!1})}function LT(){try{var e=new XMLHttpRequest;wh(eT);var t=Xk+tT;t&&rT-1<t&&(t=rT-yd,oT=!0),e.open("GET","https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Nu)+"/videos?limit="+yd+"&broadcast_type="+(pT?"highlight":"archive")+"&sort=time&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Zk,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||AT(e.responseText)},e.send(null)}catch(e){BT()}}function BT(){++$k<Qk?(Zk+=$k<5?250:3500,LT()):(oT=!0,eT=0,Kk=[],MT())}function AT(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=Kk.slice();rT=parseInt(i._total),o<ld&&(oT=!0);for(var s=0;s<Kk.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:IT(t._id)?(eT--,s--):(Wk.push(t._id),Xx(Kk[s],t._id+","+t.length+","+t.language+","+t.game,[t.preview.replace("320x240",Td),t.title,j+Gh(t.created_at),Qt+f+t.game,Hh(t.views)+F,Rh(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),P+zm(t.length)],dT),eT--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));tT+=r,oT?(eT=0,Kk=[]):Kk=a,MT()}function OT(){_p(Uk,Gk,dT,yu,ud,Xk),3<Uk&&ip(dT[1],Uk,Rd,ud,4),Xk/ud<Uk+dd&&!Jk&&!bT&&(bT=!0,ET(),CT())}function HT(){wp(Uk+"_"+Gk,dT)}function RT(){nT=!0}function NT(e){var t;if(!Yk||bT)if(nT)switch(nT=!1,window.setTimeout(RT,iT),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=gu,kT(),Fh());break;case Hn:if(jh(Uk,Gk-1,dT[0]))HT(),Gk--,OT();else for(t=ud-1;-1<t;t--)if(jh(Uk-1,t,dT[0])){HT(),Uk--,Gk=t,OT();break}break;case Rn:jh(Uk,Gk+1,dT[0])?(HT(),Gk++,OT()):jh(Uk+1,0,dT[0])&&(HT(),Uk++,Gk=0,OT());break;case Nn:for(t=0;t<ud;t++)if(jh(Uk-1,Gk-t,dT[0])){HT(),Uk--,Gk-=t,OT();break}break;case jn:for(t=0;t<ud;t++)if(jh(Uk+1,Gk-t,dT[0])){HT(),Uk++,Gk-=t,OT();break}break;case xn:case In:bT||(pT=!pT,localStorage.setItem("Svod_highlight",pT?"true":"false"),TT());break;case On:case Mn:bT||TT();break;case Bn:case Ln:case An:case Pn:mT=document.getElementById(dT[8]+Uk+"_"+Gk).getAttribute(Sd).split(","),aT=parseInt(mT[1]),lT=mT[2],uT=mT[3],mT=mT[0].substr(1),vT=document.getElementById(dT[3]+Uk+"_"+Gk).textContent,yT=document.getElementById(dT[4]+Uk+"_"+Gk).textContent,_T=document.getElementById(dT[5]+Uk+"_"+Gk).textContent,gT=document.getElementById(dT[10]+Uk+"_"+Gk).textContent+", "+document.getElementById(dT[6]+Uk+"_"+Gk).textContent,jT();break;case Fn:Ch();break;case Dn:kT(),Kh();break;case qn:Ih();break;case zn:Yb||(Bu=yu),Mu=fu,kT(),Fh()}else e.preventDefault();else e.preventDefault()}function jT(){document.body.addEventListener("keydown",fy,!1),document.body.removeEventListener("keydown",NT),rh("scene2"),ry(),yv(),lv(),nv(),rv(),oh("scene1"),Pg()}var PT=0,FT=0,DT=!1,qT=0,zT=!1,VT=0,UT=10,GT=3500,JT=!0,XT=25,WT=[],KT=0,YT=!1,$T=!1,QT="",ZT=!1,eE=!1,tE=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_"];function nE(){Mu=wu,I_=!1,sh("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+Uh(Gu+Q),document.body.addEventListener("keydown",mE,!1),rp(PT),QT!==Gu&&($T=!1),$T?(kp(tE[0],PT,FT,wu,td,Qu,!0),_h(FT,PT,vd,qT)):oE()}function iE(){ch("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",mE),document.getElementById("top_bar_user").innerHTML=d}function oE(){Th(),Tp("blank_focus"),dh(),QT=Gu,$T=!1,Qh("stream_table_user_channels"),PT=FT=qT=KT=0,ZT=DT=eE=!1,yh(),WT=[],rE(),aE()}function rE(){zT=!0,VT=0,GT=3500}function aE(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Gu)+"/follows/channels?limit=100&offset="+KT+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=GT,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void cE(e.responseText);sE()}},e.send(null)}catch(e){sE()}}function sE(){++VT<UT?(GT+=VT<5?250:3500,aE()):($T=eE=zT=!1,hh(),kh(M))}function cE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",o=0;o<n;o++)i=t[o].channel.name+","+t[o].channel._id+","+t[o].channel.logo+","+t[o].channel.display_name,-1===WT.indexOf(i)&&WT.push(i);KT+=n,rE(),aE()}else WT.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),lE()}function lE(){var e=md,t=qT,n=WT.length-t;n<e&&(e=n),e<md&&(DT=!0),YT=!(qT+=e);var i=e/vd;0<e%vd&&i++;for(var o,r,a,s=t,c=0;c<i;c++){for(r=t/vd+c,a=document.createElement("tr"),o=0;o<vd&&s<WT.length;o++,s++)a.appendChild(uE(r,r+"_"+o,WT[s].split(",")));for(;o<vd;o++)DT&&!ZT&&(ZT=!0,qT=r*vd+o),a.appendChild(sp(tE[5]+r+"_"+o));document.getElementById("stream_table_user_channels").appendChild(a)}dE()}function uE(e,t,n){return e<4&&ap(n[2]),cp(t,tE,n)}function dE(){Ip(function(){$T?eE=zT=!1:(hh(),YT?kh(L+Q):($T=!0,hE(),np(tE[1],9,Hd,vd)),zT=!1)})}function hE(){yp(PT,FT,tE,wu,vd,qT),3<PT&&ip(tE[1],PT,Hd,vd,4),qT/vd<PT+gd&&!DT&&!eE&&(eE=!0,rE(),aE())}function pE(){wp(PT+"_"+FT,tE)}function fE(){JT=!0}function mE(e){var t;if(zT&&!eE||!JT)e.preventDefault();else switch(JT=!1,window.setTimeout(fE,XT),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():eE||(Mu=bu,iE(),Fh());break;case Hn:if(jh(PT,FT-1,tE[0]))pE(),FT--,hE();else for(t=vd-1;-1<t;t--)if(jh(PT-1,t,tE[0])){pE(),PT--,FT=t,hE();break}break;case Rn:jh(PT,FT+1,tE[0])?(pE(),FT++,hE()):jh(PT+1,0,tE[0])&&(pE(),PT++,FT=0,hE());break;case Nn:for(t=0;t<vd;t++)if(jh(PT-1,FT-t,tE[0])){pE(),PT--,FT-=t,hE();break}break;case jn:for(t=0;t<vd;t++)if(jh(PT+1,FT-t,tE[0])){pE(),PT++,FT-=t,hE();break}break;case On:case Mn:eE||oE();break;case xn:Mu=du,iE(),Fh();break;case In:Mu=pu,iE(),Fh();break;case Bn:case Ln:case An:case Pn:eE||(Nu=document.getElementById(tE[4]+PT+"_"+FT).getAttribute(Sd),zu=document.getElementById(tE[4]+PT+"_"+FT).getAttribute("data-id"),ju=document.getElementById(tE[3]+PT+"_"+FT).textContent,Pu=document.getElementById(tE[1]+PT+"_"+FT).src,document.body.removeEventListener("keydown",mE),Au=wu,Mu=gu,Ly=oi=Hu=!0,Fh());break;case Fn:Ch();break;case Dn:iE(),Kh();break;case qn:Ih();break;case zn:Bu=wu,Mu=fu,iE(),Fh()}}var vE=0,gE=0,yE=!1,_E=0,bE=[],wE=[],kE=!1,TE=0,EE=10,CE=3500,SE=0,xE=0,IE=!0,ME=25,LE=!1,BE=0,AE=!1,OE=!1,HE=!0,RE=!1,NE="",jE=!1,PE=["ug_thumbdiv","ug_img","ug_infodiv","ug_displayname","ug_viwers","ug_cell","ugempty_"];function FE(){Mu=pu,ih("label_refresh","icon-refresh",Kt+$+"/"+Wt+Yt),sh("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",tC,!1),rp(vE),NE!==Gu&&(RE=!1),RE?(document.getElementById("top_bar_user").innerHTML=d+Uh(Gu+" "+(HE?$:Wt)),kp(PE[0],vE,gE,pu,nd,Zu,!1),_h(gE,vE,pd,_E)):qE()}function DE(){ih("label_refresh","icon-refresh",e+Yt),ch("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d,document.body.removeEventListener("keydown",tC)}function qE(){Th(),Tp("blank_focus"),document.getElementById("top_bar_user").innerHTML=d+Uh(Gu+" "+(HE?$:Wt)),dh(),NE=Gu,RE=!1,Qh("stream_table_user_games"),LE=jE=!1,bE=[],vE=gE=_E=BE=xE=SE=0,yE=OE=!(wE=[]),yh(),zE(),VE()}function zE(){kE=!0,TE=0,CE=3500}function VE(){try{var e=new XMLHttpRequest,t=_E+xE;t&&BE-1<t&&(t=BE-hd,LE=yE=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Gu)+"/follows/games"+(HE?"/live":"")+"?limit="+hd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=CE,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void GE(e.responseText);UE()}},e.send(null)}catch(e){UE()}}function UE(){++TE<EE?(CE+=TE<5?250:3500,VE()):(jE=kE=!1,hh(),kh(M))}function GE(e){var t=JSON.parse(e),n=t.follows.length;BE=parseInt(t._total),n<hd&&(yE=!0);var i=_E;AE=!(_E+=n);var o=n/pd;0<n%pd&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/pd+u,s=document.createElement("tr"),r=0;r<pd&&l<n;r++,l++)c=t.follows[l],HE?XE(c.game.name)?r--:s.appendChild(JE(a,a+"_"+r,[c.game.name,c.game.box.template.replace("{width}x{height}",Ed),Hh(c.channels)+" "+E+m+Hh(c.viewers)+q])):XE(c.name)?r--:s.appendChild(JE(a,a+"_"+r,[c.name,c.box.template.replace("{width}x{height}",Ed),""]));for(;r<pd;r++)yE&&!OE&&(OE=!0,_E=a*pd+r),s.appendChild(sp(PE[6]+a+"_"+r)),wE.push(PE[6]+a+"_"+r);document.getElementById("stream_table_user_games").appendChild(s)}WE()}function JE(e,t,n){return bE.push(n[0]),e<2&&ap(n[1]),fp(t,PE,n)}function XE(e){for(var t=0;t<bE.length;t++)if(e===bE[t])return SE++,!0;return!1}function WE(){Ip(function(){if(RE){if(0<SE&&!yE)return jE=!0,zE(),void KE();SE=0,jE=kE=!(wE=[])}else hh(),AE?kh(L+$):(RE=!0,QE(),np(PE[1],7,Od,pd)),kE=!1})}function KE(){try{var e=new XMLHttpRequest;wh(SE);var t=_E+xE;t&&BE-1<t&&(t=BE-yd,LE=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Gu)+"/follows/games"+(HE?"/live":"")+"?limit="+hd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=CE,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void $E(e.responseText);YE()}},e.send(null)}catch(e){YE()}}function YE(){++TE<EE?(CE+=TE<5?250:3500,KE()):(LE=!0,SE=0,wE=[],WE())}function $E(e){var t,n,i=JSON.parse(e),o=i.follows.length,r=0,a=wE.slice();BE=parseInt(i._total),o<hd&&(LE=!0);for(var s=0;s<wE.length&&r<o;s++,r++)t=i.follows[r],HE?XE(t.game.name)?(SE--,s--):(bE.push(t.game.name),mp(wE[s],[t.game.name,t.game.box.template.replace("{width}x{height}",Ed),Hh(t.channels)+" "+E+m+Hh(t.viewers)+q],PE),SE--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1)):XE(t.name)?(SE--,s--):(bE.push(t.name),mp(wE[s],[t.name,t.box.template.replace("{width}x{height}",Ed),""],PE),SE--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));xE+=r,LE?(SE=0,wE=[]):wE=a,WE()}function QE(){bp(vE,gE,PE,pu,pd,_E),2<vE&&ip(PE[1],vE,Od,pd,3),_E/pd<vE+fd&&!yE&&!jE&&(jE=!0,zE(),VE())}function ZE(){wp(vE+"_"+gE,PE)}function eC(){IE=!0}function tC(e){var t;if(!kE||jE)if(IE)switch(IE=!1,window.setTimeout(eC,ME),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=bu,DE(),Fh());break;case Hn:if(jh(vE,gE-1,PE[0]))ZE(),gE--,QE();else for(t=pd-1;-1<t;t--)if(jh(vE-1,t,PE[0])){ZE(),vE--,gE=t,QE();break}break;case Rn:jh(vE,gE+1,PE[0])?(ZE(),gE++,QE()):jh(vE+1,0,PE[0])&&(ZE(),vE++,gE=0,QE());break;case Nn:for(t=0;t<pd;t++)if(jh(vE-1,gE-t,PE[0])){ZE(),vE--,gE-=t,QE();break}break;case jn:for(t=0;t<pd;t++)if(jh(vE+1,gE-t,PE[0])){ZE(),vE++,gE-=t,QE();break}break;case On:case Mn:jE||(HE=!HE,qE(),localStorage.setItem("user_Games_live",HE?"true":"false"),$S());break;case xn:jE||(Mu=wu,DE(),Fh());break;case In:Mu=hu,DE(),Fh();break;case Bn:case Ln:case An:case Pn:qu=document.getElementById(PE[5]+vE+"_"+gE).getAttribute(Sd),Ou=pu,Mu=uu,Ko=Ru=!0,DE(),Fh();break;case Fn:Ch();break;case Dn:DE(),Kh();break;case qn:Ih();break;case zn:Bu=pu,Mu=fu,Ko=!1,DE(),Fh()}else e.preventDefault();else e.preventDefault()}var nC=0,iC=0,oC=!1,rC=0,aC=[],sC=[],cC=!1,lC=0,uC=10,dC=3500,hC=0,pC=0,fC=!0,mC=25,vC=!1,gC=0,yC=!1,_C=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_"],bC=!1,wC="",kC=!1,TC=!1;function EC(){Mu=hu,sh("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+Uh(Gu+Y),document.body.addEventListener("keydown",DC,!1),rp(nC),wC!==Gu&&(bC=!1),bC?(kp(_C[0],nC,iC,hu,ed,Qu,!1),_h(iC,nC,ud,rC)):SC()}function CC(){ch("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",DC),document.getElementById("top_bar_user").innerHTML=d}function SC(){Th(),Tp("blank_focus"),dh(),wC=Gu,bC=!1,Qh("stream_table_user_host"),vC=TC=!1,aC=[],nC=iC=rC=gC=pC=hC=0,oC=kC=!(sC=[]),yh(),xC(),IC()}function xC(){cC=!0,lC=0,dC=3500}function IC(){try{var e=new XMLHttpRequest,t=rC+pC;t&&gC-1<t&&(t=gC-ld,vC=oC=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Gu)+"/followed/hosting?limit="+ld+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=dC,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void LC(e.responseText);MC()}},e.send(null)}catch(e){MC()}}function MC(){++lC<uC?(dC+=lC<5?250:3500,IC()):(TC=cC=!1,hh(),kh(M))}function LC(e){var t=JSON.parse(e),n=t.hosts.length;gC=parseInt(t._total),n<ld&&(oC=!0);var i=rC;yC=!(rC+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)AC((c=t.hosts[l]).display_name+ne+c.target.channel.display_name)?r--:s.appendChild(BC(a,a+"_"+r,c.display_name+ne+c.target.channel.display_name,[c.target.preview_urls.template.replace("{width}x{height}",Td),c.display_name+ne+c.target.channel.display_name,c.target.title,c.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Hh(c.target.viewers)+q,""]));for(;r<ud;r++)oC&&!kC&&(kC=!0,rC=a*ud+r),s.appendChild(sp(_C[9]+a+"_"+r)),sC.push(_C[9]+a+"_"+r);document.getElementById("stream_table_user_host").appendChild(s)}OC()}function BC(e,t,n,i){return aC.push(n),e<ud&&ap(i[0]),dp(n,t,_C,i)}function AC(e){for(var t=0;t<aC.length;t++)if(e===aC[t])return hC++,!0;return!1}function OC(){Ip(function(){if(bC){if(0<hC&&!oC)return TC=!0,xC(),void HC();hC=0,TC=cC=!(sC=[])}else hh(),yC?kh(L+Y):(bC=!0,jC(),np(_C[1],9,Rd,ud)),cC=!1})}function HC(){try{var e=new XMLHttpRequest;wh(hC);var t=rC+pC;t&&gC-1<t&&(t=gC-yd,vC=!0),e.open("GET","https://api.twitch.tv/kraken/hosts?game="+encodeURIComponent(qu)+"&limit="+yd+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=dC,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void NC(e.responseText);RC()}},e.send(null)}catch(e){RC()}}function RC(){++lC<uC?(dC+=lC<5?250:3500,HC()):(vC=!0,hC=0,sC=[],OC())}function NC(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=sC.slice();gC=parseInt(i._total),o<ld&&(vC=!0);for(var s=0;s<sC.length&&r<o;s++,r++)AC((t=i.hosts[r]).display_name+ne+t.target.channel.display_name)?(hC--,s--):(aC.push(t.display_name+ne+t.target.channel.display_name),hp(sC[s],t.target.channel.name,[t.target.preview_urls.template.replace("{width}x{height}",Td),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Hh(t.target.viewers)+q,""],_C),hC--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));pC+=r,vC?(hC=0,sC=[]):sC=a,OC()}function jC(){_p(nC,iC,_C,hu,ud,rC),3<nC&&ip(_C[1],nC,Rd,ud,4),rC/ud<nC+dd&&!oC&&!TC&&(TC=!0,xC(),IC())}function PC(){wp(nC+"_"+iC,_C)}function FC(){fC=!0}function DC(e){var t;if(!cC||TC)if(fC)switch(fC=!1,window.setTimeout(FC,mC),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=bu,CC(),Fh());break;case Hn:if(jh(nC,iC-1,_C[0]))PC(),iC--,jC();else for(t=ud-1;-1<t;t--)if(jh(nC-1,t,_C[0])){PC(),nC--,iC=t,jC();break}break;case Rn:jh(nC,iC+1,_C[0])?(PC(),iC++,jC()):jh(nC+1,0,_C[0])&&(PC(),nC++,iC=0,jC());break;case Nn:for(t=0;t<ud;t++)if(jh(nC-1,iC-t,_C[0])){PC(),nC--,iC-=t,jC();break}break;case jn:for(t=0;t<ud;t++)if(jh(nC+1,iC-t,_C[0])){PC(),nC++,iC-=t,jC();break}break;case On:case Mn:TC||SC();break;case xn:TC||(Mu=pu,CC(),Fh());break;case In:Mu=du,CC(),Fh();break;case Bn:case Ln:case An:case Pn:rm=document.getElementById(_C[8]+nC+"_"+iC).getAttribute(Sd),am=document.getElementById(_C[3]+nC+"_"+iC).textContent.split(ne)[1],document.body.removeEventListener("keydown",DC),qh();break;case Fn:Ch();break;case Dn:CC(),Kh();break;case qn:Ih();break;case zn:Bu=hu,Mu=fu,CC(),Fh()}else e.preventDefault();else e.preventDefault()}var qC=0,zC=0,VC=!1,UC=0,GC=[],JC=0,XC=[],WC=!1,KC=0,YC=10,$C=3500,QC=0,ZC=0,eS=!0,tS=25,nS=!1,iS=0,oS=0,rS=!1,aS=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_"],sS=!1,cS="",lS="",uS=!1,dS=!1;function hS(){Mu=du,sh("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+Uh(Gu+K),document.body.addEventListener("keydown",BS,!1),lS!==Gu&&(sS=!1),sS?(kp(aS[0],qC,zC,du,ed,Qu,!1),_h(zC,qC,ud,UC)):fS()}function pS(){ch("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",BS),document.getElementById("top_bar_user").innerHTML=d}function fS(){Th(),Tp("blank_focus"),dh(),sS=!1,lS=Gu,Qh("stream_table_user_live"),nS=dS=!1,GC=[],qC=zC=UC=JC=iS=ZC=QC=oS=0,VC=uS=!(XC=[]),cS="",yh(),mS(),vS()}function mS(){WC=!0,KC=0,$C=3500}function vS(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Gu)+"/follows/channels?limit=100&offset="+oS+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=$C,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void yS(e.responseText);gS()}},e.send(null)}catch(e){gS()}}function gS(){++KC<YC?($C+=KC<5?250:3500,vS()):(dS=WC=!1,hh(),kh(M))}function yS(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",o=0;o<n;o++)i=t[o].channel.name+",",-1===cS.indexOf(i)&&(cS+=i);oS+=n,mS(),vS()}else cS=cS.slice(0,-1),mS(),_S()}function _S(){try{var e=new XMLHttpRequest,t=UC+ZC;t&&iS-1<t&&(t=iS-ld,nS=VC=!0),e.open("GET","https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(cS)+"&limit="+ld+"&offset="+t+"&stream_type=all&"+Math.round(1e7*Math.random()),!0),e.timeout=$C,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void wS(e.responseText);bS()}},e.send(null)}catch(e){bS()}}function bS(){++KC<YC?($C+=KC<5?250:3500,_S()):(dS=WC=!1,hh(),kh(M))}function wS(e){var t=JSON.parse(e),n=t.streams.length;iS=parseInt(t._total),n<ld&&(VC=!0);var i=UC;rS=!(UC+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)TS((c=t.streams[l]).channel.name)?r--:s.appendChild(kS(a,a+"_"+r,c.channel.name,[c.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,g+Um(c.created_at)+y+", "+m+Hh(c.viewers)+q,Rh(c.video_height,c.average_fps,c.channel.language)]));for(;r<ud;r++)VC&&!uS&&(uS=!0,UC=a*ud+r),s.appendChild(sp(aS[9]+a+"_"+r)),XC.push(aS[9]+a+"_"+r);document.getElementById("stream_table_user_live").appendChild(s)}ES()}function kS(e,t,n,i){return GC.push(n),e<ud&&ap(i[0]),dp(n,t,aS,i)}function TS(e){for(var t=0;t<GC.length;t++)if(e===GC[t])return QC++,!0;return!1}function ES(){Ip(function(){if(sS){if(0<QC&&!VC)return dS=!0,mS(),void CS();QC=0,dS=WC=!(XC=[])}else hh(),rS?kh(L+K):(sS=!0,IS(),np(aS[1],9,Rd,ud)),WC=!1})}function CS(){try{var e=new XMLHttpRequest;wh(QC);var t=UC+ZC;t&&iS-1<t&&(t=iS-yd,nS=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qu)+"&limit="+yd+"&offset="+t,!0),e.timeout=$C,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||xS(e.responseText)},e.send(null)}catch(e){SS()}}function SS(){++KC<YC?($C+=KC<5?250:3500,CS()):(nS=!0,QC=0,XC=[],ES())}function xS(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=XC.slice();iS=parseInt(i._total),o<ld&&(nS=!0);for(var s=0;s<XC.length&&r<o;s++,r++)TS((t=i.streams[r]).channel.name)?(QC--,s--):(GC.push(t.channel.name),hp(XC[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Td),Nh(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+Um(t.created_at)+y+", "+m+Hh(t.viewers)+q,Rh(t.video_height,t.average_fps,t.channel.language)],aS),QC--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));ZC+=r,nS?(QC=0,XC=[]):XC=a,ES()}function IS(){_p(qC,zC,aS,du,ud,UC),3<qC&&ip(aS[1],qC,Rd,ud,4),UC/ud<qC+dd&&!VC&&!dS&&(dS=!0,mS(),vS())}function MS(){wp(qC+"_"+zC,aS)}function LS(){eS=!0}function BS(e){var t;if(!WC||dS)if(eS)switch(eS=!1,window.setTimeout(LS,tS),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=bu,pS(),Fh());break;case Hn:if(jh(qC,zC-1,aS[0]))MS(),zC--,IS();else for(t=ud-1;-1<t;t--)if(jh(qC-1,t,aS[0])){MS(),qC--,zC=t,IS();break}break;case Rn:jh(qC,zC+1,aS[0])?(MS(),zC++,IS()):jh(qC+1,0,aS[0])&&(MS(),qC++,zC=0,IS());break;case Nn:for(t=0;t<ud;t++)if(jh(qC-1,zC-t,aS[0])){MS(),qC--,zC-=t,IS();break}break;case jn:for(t=0;t<ud;t++)if(jh(qC+1,zC-t,aS[0])){MS(),qC++,zC-=t,IS();break}break;case On:case Mn:dS||fS();break;case xn:dS||(Mu=hu,pS(),Fh());break;case In:dS||(Mu=wu,pS(),Fh());break;case Bn:case Ln:case An:case Pn:rm=document.getElementById(aS[8]+qC+"_"+zC).getAttribute(Sd),am=document.getElementById(aS[3]+qC+"_"+zC).textContent,document.body.removeEventListener("keydown",BS),qh();break;case Fn:Ch();break;case Dn:pS(),Kh();break;case qn:Ih();break;case zn:Bu=du,Mu=fu,pS(),Fh()}else e.preventDefault();else e.preventDefault()}var AS=0,OS=0,HS=!0,RS=25,NS=7,jS=0,PS=null,FS=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell"],DS=!1,qS=!0,zS=[],VS=[],US=0;function GS(){Mu=bu,Th(),sh("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",px,!1),DS?kp(FS[0],AS,OS,bu,td,160,!0):XS()}function JS(){bi(0),ch("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",px)}function XS(){Th(),DS=!1,Tp("blank_focus"),dh(),Qh("stream_table_user"),zS=[],VS=[],qS=!(AS=OS=US=0),WS()}function WS(){for(var e,t,n=document.createElement("tbody"),i=0;i<ro.length;i++)t=0,Gu=ro[i],(Ku=document.createElement("tr")).className="follower_header",Ku.innerHTML='<div class="follower_header">'+Gu+N+(i?"":re)+"</div>",document.getElementById("stream_table_user").appendChild(n),document.getElementById("stream_table_user").appendChild(Ku),(e=document.createElement("tr")).appendChild(KS(i+"_"+t,ju,K,jd)),t++,e.appendChild(KS(i+"_"+t,ju,Y,Pd)),t++,e.appendChild(KS(i+"_"+t,ju,HE?$:Wt,Nd)),t++,e.appendChild(KS(i+"_"+t,ju,Q,qd)),t++,i?e.appendChild(KS(i+"_"+t,ju,oe,Ud)):e.appendChild(KS(i+"_"+t,ju,Z,Vd)),t++,e.appendChild(KS(i+"_"+t,ju,ee,zd)),t++,e.appendChild(KS(i+"_"+t,ju,-1<ki(Gu)?Et:Tt,Gd)),document.getElementById("stream_table_user").appendChild(e);YS()}function KS(e,t,n,i){return zS[US]=i,VS[US]=FS[1]+e,US++,ap(i),(Ku=document.createElement("td")).setAttribute("id",FS[4]+e),Ku.setAttribute(Sd,t),Ku.className="stream_cell",Ku.innerHTML='<div id="'+FS[0]+e+'" class="stream_thumbnail_channel" ><img id="'+FS[1]+e+'" class="stream_img"></div><div id="'+FS[2]+e+'" class="stream_text"><div id="'+FS[3]+e+'" class="stream_info_user">'+n+"</div></div>",Ku}function YS(){Ip(function(){DS||(hh(),DS=!0,0<Qn.length&&QS(),tx()),tp(zS,VS,Rd),qS=!1})}function $S(){for(var e=0;e<ro.length;e++)document.getElementById(FS[3]+e+"_2").innerHTML=HE?$:Wt}function QS(){for(var e=0;e<ro.length;e++)ZS(e)}function ZS(e){Kn=0,$n=1e4,Gi(e)}function ex(e,t){if(document.getElementById(FS[3]+t+"_6").innerHTML=e?Et:Tt,!e){var n=ki(ro[t]);-1<n&&yi(n)}}function tx(){sh(FS[0]+AS+"_"+OS,"stream_thumbnail_focused"),kp(FS[0],AS,OS,bu,td,160,!0)}function nx(){ch(FS[0]+AS+"_"+OS,"stream_thumbnail_focused")}function ix(){HS=!0}function ox(){5!==OS&&document.body.removeEventListener("keydown",px),Gu=ro[AS],bi(AS),OS?1===OS?EC():2===OS?FE():3===OS?nE():4===OS?AS?Eo(AS):(Lu=bu,uo()):5===OS?lx():6===OS&&li():hS()}function rx(e){for(var t=JSON.parse(e),n=t.token.authorization.scopes,i="",o=0;o<n.length;o++)i+=n[o];return-1!==i.indexOf("user_follows_edit")&&-1!==i.indexOf("user_subscriptions")&&t.token.user_name+""===Gu&&t.token.valid+""=="true"}function ax(e){if(document.getElementById(FS[3]+AS+"_"+OS).innerHTML=e?Et:Tt,!e){var t=ki(ro[AS]);-1<t&&yi(t)}}function sx(){window.clearTimeout(PS)}function cx(){PS=window.setTimeout(ux,6e3)}function lx(){cx(),document.getElementById("main_dialog_remove").innerHTML=Jt+ln+Gu+"?",rh("main_remove_dialog")}function ux(){sx(),oh("main_remove_dialog"),jS=0,hx()}function dx(){return ah("main_remove_dialog")}function hx(){jS?(ch("remove_cancel","button_search_focused"),sh("remove_yes","button_search_focused")):(sh("remove_cancel","button_search_focused"),ch("remove_yes","button_search_focused"))}function px(e){var t;if(qS)e.preventDefault();else if(HS)switch(HS=!1,window.setTimeout(ix,RS),e.keyCode){case Vn:dx()?ux():xh()?Sh():Lh()?Mh():(Mu=Lu===bu?su:Lu,JS(),Fh());break;case Hn:if(dx())--jS<0&&(jS=1),hx(),sx(),cx();else if(jh(AS,OS-1,FS[0]))nx(),OS--,tx();else if(jh(AS-1,0,FS[0])){for(t=NS-1;-1<t;t--)if(jh(AS-1,t,FS[0])){nx(),AS--,OS=t,tx();break}}else nx(),OS=NS-1,tx();break;case Rn:dx()?(1<++jS&&(jS=0),hx(),sx(),cx()):(jh(AS,OS+1,FS[0])?(nx(),OS++):(jh(AS+1,0,FS[0])?(nx(),AS++):nx(),OS=0),tx());break;case Nn:for(t=0;t<NS;t++)if(jh(AS-1,OS-t,FS[0])){nx(),AS--,OS-=t,tx();break}break;case jn:for(t=0;t<NS;t++)if(jh(AS+1,OS-t,FS[0])){nx(),AS++,OS-=t,tx();break}break;case On:case Mn:XS();break;case xn:Lu=bu,Mu=Iu,JS(),Fh();break;case In:Lu=bu,Mu=su,JS(),Fh();break;case Bn:case Ln:case An:case Pn:if(dx()){var n=jS;ux(),n&&(document.body.removeEventListener("keydown",px),ko(AS))}else ox();break;case Fn:Ch();break;case Dn:JS(),Kh();break;case qn:Ih();break;case zn:Bu=bu,Mu=fu,JS(),Fh()}else e.preventDefault()}var fx=0,mx=0,vx=!1,gx=0,yx=[],_x=[],bx=!1,wx=0,kx=10,Tx=3500,Ex=0,Cx=0,Sx=!0,xx=25,Ix=!1,Mx=0,Lx=!1,Bx=!1,Ax="week",Ox=2,Hx=(qc=!1,["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","svempty_","v_game"]),Rx=!1,Nx=!1,jx=!1;function Px(){Mu=Eu,sh("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",iI,!1),ih("label_refresh","icon-refresh",c+Yt),ih("label_controls","icon-calendar",l+" (C)"),rp(fx),Rx?(kp(Hx[0],fx,mx,Eu,ed,Qu,!1),_h(mx,fx,ud,gx),rI()):Dx()}function Fx(){zh(),document.body.removeEventListener("keydown",iI),ch("top_bar_vod","icon_center_focus"),document.getElementById("top_bar_vod").innerHTML=en,ih("label_refresh","icon-refresh",e+Yt),ih("label_controls","icon-question-circle",fn)}function Dx(){rI(),Th(),Rx=!1,Tp("blank_focus"),dh(),Qh("stream_table_vod"),Ix=jx=!1,yx=[],fx=mx=gx=Mx=Cx=Ex=0,vx=Bx=!(_x=[]),yh(),qx(),zx()}function qx(){bx=!0,wx=0,Tx=3500}function zx(){try{var e=new XMLHttpRequest,t=gx+Cx;t&&Mx-1<t&&(t=Mx-ld,Ix=vx=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?limit="+ld+"&broadcast_type="+(Nx?"highlight":"archive")+"&sort=views&offset="+t+"&period="+Ax+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Tx,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Ux(e.responseText);Vx()}},e.send(null)}catch(e){Vx()}}function Vx(){++wx<kx?(Tx+=wx<5?250:3500,zx()):(jx=bx=!1,hh(),kh(M))}function Ux(e){var t=JSON.parse(e),n=t.videos.length;Mx=parseInt(t._total),n<ld&&(vx=!0);var i=gx;Lx=!(gx+=n);var o=n/ud;0<n%ud&&o++;for(var r,a,s,c,l=0,u=0;u<o;u++){for(a=i/ud+u,s=document.createElement("tr"),r=0;r<ud&&l<n;r++,l++)c=t.videos[l],-1!==(JSON.stringify(c.preview)+"").indexOf("404_processing_320x240.png")?(Ex++,r--):Kx(c._id)?r--:(yx.push(c._id),s.appendChild(Gx(a,a+"_"+r,c._id+","+c.length+","+c.language+","+c.game+","+c.channel.name,[c.preview.replace("320x240",Td),c.channel.display_name,j+Gh(c.created_at),c.title+ln+Qt+f+c.game,Hh(c.views)+F,Rh(c.resolutions.chunked.slice(-4),parseInt(c.fps.chunked)||0,c.language),P+zm(c.length)],Hx)));for(;r<ud;r++)vx&&!Bx&&(Bx=!0,gx=a*ud+r),s.appendChild(sp(Hx[9]+a+"_"+r)),_x.push(Hx[9]+a+"_"+r);document.getElementById("stream_table_vod").appendChild(s)}Yx()}function Gx(e,t,n,i,o){return e<ud&&ap(i[0]),Jx(n,t,i,o)}function Jx(e,t,n,i){return(Ku=document.createElement("td")).setAttribute("id",i[8]+t),Ku.setAttribute(Sd,e),Ku.className="stream_cell",Ku.innerHTML=Wx(t,n,i),Ku}function Xx(e,t,n,i){splitedId=e.split(i[9])[1],(e=document.getElementById(e)).setAttribute(Sd,t),e.innerHTML=Wx(splitedId,n,i),e.setAttribute("id",i[8]+splitedId)}function Wx(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_video" ><img id="'+n[1]+e+'" class="stream_img" data-src="'+t[0]+'"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 155%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[10]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function Kx(e){for(var t=0;t<yx.length;t++)if(e===yx[t])return Ex++,!0;return!1}function Yx(){Ip(function(){if(Rx){if(0<Ex&&!vx)return jx=!0,qx(),void $x();Ex=0,jx=bx=!(_x=[])}else hh(),Lx?kh(L+(Nx?H:O)+B+C):(Rx=!0,eI(),np(Hx[1],9,Rd,ud)),bx=!1})}function $x(){try{var e=new XMLHttpRequest;wh(Ex);var t=gx+Cx;t&&Mx-1<t&&(t=Mx-yd,Ix=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?limit="+yd+"&broadcast_type="+(Nx?"highlight":"archive")+"&sort=views&offset="+t+"&period="+Ax+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Tx,e.setRequestHeader(bd,_d),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Zx(e.responseText)},e.send(null)}catch(e){Qx()}}function Qx(){++wx<kx?(Tx+=wx<5?250:3500,$x()):(Ix=!0,Ex=0,_x=[],Yx())}function Zx(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=_x.slice();Mx=parseInt(i._total),o<ld&&(Ix=!0);for(var s=0;s<_x.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:Kx(t._id)?(Ex--,s--):(yx.push(t._id),Xx(_x[s],t._id+","+t.length+","+t.language+","+t.game+","+t.channel.name,[t.preview.replace("320x240",Td),t.channel.display_name,j+Gh(t.created_at),t.title+ln+Qt+f+t.game,Hh(t.views)+F,Rh(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),P+zm(t.length)],Hx),Ex--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Cx+=r,Ix?(Ex=0,_x=[]):_x=a,Yx()}function eI(){_p(fx,mx,Hx,Eu,ud,gx),3<fx&&ip(Hx[1],fx,Rd,ud,4),gx/ud<fx+dd&&!vx&&!jx&&(jx=!0,qx(),zx())}function tI(){wp(fx+"_"+mx,Hx)}function nI(){Sx=!0}function iI(e){var t;if(!bx||jx)if(Sx)switch(Sx=!1,window.setTimeout(nI,xx),e.keyCode){case Vn:xh()?Sh():Lh()?Mh():(Mu=Lu===Eu?su:Lu,Fx(),Fh());break;case Hn:if(jh(fx,mx-1,Hx[0]))tI(),mx--,eI();else for(t=ud-1;-1<t;t--)if(jh(fx-1,t,Hx[0])){tI(),fx--,mx=t,eI();break}break;case Rn:jh(fx,mx+1,Hx[0])?(tI(),mx++,eI()):jh(fx+1,0,Hx[0])&&(tI(),fx++,mx=0,eI());break;case Nn:for(t=0;t<ud;t++)if(jh(fx-1,mx-t,Hx[0])){tI(),fx--,mx-=t,eI();break}break;case jn:for(t=0;t<ud;t++)if(jh(fx+1,mx-t,Hx[0])){tI(),fx++,mx-=t,eI();break}break;case xn:Lu=Eu,Mu=Cu,Fx(),Fh();break;case In:Lu=Eu,Mu=lu,Fx(),Fh();break;case On:case Mn:jx||(Nx=!Nx,localStorage.setItem("Vod_highlight",Nx?"true":"false"),Dx());break;case Bn:case Ln:case An:case Pn:mT=document.getElementById(Hx[8]+fx+"_"+mx).getAttribute(Sd).split(","),aT=parseInt(mT[1]),lT=mT[2],uT=mT[3],Nu=mT[4],mT=mT[0].substr(1),vT="",ju=document.getElementById(Hx[3]+fx+"_"+mx).textContent,yT=document.getElementById(Hx[4]+fx+"_"+mx).textContent,_T=document.getElementById(Hx[5]+fx+"_"+mx).textContent,gT=document.getElementById(Hx[10]+fx+"_"+mx).innerHTML+", "+document.getElementById(Hx[6]+fx+"_"+mx).textContent,oI();break;case Fn:Ch();break;case Dn:Fx(),Kh();break;case qn:jx||(4<++Ox&&(Ox=1),Dx());break;case zn:Yb||(Bu=Eu),Mu=fu,Fx(),Fh()}else e.preventDefault();else e.preventDefault()}function oI(){document.body.addEventListener("keydown",fy,!1),document.body.removeEventListener("keydown",iI),rh("scene2"),ry(),yv(),lv(),nv(),rv(),qc=!0,oh("scene1"),Pg()}function rI(){1===Ox?(document.getElementById("top_bar_vod").innerHTML=en+Uh((Nx?H:O)+se),Ax="day"):2===Ox?(document.getElementById("top_bar_vod").innerHTML=en+Uh((Nx?H:O)+ce),Ax="week"):3===Ox?(document.getElementById("top_bar_vod").innerHTML=en+Uh((Nx?H:O)+le),Ax="month"):4===Ox&&(document.getElementById("top_bar_vod").innerHTML=en+Uh((Nx?H:O)+ue),Ax="all"),localStorage.setItem("vod_periodNumber",Ox)}