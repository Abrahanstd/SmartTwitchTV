var n='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="twitchicon"><img style="float:right;width:100%;" src="https://bhb27.github.io/smarttv-twitch/release/githubio/images/twitchlogo.png" alt="twitchlogo"><div style="text-align:center;"><div id="label_about" class="icon_top_label" style="text-align:center;"></div></div></div><div id="controls_div" class="controls_div"><div id="label_controls" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_search" class="icon_top_label"></div><div id="label_switch" class="icon_top_label"></div></div><div style="position:fixed;text-align:center;width:72%;margin-left:14%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="id_agame_name" class="icon_top_label" style="text-align:center;line-height:0;"></div></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll scrolltransition"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:727%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="info_dialogs hide" style="width:90%;margin-top:5.5%;margin-left:5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="info_dialogs hide" style="width:70%;margin-top:6%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="info_dialogs hide" style="width:70%;margin-top:6%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="blank_focus" class="screen_size"></div><div class="screen_size"></div><div id="oauth" class="imput_text_box"><div id="oauth_text" class="strokedextramini" style="font-size:190%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div><div class="screen_size"></div><div id="search" class="imput_text_box"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div><div class="screen_size"></div><div id="add_user" class="imput_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div><div class="screen_size"></div><table id="stream_table_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_host" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_games" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_channels" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_games" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_a_game" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_game" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_channel" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_channel_a" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_vod" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_clip" class="streams_tables"></table><div class="screen_size"></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"></div><div id="scene_channel_panel" class="screen_size hide" style="position:fixed;z-index:2;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.040));"><div class="playsideinfo" style="float:right;padding-right:0.5%;padding-top:1.5%;"><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div><div id="stream_clock"></div><div id="stream_controls"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info"><div class="playmaininfo" style="vertical-align:top;padding-left:1%;padding-top:1.5%;display:inline-block;width:71%;"><div id="stream_info_name" style="font-size:130%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));"></div><div id="scene2_quality" class="playbotton" style="z-order:2;right:2%;width:27%;"><div style="float:right;width:100%;text-align:left;vertical-align:middle;height:auto;display:inline-block;"><div id="quality_video" style="padding-left:2%;vertical-align:middle;display:inline-block"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="height:auto;display:inline-block;">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:185%;"></div></div></div><div id="scene2_heart" class="playbotton" style="z-order:3;left:55.5%;width:13%;"><div id="fallow_heart" style="vertical-align:middle;display:inline-block"><i class="icon-heart-o strokicon"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_speed" class="playbotton hide" style="z-order:4;left:37%;width:18%;"><div style="float:right;width:100%;text-align:left;vertical-align:middle;height:auto;display:inline-block;"><div id="spped_icon" style="padding-left:12%;vertical-align:middle;display:inline-block"><i class="icon-speedometer strokicon" style="font-size:225%;"></i></div><div id="speed_arrows" style="height:auto;display:inline-block;">&nbsp;<div style="display:inline-block;"><div id="speed_arrow_up" class="up"></div><div id="speed_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="speed_name" class="strokedextramini playmulti" style="font-size:205%;"></div></div></div><div id="scene2_game" class="playbotton hide" style="z-order:5;left:36%;width:18%;"><div id="game_icon" style="vertical-align:middle;display:inline-block"><i class="icon-gamepad strokicon" style="font-size:238%;"></i></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_channel" class="playbotton" style="z-order:5;left:15%;width:19%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_search" class="playbotton" style="z-order:6;left:2%;width:12%;"><div id="fallow_heart" style="vertical-align:middle;display:inline-block"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;top:4%;width:100%;height:50%;z-index:2;"><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:1%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:27%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:850%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:17%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:329%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:20%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:350%;"></div></div><div id="dialog_buffer_play" class="dialogs hide" style="z-index:98;margin-top:24%;"><div id="dialog_buffer_play_text" class="strokedbig" style="font-size:300%;"></div></div></div><video id="video_live" class="video-js" width="1920" height="1080" preload="metadata" poster="https://bhb27.github.io/smarttv-twitch/release/githubio/images/video_poster.png" style="background:black"></video></div>',e="Refresh",t="Search",i="Controls",o="About",r="The text you entered is empty.",a="The search result is empty.",s="Switch (CH Up/Down)",l="Switch Past Broadcast and Highlight",c="Switch Period (24h, 7d, 30d, all) (CH Up/Down)",u="Go to ",d="User ",h="Live",p="Games",f="Playing ",m=" for ",v="Watching time ",g="Since ",y=" ago",_="A Game",b="Write yours search...",w="Write yours authentication key...",T="Write user name...",k="Press Enter to ",E="Channels",C="Channel",x="Back to previously screen (Return)",S="The broadcast you were watching has ended",I="This video is only available to subscribers.",L="Connection failed, unable to load content hit refresh to try again",B="No",M=" for this ",A="Connection failed, unable to load video content exiting...",O=" Past Broadcast",j=" Highlight",F=" Clips",N=" Content",P="Streamed on ",R="Duration ",H=" Views",D="Buffering ",q=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",U="Exit",J="Close",W="Minimize",X="Cancel",G="[Not Live] ",K=" Channels Live",Y=" Hosts Live",$=" Games Live",Q=" Followed Channels",Z=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",oe="Make First",re=" (First user has it's content on SmartHub Preview, can Sub out side User screen when providing a key)",ae="Add a Twitch user to display it's Followed Channels content here",se=" (24h)",le=" (7d)",ce=" (30d)",ue=" (all)",de="Jumping ",he=" to ",pe="Jump Canceled",fe=" , jump time bigger then duration",me=" Sec",ve=" Min",ge=" Hr",ye="Source",_e="Version: ",be="Twitch.TV",we="Press return key to close this.",Te="Player Related:",ke="Chat Related:",Ee="General Related:",Ce="Update",xe="Current Major version ",Se=" Latest Major version ",Ie="This are the none players related controls, the player can show it's own controls.",Le="Play a video: Navigate using Directional pad (up/down/left/right), Select or Play/Pause keys to start playing",Be="Refresh screen content: Guide or info (Guide is channel press key on smart remote)",Me="Close the application: from Live screen press return to see the options",Ae="Force close the application (in case it freezes or miss behave): Hold return key until it force closes (Works for any application on Samsung TV's)",Oe=" Switch screen: Chanel Up (Move to right screen) or Chanel Down (Move to left screen)",je="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Fe="Go back to Live from any screen: color button green or B",Ne="Start a search: color button blue or D",Pe="After setting up the search text press return or click on DONE and use the Directional pad (left/right) to chose the type of search then press Select or Play/Pause, Directional pad (up) goes back to edit the search text",Re="Controls list: color button yellow or C",He="About this application: color button red or A",De="This is a unofficial Twitch.Tv application develop by a individual on his free time, for TV's that don't have access to a official application, released for free to any one that wanna to use it.",qe="On 99% on the updates the app can update it self to add fixes and new featuring, the app will warn the user the day there is a need to update manually by reinstalling it via computer in the case you use a computer to install it.",ze="Developer information:",Ve="This is an open source applicationlication check it on my github",Ue="github.com/bhb27/smarttv-twitch",Je="This application is licensed under the GNU General Public License v3.0, and uses following dependencies:",We="Font Awesome - The iconic font and CSS toolkit by FortAwesome (https://github.com/FortAwesome/Font-Awesome)",Xe="Video.js - HTML5 Video Player (https://github.com/videojs/video.js)",Ge="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Ke="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",$e="Samsung WebApi API - this module defines the functionalities that are provides as the Samsung TV for Tizen Platform Product API (http://developer.samsung.com/tv/develop/api-references/samsung-product-api-references/webapi-api)",Qe="Show information panel: Select key if chat is showing or Directional pad (up/down/left/right) if not",Ze="Close the video: press return (click it twice under 3 seconds, click tree times if information panel or controls is open)",et="Play/Pause a video: Play or Pause keys",tt="Jump Forward/Backwards (not availably for live streams): Directional pad (right/left), multiple clicks add more time before jump",nt="Change video quality (not availably for clips): Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",it="Force refresh a video (in case it freezes) (not availably for clips): press select key twice, it will change the video quality to the same you are current watching, by opening information panel (first click) after second click will start re-buffering",ot="Show or hide the Chat (Only availably on live streams): Guide or info (Guide is channel press key on smart remote)",rt="Change Chat position (if chat it's showing and info panel is not): Chanel Up or Down",at="Change Chat size (if chat it's showing and info panel is not): Directional pad (up/down)",st="Change Chat background brightness (if chat it's showing and info panel is not): Directional pad (left/right)",lt="Force refresh the Chat (in case it freezes or doesn't load): Force refresh the video by pressing select key twice, it will change the video quality to the same you are current watching, by opening information panel (first click) after second click will start re-buffering and the chat will reload it self",ct="Change the speed (Only availably for clips): Open information panel, navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new speed after press Select key to confirm the change",ut='Restart a clip (can also be used in case it freezes): Open information panel, navigate using use Directional pad (left/right) to "Restart the Clip" and press select',dt='Start a search: Open information panel, navigate using use Directional pad (left/right) to "Search" and press select',ht='Open Channel content: Open information panel, navigate using use Directional pad (left/right) to "Channel content" and press select',pt="A update is available, and the app can't self update this version ",ft="Major changes:",mt="Temp update 1",vt="Adding a authentication key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to) for the chosen user, enter the authentication key for user ",gt=" below, fallowing this steps:",yt="Access the site http://tiny.cc/twitchkey (using a computer or a smart phone)",_t='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',bt="Login to Twitch.TV using the user name you are trying to add a key for",wt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",Tt="The web page will update and show a key code, write that key code bellow",kt=" Add Authentication key",Et="Key added OK (Click to test key)",Ct="Key test fail, it's needed to add new one",xt="Key test return OK",St="You try to add a key for user ",It=" but this key is for user ",Lt=" Following",Bt=" Follow",Mt=" And you have not set a authentication key the app can't check yours sub status.",At=" And you are not a sub of this channel",Ot=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",jt="Fail authentication check with the provider key, please check and try again",Ft="No user",Nt="Set a user and a authentication key to be able to fallow/unfollow",Pt="Restart the",Rt=" Clip",Ht="Channel content",Dt="Network is disconnect, the application can't work without INTERNET",qt="Network connection reestablished",zt=" Followers",Vt=", Can't fallow or unfallow ",Ut="Game content",Jt="Yes",Wt="Are you sure you want to remove the user ",Xt="Press Up to ",Gt="Followed Games",Kt="Change between",Yt=" (Guide or Info)",$t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Qt="Started ",Zt="fglfgl27@gmail.com",en="<br>",tn='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',nn='<div class="about_text_title">',on='<div class="about_text_title" style="text-align: left;">',rn='<div style="text-align: left;">',an="",sn="",ln="",cn="",un="",dn="",hn="",pn="",fn="",mn="&nbsp;",vn="";function gn(){an=i+" (C)",sn=t+" (D)",ln=o+" (A)",e+=Yt,l+=Yt,cn=nn+i+"</div>"+Ie+en+en+tn+Le+en+tn+Be+en+tn+Me+en+tn+Ae+en+tn+Oe+en+je+en+tn+Fe+en+tn+Ne+en+Pe+en+tn+Re+en+tn+He+en+nn+we+"</div>",un=nn+be+"</div>",dn=De+en+qe+en+en+nn+ze+"</div>"+Zt+en+en+Ve+en+Ue+en+en+on+Je+"</div>"+rn+tn+We+en+tn+Xe+en+tn+Ge+en+tn+Ke+en+tn+Ye+en+tn+$e+en+nn+we+"</div></div>",hn=nn+i+"</div>"+nn+Ee+"</div>"+tn+Qe+en+tn+Ze+en+tn+dt+en+tn+ht+nn+Te+"</div>"+tn+et+en+tn+tt+en+tn+ct+en+tn+nt+en+tn+it+en+tn+ut+nn+ke+"</div>"+tn+ot+en+tn+rt+en+tn+at+en+tn+st+en+tn+lt+nn+we+"</div>",pn=nn+Ce+"</div>"+pt+en,vn=en+nn+ft+"</div>"+rn+tn+mt+en+en+we+"</div>",fn=gt+en+tn+yt+en+tn+_t+en+tn+bt+en+tn+wt+en+tn+Tt}function yn(){console.log("loading language pt_BR"),e="Atualizar",t="Pesquisar",i="Controles",o="Sobre",r="Nenhum texto foi inserido.",s="Trocar (CH Cima/Baixo)",l="Transmissões Anteriores/Destaques",c="Período (24h, 7d, 30d, todos) (CH Cima/Baixo)",d="Usuário ",h="Ao Vivo",p="Jogos",f="Jogando ",v="Assistindo há ",g="Desde ",y=" atrás",_="Um jogo",b="entrar com a pesquisa...",T="entrar com usuário...",k="Pressione a tecla selecionar para ",E="Canais",C="Canal",x="Voltar (retornar)",S="A transmissão que você estava assistindo acabou.",L="Não foi possível carregar. Atualize para tentar novamente.",A="Não foi possível carregar o conteúdo do vídeo, pois a conexão falhou, encerrando...",B="Não há",O=" Transmissões Anterior",j=" Destaque",F=" Clipes",N=" Conteúdo",P="Transmitido em ",R="Duração ",H=" Visualizações",D="Carregando ",q=" Espectadores",z="Pressione novamente para sair!",V="Quer sair do Twitch?",U="Sair",J="Fechar",W="Minimizar",X="Cancelar",G="[Retransmissão] ",K=" Canais Ao Vivo",Y=" Hosts Ao Vivo",$=" Jogos Ao Vivo",Z=" Adicionar Usuário",ee=" Remover Usuário",te="Usuário inexistente",ne=" hospedando ",ie=" já configurado",oe="Tornar o Principal",re=" (O conteúdo do usuário principal aparece no SmartHub Preview e consegue seguir quando fornece uma chave de acesso)",ue=" (todos)",de="Saltando ",he=m=" para ",pe="Slato cancelado",fe=" , o tempo de salto é maior que a duração",me=" Seg",ve=" Min",ge=" H",ye="Original",_e="Versão: ",be="Twitch.TV",we="Pressione retornar para fechar este.",Te="Relacionado ao Player:",ke="Relacionado ao Chat:",Ee="Gerais:",Ce="Atualização",xe="Versão Atual ",Se=" Última Versão ",Ie="Estes controles não estão relacionados ao player. O player pode mostrar os seus controles.",Le="Reproduzir um Vídeo: Navegue usando as setas direcionais, pressione PLAY/PAUSE para reproduzir.",Be="Atualizar Conteúdo: Pressione GUIDE ou INFO.",Me="Fechar: Durante uma transmissão, pressione retornar pra ver as opções",Ae="Forçar Encerramento  do aplicativo (caso necessário): Pressione retornar até o aplicativo seja encerrado.",Oe="Alternar entre Telas: CH Cima (Tela da Direita) ou CH Baixo (Tela da Esquerda).",je="Algumas telas irão atualizar o conteúdo (como as Transmissões Anteriores, por exemplo), ao invés de mudarem completamente.",Fe="Voltar para Ao Vivo: Botão Verde(B)",Ne="Pesquisar: Botão Azul(D)",Pe="Após inserir o conteúdo da busca, pressione retornar ou clique em CONCLUÍDO e use as Setas Direcionais (esquerda/direita) para escolher o tipo de busca. Pressione a tecla selecionar ou PLAY/PAUSE para confirmar.",Re="Controles: Botão Amarelo(C)",He="Sobre: Botão Vermelho(A)",De="Este é um aplicativo não oficial do Twitch.TV, desenvolvido por um individuo no seu tempo livre, feito para TVs que não possuem uma versão oficial. Seu uso é gratuito.",qe="Em 99% das vezes, o aplicativo se atualizará sozinho para adicionar correções e novas funções. O aplicativo avisará ao usuário quando houver necessidade de ser atualizado manualmente (através de uma nova instalação pelo computador no caso ter ter usado o computar pra instalar).",ze="Sobre o Desenvolvedor:",Ve="Este é um aplicativo Open Source. Confira no meu GitHub",Ue="github.com/bhb27/smarttv-twitch",Je="Este aplicativo está licenciado sob a Licença Pública GNU v3.0 e usa as seguintes dependências:",Qe="Exibir Informações: Pressione a tecla selecionar caso o Chat esteja sendo exibido ou use as Setas Direcionais.",Ze="Fechar um vídeo: Pressione retornar duas vezes seguidas em menos de três segundos",et="Pausar/Reproduzir: Pressione PLAY ou PAUSE.",tt="Avançar/Retroceder (indisponível para Transmissões Ao Vivo): Setas Direcionais (esquerda/direita).",nt="Alterar qualidade (indisponível para Clipes): Abra o Painel de Informações, use as Setas Direcionais (Cima/Baixo) para escolher a qualidade e pressione a tecla selecionar para alterar.",it="Forçar a atualização de um vídeo (indisponível para Clipes): Pressione a tecla selecionar duas vezes. A qualidade do vídeo continuará sendo a mesma, mas após o segundo clique, o vídeo será recarregado.",ot="Exibir/Esconder o Chat (Somente disponível em transmissões ao vivo): GUIDE ou INFO.",rt="Posição do Chat (Se o chat esta visível): CH Para Cima ou Para Baixo.",at="Tamanho do Chat (Se o chat esta visível): Setas Direcionais (cima/baixo).",st="Brilho do Chat (Se o chat esta visível): Setas Direcionais (esquerda/direita).",lt="Forçar atualização do Chat (caso necessário): Pressione a tecla selecionar duas vezes. No primeiro clique, a qualidade continuará a mesma, mas após o segundo, o vídeo e o chat serão recarregados.",ct="Altere a velocidade (apenas disponível para clipes): abra o painel de informações, navegue usando o botão Direcional (esquerda / direita), use a tecla direcional (para cima / baixo) para escolher a nova velocidade depois de pressionar a tecla Selecionar para confirmar a alteração",ut='Reinicie um clipe (também pode ser usado no caso do clipe congelar): Abra o painel de informações, navegue usando o botão direcional (esquerda / direita) para "Reiniciar o Clipe" e pressione a tecla selecionar',dt='Inicie uma pesquisa: abra o painel de informações, navegue usando o botão Direcional (esquerda / direita) para "Pesquisar" e pressione a tecla selecionar',ht='Abra o conteúdo do canal: abra o painel de informações, navegue usando o botão direcional (esquerda / direita) para "Conteúdo do canal" e pressione a tecla selecionar',pt="Há uma atualização disponível, mas o app não pôde ser atualizado automaticamente ",ft="Changelist:",mt="Atualização Temporária 1",vt="Adicionando uma chave de autenticação para um usuário, permite ao aplicativo seguir e assistir a transmissões anteriores reservadas somente para inscritos (Em canais que você é inscrito), entre com a chave de autenticação do usuário ",gt=" abaixo seguidos os passos:",yt="Acesse o site http://tiny.cc/twitchkey (usando um computador ou smart phone)",_t='Clique no botão "Authorize" assim vai abrir o site de autenticação do Twitch.TV',bt="Faço login no Twitch.TV usando o usuário que você esta tentando adicionar a chave",wt="Clique no botão de autorizar no site do Twitch.TV se você esta de acordo com as permissões",Tt="A pagina vai atualizar e mostrar a chave de acesso no centro (só tem letra minuscula), escreva esta no aplicativo",kt=" Adicione uma chave de autenticação",Et="Chave adicionada OK (Clique para testar)",Ct="O teste da chave falhou, sera necessário adicionar uma nova",xt="O teste da chave retornou OK",St="Você esta tentando adicionar uma chave para o usuário ",It=" mas esta é para o usuário ",Lt=Q=" Seguindo",Bt=" Seguir",Mt=" E você não definiu uma chave de autenticação, o aplicativo não pode verificar se é inscrito.",At=" E você não é um inscrito deste canal",Ot=" Você é um inscrito deste canal, mas o aplicativo falha ao tentar autenticar, contate o desenvolvedor através do e-mail no sobre",jt="Falhou o teste com a chave do informada, verifique e tente novamente",Ft="Sem Usuário",Nt="Adicione um usuário e uma chave de autenticação para poder seguir ou deixar de seguir",Pt="Reinicie o",Ht="Conteúdo do canal",Dt="A rede esta desconectada, o aplicativo não funciona sem INTERNET",qt="Conexão de rede restabelecida",zt=" Seguidores",Vt=", Não é possível seguir ou deixar de seguir ",Ut="Conteúdo do jogo",Jt="Sim",Wt="Tem certeza que deseja remover o usuário ",Xt="Pressione a tecla pra cima para ",Gt="Jogos seguidos",Kt="Troque entre",Yt=" (Guia ou Info)",$t=["Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"],Qt="Começou "}var _n=427,bn=428,wn=458,Tn=19,kn=415,En=10252,Cn=457,xn=37,Sn=39,In=38,Ln=40,Bn=13,Mn=403,An=404,On=405,jn=406,Fn=10009,Nn=8,Pn=65385,Rn=65376,Hn=32,Dn=46;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){var h="6.9.0",e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n,p="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i={},o=(Object.freeze||Object)({default:i}),r=o&&i||o,a=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?n=document:(n=a["__GLOBAL_DOCUMENT_CACHE@4"])||(n=a["__GLOBAL_DOCUMENT_CACHE@4"]=r);var s,l,c,u,f=n,d=p.navigator&&p.navigator.userAgent||"",m=/AppleWebKit\/([\d.]+)/i.exec(d),v=m?parseFloat(m.pop()):null,g=/iPad/i.test(d),y=/iPhone/i.test(d)&&!g,_=/iPod/i.test(d),b=y||g||_,w=(s=d.match(/OS (\d+)_/i))&&s[1]?s[1]:null,T=/Android/i.test(d),k=function(){var e=d.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),E=T&&/webkit/i.test(d)&&k<2.3,C=T&&k<5&&v<537,x=/Firefox/i.test(d),S=/Edge/i.test(d),I=!S&&/Chrome/i.test(d),L=(l=d.match(/Chrome\/(\d+)/))&&l[1]?parseFloat(l[1]):null,B=/MSIE\s8\.0/.test(d),M=(!(u=(c=/MSIE\s(\d+)\.\d/.exec(d))&&parseFloat(c[1]))&&/Trident\/7.0/i.test(d)&&/rv:11.0/.test(d)&&(u=11),u),A=/Safari/i.test(d)&&!I&&!T&&!S,O=A||b,j=oe()&&("ontouchstart"in p||p.DocumentTouch&&p.document instanceof p.DocumentTouch),F=oe()&&"backgroundSize"in p.document.createElement("video").style,N=(Object.freeze||Object)({IS_IPAD:g,IS_IPHONE:y,IS_IPOD:_,IS_IOS:b,IOS_VERSION:w,IS_ANDROID:T,ANDROID_VERSION:k,IS_OLD_ANDROID:E,IS_NATIVE_ANDROID:C,IS_FIREFOX:x,IS_EDGE:S,IS_CHROME:I,CHROME_VERSION:L,IS_IE8:B,IE_VERSION:M,IS_SAFARI:A,IS_ANY_SAFARI:O,TOUCH_ENABLED:j,BACKGROUND_SIZE_SUPPORTED:F}),P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},H=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},D=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},q=function(e,t){return e.raw=t,e},z=Object.prototype.toString,V=function(e){return W(e)?Object.keys(e):[]};function U(t,n){V(t).forEach(function(e){return n(t[e],e)})}function J(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&U(e,function(e,t){n[t]=e})}),n)}function W(e){return!!e&&"object"===(void 0===e?"undefined":P(e))}function X(e){return W(e)&&"[object Object]"===z.call(e)&&e.constructor===Object}var G=void 0,K="info",Y=[],$=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!!M&&M<11,i=G.levels[K],o=new RegExp("^("+i+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),Y&&Y.push([].concat(t)),t.unshift("VIDEOJS:"),p.console){var r=p.console[e];r||"debug"!==e||(r=p.console.info||p.console.log),r&&i&&o.test(e)&&(n&&(t=t.map(function(t){if(W(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](p.console,t):r(t))}};(G=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];$("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:K},G.level=function(e){if("string"==typeof e){if(!G.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');K=e}return K},G.history=function(){return Y?[].concat(Y):[]},G.history.clear=function(){Y&&(Y.length=0)},G.history.disable=function(){null!==Y&&(Y.length=0,Y=null)},G.history.enable=function(){null===Y&&(Y=[])},G.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return $("error",t)},G.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return $("warn",t)},G.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return $("debug",t)};var Q=G,Z=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t};function ee(e,t){if(!e||!t)return"";if("function"==typeof p.getComputedStyle){var n=p.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}var te=q(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function ne(e){return"string"==typeof e&&/\S/.test(e)}function ie(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function oe(){return f===p.document&&void 0!==f.createElement}function re(e){return W(e)&&1===e.nodeType}function ae(){try{return p.parent!==p.self}catch(e){return!0}}function se(i){return function(e,t){if(!ne(e))return f[i](null);ne(t)&&(t=f.querySelector(t));var n=re(t)?t:f;return n[i]&&n[i](e)}}function le(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=f.createElement(e);return Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Q.warn(Z(te,e,t)),o.setAttribute(e,t)):"textContent"===e?ce(o,t):o[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){o.setAttribute(e,t[e])}),i&&Ie(o,i),o}function ce(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function ue(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function de(e,t){return ie(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function he(e,t){return e.classList?e.classList.add(t):de(e,t)||(e.className=(e.className+" "+t).trim()),e}function pe(e,t){return e.classList?e.classList.remove(t):(ie(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function fe(e,t,n){var i=de(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?he(e,t):pe(e,t),e}function me(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function ve(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,i=n.length-1;0<=i;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),t[o]=r}return t}function ge(e,t){return e.getAttribute(t)}function ye(e,t,n){e.setAttribute(t,n)}function _e(e,t){e.removeAttribute(t)}function be(){f.body.focus(),f.onselectstart=function(){return!1}}function we(){f.onselectstart=function(){return!0}}function Te(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(ee(e,"height"))),n.width||(n.width=parseFloat(ee(e,"width"))),n}}function ke(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=f.documentElement,i=f.body,o=n.clientLeft||i.clientLeft||0,r=p.pageXOffset||i.scrollLeft,a=t.left+r-o,s=n.clientTop||i.clientTop||0,l=p.pageYOffset||i.scrollTop,c=t.top+l-s;return{left:Math.round(a),top:Math.round(c)}}function Ee(e,t){var n={},i=ke(e),o=e.offsetWidth,r=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+r)/r)),n.x=Math.max(0,Math.min(1,(c-s)/o)),n}function Ce(e){return W(e)&&3===e.nodeType}function xe(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Se(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),re(e)||Ce(e)?e:"string"==typeof e&&/\S/.test(e)?f.createTextNode(e):void 0}).filter(function(e){return e})}function Ie(t,e){return Se(e).forEach(function(e){return t.appendChild(e)}),t}function Le(e,t){return Ie(xe(e),t)}function Be(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||9===M||0===e.button&&1===e.buttons}var Me=se("querySelector"),Ae=se("querySelectorAll"),Oe=(Object.freeze||Object)({isReal:oe,isEl:re,isInFrame:ae,createEl:le,textContent:ce,prependTo:ue,hasClass:de,addClass:he,removeClass:pe,toggleClass:fe,setAttributes:me,getAttributes:ve,getAttribute:ge,setAttribute:ye,removeAttribute:_e,blockTextSelection:be,unblockTextSelection:we,getBoundingClientRect:Te,findPosition:ke,getPointerPosition:Ee,isTextNode:Ce,emptyEl:xe,normalizeContent:Se,appendContent:Ie,insertContent:Le,isSingleLeftClick:Be,$:Me,$$:Ae}),je=1;function Fe(){return je++}var Ne={},Pe="vdata"+(new Date).getTime();function Re(e){var t=e[Pe];return t||(t=e[Pe]=Fe()),Ne[t]||(Ne[t]={}),Ne[t]}function He(e){var t=e[Pe];return!!t&&!!Object.getOwnPropertyNames(Ne[t]).length}function De(e){var t=e[Pe];if(t){delete Ne[t];try{delete e[Pe]}catch(t){e.removeAttribute?e.removeAttribute(Pe):e[Pe]=null}}}function qe(e,t){var n=Re(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&De(e)}function ze(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function Ve(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||p.event;for(var o in e={},i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&i.preventDefault||(e[o]=i[o]));if(e.target||(e.target=e.srcElement||f),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var r=f.documentElement,a=f.body;e.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Ue=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Ue=!0}});p.addEventListener("test",null,e),p.removeEventListener("test",null,e)}catch(e){}}();var Je=["touchstart","touchmove"];function We(a,e,t){if(Array.isArray(e))return ze(We,a,e,t);var s=Re(a);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=Fe()),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=Ve(e);var n=s.handlers[e.type];if(n)for(var i=n.slice(0),o=0,r=i.length;o<r&&!e.isImmediatePropagationStopped();o++)try{i[o].call(a,e,t)}catch(e){Q.error(e)}}}),1===s.handlers[e].length)if(a.addEventListener){var n=!1;Ue&&-1<Je.indexOf(e)&&(n={passive:!0}),a.addEventListener(e,s.dispatcher,n)}else a.attachEvent&&a.attachEvent("on"+e,s.dispatcher)}function Xe(e,t,n){if(He(e)){var i=Re(e);if(i.handlers){if(Array.isArray(t))return ze(Xe,e,t,n);var o=function(e,t){i.handlers[t]=[],qe(e,t)};if(void 0!==t){var r=i.handlers[t];if(r)if(n){if(n.guid)for(var a=0;a<r.length;a++)r[a].guid===n.guid&&r.splice(a--,1);qe(e,t)}else o(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&o(e,s)}}}function Ge(e,t,n){var i=He(e)?Re(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Ve(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles)Ge.call(null,o,t,n);else if(!o&&!t.defaultPrevented){var r=Re(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function Ke(t,n,i){if(Array.isArray(n))return ze(Ke,t,n,i);var e=function e(){Xe(t,n,e),i.apply(this,arguments)};e.guid=i.guid=i.guid||Fe(),We(t,n,e)}var Ye=(Object.freeze||Object)({fixEvent:Ve,on:We,off:Xe,trigger:Ge,one:Ke}),$e=!1,Qe=void 0,Ze=function(){if(oe()){var e=f.getElementsByTagName("video"),t=f.getElementsByTagName("audio"),n=f.getElementsByTagName("video-js"),i=[];if(e&&0<e.length)for(var o=0,r=e.length;o<r;o++)i.push(e[o]);if(t&&0<t.length)for(var a=0,s=t.length;a<s;a++)i.push(t[a]);if(n&&0<n.length)for(var l=0,c=n.length;l<c;l++)i.push(n[l]);if(i&&0<i.length)for(var u=0,d=i.length;u<d;u++){var h=i[u];if(!h||!h.getAttribute){et(1);break}void 0===h.player&&null!==h.getAttribute("data-setup")&&Qe(h)}else $e||et(1)}};function et(e,t){t&&(Qe=t),p.setTimeout(Ze,e)}oe()&&"complete"===f.readyState?$e=!0:Ke(p,"load",function(){$e=!0});var tt=function(e){var t=f.createElement("style");return t.className=e,t},nt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},it=function(e,t,n){t.guid||(t.guid=Fe());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},ot=function(t,n){var i=Date.now();return function(){var e=Date.now();n<=e-i&&(t.apply(void 0,arguments),i=e)}},rt=function(i,o,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:p,s=void 0;return function(){var e=this,t=arguments,n=function(){n=s=null,r||i.apply(e,t)};!s&&r&&i.apply(e,t),a.clearTimeout(s),s=a.setTimeout(n,o)}},at=function(){};at.prototype.allowedEvents_={},at.prototype.addEventListener=at.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},We(this,e,t),this.addEventListener=n},at.prototype.removeEventListener=at.prototype.off=function(e,t){Xe(this,e,t)},at.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ke(this,e,t),this.addEventListener=n},at.prototype.dispatchEvent=at.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=Ve(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Ge(this,e)};var st=function(t){return t instanceof at||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},lt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ct=function(e){if(!e.nodeName&&!st(e))throw new Error("Invalid target; must be a DOM node or evented object.")},ut=function(e){if(!lt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},dt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},ht=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,i=void 0,o=void 0,r=void 0;return n?(i=e.eventBusEl_,3<=t.length&&t.shift(),o=t[0],r=t[1]):(i=t[0],o=t[1],r=t[2]),ct(i),ut(o),dt(r),{isTargetingSelf:n,target:i,type:o,listener:r=it(e,r)}},pt=function(e,t,n,i){ct(e),e.nodeName?Ye[t](e,n,i):e[t](n,i)},ft={on:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ht(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,l=o.listener;if(pt(a,"on",s,l),!r){var c=function(){return e.off(a,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,pt(this,"on","dispose",c),pt(a,"on","dispose",u)}},one:function(){for(var o=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=ht(this,t),r=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(r)pt(a,"one",s,l);else{var c=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o.off(a,s,e),l.apply(null,n)};c.guid=l.guid,pt(a,"one",s,c)}},off:function(e,t,n){if(!e||lt(e))Xe(this.eventBusEl_,e,t);else{var i=e,o=t;ct(i),ut(o),dt(n),n=it(this,n),this.off("dispose",n),i.nodeName?(Xe(i,o,n),Xe(i,"dispose",n)):st(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(e,t){return Ge(this.eventBusEl_,e,t)}};function mt(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=le("span",{className:"vjs-event-bus"});return J(e,ft),e.on("dispose",function(){e.off(),p.setTimeout(function(){e.eventBusEl_=null},0)}),e}var vt={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var i=void 0;return U(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&st(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function gt(e,t){return J(e,vt),e.state=J({},e.state,t),"function"==typeof e.handleStateChanged&&st(e)&&e.on("statechanged",e.handleStateChanged),e}function yt(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function _t(){for(var n={},e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){e&&U(e,function(e,t){X(e)?(X(n[t])||(n[t]={}),n[t]=_t(n[t],e)):n[t]=e})}),n}var bt=function(){function l(e,t,n){if(R(this,l),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=_t({},this.options_),t=this.options_=_t(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+Fe()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&mt(this,{eventBusKey:this.el_?"el_":null}),gt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return l.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),De(this.el_),this.el_=null),this.player_=null},l.prototype.player=function(){return this.player_},l.prototype.options=function(e){return Q.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=_t(this.options_,e)),this.options_},l.prototype.el=function(){return this.el_},l.prototype.createEl=function(e,t,n){return le(e,t,n)},l.prototype.localize=function(e,o){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),r=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],l=t;return r&&r[e]?l=r[e]:s&&s[e]&&(l=s[e]),o&&(l=l.replace(/\{(\d+)\}/g,function(e,t){var n=o[t-1],i=n;return void 0===n&&(i=e),i})),l},l.prototype.contentEl=function(){return this.contentEl_||this.el_},l.prototype.id=function(){return this.id_},l.prototype.name=function(){return this.name_},l.prototype.children=function(){return this.children_},l.prototype.getChildById=function(e){return this.childIndex_[e]},l.prototype.getChild=function(e){if(e)return e=yt(e),this.childNameIndex_[e]},l.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof e){o=yt(e);var r=t.componentClass||o;t.name=o;var a=l.getComponent(r);if(!a)throw new Error("Component "+r+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,t)}else i=e;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&yt(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var s=this.contentEl().children[n]||null;this.contentEl().insertBefore(i.el(),s)}return i},l.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},l.prototype.initChildren=function(){var o=this,i=this.options_.children;if(i){var r=this.options_,e=void 0,n=l.getComponent("Tech");(e=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,n=void 0;return"string"==typeof e?n=i[t=e]||o.options_[t]||{}:(t=e.name,n=e),{name:t,opts:n}}).filter(function(e){var t=l.getComponent(e.opts.componentClass||yt(e.name));return t&&!n.isTech(t)}).forEach(function(e){var t=e.name,n=e.opts;if(void 0!==r[t]&&(n=r[t]),!1!==n){!0===n&&(n={}),n.playerOptions=o.options_.playerOptions;var i=o.addChild(t,n);i&&(o[t]=i)}})}},l.prototype.buildCSSClass=function(){return""},l.prototype.ready=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},l.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},l.prototype.$=function(e,t){return Me(e,t||this.contentEl())},l.prototype.$$=function(e,t){return Ae(e,t||this.contentEl())},l.prototype.hasClass=function(e){return de(this.el_,e)},l.prototype.addClass=function(e){he(this.el_,e)},l.prototype.removeClass=function(e){pe(this.el_,e)},l.prototype.toggleClass=function(e,t){fe(this.el_,e,t)},l.prototype.show=function(){this.removeClass("vjs-hidden")},l.prototype.hide=function(){this.addClass("vjs-hidden")},l.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},l.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},l.prototype.getAttribute=function(e){return ge(this.el_,e)},l.prototype.setAttribute=function(e,t){ye(this.el_,e,t)},l.prototype.removeAttribute=function(e){_e(this.el_,e)},l.prototype.width=function(e,t){return this.dimension("width",e,t)},l.prototype.height=function(e,t){return this.dimension("height",e,t)},l.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},l.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+yt(e)],10)},l.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof p.getComputedStyle){var n=p.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+yt(e);t=this.el_[i]}return t},l.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},l.prototype.currentWidth=function(){return this.currentDimension("width")},l.prototype.currentHeight=function(){return this.currentDimension("height")},l.prototype.focus=function(){this.el_.focus()},l.prototype.blur=function(){this.el_.blur()},l.prototype.emitTapEvents=function(){var t=0,i=null,o=void 0;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),o=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)o=!1;else if(i){var t=e.touches[0].pageX-i.pageX,n=e.touches[0].pageY-i.pageY;10<Math.sqrt(t*t+n*n)&&(o=!1)}});var e=function(){o=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(i=null)===o&&(new Date).getTime()-t<200&&(e.preventDefault(),this.trigger("tap"))})},l.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=it(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var e=function(e){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e)}},l.prototype.setTimeout=function(e,t){var n=this;e=it(this,e);var i=p.setTimeout(e,t),o=function(){return n.clearTimeout(i)};return o.guid="vjs-timeout-"+i,this.on("dispose",o),i},l.prototype.clearTimeout=function(e){p.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},l.prototype.setInterval=function(e,t){var n=this;e=it(this,e);var i=p.setInterval(e,t),o=function(){return n.clearInterval(i)};return o.guid="vjs-interval-"+i,this.on("dispose",o),i},l.prototype.clearInterval=function(e){p.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},l.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=it(this,e);var n=p.requestAnimationFrame(e),i=function(){return t.cancelAnimationFrame(n)};return i.guid="vjs-raf-"+n,this.on("dispose",i),n}return this.setTimeout(e,1e3/60)},l.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){p.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},l.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=l.getComponent("Tech"),i=n&&n.isTech(t),o=l===t||l.prototype.isPrototypeOf(t.prototype);if(i||!o){throw new Error('Illegal component, "'+e+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".")}e=yt(e),l.components_||(l.components_={});var r=l.getComponent("Player");if("Player"===e&&r&&r.players){var a=r.players,s=Object.keys(a);if(a&&0<s.length&&s.map(function(e){return a[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return l.components_[e]=t},l.getComponent=function(e){if(e)return e=yt(e),l.components_&&l.components_[e]?l.components_[e]:void 0},l}();function wt(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function Tt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:wt.bind(null,"start",0,e),end:wt.bind(null,"end",1,e)}}function kt(e,t){return Array.isArray(e)?Tt(e):void 0===e||void 0===t?Tt():Tt([[e,t]])}function Et(e,t){var n=0,i=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=kt(0,0));for(var r=0;r<e.length;r++)i=e.start(r),t<(o=e.end(r))&&(o=t),n+=o-i;return n/t}bt.prototype.supportsRaf_="function"==typeof p.requestAnimationFrame&&"function"==typeof p.cancelAnimationFrame,bt.registerComponent("Component",bt);for(var Ct={},xt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],St=xt[0],It=void 0,Lt=0;Lt<xt.length;Lt++)if(xt[Lt][1]in f){It=xt[Lt];break}if(It)for(var Bt=0;Bt<It.length;Bt++)Ct[St[Bt]]=It[Bt];function Mt(e){if(e instanceof Mt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:W(e)&&("number"==typeof e.code&&(this.code=e.code),J(this,e)),this.message||(this.message=Mt.defaultMessages[this.code]||"")}Mt.prototype.code=0,Mt.prototype.message="",Mt.prototype.status=null,Mt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Mt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var At=0;At<Mt.errorTypes.length;At++)Mt[Mt.errorTypes[At]]=At,Mt.prototype[Mt.errorTypes[At]]=At;function Ot(e){return null!=e&&"function"==typeof e.then}function jt(e){Ot(e)&&e.then(null,function(e){})}var Ft=function(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){return i[t]&&(e[t]=i[t]),e},{cues:i.cues&&Array.prototype.map.call(i.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},Nt="vjs-modal-dialog",Pt=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=le("div",{className:Nt+"-content"},{role:"document"}),n.descEl_=le("p",{className:Nt+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),ce(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return H(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},o.prototype.buildCSSClass=function(){return Nt+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},o.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},o.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},o.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},o.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",it(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},o.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",it(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},o.prototype.fill=function(){this.fillWith(this.content())},o.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Le(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},o.prototype.empty=function(){this.trigger("beforemodalempty"),xe(this.contentEl()),this.trigger("modalempty")},o.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},o.prototype.conditionalFocus_=function(){var e=f.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(f,"keydown",this.handleKeyDown))},o.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(f,"keydown",this.handleKeyDown)},o.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,o=0;o<t.length;o++)if(n===t[o]){i=o;break}f.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}},o.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof p.HTMLAnchorElement||e instanceof p.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof p.HTMLInputElement||e instanceof p.HTMLSelectElement||e instanceof p.HTMLTextAreaElement||e instanceof p.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof p.HTMLIFrameElement||e instanceof p.HTMLObjectElement||e instanceof p.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},o}(bt);Pt.prototype.options_={pauseOnOpen:!0,temporary:!0},bt.registerComponent("ModalDialog",Pt);var Rt=function(r){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;R(this,a);var n=D(this,r.call(this));if(!t&&(t=n,B))for(var i in t=f.createElement("custom"),a.prototype)"constructor"!==i&&(t[i]=a.prototype[i]);t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<e.length;o++)t.addTrack(e[o]);return D(n,t)}return H(a,r),a.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},a.prototype.removeTrack=function(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},a.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},a}(at);for(var Ht in Rt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Rt.prototype.allowedEvents_)Rt.prototype["on"+Ht]=null;var Dt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},qt=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];R(this,s);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].enabled){Dt(t,t[i]);break}if(B){for(var o in n=f.createElement("custom"),Rt.prototype)"constructor"!==o&&(n[o]=Rt.prototype[o]);for(var r in s.prototype)"constructor"!==r&&(n[r]=s.prototype[r])}return(n=e=D(this,a.call(this,t,n))).changing_=!1,D(e,n)}return H(s,a),s.prototype.addTrack=function(e){var t=this;e.enabled&&Dt(this,e),a.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,Dt(t,e),t.changing_=!1,t.trigger("change"))})},s}(Rt),zt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Vt=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];R(this,s);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].selected){zt(t,t[i]);break}if(B){for(var o in n=f.createElement("custom"),Rt.prototype)"constructor"!==o&&(n[o]=Rt.prototype[o]);for(var r in s.prototype)"constructor"!==r&&(n[r]=s.prototype[r])}return(n=e=D(this,a.call(this,t,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),D(e,n)}return H(s,a),s.prototype.addTrack=function(e){var t=this;e.selected&&zt(this,e),a.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,zt(t,e),t.changing_=!1,t.trigger("change"))})},s}(Rt),Ut=function(r){function a(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];R(this,a);var n=void 0;if(B){for(var i in n=f.createElement("custom"),Rt.prototype)"constructor"!==i&&(n[i]=Rt.prototype[i]);for(var o in a.prototype)"constructor"!==o&&(n[o]=a.prototype[o])}return e=D(this,r.call(this,t,n)),D(n=e,n)}return H(a,r),a.prototype.addTrack=function(e){r.prototype.addTrack.call(this,e),e.addEventListener("modechange",it(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",it(this,function(){this.trigger("selectedlanguagechange")}))},a}(Rt),Jt=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];R(this,r);var t=this;if(B)for(var n in t=f.createElement("custom"),r.prototype)"constructor"!==n&&(t[n]=r.prototype[n]);t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=e.length;i<o;i++)t.addTrackElement_(e[i]);if(B)return t}return r.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},r.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},r.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},r}(),Wt=function(){function i(e){R(this,i);var t=this;if(B)for(var n in t=f.createElement("custom"),i.prototype)"constructor"!==n&&(t[n]=i.prototype[n]);if(i.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function(){return this.length_}}),B)return t}return i.prototype.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)o.call(this,n)},i.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},i}(),Xt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Gt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Kt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Yt={disabled:"disabled",hidden:"hidden",showing:"showing"},$t=function(s){function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R(this,l);var t=D(this,s.call(this)),n=t;if(B)for(var i in n=f.createElement("custom"),l.prototype)"constructor"!==i&&(n[i]=l.prototype[i]);var o={id:e.id||"vjs_track_"+Fe(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(e){Object.defineProperty(n,e,{get:function(){return o[e]},set:function(){}})};for(var a in o)r(a);return D(t,n)}return H(l,s),l}(at),Qt=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=f.createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&((o=f.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),f.body.appendChild(o));for(var r={},a=0;a<t.length;a++)r[t[a]]=n[t[a]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=p.location.protocol),i&&f.body.removeChild(o),r},Zt=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},en=function(e){var t=p.location,n=Qt(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},tn=(Object.freeze||Object)({parseUrl:Qt,getAbsoluteURL:function(e){if(!e.match(/^https?:\/\//)){var t=f.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},getFileExtension:Zt,isCrossOrigin:en}),nn=function(e){var t=on.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},on=Object.prototype.toString,rn=t(function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),an=Object.prototype.toString,sn=Object.prototype.hasOwnProperty,ln=function(e){if(!e)return{};var r={};return function(e,t,n){if(!nn(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===an.call(e)?function(e,t,n){for(var i=0,o=e.length;i<o;i++)sn.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e.charAt(i),i,e)}(e,t,n):function(e,t,n){for(var i in e)sn.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n)}(rn(e).split("\n"),function(e){var t,n=e.indexOf(":"),i=rn(e.slice(0,n)).toLowerCase(),o=rn(e.slice(n+1));void 0===r[i]?r[i]=o:(t=r[i],"[object Array]"===Object.prototype.toString.call(t)?r[i].push(o):r[i]=[r[i],o])}),r},cn=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)un.call(n,i)&&(e[i]=n[i])}return e},un=Object.prototype.hasOwnProperty,dn=pn;function hn(e,t,n){var i=e;return nn(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=cn(t,{uri:e}),i.callback=n,i}function pn(e,t,n){return fn(t=hn(e,t,n))}function fn(i){if(void 0===i.callback)throw new Error("callback argument missing");var o=!1,r=function(e,t,n){o||(o=!0,i.callback(e,t,n))};function t(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,m)}function e(){if(!a){var e;clearTimeout(l),e=i.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=m,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(s),f)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:u,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(t.headers=ln(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),r(n,t,t.body)}}var n,a,s=i.xhr||null;s||(s=i.cors||i.useXDR?new pn.XDomainRequest:new pn.XMLHttpRequest);var l,c=s.url=i.uri||i.url,u=s.method=i.method||"GET",d=i.body||i.data,h=s.headers=i.headers||{},p=!!i.sync,f=!1,m={body:void 0,headers:{},statusCode:0,method:u,url:c,rawRequest:s};if("json"in i&&!1!==i.json&&(f=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==u&&"HEAD"!==u&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(!0===i.json?d:i.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(u,c,!p,i.username,i.password),p||(s.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(l=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},i.timeout)),s.setRequestHeader)for(n in h)h.hasOwnProperty(n)&&s.setRequestHeader(n,h[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(s.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(s),s.send(d||null),s}pn.XMLHttpRequest=p.XMLHttpRequest||function(){},pn.XDomainRequest="withCredentials"in new pn.XMLHttpRequest?pn.XMLHttpRequest:p.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){pn["delete"===i?"del":i]=function(e,t,n){return(t=hn(e,t,n)).method=i.toUpperCase(),fn(t)}});var mn=function(e,t){var n=new p.WebVTT.Parser(p,p.vttjs,p.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(p.console&&p.console.groupCollapsed&&p.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return Q.error(e)}),p.console&&p.console.groupEnd&&p.console.groupEnd()),n.flush()},vn=function(e,o){var t={uri:e},n=en(e);n&&(t.cors=n),dn(t,it(this,function(e,t,n){if(e)return Q.error(e,t);if(o.loaded_=!0,"function"!=typeof p.WebVTT){if(o.tech_){var i=function(){return mn(n,o)};o.tech_.on("vttjsloaded",i),o.tech_.on("vttjserror",function(){Q.error("vttjs failed to load, stopping trying to process "+o.src),o.tech_.off("vttjsloaded",i)})}}else mn(n,o)}))},gn=function(d){function h(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(R(this,h),!t.tech)throw new Error("A tech was not provided.");var n=_t(t,{kind:Kt[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=Yt[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden");var r=e=D(this,d.call(this,n));if(r.tech_=n.tech,B)for(var a in h.prototype)"constructor"!==a&&(r[a]=h.prototype[a]);r.cues_=[],r.activeCues_=[];var s=new Wt(r.cues_),l=new Wt(r.activeCues_),c=!1,u=it(r,function(){this.activeCues,c&&(this.trigger("cuechange"),c=!1)});return"disabled"!==i&&r.tech_.ready(function(){r.tech_.on("timeupdate",u)},!0),Object.defineProperty(r,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(r,"mode",{get:function(){return i},set:function(e){var t=this;Yt[e]&&("showing"===(i=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0),this.trigger("modechange"))}}),Object.defineProperty(r,"cues",{get:function(){return this.loaded_?s:null},set:function(){}}),Object.defineProperty(r,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];o.startTime<=e&&o.endTime>=e?t.push(o):o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e&&t.push(o)}if(c=!1,t.length!==this.activeCues_.length)c=!0;else for(var r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(c=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function(){}}),n.src?(r.src=n.src,vn(n.src,r)):r.loaded_=!0,D(e,r)}return H(h,d),h.prototype.addCue=function(e){var t=e;if(p.vttjs&&!(e instanceof p.vttjs.VTTCue)){for(var n in t=new p.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},h.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},h}($t);gn.prototype.allowedEvents_={cuechange:"cuechange"};var yn=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R(this,s);var n=_t(t,{kind:Gt[t.kind]||""}),i=e=D(this,a.call(this,n)),o=!1;if(B)for(var r in s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);return Object.defineProperty(i,"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,D(e,i)}return H(s,a),s}($t),_n=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R(this,s);var n=_t(t,{kind:Xt[t.kind]||""}),i=e=D(this,a.call(this,n)),o=!1;if(B)for(var r in s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);return Object.defineProperty(i,"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),D(e,i)}return H(s,a),s}($t),bn=0,wn=2,Tn=function(a){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R(this,s);var t=D(this,a.call(this)),n=void 0,i=t;if(B)for(var o in i=f.createElement("custom"),s.prototype)"constructor"!==o&&(i[o]=s.prototype[o]);var r=new gn(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperty(i,"readyState",{get:function(){return n}}),Object.defineProperty(i,"track",{get:function(){return r}}),n=bn,r.addEventListener("loadeddata",function(){n=wn,i.trigger({type:"load",target:i})}),B?D(t,i):t}return H(s,a),s}(at);Tn.prototype.allowedEvents_={load:"load"},Tn.NONE=bn,Tn.LOADING=1,Tn.LOADED=wn,Tn.ERROR=3;var kn={audio:{ListClass:qt,TrackClass:yn,capitalName:"Audio"},video:{ListClass:Vt,TrackClass:_n,capitalName:"Video"},text:{ListClass:Ut,TrackClass:gn,capitalName:"Text"}};Object.keys(kn).forEach(function(e){kn[e].getterName=e+"Tracks",kn[e].privateName=e+"Tracks_"});var En={remoteText:{ListClass:Ut,TrackClass:gn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Jt,TrackClass:Tn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Cn=_t(kn,En);En.names=Object.keys(En),kn.names=Object.keys(kn),Cn.names=[].concat(En.names).concat(kn.names);var xn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Sn(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function In(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function Ln(){this.values=xn(null)}function Bn(e,t,n,i){var o=i?e.split(i):[e];for(var r in o)if("string"==typeof o[r]){var a=o[r].split(n);2===a.length&&t(a[0],a[1])}}function Mn(t,e,r){var n,i,a,o=t;function s(){var e=In(t);if(null===e)throw new Sn(Sn.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=s(),l(),"--\x3e"!==t.substr(0,3))throw new Sn(Sn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),l(),e.endTime=s(),l(),n=t,i=e,a=new Ln,Bn(n,function(e,t){switch(e){case"region":for(var n=r.length-1;0<=n;n--)if(r[n].id===t){a.set(e,r[n].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];a.integer(e,o),a.percent(e,o)&&a.set("snapToLines",!1),a.alt(e,o,["auto"]),2===i.length&&a.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),a.percent(e,i[0]),2===i.length&&a.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),i.region=a.get("region",null),i.vertical=a.get("vertical",""),i.line=a.get("line","auto"),i.lineAlign=a.get("lineAlign","start"),i.snapToLines=a.get("snapToLines",!0),i.size=a.get("size",100),i.align=a.get("align","middle"),i.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},i.align),i.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},i.align)}((Sn.prototype=xn(Error.prototype)).constructor=Sn).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Ln.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var An={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},On={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},jn={v:"title",lang:"lang"},Fn={rt:"ruby"};function Nn(r,n){function e(){if(!n)return null;var e,t=n.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],n=n.substr(e.length),e}function t(e){return An[e]}function i(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],t);return e}function o(e,t){var n=On[e];if(!n)return null;var i=r.document.createElement(n);i.localName=n;var o=jn[e];return o&&t&&(i[o]=t.trim()),i}for(var a,s,l,c=r.document.createElement("div"),u=c,d=[];null!==(a=e());)if("<"!==a[0])u.appendChild(r.document.createTextNode(i(a)));else{if("/"===a[1]){d.length&&d[d.length-1]===a.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var h,p=In(a.substr(1,a.length-2));if(p){h=r.document.createProcessingInstruction("timestamp",p),u.appendChild(h);continue}var f=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(h=o(f[1],f[3])))continue;if(s=u,Fn[(l=h).localName]&&Fn[l.localName]!==s.localName)continue;f[2]&&(h.className=f[2].substr(1).replace("."," ")),d.push(f[1]),u.appendChild(h),u=h}return c}var Pn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Rn(e){for(var t=0;t<Pn.length;t++){var n=Pn[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function Hn(){}function Dn(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",r="rgba(0, 0, 0, 0.8)";i&&(o="rgb(255, 255, 255)",r="rgb(0, 0, 0)"),Hn.call(this),this.cue=t,this.cueDiv=Nn(e,t.text);var a={color:o,backgroundColor:r,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(a.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function o(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[e.length=0]:n}return"ruby"===t.tagName?r(e):t.childNodes?(o(e,t),r(e)):void 0}for(o(t,e);n=r(t);)for(var i=0;i<n.length;i++)if(Rn(n.charCodeAt(i)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function qn(e){var t,n,i,o,r=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,r&&!this.lineHeight&&(this.lineHeight=13)}function zn(e,t,s,l){var n=new qn(t),i=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&i++;return-1*++i}(i),r=[];if(i.snapToLines){var a;switch(i.vertical){case"":r=["+y","-y"],a="height";break;case"rl":r=["+x","-x"],a="width";break;case"lr":r=["-x","+x"],a="width"}var c=n.lineHeight,u=c*Math.round(o),d=s[a]+c,h=r[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),o<0&&(u+=""===i.vertical?s.height:s.width,r=r.reverse()),n.move(h,u)}else{var p=n.lineHeight/s.height*100;switch(i.lineAlign){case"middle":o-=p/2;break;case"end":o-=p}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}r=["+y","-x","+x","-y"],n=new qn(t)}var f=function(e,t){for(var n,i=new qn(e),o=1,r=0;r<t.length;r++){for(;e.overlapsOppositeAxis(s,t[r])||e.within(s)&&e.overlapsAny(l);)e.move(t[r]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<o&&(n=new qn(e),o=a),e=new qn(i)}return n||i}(n,r);t.move(f.toCSSCompatValues(s))}function Vn(){}Hn.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},Hn.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Dn.prototype=xn(Hn.prototype)).constructor=Dn,qn.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},qn.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},qn.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},qn.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},qn.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},qn.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},qn.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},qn.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},Vn.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Vn.convertCueToDOMTree=function(e,t){return e&&t?Nn(e,t):null},Vn.processCues=function(i,o,e){if(!i||!o||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var r=i.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",e.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(o)){var a=[],s=qn.getSimpleBoxPosition(r),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var e,t,n=0;n<o.length;n++)t=o[n],e=new Dn(i,t,l),r.appendChild(e.div),zn(0,e,s,a),t.displayState=e.div,a.push(qn.getSimpleBoxPosition(e))}()}else for(var t=0;t<o.length;t++)r.appendChild(o[t].displayState)},(Vn.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof Sn))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,r=this;function n(){for(var e=r.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var o=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Sn(Sn.Errors.BadSignature);r.state="HEADER"}for(var a=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:i=n(),r.state){case"HEADER":/:/.test(i)?(t=i).match(/X-TIMESTAMP-MAP/)?Bn(t,function(e,t){switch(e){case"X-TIMESTAMP-MAP":n=t,i=new Ln,Bn(n,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",In(t))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}var n,i},/=/):Bn(t,function(e,t){switch(e){case"Region":!function(e){var o=new Ln;if(Bn(e,function(e,t){switch(e){case"id":o.set(e,t);break;case"width":o.percent(e,t);break;case"lines":o.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new Ln;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;o.set(e+"X",i.get("x")),o.set(e+"Y",i.get("y"));break;case"scroll":o.alt(e,t,["up"])}},/=/,/\s/),o.has("id")){var t=new(r.vttjs.VTTRegion||r.window.VTTRegion);t.width=o.get("width",100),t.lines=o.get("lines",3),t.regionAnchorX=o.get("regionanchorX",0),t.regionAnchorY=o.get("regionanchorY",100),t.viewportAnchorX=o.get("viewportanchorX",0),t.viewportAnchorY=o.get("viewportanchorY",100),t.scroll=o.get("scroll",""),r.onregion&&r.onregion(t),r.regionList.push({id:o.get("id"),region:t})}}(t)}},/:/):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{Mn(i,r.cue,r.regionList)}catch(e){r.reportOrThrowError(e),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i;continue;case"BADCUE":i||(r.state="ID");continue}}}catch(e){r.reportOrThrowError(e),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Sn(Sn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Un=Vn,Jn="auto",Wn={"":!0,lr:!0,rl:!0},Xn={start:!0,middle:!0,end:!0,left:!0,right:!0};function Gn(e){return"string"==typeof e&&!!Xn[e.toLowerCase()]&&e.toLowerCase()}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function Yn(e,t,n){var i=this,o=/MSIE\s8\.0/.test(navigator.userAgent),r={};o?i=document.createElement("custom"):r.enumerable=!0,i.hasBeenReset=!1;var a="",s=!1,l=e,c=t,u=n,d=null,h="",p=!0,f="auto",m="start",v=50,g="middle",y=50,_="middle";if(Object.defineProperty(i,"id",Kn({},r,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(i,"pauseOnExit",Kn({},r,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(i,"startTime",Kn({},r,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",Kn({},r,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",Kn({},r,{get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",Kn({},r,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",Kn({},r,{get:function(){return h},set:function(e){var t,n="string"==typeof(t=e)&&!!Wn[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",Kn({},r,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",Kn({},r,{get:function(){return f},set:function(e){if("number"!=typeof e&&e!==Jn)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",Kn({},r,{get:function(){return m},set:function(e){var t=Gn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",Kn({},r,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",Kn({},r,{get:function(){return g},set:function(e){var t=Gn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",Kn({},r,{get:function(){return y},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",Kn({},r,{get:function(){return _},set:function(e){var t=Gn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),i.displayState=void 0,o)return i}Yn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var $n=Yn,Qn={"":!0,up:!0};function Zn(e){return"number"==typeof e&&0<=e&&e<=100}var ei=function(){var t=100,n=3,i=0,o=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Zn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Zn(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Zn(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!Zn(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!Zn(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t,n="string"==typeof(t=e)&&!!Qn[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");s=n}}})},ti=t(function(e){var t=e.exports={WebVTT:Un,VTTCue:$n,VTTRegion:ei};p.vttjs=t,p.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,o=p.VTTCue,r=p.VTTRegion;t.shim=function(){p.VTTCue=n,p.VTTRegion=i},t.restore=function(){p.VTTCue=o,p.VTTRegion=r},p.VTTCue||t.shim()}),ni=function(t){function o(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};R(this,o),n.reportTouchActivity=!1;var i=D(this,t.call(this,null,n,e));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Cn.names.forEach(function(e){var t=Cn[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new Cn.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return H(o,t),o.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},o.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(it(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},o.prototype.onDurationChange=function(e){this.duration_=this.duration()},o.prototype.buffered=function(){return kt(0,0)},o.prototype.bufferedPercent=function(){return Et(this.buffered(),this.duration_)},o.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.dispose=function(){this.clearTracks(kn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},o.prototype.clearTracks=function(e){var o=this;(e=[].concat(e)).forEach(function(e){for(var t=o[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&o.removeRemoteTextTrack(i),t.removeTrack(i)}})},o.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},o.prototype.reset=function(){},o.prototype.error=function(e){return void 0!==e&&(this.error_=new Mt(e),this.trigger("error")),this.error_},o.prototype.played=function(){return this.hasStarted_?kt(0,0):kt()},o.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.initTrackListeners=function(){var o=this;kn.names.forEach(function(e){var t=kn[e],n=function(){o.trigger(e+"trackchange")},i=o[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),o.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},o.prototype.addWebVttScript_=function(){var e=this;if(!p.WebVTT)if(f.body.contains(this.el())){if(!this.options_["vtt.js"]&&X(ti)&&0<Object.keys(ti).length)return void this.trigger("vttjsloaded");var t=f.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),p.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},o.prototype.emulateTextTracks=function(){var e=this,n=this.textTracks(),t=this.remoteTextTracks(),i=function(e){return n.addTrack(e.track)},o=function(e){return n.removeTrack(e.track)};t.on("addtrack",i),t.on("removetrack",o),this.addWebVttScript_();var r=function(){return e.trigger("texttrackchange")},a=function(){r();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",r),"showing"===t.mode&&t.addEventListener("cuechange",r)}};a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",o),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",r)})},o.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=e.textTracks();o.kind=t,n&&(o.label=n),i&&(o.language=i),o.tech=e;var a=new Cn.text.TrackClass(o);return r.addTrack(a),a}(this,e,t,n)},o.prototype.createRemoteTextTrack=function(e){var t=_t(e,{tech:this});return new En.remoteTextEl.TrackClass(t)},o.prototype.addRemoteTextTrack=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(Q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(i.track)}),i},o.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},o.prototype.getVideoPlaybackQuality=function(){return{}},o.prototype.setPoster=function(){},o.prototype.playsinline=function(){},o.prototype.setPlaysinline=function(){},o.prototype.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(e,t){return o.canPlayType(e.type)},o.isTech=function(e){return e.prototype instanceof o||e instanceof o||e===o},o.registerTech=function(e,t){if(o.techs_||(o.techs_={}),!o.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=yt(e),o.techs_[e]=t,"Tech"!==e&&o.defaultTechOrder_.push(e),t},o.getTech=function(e){if(e)return e=yt(e),o.techs_&&o.techs_[e]?o.techs_[e]:p&&p.videojs&&p.videojs[e]?(Q.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),p.videojs[e]):void 0},o}(bt);Cn.names.forEach(function(e){var t=Cn[e];ni.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),ni.prototype.featuresVolumeControl=!0,ni.prototype.featuresFullscreenResize=!1,ni.prototype.featuresPlaybackRate=!1,ni.prototype.featuresProgressEvents=!1,ni.prototype.featuresSourceset=!1,ni.prototype.featuresTimeupdateEvents=!1,ni.prototype.featuresNativeTextTracks=!1,ni.withSourceHandlers=function(o){o.registerSourceHandler=function(e,t){var n=o.sourceHandlers;n||(n=o.sourceHandlers=[]),void 0===t&&(t=n.length),n.splice(t,0,e)},o.canPlayType=function(e){for(var t=o.sourceHandlers||[],n=void 0,i=0;i<t.length;i++)if(n=t[i].canPlayType(e))return n;return""},o.selectSourceHandler=function(e,t){for(var n=o.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},o.canPlaySource=function(e,t){var n=o.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},o.prototype),o.prototype.setSource=function(e){var t=o.selectSourceHandler(e,this.options_);t||(o.nativeSourceHandler?t=o.nativeSourceHandler:Q.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==o.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},o.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},bt.registerComponent("Tech",ni),ni.registerTech("Tech",ni),ni.defaultTechOrder_=[];var ii={},oi={},ri={};function ai(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o="call"+yt(n),r=e.reduce(ui(o),i),a=r===ri,s=a?null:t[n](r);return function(e,t,n,i){for(var o=e.length-1;0<=o;o--){var r=e[o];r[t]&&r[t](i,n)}}(e,n,s,a),s}var si={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},li={setCurrentTime:1},ci={play:1,pause:1};function ui(n){return function(e,t){return e===ri?ri:t[n]?t[n](e):e}}var di={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};function hi(e){var t=Zt(e.src),n=di[t.toLowerCase()];return!e.type&&n&&(e.type=n),e}var pi=function(c){function u(e,t,n){R(this,u);var i=_t({createEl:!1},t),o=D(this,c.call(this,e,i,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var r=0,a=t.playerOptions.techOrder;r<a.length;r++){var s=yt(a[r]),l=ni.getTech(s);if(s||(l=bt.getComponent(s)),l&&l.isSupported()){e.loadTech_(s);break}}return o}return H(u,c),u}(bt);bt.registerComponent("MediaLoader",pi);var fi=function(o){function i(e,t){R(this,i);var n=D(this,o.call(this,e,t));return n.emitTapEvents(),n.enable(),n}return H(i,o),i.prototype.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=J({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Q.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=J({role:"button","aria-live":"polite"},n),this.tabIndex_=t.tabIndex;var i=o.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},i.prototype.dispose=function(){this.controlTextEl_=null,o.prototype.dispose.call(this)},i.prototype.createControlTextEl=function(e){return this.controlTextEl_=le("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,ce(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},i.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+o.prototype.buildCSSClass.call(this)},i.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},i.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},i.prototype.handleClick=function(e){},i.prototype.handleFocus=function(e){We(f,"keydown",it(this,this.handleKeyPress))},i.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):o.prototype.handleKeyPress&&o.prototype.handleKeyPress.call(this,e)},i.prototype.handleBlur=function(e){Xe(f,"keydown",it(this,this.handleKeyPress))},i}(bt);bt.registerComponent("ClickableComponent",fi);var mi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.update(),e.on("posterchange",it(n,n.update)),n}return H(o,i),o.prototype.dispose=function(){this.player().off("posterchange",this.update),i.prototype.dispose.call(this)},o.prototype.createEl=function(){var e=le("div",{className:"vjs-poster",tabIndex:-1});return F||(this.fallbackImg_=le("img"),e.appendChild(this.fallbackImg_)),e},o.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},o.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},o.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},o}(fi);bt.registerComponent("PosterImage",mi);var vi="#222",gi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function yi(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function _i(e,t,n){try{e.style[t]=n}catch(e){return}}var bi=function(o){function r(n,e,t){R(this,r);var i=D(this,o.call(this,n,e,t));return n.on("loadstart",it(i,i.toggleDisplay)),n.on("texttrackchange",it(i,i.updateDisplay)),n.on("loadstart",it(i,i.preselectTrack)),n.ready(it(i,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",it(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),i}return H(r,o),r.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,o=void 0,r=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?r=s:r||(r=s):n&&!n.enabled?o=i=r=null:s.default&&("descriptions"!==s.kind||i?s.kind in e&&!o&&(o=s):i=s)}r?r.mode="showing":o?o.mode="showing":i&&(i.mode="showing")},r.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},r.prototype.clearDisplay=function(){"function"==typeof p.WebVTT&&p.WebVTT.processCues(p,[],this.el_)},r.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,i=e.length;i--;){var o=e[i];"showing"===o.mode&&("descriptions"===o.kind?t=o:n=o)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},r.prototype.updateForTrack=function(e){if("function"==typeof p.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(p.WebVTT.processCues(p,t,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),o=t.length;o--;){var r=t[o];if(r){var a=r.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&_i(a.firstChild,"color",yi(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&_i(a.firstChild,"backgroundColor",yi(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?_i(a,"backgroundColor",yi(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+vi:"raised"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+vi:"depressed"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+vi:"uniform"===i.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+vi)),i.fontPercent&&1!==i.fontPercent){var s=p.parseFloat(a.style.fontSize);a.style.fontSize=s*i.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=gi[i.fontFamily])}}}},r}(bt);bt.registerComponent("TextTrackDisplay",bi);var wi=function(o){function e(){return R(this,e),D(this,o.apply(this,arguments))}return H(e,o),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=le("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),i=o.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},e}(bt);bt.registerComponent("LoadingSpinner",wi);var Ti=function(t){function e(){return R(this,e),D(this,t.apply(this,arguments))}return H(e,t),e.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=J({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=J({type:"button","aria-live":"polite"},n);var i=bt.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},e.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return Q.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),bt.prototype.addChild.call(this,e,t)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(fi);bt.registerComponent("Button",Ti);var ki=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-big-play-button"},o.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var o=function(){return i.focus()};Ot(t)?t.then(o,function(){}):this.setTimeout(o,1)}else this.player_.focus()}},o.prototype.handleKeyPress=function(e){this.mouseused_=!1,i.prototype.handleKeyPress.call(this,e)},o.prototype.handleMouseDown=function(e){this.mouseused_=!0},o}(Ti);ki.prototype.controlText_="Play Video",bt.registerComponent("BigPlayButton",ki);var Ei=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Close")),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},o}(Ti);bt.registerComponent("CloseButton",Ei);var Ci=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),n.on(e,"ended",n.handleEnded),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},o.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},o.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},o.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},o}(Ti);Ci.prototype.controlText_="Play",bt.registerComponent("PlayToggle",Ci);var xi=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),r=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=i=n="-"),(o=0<o||0<a?o+":":"")+(i=((o||10<=r)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},Si=xi,Ii=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e;return Si(e,t)},Li=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.throttledUpdateContent=ot(it(n,n.updateContent),25),n.on(e,"timeupdate",n.throttledUpdateContent),n}return H(o,i),o.prototype.createEl=function(e){var t=this.buildCSSClass(),n=i.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"});return this.contentEl_=le("div",{className:t+"-display"},{"aria-live":"off"},le("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)})),this.updateTextNode_(),n.appendChild(this.contentEl_),n},o.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,i.prototype.dispose.call(this)},o.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=f.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},o.prototype.formatTime_=function(e){return Ii(e)},o.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},o.prototype.updateContent=function(e){},o}(bt);Li.prototype.controlText_="Time",bt.registerComponent("TimeDisplay",Li);var Bi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on(e,"ended",n.handleEnded),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-current-time"},o.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},o.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},o}(Li);Bi.prototype.controlText_="Current Time",bt.registerComponent("CurrentTimeDisplay",Bi);var Mi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on(e,"durationchange",n.updateContent),n.on(e,"loadedmetadata",n.throttledUpdateContent),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-duration"},o.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},o}(Li);Mi.prototype.controlText_="Duration Time",bt.registerComponent("DurationDisplay",Mi);var Ai=function(e){function t(){return R(this,t),D(this,e.apply(this,arguments))}return H(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(bt);bt.registerComponent("TimeDivider",Ai);var Oi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on(e,"durationchange",n.throttledUpdateContent),n.on(e,"ended",n.handleEnded),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-remaining-time"},o.prototype.formatTime_=function(e){return"-"+i.prototype.formatTime_.call(this,e)},o.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},o.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},o}(Li);Oi.prototype.controlText_="Remaining Time",bt.registerComponent("RemainingTimeDisplay",Oi);var ji=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return H(o,i),o.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=le("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},o.prototype.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},o.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},o}(bt);bt.registerComponent("LiveDisplay",ji);var Fi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}return H(o,i),o.prototype.enabled=function(){return this.enabled_},o.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},o.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},o.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=J({tabIndex:0},t),n=J({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),i.prototype.createEl.call(this,e,t,n)},o.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),be(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},o.prototype.handleMouseMove=function(e){},o.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;we(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},o.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style;return this.vertical()?i.height=n:i.width=n,e}}},o.prototype.calculateDistance=function(e){var t=Ee(this.el_,e);return this.vertical()?t.y:t.x},o.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},o.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},o.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},o.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},o.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},o}(bt);bt.registerComponent("Slider",Fi);var Ni=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.partEls_=[],n.on(e,"progress",n.update),n}return H(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},o.prototype.dispose=function(){this.partEls_=null,i.prototype.dispose.call(this)},o.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,r=function(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.el_.style.width=r(i,n);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),c=o[a];c||(c=this.el_.appendChild(le()),o[a]=c),c.style.left=r(s,i),c.style.width=r(l-s,i)}for(var u=o.length;u>t.length;u--)this.el_.removeChild(o[u-1]);o.length=t.length},o}(bt);bt.registerComponent("LoadProgressBar",Ni);var Pi=function(e){function t(){return R(this,t),D(this,e.apply(this,arguments))}return H(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var i=Te(this.el_),o=Te(this.player_.el()),r=e.width*t;if(o&&i){var a=e.left-o.left+r,s=e.width-r+(o.right-e.right),l=i.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",ce(this.el_,n)}},t}(bt);bt.registerComponent("TimeTooltip",Pi);var Ri=function(e){function t(){return R(this,t),D(this,e.apply(this,arguments))}return H(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(i,o){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),t=Ii(e,r.player_.duration()),n=r.getChild("timeTooltip");n&&n.update(i,o,t)})},t}(bt);Ri.prototype.options_={children:[]},M&&!(8<M)||b||T||Ri.prototype.options_.children.push("timeTooltip"),bt.registerComponent("PlayProgressBar",Ri);var Hi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.update=ot(it(n,n.update),25),n}return H(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.prototype.update=function(n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=o.player_.duration(),t=Ii(i*e,e);o.el_.style.left=n.width*i+"px",o.getChild("timeTooltip").update(n,i,t)})},o}(bt);Hi.prototype.options_={children:["timeTooltip"]},bt.registerComponent("MouseTimeDisplay",Hi);var Di=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.setEventHandlers_(),n}return H(o,i),o.prototype.setEventHandlers_=function(){var e=this;this.update=ot(it(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},o.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ii(e,n),Ii(n,n)],"{1} of {2}")),this.bar.update(Te(this.el_),t)},o.prototype.update=function(e){var t=i.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},o.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},o.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},o.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return 1<=e?1:e},o.prototype.handleMouseDown=function(e){Be(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,e))},o.prototype.handleMouseMove=function(e){if(Be(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},o.prototype.enable=function(){i.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},o.prototype.disable=function(){i.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},o.prototype.handleMouseUp=function(e){i.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&jt(this.player_.play())},o.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},o.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},o.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):i.prototype.handleKeyPress&&i.prototype.handleKeyPress.call(this,e)},o}(Fi);Di.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},M&&!(8<M)||b||T||Di.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Di.prototype.playerEvent="timeupdate",bt.registerComponent("SeekBar",Di);var qi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.handleMouseMove=ot(it(n,n.handleMouseMove),25),n.throttledHandleMouseSeek=ot(it(n,n.handleMouseSeek),25),n.enable(),n}return H(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},o.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),i=t.el(),o=Te(i),r=Ee(i,e).x;1<r?r=1:r<0&&(r=0),n&&n.update(o,r)}},o.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},o.prototype.enabled=function(){return this.enabled_},o.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},o.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},o.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},o}(bt);qi.prototype.options_={children:["seekBar"]},bt.registerComponent("ProgressControl",qi);var zi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on(e,"fullscreenchange",n.handleFullscreenChange),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},o.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},o}(Ti);zi.prototype.controlText_="Fullscreen",bt.registerComponent("FullscreenToggle",zi);var Vi=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Ui=function(e){function t(){return R(this,t),D(this,e.apply(this,arguments))}return H(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(bt);bt.registerComponent("VolumeLevel",Ui);var Ji=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}return H(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},o.prototype.handleMouseDown=function(e){Be(e)&&i.prototype.handleMouseDown.call(this,e)},o.prototype.handleMouseMove=function(e){Be(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},o.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},o.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},o.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},o.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},o.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},o.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},o.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},o}(Fi);Ji.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ji.prototype.playerEvent="volumechange",bt.registerComponent("VolumeBar",Ji);var Wi=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R(this,o),t.vertical=t.vertical||!1,(void 0===t.volumeBar||X(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical);var n=D(this,i.call(this,e,t));return Vi(n,e),n.throttledHandleMouseMove=ot(it(n,n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}return H(o,i),o.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},o.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},o}(bt);Wi.prototype.options_={children:["volumeBar"]},bt.registerComponent("VolumeControl",Wi);var Xi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return Vi(n,e),n.on(e,["loadstart","volumechange"],n.update),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},o.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},o.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)pe(this.el_,"vjs-vol-"+n);he(this.el_,"vjs-vol-"+t)},o.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},o}(Ti);Xi.prototype.controlText_="Mute",bt.registerComponent("MuteToggle",Xi);var Gi=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R(this,o),void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||X(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline);var n=D(this,i.call(this,e,t));return Vi(n,e),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}return H(o,i),o.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},o.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},o.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},o}(bt);Gi.prototype.options_={children:["muteToggle","volumeControl"]},bt.registerComponent("VolumePanel",Gi);var Ki=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return H(o,i),o.prototype.addItem=function(t){this.addChild(t),t.on("click",it(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},o.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=le(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),We(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},o.prototype.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},o.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},o.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},o.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},o.prototype.focus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},o}(bt);bt.registerComponent("Menu",Ki);var Yi=function(o){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R(this,r);var n=D(this,o.call(this,e,t));n.menuButton_=new Ti(e,t),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Ti.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}return H(r,o),r.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.prototype.createMenu=function(){var e=new Ki(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=le("li",{className:"vjs-menu-title",innerHTML:yt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),ue(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},r.prototype.createItems=function(){},r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+Ti.prototype.buildCSSClass()+" "+o.prototype.buildCSSClass.call(this)},r.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+o.prototype.buildCSSClass.call(this)},r.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},r.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",it(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},r.prototype.focus=function(){this.menuButton_.focus()},r.prototype.blur=function(){this.menuButton_.blur()},r.prototype.handleFocus=function(){We(f,"keydown",it(this,this.handleKeyPress))},r.prototype.handleBlur=function(){Xe(f,"keydown",it(this,this.handleKeyPress))},r.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},r.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},r.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),b&&ae())return;this.menu.focus()}},r.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},r}(bt);bt.registerComponent("MenuButton",Yi);var $i=function(r){function a(e,t){R(this,a);var n=t.tracks,i=D(this,r.call(this,e,t));if(i.items.length<=1&&i.hide(),!n)return D(i);var o=it(i,i.update);return n.addEventListener("removetrack",o),n.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",function(){n.removeEventListener("removetrack",o),n.removeEventListener("addtrack",o)}),i}return H(a,r),a}(Yi);bt.registerComponent("TrackButton",$i);var Qi=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.selectable=t.selectable,n.isSelected_=t.selected||!1,n.selected(n.isSelected_),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}return H(o,i),o.prototype.createEl=function(e,t,n){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",J({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),n)},o.prototype.handleClick=function(e){this.selected(!0)},o.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},o}(fi);bt.registerComponent("MenuItem",Qi);var Zi=function(l){function c(e,t){R(this,c);var n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode;var o=D(this,l.call(this,e,t));o.track=n;var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,t)};if(e.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",a),o.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",a)}),void 0===i.onchange){var s=void 0;o.on(["tap","click"],function(){if("object"!==P(p.Event))try{s=new p.Event("change")}catch(e){}s||(s=f.createEvent("Event")).initEvent("change",!0,!0),i.dispatchEvent(s)})}return o.handleTracksChange(),o}return H(c,l),c.prototype.handleClick=function(e){var t=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[t]),l.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var r=i[o];r===this.track&&-1<n.indexOf(r.kind)?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled")}},c.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},c.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},c.prototype.dispose=function(){this.track=null,l.prototype.dispose.call(this)},c}(Qi);bt.registerComponent("TextTrackMenuItem",Zi);var eo=function(n){function i(e,t){return R(this,i),t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,D(this,n.call(this,e,t))}return H(i,n),i.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},i.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(Zi);bt.registerComponent("OffTextTrackMenuItem",eo);var to=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return R(this,i),t.tracks=e.textTracks(),D(this,n.call(this,e,t))}return H(i,n),i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Zi,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new eo(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var r=i[o];if(-1<this.kinds_.indexOf(r.kind)){var a=new t(this.player_,{track:r,selectable:!0});a.addClass("vjs-"+r.kind+"-menu-item"),e.push(a)}}return e},i}($i);bt.registerComponent("TextTrackButton",to);var no=function(a){function s(e,t){R(this,s);var n=t.track,i=t.cue,o=e.currentTime();t.selectable=!0,t.label=i.text,t.selected=i.startTime<=o&&o<i.endTime;var r=D(this,a.call(this,e,t));return r.track=n,r.cue=i,n.addEventListener("cuechange",it(r,r.update)),r}return H(s,a),s.prototype.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},s}(Qi);bt.registerComponent("ChaptersTrackMenuItem",no);var io=function(i){function o(e,t,n){return R(this,o),D(this,i.call(this,e,t,n))}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),i.prototype.update.call(this)},o.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},o.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},o.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(yt(this.kind_))},o.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),i.prototype.createMenu.call(this)},o.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var o=t[n],r=new no(this.player_,{track:this.track_,cue:o});e.push(r)}return e},o}(to);io.prototype.kind_="chapters",io.prototype.controlText_="Chapters",bt.registerComponent("ChaptersButton",io);var oo=function(a){function s(e,t,n){R(this,s);var i=D(this,a.call(this,e,t,n)),o=e.textTracks(),r=it(i,i.handleTracksChange);return o.addEventListener("change",r),i.on("dispose",function(){o.removeEventListener("change",r)}),i}return H(s,a),s.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,o=t.length;i<o;i++){var r=t[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},s.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},s}(to);oo.prototype.kind_="descriptions",oo.prototype.controlText_="Descriptions",bt.registerComponent("DescriptionsButton",oo);var ro=function(i){function o(e,t,n){return R(this,o),D(this,i.call(this,e,t,n))}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},o}(to);ro.prototype.kind_="subtitles",ro.prototype.controlText_="Subtitles",bt.registerComponent("SubtitlesButton",ro);var ao=function(i){function o(e,t){R(this,o),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";var n=D(this,i.call(this,e,t));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}return H(o,i),o.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},o}(Zi);bt.registerComponent("CaptionSettingsMenuItem",ao);var so=function(i){function o(e,t,n){return R(this,o),D(this,i.call(this,e,t,n))}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new ao(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e)},o}(to);so.prototype.kind_="captions",so.prototype.controlText_="Captions",bt.registerComponent("CaptionsButton",so);var lo=function(o){function e(){return R(this,e),D(this,o.apply(this,arguments))}return H(e,o),e.prototype.createEl=function(e,t,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",o.prototype.createEl.call(this,e,J({innerHTML:i},t),n)},e}(Zi);bt.registerComponent("SubsCapsMenuItem",lo);var co=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R(this,o);var n=D(this,i.call(this,e,t));return n.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(yt(n.label_)),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new ao(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e,lo)},o}(to);co.prototype.kinds_=["captions","subtitles"],co.prototype.controlText_="Subtitles",bt.registerComponent("SubsCapsButton",co);var uo=function(a){function s(e,t){R(this,s);var n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled;var o=D(this,a.call(this,e,t));o.track=n;var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)};return i.addEventListener("change",r),o.on("dispose",function(){i.removeEventListener("change",r)}),o}return H(s,a),s.prototype.handleClick=function(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var i=t[n];i.enabled=i===this.track}},s.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},s}(Qi);bt.registerComponent("AudioTrackMenuItem",uo);var ho=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return R(this,i),t.tracks=e.audioTracks(),D(this,n.call(this,e,t))}return H(i,n),i.prototype.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new uo(this.player_,{track:i,selectable:!0}))}return e},i}($i);ho.prototype.controlText_="Audio Track",bt.registerComponent("AudioTrackButton",ho);var po=function(r){function a(e,t){R(this,a);var n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=1===i,t.selectable=!0;var o=D(this,r.call(this,e,t));return o.label=n,o.rate=i,o.on(e,"ratechange",o.update),o}return H(a,r),a.prototype.handleClick=function(e){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(Qi);po.prototype.contentElType="button",bt.registerComponent("PlaybackRateMenuItem",po);var fo=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}return H(o,i),o.prototype.createEl=function(){var e=i.prototype.createEl.call(this);return this.labelEl_=le("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},o.prototype.dispose=function(){this.labelEl_=null,i.prototype.dispose.call(this)},o.prototype.buildCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createMenu=function(){var e=new Ki(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new po(this.player(),{rate:t[n]+"x"}));return e},o.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},o.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>t){i=n[o];break}this.player().playbackRate(i)},o.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},o.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},o.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},o.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},o}(Yi);fo.prototype.controlText_="Playback Rate",bt.registerComponent("PlaybackRateMenuButton",fo);var mo=function(e){function t(){return R(this,t),D(this,e.apply(this,arguments))}return H(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(bt);bt.registerComponent("Spacer",mo);var vo=function(t){function e(){return R(this,e),D(this,t.apply(this,arguments))}return H(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(mo);bt.registerComponent("CustomControlSpacer",vo);var go=function(e){function t(){return R(this,t),D(this,e.apply(this,arguments))}return H(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(bt);go.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},bt.registerComponent("ControlBar",go);var yo=function(i){function o(e,t){R(this,o);var n=D(this,i.call(this,e,t));return n.on(e,"error",n.open),n}return H(o,i),o.prototype.buildCSSClass=function(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},o.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},o}(Pt);yo.prototype.options_=_t(Pt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),bt.registerComponent("ErrorDisplay",yo);var _o="vjs-text-track-settings",bo=["#000","Black"],wo=["#00F","Blue"],To=["#0FF","Cyan"],ko=["#0F0","Green"],Eo=["#F0F","Magenta"],Co=["#F00","Red"],xo=["#FFF","White"],So=["#FF0","Yellow"],Io=["1","Opaque"],Lo=["0.5","Semi-Transparent"],Bo=["0","Transparent"],Mo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[bo,xo,Co,ko,wo,So,Eo,To]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Io,Lo,Bo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[xo,bo,Co,ko,wo,So,Eo,To]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Io,Lo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Bo,Lo,Io]}};function Ao(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Mo.windowColor.options=Mo.backgroundColor.options;var Oo=function(i){function o(e,t){R(this,o),t.temporary=!1;var n=D(this,i.call(this,e,t));return n.updateDisplay=it(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=le("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===t.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),U(Mo,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return H(o,i),o.prototype.dispose=function(){this.endDialog=null,i.prototype.dispose.call(this)},o.prototype.createElSelect_=function(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",o=Mo[e],r=o.id.replace("%s",this.id_);return["<"+t+' id="'+r+'" class="'+("label"===t?"vjs-label":"")+'">',this.localize(o.label),"</"+t+">",'<select aria-labelledby="'+(""!==i?i+" ":"")+r+'">'].concat(o.options.map(function(e){var t=r+"-"+e[1];return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+(""!==i?i+" ":"")+r+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},o.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElColors_=function(){return le("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.prototype.createElFont_=function(){return le("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return le("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.prototype.label=function(){return this.localize("Caption Settings Dialog")},o.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.prototype.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.prototype.getValues=function(){var a=this;return function(n,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return V(n).reduce(function(e,t){return i(e,n[t],t)},e)}(Mo,function(e,t,n){var i,o,r=(i=a.$(t.selector),o=t.parser,Ao(i.options[i.options.selectedIndex].value,o));return void 0!==r&&(e[n]=r),e},{})},o.prototype.setValues=function(n){var i=this;U(Mo,function(e,t){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(Ao(e.options[i].value,n)===t){e.selectedIndex=i;break}}(i.$(e.selector),n[t],e.parser)})},o.prototype.setDefaults=function(){var n=this;U(Mo,function(e){var t=e.hasOwnProperty("default")?e.default:0;n.$(e.selector).selectedIndex=t})},o.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(p.localStorage.getItem(_o))}catch(e){Q.warn(e)}e&&this.setValues(e)},o.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?p.localStorage.setItem(_o,JSON.stringify(e)):p.localStorage.removeItem(_o)}catch(e){Q.warn(e)}}},o.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},o.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(f,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},o}(Pt);bt.registerComponent("TextTrackSettings",Oo);var jo=function(r){function a(e,t){R(this,a);var n=t.ResizeObserver||p.ResizeObserver;null===t.ResizeObserver&&(n=!1);var i=_t({createEl:!n},t),o=D(this,r.call(this,e,i));return o.ResizeObserver=t.ResizeObserver||p.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=rt(function(){o.resizeHandler()},100,!1,e),n?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(e.el())):(o.loadListener_=function(){o.el_.contentWindow&&We(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return H(a,r),a.prototype.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},a.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},a.prototype.dispose=function(){this.resizeObserver_&&(this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Xe(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},a}(bt);bt.registerComponent("ResizeManager",jo);var Fo=function(e){var t=e.el();if(t.src)return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],o="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return i.length?(1===i.length&&(o=i[0]),e.triggerSourceset(o),!0):void 0},No=function(n){var i=n.el();if(!i.firstSourceWatch_){i.firstSourceWatch_=!0;var o,e,t,r=i.append,a=i.appendChild,s=i.insertAdjacentHTML,l=(o=i,e=p.Element.prototype,t={},Object.getOwnPropertyDescriptor(o,"innerHTML")?t=Object.getOwnPropertyDescriptor(o,"innerHTML"):Object.getOwnPropertyDescriptor(e,"innerHTML")&&(t=Object.getOwnPropertyDescriptor(e,"innerHTML")),t.get||(t.get=function(){return o.cloneNode().innerHTML}),t.set||(t.set=function(e){o.innerText="";var t=f.createElement(o.nodeName.toLowerCase());t.innerHTML=e;for(var n=f.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return p.Element.prototype.appendChild.call(o,n),o.innerHTML}),void 0===t.enumerable&&(t.enumerable=!0),t.configurable=!0,t);i.appendChild=function(){var e=a.apply(i,arguments);return Fo(n),e},r&&(i.append=function(){var e=r.apply(i,arguments);return Fo(n),e}),s&&(i.insertAdjacentHTML=function(){var e=s.apply(i,arguments);return Fo(n),e}),Object.defineProperty(i,"innerHTML",{get:l.get.bind(i),set:function(e){var t=l.set.call(i,e);return Fo(n),t},configurable:!0,enumerable:l.enumerable}),n.one("sourceset",function(e){i.firstSourceWatch_=!1,i.appendChild=a,r&&(i.append=r),s&&(i.insertAdjacentHTML=s),Object.defineProperty(i,"innerHTML",l)})}},Po=q(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Ro=function(u){function d(e,t){R(this,d);var n=D(this,u.call(this,e,t));e.enableSourceset&&n.setupSourcesetHandling_();var i=e.source,o=!1;if(i&&(n.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),n.el_.hasChildNodes()){for(var r=n.el_.childNodes,a=r.length,s=[];a--;){var l=r[a];"track"===l.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(l),n.remoteTextTracks().addTrack(l.track),n.textTracks().addTrack(l.track),o||n.el_.hasAttribute("crossorigin")||!en(l.src)||(o=!0)):s.push(l))}for(var c=0;c<s.length;c++)n.el_.removeChild(s[c])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&Q.warn(Z(Po)),n.restoreMetadataTracksInIOSNativePlayer_(),(j||y||C)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}return H(d,u),d.prototype.dispose=function(){d.disposeMediaElement(this.el_),this.options_=null,u.prototype.dispose.call(this)},d.prototype.setupSourcesetHandling_=function(){!function(i){if(i.featuresSourceset){var o=i.el();if(!o.setupSourceset_){o.setupSourceset_=!0;var t,n,e,r=(t=o,n=p.HTMLMediaElement.prototype,e={},Object.getOwnPropertyDescriptor(t,"src")?e=Object.getOwnPropertyDescriptor(t,"src"):Object.getOwnPropertyDescriptor(n,"src")&&(e=_t(e,Object.getOwnPropertyDescriptor(n,"src"))),e.get||(e.get=function(){return n.getAttribute.call(t,"src")}),e.set||(e.set=function(e){return n.setAttribute.call(t,"src",e)}),void 0===e.enumerable&&(e.enumerable=!0),e.configurable=!0,e),a=o.setAttribute,s=o.load;(o.src||o.currentSrc&&3!==o.initNetworkState_)&&(o.currentSrc?i.triggerSourceset(o.currentSrc):Fo(i)),o.src||o.currentSrc||i.$$("source").length||No(i),Object.defineProperty(o,"src",{get:r.get.bind(o),set:function(e){var t=r.set.call(o,e);return i.triggerSourceset(o.src),t},configurable:!0,enumerable:r.enumerable}),o.setAttribute=function(e,t){var n=a.call(o,e,t);return"src"===e&&i.triggerSourceset(o.getAttribute("src")),n},o.load=function(){var e=s.call(o);return Fo(i)||No(i),e}}}}(this)},d.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),o=void 0,e=function(){o=[];for(var e=0;e<i.length;e++){var t=i[e];"metadata"===t.kind&&o.push({track:t,storedMode:t.mode})}};e(),i.addEventListener("change",e),this.on("dispose",function(){return i.removeEventListener("change",e)});var t=function e(){for(var t=0;t<o.length;t++){var n=o[t];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}i.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",e),i.removeEventListener("change",t),i.addEventListener("change",t)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",e),i.addEventListener("change",e),i.removeEventListener("change",t)})},d.prototype.proxyNativeTracks_=function(){var a=this;kn.names.forEach(function(e){var t=kn[e],o=a.el()[t.getterName],r=a[t.getterName]();if(a["featuresNative"+t.capitalName+"Tracks"]&&o&&o.addEventListener){var i={change:function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},n=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,i=0;i<o.length;i++)if(o[i]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};Object.keys(i).forEach(function(t){var n=i[t];o.addEventListener(t,n),a.on("dispose",function(e){return o.removeEventListener(t,n)})}),a.on("loadstart",n),a.on("dispose",function(e){return a.off("loadstart",n)})}})},d.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),d.disposeMediaElement(e),e=t}else{e=f.createElement("video");var n=_t({},this.options_.tag&&ve(this.options_.tag));j&&!0===this.options_.nativeControlsForTouch||delete n.controls,me(e,J(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&ye(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var r=i[o],a=this.options_[r];void 0!==a&&(a?ye(e,r,r):_e(e,r),e[r]=a)}return e},d.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),2<=e.readyState&&o.push("loadeddata"),3<=e.readyState&&o.push("canplay"),4<=e.readyState&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(e){this.trigger(e)},this)})}},d.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){Q(e,"Video is not ready. (Video.js)")}},d.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&T&&I&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},d.prototype.width=function(){return this.el_.offsetWidth},d.prototype.height=function(){return this.el_.offsetHeight},d.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},d.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=p.navigator&&p.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},d.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},d.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},d.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},d.prototype.reset=function(){d.resetMediaElement(this.el_)},d.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},d.prototype.setControls=function(e){this.el_.controls=!!e},d.prototype.addTextTrack=function(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):u.prototype.addTextTrack.call(this,e,t,n)},d.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return u.prototype.createRemoteTextTrack.call(this,e);var t=f.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},d.prototype.addRemoteTextTrack=function(e,t){var n=u.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},d.prototype.removeRemoteTextTrack=function(e){if(u.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},d.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),p.performance&&"function"==typeof p.performance.now?e.creationTime=p.performance.now():p.performance&&p.performance.timing&&"number"==typeof p.performance.timing.navigationStart&&(e.creationTime=p.Date.now()-p.performance.timing.navigationStart),e},d}(ni);if(oe()){Ro.TEST_VID=f.createElement("video");var Ho=f.createElement("track");Ho.kind="captions",Ho.srclang="en",Ho.label="English",Ro.TEST_VID.appendChild(Ho)}Ro.isSupported=function(){try{Ro.TEST_VID.volume=.5}catch(e){return!1}return!(!Ro.TEST_VID||!Ro.TEST_VID.canPlayType)},Ro.canPlayType=function(e){return Ro.TEST_VID.canPlayType(e)},Ro.canPlaySource=function(e,t){return Ro.canPlayType(e.type)},Ro.canControlVolume=function(){try{var e=Ro.TEST_VID.volume;return Ro.TEST_VID.volume=e/2+.1,e!==Ro.TEST_VID.volume}catch(e){return!1}},Ro.canControlPlaybackRate=function(){if(T&&I&&L<58)return!1;try{var e=Ro.TEST_VID.playbackRate;return Ro.TEST_VID.playbackRate=e/2+.1,e!==Ro.TEST_VID.playbackRate}catch(e){return!1}},Ro.canOverrideAttributes=function(){if(B)return!1;try{var e=function(){};Object.defineProperty(f.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(f.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(f.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(f.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Ro.supportsNativeTextTracks=function(){return O},Ro.supportsNativeVideoTracks=function(){return!(!Ro.TEST_VID||!Ro.TEST_VID.videoTracks)},Ro.supportsNativeAudioTracks=function(){return!(!Ro.TEST_VID||!Ro.TEST_VID.audioTracks)},Ro.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Ro.prototype.featuresVolumeControl=Ro.canControlVolume(),Ro.prototype.featuresPlaybackRate=Ro.canControlPlaybackRate(),Ro.prototype.featuresSourceset=Ro.canOverrideAttributes(),Ro.prototype.movingMediaElementInDOM=!b,Ro.prototype.featuresFullscreenResize=!0,Ro.prototype.featuresProgressEvents=!0,Ro.prototype.featuresTimeupdateEvents=!0,Ro.prototype.featuresNativeTextTracks=Ro.supportsNativeTextTracks(),Ro.prototype.featuresNativeVideoTracks=Ro.supportsNativeVideoTracks(),Ro.prototype.featuresNativeAudioTracks=Ro.supportsNativeAudioTracks();var Do=Ro.TEST_VID&&Ro.TEST_VID.constructor.prototype.canPlayType,qo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,zo=/^video\/mp4/i;Ro.patchCanPlayType=function(){4<=k&&!x&&!I?Ro.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&qo.test(e)?"maybe":Do.call(this,e)}:E&&(Ro.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&zo.test(e)?"maybe":Do.call(this,e)})},Ro.unpatchCanPlayType=function(){var e=Ro.TEST_VID.constructor.prototype.canPlayType;return Ro.TEST_VID.constructor.prototype.canPlayType=Do,e},Ro.patchCanPlayType(),Ro.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Ro.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Ro.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ro.prototype["set"+yt(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Ro.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Ro.prototype["set"+yt(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){Ro.prototype[e]=function(){return this.el_[e]()}}),ni.withSourceHandlers(Ro),Ro.nativeSourceHandler={},Ro.nativeSourceHandler.canPlayType=function(e){try{return Ro.TEST_VID.canPlayType(e)}catch(e){return""}},Ro.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Ro.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Zt(e.src);return Ro.nativeSourceHandler.canPlayType("video/"+n)}return""},Ro.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Ro.nativeSourceHandler.dispose=function(){},Ro.registerSourceHandler(Ro.nativeSourceHandler),ni.registerTech("Html5",Ro);var Vo=q(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Uo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Jo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Wo=function(u){function d(e,t,n){if(R(this,d),e.id=e.id||t.id||"vjs_video_"+Fe(),(t=J(d.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var i=e.closest("[lang]");i&&i.getAttribute&&(t.language=i.getAttribute("lang"))}else for(var o=e;o&&1===o.nodeType;){if(ve(o).hasOwnProperty("lang")){t.language=o.getAttribute("lang");break}o=o.parentNode}var r=D(this,u.call(this,null,t,n));if(r.isPosterFromTech_=!1,r.queuedCallbacks_=[],r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(r.tag=e,r.tagAttributes=e&&ve(e),r.language(r.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),r.languages_=a}else r.languages_=d.prototype.options_.languages;r.cache_={},r.poster_=t.poster||"",r.controls_=!!t.controls,r.cache_.lastVolume=1,e.controls=!1,e.removeAttribute("controls"),r.scrubbing_=!1,r.el_=r.createEl(),r.cache_.lastPlaybackRate=r.defaultPlaybackRate(),mt(r,{eventBusKey:"el_"});var s=_t(r.options_);if(t.plugins){var l=t.plugins;Object.keys(l).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](l[e])},r)}r.options_.playerOptions=s,r.middleware_=[],r.initChildren(),r.isAudio("audio"===e.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),b||r.addClass("vjs-workinghover"),d.players[r.id_]=r;var c=h.split(".")[0];return r.addClass("vjs-v"+c),r.userActive(!0),r.reportUserActivity(),r.one("play",r.listenForUserActivity_),r.on("fullscreenchange",r.handleFullscreenChange_),r.on("stageclick",r.handleStageClick_),r.changingSrc_=!1,r.playWaitingForReady_=!1,r.playOnLoadstart_=null,r}return H(d,u),d.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),d.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),oi[this.id()]=null,u.prototype.dispose.call(this)},d.prototype.createEl=function(){var t=this.tag,n=void 0,e=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();e?n=this.el_=t.parentNode:i||(n=this.el_=u.prototype.createEl.call(this,"div"));var o=ve(t);if(i){for(n=this.el_=t,t=this.tag=f.createElement("video");n.children.length;)t.appendChild(n.firstChild);de(n,"video-js")||he(n,"video-js"),n.appendChild(t),e=this.playerElIngest_=n}if(t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(e){"class"===e?(n.className+=" "+o[e],i&&(t.className+=" "+o[e])):(n.setAttribute(e,o[e]),i&&t.setAttribute(e,o[e]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==p.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tt("vjs-styles-dimensions");var r=Me(".vjs-styles-defaults"),a=Me("head");a.insertBefore(this.styleEl_,r?r.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),l=0;l<s.length;l++){var c=s.item(l);he(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!e&&t.parentNode.insertBefore(n,t),ue(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n},d.prototype.width=function(e){return this.dimension("width",e)},d.prototype.height=function(e){return this.dimension("height",e)},d.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?Q.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},d.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},d.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},d.prototype.updateStyleEl_=function(){if(!0!==p.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),nt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var r="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=r&&(s.width=r),0<=a&&(s.height=a))}},d.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=yt(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(ni.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Cn.names.forEach(function(e){var t=Cn[e];r[t.getterName]=n[t.privateName]}),J(r,this.options_[i]),J(r,this.options_[o]),J(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime);var a,s,l=ni.getTech(e);if(!l)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new l(r),this.tech_.ready(it(this,this.handleTechReady_),!0),a=this.textTracksJson_||[],s=this.tech_,a.forEach(function(e){var t=s.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),s.textTracks(),Uo.forEach(function(e){n.on(n.tech_,e,n["handleTech"+yt(e)+"_"])}),Object.keys(Jo).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Jo[t]+"_"].bind(n),event:e}):n["handleTech"+Jo[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||ue(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},d.prototype.unloadTech_=function(){var e,t,n,i=this;Cn.names.forEach(function(e){var t=Cn[e];i[t.privateName]=i[t.getterName]()}),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),Array.prototype.map.call(t,function(e){var t=Ft(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Ft))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},d.prototype.tech=function(e){return void 0===e&&Q.warn(Z(Vo)),this.tech_},d.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},d.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},d.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){Q("deleting tag.poster throws in some browsers",e)}},d.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},d.prototype.handleTechSourceset_=function(e){this.trigger({src:e.src,type:"sourceset"})},d.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},d.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},d.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},d.prototype.handleTechWaiting_=function(){var e=this;this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},d.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},d.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},d.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},d.prototype.handleTechSeeking_=function(){this.trigger("seeking")},d.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},d.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Q.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},d.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},d.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},d.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},d.prototype.handleTechClick_=function(e){Be(e)&&this.controls_&&(this.paused()?this.play():this.pause())},d.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},d.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},d.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},d.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},d.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},d.prototype.handleStageClick_=function(){this.reportUserActivity()},d.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},d.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},d.prototype.handleTechTextData_=function(){var e=null;1<arguments.length&&(e=arguments[1]),this.trigger("textdata",e)},d.prototype.getCache=function(){return this.cache_},d.prototype.techCall_=function(o,r){this.ready(function(){if(o in li)return e=this.middleware_,t=this.tech_,i=r,t[n=o](e.reduce(ui(n),i));if(o in ci)return ai(this.middleware_,this.tech_,o,r);var e,t,n,i;try{this.tech_&&this.tech_[o](r)}catch(e){throw Q(e),e}},!0)},d.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in si)return t=this.middleware_,n=this.tech_,i=e,t.reduceRight(ui(i),n[i]());if(e in ci)return ai(this.middleware_,this.tech_,e);var t,n,i;try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Q("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Q("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Q(t),t}}},d.prototype.play=function(){var e=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){e.playOnLoadstart_=null,jt(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,jt(e.play())})}},d.prototype.pause=function(){this.techCall_("pause")},d.prototype.paused=function(){return!1!==this.techGet_("paused")},d.prototype.played=function(){return this.techGet_("played")||kt(0,0)},d.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},d.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},d.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},d.prototype.remainingTime=function(){return this.duration()-this.currentTime()},d.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},d.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=kt(0,0)),e},d.prototype.bufferedPercent=function(){return Et(this.buffered(),this.duration())},d.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return t<n&&(n=t),n},d.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},d.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},d.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},d.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},d.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},d.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},d.prototype.requestFullscreen=function(){var n=Ct;this.isFullscreen(!0),n.requestFullscreen?(We(f,n.fullscreenchange,it(this,function e(t){this.isFullscreen(f[n.fullscreenElement]),!1===this.isFullscreen()&&Xe(f,n.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},d.prototype.exitFullscreen=function(){var e=Ct;this.isFullscreen(!1),e.requestFullscreen?f[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},d.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=f.documentElement.style.overflow,We(f,"keydown",it(this,this.fullWindowOnEscKey)),f.documentElement.style.overflow="hidden",he(f.body,"vjs-full-window"),this.trigger("enterFullWindow")},d.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},d.prototype.exitFullWindow=function(){this.isFullWindow=!1,Xe(f,"keydown",this.fullWindowOnEscKey),f.documentElement.style.overflow=this.docOrigOverflow,pe(f.body,"vjs-full-window"),this.trigger("exitFullWindow")},d.prototype.canPlayType=function(e){for(var t=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=ni.getTech(o);if(r||(r=bt.getComponent(o)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else Q.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},d.prototype.selectSource=function(e){var n,i=this,t=this.options_.techOrder.map(function(e){return[e,ni.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(Q.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(e,n,i){var o=void 0;return e.some(function(t){return n.some(function(e){if(o=i(t,e))return!0})}),o},r=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?o(e,t,(n=r,function(e,t){return n(t,e)})):o(t,e,r))||!1},d.prototype.src=function(e){var o=this;if(void 0===e)return this.cache_.src||"";var t,n,i,r=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):W(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[hi({src:e})]:W(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[hi(e)]:[];return e}(e);r.length?(this.cache_.sources=r,this.changingSrc_=!0,this.cache_.source=r[0],t=this,n=r[0],i=function(e,t){var n,i;if(o.middleware_=t,o.src_(e))return 1<r.length?o.src(r.slice(1)):(o.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void o.triggerReady());o.changingSrc_=!1,o.cache_.src=e.src,n=t,i=o.tech_,n.forEach(function(e){return e.setTech&&e.setTech(i)})},t.setTimeout(function(){return function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2],r=arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5],t=e[0],l=e.slice(1);if("string"==typeof t)n(i,ii[t],o,r,a,s);else if(t){var c=function(e,t){var n=oi[e.id()],i=null;if(null==n)return i=t(e),oi[e.id()]=[[t,i]],i;for(var o=0;o<n.length;o++){var r=n[o],a=r[0],s=r[1];a===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(r,t);c.setSource(J({},i),function(e,t){if(e)return n(i,l,o,r,a,s);a.push(c),n(t,i.type===t.type?l:ii[t.type],o,r,a,s)})}else l.length?n(i,l,o,r,a,s):s?o(i,a):n(i,ii["*"],o,r,a,!0)}(n,ii[n.type],i,t)},1)):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},d.prototype.src_=function(e){var t,n,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,yt(t)!==yt(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source)):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src)},!0),!1)},d.prototype.load=function(){this.techCall_("load")},d.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},d.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},d.prototype.currentSource=function(){return this.cache_.source||{}},d.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},d.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},d.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},d.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},d.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},d.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},d.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},d.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},d.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},d.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},d.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Mt(e),this.addClass("vjs-error"),Q.error("(CODE:"+this.error_.code+" "+Mt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},d.prototype.reportUserActivity=function(e){this.userActivity_=!0},d.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},d.prototype.listenForUserActivity_=function(){var t=void 0,n=void 0,i=void 0,o=it(this,this.reportUserActivity);this.on("mousedown",function(){o(),this.clearInterval(t),t=this.setInterval(o,250)}),this.on("mousemove",function(e){e.screenX===n&&e.screenY===i||(n=e.screenX,i=e.screenY,o())}),this.on("mouseup",function(e){o(),this.clearInterval(t)}),this.on("keydown",o),this.on("keyup",o);var r=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var e=this.options_.inactivityTimeout;e<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},d.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},d.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},d.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},d.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},d.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},d.prototype.removeRemoteTextTrack=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},d.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},d.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},d.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},d.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},d.prototype.languages=function(){return _t(d.prototype.options_.languages,this.languages_)},d.prototype.toJSON=function(){var e=_t(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=_t(i)).player=void 0,e.tracks[n]=i}return e},d.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new Pt(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},d.getTagSettings=function(e){var t={sources:[],tracks:[]},n=ve(e),i=n["data-setup"];if(de(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}(i||"{}"),r=o[0],a=o[1];r&&Q.error(r),J(n,a)}if(J(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(ve(u)):"track"===d&&t.tracks.push(ve(u))}return t},d.prototype.flexNotSupported_=function(){var e=f.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},d}(bt);Cn.names.forEach(function(e){var t=Cn[e];Wo.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Wo.players={};var Xo=p.navigator;Wo.prototype.options_={techOrder:ni.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Xo&&(Xo.languages&&Xo.languages[0]||Xo.userLanguage||Xo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},B||Wo.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Wo.prototype[e]=function(){return this.techGet_(e)}}),Uo.forEach(function(e){Wo.prototype["handleTech"+yt(e)+"_"]=function(){return this.trigger(e)}}),bt.registerComponent("Player",Wo);var Go="plugin",Ko="activePlugins_",Yo={},$o=function(e){return Yo.hasOwnProperty(e)},Qo=function(e){return $o(e)?Yo[e]:void 0},Zo=function(e,t){e[Ko]=e[Ko]||{},e[Ko][t]=!0},er=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},tr=function(o,r){return r.prototype.name=o,function(){er(this,{name:o,plugin:r,instance:null},!0);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new(Function.prototype.bind.apply(r,[null].concat([this].concat(t))));return this[o]=function(){return i},er(this,i.getEventHash()),i}},nr=function(){function r(e){if(R(this,r),this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,mt(this),delete this.trigger,gt(this,this.constructor.defaultState),Zo(e,this.name),this.dispose=it(this,this.dispose),e.on("dispose",this.dispose)}return r.prototype.version=function(){return this.constructor.VERSION},r.prototype.getEventHash=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},r.prototype.trigger=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ge(this.eventBusEl_,e,this.getEventHash(t))},r.prototype.handleStateChanged=function(e){},r.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Ko][e]=!1,this.player=this.state=null,t[e]=tr(e,Yo[e])},r.isBasic=function(e){var t="string"==typeof e?Qo(e):e;return"function"==typeof t&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":P(e))+".");if($o(e))Q.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Wo.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":P(t))+".");var n,i,o;return Yo[e]=t,e!==Go&&(r.isBasic(t)?Wo.prototype[e]=(n=e,i=t,o=function(){er(this,{name:n,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return Zo(this,n),er(this,{name:n,plugin:i,instance:e}),e},Object.keys(i).forEach(function(e){o[e]=i[e]}),o):Wo.prototype[e]=tr(e,t)),t},r.deregisterPlugin=function(e){if(e===Go)throw new Error("Cannot de-register base plugin.");$o(e)&&(delete Yo[e],delete Wo.prototype[e])},r.getPlugins=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Yo),n=void 0;return e.forEach(function(e){var t=Qo(e);t&&((n=n||{})[e]=t)}),n},r.getPluginVersion=function(e){var t=Qo(e);return t&&t.VERSION||""},r}();nr.getPlugin=Qo,nr.BASE_PLUGIN_NAME=Go,nr.registerPlugin(Go,nr),Wo.prototype.usingPlugin=function(e){return!!this[Ko]&&!0===this[Ko][e]},Wo.prototype.hasPlugin=function(e){return!!$o(e)},"undefined"==typeof HTMLVideoElement&&oe()&&(f.createElement("video"),f.createElement("audio"),f.createElement("track"),f.createElement("video-js"));var ir=function(e){return 0===e.indexOf("#")?e.slice(1):e};function or(e,n,t){var i=or.getPlayer(e);if(i)return n&&Q.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&i.ready(t),i;var o="string"==typeof e?Me("#"+ir(e)):e;if(!re(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");f.body.contains(o)||Q.warn("The element supplied is not included in the DOM"),n=n||{},or.hooks("beforesetup").forEach(function(e){var t=e(o,_t(n));W(t)&&!Array.isArray(t)?n=_t(n,t):Q.error("please return an object in beforesetup hooks")});var r=bt.getComponent("Player");return i=new r(o,n,t),or.hooks("setup").forEach(function(e){return e(i)}),i}if(or.hooks_={},or.hooks=function(e,t){return or.hooks_[e]=or.hooks_[e]||[],t&&(or.hooks_[e]=or.hooks_[e].concat(t)),or.hooks_[e]},or.hook=function(e,t){or.hooks(e,t)},or.hookOnce=function(n,e){or.hooks(n,[].concat(e).map(function(t){return function e(){return or.removeHook(n,e),t.apply(void 0,arguments)}}))},or.removeHook=function(e,t){var n=or.hooks(e).indexOf(t);return!(n<=-1||(or.hooks_[e]=or.hooks_[e].slice(),or.hooks_[e].splice(n,1),0))},!0!==p.VIDEOJS_NO_DYNAMIC_STYLE&&oe()){var rr=Me(".vjs-styles-defaults");if(!rr){rr=tt("vjs-styles-defaults");var ar=Me("head");ar&&ar.insertBefore(rr,ar.firstChild),nt(rr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return et(1,or),or.VERSION=h,or.options=Wo.prototype.options_,or.getPlayers=function(){return Wo.players},or.getPlayer=function(e){var t=Wo.players,n=void 0;if("string"==typeof e){var i=ir(e),o=t[i];if(o)return o;n=Me("#"+i)}else n=e;if(re(n)){var r=n,a=r.player,s=r.playerId;if(a||t[s])return a||t[s]}},or.getAllPlayers=function(){return Object.keys(Wo.players).map(function(e){return Wo.players[e]}).filter(Boolean)},or.players=Wo.players,or.getComponent=bt.getComponent,or.registerComponent=function(e,t){ni.isTech(t)&&Q.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),bt.registerComponent.call(bt,e,t)},or.getTech=ni.getTech,or.registerTech=ni.registerTech,or.use=function(e,t){ii[e]=ii[e]||[],ii[e].push(t)},!B&&Object.defineProperty?(Object.defineProperty(or,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(or.middleware,"TERMINATOR",{value:ri,writeable:!1,enumerable:!0})):or.middleware={TERMINATOR:ri},or.browser=N,or.TOUCH_ENABLED=j,or.extend=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},i={};for(var o in"object"===(void 0===t?"undefined":P(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":P(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},or.mergeOptions=_t,or.bind=it,or.registerPlugin=nr.registerPlugin,or.plugin=function(e,t){return Q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),nr.registerPlugin(e,t)},or.getPlugins=nr.getPlugins,or.getPlugin=nr.getPlugin,or.getPluginVersion=nr.getPluginVersion,or.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),or.options.languages=_t(or.options.languages,((n={})[e]=t,n)),or.options.languages[e]},or.log=Q,or.createTimeRange=or.createTimeRanges=kt,or.formatTime=Ii,or.setFormatTime=function(e){Si=e},or.resetFormatTime=function(){Si=xi},or.parseUrl=Qt,or.isCrossOrigin=en,or.EventTarget=at,or.on=We,or.one=Ke,or.off=Xe,or.trigger=Ge,or.xhr=dn,or.TextTrack=gn,or.AudioTrack=yn,or.VideoTrack=_n,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){or[e]=function(){return Q.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Oe[e].apply(null,arguments)}}),or.computedStyle=ee,or.dom=Oe,or.url=tn,or});var qn=0,zn=10,Vn=1e4,Un=[],Jn=null,Wn=!1,Xn=!1,Gn="",Kn="",Yn="",$n=!1,Qn=!1,Zn=!1,ei="",ti=!1;function ni(){if(""!==Yn)return Oi(),Ni(),void WT();cs=ls,document.getElementById("top_bar_user").classList.add("icon_center_focus"),Zl(),ei=document.querySelector("#oauth_input"),za.placeholder=w,document.getElementById("oauth_text").innerHTML=vt+Ss+fn,ri(),bo("oauth_input")}function ii(){ai(),document.body.removeEventListener("keydown",oi),document.getElementById("top_bar_user").classList.remove("icon_center_focus")}function oi(e){if(!Wn&&!Xn)switch(e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=rs,ii(),mc());break;case _n:cs=Ga,ii(),mc();break;case bn:cs=Wa,ii(),mc();break;case kn:case Tn:case En:case Bn:ri();break;case Mn:tc();break;case An:ii(),Cc();break;case On:oc();break;case jn:ds=cs,cs=Za,ii(),mc()}}function ri(){document.body.removeEventListener("keydown",oi),document.body.addEventListener("keydown",si,!1),ei.addEventListener("input"),ei.addEventListener("compositionend"),za.placeholder=w,ei.focus(),Xn=!0}function ai(){ei.blur(),document.body.removeEventListener("keydown",si),document.body.addEventListener("keydown",oi,!1),za.placeholder=k+w,window.setTimeout(function(){Xn=!1},250)}function si(e){if(!Wn)switch(e.keyCode){case Dn:za.value="",e.preventDefault();break;case Rn:case Pn:""!==za.value&&null!==za.value&&(Yn=za.value,Oi(),ql(),bo("blank_focus"),vi()),ai();break;case Nn:za.value=za.value.slice(0,-1),e.preventDefault();break;case Hn:za.value+=" ",e.preventDefault()}}function li(){Un=[];var e=parseInt(localStorage.getItem("UsercodeArraySize"))||0;if(0<e)for(var t=0;t<e;t++)Un[t]=localStorage.getItem("UsercodeArray"+t);hi()}function ci(){(Un=JSON.parse(localStorage.getItem("userkeys"))||[]).length||li(),pi(0)}function ui(){Un.push(Jn+","+Gn+","+Yn),hi(),zl(),WT(),Wn=!1}function di(e){var t=Un.indexOf(Un[e]);-1<t&&Un.splice(t,1),hi()}function hi(){localStorage.setItem("userkeys",JSON.stringify(Un))}function pi(e){if(0<Qi.length&&(Ss=Qi[e]),0<Un.length){var t=mi(Qi[e]);if(-1<t){var n=Un[t].split(",");Jn=n[0],Gn=n[1],Yn=n[2]}else fi()}else fi()}function fi(){Yn=Gn=Jn=""}function mi(e){for(var t=0;t<Un.length;t++)if(e===Un[t].split(",")[0])return t;return-1}function vi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken?oauth_token="+Yn,!0),e.timeout=Vn,e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void yi(e.responseText);gi()}},e.send(null)}catch(e){gi()}}function gi(){++qn<zn?(Vn+=qn<5?250:3500,vi()):(Wn=!1,zl(),Ql(jt),window.setTimeout(function(){Zl(),ri()},4e3))}function yi(e){ak(e)?(Jn=JSON.parse(e).token.user_name+"",Oi(),ti=!1,_i()):(zl(),Ql(St+Ss+It+Jn),window.setTimeout(function(){Zl(),ri()},3500))}function _i(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users?login="+Ss,!0),e.timeout=Vn,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void(ti?ki(e.responseText):wi(e.responseText));bi()}},e.send(null)}catch(e){bi()}}function bi(){++qn<zn&&(Vn+=qn<5?250:3500,_i())}function wi(e){Gn=JSON.parse(e).users[0]._id,za.value="",document.body.removeEventListener("keydown",oi),sk(!0),ui()}function Ti(){Oi(),$n=!1,""!==Gn?Ei():(ti=!0,_i())}function ki(e){var t=JSON.parse(e).users[0];void 0!==t?(Gn=t._id,Oi(),$n=!1,Ei()):(Wn=$n=!1,Zn?np():Yf())}function Ei(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+Gn+"/follows/channels/"+Kn,!0),e.timeout=Vn,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wn=!($n=!0),void(Zn?np():Yf());if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wn=$n=!1,void(Zn?np():Yf());Ci()}else Ci()}},e.send(null)}catch(e){Ci()}}function Ci(){++qn<zn?(Vn+=qn<5?250:3500,Ei()):(Wn=!1,Zn?np():Yf())}function xi(){Oi(),Si()}function Si(){try{var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Gn+"/follows/channels/"+Kn,!0),e.timeout=Vn,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.setRequestHeader("Authorization","OAuth "+Yn),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return $n=!(Wn=!1),void(Zn?np():Yf());Ii()}},e.send(null)}catch(e){Ii()}}function Ii(){++qn<zn&&(Vn+=3500,Si())}function Li(){Oi(),Bi()}function Bi(){try{var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Gn+"/follows/channels/"+Kn,!0),e.timeout=Vn,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.setRequestHeader("Authorization","OAuth "+Yn),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Wn=$n=!1,void(Zn?np():Yf());Mi()}},e.send(null)}catch(e){Mi()}}function Mi(){++qn<zn&&(Vn+=3500,Bi())}function Ai(){Oi(),Qn=!1,ji()}function Oi(){Vn=1e4,Wn=!(qn=0)}function ji(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+Gn+"/subscriptions/"+Kn,!0),e.timeout=Vn,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.setRequestHeader("Authorization","OAuth "+Yn),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wn=!(Qn=!0),void Zp();if(422===e.status)console.log("channel does not have a subscription program");else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wn=Qn=!1,void Qp();Fi()}else Fi()}},e.send(null)}catch(e){Fi()}}function Fi(){++qn<zn?(Vn+=qn<5?250:3500,ji()):Wn=!1}function Ni(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken?oauth_token="+Yn,!0),t.timeout=Vn,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=ak(t.responseText);return sk(e),Ql(e?xt:Ct),window.setTimeout(function(){Zl()},4e3),void(Wn=!1)}Pi()}},t.send(null)}catch(e){Pi()}}function Pi(){++qn<zn?(Vn+=qn<5?250:3500,Ni()):(Ql(Ct),sk(!1),window.setTimeout(function(){Zl()},4e3),Wn=!1)}function Ri(e){try{var t=mi(Qi[e]);if(-1<t){Yn=Un[t].split(",")[2],Ss=Qi[e];var n=new XMLHttpRequest;n.open("GET","https://api.twitch.tv/kraken?oauth_token="+Yn,!0),n.timeout=Vn,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void tk(ak(n.responseText),e);Hi(e)}},n.send(null)}else tk(!1,e)}catch(t){Hi(e)}}function Hi(e){++qn<zn?(Vn+=3500,Ri(e)):tk(!1,e)}function Di(){Oi(),qi()}function qi(){try{var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ss+"/follows/games/"+encodeURIComponent(ks)+"?oauth_token="+Yn,!0),e.timeout=1e4,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return qo=!0,void tr();zi()}},e.send(null)}catch(e){zi()}}function zi(){++qn<zn&&(Vn+=3500,qi())}function Vi(){Oi(),Ui()}function Ui(){try{var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ss+"/follows/games/"+encodeURIComponent(ks)+"?oauth_token="+Yn,!0),e.timeout=1e4,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return qo=!1,void tr();Ji()}},e.send(null)}catch(e){Ji()}}function Ji(){++qn<zn&&(Vn+=3500,Ui())}function Wi(){Oi(),Xi()}function Xi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/api/users/"+Ss+"/follows/games/"+encodeURIComponent(ks),!0),e.timeout=1e4,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(qo=!0,void tr()):404===e.status?(qo=!1,void tr()):void Gi()},e.send(null)}catch(e){Gi()}}function Gi(){++qn<zn?(Vn+=3500,Xi()):(qo=!1,tr())}var Ki=0,Yi=10,$i=3500,Qi=[],Zi=null,eo=!1,to=!1,no=null;function io(){cs=Xa,document.getElementById("top_bar_user").classList.add("icon_center_focus"),Zl(),no=document.querySelector("#user_input"),qa.placeholder=T,ao(),bo("user_input")}function oo(){so(),document.body.removeEventListener("keydown",ro),document.getElementById("top_bar_user").classList.remove("icon_center_focus")}function ro(e){if(!eo&&!to)switch(e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=us,oo(),mc());break;case _n:cs=Ga,oo(),mc();break;case bn:cs=Wa,oo(),mc();break;case kn:case Tn:case En:case Bn:ao();break;case Mn:tc();break;case An:oo(),Cc();break;case On:oc();break;case jn:ds=cs,cs=Za,oo(),mc()}}function ao(){document.body.removeEventListener("keydown",ro),document.body.addEventListener("keydown",lo,!1),no.addEventListener("input"),no.addEventListener("compositionend"),qa.placeholder=T,no.focus(),to=!0}function so(){no.blur(),document.body.removeEventListener("keydown",lo),document.body.addEventListener("keydown",ro,!1),qa.placeholder=k+T,window.setTimeout(function(){to=!1},250)}function lo(e){if(!eo)switch(e.keyCode){case Dn:qa.value="",e.preventDefault();break;case Rn:case Pn:""!==qa.value&&null!==qa.value&&(yo(Zi=qa.value)?(zl(),Ql(d+Zi+ie),window.setTimeout(function(){Zl(),ao()},1500)):($i=3500,eo=!(Ki=0),ql(),bo("blank_focus"),co())),so();break;case Nn:qa.value=qa.value.slice(0,-1),e.preventDefault();break;case Hn:qa.value+=" ",e.preventDefault()}}function co(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi)+"/follows/channels?limit=1&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=$i,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return qa.value="",document.body.removeEventListener("keydown",ro),void fo();uo()}},e.send(null)}catch(e){uo()}}function uo(){++Ki<Yi?($i+=Ki<5?250:3500,co()):(Zi=null,zl(),Ql(te),window.setTimeout(function(){io()},1e3),eo=!1)}function ho(){Qi=[];var e=parseInt(localStorage.getItem("UsernameArraySize"))||0;if(0<e)for(var t=0;t<e;t++)Qi[t]=localStorage.getItem("UsernameArray"+t);vo()}function po(){(Qi=JSON.parse(localStorage.getItem("usernames"))||[]).length||ho(),Qi.length&&ci(),window.setTimeout(function(){My(),window.addEventListener("appcontrol",Dy,!1),xs=window.setInterval(My,6e5),document.addEventListener("visibilitychange",xc,!1)},3500)}function fo(){Qi.push(Zi),vo(),qT=!1,WT(),eo=!1,1===Qi.length&&(window.clearInterval(xs),document.removeEventListener("visibilitychange",xc),xs=window.setInterval(My,6e5),document.addEventListener("visibilitychange",xc,!1),My())}function mo(e){var t=mi(Qi[e]);-1<t&&di(t);var n=Qi.indexOf(Qi[e]);-1<n&&Qi.splice(n,1),0<Qi.length?(qT=!1,WT(),e||My()):(io(),My()),pi(e),vo()}function vo(){localStorage.setItem("usernames",JSON.stringify(Qi))}function go(e){Zi=Qi[0],Qi[0]=Qi[e],Qi[e]=Zi,qT=!1,WT(),My()}function yo(e){return-1!==Qi.indexOf(e)}function _o(){return 0<Qi.length}function bo(e){window.scroll(0,tu()+nu(e)-Ns-Ds)}var wo=0,To=0,ko=!1,Eo=0,Co=[],xo=[],So=!1,Io=0,Lo=10,Bo=3500,Mo=0,Ao=0,Oo=!0,jo=25,Fo=!1,No=0,Po=!1,Ro=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_"],Ho=!1,Do=!1,qo=!1,zo=!1,Vo=!1;function Uo(){cs=Ka,document.body.addEventListener("keydown",dr,!1),document.getElementById("top_bar_game").classList.add("icon_center_focus"),document.getElementById("top_bar_game").innerHTML=_+bc(ks),jc(wo),Cs===ks&&Ho?(Zc(Ro[0],wo,To,Ka,Ns,js,!1),Kl(To,wo,Ws,Eo)):Wo()}function Jo(){Ho&&(-1===wo&&(wo=0),cr(),ar()),document.getElementById("top_bar_game").innerHTML=p,document.body.removeEventListener("keydown",dr),document.getElementById("top_bar_game").classList.remove("icon_center_focus")}function Wo(){Zl(),Ho=!1,eu("blank_focus"),ql(),Sc("stream_table_a_game"),Fo=Vo=!1,Co=[],wo=To=Eo=No=Ao=Mo=0,ko=Do=!(xo=[]),Gl(),Xo(),Go()}function Xo(){So=!0,Io=0,Bo=3500}function Go(){try{var e=new XMLHttpRequest,t=Eo+Ao;t&&No-1<t&&(t=No-Js,Fo=ko=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(ks)+"&limit="+Js+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Bo,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Yo(e.responseText);Ko()}},e.send(null)}catch(e){Ko()}}function Ko(){++Io<Lo?(Bo+=Io<5?250:3500,Go()):(Vo=So=!1,zl(),Ql(L))}function Yo(e){var t=JSON.parse(e),n=t.streams.length;No=parseInt(t._total),n<Js&&(ko=!0);var i=Eo;Po=!(Eo+=n);var o=n/Ws;0<n%Ws&&o++;var r,a,s,l=document.createElement("tr"),c=0;l.appendChild(Nc("x",0,Ro[9])),l.appendChild(Nc("x",1,Ro[9])),(Ms=document.createElement("td")).setAttribute("id",Ro[8]+"x_2"),Ms.className="stream_cell",Ms.innerHTML='<div id="'+Ro[0]+'x_2" class="stream_thumbnail_fallow_game" ><div id="'+Ro[3]+'x_2" class="stream_channel_fallow_game"></div></div>',l.appendChild(Ms),document.getElementById("stream_table_a_game").appendChild(l);for(var u=0;u<o;u++){for(a=i/Ws+u,l=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)Qo((s=t.streams[c]).channel.name)?r--:l.appendChild($o(a,a+"_"+r,s.channel.name,[s.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(s.stream_type))+s.channel.display_name,s.channel.status,s.game,g+hh(s.created_at)+y+", "+m+uc(s.viewers)+q,dc(s.video_height,s.average_fps,s.channel.language)]));for(;r<Ws;r++)ko&&!Do&&(Do=!0,Eo=a*Ws+r),l.appendChild(Nc(Ro[9]+a+"_"+r)),xo.push(Ro[9]+a+"_"+r);document.getElementById("stream_table_a_game").appendChild(l)}Zo()}function $o(e,t,n,i){return Co.push(n),e<Ws&&Fc(i[0]),Dc(n,t,Ro,i)}function Qo(e){for(var t=0;t<Co.length;t++)if(e===Co[t])return Mo++,!0;return!1}function Zo(){ru(function(){if(Ho){if(0<Mo&&!ko)return Vo=!0,Xo(),void ir();Mo=0,Vo=So=!1}else zl(),er(),Po?(Ql(B+$),wo=-1,Zc(Ro[0],"x",2,Ka,135,0,!1),lr()):(Ho=!0,ar(),Mc(Ro[1],9,vl,Ws)),So=!1})}function er(){zo?(qo=!0,tr()):""!==Ss?Wi():(qo=!1,tr())}function tr(){document.getElementById(Ro[3]+"x_2").innerHTML=qo?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 8px;"></i>'+mn+Lt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0px 0px 10px, #000000 0px 0px 10px, #000000 0px 0px 8px;"></i>'+mn+(""!==Ss?Bt:Ft)}function nr(){""!==Yn?qo?Vi():Di():(Ql(Nt),window.setTimeout(function(){Po&&cs===Ka?Ql(B+$):Zl()},2e3))}function ir(){try{var e=new XMLHttpRequest;$l(Mo);var t=Eo+Ao;t&&No-1<t&&(t=No-el,Fo=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(ks)+"&limit="+el+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Bo,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||rr(e.responseText)},e.send(null)}catch(e){or()}}function or(){++Io<Lo?(Bo+=Io<5?250:3500,ir()):(Fo=!0,Mo=0,xo=[],Zo())}function rr(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=xo.slice();No=parseInt(i._total),o<Js&&(Fo=!0);for(var s=0;s<xo.length&&r<o;s++,r++)Qo((t=i.streams[r]).channel.name)?(Mo--,s--):(qc(xo[s],t.channel.name,[t.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+hh(t.created_at)+y+", "+m+uc(t.viewers)+q,dc(t.video_height,t.average_fps,t.channel.language)],Ro),Mo--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Ao+=r,Fo?(Mo=0,xo=[]):xo=a,Zo()}function ar(){Kc(wo,To,Ro,Ka,Ws,Eo),3<wo&&Ac(Ro[1],wo,vl,Ws,4),Eo/Ws<wo+Xs&&!ko&&!Vo&&(Vo=!0,Xo(),Go())}function sr(){Yc(wo+"_"+To,Ro)}function lr(){document.getElementById(Ro[0]+"x_2").classList.add(ol)}function cr(){document.getElementById(Ro[0]+"x_2").classList.remove(ol)}function ur(){Oo=!0}function dr(e){var t;if(So&&!Vo||!Oo)e.preventDefault();else switch(Oo=!1,window.setTimeout(ur,jo),e.keyCode){case Fn:ic()?nc():ac()?rc():Vo||(Cs=ks,cs=ps,Jo(),mc());break;case xn:if(wo||To)if(-1!==wo||Po){if(pc(wo,To-1,Ro[0]))sr(),To--,ar();else for(t=Ws-1;-1<t;t--)if(pc(wo-1,t,Ro[0])){sr(),wo--,To=t,ar();break}}else wo=0,cr(),ar();else sr(),wo=-1,lr();break;case Sn:-1!==wo||Po?pc(wo,To+1,Ro[0])?(sr(),To++,ar()):pc(wo+1,0,Ro[0])&&(sr(),wo++,To=0,ar()):(wo=0,cr(),ar());break;case In:if(-1!==wo||Po)if(wo){for(t=0;t<Ws;t++)if(pc(wo-1,To-t,Ro[0])){sr(),wo--,To-=t,ar();break}}else sr(),wo=-1,lr();else wo=0,cr(),ar();break;case Ln:if(-1!==wo||Po){for(t=0;t<Ws;t++)if(pc(wo+1,To-t,Ro[0])){sr(),wo++,To-=t,ar();break}}else wo=0,cr(),ar();break;case Cn:case wn:Vo||Wo();break;case _n:cs=Wa,Jo(),mc();break;case bn:cs=_o()?rs:Xa,Jo(),mc();break;case kn:case Tn:case En:case Bn:-1!==wo?(Id=document.getElementById(Ro[8]+wo+"_"+To).getAttribute(sl),Ld=document.getElementById(Ro[3]+wo+"_"+To).textContent,document.body.removeEventListener("keydown",dr),Cs=ks,gc()):nr();break;case Mn:tc();break;case An:Jo(),Cc();break;case On:oc();break;case jn:ds=Ka,cs=Za,Cs=ks,Jo(),mc()}}var hr=!1,pr=0,fr=0,mr=!1,vr=0,gr=[],yr=!1,_r=0,br=10,wr=3500,Tr=0,kr=[],Er=0,Cr=!0,xr=0,Sr=!1,Ir=0,Lr=1,Br=!1,Mr=!1,Ar=!1,Or=["g_thumbdiv","g_img","g_infodiv","g_displayname","g_viwers","g_cell","gempty_"];function jr(){cs=Ga,document.body.addEventListener("keydown",Yr,!1),document.getElementById("top_bar_game").classList.add("icon_center_focus"),jc(pr),hr?(Zc(Or[0],pr,fr,Ga,Rs,Fs,!1),Kl(fr,pr,Ks,vr)):Nr()}function Fr(){document.body.removeEventListener("keydown",Yr),document.getElementById("top_bar_game").classList.remove("icon_center_focus")}function Nr(){Zl(),hr=!1,eu("blank_focus"),ql(),Sc("stream_table_games"),Ar=!1,Br=Sr=!(kr=[]),pr=fr=vr=Ir=Er=Tr=0,mr=!(gr=[]),Gl(),Pr(),Rr()}function Pr(){yr=!0,_r=0,wr=3500}function Rr(){try{var e=new XMLHttpRequest,t=vr+Er;t&&Ir-1<t&&(t=Ir-Gs,Sr=mr=!0),e.open("GET","https://api.twitch.tv/kraken/games/top?limit="+(Gs+(t?0:Lr))+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=wr,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Dr(e.responseText);Hr()}},e.send(null)}catch(e){Hr()}}function Hr(){++_r<br?(wr+=_r<5?250:3500,Rr()):Ar?(Sr=mr=!(Ar=!1),Vr()):(yr=!1,zl(),Ql(L))}function Dr(e){var t=JSON.parse(e),n=t.top.length;if(Ir=parseInt(t._total),Gs<n)return Lr=0,Pr(),void Rr();n<Gs&&(mr=!0);var i=vr;Mr=!(vr+=n);var o=n/Ks;0<n%Ks&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ks+u,s=document.createElement("tr"),r=0;r<Ks&&c<n;r++,c++)zr((l=t.top[c]).game.name)?r--:s.appendChild(qr(a,a+"_"+r,[l.game.name,l.game.box.template.replace("{width}x{height}",il),uc(l.channels)+" "+E+m+uc(l.viewers)+q]));for(;r<Ks;r++)mr&&!Br&&(Br=!0,vr=a*Ks+r),s.appendChild(Nc(Or[6]+a+"_"+r)),kr.push(Or[6]+a+"_"+r);document.getElementById("stream_table_games").appendChild(s)}Vr()}function qr(e,t,n){return gr.push(n[0]),e<2&&Fc(n[1]),Vc(t,Or,n)}function zr(e){for(var t=0;t<gr.length;t++)if(e===gr[t])return Tr++,!0;return!1}function Vr(){ru(function(){if(hr){if(0<Tr&&!mr)return Ar=!0,Pr(),void Ur();Tr=0,Ar=yr=!(kr=[])}else zl(),Mr?Ql(B+$):(hr=!0,Xr(),Mc(Or[1],7,fl,Ks)),yr=!1})}function Ur(){try{var e=new XMLHttpRequest;$l(Tr);var t=vr+Er;t&&Ir-1<t&&(t=Ir-el,Sr=!0),e.open("GET","https://api.twitch.tv/kraken/games/top?limit="+el+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=wr,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Wr(e.responseText)},e.send(null)}catch(e){Jr()}}function Jr(){++_r<br?(wr+=_r<5?250:3500,Ur()):(Sr=!0,Tr=0,kr=[],Vr())}function Wr(e){var t,n,i=JSON.parse(e),o=i.top.length,r=0,a=kr.slice();Ir=parseInt(i._total),o<Gs&&(Sr=!0);for(var s=0;s<kr.length&&r<o;s++,r++)zr((t=i.top[r]).game.name)?(Tr--,s--):(Uc(kr[s],[t.game.name,t.game.box.template.replace("{width}x{height}",il),uc(t.channels)+" "+E+m+uc(t.viewers)+q],Or),Tr--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Er+=r,Sr?(Tr=0,kr=[]):kr=a,Vr()}function Xr(){$c(pr,fr,Or,Ga,Ks,vr),2<pr&&Ac(Or[1],pr,fl,Ks,3),vr/Ks<pr+Ys&&!mr&&!Ar&&(Ar=!0,Pr(),Rr())}function Gr(){Qc(pr+"_"+fr,Or)}function Kr(){Cr=!0}function Yr(e){var t;if(yr&&!Ar||!Cr)e.preventDefault();else switch(Cr=!1,window.setTimeout(Kr,xr),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=cs===us||us===Ka||us===Za?Wa:us,Fr(),mc());break;case xn:if(pc(pr,fr-1,Or[0]))Gr(),fr--,Xr();else for(t=Ks-1;-1<t;t--)if(pc(pr-1,t,Or[0])){Gr(),pr--,fr=t,Xr();break}break;case Sn:pc(pr,fr+1,Or[0])?(Gr(),fr++,Xr()):pc(pr+1,0,Or[0])&&(Gr(),pr++,fr=0,Xr());break;case In:for(t=0;t<Ks;t++)if(pc(pr-1,fr-t,Or[0])){Gr(),pr--,fr-=t,Xr();break}break;case Ln:for(t=0;t<Ks;t++)if(pc(pr+1,fr-t,Or[0])){Gr(),pr++,fr-=t,Xr();break}break;case Cn:case wn:Ar||Nr();break;case _n:us=Ga,cs=Wa,Fr(),mc();break;case bn:us=Ga,cs=_o()?rs:Xa,Fr(),mc();break;case kn:case Tn:case En:case Bn:Ar||(ks=document.getElementById(Or[5]+pr+"_"+fr).getAttribute(sl),document.body.removeEventListener("keydown",Yr),ps=cs,cs=Ka,zo=!(ms=!0),Fr(),mc());break;case Mn:tc();break;case An:Fr(),Cc();break;case On:oc();break;case jn:ds=Ga,cs=Za,Fr(),mc()}}var $r=!1,Qr=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_"],Zr=0,ea=0,ta=0,na=!1,ia=0,oa=[],ra=!1,aa=0,sa=10,la=3500,ca=0,ua=[],da=0,ha=!0,pa=25,fa=!1,ma=0,va=!1,ga=!1,ya=0,_a=!1,ba=!1;function wa(){cs=Wa,document.getElementById("top_bar_live").classList.add("icon_center_focus"),document.body.addEventListener("keydown",Ra,!1),jc(Zr),$r?(Zc(Qr[0],Zr,ea,Wa,Ns,js,!1),Kl(ea,Zr,Ws,ia)):ka()}function Ta(){document.body.removeEventListener("keydown",Ra),document.getElementById("top_bar_live").classList.remove("icon_center_focus"),Wl()}function ka(){Zl(),$r=!1,eu("blank_focus"),ql(),Sc("stream_table_live"),ba=!1,ga=fa=!(ua=[]),ya=Zr=ea=ia=ma=da=ca=0,na=!(oa=[]),Gl(),Ea(),Ca()}function Ea(){ra=!0,aa=0,la=3500}function Ca(){try{var e=new XMLHttpRequest,t=ia+da;t&&ma-1<t&&(t=ma-Js,fa=na=!0),e.open("GET","https://api.twitch.tv/kraken/streams?limit="+Js+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=la,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Sa(e.responseText);xa()}},e.send(null)}catch(e){xa()}}function xa(){++aa<sa?(la+=aa<5?250:3500,Ca()):ba?(fa=na=!(ba=!1),Ba()):(ra=!1,zl(),Ql(L))}function Sa(e){var t=JSON.parse(e),n=t.streams.length;ma=parseInt(t._total),n<Js&&(na=!0);var i=ia;_a=!(ia+=n);var o=n/Ws;0<n%Ws&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ws+u,s=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)La((l=t.streams[c]).channel.name)?r--:s.appendChild(Ia(a,a+"_"+r,l.channel.name,[l.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,g+hh(l.created_at)+y+", "+m+uc(l.viewers)+q,dc(l.video_height,l.average_fps,l.channel.language)]));for(;r<Ws;r++)na&&!ga&&(ga=!0,ia=a*Ws+r),s.appendChild(Nc(Qr[9]+a+"_"+r)),ua.push(Qr[9]+a+"_"+r);document.getElementById("stream_table_live").appendChild(s)}Ba()}function Ia(e,t,n,i){return oa.push(n),e<Ws&&Fc(i[0]),Dc(n,t,Qr,i)}function La(e){for(var t=0;t<oa.length;t++)if(e===oa[t])return ca++,!0;return!1}function Ba(){ru(function(){if($r){if(0<ca&&!na)return ba=!0,Ea(),void Ma();ca=0,ba=ra=!(ua=[])}else zl(),document.getElementById("topbar").classList.remove("hide"),_a?Ql(B+K):($r=!0,Mc(Qr[1],9,vl,Ws),ja()),ra=!1,va||(va=!0,Ec()&&sc())})}function Ma(){try{var e=new XMLHttpRequest;$l(ca);var t=ia+da;t&&ma-1<t&&(t=ma-el,fa=!0),e.open("GET","https://api.twitch.tv/kraken/streams?limit="+el+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=la,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Oa(e.responseText)},e.send(null)}catch(e){Aa()}}function Aa(){++aa<sa?(la+=aa<5?250:3500,Ma()):(fa=!0,ca=0,ua=[],Ba())}function Oa(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=ua.slice();ma=parseInt(i._total),o<Js&&(fa=!0);for(var s=0;s<ua.length&&r<o;s++,r++)La((t=i.streams[r]).channel.name)?(ca--,s--):(oa.push(t.channel.name),qc(ua[s],t.channel.name,[t.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+hh(t.created_at)+y+", "+m+uc(t.viewers)+q,dc(t.video_height,t.average_fps,t.channel.language)],Qr),ca--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));da+=r,fa?(ca=0,ua=[]):ua=a,Ba()}function ja(){Kc(Zr,ea,Qr,Wa,Ws,ia),3<Zr&&Ac(Qr[1],Zr,vl,Ws,4),ia/Ws<Zr+Xs&&!na&&!ba&&(ba=!0,Ea(),Ca())}function Fa(){Yc(Zr+"_"+ea,Qr)}function Na(){document.getElementById("exit_app_cancel").classList.remove("button_search_focused"),document.getElementById("exit_app_minimize").classList.remove("button_search_focused"),document.getElementById("exit_app_close").classList.remove("button_search_focused"),ta?1===ta?document.getElementById("exit_app_minimize").classList.add("button_search_focused"):document.getElementById("exit_app_close").classList.add("button_search_focused"):document.getElementById("exit_app_cancel").classList.add("button_search_focused")}function Pa(){ha=!0}function Ra(e){var t;if(ra&&!ba||!ha)e.preventDefault();else switch(ha=!1,window.setTimeout(Pa,pa),e.keyCode){case Fn:ic()?nc():cc()?lc():ac()?rc():Xl()?Wl():Jl();break;case xn:if(Xl())--ta<0&&(ta=2),Na(),Vl(),Ul();else if(pc(Zr,ea-1,Qr[0]))Fa(),ea--,ja();else for(t=Ws-1;-1<t;t--)if(pc(Zr-1,t,Qr[0])){Fa(),Zr--,ea=t,ja();break}break;case Sn:Xl()?(2<++ta&&(ta=0),Na(),Vl(),Ul()):pc(Zr,ea+1,Qr[0])?(Fa(),ea++,ja()):pc(Zr+1,0,Qr[0])&&(Fa(),Zr++,ea=0,ja());break;case In:if(!Xl())for(t=0;t<Ws;t++)if(pc(Zr-1,ea-t,Qr[0])){Fa(),Zr--,ea-=t,ja();break}break;case Ln:if(!Xl())for(t=0;t<Ws;t++)if(pc(Zr+1,ea-t,Qr[0])){Fa(),Zr++,ea-=t,ja();break}break;case Cn:case wn:ba||ka();break;case _n:ba||(us=Wa,cs=_o()?rs:Xa,Ta(),mc());break;case bn:ba||(us=Wa,cs=Ga,Ta(),mc());break;case kn:case Tn:case En:case Bn:if(Xl()){var n=ta;Wl();try{1===n?tizen.application.getCurrentApplication().hide():2===n&&tizen.application.getCurrentApplication().exit()}catch(e){}}else Id=document.getElementById(Qr[8]+Zr+"_"+ea).getAttribute(sl),Ld=document.getElementById(Qr[3]+Zr+"_"+ea).textContent,document.body.removeEventListener("keydown",Ra),gc();break;case Mn:tc();break;case An:break;case On:oc();break;case jn:ds=Wa,cs=Za,Ta(),mc()}}var Ha,Da,qa,za,Va=!0,Ua=-1,Ja=new Image,Wa=1,Xa=2,Ga=3,Ka=4,Ya=5,$a=6,Qa=7,Za=8,es=9,ts=10,ns=11,is=12,os=13,rs=14,as=15,ss=16,ls=17,cs=1,us=1,ds=1,hs=1,ps=1,fs=!1,ms=!1,vs="",gs="",ys="",_s="",bs="",ws=null,Ts=null,ks="",Es="",Cs=null,xs=null,Ss="",Is=!0,Ls=!0,Bs=!1,Ms="",As="",Os=!1,js=275,Fs=523,Ns=372,Ps=464,Rs=567,Hs=92,Ds=60,qs=100,zs=83,Vs=1.35,Us=1.5,Js=99,Ws=3,Xs=Math.floor(Js/Ws/Us),Gs=95,Ks=5,Ys=Math.floor(Gs/Ks/Vs),$s=96,Qs=6,Zs=Math.floor($s/Qs/Us),el=6,tl="ypvnuqrh98wqz1sr0ov3fgfu4jh1yx",nl="528x297",il="340x475",ol="stream_thumbnail_focused",rl="stream_text_focused",al="stream_info_focused",sl="data_attribute",ll=400,cl="4.0.0",ul="",dl="050418",hl="",pl="https://bhb27.github.io/smarttv-twitch/release/githubio/images/",fl=pl+"404_game.png",ml=pl+"404_logo.png",vl=pl+"404_video.png",gl=pl+"blur_game.png",yl=pl+"blur_video_1.png",_l=pl+"blur_video_2.png",bl=pl+"blur_video_1_16.png",wl=pl+"blur_video_2_16.png",Tl=pl+"blur_vod.png",kl=pl+"user_minus.png",El=pl+"user_plus.png",Cl=pl+"user_up.png",xl=pl+"user_code.png",Sl=pl+"ch_logo.png",Il=pl+"temp.mp4",Ll=pl+"smart_live.png",Bl=pl+"smart_games.png",Ml=pl+"smart_users.png",Al=pl+"smart_add_user.png",Ol=function(e,t,n){e.onerror=function(){this.src=n},e.src=t},jl=function(e,t){e.onerror=function(){this.src=t},e.src=e.getAttribute("data-src"),e.removeAttribute("data-src")},Fl=function(e){e.setAttribute("data-src",e.getAttribute("src")),e.removeAttribute("src")};function Nl(e){var t=e.language.split(".")[0];-1!==t.indexOf("pt_")?(yn(),Os=!0):console.log("language is "+t),gn(),iu(),ru(function(){Va?document.body.innerHTML=n:cn=cn+en+Wc(),ru(Pl)})}function Pl(){Rl("label_refresh","icon-refresh",e),Rl("label_search","icon-search",sn),Rl("label_switch","icon-switch",s),Rl("label_controls","icon-question-circle",an),Rl("label_about","icon-info-circle",ln),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_game").innerHTML=p,document.getElementById("chanel_button").innerHTML=E,document.getElementById("game_button").innerHTML=p,document.getElementById("live_button").innerHTML=h,document.getElementById("exit_app_cancel").innerHTML=X,document.getElementById("exit_app_close").innerHTML=J,document.getElementById("remove_cancel").innerHTML=X,document.getElementById("remove_yes").innerHTML=Jt,document.getElementById("exit_app_minimize").innerHTML=W,document.getElementById("main_dialog_exit_text").innerHTML=V,document.getElementById("dialog_about_text").innerHTML=un+dn,document.getElementById("dialog_controls_text").innerHTML=cn,Ha=document.getElementById("scrollbar"),Da=document.getElementById("search_input"),qa=document.getElementById("user_input"),za=document.getElementById("oauth_input"),Fb="true"===(localStorage.getItem("user_Games_live")||"true"),ru(function(){qd(),po(),wa(),Fc(vl),Fc(fl),Fc(ml),Fc(gl),Fc(yl),Fc(_l),Fc(bl),Fc(wl),Fc(Tl),Fc(kl),Fc(El),Fc(Cl),Fc(xl),window.setTimeout(Tc,5e3)})}function Rl(e,t,n){document.getElementById(e).innerHTML='<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+mn+n+"</div>"}function Hl(e,t){document.getElementById(e).style.border=t}function Dl(e,t){document.getElementById(e).style.backgroundColor=t}function ql(){Wl(),document.getElementById("dialog_loading").classList.remove("hide")}function zl(){document.getElementById("dialog_loading").classList.add("hide")}function Vl(){window.clearTimeout(Ts)}function Ul(){Ts=window.setTimeout(Wl,6e3)}function Jl(){Ul(),document.getElementById("main_dialog_exit").classList.remove("hide")}function Wl(){Vl(),document.getElementById("main_dialog_exit").classList.add("hide"),ta=0,Na()}function Xl(){return-1===document.getElementById("main_dialog_exit").className.indexOf("hide")}function Gl(){Sc("dialog_counter_text"),Yl(0,0,0)}function Kl(e,t,n,i){0<i?(document.getElementById("dialog_counter_text").innerHTML=t*n+(e+1)+"/"+i,Yl(t,n,i)):Gl()}function Yl(e,t,n){if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Math.ceil(900/(Math.ceil(n/t)-1)*e+100);Ha.offsetTop!==As&&(Ha.classList.remove("scrolltransition"),Ha.style.top=As+"px",Ha.classList.add("scrolltransition")),As=i,Ha.style.top=As+"px",Is&&(Is=!1,Ha.style.backgroundColor="#777777")}else Ha.style.backgroundColor="#000000",As=100,Is=!0,window.setTimeout(function(){Ha.style.top=As+"px"},400)}function $l(e){(el=12)/3<e&&(el=3*e),99<el&&(el=99)}function Ql(e){Ls||e!==L||(Bs=!0),document.getElementById("dialog_warning_text").innerHTML=Ls?e:Dt,document.getElementById("dialog_warning").classList.remove("hide")}function Zl(){document.getElementById("dialog_warning").classList.add("hide")}function ec(){return-1===document.getElementById("dialog_warning").className.indexOf("hide")}function tc(){Wl(),rc(),lc(),document.getElementById("dialog_about").classList.remove("hide")}function nc(){document.getElementById("dialog_about").classList.add("hide")}function ic(){return-1===document.getElementById("dialog_about").className.indexOf("hide")}function oc(){Wl(),nc(),lc(),document.getElementById("dialog_controls").classList.remove("hide")}function rc(){document.getElementById("dialog_controls").classList.add("hide")}function ac(){return-1===document.getElementById("dialog_controls").className.indexOf("hide")}function sc(){Wl(),nc(),rc(),document.getElementById("dialog_update").classList.remove("hide")}function lc(){document.getElementById("dialog_update").classList.add("hide")}function cc(){return-1===document.getElementById("dialog_update").className.indexOf("hide")}function uc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function dc(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function hc(e){return-1!==e.indexOf("live")?"":G}function pc(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function fc(){jh(),mc(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON)}function mc(){eu("blank_focus"),Ls&&Zl(),cs!==ns&&cs!==Ka&&(fs=ms=!1),Gl(),cs===Wa?wa():cs===Xa?io():cs===Ga?jr():cs===Ka?Uo():cs===Za?Yv():cs===es?wg():cs===ts?ny():cs===ns?Pf():cs===is?y_():cs===os?Tv():cs===rs?WT():cs===Ya?pT():cs===$a?Cw():cs===Qa?Db():cs===as?ib():cs===ss?Sm():wa()}function vc(e){e===Wa?Ta():e===Xa?oo():e===Ga?Fr():e===Ka?Jo():e===Za?$v():e===es?Tg():e===ts?iy():e===ns?Rf():e===is?__():e===os?kv():e===rs?XT():e===Ya?fT():e===$a?xw():e===Qa?qb():e===as?ob():e===ss&&Im()}function gc(){document.body.addEventListener("keydown",op,!1),document.getElementById("scene2").classList.remove("hide"),Fh(),Dh(),document.getElementById("scene1").classList.add("hide"),zd()}function yc(){Rl("label_refresh","icon-refresh",e),Rl("label_search","icon-search",sn),Rl("label_switch","icon-switch",s),document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_game").innerHTML=p}function _c(){Rl("label_refresh","icon-arrow-circle-left",x),Sc("label_switch"),Sc("top_bar_live"),Sc("top_bar_game"),document.getElementById("top_bar_user").classList.add("icon_center_focus")}function bc(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0px 0px 5.7px, #000000 0px 0px 5.7px, #000000 0px 0px 4px">'+e+"</div>"}function wc(e){return e=new Date(e),Os?e.getDate()+" "+$t[e.getMonth()]+", "+e.getFullYear():$t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function Tc(){try{ws=webapis.network.addNetworkStateChangeListener(function(e){1===e||4===e?(Ls=!0,ec()&&(Ql(qt),Bs&&mc(),Bs=!1),Ch()&&Ql(qt),window.setTimeout(Wl,1500)):(Ls=!1,window.setTimeout(function(){Ls||(Ql(""),kh(Dt))},5e3))})}catch(e){}}function kc(){try{webapis.network.removeNetworkStateChangeListener(ws)}catch(e){}}function Ec(){var e=null,t=null,n=null,i=null,o=0;try{e=tizen.application.getAppInfo().version,t=tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version"),i=webapis.productinfo.getFirmware(),n=webapis.productinfo.getModel()}catch(e){}return null!==e&&null!==t&&null!==n&&null!==i&&(hl="APP "+_e+(ul=e)+"."+dl+en+"Tizen "+_e+t+mn+mn+"|"+mn+mn+"TV: "+n+mn+mn+"|"+mn+mn+"FW: "+i+en,e=e.split("."),o=parseInt(e[0]+e[1]+e[2]),document.getElementById("dialog_about_text").innerHTML=un+hl+dn,document.getElementById("dialog_update_text").innerHTML=pn+xe+ul+Se+cl+en+vn,o<ll)}function Cc(){pi(0),cs=Wa,mc()}function xc(){document.hidden?(window.clearInterval(xs),kc()):(window.setTimeout(function(){Tc()},2e4),window.setTimeout(function(){0<Qi.length?((new Date).getTime()-59e4>xy&&My(),xs=window.setInterval(My,6e5)):(window.clearInterval(xs),document.removeEventListener("visibilitychange",xc))},1500))}function Sc(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function Ic(){this.val=0}function Lc(e,t,n){for(var i=0;i<t.length;i++)if(e===t[i])return n.val++,!0;return!1}function Bc(e,t,n){for(var i=0;i<e.length;i++)Ol(document.getElementById(t[i]),e[i],n)}function Mc(e,t,n,i){for(var o,r,a=0;a<t;a++)for(o=0;o<i;o++)null!==(r=document.getElementById(e+a+"_"+o))&&jl(r,n);Oc(0)}function Ac(e,t,n,i,o){var r=Oc(t);if(t===o&&1===r&&(r=0),r)for(var a,s,l=0;l<i;l++)a=0<r?t+o:t-o,null!==(s=document.getElementById(e+a+"_"+l))&&jl(s,n),a=0<r?t-o-1:t+o+1,null!==(s=document.getElementById(e+a+"_"+l))&&Fl(s)}function Oc(e){var t=0;return Ua<e?t=1:e<Ua&&(t=-1),Ua=e,t}function jc(e){Ua=e}function Fc(e){Ja.src=e}function Nc(e){return(Ms=document.createElement("td")).setAttribute("id",e),Ms.className="stream_cell",Ms}function Pc(e,t,n){return(Ms=document.createElement("td")).setAttribute("id",t[4]+e),Ms.setAttribute(sl,n[0]),Ms.setAttribute("data-id",n[1]),Ms.setAttribute("data-views",n[4]),Ms.setAttribute("data-followers",n[5]),Ms.className="stream_cell",Ms.innerHTML=Hc(e,t,n),Ms}function Rc(e,t,n){var i=e.split(n[5])[1];(e=document.getElementById(e)).setAttribute(sl,t[0]),e.setAttribute("data-id",t[1]),e.setAttribute("data-views",t[4]),e.setAttribute("data-followers",t[5]),e.innerHTML=Hc(i,n,t),e.setAttribute("id",n[4]+i)}function Hc(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[2]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function Dc(e,t,n,i){return(Ms=document.createElement("td")).setAttribute("id",n[8]+t),Ms.setAttribute(sl,e),Ms.className="stream_cell",Ms.innerHTML=zc(t,n,i),Ms}function qc(e,t,n,i){var o=e.split(i[9])[1];(e=document.getElementById(e)).setAttribute(sl,t),e.innerHTML=zc(o,i,n),e.setAttribute("id",i[8]+o)}function zc(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[0]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+n[2]+'</div><div id="'+t[5]+e+'"class="stream_info">'+f+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Vc(e,t,n){return(Ms=document.createElement("td")).setAttribute("id",t[5]+e),Ms.setAttribute(sl,n[0]),Ms.className="stream_cell",Ms.innerHTML=Jc(e,t,n),Ms}function Uc(e,t,n){var i=e.split(n[6])[1];(e=document.getElementById(e)).setAttribute(sl,t[0]),e.innerHTML=Jc(i,n,t),e.setAttribute("id",n[5]+i)}function Jc(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[1]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Wc(){var e=en+"Html5 mp4 video support:"+en+tn;if(document.createElement("video").canPlayType){var t=document.createElement("video"),n=t.canPlayType('video/mp4; codecs="avc1.42E01E"');e+=n?"probably"===n?" Full support for avc1.":" Some support for avc1.("+n+")":"No video support for avc1.",e+=en+tn,e+=(n=t.canPlayType('video/mp4; codecs="mp4a.40.2"'))?"probably"===n?" Full support for mp4a.":" Some support for mp4a.("+n+")":" No video support for mp4a."}else e+="No video support at all, createElement video fail.";return e}function Xc(e,t,n,i,o,r){var a=e+"_"+t;document.getElementById(n[0]+a).classList.add(ol),document.getElementById(n[2]+a).classList.add(rl),document.getElementById(n[3]+a).classList.add(al),ru(function(){Zc(n[0],e,t,i,Ps,js,!0)}),Kl(t,e,o,r)}function Gc(e,t){document.getElementById(t[0]+e).classList.remove(ol),document.getElementById(t[2]+e).classList.remove(rl),document.getElementById(t[3]+e).classList.remove(al)}function Kc(e,t,n,i,o,r){var a=e+"_"+t;document.getElementById(n[0]+a).classList.add(ol),document.getElementById(n[2]+a).classList.add(rl),document.getElementById(n[3]+a).classList.add(al),document.getElementById(n[4]+a).classList.add(al),document.getElementById(n[5]+a).classList.add(al),document.getElementById(n[6]+a).classList.add(al),document.getElementById(n[7]+a).classList.add(al),ru(function(){Zc(n[0],e,t,i,Ns,js,!1)}),Kl(t,e,o,r)}function Yc(e,t){document.getElementById(t[0]+e).classList.remove(ol),document.getElementById(t[2]+e).classList.remove(rl),document.getElementById(t[3]+e).classList.remove(al),document.getElementById(t[4]+e).classList.remove(al),document.getElementById(t[5]+e).classList.remove(al),document.getElementById(t[6]+e).classList.remove(al),document.getElementById(t[7]+e).classList.remove(al)}function $c(e,t,n,i,o,r){var a=e+"_"+t;document.getElementById(n[0]+a).classList.add(ol),document.getElementById(n[2]+a).classList.add(rl),document.getElementById(n[3]+a).classList.add(al),document.getElementById(n[4]+a).classList.add(al),ru(function(){Zc(n[0],e,t,i,Rs,Fs,!1)}),Kl(t,e,o,r)}function Qc(e,t){document.getElementById(t[0]+e).classList.remove(ol),document.getElementById(t[2]+e).classList.remove(rl),document.getElementById(t[3]+e).classList.remove(al),document.getElementById(t[4]+e).classList.remove(al)}function Zc(e,t,n,i,o,r,a){var s=e+t+"_"+n;null!==document.getElementById(s)?(i===as||i===ss?pc(t+1,0,e)||(2<t?s=e+(t-1)+"_"+n:t=0):1<t&&r!==Fs&&!pc(t+1,0,e)?s=e+(t-1)+"_"+n:1!==t||r===Fs||pc(t+1,0,e)||(s=e+(t-1)+"_"+n,t=0),t||i!==Ka||(r-=zs),a?(a=!t||1===t)&&(s=e+"0_"+n,o-=Hs):a=!t,cs===i&&window.scroll(0,tu()+nu(s)-o+(a?r:0))):t||n||eu("blank_focus")}function eu(e){window.scroll(0,tu()+nu(e)-Ns)}function tu(){return document.body.scrollTop}function nu(e){return document.getElementById(e).getBoundingClientRect().top}function iu(){for(var e=document.styleSheets,t=0;t<e.length;t++)null!==e[t].href&&(e[t].cssRules.length||ou(e[t].href))}function ou(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function ru(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}tizen.tvinputdevice.registerKey("ChannelUp"),tizen.tvinputdevice.registerKey("ChannelDown"),tizen.tvinputdevice.registerKey("MediaPlayPause"),tizen.tvinputdevice.registerKey("MediaPlay"),tizen.tvinputdevice.registerKey("MediaPause"),tizen.tvinputdevice.registerKey("ColorF0Red"),tizen.tvinputdevice.registerKey("ColorF1Green"),tizen.tvinputdevice.registerKey("ColorF2Yellow"),tizen.tvinputdevice.registerKey("ColorF3Blue"),tizen.tvinputdevice.registerKey("Guide"),tizen.tvinputdevice.registerKey("Info"),document.addEventListener("DOMContentLoaded",function(){tizen.systeminfo.getPropertyValue("LOCALE",Nl)});var au=0,su=null,lu=0,cu=!1,uu=!1,du=0,hu=null,pu=0,fu=-12,mu=12,vu=!1,gu=["2x","1.5x","1x (Normal)","0.5x","0.25x"],yu=2,_u=2,bu=null;function wu(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),bh(),Dh(),Xd(document.getElementById("stream_info_icon"),ys),document.getElementById("stream_info_name").innerHTML=gs,document.getElementById("stream_info_title").innerHTML=vv,document.getElementById("stream_info_game").innerHTML=fv+", "+mv,document.getElementById("stream_live_icon").innerHTML=_v,document.getElementById("stream_live_time").innerHTML=pv,document.getElementById("stream_watching_time").innerHTML=v+uh(0),ku(),_u=yu=2,Md=!1,Bd=2,Pu(),""!==Ss?(Kn=Es,Zn=!0,Ti(),_h()):yh(),document.addEventListener("visibilitychange",Tu,!1),uu=cu=!1,fu=-12,mu=12,vu=!(pu=du=0),ru(function(){jd.src({type:"video/mp4",src:yv}),jd.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!0),this.on("ended",function(){xu()}),this.on("timeupdate",function(){Iu(this.currentTime())}),this.on("error",function(){wh(),kh(S),window.setTimeout(xu,1500)}),this.on("loadedmetadata",function(){cu=!0})}),su=window.setInterval(Cu,500)})}function Tu(){document.hidden&&xu()}function ku(){document.getElementById("quality_name").innerHTML='<i class="icon-refresh" style="color: #FFFFFF; font-size: 90%; text-shadow: #000000 0px 0px 8.7px, #000000 0px 0px 8.7px, #000000 0px 0px 7px;"></i>'+mn+Pt+Rt,document.getElementById("quality_name").style.paddingLeft="27%",document.getElementById("quality_name").style.backgroundColor="rgba(0, 0, 0, 0)",document.getElementById("quality_arrows").style.display="none",document.getElementById("quality_video").style.display="none",document.getElementById("scene2_speed").classList.remove("hide")}function Eu(){document.getElementById("quality_name").style.backgroundColor="rgba(255, 255, 255, 0.6)",document.getElementById("quality_name").style.paddingLeft="0%",document.getElementById("quality_arrows").style.display="inline-block",document.getElementById("quality_video").style.display="inline-block",document.getElementById("scene2_speed").classList.add("hide")}function Cu(){jd.paused()||au!==jd.currentTime()||(lu++,bh(),90<lu&&(lu=0,wh(),kh(A),window.setTimeout(xu,1500))),jd.paused()||jd.play(),au=jd.currentTime()}function xu(){vu&&(Su(),mh())}function Su(){vh(),document.body.removeEventListener("keydown",Ru),document.removeEventListener("visibilitychange",Tu),Lu(),Eu(),window.clearInterval(su),vu=!1}function Iu(e){!Ch()||uu||Md||Eh(),Th()&&wh(),Oh()&&!jd.paused()&&Mh(),cu=!(lu=0),jh()&&(document.getElementById("stream_watching_time").innerHTML=v+uh(e))}function Lu(){Mu(),document.getElementById("scene_channel_panel").classList.add("hide")}function Bu(){lh(),Bd=2,Pu(),yu=_u,Nu(),document.getElementById("stream_watching_time").innerHTML=v+uh(jd.currentTime()),document.getElementById("scene_channel_panel").classList.remove("hide"),Au()}function Mu(){window.clearTimeout(bu)}function Au(){bu=window.setTimeout(Lu,5e3)}function Ou(){jd.paused()||jd.pause(),jd.currentTime(pu),du=0,fu=-12,cu=uu=!(mu=12),jd.play()}function ju(){window.clearTimeout(hu),uu=!0;var e="",t="";if(!du)return pu=0,fu=-12,mu=12,kh(pe),void window.setTimeout(function(){uu=!1},1500);if(du<0)e=(pu=-1===du?-5:-2===du?-10:-3===du?-15:-4===du?-20:-5===du?-25:-6===du?-30:-7===du?-35:-8===du?-40:-9===du?-45:-10===du?-50:-11===du?-55:-60)+me,(t=jd.currentTime()+pu)<0&&(fu=du,t=0),t=uh(pu=t);else{if(e=(pu=1===du?5:2===du?10:3===du?15:4===du?20:5===du?25:6===du?30:7===du?35:8===du?40:9===du?45:10===du?50:11===du?55:60)+me,(t=jd.currentTime()+pu)>av)return pu=0,mu=du,kh(pe+fe),void(hu=window.setTimeout(function(){du=0,uu=!(mu=16)},1500));t=uh(pu=t)}kh(de+e+he+t),hu=window.setTimeout(Ou,1500)}function Fu(){var e=1;yu?1===yu?e=1.5:3===yu?e=.5:4===yu&&(e=.25):e=2,jd.playbackRate(e),Mu(),Lu(),_u=yu}function Nu(){yu?yu===gu.length-1?(document.getElementById("speed_arrow_up").style.opacity="1",document.getElementById("speed_arrow_down").style.opacity="0.2"):(document.getElementById("speed_arrow_up").style.opacity="1",document.getElementById("speed_arrow_down").style.opacity="1"):(document.getElementById("speed_arrow_up").style.opacity="0.2",document.getElementById("speed_arrow_down").style.opacity="1"),document.getElementById("speed_name").innerHTML=gu[yu]}function Pu(){Hl("scene2_quality","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_quality","rgba(0, 0, 0, 0)"),Hl("scene2_heart","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_heart","rgba(0, 0, 0, 0)"),Hl("scene2_speed","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_speed","rgba(0, 0, 0, 0)"),Hl("scene2_channel","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_channel","rgba(0, 0, 0, 0)"),Hl("scene2_search","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_search","rgba(0, 0, 0, 0)"),Bd?1===Bd?(Hl("scene2_heart","3.5px solid #FFFFFF"),Dl("scene2_heart","rgba(0, 0, 0, 0.7)")):2===Bd?(Hl("scene2_speed","3.5px solid #FFFFFF"),Dl("scene2_speed","rgba(0, 0, 0, 0.7)")):3===Bd?(Hl("scene2_channel","3.5px solid #FFFFFF"),Dl("scene2_channel","rgba(0, 0, 0, 0.7)")):4===Bd&&(Hl("scene2_search","3.5px solid #FFFFFF"),Dl("scene2_search","rgba(0, 0, 0, 0.7)")):(Hl("scene2_quality","3.5px solid #FFFFFF"),Dl("scene2_quality","rgba(0, 0, 0, 0.7)"))}function Ru(e){switch(e.keyCode){case xn:jh()?(4<++Bd&&(Bd=0),Pu(),Mu(),Au()):cu&&(fu<du&&du--,ju());break;case Sn:jh()?(--Bd<0&&(Bd=4),Pu(),Mu(),Au()):cu&&(du<mu&&du++,ju());break;case In:jh()?2===Bd&&(Mu(),Au(),--yu<0&&(yu=0),Nu()):Bu();break;case Ln:jh()?2===Bd&&(Mu(),Au(),4<++yu&&(yu=4),Nu()):Bu();break;case Bn:jh()?Bd?1===Bd?(tp(),Mu(),Au()):2===Bd?Fu():3===Bd?(cs!==is&&cs!==os&&cs!==ns&&(us=cs),cs=ns,Sh(),window.setTimeout(xu,10)):4===Bd&&(Kv||(ds=cs),vc(cs),cs=Za,Sh(),window.setTimeout(xu,10)):(jd.src({type:"video/mp4",src:yv}),bh(),Mh(),yu=_u=2,Nu()):Bu();break;case Fn:Uh()?Vh():jh()?Lu():Ih()?(Sh(),window.setTimeout(xu,10)):xh();break;case kn:case Tn:case En:Zh();break;case Cn:case wn:Dh(),id=!1,localStorage.setItem("ChatEnable","false");break;case On:zh()}}var Hu=1,Du=.55,qu=3,zu="",Vu="source",Uu=Vu,Ju=0,Wu=0,Xu=1,Gu=2,Ku=Wu,Yu="",$u=0,Qu=0,Zu=0,ed="",td=[],nd=0,id=!1,od="",rd="",ad="",sd=0,ld="",cd=0,ud=10,dd=0,hd=15,pd=!1,fd=null,md=0,vd=0,gd=0,yd=[],_d=[],bd=!1,wd=0,Td=null,kd=0,Ed=!1,Cd=0,xd=!1,Sd=!1,Id="",Ld="",Bd=0,Md=!1,Ad="",Od="",jd=null,Fd=!1,Nd=1e4,Pd="",Rd="",Hd=3500,Dd="";function qd(){jd=videojs("video_live"),vh(),document.getElementById("scene2_search_text").innerHTML=mn+t,document.getElementById("scene2_channel_text").innerHTML=mn+Ht,document.getElementById("scene2_game_text").innerHTML=mn+Ut,Hu=parseInt(localStorage.getItem("ChatPositionsValue"))||1,Du=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,qu=parseInt(localStorage.getItem("ChatSizeValue"))||3,id="true"===localStorage.getItem("ChatEnable"),document.getElementById("play_dialog_exit_text").innerHTML=z,document.getElementById("dialog_buffer_play_text").innerHTML=D+'<div style="height: 45px; vertical-align: middle; display: inline-block; "><i class="fa icon-circle-o-notch fa-spin"></i></div>',document.getElementById("chat_container").innerHTML='<iframe id="chat_frame" width="100%" height="100%" frameborder="0" scrolling="no" style="position: absolute; overflow: hidden;" src="about:blank"></iframe><div id="scene_channel_dialog_chat" style="position: absolute; text-align: center; width: 100%; margin-top: 50%;"><div id="scene_channel_dialog_chat_text" class="strokedbig" style="display: inline-block; font-size: 216%; color: white;"></div></div>',document.getElementById("dialog_controls_play_text").innerHTML=hn,document.getElementById("stream_controls").innerHTML='<div style="vertical-align: middle; display: inline-block"><i class="icon-question-circle" style="color: #FFFFFF; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+mn+an+"</div>"}function zd(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),bh(),document.getElementById("stream_live_icon").innerHTML='<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+mn+h.toUpperCase()+"</div>",Sc("stream_info_title"),Fd=!1,document.getElementById("stream_info_icon").setAttribute("data-src",Sl),document.getElementById("stream_info_name").innerHTML=Ld,document.getElementById("stream_watching_time").innerHTML=v+uh(0),document.getElementById("stream_live_time").innerHTML=g+uh(0)+y,Gh(!1),Kh(!1),document.getElementById("scene2_game").classList.remove("hide"),Md=!1,dd=0,Nd=1e4,Ud(),Yu=window.setInterval(Wd,6e4),Td=window.setInterval(rh,500),Ku=Wu,pd=!(Zu=Qu=$u=bd=0),document.addEventListener("visibilitychange",Vd,!1),Sd=!1,Gd()}function Vd(){document.hidden?(vh(),Sd=!1,document.getElementById("chat_frame").src="about:blank",window.clearInterval(Yu),window.clearInterval(Td)):(document.getElementById("scene2").classList.remove("hide"),document.getElementById("scene1").classList.add("hide"),Mh(),bh(),window.setTimeout(function(){Iy||(Ed=!0,xd=!(Cd=80),oh(),dd=0,Nd=1e4,window.setTimeout(Ud,7500),Yu=window.setInterval(Wd,6e4),Td=window.setInterval(rh,500))},500))}function Ud(){try{var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);document.getElementById("stream_info_title").innerHTML=e.stream.channel.status,Od=e.stream.game,Dd=", ["+e.stream.channel.language.toUpperCase()+"]",document.getElementById("stream_info_game").innerHTML=f+Od+m+uc(e.stream.viewers)+" "+q+Dd,Ad=e.stream.channel.logo,Xd(document.getElementById("stream_info_icon"),Ad),ld=e.stream.created_at,Fd=!0,Pd=e.stream.channel.views,Rd=e.stream.channel.followers,""!==Ss?(Kn=e.stream.channel._id,Zn=!0,Ti(),_h()):yh()}else Jd()},t.open("GET","https://api.twitch.tv/kraken/streams/"+Id+"?"+Math.round(1e7*Math.random()),!0),t.timeout=Nd,t.setRequestHeader("Client-ID",tl),t.send(null)}catch(e){Jd()}}function Jd(){++dd<hd&&(Nd+=2e3,Ud())}function Wd(){var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState&&200===t.status)try{var e=JSON.parse(t.responseText);document.getElementById("stream_info_title").innerHTML=e.stream.channel.status,document.getElementById("stream_info_game").innerHTML=f+e.stream.game+m+uc(e.stream.viewers)+" "+q+Dd,Fd||Xd(document.getElementById("stream_info_icon"),e.stream.channel.logo)}catch(e){}},t.open("GET","https://api.twitch.tv/kraken/streams/"+Id+"?"+Math.round(1e7*Math.random()),!0),t.timeout=1e4,t.setRequestHeader("Client-ID",tl),t.send(null)}function Xd(e,t){e.onerror=function(){this.src=ml,Fd=!1},e.src=t}function Gd(){cd=0,Hd=3500,Kd()}function Kd(){try{var e,t=new XMLHttpRequest;e=Ku===Wu?"http://api.twitch.tv/api/channels/"+Id+"/access_token":"http://usher.twitch.tv/api/channel/hls/"+Id+".m3u8?player=twitchweb&&type=any&sig="+$u.sig+"&token="+escape($u.token)+"&allow_source=true&allow_audi_only=true&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=Hd,t.setRequestHeader("Client-ID",tl),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{cd=0,pd&&Zd(t.responseText)}catch(e){}else-1!==t.responseText.indexOf("Bad auth token")?Qd():Yd()},t.send(null)}catch(e){Yd()}}function Yd(){pd&&(++cd<ud?(Hd+=cd<5?250:3500,Kd()):(wh(),kh(S),window.setTimeout(ph,2e3)))}function $d(){yd[gd]=Id,_d[gd]=td,gd++}function Qd(){for(var e=0;e<yd.length;e++)yd[e]===Id&&(td=_d[e],bd=!0);bd?(Ku=Gu,pd&&ih()):(wh(),kh(S),window.setTimeout(ph,1500))}function Zd(e){Ku===Wu?($u=JSON.parse(e),Ku=Xu,Gd()):Ku===Xu&&(td=eh(Qu=e),Ku=Gu,Iy=!1,pd&&ih(),$d())}function eh(e){for(var t,n=[],i="",o=1,r=nh(e),a=0;a<r.length;a++)i=r[a].split('NAME="')[1].split('"')[0],t=th(r[a].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[a-o].id!==i&&n[a-o].id!==i+" (source)"?n.push({id:i+t,url:r[a].split("\n")[2]}):o++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i+t,url:r[a].split("\n")[2]}));return n}function th(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function nh(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function ih(){ed=td[nd=0].url,-1!==Vu.indexOf("source")&&(Vu="source");for(var e=0;e<Xh();e++){if(td[e].id===Vu){ed=td[nd=e].url;break}-1!==td[e].id.indexOf(Vu)&&(ed=td[nd=e].url)}Uu=Vu,pd&&oh()}function oh(){bh(),jd.src({type:"application/x-mpegURL",src:ed}),vd=md,Eh(),Fh(),id&&!qh()&&Hh(),Sd||(jd.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!0),this.on("ended",function(){wh(),kh(S),window.setTimeout(ph,1500)}),this.on("timeupdate",function(){sh(this.currentTime())}),this.on("error",function(){wh(),kh(A),window.setTimeout(ph,1500)}),this.on("loadedmetadata",function(){document.getElementById("chat_frame").src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+Id+"&fade=false&bot_activity=true&prevent_clipping=false"})}),Sd=!0)}function rh(){jd.paused()||wd!==jd.currentTime()||(kd++,bh(),xd&&!Ed&&(Cd=-10),30+Cd<kd&&(kd=0,nd<Xh()-1?(xd&&nd++,Wh(),ih(),xd=!0):(wh(),kh(A),window.setTimeout(ph,1500)))),jd.paused()||jd.play(),wd=jd.currentTime()}function ah(){jd.off("ended",null),jd.off("timeupdate",null),jd.off("error",null),jd.off("loadedmetadata",null),jd.off("playing",null),jd.off("canplaythrough",null)}function sh(e){Ch()&&!Md&&Eh(),Th()&&wh(),Oh()&&!jd.paused()&&Mh(),Cd=kd=0,xd=Ed=!1,md=e+vd-14,jh()&&(document.getElementById("stream_watching_time").innerHTML=v+uh(md))}function lh(e){var t,n=new Date;t=Os?n.getDate()+"/"+$t[n.getMonth()]:$t[n.getMonth()]+"/"+n.getDate(),document.getElementById("stream_clock").innerHTML=t+" "+ch(n.getHours())+":"+ch(n.getMinutes())}function ch(e){return e<10?"0"+e:e}function uh(e){var t,n,i;return t=ch(parseInt(e)%60),n=ch((e=Math.floor(e/60))%60),i=ch(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function dh(e){var t;return t=ch((e=Math.floor(e/1e3/60))%60),ch(e=Math.floor(e/60))+":"+t}function hh(e){return dh((new Date).getTime()-new Date(e).getTime())}function ph(){pd&&(fh(),mh())}function fh(){vh(),gh(),pd=!1}function mh(){document.getElementById("scene1").classList.remove("hide"),document.getElementById("scene2").classList.add("hide"),fc()}function vh(){jd.pause(),ah(),jd.autoplay(!1),jd.src({type:"video/mp4",src:Il}),Mh(),Eh()}function gh(){Sd=!1,document.body.removeEventListener("keydown",op),document.removeEventListener("visibilitychange",Vd),vd=md=0,document.getElementById("chat_frame").src="about:blank",window.clearInterval(Yu),window.clearInterval(Td),Cd=0,xd=Ed=!1,document.getElementById("scene2_game").classList.add("hide")}function yh(){document.getElementById("fallow_text").innerHTML=mn+Ft,$n=!1}function _h(){document.getElementById("scene2_heart").classList.remove("hide")}function bh(){document.getElementById("dialog_buffer_play").classList.remove("hide")}function wh(){document.getElementById("dialog_buffer_play").classList.add("hide")}function Th(){return-1===document.getElementById("dialog_buffer_play").className.indexOf("hide")}function kh(e){document.getElementById("dialog_warning_play_text").innerHTML=e,document.getElementById("dialog_warning_play").classList.remove("hide")}function Eh(){document.getElementById("dialog_warning_play_text").innerHTML="",document.getElementById("dialog_warning_play").classList.add("hide")}function Ch(){return-1===document.getElementById("dialog_warning_play").className.indexOf("hide")}function xh(){Ih()?Sh():(document.getElementById("play_dialog_exit").classList.remove("hide"),od=window.setTimeout(xh,3e3))}function Sh(){window.clearTimeout(od),document.getElementById("play_dialog_exit").classList.add("hide")}function Ih(){return-1===document.getElementById("play_dialog_exit").className.indexOf("hide")}function Lh(){window.clearTimeout(rd)}function Bh(){window.clearTimeout(ad)}function Mh(){Lh(),Bh(),document.getElementById("play_dialog_simple_pause").classList.add("hide")}function Ah(){jd.paused()?Oh()?(document.getElementById("play_dialog_simple_pause").classList.add("hide"),ad=window.setTimeout(Ah,8e3)):(document.getElementById("play_dialog_simple_pause").classList.remove("hide"),rd=window.setTimeout(Ah,1500)):Mh()}function Oh(){return-1===document.getElementById("play_dialog_simple_pause").className.indexOf("hide")}function jh(){return-1===document.getElementById("scene_channel_panel").className.indexOf("hide")}function Fh(){Ph(),document.getElementById("scene_channel_panel").classList.add("hide"),Vu=Uu,Ju=0,1!==Hu&&7!==Hu&&8!==Hu||Yh()}function Nh(){Bd=0,ep(),Jh(),Wh(),document.getElementById("stream_live_time").innerHTML=g+hh(ld)+y,document.getElementById("stream_watching_time").innerHTML=v+uh(md),lh(),Sh(),document.getElementById("scene_channel_panel").classList.remove("hide"),Rh(),Ju=-4,1!==Hu&&7!==Hu&&8!==Hu||Yh()}function Ph(){window.clearTimeout(zu)}function Rh(){zu=window.setTimeout(Fh,5e3)}function Hh(){Yh(),document.getElementById("chat_container").classList.remove("hide")}function Dh(){document.getElementById("chat_container").classList.add("hide")}function qh(){return-1===document.getElementById("chat_container").className.indexOf("hide")}function zh(){Sh(),document.getElementById("dialog_controls_play").classList.remove("hide")}function Vh(){document.getElementById("dialog_controls_play").classList.add("hide")}function Uh(){return-1===document.getElementById("dialog_controls_play").className.indexOf("hide")}function Jh(){for(var e=nd=0;e<Xh();e++){if(td[e].id===Vu){nd=e;break}-1!==td[e].id.indexOf(Vu)&&(nd=e)}}function Wh(){nd?nd===Xh()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Vu=td[nd].id).indexOf("source")?document.getElementById("quality_name").innerHTML=Vu.replace("source",ye):document.getElementById("quality_name").innerHTML=Vu}function Xh(){return td.length}function Gh(e){var t=48,n=100,i=50;sd=0,2===qu?(t=32,n=66,i=25,sd=16):1===qu&&(t=17,n=33,i=12.5,sd=31),document.getElementById("chat_container").style.height=t+"%",document.getElementById("scene_channel_dialog_chat").style.marginTop=i+"%",Yh(),e&&$h("Size "+n+"%"),localStorage.setItem("ChatSizeValue",qu)}function Kh(e){var t=Du-.05;t=t<.05?0:t.toFixed(2),document.getElementById("chat_container").style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&$h("Brightness "+(100*t).toFixed(0)+"%"),localStorage.setItem("ChatBackgroundValue",Du)}function Yh(){var e="75.3%",t=52+sd+Ju+"%";Hu||(Hu=8),Hu<9?(1<Hu&&(t="33%"),2<Hu&&(t="0%"),3<Hu&&(e="38.3%"),4<Hu&&(e="0%"),5<Hu&&(t="33%"),6<Hu&&(t=52+sd+Ju+"%"),7<Hu&&(e="38.3%")):Hu=1,document.getElementById("chat_container").style.top=t,document.getElementById("chat_container").style.left=e,localStorage.setItem("ChatPositionsValue",Hu)}function $h(e){window.clearTimeout(fd),document.getElementById("scene_channel_dialog_chat_text").innerHTML=e,document.getElementById("scene_channel_dialog_chat").classList.remove("hide"),fd=window.setTimeout(Qh,1e3)}function Qh(){document.getElementById("scene_channel_dialog_chat").classList.add("hide")}function Zh(){jd.paused()?(Mh(),jd.play(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),jh()&&Fh()):(jd.pause(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON),Ah())}function ep(){Hl("scene2_quality","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_quality","rgba(0, 0, 0, 0)"),Hl("scene2_heart","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_heart","rgba(0, 0, 0, 0)"),Hl("scene2_channel","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_channel","rgba(0, 0, 0, 0)"),Hl("scene2_game","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_game","rgba(0, 0, 0, 0)"),Hl("scene2_search","3.5px solid rgba(0, 0, 0, 0)"),Dl("scene2_search","rgba(0, 0, 0, 0)"),Bd?1===Bd?(Hl("scene2_heart","3.5px solid #FFFFFF"),Dl("scene2_heart","rgba(0, 0, 0, 0.7)")):2===Bd?(Hl("scene2_game","3.5px solid #FFFFFF"),Dl("scene2_game","rgba(0, 0, 0, 0.7)")):3===Bd?(Hl("scene2_channel","3.5px solid #FFFFFF"),Dl("scene2_channel","rgba(0, 0, 0, 0.7)")):4===Bd&&(Hl("scene2_search","3.5px solid #FFFFFF"),Dl("scene2_search","rgba(0, 0, 0, 0.7)")):(Hl("scene2_quality","3.5px solid #FFFFFF"),Dl("scene2_quality","rgba(0, 0, 0, 0.7)"))}function tp(){""!==Yn?$n?Li():xi():(kh(Nt),Md=!0,window.setTimeout(function(){Eh(),Md=!1},2e3))}function np(){$n?(document.getElementById("fallow_heart").innerHTML='<i class="icon-heart" style="color: #00b300; font-size: 210%; text-shadow: #FFFFFF 0px 0px 3px, #FFFFFF 0px 0px 3px, #FFFFFF 0px 0px 2px;"></i>',document.getElementById("fallow_text").innerHTML=mn+Lt):(document.getElementById("fallow_heart").innerHTML='<i class="icon-heart-o" style="color: #FFFFFF; font-size: 210%; text-shadow: #000000 0px 0px 3px, #000000 0px 0px 3px, #000000 0px 0px 2px;"></i>',document.getElementById("fallow_text").innerHTML=mn+Bt)}function ip(e){Uh()?Vh():jh()?Fh():Ih()?(Sh(),Dh(),e?window.setTimeout(rf,10):window.setTimeout(ph,10)):(Ch()&&Eh(),xh())}function op(e){if(Ku!==Gu)switch(e.keyCode){case Fn:Ih()?(Sh(),Dh(),window.setTimeout(ph,10)):xh()}else switch(e.keyCode){case Cn:case wn:qh()?(Dh(),id=!1,localStorage.setItem("ChatEnable","false")):(Hh(),id=!0,localStorage.setItem("ChatEnable","true"));break;case _n:qh()&&(Hu++,Yh());break;case bn:qh()&&(Hu--,Yh());break;case xn:!jh()&&qh()?((Du-=.05)<.05&&(Du=.05),Kh(!0)):jh()?(4<++Bd&&(Bd=0),ep(),Ph(),Rh()):Nh();break;case Sn:!jh()&&qh()?(1.05<(Du+=.05)&&(Du=1.05),Kh(!0)):jh()?(--Bd<0&&(Bd=4),ep(),Ph(),Rh()):Nh();break;case In:jh()?(0<nd&&!Bd&&(nd--,Wh()),Ph(),Rh()):qh()?qu<3?(qu++,Gh(!0)):$h("Size 100%"):Nh();break;case Ln:jh()?(nd<Xh()-1&&!Bd&&(nd++,Wh()),Ph(),Rh()):qh()?1<qu?(qu--,Gh(!0)):$h("Size 33%"):Nh();break;case Bn:jh()?Bd?1===Bd?(tp(),Ph(),Rh()):2===Bd?(ms||(ps=fs&&cs!==ns&&cs!==is&&cs!==os?hs:cs,ms=!0),vc(cs),cs=Ka,zo=!1,ks=Od,Sh(),Dh(),window.setTimeout(ph,10)):3===Bd?(fs||cs===is||cs===os||(hs=ms&&cs!==Ka?ps:cs,fs=!0),vs=Id,Es=Kn,gs=Ld,ys=Ad,_s=Pd,bs=Rd,vc(cs),Of=$n,cs=ns,Sh(),Dh(),window.setTimeout(ph,10)):4===Bd&&(Kv||(ds=cs),vc(cs),cs=Za,Sh(),Dh(),window.setTimeout(ph,10)):(ih(),Mh()):Nh();break;case Fn:ip(!1);break;case kn:case Tn:case En:Zh();break;case On:zh()}}var rp="",ap="source",sp=ap,lp=0,cp=1,up=2,dp=lp,hp="",pp=0,fp=0,mp=0,vp="",gp=[],yp=0,_p=0,bp=10,wp=!1,Tp=0,kp=[],Ep=[],Cp=0,xp=0,Sp=null,Ip=0,Lp=!1,Bp=0,Mp=!1,Ap=!1,Op=!1,jp=!1,Fp=null,Np=0,Pp=!1,Rp=0,Hp=-16,Dp=16,qp=3500,zp=!1;function Vp(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),bh(),Dh(),Xd(document.getElementById("stream_info_icon"),ys),document.getElementById("stream_info_name").innerHTML=gs,document.getElementById("stream_info_title").innerHTML=p_,document.getElementById("stream_info_game").innerHTML=f_+", ["+a_.toUpperCase()+"]",document.getElementById("stream_live_icon").innerHTML=m_,document.getElementById("stream_live_time").innerHTML=v_,document.getElementById("stream_watching_time").innerHTML=v+uh(0),""!==Ss?(Kn=Es,Zn=!0,Ti(),_h()):yh(),document.getElementById("scene2_game").classList.remove("hide"),Pp=Md=zp=!1,mp=fp=pp=Rp=0,Hp=-16,Dp=16,dp=lp,document.addEventListener("visibilitychange",Up,!1),Sp=window.setInterval(nf,500),wp=!(jp=Op=Ap=!1),Jp()}function Up(){document.hidden?(jd.pause(),Tp=jd.currentTime(),vh(),window.clearInterval(Sp),Mh()):(document.getElementById("scene2").classList.remove("hide"),document.getElementById("scene1").classList.add("hide"),Mh(),bh(),window.setTimeout(function(){Op=!1,tf(),Bp=80,Mp=!(Lp=!0),Sp=window.setInterval(nf,500)},500))}function Jp(){_p=0,qp=3500,Wp()}function Wp(){try{var e,t=new XMLHttpRequest;e=dp===lp?"https://api.twitch.tv/api/vods/"+h_+"/access_token"+(0!==Yn?"?oauth_token="+Yn:""):"http://usher.twitch.tv/vod/"+h_+".m3u8?player=twitchweb&&type=any&nauthsig="+pp.sig+"&nauth="+escape(pp.token)+"&allow_source=true&allow_audi_only=true&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=qp,t.setRequestHeader("Client-ID",tl),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{_p=0,wp&&Yp(t.responseText)}catch(e){}else-1!==t.responseText.indexOf("Bad auth token")?Kp():Xp()},t.send(null)}catch(e){Xp()}}function Xp(){if(wp){if(0!==JSON.parse(pp.token).chansub.restricted_bitrates.length)return void $p();++_p<bp?(qp+=_p<5?250:3500,Wp()):(wh(),kh(S),window.setTimeout(rf,2e3))}}function Gp(){kp[Cp]=h_,Ep[Cp]=gp,Cp++}function Kp(){for(var e=0;e<kp.length;e++)kp[e]===vs&&(gp=Ep[e],zp=!0);zp?(dp=up,wp&&ef()):(wh(),kh(S),window.setTimeout(rf,1500))}function Yp(e){dp===lp?(pp=JSON.parse(e),dp=cp,Jp()):dp===cp&&(gp=eh(fp=e),dp=Gu,wp&&ef(),Gp())}function $p(){""!==Yn?Ai():(wh(),kh(I+Mt),window.setTimeout(function(){wp&&rf()},4e3))}function Qp(){wh(),kh(I+At),window.setTimeout(function(){wp&&rf()},4e3)}function Zp(){wh(),kh(I+Ot),window.setTimeout(function(){wp&&rf()},4e3)}function ef(){vp=gp[yp=0].url,-1!==ap.indexOf("source")&&(ap="source");for(var e=0;e<ff();e++){if(gp[e].id===ap){vp=gp[yp=e].url;break}-1!==gp[e].id.indexOf(ap)&&(vp=gp[yp=e].url)}sp=ap,wp&&tf()}function tf(){bh(),jd.src({type:"application/x-mpegURL",src:vp}),Ap=!1,Eh(),lf(),Op||(jd.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!1),this.on("ended",function(){wh(),kh(S),window.setTimeout(rf,1500)}),this.on("timeupdate",function(){of(this.currentTime())}),this.on("error",function(){wh(),kh(A),window.setTimeout(rf,1500)}),this.on("loadedmetadata",function(){0<Tp&&Tp!==this.currentTime()?(jp=!0,this.currentTime(Tp),bh(),Mh()):this.autoplay(!0),Ap=!0}),this.on("playing",function(){0<Tp&&(Tp=0)}),this.on("canplaythrough",function(){jp&&(jp=!1,this.play())})}),Op=!0)}function nf(){jd.paused()||xp!==jd.currentTime()||(Ip++,bh(),Mp&&!Lp&&(Bp=-10),30+Bp<Ip&&(Ip=0,yp<ff()-1?(Mp&&yp++,pf(),Tp||(Tp=jd.currentTime()),ef(),Mp=!0):(wh(),kh(A),window.setTimeout(rf,1500)))),jd.paused()||jd.play(),xp=jd.currentTime()}function of(e){!Ch()||Pp||Md||Eh(),Th()&&!jp&&wh(),Oh()&&!jd.paused()&&Mh(),Bp=Ip=0,Ap=!(Mp=Lp=!1),jh()&&(document.getElementById("stream_watching_time").innerHTML=v+uh(e))}function rf(){wp&&(af(),mh())}function af(){vh(),sf(),wp=!1}function sf(){Op=!1,document.body.removeEventListener("keydown",gf),document.removeEventListener("visibilitychange",Up),Tp=0,window.clearInterval(hp),window.clearInterval(Sp),Bp=0,Mp=Lp=!1,document.getElementById("scene2_game").classList.add("hide")}function lf(){uf(),document.getElementById("scene_channel_panel").classList.add("hide"),ap=sp}function cf(){Bd=0,ep(),hf(),lh(),document.getElementById("stream_watching_time").innerHTML=v+uh(jd.currentTime()),pf(),document.getElementById("scene_channel_panel").classList.remove("hide"),df()}function uf(){window.clearTimeout(rp)}function df(){rp=window.setTimeout(lf,5e3)}function hf(){for(var e=yp=0;e<ff();e++){if(gp[e].id===ap){yp=e;break}-1!==gp[e].id.indexOf(ap)&&(yp=e)}}function pf(){yp?yp===ff()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(ap=gp[yp].id).indexOf("source")?document.getElementById("quality_name").innerHTML=ap.replace("source",ye):document.getElementById("quality_name").innerHTML=ap}function ff(){return gp.length}function mf(){jd.paused()||jd.pause(),jd.currentTime(Np),Rp=0,Hp=-16,Ap=Pp=!(Dp=16),jd.play(),Mh()}function vf(){window.clearTimeout(Fp),Pp=!0;var e="",t="";if(!Rp)return Np=0,Hp=-16,Dp=16,kh(pe),void(Fp=window.setTimeout(function(){Pp=!1},1500));if(Rp<0)e=(Np=-1===Rp?-5:-2===Rp?-10:-3===Rp?-15:-4===Rp?-30:-5===Rp?-60:-6===Rp?-120:-7===Rp?-300:-8===Rp?-600:-9===Rp?-900:-10===Rp?-1800:-11===Rp?-3600:-12===Rp?-7200:-13===Rp?-10800:-14===Rp?-14400:-15===Rp?-18e3:-36e3)+me,Np<-30&&(e=Np/60+ve),Np<-1800&&(e=Np/60/60+ge),(t=jd.currentTime()+Np)<0&&(Hp=Rp,t=0),t=uh(Np=t);else{if(e=(Np=1===Rp?5:2===Rp?10:3===Rp?15:4===Rp?30:5===Rp?60:6===Rp?120:7===Rp?300:8===Rp?600:9===Rp?900:10===Rp?1800:11===Rp?3600:12===Rp?7200:13===Rp?10800:14===Rp?14400:15===Rp?18e3:36e3)+me,30<Np&&(e=Np/60+ve),1800<Np&&(e=Np/60/60+ge),(t=jd.currentTime()+Np)>i_)return Np=0,Dp=Rp,kh(pe+fe),void(Fp=window.setTimeout(function(){Rp=0,Pp=!(Dp=16)},1500));t=uh(Np=t)}kh(de+e+he+t),Fp=window.setTimeout(mf,1500)}function gf(e){if(dp!==up)switch(e.keyCode){case Fn:Ih()?(Sh(),window.setTimeout(rf,10)):xh()}else switch(e.keyCode){case Cn:case wn:Dh(),id=!1,localStorage.setItem("ChatEnable","false");break;case xn:jh()?(4<++Bd&&(Bd=0),ep(),uf(),df()):Ap&&(Hp<Rp&&Rp--,vf());break;case Sn:jh()?(--Bd<0&&(Bd=4),ep(),uf(),df()):Ap&&(Rp<Dp&&Rp++,vf());break;case In:jh()?(0<yp&&!Bd&&(yp--,pf()),uf(),df()):cf();break;case Ln:jh()?(yp<ff()-1&&!Bd&&(yp++,pf()),uf(),df()):cf();break;case Bn:jh()?Bd?1===Bd?(tp(),uf(),df()):2===Bd?(ms||(ps=fs&&cs!==ns&&cs!==is&&cs!==os?hs:cs,ms=!0),vc(cs),cs=Ka,zo=!1,ks=s_,Sh(),window.setTimeout(rf,10)):3===Bd?(fs||cs===is||cs===os||(hs=ms?ps:cs,fs=!0),vc(cs),cs=ns,Sh(),window.setTimeout(rf,10)):3===Bd&&(Kv||(ds=cs),vc(cs),cs=Za,Sh(),window.setTimeout(rf,10)):(Tp||(Tp=jd.currentTime()),ef(),Mh()):cf();break;case Fn:ip(!0);break;case kn:case Tn:case En:Zh();break;case On:zh()}}var yf,_f=0,bf=0,wf=!1,Tf=0,kf="",Ef="",Cf=!1,xf=0,Sf=10,If=3500,Lf=0,Bf=!0,Mf=25,Af=!1,Of=!1,jf=["scc_thumbdiv","scc_img","scc_infodiv","scc_name","scc_createdon","scc_game","scc_viwers","scc_duration","scc_cell","sccempty_"],Ff=!1,Nf="";function Pf(){cs=ns,Nf!==vs&&(Ff=!1),_c(),document.getElementById("top_bar_user").innerHTML=gs,document.getElementById("top_bar_game").innerHTML=Ht,Sc("id_agame_name"),document.body.addEventListener("keydown",im,!1),Zn=!1,Ff?(Zc(jf[0],_f,bf,ns,Ns,js,!1),Qf()):Hf()}function Rf(){yc(),document.body.removeEventListener("keydown",im)}function Hf(){Zl(),Nf=vs,Af=Ff=!1,eu("blank_focus"),ql(),Sc("stream_table_search_channel_a"),wf=!1,yf=void(_f=bf=Tf=Lf=0),Df(),qf()}function Df(){kf=[],Ef=[],Cf=!0,xf=0,If=3500}function qf(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==yf?yf:vs)+"?"+Math.round(1e7*Math.random()),!0),e.timeout=If,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void(null!==JSON.parse(e.responseText).stream?Wf(e.responseText):(Df(),Vf()));zf()}},e.send(null)}catch(e){zf()}}function zf(){++xf<Sf?(If+=xf<5?250:3500,qf()):Wf(null)}function Vf(){try{var e=new XMLHttpRequest;e.open("GET","http://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Es)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=If,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Jf(e.responseText);Uf()}},e.send(null)}catch(e){Uf()}}function Uf(){++xf<Sf?(If+=3500,Vf()):Wf(null)}function Jf(e){var t=JSON.parse(e);void 0!==(yf=t.hosts[0].target_login)?(Df(),qf()):Wf(null)}function Wf(e){var t=document.createElement("tr"),n=0;if(null!==e){var i=JSON.parse(e);if(null!==i.stream){var o=void 0!==yf?gs+ne:"",r=i.stream;t.appendChild(Xf("0_"+n,r.channel.name,r.preview.template,r.channel.status,r.game,hc(JSON.stringify(r.stream_type))+o+r.channel.display_name,g+hh(r.created_at)+y+", "+m+uc(r.viewers)+q,dc(r.video_height,r.average_fps,r.channel.language))),n++}else Af=!0}else Af=!0;t.appendChild(Gf("0_"+n,gs,gs+O,bl)),n++,t.appendChild(Gf("0_"+n,gs,gs+F,wl)),n<2&&(n++,t.appendChild(Nc(jf[9]+"0_"+n))),document.getElementById("stream_table_search_channel_a").appendChild(t),(t=document.createElement("tr")).appendChild(Kf("1_0",gs,gs,ys)),document.getElementById("stream_table_search_channel_a").appendChild(t),$f()}function Xf(e,t,n,i,o,r,a,s){return n=n.replace("{width}x{height}",nl),kf.push(n),Ef.push(jf[1]+e),(Ms=document.createElement("td")).setAttribute("id",jf[8]+e),Ms.setAttribute(sl,t),Ms.className="stream_cell",Ms.innerHTML='<div id="'+jf[0]+e+'" class="stream_thumbnail_video" ><img id="'+jf[1]+e+'" class="stream_img"></div><div id="'+jf[2]+e+'" class="stream_text"><div id="'+jf[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==yf?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+mn+r+'</div><div id="'+jf[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+s+'</div><div id="'+jf[4]+e+'"class="stream_info">'+i+'</div><div id="'+jf[5]+e+'"class="stream_info">'+f+o+'</div><div id="'+jf[6]+e+'"class="stream_info">'+a+"</div></div>",Ms}function Gf(e,t,n,i){return kf.push(i),Ef.push(jf[1]+e),(Ms=document.createElement("td")).setAttribute("id",jf[8]+e),Ms.setAttribute(sl,t),Ms.className="stream_cell",Ms.innerHTML='<div id="'+jf[0]+e+'" class="stream_thumbnail_video" ><img id="'+jf[1]+e+'" class="stream_img"></div><div id="'+jf[2]+e+'" class="stream_text"><div id="'+jf[3]+e+'" class="stream_channel">'+n+'</div><div id="'+jf[4]+e+'"class="stream_info hide"></div><div id="'+jf[5]+e+'"class="stream_info hide"></div><div id="'+jf[6]+e+'"class="stream_info hide" ></div><div id="'+jf[7]+e+'"class="stream_info hide"></div></div>',Ms}function Kf(e,t,n,i){return kf.push(i),Ef.push(jf[1]+e),(Ms=document.createElement("td")).setAttribute("id",jf[8]+e),Ms.setAttribute(sl,t),Ms.className="stream_cell",Ms.innerHTML='<div id="'+jf[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+jf[1]+e+'" class="stream_img_fallow"></div><div id="'+jf[2]+e+'" class="stream_text"><div id="'+jf[3]+e+'" class="stream_channel">'+n+'</div><div id="'+jf[4]+e+'"class="stream_info hide"></div><div id="'+jf[5]+e+'"class="stream_info">'+uc(_s)+H+'</div><div id="'+jf[6]+e+'"class="stream_info" >'+uc(bs)+zt+'</div><div id="'+jf[7]+e+'"class="stream_info hide"></div></div>',Ms}function Yf(){$n?(document.getElementById("schannel_cont_heart").innerHTML='<i class="icon-heart" style="color: #00b300; font-size: 1200%; text-shadow: #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 8px;"></i>',document.getElementById(jf[3]+"1_0").innerHTML=gs+Lt):(document.getElementById("schannel_cont_heart").innerHTML='<i class="icon-heart-o" style="color: #FFFFFF; font-size: 1200%; text-shadow: #000000 0px 0px 10px, #000000 0px 0px 10px, #000000 0px 0px 8px;"></i>',document.getElementById(jf[3]+"1_0").innerHTML=""!==Ss?gs+Bt:gs+Vt)}function $f(){ru(function(){Ff||(zl(),Ff=!0,Zf(),Zc(jf[0],_f,bf,ns,Ns,js,!1)),Qf(),Bc(kf,Ef,vl),Cf=!1})}function Qf(){Of?Yf():""!==Ss?(Kn=Es,Zn=!1,Ti()):($n=!1,Yf())}function Zf(){var e=_f+"_"+(_f?0:bf);document.getElementById(jf[0]+e).classList.add(ol),document.getElementById(jf[2]+e).classList.add(rl),document.getElementById(jf[3]+e).classList.add(al),document.getElementById(jf[4]+e).classList.add(al),document.getElementById(jf[5]+e).classList.add(al),document.getElementById(jf[6]+e).classList.add(al),document.getElementById(jf[7]+e).classList.add(al)}function em(){Yc(_f+"_"+(_f?0:bf),jf)}function tm(){Bf=!0}function nm(){if(_f)""!==Yn?(Zn=!1,Kn=Es,$n?Li():xi()):(Ql(Nt),window.setTimeout(Zl,2e3));else{document.body.removeEventListener("keydown",im);var e=Af?1:0;bf===0-e?(Id=document.getElementById(jf[8]+_f+"_"+bf).getAttribute(sl),-1!==(Ld=document.getElementById(jf[3]+_f+"_"+bf).textContent).indexOf(ne)&&(Ld=Ld.split(ne)[1]),gc()):bf===1-e?y_():bf===2-e&&Tv()}}function im(e){if(Cf)e.preventDefault();else if(Bf)switch(Bf=!1,window.setTimeout(tm,Mf),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=hs,Rf(),mc());break;case xn:em(),--bf<0&&(bf=Af?1:2),Zf();break;case Sn:em(),(Af?1:2)<++bf&&(bf=0),Zf();break;case In:case Ln:em(),_f=_f?0:1,Zf();break;case Cn:case wn:Hf();break;case kn:case Tn:case En:case Bn:nm();break;case Mn:tc();break;case An:Rf(),Cc();break;case On:oc();break;case jn:Kv||(ds=ns),cs=Za,yc(),document.body.removeEventListener("keydown",im),mc()}else e.preventDefault()}var om=0,rm=0,am=!1,sm=0,lm=[],cm=[],um=!1,dm=0,hm=10,pm=3500,fm=0,mm=0,vm=!0,gm=25,ym=!1,_m=0,bm=!1,wm=!1,Tm="",km=!1,Em=!1,Cm=!1,xm=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_"];function Sm(){cs=ss,Kv=Em=!0,Tm!==Wv&&(wm=!1),_c(),document.getElementById("top_bar_user").innerHTML=t+bc(E+" '"+Wv+"'"),document.body.addEventListener("keydown",Um,!1),jc(om),wm?(Zc(xm[0],om,rm,ss,Ps,js,!0),Kl(rm,om,Qs,sm)):Bm()}function Im(){yc(),document.body.removeEventListener("keydown",Um)}function Lm(){mc()}function Bm(){Tm=Wv,Zl(),wm=!1,eu("blank_focus"),ql(),Sc("stream_table_search_channel"),ym=Cm=!1,lm=[],om=rm=sm=_m=mm=fm=0,am=km=!(cm=[]),Gl(),Mm(),Am()}function Mm(){um=!0,dm=0,pm=3500}function Am(){try{var e=new XMLHttpRequest,t=sm+mm;t&&_m-1<t&&(t=_m-$s,ym=am=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Wv)+"&limit="+$s+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=pm,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void jm(e.responseText);Om()}},e.send(null)}catch(e){Om()}}function Om(){++dm<hm?(pm+=dm<5?250:3500,Am()):(Cm=um=!1,zl(),Ql(L))}function jm(e){var t=JSON.parse(e),n=t.channels.length;_m=parseInt(t._total),n<$s&&(am=!0);var i=sm;bm=!(sm+=n);var o=n/Qs;0<n%Qs&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Qs+u,s=document.createElement("tr"),r=0;r<Qs&&c<n;r++,c++)Nm((l=t.channels[c]).name)?r--:s.appendChild(Fm(a,a+"_"+r,[l.name,l._id,l.logo,l.display_name,l.views,l.followers]));for(;r<Qs;r++)am&&!km&&(km=!0,sm=a*Qs+r),s.appendChild(Nc(xm[5]+a+"_"+r)),cm.push(xm[5]+a+"_"+r);document.getElementById("stream_table_search_channel").appendChild(s)}Pm()}function Fm(e,t,n){return lm.push(n[1]),e<4&&Fc(n[2]),Pc(t,xm,n)}function Nm(e){for(var t=0;t<lm.length;t++)if(e===lm[t])return fm++,!0;return!1}function Pm(){ru(function(){if(wm){if(0<fm&&!am)return Cm=!0,Mm(),void Rm();fm=0,Cm=um=!(cm=[])}else zl(),bm?Ql(a):(wm=!0,qm(),Mc(xm[1],9,ml,Qs)),um=!1})}function Rm(){try{var e=new XMLHttpRequest;$l(fm);var t=sm+mm;t&&_m-1<t&&(t=_m-el,ym=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Wv)+"&limit="+el+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=pm,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Dm(e.responseText)},e.send(null)}catch(e){Hm()}}function Hm(){++dm<hm?(pm+=dm<5?250:3500,Rm()):(ym=!0,fm=0,cm=[],Pm())}function Dm(e){var t,n,i=JSON.parse(e),o=i.channels.length,r=0,a=cm.slice();_m=parseInt(i._total),o<Js&&(ym=!0);for(var s=0;s<cm.length&&r<o;s++,r++)Nm((t=i.channels[r]).name)?(fm--,s--):(SChannels_replaceCellEmpty(cm[s],[t.name,t._id,t.logo,t.display_name,t.views,t.followers],xm),fm--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));mm+=r,ym?(fm=0,cm=[]):cm=a,Pm()}function qm(){Xc(om,rm,xm,ss,Qs,sm),3<om&&Ac(xm[1],om,ml,Qs,4),sm/Qs<om+Zs&&!am&&!Cm&&(Cm=!0,Mm(),Am())}function zm(){Gc(om+"_"+rm,xm)}function Vm(){vm=!0}function Um(e){var t;if(!um||Cm)if(vm)switch(vm=!1,window.setTimeout(Vm,gm),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=cs===ds?Wa:ds,Im(),Kv=!1,Lm());break;case xn:if(pc(om,rm-1,xm[0]))zm(),rm--,qm();else for(t=Qs-1;-1<t;t--)if(pc(om-1,t,xm[0])){zm(),om--,rm=t,qm();break}break;case Sn:pc(om,rm+1,xm[0])?(zm(),rm++,qm()):pc(om+1,0,xm[0])&&(zm(),om++,rm=0,qm());break;case In:for(t=0;t<Qs;t++)if(pc(om-1,rm-t,xm[0])){zm(),om--,rm-=t,qm();break}break;case Ln:for(t=0;t<Qs;t++)if(pc(om+1,rm-t,xm[0])){zm(),om++,rm-=t,qm();break}break;case Cn:case wn:Cm||Bm();break;case kn:case Tn:case En:case Bn:Cm||(vs=document.getElementById(xm[4]+om+"_"+rm).getAttribute(sl),Es=document.getElementById(xm[4]+om+"_"+rm).getAttribute("data-id"),gs=document.getElementById(xm[3]+om+"_"+rm).textContent,ys=document.getElementById(xm[1]+om+"_"+rm).src,_s=document.getElementById(xm[4]+om+"_"+rm).getAttribute("data-views"),bs=document.getElementById(xm[4]+om+"_"+rm).getAttribute("data-followers"),document.body.removeEventListener("keydown",Um),hs=ss,cs=ns,Of=$n=!(fs=!0),mc());break;case Mn:tc();break;case An:Im(),Kv=!1,Cc();break;case On:oc();break;case jn:cs=Za,Im(),Lm()}else e.preventDefault();else e.preventDefault()}var Jm=0,Wm=0,Xm=!1,Gm=0,Km=[],Ym=[],$m=!1,Qm=0,Zm=10,ev=3500,tv=0,nv=!0,iv=25,ov=!1,rv=0,av=0,sv=!1,lv=["sp_thumbdiv","sp_img","sp_infodiv","sp_title","sp_createdon","sp_game","sp_viwers","sp_duration","sp_cell","spempty_"],cv=!1,uv=null,dv=1,hv="week",pv=0,fv="",mv="",vv="",gv="",yv="",_v="",bv=!1,wv=!1;function Tv(){cs=os,vs!==gv&&(cv=!1),_c(),xv(),document.getElementById("top_bar_user").innerHTML=gs,Rl("label_switch","icon-switch",c),document.body.addEventListener("keydown",zv,!1),jc(Jm),cv?(Zc(lv[0],Jm,Wm,os,Ns,js,!1),Kl(Wm,Jm,Ws,Gm)):Ev()}function kv(){yc(),document.body.removeEventListener("keydown",zv)}function Ev(){Zl(),eu("blank_focus"),ql(),gv=vs,uv=null,cv=!1,Sc("stream_table_search_clip"),ov=wv=!1,Km=[],Jm=Wm=Gm=rv=tv=0,Xm=bv=!(Ym=[]),Gl(),Cv(),Sv()}function Cv(){$m=!0,Qm=0,ev=3500}function xv(){dv?1===dv?(document.getElementById("top_bar_game").innerHTML=F+le,hv="week"):2===dv?(document.getElementById("top_bar_game").innerHTML=F+ce,hv="month"):3===dv&&(document.getElementById("top_bar_game").innerHTML=F+ue,hv="all"):(document.getElementById("top_bar_game").innerHTML=F+se,hv="day")}function Sv(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(vs)+"&limit="+Js+"&period="+encodeURIComponent(hv)+(null===uv?"":"&cursor="+encodeURIComponent(uv))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ev,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Lv(e.responseText);Iv()}},e.send(null)}catch(e){Iv()}}function Iv(){++Qm<Zm?(ev+=Qm<5?250:3500,Sv()):(wv=$m=!1,zl(),Ql(L))}function Lv(e){var t=JSON.parse(e),n=t.clips.length;uv=t._cursor,n<Js&&(Xm=!0);var i=Gm;sv=!(Gm+=n);var o=n/Ws;0<n%Ws&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ws+u,s=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)jv((l=t.clips[c]).tracking_id)?r--:s.appendChild(Bv(a,a+"_"+r,l.thumbnails.medium.split("-preview")[0]+".mp4"+l.duration,[l.thumbnails.medium,l.title,P+wc(l.created_at),l.game,uc(l.views)+H,R+uh(l.duration)]));for(;r<Ws;r++)Xm&&!bv&&(bv=!0,Gm=a*Ws+r),s.appendChild(Nc(lv[9]+a+"_"+r)),Ym.push(lv[9]+a+"_"+r);document.getElementById("stream_table_search_clip").appendChild(s)}Fv()}function Bv(e,t,n,i){return Km.push(n),e<Ws&&Fc(i[0]),Mv(n,t,i)}function Mv(e,t,n){return(Ms=document.createElement("td")).setAttribute("id",lv[8]+t),Ms.setAttribute(sl,e),Ms.className="stream_cell",Ms.innerHTML=Ov(t,lv,n),Ms}function Av(e,t,n){var i=e.split(lv[9])[1];(e=document.getElementById(e)).setAttribute(sl,t),e.innerHTML=zc(i,Qr,n),e.setAttribute("id",lv[8]+i)}function Ov(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[0]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_info" style="font-size: 155%;">'+n[1]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+n[2]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:39%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[5]+e+'"class="stream_info">'+f+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function jv(e){for(var t=0;t<Km.length;t++)if(e===Km[t])return tv++,!0;return!1}function Fv(){ru(function(){if(cv){if(0<tv&&!Xm)return wv=!0,Cv(),void Nv();tv=0,wv=$m=!(Ym=[])}else zl(),sv?Ql(B+F):(cv=!0,Hv(),Mc(lv[1],9,vl,Ws)),$m=!1})}function Nv(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(vs)+"&limit="+tv+"&period="+hv+(null===uv?"":"&cursor="+encodeURIComponent(uv))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ev,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Rv(e.responseText)},e.send(null)}catch(e){Pv()}}function Pv(){++Qm<Zm?(ev+=Qm<5?250:3500,Nv()):(ov=!0,tv=0,Ym=[],Fv())}function Rv(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=Ym.slice();uv=i._cursor,o<tv&&(ov=!0);for(var s=0;s<Ym.length&&r<o;s++,r++)jv((t=i.clips[r]).tracking_id)?(tv--,s--):(Av(Ym[s],t.thumbnails.medium.split("-preview")[0]+".mp4",[t.thumbnails.medium,t.title,t.game,P+wc(t.created_at),uc(t.views)+q,R+uh(t.duration)]),tv--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));ov?(tv=0,Ym=[]):Ym=a,Fv()}function Hv(){document.getElementById(lv[0]+Jm+"_"+Wm).classList.add("stream_thumbnail_focused"),document.getElementById(lv[2]+Jm+"_"+Wm).classList.add("stream_text_focused"),document.getElementById(lv[3]+Jm+"_"+Wm).classList.add("stream_info_focused"),document.getElementById(lv[4]+Jm+"_"+Wm).classList.add("stream_info_focused"),document.getElementById(lv[5]+Jm+"_"+Wm).classList.add("stream_info_focused"),document.getElementById(lv[6]+Jm+"_"+Wm).classList.add("stream_info_focused"),document.getElementById(lv[7]+Jm+"_"+Wm).classList.add("stream_info_focused"),window.setTimeout(function(){Zc(lv[0],Jm,Wm,os,Ns,js,!1)},10),Kl(Wm,Jm,Ws,Gm),3<Jm&&Ac(lv[1],Jm,vl,Ws,4),Gm/Ws<Jm+Xs&&!Xm&&!wv&&(wv=!0,Cv(),Sv())}function Dv(){document.getElementById(lv[0]+Jm+"_"+Wm).classList.remove("stream_thumbnail_focused"),document.getElementById(lv[2]+Jm+"_"+Wm).classList.remove("stream_text_focused"),document.getElementById(lv[3]+Jm+"_"+Wm).classList.remove("stream_info_focused"),document.getElementById(lv[4]+Jm+"_"+Wm).classList.remove("stream_info_focused"),document.getElementById(lv[5]+Jm+"_"+Wm).classList.remove("stream_info_focused"),document.getElementById(lv[6]+Jm+"_"+Wm).classList.remove("stream_info_focused"),document.getElementById(lv[7]+Jm+"_"+Wm).classList.remove("stream_info_focused")}function qv(){nv=!0}function zv(e){var t;if(!$m||wv)if(nv)switch(nv=!1,window.setTimeout(qv,iv),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=ns,kv(),mc());break;case xn:if(pc(Jm,Wm-1,lv[0]))Dv(),Wm--,Hv();else for(t=Ws-1;-1<t;t--)if(pc(Jm-1,t,lv[0])){Dv(),Jm--,Wm=t,Hv();break}break;case Sn:pc(Jm,Wm+1,lv[0])?(Dv(),Wm++,Hv()):pc(Jm+1,0,lv[0])&&(Dv(),Jm++,Wm=0,Hv());break;case In:for(t=0;t<Ws;t++)if(pc(Jm-1,Wm-t,lv[0])){Dv(),Jm--,Wm-=t,Hv();break}break;case Ln:for(t=0;t<Ws;t++)if(pc(Jm+1,Wm-t,lv[0])){Dv(),Jm++,Wm-=t,Hv();break}break;case Cn:case wn:case _n:wv||(3<++dv&&(dv=0),xv(),Ev());break;case bn:wv||(--dv<0&&(dv=3),xv(),Ev());break;case kn:case Tn:case En:case Bn:yv=document.getElementById(lv[8]+Jm+"_"+Wm).getAttribute(sl).split(".mp4"),av=parseInt(yv[1]),yv=yv[0]+".mp4",pv=document.getElementById(lv[7]+Jm+"_"+Wm).textContent,mv=document.getElementById(lv[6]+Jm+"_"+Wm).textContent,vv=document.getElementById(lv[3]+Jm+"_"+Wm).textContent,_v=document.getElementById(lv[4]+Jm+"_"+Wm).textContent,fv=document.getElementById(lv[5]+Jm+"_"+Wm).textContent,Vv();break;case Mn:tc();break;case An:kv(),Cc();break;case On:oc();break;case jn:Kv||(ds=os),cs=Za,kv(),mc()}else e.preventDefault();else e.preventDefault()}function Vv(){document.body.addEventListener("keydown",Ru,!1),document.body.removeEventListener("keydown",zv),document.getElementById("scene2").classList.remove("hide"),Dh(),Mh(),Eh(),document.getElementById("scene_channel_panel").classList.add("hide"),Sh(),document.getElementById("scene1").classList.add("hide"),wu()}var Uv=0,Jv=0,Wv="",Xv=!1,Gv="",Kv=!1;function Yv(){Zl(),Rl("label_refresh","icon-arrow-circle-left",x),Sc("label_search"),Sc("label_switch"),Sc("top_bar_live"),Sc("top_bar_game"),document.getElementById("top_bar_user").innerHTML=t,Da.placeholder=b,document.getElementById("top_bar_user").classList.add("icon_center_focus"),Jv=Uv=0,Gv=document.querySelector("#search_input"),Zv(),ng(),tg("search_input")}function $v(){ig(),document.body.removeEventListener("keydown",eg),Zv(),cs=ds,Rl("label_refresh","icon-refresh",e),Rl("label_search","icon-search",sn),Rl("label_switch","icon-switch",s),document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_game").innerHTML=p,Da.value=""}function Qv(){$v(),Jv?1===Jv?wg():2===Jv&&ny():Sm()}function Zv(){document.getElementById("chanel_button").classList.remove("button_search_focused"),document.getElementById("game_button").classList.remove("button_search_focused"),document.getElementById("live_button").classList.remove("button_search_focused"),Uv&&(Jv?1===Jv?document.getElementById("game_button").classList.add("button_search_focused"):2===Jv&&document.getElementById("live_button").classList.add("button_search_focused"):document.getElementById("chanel_button").classList.add("button_search_focused"))}function eg(e){if(!Xv)switch(e.keyCode){case Fn:ic()?nc():ac()?rc():($v(),mc());break;case xn:1===Uv&&(--Jv<0&&(Jv=2),Zv());break;case Sn:1===Uv&&(2<++Jv&&(Jv=0),Zv());break;case In:1===Uv&&(Uv=0,Zv(),ng());break;case Ln:Uv?1===Uv&&(Uv=0,Zv(),ng()):(ig(),Uv=1,Zv());break;case Cn:case wn:break;case _n:case bn:$v(),mc();break;case kn:case Tn:case En:case Bn:Uv?""!==Da.value&&null!==Da.value?(Wv=Da.value,Da.value="",Qv()):(Ql(r),window.setTimeout(function(){Zl()},1e3)):ng();break;case Mn:tc();break;case An:$v(),Cc();break;case On:oc()}}function tg(e){window.scroll(0,tu()+nu(e)-Ns+qs)}function ng(){document.body.removeEventListener("keydown",eg),document.body.addEventListener("keydown",og,!1),Gv.addEventListener("input"),Gv.addEventListener("compositionend"),Da.placeholder=b,Gv.focus(),Xv=!0}function ig(){Gv.blur(),document.body.removeEventListener("keydown",og),document.body.addEventListener("keydown",eg,!1),Da.placeholder=k+b,window.setTimeout(function(){Xv=!1},500)}function og(e){switch(e.keyCode){case Dn:Da.value="",e.preventDefault();break;case Rn:case Pn:ig(),Uv=1,Zv();break;case Nn:Da.value=Da.value.slice(0,-1),e.preventDefault();break;case Hn:Da.value+=" ",e.preventDefault()}}var rg=!1,ag=0,sg=0,lg=0,cg=!1,ug=0,dg=10,hg=3500,pg=0,fg=!0,mg=25,vg=0,gg=!1,yg=!1,_g="",bg=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_"];function wg(){cs=es,Kv=!0,_c(),_g!==Wv&&(rg=!1),document.getElementById("top_bar_user").innerHTML=t+bc(p+" '"+Wv+"'"),document.body.addEventListener("keydown",Og,!1),jc(ag),rg?(Zc(bg[0],ag,sg,es,Rs,Fs,!1),Kl(sg,ag,Ks,lg)):kg()}function Tg(){yc(),document.body.removeEventListener("keydown",Og)}function kg(){_g=Wv,Zl(),rg=!1,eu("blank_focus"),ql(),Sc("stream_table_search_game"),yg=!1,ag=sg=lg=vg=pg=0,Gl(),Eg(),Cg()}function Eg(){cg=!0,ug=0,hg=3500}function Cg(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Wv)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=hg,e.setRequestHeader("Client-ID",tl),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Sg(e.responseText);xg()}},e.send(null)}catch(e){xg()}}function xg(){++ug<dg?(hg+=ug<5?250:3500,Cg()):(cg=!1,zl(),Ql(L))}function Sg(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=lg;gg=!(lg+=n);var o=n/Ks;0<n%Ks&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ks+u,s=document.createElement("tr"),r=0;r<Ks&&c<n;r++,c++)l=t.games[c],s.appendChild(Ig(a,a+"_"+r,[l.name,l.box.template.replace("{width}x{height}",il),""]));for(;r<Ks;r++)yg||(yg=!0,lg=a*Ks+r),s.appendChild(Nc(bg[6]+a+"_"+r));document.getElementById("stream_table_search_game").appendChild(s)}Lg()}function Ig(e,t,n){return e<2&&Fc(n[1]),Vc(t,bg,n)}function Lg(){ru(function(){rg||(zl(),gg?Ql(a):(rg=!0,Bg())),Mc(bg[1],7,fl,Ks),cg=!1})}function Bg(){$c(ag,sg,bg,es,Ks,vr),2<ag&&Ac(bg[1],ag,fl,Ks,3)}function Mg(){Qc(ag+"_"+sg,bg)}function Ag(){fg=!0}function Og(e){var t;if(cg)e.preventDefault();else if(fg)switch(fg=!1,window.setTimeout(Ag,mg),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=cs===ds?Wa:ds,Tg(),Kv=!1,mc());break;case xn:if(pc(ag,sg-1,bg[0]))Mg(),sg--,Bg();else for(t=Ks-1;-1<t;t--)if(pc(ag-1,t,bg[0])){Mg(),ag--,sg=t,Bg();break}break;case Sn:pc(ag,sg+1,bg[0])?(Mg(),sg++,Bg()):pc(ag+1,0,bg[0])&&(Mg(),ag++,sg=0,Bg());break;case In:for(t=0;t<Ks;t++)if(pc(ag-1,sg-t,bg[0])){Mg(),ag--,sg-=t,Bg();break}break;case Ln:for(t=0;t<Ks;t++)if(pc(ag+1,sg-t,bg[0])){Mg(),ag++,sg-=t,Bg();break}break;case Cn:case wn:kg();break;case kn:case Tn:case En:case Bn:ks=document.getElementById(bg[5]+ag+"_"+sg).getAttribute(sl),document.body.removeEventListener("keydown",Og),ps=cs,cs=Ka,ms=!0,Tg(),Kv=!1,mc();break;case Mn:tc();break;case An:Tg(),Kv=!1,Cc();break;case On:oc();break;case jn:cs=Za,Tg(),mc()}else e.preventDefault()}var jg=0,Fg=0,Ng=!1,Pg=0,Rg=[],Hg=[],Dg=!1,qg=0,zg=10,Vg=3500,Ug=0,Jg=0,Wg=!0,Xg=25,Gg=!1,Kg=0,Yg=!1,$g=!1,Qg=!1,Zg="",ey=!1,ty=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_"];function ny(){cs=ts,Kv=!0,_c(),Zg!==Wv&&($g=!1),document.getElementById("top_bar_user").innerHTML=t+bc(h+" '"+Wv+"'"),document.body.addEventListener("keydown",yy,!1),jc(jg),$g?(Zc(ty[0],jg,Fg,ts,Ns,js,!1),Kl(Fg,jg,Ws,Pg)):oy()}function iy(){yc(),document.body.removeEventListener("keydown",yy)}function oy(){Zg=Wv,Zl(),$g=!1,eu("blank_focus"),ql(),Sc("stream_table_search_live"),Gg=ey=!1,Rg=[],jg=Fg=Pg=Kg=Jg=Ug=0,Ng=Qg=!(Hg=[]),Gl(),ry(),ay()}function ry(){Dg=!0,qg=0,Vg=3500}function ay(){try{var e=new XMLHttpRequest,t=Pg+Jg;t&&Kg-1<t&&(t=Kg-Js,Gg=Ng=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Wv)+"&limit="+Js+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Vg,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ly(e.responseText);sy()}},e.send(null)}catch(e){sy()}}function sy(){++qg<zg?(Vg+=qg<5?250:3500,ay()):(ey=Dg=!1,zl(),Ql(L))}function ly(e){var t=JSON.parse(e),n=t.streams.length;Kg=parseInt(t._total),n<Js&&(Ng=!0);var i=Pg;Yg=!(Pg+=n);var o=n/Ws;0<n%Ws&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ws+u,s=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)uy((l=t.streams[c]).channel.name)?r--:s.appendChild(cy(a,a+"_"+r,l.channel.name,[l.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,g+hh(l.created_at)+y+", "+m+uc(l.viewers)+q,dc(l.video_height,l.average_fps,l.channel.language)]));for(;r<Ws;r++)Ng&&!Qg&&(Qg=!0,Pg=a*Ws+r),s.appendChild(Nc(ty[9]+a+"_"+r)),Hg.push(ty[9]+a+"_"+r);document.getElementById("stream_table_search_live").appendChild(s)}dy()}function cy(e,t,n,i){return Rg.push(n),e<Ws&&Fc(i[0]),Dc(n,t,ty,i)}function uy(e){for(var t=0;t<Rg.length;t++)if(e===Rg[t])return Ug++,!0;return!1}function dy(){ru(function(){if($g){if(0<Ug&&!Ng)return ey=!0,ry(),void hy();Ug=0,ey=Dg=!(Hg=[])}else zl(),Yg?Ql(a):($g=!0,my(),Mc(ty[1],9,vl,Ws)),Dg=!1})}function hy(){try{var e=new XMLHttpRequest;$l(Ug);var t=Pg+Jg;t&&Kg-1<t&&(t=Kg-el,Gg=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Wv)+"&limit="+el+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Vg,e.setRequestHeader("Client-ID","anwtqukxvrtwxb4flazs2lqlabe3hqv"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||fy(e.responseText)},e.send(null)}catch(e){py()}}function py(){++qg<zg?(Vg+=qg<5?250:3500,hy()):(Gg=!0,Ug=0,Hg=[],dy())}function fy(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=Hg.slice();Kg=parseInt(i._total),o<Js&&(Gg=!0);for(var s=0;s<Hg.length&&r<o;s++,r++)uy((t=i.streams[r]).channel.name)?(Ug--,s--):(qc(ua[s],t.channel.name,[t.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+hh(t.created_at)+y+", "+m+uc(t.viewers)+q,dc(t.video_height,t.average_fps,t.channel.language)],ty),Ug--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Jg+=r,Gg?(Ug=0,Hg=[]):Hg=a,dy()}function my(){Kc(jg,Fg,ty,ts,Ws,Pg),3<jg&&Ac(ty[1],jg,vl,Ws,4),Pg/Ws<jg+Xs&&!Ng&&!ey&&(ey=!0,ry(),ay())}function vy(){Yc(jg+"_"+Fg,ty)}function gy(){Wg=!0}function yy(e){var t;if(!Dg||ey)if(Wg)switch(Wg=!1,window.setTimeout(gy,Xg),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=cs===ds?Wa:ds,iy(),Kv=!1,mc());break;case xn:if(pc(jg,Fg-1,ty[0]))vy(),Fg--,my();else for(t=Ws-1;-1<t;t--)if(pc(jg-1,t,ty[0])){vy(),jg--,Fg=t,my();break}break;case Sn:pc(jg,Fg+1,ty[0])?(vy(),Fg++,my()):pc(jg+1,0,ty[0])&&(vy(),jg++,Fg=0,my());break;case In:for(t=0;t<Ws;t++)if(pc(jg-1,Fg-t,ty[0])){vy(),jg--,Fg-=t,my();break}break;case Ln:for(t=0;t<Ws;t++)if(pc(jg+1,Fg-t,ty[0])){vy(),jg++,Fg-=t,my();break}break;case Cn:case wn:ey||oy();break;case kn:case Tn:case En:case Bn:Id=document.getElementById(ty[8]+jg+"_"+Fg).getAttribute(sl),Ld=document.getElementById(ty[3]+jg+"_"+Fg).textContent,document.body.removeEventListener("keydown",yy),gc();break;case Mn:tc();break;case An:iy(),Kv=!1,Cc();break;case On:oc();break;case jn:cs=Za,iy(),mc()}else e.preventDefault();else e.preventDefault()}var _y=0,by=10,wy=3500,Ty=[],ky=[],Ey=[],Cy="",xy=0,Sy=!1,Iy=!1,Ly="",By=0;function My(){Qi.length?Sy=!1:(window.clearInterval(xs),document.removeEventListener("visibilitychange",xc),Sy=!0),Ly=Qi[0],Ay(),Oy(),By=0,Sy?webapis.preview.setPreviewData(Py()):jy()}function Ay(){Ty=[],ky=[],Ey=[]}function Oy(){_y=0,by=10,wy=1e4}function jy(){try{var e,t=new XMLHttpRequest;By?1===By?e="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(Cy)+"&limit=21&"+Math.round(1e7*Math.random()):2===By?e="https://api.twitch.tv/api/users/"+encodeURIComponent(Ly)+"/follows/games/live?limit=6&"+Math.round(1e7*Math.random()):3===By&&(e="https://api.twitch.tv/api/users/"+encodeURIComponent(Ly)+"/followed/hosting?limit=10&"+Math.round(1e7*Math.random())):e="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ly)+"/follows/channels?limit=100&sortby=last_broadcast&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=wy,t.setRequestHeader("Client-ID",tl),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{Ny(t.responseText)}catch(e){}else Fy()},t.send(null)}catch(e){Fy()}}function Fy(){++_y<by?(wy+=1e3,jy()):Ay()}function Ny(e){var t=JSON.parse(e);if(By)1===By?Ty=t.streams:2===By?ky=t.follows:3===By&&(Ey=t.hosts);else{Cy="";for(var n=0;n<t.follows.length;n++)Cy+=t.follows[n].channel.name+",";Cy=Cy.slice(0,-1)}By<3?(By++,Oy(),jy()):(xy=(new Date).getTime(),webapis.preview.setPreviewData(Ry()),window.setTimeout(Ay,1e3))}function Py(){return'{"sections":['+Hy(!0)}function Ry(){var e,t,n,i='{"sections":[';if(t=Ty.length){for(i+='{"title":"'+K+" "+Ly+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+(n=hc(JSON.stringify(Ty[e].stream_type))+Ty[e].channel.display_name)+'","subtitle":"'+f+Ty[e].game+'","image_ratio":"16by9","image_url":"'+Ty[e].preview.template.replace("{width}x{height}",nl)+'","action_data":"{\\"videoIdx\\": \\"'+Ty[e].channel.name+'\\",\\"videoTitleIdx\\": \\"'+n+'\\"}","is_playable":true}';i+="]},"}if(t=Ey.length){for(i+='{"title":"'+Y+" "+Ly+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+(Ey[e].display_name+ne+Ey[e].target.channel.display_name)+'","subtitle":"'+f+Ey[e].target.meta_game+'","image_ratio":"16by9","image_url":"'+Ey[e].target.preview_urls.template.replace("{width}x{height}",nl)+'","action_data":"{\\"videoIdx\\": \\"'+Ey[e].target.channel.name+'\\",\\"videoTitleIdx\\": \\"'+Ey[e].target.channel.display_name+'\\"}","is_playable":true}';i+="]},"}if(t=ky.length){for(i+='{"title":"'+$+" "+Ly+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+ky[e].game.name+'","image_ratio":"2by3","image_url":"'+ky[e].game.box.template.replace("{width}x{height}",il)+'","action_data":"{\\"gameIdx\\": \\"'+ky[e].game.name+'\\"}","is_playable":false}';i+="]},"}return i+Hy(!1)}function Hy(e){return'{"title":"'+h+'","tiles":[{"title":"'+u+h+'","image_ratio":"16by9","image_url":"'+Ll+'","action_data":"{\\"screenIdx\\": '+Wa+'}","is_playable":false}]},'+(e?'{"title":"'+Z+'","tiles":[{"title":"'+u+Z+'","subtitle":"'+ae+'","image_ratio":"16by9","image_url":"'+Al+'","action_data":"{\\"screenIdx\\": '+Xa+'}","is_playable":false}]},':'{"title":"'+d+'","tiles":[{"title":"'+u+d+'","image_ratio":"16by9","image_url":"'+Ml+'","action_data":"{\\"screenIdx\\": '+rs+'}","is_playable":false}]},')+'{"title":"'+p+'","tiles":[{"title":"'+u+p+'","image_ratio":"16by9","image_url":"'+Bl+'","action_data":"{\\"screenIdx\\": '+Ga+'}","is_playable":false}]}]}'}function Dy(){var e;try{e=tizen.application.getCurrentApplication().getRequestedAppControl()}catch(e){}var t,n,i,o,r,a,s,l=!1;if(e){Iy=!0,t=e.appControl.data;for(var c=0;c<t.length;c++)if("PAYLOAD"===t[c].key)if(n=JSON.parse(t[c].value[0]).values,JSON.parse(n).videoIdx){if(i=JSON.parse(n).videoIdx,o=JSON.parse(n).videoTitleIdx,Sd&&Id===i)return;Id=i,Ld=o,pd?fh():wp?af():vu?Su():vc(cs),window.setTimeout(gc,10)}else JSON.parse(n).gameIdx?(l=(r=JSON.parse(n).gameIdx)!==ks,s=cs,ks=r,cs=Ka,vc(s),pd?window.setTimeout(ph,10):wp?window.setTimeout(rf,10):vu?window.setTimeout(xu,10):l&&mc()):JSON.parse(n).screenIdx&&(l=(a=JSON.parse(n).screenIdx)!==cs,s=cs,cs=a,vc(s),pd?window.setTimeout(ph,10):wp?window.setTimeout(rf,10):vu?window.setTimeout(xu,10):l&&mc())}}var qy=0,zy=0,Vy=!1,Uy=0,Jy=[],Wy=[],Xy=!1,Gy=0,Ky=10,Yy=3500,$y=0,Qy=0,Zy=!0,e_=25,t_=!1,n_=0,i_=0,o_=!1,r_=!1,a_="",s_="",l_=["sv_thumbdiv","sv_img","sv_infodiv","sv_title","sv_streamon","sv_duration","sv_viwers","sv_quality","sv_cell","svempty_","svgame"],c_=!1,u_=!1,d_="",h_="",p_="",f_="",m_="",v_="",g_=!1;function y_(){cs=is,vs!==d_&&(c_=!1),_c(),Rl("label_switch","icon-switch",l),document.getElementById("top_bar_user").innerHTML=gs,document.body.addEventListener("keydown",P_,!1),jc(qy),c_?(document.getElementById("top_bar_game").innerHTML=u_?j:O,Zc(l_[0],qy,zy,is,Ns,js,!1),Kl(zy,qy,Ws,Uy)):b_()}function __(){yc(),document.body.removeEventListener("keydown",P_)}function b_(){document.getElementById("top_bar_game").innerHTML=u_?j:O,Zl(),d_=vs,c_=!1,eu("blank_focus"),ql(),Sc("stream_table_search_vod"),t_=g_=!1,Jy=[],qy=zy=Uy=n_=Qy=$y=0,Vy=r_=!(Wy=[]),Gl(),w_(),T_()}function w_(){Xy=!0,Gy=0,Yy=3500}function T_(){try{var e=new XMLHttpRequest,t=Uy+Qy;t&&n_-1<t&&(t=n_-Js,t_=Vy=!0),e.open("GET","https://api.twitch.tv/kraken/channels/"+encodeURIComponent(vs)+"/videos?limit="+Js+"&broadcast_type="+(u_?"highlight":"archive")+"&sort=time&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Yy,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void E_(e.responseText);k_()}},e.send(null)}catch(e){k_()}}function k_(){++Gy<Ky?(Yy+=Gy<5?250:3500,T_()):(g_=Xy=!1,zl(),Ql(L))}function E_(e){var t=JSON.parse(e),n=t.videos.length;n_=parseInt(t._total),n<Js&&(Vy=!0);var i=Uy;o_=!(Uy+=n);var o=n/Ws;0<n%Ws&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ws+u,s=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)l=t.videos[c],-1!==(JSON.stringify(l.preview)+"").indexOf("404_processing_320x240.png")?($y++,r--):L_(l._id)?r--:s.appendChild(C_(a,a+"_"+r,l._id+","+l.length+","+l.language+","+l.game,[l.preview.replace("320x240",nl),l.title,P+wc(l.created_at),l.game,uc(l.views)+H,dc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),R+uh(l.length)]));for(;r<Ws;r++)Vy&&!r_&&(r_=!0,Uy=a*Ws+r),s.appendChild(Nc(l_[9]+a+"_"+r)),Wy.push(l_[9]+a+"_"+r);document.getElementById("stream_table_search_vod").appendChild(s)}B_()}function C_(e,t,n,i){return Jy.push(n),e<Ws&&Fc(i[0]),x_(n,t,i)}function x_(e,t,n){return(Ms=document.createElement("td")).setAttribute("id",l_[8]+t),Ms.setAttribute(sl,e),Ms.className="stream_cell",Ms.innerHTML=I_(t,n),Ms}function S_(e,t,n){splitedId=e.split(l_[9])[1],(e=document.getElementById(e)).setAttribute(sl,t),e.innerHTML=zc(splitedId,n),e.setAttribute("id",l_[8]+splitedId)}function I_(e,t){return'<div id="'+l_[0]+e+'" class="stream_thumbnail_video" ><img id="'+l_[1]+e+'" class="stream_img" data-src="'+t[0]+'"></div><div id="'+l_[2]+e+'" class="stream_text"><div id="'+l_[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 155%;">'+t[1]+'</div><div id="'+l_[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+l_[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+l_[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+l_[10]+e+'"class="stream_info">'+Qt+f+t[3]+'</div><div id="'+l_[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function L_(e){for(var t=0;t<Jy.length;t++)if(e===Jy[t])return $y++,!0;return!1}function B_(){ru(function(){if(c_){if(0<$y&&!Vy)return g_=!0,w_(),void M_();$y=0,g_=Xy=!(Wy=[])}else zl(),o_?Ql(B+(u_?j:O)+M+C):(c_=!0,j_(),Mc(l_[1],9,vl,Ws)),Xy=!1})}function M_(){try{var e=new XMLHttpRequest;$l($y);var t=Uy+Qy;t&&n_-1<t&&(t=n_-el,t_=!0),e.open("GET","https://api.twitch.tv/kraken/channels/"+encodeURIComponent(vs)+"/videos?limit="+el+"&broadcast_type="+(u_?"highlight":"archive")+"&sort=time&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Yy,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||O_(e.responseText)},e.send(null)}catch(e){A_()}}function A_(){++Gy<Ky?(Yy+=Gy<5?250:3500,M_()):(t_=!0,$y=0,Wy=[],B_())}function O_(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=Wy.slice();n_=parseInt(i._total),o<Js&&(t_=!0);for(var s=0;s<Wy.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:L_(t._id)?($y--,s--):(S_(Wy[s],t._id+","+t.length+","+t.language+","+t.game,[t.preview.replace("320x240",nl),t.title,P+wc(t.created_at),t.game,uc(t.views)+H,dc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),R+uh(t.length)]),$y--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Qy+=r,t_?($y=0,Wy=[]):Wy=a,B_()}function j_(){document.getElementById(l_[0]+qy+"_"+zy).classList.add("stream_thumbnail_focused"),document.getElementById(l_[2]+qy+"_"+zy).classList.add("stream_text_focused"),document.getElementById(l_[3]+qy+"_"+zy).classList.add("stream_info_focused"),document.getElementById(l_[4]+qy+"_"+zy).classList.add("stream_info_focused"),document.getElementById(l_[5]+qy+"_"+zy).classList.add("stream_info_focused"),document.getElementById(l_[6]+qy+"_"+zy).classList.add("stream_info_focused"),document.getElementById(l_[7]+qy+"_"+zy).classList.add("stream_info_focused"),document.getElementById(l_[10]+qy+"_"+zy).classList.add("stream_info_focused"),window.setTimeout(function(){Zc(l_[0],qy,zy,is,Ns,js,!1)},10),Kl(zy,qy,Ws,Uy),3<qy&&Ac(l_[1],qy,vl,Ws,4),Uy/Ws<qy+Xs&&!Vy&&!g_&&(g_=!0,w_(),T_())}function F_(){document.getElementById(l_[0]+qy+"_"+zy).classList.remove("stream_thumbnail_focused"),document.getElementById(l_[2]+qy+"_"+zy).classList.remove("stream_text_focused"),document.getElementById(l_[3]+qy+"_"+zy).classList.remove("stream_info_focused"),document.getElementById(l_[4]+qy+"_"+zy).classList.remove("stream_info_focused"),document.getElementById(l_[5]+qy+"_"+zy).classList.remove("stream_info_focused"),document.getElementById(l_[6]+qy+"_"+zy).classList.remove("stream_info_focused"),document.getElementById(l_[7]+qy+"_"+zy).classList.remove("stream_info_focused"),document.getElementById(l_[10]+qy+"_"+zy).classList.remove("stream_info_focused")}function N_(){Zy=!0}function P_(e){var t;if(!Xy||g_)if(Zy)switch(Zy=!1,window.setTimeout(N_,e_),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=ns,__(),mc());break;case xn:if(pc(qy,zy-1,l_[0]))F_(),zy--,j_();else for(t=Ws-1;-1<t;t--)if(pc(qy-1,t,l_[0])){F_(),qy--,zy=t,j_();break}break;case Sn:pc(qy,zy+1,l_[0])?(F_(),zy++,j_()):pc(qy+1,0,l_[0])&&(F_(),qy++,zy=0,j_());break;case In:for(t=0;t<Ws;t++)if(pc(qy-1,zy-t,l_[0])){F_(),qy--,zy-=t,j_();break}break;case Ln:for(t=0;t<Ws;t++)if(pc(qy+1,zy-t,l_[0])){F_(),qy++,zy-=t,j_();break}break;case _n:case bn:case Cn:case wn:g_||(u_=!u_,b_());break;case kn:case Tn:case En:case Bn:h_=document.getElementById(l_[8]+qy+"_"+zy).getAttribute(sl).split(","),i_=parseInt(h_[1]),a_=h_[2],s_=h_[3],h_=h_[0].substr(1),p_=document.getElementById(l_[3]+qy+"_"+zy).textContent,m_=document.getElementById(l_[4]+qy+"_"+zy).textContent,v_=document.getElementById(l_[5]+qy+"_"+zy).textContent,f_=document.getElementById(l_[10]+qy+"_"+zy).textContent+", "+document.getElementById(l_[6]+qy+"_"+zy).textContent,R_();break;case Mn:tc();break;case An:__(),Cc();break;case On:oc();break;case jn:Kv||(ds=is),cs=Za,__(),mc()}else e.preventDefault();else e.preventDefault()}function R_(){document.body.addEventListener("keydown",gf,!1),document.body.removeEventListener("keydown",P_),document.getElementById("scene2").classList.remove("hide"),lf(),Dh(),Mh(),Eh(),Sh(),document.getElementById("scene1").classList.add("hide"),Vp()}var H_=0,D_=0,q_=!1,z_=0,V_=!1,U_=0,J_=10,W_=3500,X_=!0,G_=25,K_=[],Y_=0,$_=!1,Q_=!1,Z_="",eb=!1,tb=!1,nb=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_"];function ib(){cs=as,Em=!1,document.getElementById("top_bar_user").classList.add("icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+bc(Ss+Q),document.body.addEventListener("keydown",vb,!1),jc(H_),Z_!==Ss&&(Q_=!1),Q_?(Zc(nb[0],H_,D_,as,Ps,js,!0),Kl(D_,H_,Qs,z_)):rb()}function ob(){document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.body.removeEventListener("keydown",vb),document.getElementById("top_bar_user").innerHTML=d}function rb(){Zl(),eu("blank_focus"),ql(),Z_=Ss,Q_=!1,Sc("stream_table_user_channels"),H_=D_=z_=Y_=0,eb=q_=tb=!1,Gl(),K_=[],ab(),sb()}function ab(){V_=!0,U_=0,W_=3500}function sb(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ss)+"/follows/channels?limit=100&offset="+Y_+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=W_,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void cb(e.responseText);lb()}},e.send(null)}catch(e){lb()}}function lb(){++U_<J_?(W_+=U_<5?250:3500,sb()):(Q_=tb=V_=!1,zl(),Ql(L))}function cb(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",o=0;o<n;o++)i=t[o].channel.name+","+t[o].channel._id+","+t[o].channel.logo+","+t[o].channel.display_name+","+t[o].channel.views+","+t[o].channel.followers,-1===K_.indexOf(i)&&K_.push(i);Y_+=n,ab(),sb()}else K_.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),ub()}function ub(){var e=$s,t=z_,n=K_.length-t;n<e&&(e=n),e<$s&&(q_=!0),$_=!(z_+=e);var i=e/Qs;0<e%Qs&&i++;for(var o,r,a,s=t,l=0;l<i;l++){for(r=t/Qs+l,a=document.createElement("tr"),o=0;o<Qs&&s<K_.length;o++,s++)a.appendChild(db(r,r+"_"+o,K_[s].split(",")));for(;o<Qs;o++)q_&&!eb&&(eb=!0,z_=r*Qs+o),a.appendChild(Nc(nb[5]+r+"_"+o));document.getElementById("stream_table_user_channels").appendChild(a)}hb()}function db(e,t,n){return e<4&&Fc(n[2]),Pc(t,nb,n)}function hb(){ru(function(){Q_?tb=V_=!1:(zl(),$_?Ql(B+Q):(Q_=!0,pb(),Mc(nb[1],9,ml,Qs)),V_=!1)})}function pb(){Xc(H_,D_,nb,as,Qs,z_),3<H_&&Ac(nb[1],H_,ml,Qs,4),z_/Qs<H_+Zs&&!q_&&!tb&&(tb=!0,ab(),sb())}function fb(){Gc(H_+"_"+D_,nb)}function mb(){X_=!0}function vb(e){var t;if(V_&&!tb||!X_)e.preventDefault();else switch(X_=!1,window.setTimeout(mb,G_),e.keyCode){case Fn:ic()?nc():ac()?rc():tb||(cs=rs,ob(),mc());break;case xn:if(pc(H_,D_-1,nb[0]))fb(),D_--,pb();else for(t=Qs-1;-1<t;t--)if(pc(H_-1,t,nb[0])){fb(),H_--,D_=t,pb();break}break;case Sn:pc(H_,D_+1,nb[0])?(fb(),D_++,pb()):pc(H_+1,0,nb[0])&&(fb(),H_++,D_=0,pb());break;case In:for(t=0;t<Qs;t++)if(pc(H_-1,D_-t,nb[0])){fb(),H_--,D_-=t,pb();break}break;case Ln:for(t=0;t<Qs;t++)if(pc(H_+1,D_-t,nb[0])){fb(),H_++,D_-=t,pb();break}break;case Cn:case wn:tb||rb();break;case _n:cs=Ya,ob(),mc();break;case bn:cs=Qa,ob(),mc();break;case kn:case Tn:case En:case Bn:tb||(vs=document.getElementById(nb[4]+H_+"_"+D_).getAttribute(sl),Es=document.getElementById(nb[4]+H_+"_"+D_).getAttribute("data-id"),_s=document.getElementById(nb[4]+H_+"_"+D_).getAttribute("data-views"),bs=document.getElementById(nb[4]+H_+"_"+D_).getAttribute("data-followers"),gs=document.getElementById(nb[3]+H_+"_"+D_).textContent,ys=document.getElementById(nb[1]+H_+"_"+D_).src,document.body.removeEventListener("keydown",vb),hs=as,cs=ns,Of=$n=fs=!0,mc());break;case Mn:tc();break;case An:ob(),Cc();break;case On:oc();break;case jn:ds=as,cs=Za,ob(),mc()}}var gb=0,yb=0,_b=!1,bb=0,wb=[],Tb=[],kb=!1,Eb=0,Cb=10,xb=3500,Sb=0,Ib=0,Lb=!0,Bb=25,Mb=!1,Ab=0,Ob=!1,jb=!1,Fb=!0,Nb=!1,Pb="",Rb=!1,Hb=["ug_thumbdiv","ug_img","ug_infodiv","ug_displayname","ug_viwers","ug_cell","ugempty_"];function Db(){cs=Qa,Rl("label_refresh","icon-refresh",Kt+$+"/"+Gt+Yt),document.getElementById("top_bar_user").classList.add("icon_center_focus"),document.body.addEventListener("keydown",nw,!1),jc(gb),Pb!==Ss&&(Nb=!1),Nb?(document.getElementById("top_bar_user").innerHTML=d+bc(Ss+" "+(Fb?$:Gt)),Zc(Hb[0],gb,yb,Qa,Rs,Fs,!1),Kl(yb,gb,Ks,bb)):zb()}function qb(){Rl("label_refresh","icon-refresh",e),document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d,document.body.removeEventListener("keydown",nw)}function zb(){Zl(),eu("blank_focus"),document.getElementById("top_bar_user").innerHTML=d+bc(Ss+" "+(Fb?$:Gt)),ql(),Pb=Ss,Nb=!1,Sc("stream_table_user_games"),Mb=Rb=!1,wb=[],gb=yb=bb=Ab=Ib=Sb=0,_b=jb=!(Tb=[]),Gl(),Vb(),Ub()}function Vb(){kb=!0,Eb=0,xb=3500}function Ub(){try{var e=new XMLHttpRequest,t=bb+Ib;t&&Ab-1<t&&(t=Ab-Gs,Mb=_b=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Ss)+"/follows/games"+(Fb?"/live":"")+"?limit="+Gs+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=xb,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Wb(e.responseText);Jb()}},e.send(null)}catch(e){Jb()}}function Jb(){++Eb<Cb?(xb+=Eb<5?250:3500,Ub()):(Rb=kb=!1,zl(),Ql(L))}function Wb(e){var t=JSON.parse(e),n=t.follows.length;Ab=parseInt(t._total),n<Gs&&(_b=!0);var i=bb;Ob=!(bb+=n);var o=n/Ks;0<n%Ks&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ks+u,s=document.createElement("tr"),r=0;r<Ks&&c<n;r++,c++)l=t.follows[c],Fb?Gb(l.game.name)?r--:s.appendChild(Xb(a,a+"_"+r,[l.game.name,l.game.box.template.replace("{width}x{height}",il),uc(l.channels)+" "+E+m+uc(l.viewers)+q])):Gb(l.name)?r--:s.appendChild(Xb(a,a+"_"+r,[l.name,l.box.template.replace("{width}x{height}",il),""]));for(;r<Ks;r++)_b&&!jb&&(jb=!0,bb=a*Ks+r),s.appendChild(Nc(Hb[6]+a+"_"+r)),Tb.push(Hb[6]+a+"_"+r);document.getElementById("stream_table_user_games").appendChild(s)}Kb()}function Xb(e,t,n){return wb.push(n[0]),e<2&&Fc(n[1]),Vc(t,Hb,n)}function Gb(e){for(var t=0;t<wb.length;t++)if(e===wb[t])return Sb++,!0;return!1}function Kb(){ru(function(){if(Nb){if(0<Sb&&!_b)return Rb=!0,Vb(),void Yb();Sb=0,Rb=kb=!(Tb=[])}else zl(),Ob?Ql(B+$):(Nb=!0,Zb(),Mc(Hb[1],7,fl,Ks)),kb=!1})}function Yb(){try{var e=new XMLHttpRequest;$l(Sb);var t=bb+Ib;t&&Ab-1<t&&(t=Ab-el,Mb=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Ss)+"/follows/games"+(Fb?"/live":"")+"?limit="+Gs+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=xb,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Qb(e.responseText);$b()}},e.send(null)}catch(e){$b()}}function $b(){++Eb<Cb?(xb+=Eb<5?250:3500,Yb()):(Mb=!0,Sb=0,Tb=[],Kb())}function Qb(e){var t,n,i=JSON.parse(e),o=i.follows.length,r=0,a=Tb.slice();Ab=parseInt(i._total),o<Gs&&(Mb=!0);for(var s=0;s<Tb.length&&r<o;s++,r++)t=i.follows[r],Fb?Gb(t.game.name)?(Sb--,s--):(Uc(Tb[s],[t.game.name,t.game.box.template.replace("{width}x{height}",il),uc(t.channels)+" "+E+m+uc(t.viewers)+q],Hb),Sb--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1)):Gb(t.name)?(Sb--,s--):(Uc(Tb[s],[t.name,t.box.template.replace("{width}x{height}",il),""],Hb),Sb--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Ib+=r,Mb?(Sb=0,Tb=[]):Tb=a,Kb()}function Zb(){$c(gb,yb,Hb,Qa,Ks,bb),2<gb&&Ac(Hb[1],gb,fl,Ks,3),bb/Ks<gb+Ys&&!_b&&!Rb&&(Rb=!0,Vb(),Ub())}function ew(){Qc(gb+"_"+yb,Hb)}function tw(){Lb=!0}function nw(e){var t;if(!kb||Rb)if(Lb)switch(Lb=!1,window.setTimeout(tw,Bb),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=rs,qb(),mc());break;case xn:if(pc(gb,yb-1,Hb[0]))ew(),yb--,Zb();else for(t=Ks-1;-1<t;t--)if(pc(gb-1,t,Hb[0])){ew(),gb--,yb=t,Zb();break}break;case Sn:pc(gb,yb+1,Hb[0])?(ew(),yb++,Zb()):pc(gb+1,0,Hb[0])&&(ew(),gb++,yb=0,Zb());break;case In:for(t=0;t<Ks;t++)if(pc(gb-1,yb-t,Hb[0])){ew(),gb--,yb-=t,Zb();break}break;case Ln:for(t=0;t<Ks;t++)if(pc(gb+1,yb-t,Hb[0])){ew(),gb++,yb-=t,Zb();break}break;case Cn:case wn:Rb||(Fb=!Fb,zb(),localStorage.setItem("user_Games_live",Fb?"true":"false"),QT());break;case _n:Rb||(cs=as,qb(),mc());break;case bn:cs=$a,qb(),mc();break;case kn:case Tn:case En:case Bn:ks=document.getElementById(Hb[5]+gb+"_"+yb).getAttribute(sl),ps=Qa,cs=Ka,zo=ms=!0,qb(),mc();break;case Mn:tc();break;case An:qb(),Cc();break;case On:oc();break;case jn:ds=Qa,cs=Za,zo=!1,qb(),mc()}else e.preventDefault();else e.preventDefault()}var iw=0,ow=0,rw=!1,aw=0,sw=[],lw=[],cw=!1,uw=0,dw=10,hw=3500,pw=0,fw=0,mw=!0,vw=25,gw=!1,yw=0,_w=!1,bw=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_"],ww=!1,Tw="",kw=!1,Ew=!1;function Cw(){cs=$a,document.getElementById("top_bar_user").classList.add("icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+bc(Ss+Y),document.body.addEventListener("keydown",qw,!1),jc(iw),Tw!==Ss&&(ww=!1),ww?(Zc(bw[0],iw,ow,$a,Ns,js,!1),Kl(ow,iw,Ws,aw)):Sw()}function xw(){document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.body.removeEventListener("keydown",qw),document.getElementById("top_bar_user").innerHTML=d}function Sw(){Zl(),eu("blank_focus"),ql(),Tw=Ss,ww=!1,Sc("stream_table_user_host"),gw=Ew=!1,sw=[],iw=ow=aw=yw=fw=pw=0,rw=kw=!(lw=[]),Gl(),Iw(),Lw()}function Iw(){cw=!0,uw=0,hw=3500}function Lw(){try{var e=new XMLHttpRequest,t=aw+fw;t&&yw-1<t&&(t=yw-Js,gw=rw=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Ss)+"/followed/hosting?limit="+Js+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=hw,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Mw(e.responseText);Bw()}},e.send(null)}catch(e){Bw()}}function Bw(){++uw<dw?(hw+=uw<5?250:3500,Lw()):(Ew=cw=!1,zl(),Ql(L))}function Mw(e){var t=JSON.parse(e),n=t.hosts.length;yw=parseInt(t._total),n<Js&&(rw=!0);var i=aw;_w=!(aw+=n);var o=n/Ws;0<n%Ws&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ws+u,s=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)Ow((l=t.hosts[c]).display_name+ne+l.target.channel.display_name)?r--:s.appendChild(Aw(a,a+"_"+r,l.target.channel.name,[l.target.preview_urls.template.replace("{width}x{height}",nl),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+uc(l.target.viewers)+q,""]));for(;r<Ws;r++)rw&&!kw&&(kw=!0,aw=a*Ws+r),s.appendChild(Nc(bw[9]+a+"_"+r)),lw.push(bw[9]+a+"_"+r);document.getElementById("stream_table_user_host").appendChild(s)}jw()}function Aw(e,t,n,i){return sw.push(n),e<Ws&&Fc(i[0]),Dc(n,t,bw,i)}function Ow(e){for(var t=0;t<sw.length;t++)if(e===sw[t])return pw++,!0;return!1}function jw(){ru(function(){if(ww){if(0<pw&&!rw)return Ew=!0,Iw(),void Fw();pw=0,Ew=cw=!(lw=[])}else zl(),_w?Ql(B+Y):(ww=!0,Rw(),Mc(bw[1],9,vl,Ws)),cw=!1})}function Fw(){try{var e=new XMLHttpRequest;$l(pw);var t=aw+fw;t&&yw-1<t&&(t=yw-el,gw=!0),e.open("GET","https://api.twitch.tv/kraken/hosts?game="+encodeURIComponent(ks)+"&limit="+el+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=hw,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Pw(e.responseText);Nw()}},e.send(null)}catch(e){Nw()}}function Nw(){++uw<dw?(hw+=uw<5?250:3500,Fw()):(gw=!0,pw=0,lw=[],jw())}function Pw(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=lw.slice();yw=parseInt(i._total),o<Js&&(gw=!0);for(var s=0;s<lw.length&&r<o;s++,r++)Ow((t=i.hosts[r]).display_name+ne+t.target.channel.display_name)?(pw--,s--):(qc(lw[s],t.target.channel.name,[t.target.preview_urls.template.replace("{width}x{height}",nl),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+uc(t.target.viewers)+q,""],bw),pw--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));fw+=r,gw?(pw=0,lw=[]):lw=a,jw()}function Rw(){Kc(iw,ow,bw,$a,Ws,aw),3<iw&&Ac(bw[1],iw,vl,Ws,4),aw/Ws<iw+Xs&&!rw&&!Ew&&(Ew=!0,Iw(),Lw())}function Hw(){Yc(iw+"_"+ow,bw)}function Dw(){mw=!0}function qw(e){var t;if(!cw||Ew)if(mw)switch(mw=!1,window.setTimeout(Dw,vw),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=rs,xw(),mc());break;case xn:if(pc(iw,ow-1,bw[0]))Hw(),ow--,Rw();else for(t=Ws-1;-1<t;t--)if(pc(iw-1,t,bw[0])){Hw(),iw--,ow=t,Rw();break}break;case Sn:pc(iw,ow+1,bw[0])?(Hw(),ow++,Rw()):pc(iw+1,0,bw[0])&&(Hw(),iw++,ow=0,Rw());break;case In:for(t=0;t<Ws;t++)if(pc(iw-1,ow-t,bw[0])){Hw(),iw--,ow-=t,Rw();break}break;case Ln:for(t=0;t<Ws;t++)if(pc(iw+1,ow-t,bw[0])){Hw(),iw++,ow-=t,Rw();break}break;case Cn:case wn:Ew||Sw();break;case _n:Ew||(cs=Qa,xw(),mc());break;case bn:cs=Ya,xw(),mc();break;case kn:case Tn:case En:case Bn:Id=document.getElementById(bw[8]+iw+"_"+ow).getAttribute(sl),Ld=document.getElementById(bw[3]+iw+"_"+ow).textContent.split(ne)[1],document.body.removeEventListener("keydown",qw),gc();break;case Mn:tc();break;case An:xw(),Cc();break;case On:oc();break;case jn:ds=$a,cs=Za,xw(),mc()}else e.preventDefault();else e.preventDefault()}var zw=0,Vw=0,Uw=!1,Jw=0,Ww=[],Xw=0,Gw=[],Kw=!1,Yw=0,$w=10,Qw=3500,Zw=0,eT=0,tT=!0,nT=25,iT=!1,oT=0,rT=0,aT=!1,sT=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_"],lT=!1,cT="",uT="",dT=!1,hT=!1;function pT(){cs=Ya,document.getElementById("top_bar_user").classList.add("icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+bc(Ss+K),document.body.addEventListener("keydown",AT,!1),uT!==Ss&&(lT=!1),lT?(Zc(sT[0],zw,Vw,Ya,Ns,js,!1),Kl(Vw,zw,Ws,Jw)):mT()}function fT(){document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.body.removeEventListener("keydown",AT),document.getElementById("top_bar_user").innerHTML=d}function mT(){Zl(),eu("blank_focus"),ql(),lT=!1,uT=Ss,Sc("stream_table_user_live"),iT=hT=!1,Ww=[],zw=Vw=Jw=Xw=oT=eT=Zw=rT=0,Uw=dT=!(Gw=[]),cT="",Gl(),vT(),gT()}function vT(){Kw=!0,Yw=0,Qw=3500}function gT(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ss)+"/follows/channels?limit=100&offset="+rT+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=Qw,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void _T(e.responseText);yT()}},e.send(null)}catch(e){yT()}}function yT(){++Yw<$w?(Qw+=Yw<5?250:3500,gT()):(hT=Kw=!1,zl(),Ql(L))}function _T(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",o=0;o<n;o++)i=t[o].channel.name+",",-1===cT.indexOf(i)&&(cT+=i);rT+=n,vT(),gT()}else cT=cT.slice(0,-1),vT(),bT()}function bT(){try{var e=new XMLHttpRequest,t=Jw+eT;t&&oT-1<t&&(t=oT-Js,iT=Uw=!0),e.open("GET","https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(cT)+"&limit="+Js+"&offset="+t+"&stream_type=all&"+Math.round(1e7*Math.random()),!0),e.timeout=Qw,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void TT(e.responseText);wT()}},e.send(null)}catch(e){wT()}}function wT(){++Yw<$w?(Qw+=Yw<5?250:3500,bT()):(hT=Kw=!1,zl(),Ql(L))}function TT(e){var t=JSON.parse(e),n=t.streams.length;oT=parseInt(t._total),n<Js&&(Uw=!0);var i=Jw;aT=!(Jw+=n);var o=n/Ws;0<n%Ws&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/Ws+u,s=document.createElement("tr"),r=0;r<Ws&&c<n;r++,c++)ET((l=t.streams[c]).channel.name)?r--:s.appendChild(kT(a,a+"_"+r,l.channel.name,[l.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,g+hh(l.created_at)+y+", "+m+uc(l.viewers)+q,dc(l.video_height,l.average_fps,l.channel.language)]));for(;r<Ws;r++)Uw&&!dT&&(dT=!0,Jw=a*Ws+r),s.appendChild(Nc(sT[9]+a+"_"+r)),Gw.push(sT[9]+a+"_"+r);document.getElementById("stream_table_user_live").appendChild(s)}CT()}function kT(e,t,n,i){return Ww.push(n),e<Ws&&Fc(i[0]),Dc(n,t,sT,i)}function ET(e){for(var t=0;t<Ww.length;t++)if(e===Ww[t])return Zw++,!0;return!1}function CT(){ru(function(){if(lT){if(0<Zw&&!Uw)return hT=!0,vT(),void xT();Zw=0,hT=Kw=!(Gw=[])}else zl(),aT?Ql(B+K):(lT=!0,LT(),Mc(sT[1],9,vl,Ws)),Kw=!1})}function xT(){try{var e=new XMLHttpRequest;$l(Zw);var t=Jw+eT;t&&oT-1<t&&(t=oT-el,iT=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(ks)+"&limit="+el+"&offset="+t,!0),e.timeout=Qw,e.setRequestHeader("Client-ID",tl),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||IT(e.responseText)},e.send(null)}catch(e){ST()}}function ST(){++Yw<$w?(Qw+=Yw<5?250:3500,xT()):(iT=!0,Zw=0,Gw=[],CT())}function IT(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=Gw.slice();oT=parseInt(i._total),o<Js&&(iT=!0);for(var s=0;s<Gw.length&&r<o;s++,r++)ET((t=i.streams[r]).channel.name)?(Zw--,s--):(Ww.push(t.channel.name),qc(Gw[s],t.channel.name,[t.preview.template.replace("{width}x{height}",nl),hc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+hh(t.created_at)+y+", "+m+uc(t.viewers)+q,dc(t.video_height,t.average_fps,t.channel.language)],sT),Zw--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));eT+=r,iT?(Zw=0,Gw=[]):Gw=a,CT()}function LT(){Kc(zw,Vw,sT,Ya,Ws,Jw),3<zw&&Ac(sT[1],zw,vl,Ws,4),Jw/Ws<zw+Xs&&!Uw&&!hT&&(hT=!0,vT(),gT())}function BT(){Yc(zw+"_"+Vw,sT)}function MT(){tT=!0}function AT(e){var t;if(!Kw||hT)if(tT)switch(tT=!1,window.setTimeout(MT,nT),e.keyCode){case Fn:ic()?nc():ac()?rc():(cs=rs,fT(),mc());break;case xn:if(pc(zw,Vw-1,sT[0]))BT(),Vw--,LT();else for(t=Ws-1;-1<t;t--)if(pc(zw-1,t,sT[0])){BT(),zw--,Vw=t,LT();break}break;case Sn:pc(zw,Vw+1,sT[0])?(BT(),Vw++,LT()):pc(zw+1,0,sT[0])&&(BT(),zw++,Vw=0,LT());break;case In:for(t=0;t<Ws;t++)if(pc(zw-1,Vw-t,sT[0])){BT(),zw--,Vw-=t,LT();break}break;case Ln:for(t=0;t<Ws;t++)if(pc(zw+1,Vw-t,sT[0])){BT(),zw++,Vw-=t,LT();break}break;case Cn:case wn:hT||mT();break;case _n:hT||(cs=$a,fT(),mc());break;case bn:hT||(cs=as,fT(),mc());break;case kn:case Tn:case En:case Bn:Id=document.getElementById(sT[8]+zw+"_"+Vw).getAttribute(sl),Ld=document.getElementById(sT[3]+zw+"_"+Vw).textContent,document.body.removeEventListener("keydown",AT),gc();break;case Mn:tc();break;case An:fT(),Cc();break;case On:oc();break;case jn:ds=Ya,cs=Za,fT(),mc()}else e.preventDefault();else e.preventDefault()}var OT=0,jT=0,FT=!0,NT=25,PT=7,RT=0,HT=null,DT=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell"],qT=!1,zT=!0,VT=[],UT=[],JT=0;function WT(){cs=rs,Zl(),document.getElementById("top_bar_user").classList.add("icon_center_focus"),document.body.addEventListener("keydown",fk,!1),qT?Zc(DT[0],OT,jT,rs,Ps,160,!0):GT()}function XT(){pi(0),document.getElementById("top_bar_user").classList.remove("icon_center_focus"),document.body.removeEventListener("keydown",fk)}function GT(){Zl(),qT=!1,eu("blank_focus"),ql(),Sc("stream_table_user"),VT=[],UT=[],zT=!(OT=jT=JT=0),KT()}function KT(){for(var e,t,n=document.createElement("tbody"),i=0;i<Qi.length;i++)t=0,Ss=Qi[i],(Ms=document.createElement("tr")).className="follower_header",Ms.innerHTML='<div class="follower_header">'+Ss+N+(i?"":re)+"</div>",document.getElementById("stream_table_user").appendChild(n),document.getElementById("stream_table_user").appendChild(Ms),(e=document.createElement("tr")).appendChild(YT(i+"_"+t,gs,K,yl)),t++,e.appendChild(YT(i+"_"+t,gs,Y,_l)),t++,e.appendChild(YT(i+"_"+t,gs,Fb?$:Gt,gl)),t++,e.appendChild(YT(i+"_"+t,gs,Q,Tl)),t++,i?e.appendChild(YT(i+"_"+t,gs,oe,Cl)):e.appendChild(YT(i+"_"+t,gs,Z,El)),t++,e.appendChild(YT(i+"_"+t,gs,ee,kl)),t++,e.appendChild(YT(i+"_"+t,gs,-1<mi(Ss)?Et:kt,xl)),document.getElementById("stream_table_user").appendChild(e);$T()}function YT(e,t,n,i){return VT[JT]=i,UT[JT]=DT[1]+e,JT++,Fc(i),(Ms=document.createElement("td")).setAttribute("id",DT[4]+e),Ms.setAttribute(sl,t),Ms.className="stream_cell",Ms.innerHTML='<div id="'+DT[0]+e+'" class="stream_thumbnail_channel" ><img id="'+DT[1]+e+'" class="stream_img"></div><div id="'+DT[2]+e+'" class="stream_text"><div id="'+DT[3]+e+'" class="stream_info_user">'+n+"</div></div>",Ms}function $T(){ru(function(){qT||(zl(),qT=!0,0<Un.length&&ZT(),nk()),Bc(VT,UT,vl),zT=!1})}function QT(){for(var e=0;e<Qi.length;e++)document.getElementById(DT[3]+e+"_2").innerHTML=Fb?$:Gt}function ZT(){for(var e=0;e<Qi.length;e++)ek(e)}function ek(e){qn=0,Vn=1e4,Ri(e)}function tk(e,t){if(document.getElementById(DT[3]+t+"_6").innerHTML=e?Et:kt,!e){var n=mi(Qi[t]);-1<n&&di(n)}}function nk(){document.getElementById(DT[0]+OT+"_"+jT).classList.add("stream_thumbnail_focused"),document.getElementById(DT[2]+OT+"_"+jT).classList.add("stream_text_focused"),document.getElementById(DT[3]+OT+"_"+jT).classList.add("stream_info_focused"),Zc(DT[0],OT,jT,rs,Ps,160,!0)}function ik(){document.getElementById(DT[0]+OT+"_"+jT).classList.remove("stream_thumbnail_focused"),document.getElementById(DT[2]+OT+"_"+jT).classList.remove("stream_text_focused"),document.getElementById(DT[3]+OT+"_"+jT).classList.remove("stream_info_focused")}function ok(){FT=!0}function rk(){5!==jT&&document.body.removeEventListener("keydown",fk),Ss=Qi[OT],pi(OT),jT?1===jT?Cw():2===jT?Db():3===jT?ib():4===jT?OT?go(OT):(us=rs,io()):5===jT?uk():6===jT&&ni():pT()}function ak(e){for(var t=JSON.parse(e),n=t.token.authorization.scopes,i="",o=0;o<n.length;o++)i+=n[o];return-1!==i.indexOf("user_follows_edit")&&-1!==i.indexOf("user_subscriptions")&&t.token.user_name+""===Ss&&t.token.valid+""=="true"}function sk(e){if(document.getElementById(DT[3]+OT+"_"+jT).innerHTML=e?Et:kt,!e){var t=mi(Qi[OT]);-1<t&&di(t)}}function lk(){window.clearTimeout(HT)}function ck(){HT=window.setTimeout(dk,6e3)}function uk(){ck(),document.getElementById("main_dialog_remove").innerHTML=Wt+en+Ss+"?",document.getElementById("main_remove_dialog").classList.remove("hide")}function dk(){lk(),document.getElementById("main_remove_dialog").classList.add("hide"),RT=0,pk()}function hk(){return-1===document.getElementById("main_remove_dialog").className.indexOf("hide")}function pk(){RT?(document.getElementById("remove_cancel").classList.remove("button_search_focused"),document.getElementById("remove_yes").classList.add("button_search_focused")):(document.getElementById("remove_cancel").classList.add("button_search_focused"),document.getElementById("remove_yes").classList.remove("button_search_focused"))}function fk(e){var t;if(zT)e.preventDefault();else if(FT)switch(FT=!1,window.setTimeout(ok,NT),e.keyCode){case Fn:hk()?dk():ic()?nc():ac()?rc():(cs=Wa,XT(),mc());break;case xn:if(hk())--RT<0&&(RT=1),pk(),lk(),ck();else if(pc(OT,jT-1,DT[0]))ik(),jT--,nk();else if(pc(OT-1,0,DT[0])){for(t=PT-1;-1<t;t--)if(pc(OT-1,t,DT[0])){ik(),OT--,jT=t,nk();break}}else ik(),jT=PT-1,nk();break;case Sn:hk()?(1<++RT&&(RT=0),pk(),lk(),ck()):(pc(OT,jT+1,DT[0])?(ik(),jT++):(pc(OT+1,0,DT[0])?(ik(),OT++):ik(),jT=0),nk());break;case In:for(t=0;t<PT;t++)if(pc(OT-1,jT-t,DT[0])){ik(),OT--,jT-=t,nk();break}break;case Ln:for(t=0;t<PT;t++)if(pc(OT+1,jT-t,DT[0])){ik(),OT++,jT-=t,nk();break}break;case Cn:case wn:GT();break;case _n:us=rs,cs=Ga,XT(),mc();break;case bn:us=rs,cs=Wa,XT(),mc();break;case kn:case Tn:case En:case Bn:if(hk()){var n=RT;dk(),n&&(document.body.removeEventListener("keydown",fk),mo(OT))}else rk();break;case Mn:tc();break;case An:XT(),Cc();break;case On:oc();break;case jn:ds=rs,cs=Za,XT(),mc()}else e.preventDefault()}