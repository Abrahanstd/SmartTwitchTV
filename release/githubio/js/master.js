var t,n,i,e,a,o,s,d,l,r,h,f,c,u,_,m,p,v,g,y,b,w,k,C,M,E,x,S,I,P,L,T,B,G,O,F,U,A,N,H,D,q,R,z,V,J,X,j,Y,W,K,Z,$,Q,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Me,Ee,xe,Se,Ie,Pe,Le,Te,Be,Ge,Oe,Fe,Ue,Ae,Ne,He,De,qe,Re,ze,Ve,Je,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,Mt,Et,xt,St,It,Pt,Lt,Tt,Bt,Gt,Ot,Ft,Ut,At,Nt,Ht,Dt,qt,Rt,zt,Vt,Jt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,Mn,En,xn,Sn,In,Pn,Ln,Tn,Bn,Gn,On,Fn,Un,An,Nn,Hn,Dn,qn,Rn,zn,Vn,Jn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ei='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_side_panel" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label hide"></div><div id="label_extra" class="icon_top_label hide"></div></div><div id="top_lables" style="text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="side_panel" class="side_panel side_panel_hide" style="margin-left:-23.5%;"><div id="side_panel_0" class="side_panel_text side_panel_text_focus" style="margin-top:10px;"><div class="side_panel_icons"><i class="icon icon-search"></i></div>&nbsp;<spam id="side_panel_search"></spam></div><div id="side_panel_1" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-settings"></i></div>&nbsp;<spam id="side_panel_settings"></spam></div><div id="side_panel_2" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-info-circle"></i></div>&nbsp;<spam id="side_panel_about"></spam></div><div id="side_panel_3" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-question-circle"></i></div>&nbsp;<spam id="side_panel_controls"></spam></div><div id="side_panel_4" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-exit"></i></div>&nbsp;<spam id="side_panel_exit"></spam></div><div id="side_panel_5" class="side_panel_text" style="margin-top:50px;"><div class="side_panel_icons"><i class="icon icon-play"></i></div>&nbsp;<spam id="side_panel_live"></spam></div><div id="side_panel_6" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-users"></i></div>&nbsp;<spam id="side_panel_user"></spam></div><div id="side_panel_7" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-star"></i></div>&nbsp;<spam id="side_panel_featured"></spam></div><div id="side_panel_8" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-gamepad"></i></div>&nbsp;<spam id="side_panel_games"></spam></div><div id="side_panel_9" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie-play"></i></div>&nbsp;<spam id="side_panel_videos"></spam></div><div id="side_panel_10" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie"></i></div><spam id="side_panel_clips"></spam></div><div class="side_panel_return"><div class="side_panel_icons"><i class="icon icon-arrow-circle-left"></i></div>&nbsp;<spam id="side_panel_hide"></spam></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="about_dialogs hide" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="user_channels_scroll" class="screen_holder hide"><table id="stream_table_user_channels" class="streams_tables"></table></div><div id="search_channel_scroll" class="screen_holder hide"><table id="stream_table_search_channel" class="streams_tables"></table></div><div id="channel_content_scroll" class="screen_holder hide"><table id="stream_table_channel_content" class="streams_tables"></table></div><div id="Clip_scroll" class="screen_holder hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder hide"><table id="stream_table_user" class="streams_tables"></table></div><div id="settings_scroll" class="screen_holder_settings hide"><div id="settings_main" class="settings_main"></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_div"></div></div><div id="search_games_scroll" class="screen_holder_games hide"><table id="stream_table_search_game" class="streams_tables"></table></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="strokedextramini" style="font-size:100%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="live_scroll" class="screen_holder hide"><table id="stream_table_live" class="streams_tables"></table></div><div id="featured_scroll" class="screen_holder hide"><table id="stream_table_featured" class="streams_tables"></table></div><div id="user_host_scroll" class="screen_holder hide"><table id="stream_table_user_host" class="streams_tables"></table></div><div id="user_live_scroll" class="screen_holder hide"><table id="stream_table_user_live" class="streams_tables"></table></div><div id="a_games_scroll" class="screen_holder hide"><table id="stream_table_a_game" class="streams_tables"></table></div><div id="search_live_scroll" class="screen_holder hide"><table id="stream_table_search_live" class="streams_tables"></table></div><div id="vod_scroll" class="screen_holder hide"><table id="stream_table_vod" class="streams_tables"></table></div><div id="a_games_vod_scroll" class="screen_holder hide"><table id="stream_table_a_game_vod" class="streams_tables"></table></div><div id="channel_vod_scroll" class="screen_holder hide"><table id="stream_table_channel_vod" class="streams_tables"></table></div><div id="user_vod_scroll" class="screen_holder hide"><table id="stream_table_user_vod" class="streams_tables"></table></div></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><iframe id="chat_frame" class="hide" width="100%" height="100%" frameborder="0" scrolling="no" style="position:absolute;overflow:hidden;" src="about:blank"></iframe><div id="chat_box" class="hide"></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedbig" style="display:inline-block;font-size:225%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo"><div id="stream_clock"></div><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/404_logo.png"><div class="playmaininfo"><div id="stream_info_name" style="font-size:160%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div id="scene_channel_panel_bottom" style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_pannel_5" class="playbotton" style="z-order:6;width:11%;"><div id="ic_search" style="font-size:140%;transform:translate(0, 5%);vertical-align:middle;display:inline-block;"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_4" class="playbotton" style="z-order:5;width:18%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block;"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_3" class="playbotton" style="z-order:5;width:17%;"><div id="game_icon" style="vertical-align:middle;display:inline-block;overflow:hidden;max-height:43px;"><div style="display:flex;font-size:185%;transform:translate(0,3%);"><i class="icon-gamepad strokicon"></i></div></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_2" class="playbotton" style="z-order:3;width:14%;"><div id="fallow_heart" style="font-size:75%;transform:translate(0, 10%);vertical-align:middle;display:inline-block;"><i class="icon-heart-o strokicon" style="color:#FFFFFF;font-size:210%;"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_1" class="playbotton playbotton_focus" style="z-order:2;width:30%;"><div id="quality_video" style="vertical-align:middle;display:inline-block;font-size:185%;transform:translate(0, 7%);"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="display:inline-block;font-size:50%;transform:translate(0,20%);">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:87.5%;font-weight:bold;width:77%;"></div></div><div id="scene2_pannel_0" class="playbotton" style="z-order:4;width:17%;margin-right:0;display:none;"><div id="open_vod_icon" style="vertical-align:middle;display:inline-block;font-size:175%;transform:translate(0, 7%);"><i class="icon-play strokicon"></i></div>&nbsp;<div id="open_vod_text" class="strokedextramini playbottontext" style="font-size:77.5%;"></div></div></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedextramini" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedextramini"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedextramini"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedextramini" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_button" class="pause_button"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:180%;"></i></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedbig" style="font-size:165%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:250%;"></i><div id="dialog_vod_saved_text" class="strokedbig"></div></div><div id="dialog_vod_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_vod_start_text" class="strokedbig"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:500%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:250%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:17%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:250%;"></div></div></div></div>',ti="fglfgl27@gmail.com",ni="<br>",ii='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ai='<div class="about_text_title">',oi='<div class="about_text_title" style="text-align: left;">',si='<div style="text-align: left;">',di="",li="",ri="",ci="",ui="",_i="",fi="",mi="",hi="",pi="",vi="&nbsp;",gi="",yi='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+vi;function bi(){di=e+" (C)",li=n+" (D)",ci=i+" (A)",ri=a+" (A)",l+=Wt,r+=Wt,ui=ai+e+"</div>"+ai+Ee+"</div>"+ni+si+ii+Le+ni+ii+(Te+=Fn)+ni+ii+Be+ni+ii+Ge+ni+Oe+ni+ii+Fe+ni+vi+vi+vi+Ue+ni+ii+Ae+ni+"</div>"+ni+(mi=ai+Ce+"</div>"+si+ii+We+ni+ii+Ke+ni+"</div>"+si+ii+Ze+ni+ii+$e+ni+ii+Qe+ni+ni+ai+Me+"</div>"+si+ii+et+ni+ii+tt+ni+ii+nt+ni+ii+it+ni+ii+at)+ni+ni+ai+ke+"</div>",_i=ai+yi+we+"</div></div>",fi=si+ni+Ne+ni+(gc?"":ni+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Yn+"</div>")+"</div>"+ni+ai+He+"</div>"+ti+ni+ni+De+ni+qe+ni+ni+oi+Re+"</div>"+si+ii+ze+ni+ii+Ve+ni+ii+Je+ni+ii+Xe+ni+ii+je+ni+ii+Ye+ni+ai+ke+"</div></div>",hi=ai+xe+"</div>"+lt+ni,gi=ni+ai+rt+"</div>"+si+ii+ct+ni+ni+ai+gi+"</div>"+ni+ni+ke+"</div>",pi=_t+ni+ii+ft.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+ni+ii+mt+ni+ii+ht+ni+ii+pt+ni+ii+vt}function wi(){Qc=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",h="Switch: Past Broadcast or Highlight",f="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",m="Games",p="Playing ",v=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",C="Type your authentication key...",M="Type your user name...",E="Press Enter or Select key to, ",x="Channels",S="Channel",I="Back to previously screen: Back key twice",P=" has ended",L="This video is only available to subscribers.",T="Connection failed, unable to load content hit refresh to try again",B="No",G=" for this ",O="Connection failed, unable to load video content exiting...",F=" Past Broadcast",U=" Highlight",A=" Clips",N=" Content",H="Streamed on ",D="Duration ",q=" Views",R=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",J="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ie=" hosting ",ae=" already set",oe="Make First",se=" (First user can fallow streamears outside User screen when providing a key)",de="Add a Twitch user to display it's Followed Channels content here",le=" (24h)",re=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Ce="Player Related:",Me="Chat Related:",Ee="General Related:",xe="Update",Se="Current installed version ",Ie=" latest available version ",Pe="This are the none players related controls, the player can show it's own controls.",Le="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Te="Refresh screen content: ",Be="Exit the application: from side pannel click exit",Ge=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Fe="Start a search: from side pannel click search",Ue="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ae="About this application: from side pannel click about",Ne="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Yn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",He="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",qe="github.com/fgl27/SmartTwitchTV",Re="This application uses following dependencies:",ze="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Ve="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",Je="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Show information panel: Press enter key or D-pad keys if chat is not showing",Ke="Close the video: press back key twice",Ze="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",$e="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",Qe="Force refresh a video (in case it freezes): Change video quality to the same",et="Show or hide the Chat : D-pad right",tt="Change Chat position : D-pad left",nt="Change Chat size : D-pad up",it="Change Chat background brightness: D-pad down",at="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ot='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',st="Chat and video (Side by side): Color button red (A)",$n="Force disable the chat",Qn="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",dt="There is a update available, check it in the app github releases ",gi="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",lt="A update is available, and the app can't self update this version ",rt="Major changes:",ct="Improves how the app runs in the background",ut='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',_t=" below, fallowing this steps:",ft="Access the site link_link (using a computer or a smart phone)",mt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',ht="Login to Twitch.TV using the user name you are trying to add a key for",pt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",vt="The web page will update and show a key code, the key only has lower case letters and nubers.",gt=" Add Authentication key",yt="Key added OK",bt="Key test fail, it's needed to add new one",wt="Key test return OK",kt="You try to add a key for user ",Ct=" but this key is for user ",Mt=" Following",Et=" Follow",xt=" And you have not set a authentication key the app can't check yours sub status.",St=" And you are not a sub of this channel",It=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Pt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Tt="Set a user and a authentication key to be able to fallow/unfollow",Bt="Restart the",Gt=" Clip",Ot="Channel content",Ft="Network is disconnect, the application can't work without INTERNET",Ut="Network connection reestablished",At=" Followers",Nt=", Can't fallow or unfallow ",Ht="Game content",Dt="Yes",qt="Are you sure you want to remove the user ",Rt="Press Up to ",zt="Followed Games",Vt="Change between",Jt=" Back key then Enter",Xt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],jt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yt="Started ",Wt=" (PG Up/Down)",Kt="Videos",Zt=" Video",$t="Replay",Qt="exiting in ",en='press "Return" to exit',tn="Featured",nn="Created at ",an="Open the Broadcast",on="No Broadcast",sn="There is no Past Broadcast for this clip",dn="And because of that no chat",ln=" is now",rn="Open the Hosting",cn="Player related",un="Buffer size:",_n="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",fn="Live streams buffer",mn="Videos (Past Broadcast and Highlight) buffer",hn="Clips buffer",pn="General related",vn="Language",gn="Chat: Connecting to chat history server.."+ni+"Chat: Connected."+ni+"Chat: Joined channel ",yn="Play from the start or from where you stop watching last time?",wn=(bn="From:"+ni)+"Start",kn="Chat: The Chat has ended!",Cn=": Most recent",Mn=": Most views",En="Set a authentication key to be able to see fallowed videos",xn="Switch: Most recent or views",Sn="Enable",In="Disable",Rn="The app was closed willing playing, restoring playback",Pn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Tn="Chat font size",Bn="Change the chat lines font size, applies to text and emotes",On="Videos animated thumbnails",Fn="Side panel: Back key twice",Un="Size ",An="Brightness ",Nn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Hn="Jump step ",Dn=" seconds",qn=" minutes",zn="Clock offset",Vn="Application language",Jn="Content language",Xn="All",jn="Empty game fro this",Wn="Isn't possible to jump during a buffering",Kn="Chat is disabled, enable in side pannel settings",Zn="This clip/video fail to load can't replay"}var ki=51,Ci=52,Mi=179,Ei=37,xi=38,Si=39,Ii=40,Pi=13,Li=49,Ti=8,Bi=13,Gi=32,Oi=46,Fi=0,Ui=5,Ai=1e4,Ni=0,Hi=!1,Di=!1,qi=!1,Ri=!1,zi="",Vi="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Ji="elsu5d09k0xomu7cggx3qg5ybdwu7g",Xi="https://id.twitch.tv/oauth2/token?";function ji(e){Vc.Users_Position=Vc.Users_AddcodePosition,Ni=e,pa(),Qu(),Zi()}function Yi(e,t,n,i){var a=new XMLHttpRequest,o=Xi+"grant_type=refresh_token&client_id="+encodeURIComponent(gu)+"&client_secret="+encodeURIComponent(Ji)+"&refresh_token="+encodeURIComponent(Fa[e].refresh_token)+"&redirect_uri="+Vi;a.open("POST",o,!0),a.timeout=Ai,a.ontimeout=function(){},a.onreadystatechange=function(){4!==a.readyState||(200===a.status?Ki(a.responseText,e,n):Wi(e,t,n,i))},a.send(null)}function Wi(e,t,n,i){++t<10?Yi(e,t,n):i&&i()}function Ki(e,t,n){var i=JSON.parse(e);Fa[t].access_token=i.access_token,Fa[t].refresh_token=i.refresh_token,eo(),n&&n()}function Zi(){var e=new XMLHttpRequest,t=Xi+"grant_type=authorization_code&client_id="+encodeURIComponent(gu)+"&client_secret="+encodeURIComponent(Ji)+"&code="+encodeURIComponent(Ni)+"&redirect_uri="+Vi;e.open("POST",t,!0),e.timeout=Ai,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?ea(e.responseText):$i())},e.send(null)}function $i(){++Fi<Ui?Zi():Qi()}function Qi(){e_(),c_(Pt),window.setTimeout(function(){u_(),Wc=0,P_(),Vc.Main_Go=Oc,window.location=Vi},4e3),Fa[Vc.Users_Position].access_token=0,Fa[Vc.Users_Position].refresh_token=0}function ea(e){var t=JSON.parse(e);Fa[Vc.Users_Position].access_token=t.access_token,Fa[Vc.Users_Position].refresh_token=t.refresh_token,pa(),ta()}function ta(){Vf("https://api.twitch.tv/kraken?oauth_token="+Fa[Vc.Users_Position].access_token,Ai,0,null,na,ia)}function na(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Fa[Vc.Users_Position].name)?(eo(),Wc=0,e_(),Hi=QM=!1,Vc.Main_Go=Oc,P_(),c_(yt),window.setTimeout(function(){window.location=Vi},3e3)):(Fa[Vc.Users_Position].access_token=0,Fa[Vc.Users_Position].refresh_token=0,Hi=!1,c_(Gn+Fa[Vc.Users_Position].name),window.setTimeout(function(){u_(),Wc=0,P_(),Vc.Main_Go=Oc,window.location=Vi},4e3))}function ia(){++Fi<Ui?(Ai+=500,ta()):Qi()}function aa(){pa(),Di=!1,oa()}function oa(){var e="https://api.twitch.tv/kraken/users/"+Fa[Vc.Users_Position].id+"/follows/channels/"+zi,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ai,t.setRequestHeader(yu,gu),t.setRequestHeader(bu,Cu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?sa():404===t.status?da(t.responseText):la())},t.send(null)}function sa(){Hi=!(Di=!0),Ri?sg():fd()}function da(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(Hi=Di=!1,Ri?sg():fd()):la()}function la(){++Fi<Ui?(Ai+=500,oa()):(Hi=!1,Ri?sg():fd())}function ra(){pa(),ca()}function ca(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Fa[Vc.Users_Position].id+"/follows/channels/"+zi,!0),e.timeout=Ai,e.setRequestHeader(yu,gu),e.setRequestHeader(bu,Cu),e.setRequestHeader("Authorization","OAuth "+Fa[Vc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Di=!(Hi=!1),void(Ri?sg():fd());401===e.status||403===e.status?Yi(Vc.Users_Position,0,ra,null):ua()}},e.send(null)}function ua(){++Fi<Ui&&(Ai+=500,ca())}function _a(){pa(),fa()}function fa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Fa[Vc.Users_Position].id+"/follows/channels/"+zi,!0),e.timeout=Ai,e.setRequestHeader(yu,gu),e.setRequestHeader(bu,Cu),e.setRequestHeader("Authorization","OAuth "+Fa[Vc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Hi=Di=!1,void(Ri?sg():fd());401===e.status||403===e.status?Yi(Vc.Users_Position,0,_a,null):ma()}},e.send(null)}function ma(){++Fi<Ui&&(Ai+=500,fa())}function ha(){pa(),qi=!1,va()}function pa(){Ai=1e4,Hi=!(Fi=0)}function va(){var e,t="https://api.twitch.tv/kraken/users/"+Fa[Vc.Users_Position].id+"/subscriptions/"+zi;if(Bu){if(!(e=Android.mreadUrl(t,Ai,3,Fa[Vc.Users_Position].access_token)))return void ga();if(200===(e=JSON.parse(e)).status)Hi=!(qi=!0),py();else if(422===e.status)Hi=qi=!1,hy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Hi=qi=!1,void hy();ga()}else 401===e.status||403===e.status?Yi(Vc.Users_Position,0,ha,ya):ga()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ai,e.setRequestHeader(yu,gu),e.setRequestHeader(bu,Cu),e.setRequestHeader("Authorization","OAuth "+Fa[Vc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Hi=!(qi=!0),py();else if(422===e.status)Hi=qi=!1,hy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Hi=qi=!1,void hy();ga()}else 401===e.status||403===e.status?Yi(Vc.Users_Position,0,ha,ya):ga()},e.send(null)}function ga(){++Fi<Ui?(Ai+=500,va()):ya()}function ya(){Hi=qi=!1,hy()}function ba(e){pa(),wa(e,0)}function wa(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Fa[e].access_token,i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void(JSON.parse(i.responseText).token.valid?Hi=!1:(pa(),Yi(e,0,null,null)));400===i.status?(pa(),Yi(e,0,null,null)):ka(e,t)}},i.send(null)}function ka(e,t){++t<Ui&&wa(e,t)}function Ca(){pa(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Fa[Vc.Users_Position].name+"/follows/games/"+encodeURIComponent(Vc.Main_gameSelected)+"?oauth_token="+Fa[Vc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(yu,gu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return wo=!0,void Go();401===e.status||403===e.status?Yi(Vc.Users_Position,0,Ca,null):Ea()}},e.send(null)}function Ea(){++Fi<Ui&&(Ai+=500,Ma())}function xa(){pa(),Sa()}function Sa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Fa[Vc.Users_Position].name+"/follows/games/"+encodeURIComponent(Vc.Main_gameSelected)+"?oauth_token="+Fa[Vc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(yu,gu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return wo=!1,void Go();401===e.status||403===e.status?Yi(Vc.Users_Position,0,xa,null):Ia()}},e.send(null)}function Ia(){++Fi<Ui&&(Ai+=500,Sa())}function Pa(){pa(),La()}function La(){var e,t="https://api.twitch.tv/api/users/"+Fa[Vc.Users_Position].name+"/follows/games/"+encodeURIComponent(Vc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(yu,gu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(wo=!0,void Go()):404===e.status?(wo=!1,void Go()):void Ta()},e.send(null)}function Ta(){++Fi<Ui?(Ai+=500,La()):(wo=!1,Go())}var Ba=0,Ga=5,Oa=3500,Fa=[],Ua=null,Aa=!1,Na=!1;function Ha(){Vc.Main_Go=kc,Wu("top_bar_user","icon_center_focus"),u_(),fc.placeholder=M,ju("add_user_scroll"),Ra()}function Da(){Va(!1),document.body.removeEventListener("keydown",qa),document.body.removeEventListener("keydown",Ja),Ku("top_bar_user","icon_center_focus"),Xu("add_user_scroll")}function qa(e){if(!Aa&&!Na&&Vc.Main_Go===kc)switch(e.keyCode){case Li:m_()?f_():g_()?v_():(0<Fa.length&&Vc.Main_Go!==Oc?Vc.Main_Go=Vc.Main_Before:Vc.Main_Go=wc,Da(),I_());break;case Ci:case ki:case Mi:case Pi:Ra()}}function Ra(){document.body.removeEventListener("keydown",qa),document.body.addEventListener("keydown",Ja,!1),fc.placeholder=M,fc.focus(),Na=!0}function za(){if(null!==fc){var e=fc.cloneNode(!0);fc.parentNode.replaceChild(e,fc),fc=document.getElementById("user_input")}}function Va(e){fc.blur(),za(),document.body.removeEventListener("keydown",Ja),fc.placeholder=E+M,e&&document.body.addEventListener("keydown",qa,!1),Na=!1}function Ja(e){if(!Aa&&Vc.Main_Go===kc)switch(e.keyCode){case Li:m_()?f_():g_()?v_():(0<Fa.length&&Vc.Main_Go!==Oc?Vc.Main_Go=Vc.Main_Before:Vc.Main_Go=wc,Da(),I_());break;case Oi:fc.value="";break;case Bi:case Ii:""!==fc.value&&null!==fc.value?no(Ua=gc||Za()?fc.value:"testtwitch27")?(e_(),c_(u+Ua+ae),window.setTimeout(function(){u_(),Ra()},1500)):(Oa=3500,Aa=!(Ba=0),Xu("add_user_scroll"),Qu(),Xa()):Ra();break;case Ti:fc.value=fc.value.slice(0,-1);break;case Gi:fc.value+=" "}}function Xa(){Vf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ua),Oa,2,null,ja,Ya)}function ja(e){JSON.parse(e)._total?(fc.value="",document.body.removeEventListener("keydown",qa),$a(e)):Wa()}function Ya(){++Ba<Ga?(Oa+=500,Xa()):Wa()}function Wa(){Ua=null,e_(),c_(ne),window.setTimeout(function(){Ha()},1e3),Aa=!1}function Ka(){if(0<(Fa=Df("AddUser_UsernameArray",[])).length)for(var e=0;e<Fa.length;e++)Fa[e].access_token&&ba(e)}function Za(){return 0<Fa.length}function $a(e){Ua=JSON.parse(e).users[0],Fa.push({name:Ua.name,id:Ua._id,access_token:0,refresh_token:0}),eo(),QM=!1,Da(),tE(),Aa=!1}function Qa(e){var t=Fa.indexOf(Fa[e]);-1<t&&Fa.splice(t,1),0<Fa.length?(QM=!1,tE()):Ha(),eo()}function eo(){Nf("AddUser_UsernameArray",JSON.stringify(Fa))}function to(e){Ua=Fa[0],Fa[0]=Fa[e],Fa[e]=Ua,QM=!1,tE()}function no(e){return-1!==Fa.indexOf(e)}function io(){return 0<Fa.length}var ao=0,oo=0,so=!1,lo=0,ro={},co=[],uo=!1,_o=0,fo=5,mo=3500,ho=0,po=0,vo=!1,go=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],yo=!1,bo=!1,wo=!1,ko=!1,Co=!1;function Mo(){Vc.Main_CenterLablesVectorPos=3,Vc.Main_Go=Mc,document.body.addEventListener("keydown",zo,!1),Wu("top_bar_game","icon_center_focus"),Ju("label_side_panel","icon-arrow-circle-left",I),Vc.Search_isSearching&&(G_(),Zu("top_bar_user",n+O_(m+" '"+Vc.Search_data+"'"))),Zu("top_bar_game",w+O_(_+": "+Vc.Main_gameSelected)),Vc.Main_OldgameSelected===Vc.Main_gameSelected&&yo?(R_(ao),ju(go[10]),d_(oo,ao,ru,lo),Ho(),P_()):xo()}function Eo(){yo&&-1===ao&&(Ro(),oo=ao=0,Wu(go[0]+"0_"+oo,xu)),Ju("label_side_panel","icon-ellipsis",Fn),Zu("top_bar_game",m),document.body.removeEventListener("keydown",zo),Ku("top_bar_game","icon_center_focus"),Xu(go[10])}function xo(){null===Vc.Main_OldgameSelected&&(Vc.Main_OldgameSelected=Vc.Main_gameSelected),N_("stream_table_a_game"),Xu(go[10]),Qu(),u_(),Co=yo=!1,ro={},lo=po=ho=0,ao=oo=0,so=!(Lf=!(bo=!(co=[]))),s_(),vf(function(){So(),Io()})}function So(){D_(),uo=!0,_o=0,mo=3500}function Io(){var e=lo+ho;e&&po-1<e&&(e=po-lu,so=!0),Vf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+lu+"&offset="+e+(""!==eu?"&language="+eu:""),mo,2,null,Lo,Po)}function Po(){++_o<fo?(mo+=500,Io()):(uo=!1,lo?(so=!0,To()):(Lf=!1,e_(),c_(T)))}function Lo(e){var t=JSON.parse(e),n=t.streams.length;po=parseInt(t._total),n<lu&&(so=!0);var i=lo;vo=!(lo+=n);var a=n/ru;0<n%ru&&a++;var o,s,d,l,r,c,u=0;if(!Co){var _;for(Co=!0,d=document.createElement("tr"),l=0;l<3;l++)_=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+vi+A:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+vi+vi+Kt,($c=document.createElement("td")).setAttribute("id",go[8]+"y_"+l),$c.className="stream_cell",$c.innerHTML='<div id="'+go[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+go[3]+"y_"+l+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild($c);document.getElementById("stream_table_a_game").appendChild(d)}for(l=0;l<a;l++){for(s=i/ru+l,d=document.createElement("tr"),o=0;o<ru&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,ro[c]?o--:(ro[c]=1,d.appendChild(W_(s,s+"_"+o,[r.channel.name,c],go,[r.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+Yp(r.created_at)+b+", "+v+w_(r.viewers)+R,k_(r.video_height,r.average_fps,r.channel.language)])));for(;o<ru;o++)so&&!bo&&(bo=!0,lo=s*ru+o),d.appendChild(J_(go[9]+s+"_"+o)),co.push(go[9]+s+"_"+o);document.getElementById("stream_table_a_game").appendChild(d)}To()}function To(){vf(function(){if(yo){if(H_(Au),0<co.length&&!so)return So(),void Uo();d_(oo,ao,ru,lo),co=[]}else e_(),Bo(),vo?(c_(B+$),ao=-1,qo()):(yo=!0,H_(Au),Ho(),P_()),ju(go[10]),Lf=!1;uo=!1})}function Bo(){ko?(wo=!0,Go()):Za()?Pa():(wo=!1,Go())}function Go(){Zu(go[3]+"y_2",wo?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+vi+vi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+vi+vi+(Za()?Et:Lt))}function Oo(){Za()&&Fa[Vc.Users_Position].access_token?wo?xa():Ca():(c_(Tt),window.setTimeout(function(){vo&&Vc.Main_Go===Mc?c_(B+$):u_()},2e3))}function Fo(){oo?1===oo?(Vc.Main_Go=Dc,Vc.Main_OldgameSelected=Vc.Main_gameSelected,Eo(),I_()):Oo():(Vc.Main_Go=Hc,Vc.Main_OldgameSelected=Vc.Main_gameSelected,Eo(),I_())}function Uo(){r_(co.length);var e=lo+ho;e&&po-1<e&&(e=po-vu,so=!0),Vf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+vu+"&offset="+e+(""!==eu?"&language="+eu:""),mo,2,null,No,Ao)}function Ao(){++_o<fo?(mo+=500,Uo()):(so=!0,lo-=co.length,co=[],To())}function No(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(po=parseInt(i._total),a<vu&&(so=!0);o<co.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,ro[n]?o--:(ro[n]=1,K_(co[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Yp(t.created_at)+b+", "+v+w_(t.viewers)+R,k_(t.video_height,t.average_fps,t.channel.language)],go),d.push(o));for(o=d.length-1;-1<o;o--)co.splice(d[o],1);ho+=s,so&&(lo-=co.length,co=[]),To()}function Ho(){ao<0?qo():(sf(ao,oo,go,ru,lo),lo/ru<ao+cu&&!so&&!uo&&(So(),Io()),jc&&Do())}function Do(){-1<ao&&lo?mf(ao+"_"+oo,go):Ro()}function qo(){Wu(go[0]+"y_"+oo,xu)}function Ro(){Ku(go[0]+"y_"+oo,xu)}function zo(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(Vc.Main_OldgameSelected=Vc.Main_gameSelected,Do(),Ro(),Bf(zo));break;case Ei:if(-1===ao)Ro(),--oo<0&&(oo=2),qo();else if(ao||oo){if(M_(ao,oo-1,go[0]))Do(),oo--,Ho();else for(t=ru-1;-1<t;t--)if(M_(ao-1,t,go[0])){Do(),ao--,oo=t,Ho();break}}else Do(),Ro(),ao=-1,oo=2,qo();break;case Si:-1===ao?(Ro(),2<++oo?(oo=0,vo?qo():(ao=0,Ho())):qo()):M_(ao,oo+1,go[0])?(Do(),oo++,Ho()):M_(ao+1,0,go[0])&&(Do(),ao++,oo=0,Ho());break;case xi:if(-1!==ao||vo)if(ao){for(t=0;t<ru;t++)if(M_(ao-1,oo-t,go[0])){Do(),ao--,oo-=t,Ho();break}}else Do(),ao=-1,qo();else ao=0,Ro(),Ho();break;case Ii:if(-1!==ao||vo){for(t=0;t<ru;t++)if(M_(ao+1,oo-t,go[0])){Do(),ao++,oo-=t,Ho();break}}else ao=0,Ro(),Ho();break;case Ci:case ki:case Mi:case Pi:-1!==ao?lf(ao+"_"+oo,go,zo):Fo()}}var Vo=0,Jo=0,Xo=!1,jo=0,Yo={},Wo=[],Ko=!1,Zo=0,$o=5,Qo=3500,es=0,ts=0,ns=!1,is=!1,as="week",os=2,ss=!1,ds=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],ls=!1,rs=!1,cs="";function us(){Vc.Main_CenterLablesVectorPos=3,Vc.Main_Go=Hc,Wu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",xs,!1),Ju("label_side_panel","icon-arrow-circle-left",I),cs===Vc.Main_gameSelected&&ls?(R_(Vo),ju(ds[10]),d_(Jo,Vo,ru,jo),Ss(),ks(),P_()):fs()}function _s(){ls&&Cs(),document.body.removeEventListener("keydown",xs),Ku("top_bar_game","icon_center_focus"),Zu("top_bar_game",m),Ju("label_side_panel","icon-ellipsis",Fn),Ju("label_switch","icon-switch",l),Xu(ds[10])}function fs(){ls&&Cs(),N_("stream_table_a_game_vod"),Xu(ds[10]),Qu(),Ss(),cs=Vc.Main_gameSelected,u_(),ss=ls=!1,ts=es=0,Yo={},Vo=Jo=jo=0,Xo=!(Lf=!(is=!(Wo=[]))),s_(),vf(function(){ms(),hs()})}function ms(){D_(),Ko=!0,Zo=0,Qo=3500}function hs(){var e=jo+es;e&&ts-1<e&&(e=ts-lu,Xo=!0),Vf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+lu+"&broadcast_type="+(rs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+as+(""!==eu?"&language="+eu:""),Qo,2,null,vs,ps)}function ps(){++Zo<$o?(Qo+=500,hs()):(Ko=!1,jo?(Xo=!0,gs()):(Lf=!1,e_(),c_(T)))}function vs(e){var t=JSON.parse(e),n=t.vods.length;ts=parseInt(t._total),n<lu&&(Xo=!0);var i=jo;ns=!(jo+=n);var a=n/ru;0<n%ru&&a++;var o,s,d,l,r,c=0;if(!ss){var u;for(ss=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+vi+vi+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+vi+vi+h,($c=document.createElement("td")).setAttribute("id",ds[8]+"y_"+_),$c.className="stream_cell",$c.innerHTML='<div id="'+ds[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+ds[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild($c);document.getElementById("stream_table_a_game_vod").appendChild(d)}for(var _=0;_<a;_++){for(s=i/ru+_,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||Yo[r]?o--:(Yo[r]=1,d.appendChild(Ox(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Mu),l.channel.display_name,H+F_(l.created_at),oC.parse(l.title)+ni+Yt+p+l.game,w_(l.views)+q,k_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Xp(l.length),l.animated_preview_url],ds)));for(;o<ru;o++)Xo&&!is&&(is=!0,jo=s*ru+o),d.appendChild(J_(ds[9]+s+"_"+o)),Wo.push(ds[9]+s+"_"+o);document.getElementById("stream_table_a_game_vod").appendChild(d)}gs()}function gs(){vf(function(){if(ls?H_(Au):(e_(),ns?c_(B+(rs?U:F)+G+S):(ls=!0,H_(Au),ks(),P_()),ju(ds[10]),Lf=!1),0<Wo.length&&!Xo)return ms(),void ys();d_(Jo,Vo,ru,jo),Ko=!(Wo=[])})}function ys(){r_(Wo.length);var e=jo+es;e&&ts-1<e&&(e=ts-vu,Xo=!0),Vf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+vu+"&broadcast_type="+(rs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+as+(""!==eu?"&language="+eu:""),Qo,2,null,ws,bs)}function bs(){++Zo<$o?(Qo+=500,ys()):(Xo=!0,Wo=[],gs())}function ws(e){var t,n,i=JSON.parse(e),a=i.vods.length,o=0,s=0,d=[];for(ts=parseInt(i._total);o<Wo.length&&s<a;o++,s++)n=(t=i.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Yo[n]?o--:(Yo[n]=1,Ux(Wo[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Mu),t.channel.display_name,H+F_(t.created_at),oC.parse(t.title)+ni+Yt+p+t.game,w_(t.views)+q,k_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Xp(t.length),t.animated_preview_url],ds),d.push(o));for(o=d.length-1;-1<o;o--)Wo.splice(d[o],1);es+=s,Xo&&(jo-=Wo.length,Wo=[]),gs()}function ks(){Vo<0?Ms():(sf(Vo,Jo,ds,ru,jo),Xx(ds,Vo+"_"+Jo),jo/ru<Vo+cu&&!Xo&&!Ko&&(ms(),hs()),jc&&Cs())}function Cs(){window.clearInterval(ax),-1<Vo&&jo?(ju(ds[1]+Vo+"_"+Jo),mf(Vo+"_"+Jo,ds)):Es()}function Ms(){var e=1<Jo?1:Jo;Wu(ds[0]+"y_"+e,xu)}function Es(){var e=1<Jo?1:Jo;Ku(ds[0]+"y_"+e,xu)}function xs(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(Cs(),Bf(xs));break;case Ei:if(-1===Vo)Es(),--Jo<0&&(Jo=1),Ms();else if(Vo||Jo){if(M_(Vo,Jo-1,ds[0]))Cs(),Jo--,ks();else for(t=ru-1;-1<t;t--)if(M_(Vo-1,t,ds[0])){Cs(),Vo--,Jo=t,ks();break}}else Cs(),Es(),Vo=-1,Jo=1,Ms();break;case Si:-1===Vo?(Es(),1<++Jo?(Jo=0,ns?Ms():(Vo=0,ks())):Ms()):M_(Vo,Jo+1,ds[0])?(Cs(),Jo++,ks()):M_(Vo+1,0,ds[0])&&(Cs(),Vo++,Jo=0,ks());break;case xi:if(-1!==Vo||ns)if(Vo){for(t=0;t<ru;t++)if(M_(Vo-1,Jo-t,ds[0])){Cs(),Vo--,Jo-=t,ks();break}}else Cs(),Vo=-1,Ms();else Vo=0,Es(),ks();break;case Ii:if(-1!==Vo||ns){for(t=0;t<ru;t++)if(M_(Vo+1,Jo-t,ds[0])){Cs(),Vo++,Jo-=t,ks();break}}else Vo=0,Es(),ks();break;case Ci:case ki:case Mi:case Pi:-1===Vo?(0===Jo?Nf("AGameVod_highlight",(rs=!rs)?"true":"false"):4<++os&&(os=1),fs()):uf(Vo+"_"+Jo,ds,xs)}}function Ss(){1===os?(Zu("top_bar_game",w+O_((rs?U:F)+le+": "+Vc.Main_gameSelected)),as="day"):2===os?(Zu("top_bar_game",w+O_((rs?U:F)+re+": "+Vc.Main_gameSelected)),as="week"):3===os?(Zu("top_bar_game",w+O_((rs?U:F)+ce+": "+Vc.Main_gameSelected)),as="month"):4===os&&(Zu("top_bar_game",w+O_((rs?U:F)+ue+": "+Vc.Main_gameSelected)),as="all"),Nf("AGameVod_periodNumber",os)}var Is,Ps,Ls=0,Ts=0,Bs=!1,Gs=0,Os=0,Fs=5,Us=3500,As=0,Ns=!1,Hs=!1,Ds=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],qs=!1,Rs="",zs=null,Vs="",Js="",Xs="",js="",Ys="",Ws={};function Ks(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Tc,Ps&&!Vc.Search_isSearching&&Vc.Main_selectedChannel_id&&bd(),Rs!==Vc.Main_selectedChannel&&(qs=!1),G_(),Vc.Main_selectedChannelDisplayname=Vc.Main_selectedChannelDisplayname.replace(W,""),$u("top_bar_user",Vc.Main_selectedChannelDisplayname),$u("top_bar_game",Ot),document.body.addEventListener("keydown",wd,!1),Ri=!1,qs?(R_(Ls),ju(Ds[10]),hd(),pd(),P_()):$s()}function Zs(){B_(),document.body.removeEventListener("keydown",wd),Xu(Ds[10])}function $s(){N_("stream_table_channel_content"),Xu(Ds[10]),Qu(),u_(),Rs=Vc.Main_selectedChannel,js="",Bs=Ns=qs=!1,Is=void(Ls=Ts=Gs=As=0),vf(function(){Qs(),ed()})}function Qs(){Lf=!0,Os=0,Us=3500}function ed(){Vf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Is?Is:Vc.Main_selectedChannel_id),Us,2,null,td,nd)}function td(e){null!==JSON.parse(e).stream?(zs=e,Qs(),sd()):Is?(zs=null,Qs(),sd()):(Qs(),id())}function nd(){++Os<Fs?(Us+=500,ed()):(zs=null,Qs(),sd())}function id(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Vc.Main_selectedChannel_id);if(Bu){if(!(e=Android.mreadUrl(t,Us,1,null)))return void ad();200===(e=JSON.parse(e)).status?od(e.responseText):ad()}else(e=new XMLHttpRequest).open("GET",Nu+t,!0),e.timeout=Us,e.setRequestHeader(yu,gu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void od(e.responseText);ad()}},e.send(null)}function ad(){++Os<Fs?(Us+=500,id()):(zs=null,Qs(),sd())}function od(e){var t=JSON.parse(e);void 0!==(Is=t.hosts[0].target_id)?(Qs(),ed()):(zs=null,Qs(),sd())}function sd(){Vf("https://api.twitch.tv/kraken/channels/"+Vc.Main_selectedChannel_id,Ig,2,null,dd,ld)}function dd(e){var t=JSON.parse(e);Vs=t.views,Js=t.followers,Xs=t.description,Vc.Main_selectedChannelLogo=t.logo,rd()}function ld(){++Os<Fs?(Us+=500,sd()):(Xs=Js=Vs="",Vc.Main_selectedChannelLogo=Uu,rd())}function rd(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if(($c=document.createElement("tr")).className="follower_header",$c.innerHTML='<div class="follower_header">'+oC.parse(Xs)+"</div>",document.getElementById("stream_table_channel_content").appendChild(t),document.getElementById("stream_table_channel_content").appendChild($c),null!==zs){var i=JSON.parse(zs);if(null!==i.stream){var a=void 0!==Is?Vc.Main_selectedChannelDisplayname+ie:"",o=i.stream;e.appendChild(cd("0_"+n,o.channel.name,o.preview.template,oC.parse(o.channel.status),o.game,C_(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Yp(o.created_at)+b+", "+v+w_(o.viewers)+R,k_(o.video_height,o.average_fps,o.channel.language))),n++}else Ns=!0}else Ns=!0;e.appendChild(ud("0_"+n,Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelDisplayname+F,"movie-play")),n++,e.appendChild(ud("0_"+n,Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelDisplayname+A,"movie")),n<2&&(n++,e.appendChild(J_(Ds[9]+"0_"+n))),document.getElementById("stream_table_channel_content").appendChild(e),(e=document.createElement("tr")).appendChild(_d("1_0",Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelDisplayname,Vc.Main_selectedChannelLogo)),document.getElementById("stream_table_channel_content").appendChild(e),md()}function cd(e,t,n,i,a,o,s,d){return js=n.replace("{width}x{height}",Mu),($c=document.createElement("td")).setAttribute("id",Ds[8]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+Ds[0]+e+'" class="stream_thumbnail_video" ><img id="'+Ds[1]+e+'" class="stream_img"></div><div id="'+Ds[2]+e+'" class="stream_text"><div id="'+Ds[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Is?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+vi+o+'</div><div id="'+Ds[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Ds[4]+e+'"class="stream_info">'+i+'</div><div id="'+Ds[5]+e+'"class="stream_info">'+p+a+'</div><div id="'+Ds[6]+e+'"class="stream_info">'+s+"</div></div>",$c}function ud(e,t,n,i){return($c=document.createElement("td")).setAttribute("id",Ds[8]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+Ds[0]+e+'" class="stream_thumbnail_video" ><div id="'+Ds[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Ds[2]+e+'" class="stream_text"><div id="'+Ds[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",$c}function _d(e,t,n,i){return Ys=i,($c=document.createElement("td")).setAttribute("id",Ds[8]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+Ds[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Ds[1]+e+'" class="stream_img_fallow"></div><div id="'+Ds[2]+e+'" class="stream_text"><div id="'+Ds[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Ds[5]+e+'"class="stream_info">'+w_(Vs)+q+'</div><div id="'+Ds[6]+e+'"class="stream_info" >'+w_(Js)+At+"</div></div>",$c}function fd(){Di?(Zu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),$u(Ds[3]+"1_0",Vc.Main_selectedChannelDisplayname+Mt)):(Zu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),Za()?$u(Ds[3]+"1_0",Vc.Main_selectedChannelDisplayname+Et):$u(Ds[3]+"1_0",Vc.Main_selectedChannelDisplayname+Nt))}function md(){vf(function(){qs||(e_(),qs=!0,""!==js&&Hu(document.getElementById(Ds[1]+"0_0"),js,Au),Hu(document.getElementById(Ds[1]+"1_0"),Ys,Uu),pd(),P_(),ju(Ds[10])),hd(),Lf=!1})}function hd(){Hs?fd():Za()?(zi=Vc.Main_selectedChannel_id,Ri=!1,aa()):(Di=!1,fd())}function pd(){Wu(Ds[0]+Ls+"_"+(Ls?0:Ts),xu),jc&&vd(),ef()}function vd(){mf(Ls+"_"+(Ls?0:Ts),Ds)}function gd(){if(Ls)Za()&&Fa[Vc.Users_Position].access_token?(Ri=!1,zi=Vc.Main_selectedChannel_id,Di?_a():ra()):(c_(Tt),window.setTimeout(u_,2e3));else{document.body.removeEventListener("keydown",wd),Xu(Ds[10]);var e=Ns?1:0;Ts===0-e?(Vc.Play_selectedChannel=document.getElementById(Ds[8]+Ls+"_"+Ts).getAttribute(Su),Vc.Play_selectedChannelDisplayname=document.getElementById(Ds[3]+Ls+"_"+Ts).textContent,-1!==Vc.Play_selectedChannelDisplayname.indexOf(ie)?(Vc.Play_isHost=!0,Vc.Play_DisplaynameHost=Vc.Play_selectedChannelDisplayname,Vc.Play_selectedChannelDisplayname=Vc.Play_selectedChannelDisplayname.split(ie)[1],Vc.Play_selectedChannel_id=Is):Vc.Play_selectedChannel_id=Vc.Main_selectedChannel_id,Vc.Play_gameSelected=document.getElementById(Ds[5]+Ls+"_"+Ts).textContent.split(p)[1],vf(rf)):Ts===1-e?vf(Yd):Ts===2-e&&(Zy=kb,vf(nb))}}function yd(){Ws={"Main_values.Main_selectedChannel_id":Vc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Vc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Vc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Vc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Hs,"Main_values.Main_BeforeChannel":Vc.Main_BeforeChannel}}function bd(){Vc.Main_selectedChannel_id=Vc.Main_selectedChannel_id,Vc.Main_selectedChannelLogo=Vc.Main_selectedChannelLogo,Vc.Main_selectedChannel=Vc.Main_selectedChannel,Vc.Main_selectedChannelDisplayname=Vc.Main_selectedChannelDisplayname,Hs=Ws.ChannelContent_UserChannels,Vc.Main_BeforeChannel=Vc.Main_BeforeChannel,Ps=!(Ws={})}function wd(e){if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(vd(),Bf(wd));break;case Ei:Ls||(vd(),--Ts<0&&(Ts=Ns?1:2),pd());break;case Si:Ls||(vd(),(Ns?1:2)<++Ts&&(Ts=0),pd());break;case xi:case Ii:vd(),Ls=Ls?0:1,pd();break;case Ci:case ki:case Mi:case Pi:gd()}}var kd=0,Cd=0,Md=!1,Ed=0,xd={},Sd=[],Id=!1,Pd=0,Ld=5,Td=3500,Bd=0,Gd=0,Od=0,Fd=!1,Ud=!1,Ad="",Nd=!1,Hd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Dd=!1,qd=!1,Rd="",zd="",Vd="",Jd="",Xd="",jd=0;function Yd(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Bc,!Vc.Search_isSearching&&Vc.Main_selectedChannel_id&&bd(),Vc.Main_selectedChannel!==Rd&&(Dd=!1),G_(),Ju("label_side_panel","icon-arrow-circle-left",I),$u("top_bar_user",Vc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",rl,!1),Dd?(R_(kd),$u("top_bar_game",qd?U:F),ju(Hd[10]),d_(Cd,kd,ru,Ed),ol(),P_()):Kd()}function Wd(){Dd&&sl(),B_(),document.body.removeEventListener("keydown",rl),Xu(Hd[10])}function Kd(){Dd&&sl(),N_("stream_table_channel_vod"),Xu(Hd[10]),$u("top_bar_game",qd?U:F),Qu(),u_(),Rd=Vc.Main_selectedChannel,Gd=Bd=0,Nd=Dd=!1,xd={},kd=Cd=Ed=0,Md=!(Lf=!(Ud=!(Sd=[]))),s_(),vf(function(){Zd(),$d()})}function Zd(){D_(),Id=!0,Pd=0,Td=3500}function $d(){var e=Ed+Bd;e&&Gd-1<e&&(e=Gd-lu,Md=!0),Vf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Vc.Main_selectedChannel_id)+"/videos?limit="+lu+"&broadcast_type="+(qd?"highlight":"archive")+"&sort=time&offset="+e,Td,2,null,el,Qd)}function Qd(){++Pd<Ld?(Td+=500,$d()):(Id=!1,Ed?(Md=!0,tl()):(Lf=!1,e_(),c_(T)))}function el(e){var t=JSON.parse(e),n=t.videos.length;Gd=parseInt(t._total),n<lu&&(Md=!0);var i=Ed;Fd=!(Ed+=n);var a=n/ru;0<n%ru&&a++;var o,s,d,l,r,c,u,_=0;if(!Nd){Nd=!0,d=document.createElement("tr");var f='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+vi+vi+h;($c=document.createElement("td")).setAttribute("id",Hd[8]+"y_0"),$c.className="stream_cell",$c.innerHTML='<div id="'+Hd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Hd[3]+'y_0" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild($c),document.getElementById("stream_table_channel_vod").appendChild(d)}for(var m=0;m<a;m++){for(s=i/ru+m,d=document.createElement("tr"),o=0;o<ru&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=Au),c||xd[r]?o--:(xd[r]=1,d.appendChild(Ox(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Mu),oC.parse(l.title),H+F_(l.created_at),Yt+p+l.game,w_(l.views)+q,k_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Xp(l.length),l.animated_preview_url],Hd)));for(;o<ru;o++)Md&&!Ud&&(Ud=!0,Ed=s*ru+o),d.appendChild(J_(Hd[9]+s+"_"+o)),Sd.push(Hd[9]+s+"_"+o);document.getElementById("stream_table_channel_vod").appendChild(d)}tl()}function tl(){vf(function(){if(Dd?H_(Au):(e_(),Fd?c_(B+(qd?U:F)+G+S):(Dd=!0,H_(Au),ol(),P_()),ju(Hd[10]),Lf=!1),0<Sd.length&&!Md)return Zd(),void nl();d_(Cd,kd,ru,Ed),Id=!(Sd=[])})}function nl(){r_(Sd.length);var e=Ed+Bd;e&&Gd-1<e&&(e=Gd-vu,Md=!0),Vf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Vc.Main_selectedChannel_id)+"/videos?limit="+vu+"&broadcast_type="+(qd?"highlight":"archive")+"&sort=time&offset="+e,Td,2,null,al,il)}function il(){++Pd<Ld?(Td+=500,nl()):(Md=!0,Ed-=Sd.length,Sd=[],tl())}function al(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(Gd=parseInt(i._total);o<Sd.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||xd[n]?o--:(xd[n]=1,Ux(Sd[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Mu),oC.parse(t.title),H+F_(t.created_at),Yt+p+t.game,w_(t.views)+q,k_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Xp(t.length),t.animated_preview_url],Hd),d.push(o));for(o=d.length-1;-1<o;o--)Sd.splice(d[o],1);Bd+=s,Md&&(Ed-=Sd.length,Sd=[]),tl()}function ol(){kd<0?dl():(sf(kd,Cd,Hd,ru,Ed),Xx(Hd,kd+"_"+Cd),Ed/ru<kd+cu&&!Md&&!Id&&(Zd(),$d()),jc&&sl())}function sl(){window.clearInterval(ax),-1<kd&&Ed?(ju(Hd[1]+kd+"_"+Cd),mf(kd+"_"+Cd,Hd)):ll()}function dl(){Wu(Hd[0]+"y_0",xu)}function ll(){Ku(Hd[0]+"y_0",xu)}function rl(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(sl(),Bf(rl));break;case Ei:if(M_(kd,Cd-1,Hd[0]))sl(),Cd--,ol();else for(t=ru-1;-1<t;t--)if(M_(kd-1,t,Hd[0])){sl(),kd--,Cd=t,ol();break}break;case Si:M_(kd,Cd+1,Hd[0])?(sl(),Cd++,ol()):M_(kd+1,0,Hd[0])&&(sl(),kd++,Cd=0,ol());break;case xi:if(-1!==kd||Fd)if(kd){for(t=0;t<ru;t++)if(M_(kd-1,Cd-t,Hd[0])){sl(),kd--,Cd-=t,ol();break}}else sl(),kd=-1,dl();else kd=0,ll(),ol();break;case Ii:if(-1!==kd||Fd){for(t=0;t<ru;t++)if(M_(kd+1,Cd-t,Hd[0])){sl(),kd++,Cd-=t,ol();break}}else kd=0,ll(),ol();break;case Ci:case ki:case Mi:case Pi:-1===kd?(Nf("ChannelVod_highlight",(qd=!qd)?"true":"false"),Kd()):uf(kd+"_"+Cd,Hd,rl)}}var cl,ul,_l,fl,ml,hl=!1,pl=0,vl=[],gl=[],yl=10,bl=null,wl=0,kl="",Cl=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],Ml=Cl.length,El=0,xl=!1,Sl=0;function Il(){fl=document.getElementById("chat_box"),Bl()}function Pl(){Yl(),Bu&&Vc.Play_ChatForceDisable?(hl||Bl(),vf(function(){Ul(Sl=(new Date).getTime())})):er()}function Ll(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function Tl(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?document.head.appendChild(a):fl.appendChild(a)}function Bl(){pl=0,hl=!1,Gl()}function Gl(){Vf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Fl,Ol)}function Ol(){++pl<yl?Gl():hl=!1}function Fl(e){Ll(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Tl(t.type,e.type,e.image_url_4x,!0)})}),hl=!0}function Ul(e){pl=0,Al(e)}function Al(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+Vc.Main_selectedChannel_id+"/display";if(Bu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Sl===e&&Nl(e));if(200===(t=JSON.parse(t)).status)return void(Sl===e&&Hl(t.responseText,e));Sl===e&&Nl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Sl===e&&Hl(t.responseText,e));Sl===e&&Nl(e)}},t.send(null)}function Nl(e){pl++,Sl===e&&(pl<yl?Al(e):ml=window.setTimeout(function(){Al(e)},2500))}function Hl(e,t){Ll(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Tl(t.type,e.type,e.image_url_4x,!1)})}),Sl===t&&Dl(t)}function Dl(e){pl=0,Sl===e&&ql(e)}function ql(e){var t,n="https://api.twitch.tv/v5/videos/"+Vc.ChannelVod_vodId+"/comments?client_id="+gu+(wl?"&content_offset_seconds="+parseInt(wl):"");if(Bu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Sl===e&&Rl(e));if(200===(t=JSON.parse(t)).status)return void(Sl===e&&zl(t.responseText,e));Sl===e&&Rl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Sl===e&&zl(t.responseText,e));Sl===e&&Rl(e)}},t.send(null)}function Rl(e){pl++,Sl===e&&(pl<yl?ql(e):ul=window.setTimeout(function(){ql(e)},2500))}function zl(e,t){e=JSON.parse(e);var n,i,a=null===bl;a&&(n="&nbsp;",n+='<span class="message">',n+=ni+gn+Vc.Main_selectedChannelDisplayname+" "+kl,Vl(n+="</span>",0)),wl=0,bl=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Cl[e.commenter.display_name.charCodeAt(0)%Ml]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=oC.parse(e.text)}),n+="</span>",a?Vl(n,e.content_offset_seconds):void 0!==bl&&Jl(n,e.content_offset_seconds)}),a&&Sl===t&&(Xl(t),void 0!==bl&&Kl(t))}function Vl(e,t){vl.push({time:t,message:e})}function Jl(e,t){gl.push({time:t,message:e})}function Xl(e){xl||Sl!==e||(cl=window.setInterval(function(){Wl(e),fl.scrollTop=fl.scrollHeight},1e3))}function jl(){xl||(window.clearInterval(ml),window.clearInterval(cl),window.clearInterval(ul),window.clearInterval(_l))}function Yl(){jl(),Sl=0,N_("chat_box"),xl=!1,bl=null,vl=[],gl=[],El=0}function Wl(e){var t,n;if(El<vl.length-1)for(n=El;n<vl.length&&vl[n].time<jd+Android.gettime()/1e3;n++,El++)(t=document.createElement("div")).className="chat_line",t.innerHTML=vl[n].message,fl.appendChild(t);else if(jl(),void 0!==bl){vl=gl.slice(),El=0,Xl(e),gl=[],Sl===e&&Kl(e);var i=document.getElementsByClassName("chat_line");if(0<i.length-100)for(n=0;n<i.length-100;n++)i[0].parentNode.removeChild(i[0]);fl.scrollTop=fl.scrollHeight}else{var a="&nbsp;";a+='<span class="message">',a+=ni+ni+kn+ni+ni,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,fl.appendChild(t),xl=!0,fl.scrollTop=fl.scrollHeight,window.clearInterval(cl),cl=window.setInterval(function(){fl.scrollTop=fl.scrollHeight},250)}}function Kl(e){pl=0,xl||Sl!==e||Zl(e)}function Zl(e){var t,n="https://api.twitch.tv/v5/videos/"+Vc.ChannelVod_vodId+"/comments?client_id="+gu+(null!==bl?"&cursor="+bl:"");if(Bu){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(xl||Sl!==e||$l(e));if(200===(t=JSON.parse(t)).status)return void(xl||Sl!==e||zl(t.responseText,e));xl||Sl!==e||$l(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(xl||Sl!==e||zl(t.responseText,e));xl||Sl!==e||$l(e)}},t.send(null)}function $l(e){pl++,Sl===e&&(pl<yl?Zl(e):_l=window.setTimeout(function(){Zl(e)},2500))}function Ql(){Sl=0,tr(sn+ni+dn)}function er(){Yl(),Xu("chat_frame"),ju("chat_box"),tr(Kn)}function tr(e){var t="&nbsp;";t+='<span class="message">',t+=ni+ni+ni+ni+ni+ni+ni+ni+ni+ni,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,fl.appendChild(n)}var nr=!1,ir=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_","featured_scroll"],ar=0,or=0,sr=!1,dr=0,lr={},rr=!1,cr=0,ur=5,_r=3500,fr=[],mr=0,hr=0,pr=!1,vr=0,gr=!1;function yr(){Vc.Main_CenterLablesVectorPos=2,Vc.Main_Go=qc,Wu("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Br,!1),nr?(R_(ar),ju(ir[10]),d_(or,ar,ru,dr),Lr(),P_()):wr()}function br(){document.body.removeEventListener("keydown",Br),Ku("top_bar_featured","icon_center_focus"),Xu(ir[10])}function wr(){N_("stream_table_featured"),Xu(ir[10]),Qu(),u_(),nr=!1,Lf=!(pr=!(fr=[])),vr=ar=or=dr=hr=mr=0,sr=!(lr={}),s_(),vf(function(){kr(),Cr()})}function kr(){D_(),rr=!0,cr=0,_r=3500}function Cr(){Vf("https://api.twitch.tv/kraken/streams/featured?limit="+lu+"&offset="+(dr+mr)+(Za()&&Fa[Vc.Users_Position].access_token?"&oauth_token="+Fa[Vc.Users_Position].access_token:""),_r,2,null,Er,Mr)}function Mr(){++cr<ur?(_r+=500,Cr()):(rr=!1,dr?(sr=!0,xr()):(Lf=!1,e_(),c_(T)))}function Er(e){var t=JSON.parse(e),n=t.featured.length;hr=parseInt(t._total),n<lu&&(sr=!0);var i=dr;gr=!(dr+=n);var a=n/ru;0<n%ru&&a++;for(var o,s,d,l,r,c=0,u=0;u<a;u++){for(s=i/ru+u,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.featured[c].stream).channel._id,lr[r]?o--:(lr[r]=1,d.appendChild(W_(s,s+"_"+o,[l.channel.name,r],ir,[l.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Yp(l.created_at)+b+", "+v+w_(l.viewers)+R,k_(l.video_height,l.average_fps,l.channel.language)])));for(;o<ru;o++)sr&&!pr&&(pr=!0,dr=s*ru+o),d.appendChild(J_(ir[9]+s+"_"+o)),fr.push(ir[9]+s+"_"+o);document.getElementById("stream_table_featured").appendChild(d)}xr()}function xr(){vf(function(){if(nr){if(H_(Au),0<fr.length&&!sr)return kr(),void Sr();d_(or,ar,ru,dr),fr=[]}else e_(),gr?c_(B+K):(nr=!0,H_(Au),Lr(),P_()),ju(ir[10]),Lf=!1;rr=!1})}function Sr(){r_(fr.length),Vf("https://api.twitch.tv/kraken/streams/featured?limit="+vu+"&offset="+(dr+mr)+(Za()&&Fa[Vc.Users_Position].access_token?"&oauth_token="+Fa[Vc.Users_Position].access_token:""),_r,2,null,Pr,Ir)}function Ir(){++cr<ur?(_r+=500,Sr()):(sr=!0,dr-=fr.length,fr=[],xr())}function Pr(e){var t,n,i=JSON.parse(e),a=i.featured.length,o=0,s=0,d=[];for(a<vu&&(sr=!0);o<fr.length&&s<a;o++,s++)n=(t=i.featured[s].stream).channel._id,lr[n]?o--:(lr[n]=1,K_(fr[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Yp(t.created_at)+b+", "+v+w_(t.viewers)+R,k_(t.video_height,t.average_fps,t.channel.language)],ir),d.push(o));for(o=d.length-1;-1<o;o--)fr.splice(d[o],1);mr+=s,sr&&(dr-=fr.length,fr=[]),xr()}function Lr(){sf(ar,or,ir,ru,dr),dr/ru<ar+cu&&!sr&&!rr&&(kr(),Cr()),jc&&Tr()}function Tr(){dr&&mf(ar+"_"+or,ir)}function Br(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(Tr(),Bf(Br));break;case Ei:if(M_(ar,or-1,ir[0]))Tr(),or--,Lr();else for(t=ru-1;-1<t;t--)if(M_(ar-1,t,ir[0])){Tr(),ar--,or=t,Lr();break}break;case Si:M_(ar,or+1,ir[0])?(Tr(),or++,Lr()):M_(ar+1,0,ir[0])&&(Tr(),ar++,or=0,Lr());break;case xi:for(t=0;t<ru;t++)if(M_(ar-1,or-t,ir[0])){Tr(),ar--,or-=t,Lr();break}break;case Ii:for(t=0;t<ru;t++)if(M_(ar+1,or-t,ir[0])){Tr(),ar++,or-=t,Lr();break}break;case Ci:case ki:case Mi:case Pi:lf(ar+"_"+or,ir,Br)}}var Gr=!1,Or=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_","live_scroll"],Fr=0,Ur=0,Ar=0,Nr=!1,Hr=0,Dr={},qr=!1,Rr=0,zr=5,Vr=3500,Jr=[],Xr=0,jr=0,Yr=!1,Wr=0;function Kr(){Vc.Main_CenterLablesVectorPos=0,Vc.Main_Go=wc,Wu("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",cc,!1),Gr?(R_(Fr),ju(Or[10]),d_(Ur,Fr,ru,Hr),dc(),P_()):$r()}function Zr(){document.body.removeEventListener("keydown",cc),Ku("top_bar_live","icon_center_focus"),Xu(Or[10])}function $r(){N_("stream_table_live"),Xu(Or[10]),Qu(),u_(),Gr=!1,Lf=!(Yr=!(Jr=[])),Wr=Fr=Ur=Hr=jr=Xr=0,Nr=!(Dr={}),s_(),vf(function(){Qr(),ec()})}function Qr(){D_(),qr=!0,Rr=0,Vr=3500}function ec(){var e=Hr+Xr;e&&jr-1<e&&(e=jr-lu,Nr=!0),Vf("https://api.twitch.tv/kraken/streams?limit="+lu+"&offset="+e+(""!==eu?"&language="+eu:""),Vr,2,null,nc,tc)}function tc(){++Rr<zr?(Vr+=500,ec()):(qr=!1,Hr?(Nr=!0,ic()):(Lf=!1,e_(),c_(T),ju("topbar")))}function nc(e){var t=JSON.parse(e),n=t.streams.length;jr=parseInt(t._total),n<lu&&(Nr=!0);var i=Hr;Hr+=n;var a=n/ru;0<n%ru&&a++;for(var o,s,d,l,r,c=0,u=0;u<a;u++){for(s=i/ru+u,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,Dr[r]?o--:(Dr[r]=1,d.appendChild(W_(s,s+"_"+o,[l.channel.name,r,l.channel.status],Or,[l.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Yp(l.created_at)+b+", "+v+w_(l.viewers)+R,k_(l.video_height,l.average_fps,l.channel.language)])));for(;o<ru;o++)Nr&&!Yr&&(Yr=!0,Hr=s*ru+o),d.appendChild(J_(Or[9]+s+"_"+o)),Jr.push(Or[9]+s+"_"+o);document.getElementById("stream_table_live").appendChild(d)}ic()}function ic(){vf(function(){if(Gr){if(H_(Au),0<Jr.length&&!Nr)return Qr(),void ac();d_(Ur,Fr,ru,Hr),Jr=[]}else e_(),ju("topbar"),Hr?(Gr=!0,H_(Au),dc(),Vc.Main_WasOpen=!0):c_(B+K),au&&Gr&&Fk.restor_playback.defaultValue&&(Vc.Play_WasPlaying||Vc.Main_WasOpen)?Vc.Play_WasPlaying?(T_(Vc.Main_Go),Vc.Main_Go=zc,Vc.vodOffset||(Vc.vodOffset=1),Od=Vc.vodOffset+1,iv(Rn),1===Vc.Play_WasPlaying?rf():_f(),I_(!0),window.setTimeout(function(){av()},2e3)):1!==zc?(T_(Vc.Main_Go),Vc.Main_Go=zc,lc(),I_()):(ju(Or[10]),Vc.Never_run&&p_(),Vc.Never_run=!1,P_()):(ju(Or[10]),P_()),Lf=au=!1;qr=!1})}function ac(){r_(Jr.length);var e=Hr+Xr;e&&jr-1<e&&(e=jr-vu,Nr=!0),Vf("https://api.twitch.tv/kraken/streams?limit="+vu+"&offset="+e+(""!==eu?"&language="+eu:""),Vr,2,null,sc,oc)}function oc(){++Rr<zr?(Vr+=500,ac()):(Nr=!0,Hr-=Jr.length,Jr=[],ic())}function sc(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(jr=parseInt(i._total),a<vu&&(Nr=!0);o<Jr.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,Dr[n]?o--:(Dr[n]=1,K_(Jr[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Yp(t.created_at)+b+", "+v+w_(t.viewers)+R,k_(t.video_height,t.average_fps,t.channel.language)],Or),d.push(o));for(o=d.length-1;-1<o;o--)Jr.splice(d[o],1);Xr+=s,Nr&&(Hr-=Jr.length,Jr=[]),ic()}function dc(){sf(Fr,Ur,Or,ru,Hr),Hr/ru<Fr+cu&&!Nr&&!qr&&(Qr(),ec()),jc&&lc()}function lc(){Hr&&mf(Fr+"_"+Ur,Or)}function rc(){Ku("exit_app_cancel","button_search_focused"),Ku("exit_app_minimize","button_search_focused"),Ku("exit_app_close","button_search_focused"),Wu(Ar?1===Ar?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function cc(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:b_()?y_():m_()?f_():g_()?v_():(lc(),Bf(cc));break;case Ei:if(o_())--Ar<0&&(Ar=2),rc(),t_(),n_();else if(M_(Fr,Ur-1,Or[0]))lc(),Ur--,dc();else for(t=ru-1;-1<t;t--)if(M_(Fr-1,t,Or[0])){lc(),Fr--,Ur=t,dc();break}break;case Si:o_()?(2<++Ar&&(Ar=0),rc(),t_(),n_()):M_(Fr,Ur+1,Or[0])?(lc(),Ur++,dc()):M_(Fr+1,0,Or[0])&&(lc(),Fr++,Ur=0,dc());break;case xi:if(!o_())for(t=0;t<ru;t++)if(M_(Fr-1,Ur-t,Or[0])){lc(),Fr--,Ur-=t,dc();break}break;case Ii:if(!o_())for(t=0;t<ru;t++)if(M_(Fr+1,Ur-t,Or[0])){lc(),Fr++,Ur-=t,dc();break}break;case Ci:case ki:case Mi:case Pi:lf(Fr+"_"+Ur,Or,cc)}}var uc,_c,fc,mc,hc,pc,vc,gc=!0,yc=-1,bc=new Image,wc=1,kc=2,Cc=3,Mc=4,Ec=5,xc=6,Sc=7,Ic=8,Pc=9,Lc=10,Tc=11,Bc=12,Gc=13,Oc=14,Fc=15,Uc=16,Ac=17,Nc=18,Hc=19,Dc=20,qc=21,Rc=22,zc="",Vc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Cc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Main_WasOpen:!1,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Jc=!0,Xc=!0,jc=!1,Yc=[],Wc=0,Kc=null,Zc=!0,$c="",Qc=!1,eu="",tu=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],nu=0,iu=!1,au=!0,ou=0,su=1.35,du=1.5,lu=45,ru=3,cu=Math.floor(lu/ru/du),uu=45,_u=5,fu=Math.floor(uu/_u/su),mu=48,hu=6,pu=Math.floor(mu/hu/du),vu=6,gu="5seja5ptej058mxqy7gh5tcudjqtm9",yu="Client-ID",bu="Accept",wu="Authorization",ku="OAuth ",Cu="application/vnd.twitchtv.v5+json",Mu="528x297",Eu="340x475",xu="stream_thumbnail_focused",Su="data_attribute",Iu="1.0",Pu="040319",Lu=Iu+"-"+Pu,Tu=0,Bu=0,Gu="?"+Math.random(),Ou="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Fu=Ou+"404_game.png",Uu=Ou+"404_logo.png",Au=Ou+"404_video.png",Nu="https://cors-anywhere.herokuapp.com/",Hu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Du(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){qu(window.navigator.userLanguage||window.navigator.language)}):qu(window.navigator.userLanguage||window.navigator.language)}function qu(e){hf(),vf(function(){var t=document.body;gc&&(t.innerHTML=ei);try{Bu=Android.getAndroid()}catch(e){Bu=0,t.style.backgroundColor="rgba(0, 0, 0, 1)"}vf(function(){jk(),wi(),console.log("language is "+e),bi(),-1!==window.location.href.indexOf("code")&&zf(window.location.href),Ru()})})}function Ru(){$y(),zu(!0),uc=document.getElementById("scrollbar"),L_(),zc=Vc.Main_Go,vf(function(){_p(),Ka(),document.body.addEventListener("keyup",ef,!1),Qy(),Kr(),iu=!1,Il(),mc=window.setTimeout(x_,5e3),document.getElementById("side_panel").style.marginLeft="",U_(),Vu(),Mx=qf("Vod_highlight",!1),qd=qf("ChannelVod_highlight",!1),rs=qf("AGameVod_highlight",!1),AE=qf("UserVod_highlight",!1),bx=Hf("vod_periodNumber",2),os=Hf("AGameVod_periodNumber",2),GE=Hf("UserVod_TypeNumber",1),Dy(),_c=document.getElementById("search_input"),fc=document.getElementById("user_input"),V_(Au),V_(Fu),V_(Uu),document.addEventListener("visibilitychange",A_,!1),hc=window.setInterval(yf,6e4)})}function zu(e){yf(),Ju("label_refresh","icon-refresh",t+Jt),Ju("label_switch","icon-switch",l),Ju("label_side_panel","icon-ellipsis",Fn),$u("top_bar_live",_),$u("top_bar_user",e?u:i),$u("top_bar_featured",tn),$u("top_bar_game",m),$u("top_bar_vod",Kt),$u("top_bar_clip",A),Zu("scene2_search_text",vi+n),Zu("scene2_channel_text",vi+Ot),Zu("scene2_game_text",vi+Ht),$u("dialog_end_replay_text",$t),$u("dialog_end_vod_text",an),$u("dialog_end_channel_text",Ot),$u("dialog_end_game_text",Ht),Zu("dialog_about_text",_i+fi),pc=[le,re,ce,ue],e?qk():(Xk(),U_())}function Vu(){$u("play_dialog_exit_text",z),$u("side_panel_search",n),$u("side_panel_settings",i),$u("side_panel_about",a),$u("side_panel_controls",e),$u("side_panel_exit",J),$u("side_panel_live",_),$u("side_panel_user",u),$u("side_panel_featured",tn),$u("side_panel_games",m),$u("side_panel_videos",Kt),$u("side_panel_clips",A),$u("side_panel_hide",o),$u("chanel_button",x),$u("game_button",m),$u("live_button",_),$u("exit_app_cancel",Y),$u("exit_app_close",X),$u("remove_cancel",Y),$u("remove_yes",Dt),$u("exit_app_minimize",j),$u("main_dialog_exit_text",V),Zu("dialog_controls_text",ui),$u("dialog_vod_text",yn),Zu("dialog_vod_start_text",wn)}function Ju(e,t,n){Zu(e,'<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+vi+n+"</div>")}function Xu(e){document.getElementById(e).classList.add("hide")}function ju(e){document.getElementById(e).classList.remove("hide")}function Yu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Wu(e,t){document.getElementById(e).classList.add(t)}function Ku(e,t){document.getElementById(e).classList.remove(t)}function Zu(e,t){document.getElementById(e).innerHTML=t}function $u(e,t){document.getElementById(e).textContent=t}function Qu(){R_(-1),ju("dialog_loading")}function e_(){Xu("dialog_loading")}function t_(){window.clearTimeout(Kc)}function n_(){Kc=window.setTimeout(a_,6e3)}function i_(){n_(),ju("main_dialog_exit"),document.body.addEventListener("keydown",Sf,!1)}function a_(){document.body.removeEventListener("keydown",Sf,!1),Bf(vc),t_(),Xu("main_dialog_exit"),Ar=0,rc()}function o_(){return Yu("main_dialog_exit")}function s_(){N_("dialog_counter_text"),l_(0,0,0)}function d_(e,t,n,i){0<i?($u("dialog_counter_text",t*n+(e+1)+"/"+i),l_(t,n,i)):s_()}function l_(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=Vc.Main_Go===Mc||Vc.Main_Go===Hc||Vc.Main_Go===Dc||Vc.Main_Go===Bc||Vc.Main_Go===Rc||Vc.Main_Go===Ac||Vc.Main_Go===Nc||Vc.Main_Go===Gc,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));uc.style.top=o+"px",Zc&&(Zc=!1,uc.style.backgroundColor="#777777")}else uc.style.backgroundColor="#000000",uc.style.top=i+"px",Zc=!0}function r_(e){(vu=12)/3<e&&(vu=3*e),99<vu&&(vu=99)}function c_(e){$u("dialog_warning_text",e),ju("dialog_warning")}function u_(){Xu("dialog_warning")}function __(){v_(),y_(),ju("dialog_about")}function f_(){Xu("dialog_about")}function m_(){return Yu("dialog_about")}function h_(){v_(),y_(),u_(),T_(Vc.Main_Go),s_(),Hk()}function p_(){f_(),y_(),ju("dialog_controls")}function v_(){Xu("dialog_controls")}function g_(){return Yu("dialog_controls")}function y_(){Xu("dialog_update")}function b_(){return Yu("dialog_update")}function w_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function k_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function C_(e){return-1!==e.indexOf("live")?"":W}function M_(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function E_(){yf(),I_(),document.body.addEventListener("keyup",ef,!1)}function x_(){for(var e,t=0;t<tu.length;t++)t<4?document.getElementById(tu[t]).style.opacity="0.5":-1===(e=document.getElementById(tu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Wu("topbar","topbar_dim")}function S_(){for(var e=0;e<tu.length;e++)document.getElementById(tu[e]).style.opacity="1";Ku("topbar","topbar_dim")}function I_(e){window.clearTimeout(mc),S_(),Vc.Main_Go!==Tc&&(Vc.Main_BeforeChannelisSet=!1),Vc.Main_Go!==Mc&&(Vc.Main_BeforeAgameisSet=!1),s_(),vf(function(){Vc.Main_Go===wc?Kr():Vc.Main_Go===kc?Ha():Vc.Main_Go===Cc?(Zy=Mb,nb()):Vc.Main_Go===Mc?Mo():Vc.Main_Go===Ic?Yw():Vc.Main_Go===Pc?Gw():Vc.Main_Go===Lc?bk():Vc.Main_Go===Tc?Ks():Vc.Main_Go===Bc?Yd():Vc.Main_Go===Gc?(Zy=kb,nb()):Vc.Main_Go===Oc?tE():Vc.Main_Go===Ec?LM():Vc.Main_Go===xc?ZC():Vc.Main_Go===Sc?(Zy=Eb,nb()):Vc.Main_Go===Fc?wC():Vc.Main_Go===Uc?ow():Vc.Main_Go===Ac?Sx():Vc.Main_Go===Nc?(Zy=wb,nb()):Vc.Main_Go===Hc?us():Vc.Main_Go===Dc?(Zy=Cb,nb()):Vc.Main_Go===qc?yr():Vc.Main_Go===Rc?NE():Kr(),mc=window.setTimeout(x_,3e3),e&&Uf()})}function P_(){Nf("Main_values",JSON.stringify(Vc))}function L_(){Vc=tb(Vc,Df("Main_values",{}))}function T_(e){e===wc?Zr():e===kc?Da():e===Cc?ib():e===Mc?Eo():e===Ic?Ww():e===Pc?Ow():e===Lc?wk():e===Tc?Zs():e===Bc?Wd():e===Gc?ib():e===Oc?nE():e===Ec?TM():e===xc?$C():e===Sc?ib():e===Fc?kC():e===Uc?sw():e===Ac?Ix():e===Nc?ib():e===Hc?_s():e===Dc?ib():e===qc?br():e===Rc&&HE(),Yu("settings_scroll")&&Dk()}function B_(){Ju("label_refresh","icon-refresh",t+Jt),Ju("label_side_panel","icon-ellipsis",Fn),Xu("label_switch"),Ku("top_bar_user","icon_center_focus"),$u("top_bar_live",_),$u("top_bar_user",u),$u("top_bar_featured",tn),$u("top_bar_game",m),$u("top_bar_vod",Kt),$u("top_bar_clip",A)}function G_(){Ju("label_side_panel","icon-arrow-circle-left",I),N_("top_bar_live"),N_("top_bar_game"),N_("top_bar_vod"),N_("top_bar_clip"),N_("top_bar_featured"),Wu("top_bar_user","icon_center_focus")}function O_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function F_(e){return e=new Date(e),Qc?e.getDate()+" "+Xt[e.getMonth()]+", "+e.getFullYear():Xt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function U_(){Zu("dialog_about_text",_i+be+Lu+fi)}function A_(){document.hidden?window.clearInterval(hc):(yf(),hc=window.setInterval(yf,6e4),window.setTimeout(function(){document.hidden||yf()},2e4))}function N_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function H_(e){for(var t,n=0;n<Yc.length;n++)null!==(t=document.getElementById(Yc[n].id))&&Hu(t,Yc[n].src+Gu,e)}function D_(){Yc=[]}function q_(e,t){Yc.push({id:e,src:t})}function R_(e){yc=e}function z_(e){var t=0;return yc<e?t=-1:e<yc&&(t=1),yc=e,t}function V_(e){bc.src=e}function J_(e){return($c=document.createElement("td")).setAttribute("id",e),$c.className="stream_cell",$c}function X_(e,t,n){return($c=document.createElement("td")).setAttribute("id",t[4]+e),$c.setAttribute(Su,n[0]),$c.setAttribute("data-id",n[1]),$c.className="stream_cell",$c.innerHTML=Y_(e,t,n),$c}function j_(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(Su,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=Y_(a,n,t),i.setAttribute("id",n[4]+a)}function Y_(e,t,n){return q_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function W_(e,t,n,i,a){return e<ru&&V_(a[0]),($c=document.createElement("td")).setAttribute("id",i[8]+t),$c.setAttribute(Su,JSON.stringify(n)),$c.className="stream_cell",$c.innerHTML=Z_(t,i,a),$c}function K_(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(Su,JSON.stringify(t)),a.innerHTML=Z_(o,i,n),a.setAttribute("id",i[8]+o)}function Z_(e,t,n){return q_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+oC.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+p+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function $_(e,t,n){return($c=document.createElement("td")).setAttribute("id",t[5]+e),$c.setAttribute(Su,n[0]),$c.className="stream_cell",$c.innerHTML=Q_(e,t,n),$c}function Q_(e,t,n){return q_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function ef(){Xc=!0}function tf(){Jc=!0}function nf(){Jc=!1,window.setTimeout(tf)}function af(){return!Jc||!Xc}function of(e,t,n,i,a){if(Wu(n[0]+e+"_"+t,xu),d_(t,e,i,a),z_(e)){var o=screen.height/100;1<e?M_(e+1,0,n[0])?ff(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+42*o):ef():ff(n[6],5*o)}else ef()}function sf(e,t,n,i,a){if(Wu(n[0]+e+"_"+t,xu),d_(t,e,i,a),z_(e)){var o=screen.height/100;e?M_(e+1,0,n[0])&&ff(n[10],-1*document.getElementById(n[8]+e+"_"+t).offsetTop+o*(33+nu)):ff(n[10],7*o)}else ef()}function df(e,t,n,i,a){if(Wu(n[0]+e+"_"+t,xu),d_(t,e,i,a),z_(e)){var o=screen.height/100;ff(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+e+"_"+t).offsetTop+51*o:3.0625*o)}else ef()}function lf(e,t,n){document.body.removeEventListener("keydown",n),Vc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Su)),Vc.Play_selectedChannel_id=Vc.Play_selectedChannel[1],Vc.Play_selectedChannel=Vc.Play_selectedChannel[0],Vc.Main_Go===xc?(Vc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Vc.Play_selectedChannelDisplayname=Vc.Play_DisplaynameHost.split(ie)[1],Vc.Play_isHost=!0):Vc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Vc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(p)[1],Vc.Main_Go===Mc&&(Vc.Main_OldgameSelected=Vc.Main_gameSelected),rf()}function rf(){document.body.addEventListener("keydown",lg,!1),Xu("scene1"),ju("scene2"),hv(),kv(),Hv(),vf(hp)}function cf(e,t,n){document.body.removeEventListener("keydown",n),Tb=JSON.parse(document.getElementById(t[8]+e).getAttribute(Su)),hm=parseInt(Tb[1]),Vc.Play_gameSelected=Tb[2],Vc.Main_selectedChannel=Tb[3],Vc.Main_selectedChannelDisplayname=Tb[4],Vc.Main_selectedChannelLogo=Tb[5],Vc.Main_selectedChannel_id=Tb[6],Vc.ChannelVod_vodId=Tb[7],jd=parseInt(Tb[8]),Lb=Tb[9],Gb=Tb[10],Ib=Tb[11],Tb=Tb[0],Bb=document.getElementById(t[4]+e).textContent,Pb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Nm,!1),Xu("scene1"),ju("scene2"),kv(),uv(),av(),dv(),vf(pm)}function uf(e,t,n){document.body.removeEventListener("keydown",n),Vc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Su)),Od=parseInt(Vc.ChannelVod_vodId[1]),Ad=Vc.ChannelVod_vodId[2],Vc.Play_gameSelected=Vc.ChannelVod_vodId[3],Vc.Main_selectedChannel=Vc.ChannelVod_vodId[4],ap=Vc.ChannelVod_vodId[5],Vc.ChannelVod_vodId=Vc.ChannelVod_vodId[0].substr(1),Vc.Main_Go===Bc?zd=document.getElementById(t[3]+e).innerHTML:(zd="",Vc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),Jd=document.getElementById(t[4]+e).textContent,Xd=document.getElementById(t[5]+e).textContent,Vd=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,_f()}function _f(){document.body.addEventListener("keydown",Ky,!1),Xu("scene1"),ju("scene2"),My(),kv(),uv(),dv(),Jg=!1,vf($g)}function ff(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(ef,10)}function mf(e,t){Xc=!1,Ku(t[0]+e,xu)}function hf(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||pf(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function pf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function vf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function gf(){var e=(new Date).getTime()+Tu;return e=new Date(e),(Qc?jt[e.getDay()]+" "+e.getDate()+"/"+Xt[e.getMonth()]:jt[e.getDay()]+" "+Xt[e.getMonth()]+"/"+e.getDate())+" "+Jp(e.getHours())+":"+Jp(e.getMinutes())}function yf(){$u("label_clock",gf()),Gu="?"+Math.random()}function bf(){Wu("side_panel_"+ou,"side_panel_text_focus")}function wf(){Ku("side_panel_"+ou,"side_panel_text_focus")}function kf(){ou?1===ou?h_():2===ou?(document.body.addEventListener("keydown",vc,!1),__()):3===ou?(document.body.addEventListener("keydown",vc,!1),p_()):4===ou?i_(vc):5===ou?Cf(wc):6===ou?Cf(io()?Oc:kc):7===ou?Cf(qc):8===ou?Cf(Cc):9===ou?Cf(Ac):10===ou&&Cf(Nc):Vc.Main_Go!==Ic?(Vc.Search_isSearching||Vc.Main_Go!==Tc&&Vc.Main_Go!==Gc&&Vc.Main_Go!==Bc||yd(),Vc.Main_BeforeSearch=Vc.Main_Go,Vc.Main_Go=Ic,T_(Vc.Main_BeforeSearch),I_()):document.body.addEventListener("keydown",vc,!1),Ef()}function Cf(e){e===Vc.Main_Go?document.body.addEventListener("keydown",vc,!1):(Vc.Main_Before=Vc.Main_Go,Vc.Main_Go=e,T_(Vc.Main_Before),I_())}function Mf(e){vc=e,document.body.removeEventListener("keydown",vc),document.body.addEventListener("keydown",xf,!1),Ku("side_panel","side_panel_hide")}function Ef(){document.body.removeEventListener("keydown",xf),Wu("side_panel","side_panel_hide"),wf(),ou=0,bf()}function xf(e){switch(e.keyCode){case Li:case Ei:document.body.addEventListener("keydown",vc,!1),Ef(),Of();break;case xi:ou&&(wf(),ou--,bf());break;case Ii:ou<10&&(wf(),ou++,bf());break;case Pi:kf()}}function Sf(e){switch(e.keyCode){case Li:a_();break;case Si:2<++Ar&&(Ar=0),rc(),t_(),n_();break;case Ei:--Ar<0&&(Ar=2),rc(),t_(),n_();break;case Pi:Ar?Bu&&1===Ar?Android.mclose(!1):Bu&&2===Ar&&Android.mclose(!0):a_()}}Du();var If=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Pf=[wc,Oc,qc,Cc,Ac,Nc],Lf=!1;function Tf(e){if(!(Lf||Zy.FirstLoad||af()))switch(e.keyCode){case Li:g_()?(Of(),v_()):m_()?(Of(),f_()):Vc.Main_Go===Mc?(Vc.Main_OldgameSelected=Vc.Main_gameSelected,Vc.Games_return?(Vc.Main_Go=Pc,Vc.Main_gameSelected=Vc.gameSelectedOld):(Vc.Main_Go=Vc.Main_BeforeAgame,Vc.Main_BeforeAgame=wc),Eo(),Gf(),I_()):Vc.Main_Go===Dc?(vb(Mc),Gf(),I_()):Vc.Main_Go===Sc?(vb(Oc),Gf(),I_()):Vc.Main_Go===Gc?(vb(Tc),Gf(),I_()):Vc.Main_Go===Hc?(Vc.Main_Go=Mc,_s(),Gf(),I_()):Vc.Main_Go===Ec?(Vc.Main_Go=Oc,TM(),Gf(),I_()):Vc.Main_Go===xc?(Vc.Main_Go=Oc,$C(),Gf(),I_()):Vc.Main_Go===Rc?(Vc.Main_Go=Oc,HE(),Gf(),I_()):Vc.Main_Go===Fc?(Vc.Main_Go=Oc,kC(),Gf(),I_()):Vc.Main_Go===Tc?(Vc.Main_Go=Vc.Main_BeforeChannel,Vc.Main_BeforeChannel=wc,Zs(),Vc.Main_selectedChannel_id="",Gf(),I_()):Vc.Main_Go===Bc?(Vc.Main_Go=Tc,Wd(),Gf(),I_()):Vc.Main_Go===Lc?(Vc.Main_Go===Vc.Main_BeforeSearch?Vc.Main_Go=wc:Vc.Main_Go=Vc.Main_BeforeSearch,wk(),Vc.Search_isSearching=!1,Gf(),I_()):Vc.Main_Go===Pc?(Vc.Main_Go===Vc.Main_BeforeSearch?Vc.Main_Go=wc:Vc.Main_Go=Vc.Main_BeforeSearch,Vc.Search_isSearching=!1,Ow(),Gf(),I_()):Vc.Main_Go===Uc?(Vc.Main_Go===Vc.Main_BeforeSearch?Vc.Main_Go=wc:Vc.Main_Go=Vc.Main_BeforeSearch,Vc.Main_selectedChannel_id&&bd(),sw(),Vc.Search_isSearching=!1,Gf(),I_()):(Gf(),Mf(Tf));break;case Si:if(Vc.Search_isSearching||Vc.Main_Go===Tc||Vc.Main_Go===Bc||Vc.Main_Go===Gc||Vc.Main_Go===Lc||Vc.Main_Go===Pc||Vc.Main_Go===Uc)break;Ku(If[Vc.Main_CenterLablesVectorPos],"icon_center_line"),Vc.Main_CenterLablesVectorPos++,5<Vc.Main_CenterLablesVectorPos&&(Vc.Main_CenterLablesVectorPos=0),Of(),Ff();break;case Ei:if(Vc.Search_isSearching||Vc.Main_Go===Tc||Vc.Main_Go===Bc||Vc.Main_Go===Gc||Vc.Main_Go===Lc||Vc.Main_Go===Pc||Vc.Main_Go===Uc)break;Ku(If[Vc.Main_CenterLablesVectorPos],"icon_center_line"),Vc.Main_CenterLablesVectorPos--,Vc.Main_CenterLablesVectorPos<0&&(Vc.Main_CenterLablesVectorPos=5),Of(),Ff();break;case Ii:Ku(If[Vc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Tf),jc=!1,I_();break;case Pi:Af()}}function Bf(e){window.clearTimeout(mc),S_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Tf),document.body.addEventListener("keydown",Tf,!1),Of()}function Gf(){Ku(If[Vc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Tf),jc=!1}function Of(){jc=!0,Wu(If[Vc.Main_CenterLablesVectorPos],"icon_center_line")}function Ff(){T_(Vc.Main_Go),Vc.Main_Go=Pf[Vc.Main_CenterLablesVectorPos],Vc.Main_Go!==Oc||io()?I_(!0):(Vc.Main_Go=kc,Gf(),I_())}function Uf(){Vc.Main_Go===wc?document.body.removeEventListener("keydown",cc):Vc.Main_Go===Oc?document.body.removeEventListener("keydown",vE):Vc.Main_Go===Mc?document.body.removeEventListener("keydown",zo):Vc.Main_Go===qc?document.body.removeEventListener("keydown",Br):Vc.Main_Go===Lc?document.body.removeEventListener("keydown",Gk):Vc.Main_Go===Pc?document.body.removeEventListener("keydown",Vw):Vc.Main_Go===Uc?document.body.removeEventListener("keydown",yw):Vc.Main_Go===Bc?document.body.removeEventListener("keydown",rl):Vc.Main_Go===Tc?document.body.removeEventListener("keydown",wd):Vc.Main_Go===xc?document.body.removeEventListener("keydown",cM):Vc.Main_Go===Rc?document.body.removeEventListener("keydown",nx):Vc.Main_Go===Fc?document.body.removeEventListener("keydown",GC):Vc.Main_Go===Cc?(Zy=Mb,document.body.removeEventListener("keydown",bb)):Vc.Main_Go===Gc?(Zy=kb,document.body.removeEventListener("keydown",bb)):Vc.Main_Go===Ac?document.body.removeEventListener("keydown",jx):Vc.Main_Go===Nc?(Zy=wb,document.body.removeEventListener("keydown",bb)):Vc.Main_Go===Dc?(Zy=Cb,document.body.removeEventListener("keydown",bb)):Vc.Main_Go===Sc?(Zy=Eb,document.body.removeEventListener("keydown",bb)):Vc.Main_Go===Hc?document.body.removeEventListener("keydown",xs):Vc.Main_Go===Ec&&document.body.removeEventListener("keydown",XM)}function Af(){window.clearTimeout(mc),S_(),Vc.Main_Go!==Tc&&(Vc.Main_BeforeChannelisSet=!1),Vc.Main_Go!==Mc&&(Vc.Main_BeforeAgameisSet=!1),s_(),Vc.Main_Go===wc?$r():Vc.Main_Go===Oc?iE():Vc.Main_Go===qc?wr():Vc.Main_Go===Mc?xo():Vc.Main_Go===Fc?CC():Vc.Main_Go===Tc?$s():Vc.Main_Go===Bc?Kd():Vc.Main_Go===Lc?kk():Vc.Main_Go===Pc?Fw():Vc.Main_Go===Uc?dw():Vc.Main_Go===Cc?(Zy=Mb,ab()):Vc.Main_Go===Sc?(Zy=Eb).loadingData||Zy.key_refresh():Vc.Main_Go===Ac?Px():Vc.Main_Go===Nc?(Zy=wb,ab()):Vc.Main_Go===Dc?(Zy=Cb,ab()):Vc.Main_Go===Gc?(Zy=kb,ab()):Vc.Main_Go===Hc?fs():Vc.Main_Go===Ec?BM():Vc.Main_Go===xc?QC():Vc.Main_Go===Rc?DE():$r(),mc=window.setTimeout(x_,3e3)}function Nf(e,t){localStorage.setItem(e,t)}function Hf(e,t){return parseInt(localStorage.getItem(e))||t}function Df(e,t){return JSON.parse(localStorage.getItem(e))||t}function qf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Rf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function zf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Wc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Vf(e,t,n,i,a,o,s){var d;if(Bu){if(!(d=Android.mreadUrl(e,t,n,i)))return void o();200===(d=JSON.parse(d)).status?a(d.responseText):o()}else(d=new XMLHttpRequest).open("GET",(s?Nu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(yu,gu),1<n&&d.setRequestHeader(bu,Cu),2<n&&d.setRequestHeader(wu,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}var Jf=0,Xf=null,jf=0,Yf=!1,Wf=0,Kf=0,Zf=!1,$f=0,Qf=2e3,em=5,tm="source",nm=tm,im=0,am=[],om="",sm=!1,dm=0,lm=0,rm=1,cm=!1,um=0,_m=!1,fm=!1,mm=[0,5],hm=0;function pm(){tv(),Hv(),Ep(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo),$u("stream_info_name",Vc.Main_selectedChannelDisplayname),Zu("stream_info_title",Lb),Zu("stream_info_game",Ib+", "+Pb+", "+Gb),$u("stream_live_icon",Bb),$u("progress_bar_duration",Xp(hm)),Uy((op=mm)[1]),Vc.Play_isHost=!1,$u("progress_bar_current_time",Xp(0)),$u("stream_live_time",""),$u("stream_watching_time",""),cm=null!==Vc.ChannelVod_vodId,kl=Gt+".",cm?(wl=jd,Pl()):Ql(),Zu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),ju("progress_pause_holder"),Um(),Yh=0,ju("scene_channel_panel_bottom"),ju("chat_box"),Xu("chat_frame"),fm=!1,Zm=-13,dm=lm=um=0,im=2,jv(3),Uh=!1,Ov(),Za()?(Ri=!0,zi=Vc.Main_selectedChannel_id,aa()):ev(),document.addEventListener("visibilitychange",Mm,!1),Yf=!1,Zf=!(Kf=Wf=0),vm(),document.body.removeEventListener("keyup",ef)}function vm(){$f=0,Qf=2e3,gm()}function gm(){Vf("https://clips.twitch.tv/api/v2/clips/"+Tb+"/status",Qf,1,null,bm,ym,!0)}function ym(){++$f<em?(Qf+=250,gm()):(nv(),Play_PannelEndStart(3))}function bm(e){am=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)am.length?am.push({id:e[t].quality+"p"+wm(e[t].frame_rate),url:e[t].source}):am.push({id:e[t].quality+"p"+wm(e[t].frame_rate)+" (source)",url:e[t].source});lm=rm,km()}function wm(e){return 40<e?60:""}function km(){om=am[im=0].url,-1!==tm.indexOf("source")&&(tm="source");for(var e=0;e<Gm();e++){if(am[e].id===tm){om=am[im=e].url;break}-1!==am[e].id.indexOf(tm)&&(om=am[im=e].url)}nm=tm,gc||console.log("PlayClip_onPlayer:",'\n\n"'+om+'"\n'),lm=rm,gc||console.log("PlayClip_onPlayer:",'\n\n"'+_h+'"\n'),Bu&&Zf&&Android.startVideoOffset(om,3,sm?-1:Android.gettime()),sm=!1,Cm()}function Cm(){hh&&!Cv()&&wv(),Bu&&(jf=0,_m=!(tp=3),window.clearInterval(Em),Xf=window.setInterval(Em,np))}function Mm(){document.hidden&&Sm()}function Em(){Bu&&(dm=Android.gettime()),Zf&&Jf===dm&&!zp()?++jf>tp&&(_m&&fm&&im<Gm()-1?im++:!_m&&fm&&um++,navigator.onLine?1<um?Rp(um,3,xm):(Om(),km(),fm=!0):qp(!1,3)):(jf=um=0,fm=!1),Jf=dm}function xm(e){if(!e){if(!(im<Gm()-1))return void qp(!1,3);im++}um=0,Om(),km(),fm=!0}function Sm(){Zf&&(am=[],Im(),dv(),Zp())}function Im(){window.clearInterval(Xf),Bu&&Android.stopVideo(3),Zf=!1,Yl(),$p(),document.body.removeEventListener("keydown",Nm),document.removeEventListener("visibilitychange",Mm),Pm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",jd=0}function Pm(){Ag=!1,Ug=Ng=0,gv(),tm=nm,document.getElementById("scene_channel_panel").style.opacity="0",Bu&&Gy(Android.gettime()/1e3,hm,!0),Zu("progress_bar_jump_to",vi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(ug)}function Lm(){Tm(),Vp(),ug=window.setInterval(Tm,1e3),dv(),Sy(),Bm(),Om(),document.getElementById("scene_channel_panel").style.opacity="1",Fm()}function Tm(){Bu&&Gy(Android.gettime()/1e3,hm,!Ag)}function Bm(){for(var e=im=0;e<Gm();e++){if(am[e].id===tm){im=e;break}-1!==am[e].id.indexOf(tm)&&(im=e)}}function Gm(){return am.length}function Om(){1===Gm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):im?im===Gm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(tm=am[im].id).indexOf("source")?$u("quality_name",tm.replace("source",ye)):$u("quality_name",tm)}function Fm(){eh=window.setTimeout(Pm,5e3+Xg)}function Um(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",$u("open_vod_text",cm?an:on),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Am(){cm?(Vc.vodOffset=jd,Im(),document.body.addEventListener("keydown",Ky,!1),Ov(),vf($g)):(Uh=!0,iv(sn),window.setTimeout(function(){Uh=!1,av()},2e3))}function Nm(e){if(lm!==rm)switch(e.keyCode){case Li:lv()?(dv(),Sm()):sv()}else switch(e.keyCode){case Ei:ih&&!mv()&&Cv()?(Wm++,Lv()):mv()?(gv(),Vg?(Uv(),5<++Fh&&(Fh=0),Fv()):(Ny(-1,hm),Xg=2500),Fm()):Dv()?(Jv(),zv(),--qh<0&&(qh=3),Rv()):Lm();break;case Si:!ih||mv()||Dv()?mv()?(gv(),Vg?(Uv(),--Fh<0&&(Fh=5),Fv()):(Ny(1,hm),Xg=2500),Fm()):Dv()?(Jv(),zv(),3<++qh&&(qh=0),Rv()):Lm():Nf("ChatEnable",(hh=Cv()||Dv()?(kv(),!1):(wv(),!0))?"true":"false");break;case xi:Dv()?Jv():mv()?(2===Vg&&1!==Fh?(Vg--,Iy()):1===Vg?(Vg--,Iy()):0<im&&1===Fh&&(im--,Om()),gv(),Fm()):ih&&Cv()?(4<++Qm?Pv(!(Qm=1)):4===Qm&&Pv(!0),Sv(!0)):Lm();break;case Ii:Dv()?Jv():mv()?(Vg?1===Vg?(Vg++,Iy()):im<Gm()-1&&1===Fh&&(im++,Om()):(Vg++,Iy()),gv(),Fm()):ih&&Cv()?(1.05<($m+=.05)&&($m=.05),Iv(!0)):Lm();break;case Pi:Dv()?Xv(3):mv()?Vg?1===Vg?(cm&&Vc.Play_ChatForceDisable&&(zp()?Xl(Sl):jl()),Dv()||Gv(3)):$v(3):(gv(),Fm(),Ug&&Oy()):Lm();break;case Li:mv()?Pm():lv()?(dv(),Sm()):sv();break;case Ci:case ki:case Mi:cm&&!Vc.Play_ChatForceDisable&&(zp()?Xl(Sl):jl()),Dv()||Gv(3)}}var Hm,Dm,qm,Rm,zm,Vm,Jm,Xm,jm,Ym,Wm=0,Km=Wm,Zm=-5,$m=.55,Qm=3,eh=null,th="source",nh=th,ih=!0,ah=0,oh=1,sh=2,dh=0,lh=null,rh=0,ch=0,uh=0,_h="",fh=[],mh=0,hh=!1,ph=null,vh=null,gh=null,yh="",bh=0,wh=5,kh=0,Ch=5,Mh=0,Eh=!1,xh=null,Sh=!1,Ih=0,Ph=null,Lh=0,Th=0,Bh=!1,Gh=!1,Oh=!1,Fh=1,Uh=!1,Ah=!1,Nh=1e4,Hh=2e3,Dh="",qh=0,Rh=3,zh=null,Vh="",Jh=0,Xh=0,jh=0,Yh=0,Wh="",Kh=!0,Zh=!1,$h=!1,Qh=0,ep=!1,tp=4,np=1500,ip=0,ap="",op=[],sp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],dp=[0,0,0,1,2,2,2,1],lp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],rp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],cp=1,up=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function _p(){Vm=document.getElementById("chat_frame"),Xm=document.getElementById("chat_container"),Ym=document.getElementById("inner_progress_bar"),Wm=Hf("ChatPositionsValue",0),$m=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,Qm=Hf("ChatSizeValue",3),hh=qf("ChatEnable",!1),ih=qf("Play_isFullScreen",!0),Sv(!1),Iv(!1),mp()}function fp(e){e?void 0!==Hm&&(Wm=Hm,Qm=qm,(hh=Dm)||kv(),Sv(!1)):(Hm=Wm,Dm=hh,qm=Qm,Wm=0,wv(),Qm=4,Pv(hh=!0),Sv(!1),fl&&(fl.scrollTop=fl.scrollHeight)),Nf("Play_isFullScreen",ih)}function mp(){cp=Kk("chat_font_size");for(var e=0;e<up.length;e++)Ku("chat_inner_container",up[e]);Wu("chat_inner_container",up[cp])}function hp(){tv(),Zu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+vi+_.toUpperCase()+"</div>"),N_("stream_info_title"),cm=!(Ah=!1),Ep(document.getElementById("stream_info_icon"),Uu),Vc.Play_isHost?$u("stream_info_name",Vc.Play_DisplaynameHost):$u("stream_info_name",Vc.Play_selectedChannelDisplayname),Vc.Play_WasPlaying=1,P_(),Rm=Vc.Play_isHost,Vc.Play_isHost=!1,Zh=!1,ju("scene_channel_panel_bottom"),$u("stream_watching_time",g+Xp(Yh=0)),yh=jp(0),$u("stream_live_time",y+yh+b),Xu("chat_box"),ju("chat_frame"),Xu("progress_pause_holder"),jv(1),$h=Gh=!(Zm=-5),Jh=Th=ip=0,Xh=Date.now(),Nh=3e3,Kh=!(kh=jh=0),dh=ah,Oh=!(Eh=!(uh=ch=rh=Sh=0)),document.addEventListener("visibilitychange",vp,!1),yp(),xp(),document.body.removeEventListener("keyup",ef),lh=window.setInterval(kp,6e4)}function pp(e){iv(e)}function Play_CheckResume(){Eh&&vp(),Eg&&dy(),Zf&&(Sm(),window.clearInterval(Xf))}function vp(){document.hidden?Dv()?(dv(),kv(),Wp()):($p(),Oh=!1,Vm.src="about:blank",window.clearInterval(lh),jh=Date.now()):(Eh=!0,uv(),Eh&&(Nh=3e3,Zh=!(kh=0),jh=Date.now()-jh,Ah?kp():yp(),dh=ah,Mh=0,navigator.onLine?xp():zm=window.setInterval(gp,100),lh=window.setInterval(kp,6e4)))}function gp(){(navigator.onLine||200<Mh)&&(window.clearInterval(zm),xp()),Mh++}function yp(){var e="https://api.twitch.tv/kraken/streams/"+Vc.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Nh,t.setRequestHeader(bu,Cu),t.setRequestHeader(yu,gu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?bp(JSON.parse(t.responseText)):wp())},t.send(null)}function bp(e){null!==e.stream&&($u("stream_info_name",Rm?Vc.Play_DisplaynameHost:Vc.Play_selectedChannelDisplayname),Vc.Play_selectedChannel_id=e.stream.channel._id,Zu("stream_info_title",oC.parse(e.stream.channel.status)),Vc.Play_gameSelected=e.stream.game,Dh=", ["+e.stream.channel.language.toUpperCase()+"]",$u("stream_info_game",p+Vc.Play_gameSelected+v+w_(e.stream.viewers)+" "+R+Dh),Vc.Play_selectedChannelLogo=e.stream.channel.logo,Ah=!0,Ep(document.getElementById("stream_info_icon"),Vc.Play_selectedChannelLogo),yh=e.stream.created_at,Za()?(Ri=!0,zi=Vc.Play_selectedChannel_id,aa()):ev())}function wp(){kh<Ch&&(Nh+=500,window.setTimeout(function(){Eh&&yp()},750)),kh++}function kp(){var e="https://api.twitch.tv/kraken/streams/"+Vc.Play_selectedChannel_id;Hh=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(ip=0,Cp(JSON.parse(t.responseText))):Mp())},t.open("GET",e,!0),t.timeout=Hh,t.setRequestHeader(bu,Cu),t.setRequestHeader(yu,gu),t.send(null)}function Cp(e){null!==e.stream&&(Zu("stream_info_title",oC.parse(e.stream.channel.status)),Vc.Play_gameSelected=e.stream.game,$u("stream_info_game",p+Vc.Play_gameSelected+v+w_(e.stream.viewers)+" "+R+Dh),Ah||Ep(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Mp(){ip<Ch?(window.setTimeout(function(){Eh&&kp()},2500),ip++):ip=0}function Ep(e,t){e.onerror=function(){this.src=Uu,Ah=!1},e.src=t}function xp(){bh=0,Hh=2e3+(Zh?3e3:0),Sp()}function Sp(){var e,t;if(e=dh===ah?"https://api.twitch.tv/api/channels/"+Vc.Play_selectedChannel+"/access_token"+(Za()&&Fa[Vc.Users_Position].access_token?"?oauth_token="+Fa[Vc.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+Vc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(rh.token)+"&sig="+rh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Bu){if(!(t=Android.mreadUrl(e,Hh,1,null)))return void Pp();200===(t=JSON.parse(t)).status?(bh=0,Eh&&Tp(t.responseText)):403===t.status?Lp():404===t.status?Qv():Pp()}else(t=new XMLHttpRequest).open("GET",Nu+e,!0),t.timeout=Hh,t.setRequestHeader(yu,gu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(bh=0,Eh&&Tp(t.responseText)):403===t.status?(Ip(t),Lp()):404===t.status?(Ip(t),Qv()):(Ip(t),Pp()))},t.send(null)}function Ip(e){gc||(console.log(e.status),console.log(e.responseText))}function Pp(){Eh&&Kh&&(++bh<wh+(Zh?15:0)?(Hh+=250,Zh?window.setTimeout(Sp,500):Sp()):Qv())}function Lp(){nv(),iv(Nn),window.setTimeout(function(){Eh&&Qv()},4e3)}function Tp(e){dh===ah?(rh=JSON.parse(e),dh=oh,xp()):dh===oh&&(fh=Bp(ch=e),dh=sh,Eh&&Fp())}function Bp(e){for(var t,n=[],i="",a=1,o=Op(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=Gp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function Gp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Op(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Fp(){_h=fh[mh=0].url,-1!==th.indexOf("source")&&(th="source");for(var e=0;e<xv();e++){if(fh[e].id===th){_h=fh[mh=e].url;break}-1!==fh[e].id.indexOf(th)&&(_h=fh[mh=e].url)}nh=th,dh=sh,gc||console.log("Play_onPlayer:",'\n\n"'+_h+'"\n'),Bu&&Eh&&Android.startVideo(_h,1),Up()}function Up(){window.clearTimeout(Jm),ep=!1,hh&&!Cv()&&wv(),Oh=!0,Ap(),Bu&&(Lh=0,Bh=!(tp=3),window.clearInterval(Ph),Ph=window.setInterval(Hp,np))}function Ap(){if(Vc.Play_ChatForceDisable){ep=!0,window.clearInterval(jm);var e=Vm.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(Jm),Qh=0,$h=!1,Vm.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+Vc.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",Jm=window.setTimeout(Np,5e3)}else er()}function Np(){var e=Vm.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&($h=-1!==e.body.innerHTML.indexOf("Connected")),t=$h}catch(e){$h=!0}$h?t&&(jm=window.setInterval(bv,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):ep&&Qh<7?(Qh++,Jm=window.setTimeout(Np,1e3)):Ap()}function Hp(){Bu&&(Jh=Android.gettime()),Eh&&Ih===Jh&&!zp()?tp<++Lh&&(Bh&&Gh&&mh<xv()-1?mh++:!Bh&&Gh&&Th++,navigator.onLine?1<Th?Rp(Th,1,Dp):(Ev(),Fp(),Gh=!0):qp(!1,1)):(Lh=Th=0,Gh=!1),Ih=Jh}function Dp(e){if(!e){if(!(mh<xv()-1))return void Qv();mh++}Th=0,Ev(),Fp(),Gh=!0}function qp(e,t){Vc.Play_isHost=e,jv(t),Play_PannelEndStart(t)}function Rp(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&qp(!1,t))},i.send(null)}function zp(){return!!Bu&&!Android.getPlaybackState()}function Vp(){var e=gf();$u("stream_clock",e),$u("label_clock",e)}function Jp(e){return e<10?"0"+e:e}function Xp(e){var t,n,i;return e+=Yh/1e3,t=Jp(parseInt(e)%60),n=Jp((e=Math.floor(e/60))%60),i=Jp(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function jp(e){var t,n,i;return e<0&&!Yh&&(Yh=-1*e),e+=Yh,t=Jp(parseInt(e/1e3)%60),n=Jp((e=Math.floor(e/1e3/60))%60),i=Jp(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Yp(e){return jp((new Date).getTime()-new Date(e).getTime())}function Wp(){Eh&&(Kp(),Vc.Play_WasPlaying=0,Zp())}function Kp(){Bu&&Android.stopVideo(1),Eh=!1,Yl(),$p(),Qp(),window.clearInterval(jm),Vc.Play_selectedChannel_id=""}function Zp(){Gy(0,0),ju("scene1"),Xu("scene2"),E_()}function $p(){hv(),uv(),av(),Hv(),ap="",mh===xv()-1&&(nh=fh[0].id),kg===By()-1&&(mg=wg[0].id),im===Gm()-1&&(nm=am[0].id)}function Qp(){Oh=!1,document.body.removeEventListener("keydown",lg),document.removeEventListener("visibilitychange",vp),Vm.src="about:blank",window.clearInterval(lh),window.clearInterval(Ph),Uh=!1}function ev(){Zu("fallow_text",vi+Lt),Di=!1}function tv(){Bu&&Android.mshowLoading(!0)}function nv(){Bu&&Android.mshowLoading(!1)}function iv(e){$u("dialog_warning_play_text",e),ju("dialog_warning_play")}function av(){Xu("dialog_warning_play")}function ov(){return Yu("dialog_warning_play")}function sv(){lv()?dv():(ju("play_dialog_exit"),ph=window.setTimeout(sv,3e3))}function dv(){window.clearTimeout(ph),Xu("play_dialog_exit")}function lv(){return Yu("play_dialog_exit")}function rv(){window.clearTimeout(vh)}function cv(){window.clearTimeout(gh)}function uv(){rv(),cv(),Xu("play_dialog_simple_pause")}function _v(){zp()?fv()?(Xu("play_dialog_simple_pause"),gh=window.setTimeout(_v,8e3)):(ju("play_dialog_simple_pause"),vh=window.setTimeout(_v,1500)):uv()}function fv(){return Yu("play_dialog_simple_pause")}function mv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function hv(){gv(),document.getElementById("scene_channel_panel").style.opacity="0",th=nh,window.clearInterval(ug)}function pv(){Ov(),Mv(),Ev(),vv(),ug=window.setInterval(vv,1e3),Vp(),dv(),document.getElementById("scene_channel_panel").style.opacity="1",yv()}function vv(){$u("stream_watching_time",g+jp(Date.now()-jh-Xh)),$u("stream_live_time",y+Yp(yh)+b)}function gv(){window.clearTimeout(eh),Xg=0}function yv(){eh=window.setTimeout(hv,5e3)}function bv(){var e=Vm.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function wv(){Lv(),ju("chat_container")}function kv(){Xu("chat_container")}function Cv(){return Yu("chat_container")}function Mv(){for(var e=mh=0;e<xv();e++){if(fh[e].id===th){mh=e;break}-1!==fh[e].id.indexOf(th)&&(mh=e)}}function Ev(){1===xv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):mh?mh===xv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(th=fh[mh].id).indexOf("source")?$u("quality_name",th.replace("source",ye)+fh[mh].band):$u("quality_name",th+fh[mh].band)}function xv(){return fh.length}function Sv(e){Xm.style.height=rp[Qm-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=rp[Qm-1].dialogTop+"%",Lv(),bv(),e&&Tv(Un+rp[Qm-1].percentage),window.setTimeout(function(){fl&&(fl.scrollTop=fl.scrollHeight)},500),Nf("ChatSizeValue",Qm)}function Iv(e){var t=$m-.05;t=t<.05?0:t.toFixed(2),Xm.style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&Tv(An+(100*t).toFixed(0)+"%"),Nf("ChatBackgroundValue",$m)}function Pv(e){Wm=e?dp[Km=Wm]:lp[Wm][Km]}function Lv(){var e=4===Qm;Wm<0?Wm=e?2:7:(e?2:7)<Wm&&(Wm=0),Xm.style.top=(e?.2:sp[Wm].top+sp[Wm].sizeOffset[Qm-1])+"%",Xm.style.left=sp[Wm+(e?2:0)].left+"%",Nf("ChatPositionsValue",Wm)}function Tv(e){window.clearTimeout(xh),$u("play_chat_dialog_text",e),ju("play_chat_dialog"),xh=window.setTimeout(Bv,1e3)}function Bv(){Xu("play_chat_dialog")}function Gv(e){zp()?(uv(),Bu&&Android.play(!0),Zu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(mv()&&hv(),Ph=window.setInterval(Hp,np)):2===e?(mv()&&My(),Lg=window.setInterval(yy,np)):3===e&&(mv()&&Pm(),Xf=window.setInterval(Em,np))):(1===e?window.clearInterval(Ph):2===e?window.clearInterval(Lg):3===e&&window.clearInterval(Xf),Zu("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Bu&&Android.play(!1),_v())}function Ov(){Uv(),Fh=1,Fv()}function Fv(){Wu("scene2_pannel_"+Fh,"playbotton_focus")}function Uv(){Ku("scene2_pannel_"+Fh,"playbotton_focus")}function Av(){lm=hg=dh=-1,kv(),hv(),Pm(),My(),Uh||av(),nv(),dv(),Rv()}function Nv(){ju("dialog_end_stream")}function Hv(){Xu("dialog_end_stream"),Jv(),qv()}function Dv(){return Yu("dialog_end_stream")}function qv(){zv(),qh=0,Rv()}function Rv(){Wu("dialog_end_"+qh,"dialog_end_icons_focus")}function zv(){Ku("dialog_end_"+qh,"dialog_end_icons_focus")}function Vv(e){1===e?Vh=Vc.Play_selectedChannelDisplayname+" "+_:2===e?Vh=Vc.Main_selectedChannelDisplayname+Zt:3===e&&(Vh=Vc.Main_selectedChannelDisplayname+Gt),Zu("dialog_end_stream_text",Vh+P+ni+Qt+Rh+"..."),Dv()?(hg=dh=sh,lm=rm,-1===--Rh?(Zu("dialog_end_stream_text",Vh+P+ni+Qt+"0..."),dv(),kv(),1===e?Wp():2===e?wy():3===e&&Sm()):zh=window.setTimeout(function(){Vv(e)},1e3)):zh=window.setTimeout(function(){Vv(e)},50)}function Jv(){window.clearTimeout(zh),Zu("dialog_end_stream_text",Vh+P+ni+en)}function Xv(e){var t=!0;qh?1===qh?Vc.Play_isHost?(Vc.Play_DisplaynameHost=Vc.Play_selectedChannelDisplayname+ie,Vc.Play_selectedChannel=Wh.target_login,Vc.Play_selectedChannelDisplayname=Wh.target_display_name,Vc.Play_DisplaynameHost=Vc.Play_DisplaynameHost+Vc.Play_selectedChannelDisplayname,Kp(),document.body.addEventListener("keydown",lg,!1),Vc.Play_selectedChannel_id=Wh.target_id,vf(hp)):Am():2===qh?Yv(e):3===qh&&Kv(e):2===e?wg.length?(Bg=!(Wg=!0),vy(),uv(),wl=qg=0,Pl()):(t=!1,iv(Zn),window.setTimeout(function(){av()},2e3)):3===e&&(am.length?(_m=!(sm=!0),km(),uv(),cm?(qg=0,wl=jd,Pl()):Ql()):(t=!1,iv(Zn),window.setTimeout(function(){av()},2e3))),1!==qh&&3===qh&&""===Vc.Play_gameSelected&&(t=!1),t&&Hv()}function jv(e){e?1===e?(zv(),qh=2,Rv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(qv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(qv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",$u("dialog_end_vod_text",cm?an:on)):(zv(),qh=1,Rv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",$u("dialog_end_vod_text",rn))}function Yv(e){Vc.Main_BeforeChannelisSet||Vc.Main_Go===Bc||Vc.Main_Go===Gc||(Vc.Main_BeforeChannel=Vc.Main_BeforeAgameisSet&&Vc.Main_Go!==Mc?Vc.Main_BeforeAgame:Vc.Main_Go,Vc.Main_BeforeChannelisSet=!0),T_(Vc.Main_Go),Vc.Main_Go=Tc,1===e?(Vc.Main_selectedChannel_id=Vc.Play_selectedChannel_id,Vc.Main_selectedChannel=Vc.Play_selectedChannel,Vc.Main_selectedChannelDisplayname=Vc.Play_selectedChannelDisplayname,Hs=Di,kv(),Wp()):2===e?wy():3===e&&Sm()}function Wv(e){Vc.Search_isSearching||(Vc.Main_BeforeSearch=Vc.Main_Go),T_(Vc.Main_Go),Vc.Main_Go=Ic,1===e?(kv(),Wp()):2===e?wy():3===e&&Sm()}function Kv(e){if(""===Vc.Play_gameSelected)return Uh=!0,iv(jn),void window.setTimeout(function(){Uh=!1,av()},2e3);Vc.Main_BeforeAgameisSet||Vc.Main_Go===Hc||Vc.Main_Go===Dc||(Vc.Main_BeforeAgame=Vc.Main_BeforeChannelisSet&&Vc.Main_Go!==Tc&&Vc.Main_Go!==Bc&&Vc.Main_Go!==Gc?Vc.Main_BeforeChannel:Vc.Main_Go,Vc.Main_BeforeAgameisSet=!0),T_(Vc.Main_Go),Vc.Main_Go=Mc,ko=!1,Vc.Main_gameSelected=Vc.Play_gameSelected,kv(),1===e?Wp():2===e?wy():3===e&&Sm()}function Zv(){Za()&&Fa[Vc.Users_Position].access_token?Di?_a():ra():(iv(Tt),Uh=!0,window.setTimeout(function(){av(),Uh=!1},2e3))}function $v(e){Fh?1===Fh?(1===e?(Fp(),hv()):2===e?(Bg=!1,vy(),My()):3===e&&(_m=!1,km(),Pm()),uv()):2===Fh?(zi=1===e?Vc.Play_selectedChannel_id:Vc.Main_selectedChannel_id,Zv(),gv(),1===e?yv():2===e?Py():3===e&&Fm()):3===Fh?Kv(e):4===Fh?Yv(e):5===Fh&&Wv(e):Am()}function Play_PannelEndStart(e){window.clearInterval(Ph),window.clearInterval(Xf),window.clearInterval(Lg),Av(),Rh=3,Vv(e),Nv(e)}function Qv(){dh=-1,bh=0,Hh=2e3,window.clearTimeout(Jm),Vm.src="about:blank",window.clearInterval(lh),window.clearInterval(Ph),""!==Vc.Play_selectedChannel_id?ig():eg()}function eg(){var e="https://api.twitch.tv/kraken/users?login="+Vc.Play_selectedChannel,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Hh,t.setRequestHeader(yu,gu),t.setRequestHeader(bu,Cu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void tg(JSON.parse(t.responseText).users[0]);ng()}},t.send(null)}function tg(e){void 0!==e?(Vc.Play_selectedChannel_id=e._id,bh=0,Hh=2e3,ig()):Play_PannelEndStart(1)}function ng(){++bh<wh?(Hh+=250,eg()):qp(!1,1)}function ig(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Vc.Play_selectedChannel_id);if(Bu){if(!(e=Android.mreadUrl(t,Hh,1,null)))return void ag();200===(e=JSON.parse(e)).status?og(e.responseText):ag()}else(e=new XMLHttpRequest).open("GET",Nu+t,!0),e.timeout=Hh,e.setRequestHeader(yu,gu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void og(e.responseText);ag()}},e.send(null)}function ag(){++bh<wh?(Hh+=250,ig()):qp(!1,1)}function og(e){void 0!==(Wh=JSON.parse(e).hosts[0]).target_login?(Uh=!0,iv(Vc.Play_selectedChannelDisplayname+ln+ie+Wh.target_display_name),window.setTimeout(function(){Uh=!1},4e3),jv(0),Vc.Play_isHost=!0):(jv(1),Vc.Play_isHost=!1),Play_PannelEndStart(1)}function sg(){Di?(Zu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Zu("fallow_text",vi+Mt)):(Zu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Zu("fallow_text",vi+Et))}function dg(e){Dv()&&!lv()?(Jv(),sv()):mv()&&!Jy()?e?My():hv():Jy()&&lv()?(Vy(),ky(!1),Zp()):lv()?(dv(),kv(),e?wy():Wp()):(ov()&&av(),sv())}function lg(e){if(dh!==sh)switch(e.keyCode){case Li:lv()?(dv(),kv(),Wp()):sv()}else switch(e.keyCode){case Ei:ih&&!mv()&&Cv()?(Wm++,Lv()):mv()?(Uv(),5<++Fh&&(Fh=1),Fv(),gv(),yv()):Dv()?(Jv(),zv(),--qh<(Vc.Play_isHost?1:2)&&(qh=3),Rv()):pv();break;case Si:!ih||mv()||Dv()?mv()?(Uv(),--Fh<1&&(Fh=5),Fv(),gv(),yv()):Dv()?(Jv(),zv(),3<++qh&&(qh=Vc.Play_isHost?1:2),Rv()):pv():Nf("ChatEnable",(hh=Cv()||Dv()?(kv(),!1):(wv(),!0))?"true":"false");break;case xi:mv()?(0<mh&&1===Fh&&(mh--,Ev()),gv(),yv()):ih&&Cv()?(4<++Qm?Pv(!(Qm=1)):4===Qm&&Pv(!0),Sv(!0)):Dv()?Jv():pv();break;case Ii:mv()?(mh<xv()-1&&1===Fh&&(mh++,Ev()),gv(),yv()):ih&&Cv()?(1.05<($m+=.05)&&($m=.05),Iv(!0)):Dv()?Jv():pv();break;case Pi:Dv()?Xv(1):mv()?$v(1):pv();break;case Li:dg(!1);break;case Ci:case ki:case Mi:Dv()||Gv(1)}}var rg,cg,ug,_g,fg="source",mg=fg,hg=0,pg=null,vg=0,gg=0,yg=0,bg="",wg=[],kg=0,Cg=0,Mg=5,Eg=!1,xg=0,Sg=5,Ig=1e4,Pg=0,Lg=null,Tg=0,Bg=!1,Gg=0,Og=!1,Fg=!1,Ug=0,Ag=!1,Ng=0,Hg=2e3,Dg=!1,qg=0,Rg={},zg=0,Vg=0,Jg=!0,Xg=0,jg=0,Yg=0,Wg=!1,Kg=[0,10,30,60,120,300,600,900,1200,1800],Zg=!1;function $g(){tv(),Hv(),qg=0,$u("stream_live_time",""),$u("stream_watching_time",""),$u("progress_bar_current_time",Xp(0)),kl=F+".",Zu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Xu("progress_pause_holder"),jg=0,Uy((op=Kg)[1]),hg=ah,cm=!0,jd=0,Vc.Play_isHost=!1,Vc.vodOffset?(ey(),ay()):(Jg&&""!==Vc.Main_selectedChannel_id?(Ep(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo),Rg["#"+Vc.ChannelVod_vodId]||Pl(),Za()?(zi=Vc.Main_selectedChannel_id,Ri=!0,aa()):ev()):(ey(),ty()),$u("stream_info_name",Vc.Main_selectedChannelDisplayname),Zu("stream_info_title",zd),Zu("stream_info_game",Vd+", ["+Ad.toUpperCase()+"]"),$u("stream_live_icon",Jd)),Rg["#"+Vc.ChannelVod_vodId]&&!Vc.vodOffset?(nv(),zy()):Qg()}function Qg(){Yh=0,ju("chat_box"),Xu("chat_frame"),window.setTimeout(function(){ju("scene_channel_panel_bottom"),Zu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),ju("progress_pause_holder")},1e3),$u("progress_bar_duration",Xp(Od)),Vc.Play_WasPlaying=2,P_(),_g=window.setInterval(ry,6e4),V_(ap),Og=!1,Ag=Uh=Dg=!(Zm=-13),yg=gg=vg=Ng=Gg=0,document.addEventListener("visibilitychange",dy,!1),Zg=!(Eg=!(Fg=!1)),cy(),jv(2),document.body.removeEventListener("keyup",ef)}function ey(){xg=0,Sg=5,Ig=1e4}function ty(){var e="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Vc.Main_selectedChannel),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ig,t.setRequestHeader(yu,gu),t.setRequestHeader(bu,Cu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ny(JSON.parse(t.responseText).users[0]):iy())},t.send(null)}function ny(e){void 0!==e?(Vc.Main_selectedChannelLogo=e.logo,Vc.Main_selectedChannel_id=e._id,Rg["#"+Vc.ChannelVod_vodId]||Pl(),Za()?(zi=Vc.Main_selectedChannel_id,Ri=!0,aa()):ev()):(Vc.Main_selectedChannelLogo=Uu,Vc.Main_selectedChannel_id=""),Ep(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo)}function iy(){++xg<Sg?(Ig+=500,window.setTimeout(function(){Eg&&ty()},750)):cg=window.setTimeout(ty,2500)}function ay(){var e="https://api.twitch.tv/kraken/videos/"+Vc.ChannelVod_vodId,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ig,t.setRequestHeader(yu,gu),t.setRequestHeader(bu,Cu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void sy(t.responseText);oy()}},t.send(null)}function oy(){++xg<Sg&&(Ig+=2e3,ay())}function sy(e){e=JSON.parse(e),Zu("stream_info_title",oC.parse(e.title)),Zu("stream_info_game",Yt+p+e.game+", "+w_(e.views)+q+", ["+e.language.toUpperCase()+"]"),$u("stream_live_icon",H+F_(e.created_at)),$u("progress_bar_duration",Xp(Od=parseInt(e.length))),qg=1e3*Vc.vodOffset,Gy(Vc.vodOffset,Od,!0),Vc.Main_selectedChannelDisplayname=e.channel.display_name,$u("stream_info_name",Vc.Main_selectedChannelDisplayname),Vc.Main_selectedChannelLogo=e.channel.logo,Ep(document.getElementById("stream_info_icon"),Vc.Main_selectedChannelLogo),Vc.Main_selectedChannel_id=e.channel._id,Vc.Main_selectedChannel=e.channel.name,Za()?(Ri=!0,zi=Vc.Main_selectedChannel_id,aa()):ev(),V_(e.increment_view_count_url)}function dy(){document.hidden?Dv()?(dv(),kv(),wy()):(ry(),Hy(),jl(),$p(),window.clearInterval(Lg),window.clearInterval(_g)):(Eg=!0,uv(),Eg&&(Mh=Mh=0,navigator.onLine?gy():zm=window.setInterval(ly,100),Xl(Sl),jv(2),_g=window.setInterval(ry,6e4)))}function ly(){(navigator.onLine||200<Mh)&&(window.clearInterval(zm),hg=ah,cy()),Mh++}function ry(){Vc.vodOffset=Bu?parseInt(Android.gettime()/1e3):0,P_(),Vc.vodOffset=0}function cy(){Cg=0,Hg=2e3,uy()}function uy(){var e,t;if(e=hg===ah?"https://api.twitch.tv/api/vods/"+Vc.ChannelVod_vodId+"/access_token"+(Za()&&Fa[Vc.Users_Position].access_token?"?oauth_token="+Fa[Vc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Vc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(vg.token)+"&nauthsig="+vg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Bu){if(!(t=Android.mreadUrl(e,Hh,1,null)))return void _y();200===(t=JSON.parse(t)).status?(Cg=0,Eg&&fy(t.responseText)):_y()}else(t=new XMLHttpRequest).open("GET",Nu+e,!0),t.timeout=Hg,t.setRequestHeader(yu,gu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Cg=0,Eg&&fy(t.responseText)):_y())},t.send(null)}function _y(){if(Eg){if(JSON.parse(vg.token)&&0!==JSON.parse(vg.token).chansub.restricted_bitrates.length)return void my();++Cg<Mg?(Hg+=250,uy()):(nv(),Play_PannelEndStart(2))}}function fy(e){hg===ah?(vg=JSON.parse(e),hg=oh,cy()):hg===oh&&(wg=Bp(gg=e),hg=sh,Eg&&vy())}function my(){Za()&&Fa[Vc.Users_Position].access_token?(zi=Vc.Main_selectedChannel_id,ha()):(nv(),iv(L+xt),window.setTimeout(function(){Eg&&wy()},4e3))}function hy(){nv(),iv(L+St),window.setTimeout(function(){Eg&&wy()},4e3)}function py(){Zg?(nv(),iv(L+It),window.setTimeout(function(){Eg&&wy()},4e3)):(Zg=!0,hg=ah,cy())}function vy(){bg=wg[kg=0].url,-1!==fg.indexOf("source")&&(fg="source");for(var e=0;e<By();e++){if(wg[e].id===fg){bg=wg[kg=e].url;break}-1!==wg[e].id.indexOf(fg)&&(bg=wg[kg=e].url)}mg=fg,gy()}function gy(){gc||console.log("PlayVod_onPlayer:",'\n\n"'+bg+'"\n'),Vc.vodOffset?(wl=Vc.vodOffset,Pl(),Bu&&Eg&&Android.startVideoOffset(bg,2,Wg?-1:1e3*Vc.vodOffset),Vc.vodOffset=0):Bu&&Eg&&Android.startVideoOffset(bg,2,Wg?-1:Android.gettime()),Wg=!1,hh&&!Cv()&&wv(),Bu&&(Tg=0,Bg=!(tp=5),window.clearInterval(Lg),Lg=window.setInterval(yy,np))}function yy(){Bu&&(qg=Android.gettime()),Eg&&Pg===qg&&!zp()?++Tg>tp&&(Bg&&Og&&kg<By()-1?kg++:!Bg&&Og&&Gg++,navigator.onLine?1<Gg?Rp(Gg,2,by):(Ty(),vy(),Og=!0):qp(!1,2)):(Tg=Gg=0,Og=!1),Pg=qg}function by(e){if(!e){if(!(kg<By()-1))return void qp(!1,2);kg++}Gg=0,Ty(),vy(),Og=!0}function wy(){Eg&&(wg=[],ky(!0),Zp())}function ky(e){e&&Hy(),Bu&&Android.stopVideo(2),Eg=!1,window.clearInterval(_g),window.clearInterval(cg),Vc.Play_WasPlaying=0,Jg=!0,Yl(),$p(),Cy()}function Cy(){document.body.removeEventListener("keydown",Ky),document.removeEventListener("visibilitychange",dy),Vc.vodOffset=0,window.clearInterval(pg),window.clearInterval(Lg),Od=0}function My(){Ag=!1,Ug=Ng=0,gv(),document.getElementById("scene_channel_panel").style.opacity="0",Bu&&Gy(Android.gettime()/1e3,Od,!0),Zu("progress_bar_jump_to",vi),document.getElementById("progress_bar_steps").style.display="none",fg=mg,window.clearInterval(ug)}function Ey(e){xy(),Vp(),dv(),ug=window.setInterval(xy,1e3),e&&(Sy(),Ly(),Ty(),Py()),document.getElementById("scene_channel_panel").style.opacity="1"}function xy(){Bu&&Gy(Android.gettime()/1e3,Od,!Ag)}function Sy(){Vg=zp()?1:0,Iy()}function Iy(){Vg?1===Vg?(Wu("pause_button","progress_bar_div_focus"),Ku("progress_bar_div","progress_bar_div_focus"),Uv(),Zu("progress_bar_jump_to",vi),document.getElementById("progress_bar_steps").style.display="none"):2===Vg&&(Ku("pause_button","progress_bar_div_focus"),Ku("progress_bar_div","progress_bar_div_focus"),Fv(),Zu("progress_bar_jump_to",vi),document.getElementById("progress_bar_steps").style.display="none"):(Ku("pause_button","progress_bar_div_focus"),Wu("progress_bar_div","progress_bar_div_focus"),Uv(),Ug&&(Ay(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Py(){eh=window.setTimeout(My,5e3+Xg)}function Ly(){for(var e=kg=0;e<By();e++){if(wg[e].id===fg){kg=e;break}-1!==wg[e].id.indexOf(fg)&&(kg=e)}}function Ty(){1===By()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):kg?kg===By()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(fg=wg[kg].id).indexOf("source")?$u("quality_name",fg.replace("source",ye)+wg[kg].band):$u("quality_name",fg+wg[kg].band)}function By(){return wg.length}function Gy(e,t,n){$u("progress_bar_current_time",Xp(e)),n&&(Ym.style.width=e/t*100+"%")}function Oy(){uv(),Dv()||(_m=Bg=!1,Eg?(Bu&&Android.startVideoOffset(bg,2,0<Yg?1e3*Yg:-1),wl=Yg):(wl=jd,Bu&&Android.startVideoOffset(om,3,0<Yg?1e3*Yg:-1)),cm&&Pl()),Zu("progress_bar_jump_to",vi),document.getElementById("progress_bar_steps").style.display="none",Ag=!1,Yg=Ug=Ng=0}function Fy(){jg=Ng=0,Uy(op[1])}function Uy(e){Ug&&!Vg&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?$u("progress_bar_steps",Hn+e/60+qn):$u("progress_bar_steps",e?Hn+e+Dn:Hn+op[1]+Dn)}function Ay(){$u("progress_bar_jump_to",_e+" ("+(Ug<0?"-":"")+Xp(Math.abs(Ug))+")"+fe+Xp(Yg))}function Ny(e,t){var n=Bu?Android.gettime()/1e3:0;window.clearTimeout(rg),Ag=!0,Ng<op.length-1&&jg++%6==0&&Ng++,Ug+=op[Ng]*e,Yg=n+Ug,Eg&&(Yg=10*Math.floor(Yg/10)),t<Yg?(Ug=t-n-op[1],Yg=n+Ug,jg=Ng=0):Yg<0&&(Ug=0-n,Yg=jg=Ng=0),Ay(),Ym.style.width=Yg/t*100+"%",Uy(op[Ng]*e),rg=window.setTimeout(Fy,1e3)}function Hy(){var e=Bu?parseInt(Android.gettime()/1e3):0,t="#"+Vc.ChannelVod_vodId;300<e&&e<Od-300?(Rg[t]&&delete Rg[t],Rg[t]=e,Nf("PlayVod_VodIds",JSON.stringify(Rg))):Od-300<e&&Rg[t]&&(delete Rg[t],Nf("PlayVod_VodIds",JSON.stringify(Rg)))}function Dy(){Rg=Df("PlayVod_VodIds",{});var e=qy();250<e&&Ry(e-250)}function qy(){var e=0;for(var t in Rg)Rg.hasOwnProperty(t)&&e++;return e}function Ry(e){var t=0;for(var n in Rg){if(!(t<e))break;delete Rg[n],t++}Nf("PlayVod_VodIds",JSON.stringify(Rg))}function zy(){Xu("scene_channel_panel_bottom"),Ey(!1),Zu("dialog_vod_saved_text",bn+jp(1e3*Rg["#"+Vc.ChannelVod_vodId])),ju("dialog_vod_start")}function Vy(){My(),Xu("dialog_vod_start"),Xy(),window.setTimeout(function(){ju("scene_channel_panel_bottom")},1e3)}function Jy(){return Yu("dialog_vod_start")}function Xy(){Yy(),zg=0,jy()}function jy(){Wu("dialog_vod_"+zg,"dialog_end_icons_focus")}function Yy(){Ku("dialog_vod_"+zg,"dialog_end_icons_focus")}function Wy(e){Vy(),e?(delete Rg["#"+Vc.ChannelVod_vodId],Vc.vodOffset=0,$g()):(Vc.vodOffset=Rg["#"+Vc.ChannelVod_vodId],qg=1e3*Vc.vodOffset,Gy(Vc.vodOffset,Od,!0),Qg())}function Ky(e){if(hg===sh||Jy())switch(e.keyCode){case Ei:ih&&!mv()&&Cv()?(Wm++,Lv()):mv()&&!Jy()?(gv(),Vg?(Uv(),5<++Fh&&(Fh=1),Fv()):(Ny(-1,Od),Xg=2500),Py()):Jy()?(Yy(),zg?zg--:zg++,jy()):Dv()?(Jv(),zv(),--qh<0&&(qh=3),1===qh&&(qh=0),Rv()):Jy()||Ey(!0);break;case Si:!ih||mv()||Dv()?mv()&&!Jy()?(gv(),Vg?(Uv(),--Fh<1&&(Fh=5),Fv()):(Ny(1,Od),Xg=2500),Py()):Jy()?(Yy(),zg?zg--:zg++,jy()):Dv()?(Jv(),zv(),3<++qh&&(qh=0),1===qh&&(qh=2),Rv()):Jy()||Ey(!0):Nf("ChatEnable",(hh=Cv()||Dv()?(kv(),!1):(wv(),!0))?"true":"false");break;case xi:Dv()?Jv():mv()&&!Jy()?(2===Vg&&1!==Fh?(Vg--,Iy()):1===Vg?(Vg--,Iy()):0<kg&&1===Fh&&(kg--,Ty()),gv(),Py()):ih&&Cv()?(4<++Qm?Pv(!(Qm=1)):4===Qm&&Pv(!0),Sv(!0)):Jy()||Ey(!0);break;case Ii:Dv()?Jv():mv()&&!Jy()?(Vg?1===Vg?(Vg++,Iy()):kg<By()-1&&1===Fh&&(kg++,Ty()):(Vg++,Iy()),gv(),Py()):ih&&Cv()?(1.05<($m+=.05)&&($m=.05),Iv(!0)):Jy()||Ey(!0);break;case Pi:Jy()?Wy(zg):Dv()?Xv(2):mv()?Vg?1===Vg?(Vc.Play_ChatForceDisable&&(zp()?Xl(Sl):jl()),Dv()||Gv(2)):$v(2):(gv(),Py(),Ug&&Oy()):Ey(!0);break;case Li:dg(!0);break;case Ci:case ki:case Mi:Vc.Play_ChatForceDisable&&(zp()?Xl(Sl):jl()),Dv()||Gv(2)}else switch(e.keyCode){case Li:lv()?(dv(),wy()):sv()}}var Zy={};function $y(){console.log("InitScreens place holder")}function Qy(){Ab(),Nb(),Hb(),Db(),qb()}function eb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function tb(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function nb(){nu=-1,Vc.Main_Go=Zy.screen,Zy.label_init(),document.body.addEventListener("keydown",bb,!1),Zy.status?(R_(Zy.posY),ju(Zy.ids[10]),d_(Zy.posX,Zy.posY,Zy.ColoumnsCount,Zy.itemsCount),fb(),P_()):ab()}function ib(){nu=0,Zy.label_exit(),document.body.removeEventListener("keydown",bb),Xu(Zy.ids[10])}function ab(){N_(Zy.table),Xu(Zy.ids[10]),u_(),Qu(),Zy.cursor=null,Zy.status=!1,Zy.row=document.createElement("div"),Zy.MaxOffset=0,Zy.TopRowCreated=!1,Zy.offset=0,Zy.idObject={},Zy.FirstLoad=!0,Zy.itemsCount=0,Zy.posX=0,Zy.posY=0,Zy.row_id=0,Zy.coloumn_id=0,Zy.data=null,Zy.data_cursor=0,Zy.dataEnded=!1,s_(),vf(function(){ob(),sb()})}function ob(){Zy.loadingData=!0,Zy.loadingDataTry=0,Zy.loadingDataTimeout=3500}function sb(){var e;if(Zy.set_url(),Bu){if(!(e=Android.mreadUrl(Zy.url,Zy.loadingDataTimeout,2,null)))return void db();200===(e=JSON.parse(e)).status?Zy.concatenate(e.responseText):db()}else(e=new XMLHttpRequest).open("GET",Zy.url,!0),e.timeout=Zy.loadingDataTimeout,e.setRequestHeader(yu,gu),e.setRequestHeader(bu,Cu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Zy.concatenate(e.responseText):db())},e.send(null)}function db(){Zy.loadingDataTry++,Zy.loadingDataTry<Zy.loadingDataTryMax?(Zy.loadingDataTimeout+=500,sb()):(Zy.loadingData=!1,Zy.itemsCount?Zy.dataEnded=!0:(Zy.FirstLoad=!1,e_(),c_(T)))}function lb(){var e=Zy.data.length-Zy.data_cursor;if(e>Zy.ItemsLimit?e=Zy.ItemsLimit:Zy.dataEnded=!0,e){var t=Math.ceil(e/Zy.ColoumnsCount),n=Zy.row_id+t;if(Zy.HasSwitches&&!Zy.TopRowCreated){Zy.TopRowCreated=!0,Zy.row=document.createElement("div");var i='<i class="icon-history stream_channel_fallow_icon"></i>'+vi+vi+f;($c=document.createElement("div")).setAttribute("id",Zy.ids[8]+"y_0"),$c.className="stream_cell_period",$c.innerHTML='<div id="'+Zy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Zy.ids[3]+'y_0" class="stream_channel_fallow_game">'+i+"</div></div>",Zy.row.appendChild($c),document.getElementById(Zy.table).appendChild(Zy.row)}for(Zy.row_id;Zy.row_id<n;Zy.row_id++){for(Zy.coloumn_id===Zy.ColoumnsCount&&(Zy.row=document.createElement("div"),Zy.coloumn_id=0),Zy.coloumn_id;Zy.coloumn_id<Zy.ColoumnsCount&&Zy.data_cursor<Zy.data.length;Zy.data_cursor++)Zy.addCell(Zy.data[Zy.data_cursor]);document.getElementById(Zy.table).appendChild(Zy.row)}}_b(!e&&!Zy.status)}function rb(e,t,n,i){var a=e+"_"+t;return q_(n[1]+a,i),e<Zy.ColoumnsCount&&V_(i),($c=document.createElement("div")).style.cssText=Zy.ThumbCssText,a}function cb(e,t,n,i,a,o){var s=rb(e,t,n,i);return $c.setAttribute("id",n[5]+s),$c.setAttribute(Su,a),$c.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+'</div><div id="'+n[4]+s+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+o+"</div></div></div>",$c}function ub(e,t,n,i,a,o,s,d,l,r,c,u,_,f,m,h){var p=rb(e,t,n,i);return $c.setAttribute("id",n[8]+p),$c.setAttribute(Su,JSON.stringify([c,r,s[2],u,a,_,f,m,h,s[0],l,s[1]+s[2]])),$c.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Xp(r)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+ni+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+q+"</div></div></div>",$c}function _b(e){vf(function(){Zy.status?(H_(Zy.img_404),d_(Zy.posX,Zy.posY,Zy.ColoumnsCount,Zy.itemsCount)):(e_(),(Zy.emptyContent=e)?c_(Zy.empty_str()):(Zy.status=!0,H_(Zy.img_404),fb(),P_()),ju(Zy.ids[10]),Zy.FirstLoad=!1)})}function fb(){Zy.posY<0?hb():(Zy.addFocus(Zy.posY,Zy.posX,Zy.ids,Zy.ColoumnsCount,Zy.itemsCount),Zy.posY+Zy.ItemsReloadLimit>Zy.itemsCount/Zy.ColoumnsCount&&Zy.data_cursor<Zy.data.length&&(D_(),Zy.loadDataSuccess()),Zy.data_cursor+xb>Zy.data.length&&!Zy.dataEnded&&!Zy.loadingData&&(ob(),sb()),jc&&mf(Zy.posY+"_"+Zy.posX,Zy.ids))}function mb(e,t){mf(Zy.posY+"_"+Zy.posX,Zy.ids),Zy.posY+=e,Zy.posX=t,fb()}function hb(){Wu(Zy.ids[0]+"y_0",xu)}function pb(){Ku(Zy.ids[0]+"y_0",xu)}function vb(e){g_()?v_():m_()?f_():(e===Zy.screen?Vc.Main_Go=wc:Vc.Main_Go=e,ib())}function gb(e){if(!Zy.HasSwitches||Zy.posY||-1!==e||Zy.emptyContent){if(Zy.HasSwitches&&-1===Zy.posY)Zy.posY=0,fb(),pb();else for(var t=0;t<Zy.ColoumnsCount;t++)if(M_(Zy.posY+e,Zy.posX-t,Zy.ids[0])){mb(e,Zy.posX-t);break}}else mf(Zy.posY+"_"+Zy.posX,Zy.ids),Zy.posY=-1,hb()}function yb(e,t){M_(Zy.posY,Zy.posX+e,Zy.ids[0])?mb(0,Zy.posX+e):M_(Zy.posY+e,t,Zy.ids[0])&&mb(e,t)}function bb(e){if(!Zy.FirstLoad&&!af())switch(nf(),e.keyCode){case Li:Zy.key_exit();break;case Ei:yb(-1,Zy.ColoumnsCount-1);break;case Si:yb(1,0);break;case xi:gb(-1);break;case Ii:gb(1);break;case Ci:case ki:case Mi:case Pi:Zy.key_play()}}Zy.FirstLoad=!1;var wb,kb,Cb,Mb,Eb,xb=100,Sb=3,Ib="",Pb="",Lb="",Tb="",Bb="",Gb="",Ob={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:lb,ThumbPading:Sb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: "+this.ThumbPading+"px;"}},Fb={ThumbSize:32.65,ItemsLimit:lu,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:cu,ColoumnsCount:ru,addFocus:sf,cursor:null,key_refresh:ab,period:["day","week","month","all"],img_404:Au,empty_str:function(){return B+A},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ab()):cf(this.posY+"_"+this.posX,this.ids,bb)},addCell:function(e){Zy.idObject[e.tracking_id]||(Zy.itemsCount++,Zy.idObject[e.tracking_id]=1,Zy.row.appendChild(ub(Zy.row_id,Zy.coloumn_id,Zy.ids,e.thumbnails.medium,e.broadcaster.display_name,[nn,F_(e.created_at)],[oC.parse(e.title),p,e.game],w_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),Zy.coloumn_id++)}},Ub={ThumbSize:19.35,ItemsLimit:uu,ItemsReloadLimit:fu,ColoumnsCount:_u,addFocus:df,img_404:Fu,empty_str:function(){return B+$}};function Ab(){(wb=tb(wb=tb({ids:eb("Clip"),table:"stream_table_clip",screen:Nc,periodPos:Hf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+xb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==eu?"&language="+eu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),Zy.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),Zy.loadingData=!1},SetPeriod:function(){Zu("top_bar_clip",A+O_(pc[this.periodPos-1])),Nf("Clip_periodPos",this.periodPos)},label_init:function(){Vc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Wu("top_bar_clip","icon_center_focus"),Ju("label_refresh","icon-refresh",t+Jt)},label_exit:function(){B_(),Ku("top_bar_clip","icon_center_focus"),Ju("label_refresh","icon-refresh",t+Jt)},key_exit:function(){g_()?v_():m_()?f_():(this.itemsCount&&mf(this.posY+"_"+this.posX,this.ids),Bf(bb))}},Ob),Fb)).set_ThumbSize()}function Nb(){(kb=tb(kb=tb({ids:eb("ChannelClip"),table:"stream_table_channel_clip",screen:Gc,periodPos:Hf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Vc.Main_selectedChannel)+"&limit="+xb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),Zy.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),Zy.loadingData=!1},SetPeriod:function(){Zu("top_bar_game",A+pc[this.periodPos-1]),Nf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Vc.Main_CenterLablesVectorPos=1,!Vc.Search_isSearching&&Vc.Main_selectedChannel_id&&bd(),Vc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),G_(),this.SetPeriod(),$u("top_bar_user",Vc.Main_selectedChannelDisplayname),Ju("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Vc.Main_selectedChannel},label_exit:B_,key_exit:function(){g_()?v_():m_()?f_():(this.itemsCount&&mf(this.posY+"_"+this.posX,this.ids),Bf(bb))}},Ob),Fb)).set_ThumbSize()}function Hb(){(Cb=tb(Cb=tb({ids:eb("AGameClip"),table:"stream_table_a_game_clip",screen:Dc,periodPos:Hf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Vc.Main_gameSelected)+"&limit="+xb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==eu?"&language="+eu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),Zy.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),Zy.loadingData=!1},SetPeriod:function(){Zu("top_bar_game",w+O_(A+pc[this.periodPos-1]+": "+Vc.Main_gameSelected)),Nf("AGameClip_periodPos",this.periodPos)},label_init:function(){Vc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Wu("top_bar_game","icon_center_focus"),Ju("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Vc.Main_gameSelected&&(this.status=!1),this.gameSelected=Vc.Main_gameSelected},label_exit:function(){Ku("top_bar_game","icon_center_focus"),Zu("top_bar_game",m),Ju("label_side_panel","icon-ellipsis",Fn)},key_exit:function(){g_()?v_():m_()?f_():(this.itemsCount&&mf(this.posY+"_"+this.posX,this.ids),Bf(bb))}},Ob),Fb)).set_ThumbSize()}function Db(){(Mb=tb(Mb=tb({ids:eb("Game"),table:"stream_table_games",screen:Cc,key_refresh:ab,base_url:"https://api.twitch.tv/kraken/games/top?limit="+xb,set_url:function(){this.offset&&this.offset+xb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),Zy.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.top,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),Zy.loadingData=!1},label_init:function(){Vc.Main_CenterLablesVectorPos=3,Wu("top_bar_game","icon_center_focus")},label_exit:function(){Ku("top_bar_game","icon_center_focus")},key_exit:function(){g_()?v_():m_()?f_():(this.itemsCount&&mf(this.posY+"_"+this.posX,this.ids),Bf(bb))},key_play:function(){Vc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Su),document.body.removeEventListener("keydown",bb),Vc.Main_BeforeAgame=this.screen,Vc.Main_Go=Mc,Vc.Main_BeforeAgameisSet=!0,ko=!1,ib(),I_(),mf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){Zy.idObject[e.game._id]||(Zy.itemsCount++,Zy.idObject[e.game._id]=1,Zy.row.appendChild(cb(Zy.row_id,Zy.coloumn_id,Zy.ids,e.game.box.template.replace("{width}x{height}",Eu),e.game.name,w_(e.channels)+" "+x+v+w_(e.viewers)+R)),Zy.coloumn_id++)}},Ob),Ub)).set_ThumbSize()}function qb(){(Eb=tb(Eb=tb({ids:eb("UserGames"),table:"stream_table_user_games",screen:Sc,isLive:qf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+xb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Fa[Vc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+xb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+" "+(this.isLive?$:zt))),ab(),Nf("user_Games_live",this.isLive?"true":"false"),dE()},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.follows),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),Zy.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.follows,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),Zy.loadingData=!1},label_init:function(){Vc.Main_CenterLablesVectorPos=1,Ju("label_refresh","icon-refresh",Vt+$+"/"+zt+":"+Jt),Ju("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),this.OldUserName!==Fa[Vc.Users_Position].name&&(this.status=!1),this.OldUserName=Fa[Vc.Users_Position].name,Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+" "+(this.isLive?$:zt)))},label_exit:function(){Vc.Users_Position=0,Ku("top_bar_user","icon_center_focus"),Ju("label_refresh","icon-refresh",t+Jt),$u("top_bar_user",u),Ju("label_side_panel","icon-ellipsis",Fn)},key_exit:function(){g_()?v_():m_()?f_():(this.itemsCount&&mf(this.posY+"_"+this.posX,this.ids),Bf(bb))},key_play:function(){Vc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Su),document.body.removeEventListener("keydown",bb),Vc.Main_BeforeAgame=this.screen,Vc.Main_Go=Mc,Vc.Main_BeforeAgameisSet=!0,ko=!1,ib(),I_()},addCell:function(e){var t=this.isLive?e.game:e;Zy.idObject[t._id]||(Zy.itemsCount++,Zy.idObject[t._id]=1,Zy.row.appendChild(cb(Zy.row_id,Zy.coloumn_id,Zy.ids,t.box.template.replace("{width}x{height}",Eu),t.name,this.isLive?w_(e.channels)+" "+x+v+w_(e.viewers)+R:"")),Zy.coloumn_id++)}},Ob),Ub)).set_ThumbSize()}var Rb=0,zb=0,Vb=!1,Jb=0,Xb={},jb=[],Yb=!1,Wb=0,Kb=5,Zb=3500,$b=0,Qb=0,ew=!1,tw=!1,nw="",iw=!1,aw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function ow(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Uc,Vc.isLastSChannels=!0,Vc.Search_isSearching=!0,nw!==Vc.Search_data&&(tw=!1),G_(),Zu("top_bar_user",n+O_(x+" '"+Vc.Search_data+"'")),document.body.addEventListener("keydown",yw,!1),tw?(R_(Rb),ju(aw[6]),d_(zb,Rb,hu,Jb),vw(),P_()):dw()}function sw(){B_(),document.body.removeEventListener("keydown",yw),Xu(aw[6])}function dw(){N_("stream_table_search_channel"),Xu(aw[6]),Qu(),u_(),nw=Vc.Search_data,tw=!1,Xb={},Jb=Qb=$b=0,Rb=zb=0,Vb=!(Lf=!(iw=!(jb=[]))),s_(),vf(function(){lw(),rw()})}function lw(){D_(),Yb=!0,Wb=0,Zb=3500}function rw(){var e=Jb+$b;e&&Qb-1<e&&(e=Qb-mu,Vb=!0),Vf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Vc.Search_data)+"&limit="+mu+"&offset="+e,Zb,2,null,uw,cw)}function cw(){++Wb<Kb?(Zb+=500,rw()):(Yb=!1,Jb?(Vb=!0,fw()):(Lf=!1,e_(),c_(T)))}function uw(e){var t=JSON.parse(e),n=t.channels.length;Qb=parseInt(t._total),n<mu&&(Vb=!0);var i=Jb;ew=!(Jb+=n);var a=n/hu;0<n%hu&&a++;for(var o,s,d,l,r,c=0,u=0;u<a;u++){for(s=i/hu+u,d=document.createElement("tr"),o=0;o<hu&&c<n;o++,c++)r=(l=t.channels[c])._id,Xb[r]?o--:(Xb[r]=1,d.appendChild(_w(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<hu;o++)Vb&&!iw&&(iw=!0,Jb=s*hu+o),d.appendChild(J_(aw[5]+s+"_"+o)),jb.push(aw[5]+s+"_"+o);document.getElementById("stream_table_search_channel").appendChild(d)}fw()}function _w(e,t,n){return e<4&&V_(n[2]),X_(t,aw,n)}function fw(){vf(function(){if(tw){if(H_(Uu),0<jb.length&&!Vb)return lw(),void mw();d_(zb,Rb,hu,Jb),jb=[]}else e_(),ew?c_(d):(tw=!0,H_(Uu),vw(),P_()),ju(aw[6]),Lf=!1;Yb=!1})}function mw(){r_(jb.length);var e=Jb+$b;e&&Qb-1<e&&(e=Qb-vu,Vb=!0),Vf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Vc.Search_data)+"&limit="+vu+"&offset="+e,Zb,2,null,pw,hw)}function hw(){++Wb<Kb?(Zb+=500,mw()):(Vb=!0,Jb-=jb.length,jb=[],fw())}function pw(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(Qb=parseInt(i._total),a<vu&&(Vb=!0);o<jb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,Xb[n]?o--:(Xb[n]=1,j_(jb[o],[t.name,n,t.logo,t.display_name],aw),d.push(o));for(o=d.length-1;-1<o;o--)jb.splice(d[o],1);$b+=s,Vb&&(Jb-=jb.length,jb=[]),fw()}function vw(){of(Rb,zb,aw,hu,Jb),Jb/hu<Rb+pu&&!Vb&&!Yb&&(lw(),rw()),jc&&gw()}function gw(){Jb&&mf(Rb+"_"+zb,aw)}function yw(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(gw(),Bf(yw));break;case Ei:if(M_(Rb,zb-1,aw[0]))gw(),zb--,vw();else for(t=hu-1;-1<t;t--)if(M_(Rb-1,t,aw[0])){gw(),Rb--,zb=t,vw();break}break;case Si:M_(Rb,zb+1,aw[0])?(gw(),zb++,vw()):M_(Rb+1,0,aw[0])&&(gw(),Rb++,zb=0,vw());break;case xi:for(t=0;t<hu;t++)if(M_(Rb-1,zb-t,aw[0])){gw(),Rb--,zb-=t,vw();break}break;case Ii:for(t=0;t<hu;t++)if(M_(Rb+1,zb-t,aw[0])){gw(),Rb++,zb-=t,vw();break}break;case Ci:case ki:case Mi:case Pi:Vc.Main_selectedChannel=document.getElementById(aw[4]+Rb+"_"+zb).getAttribute(Su),Vc.Main_selectedChannel_id=document.getElementById(aw[4]+Rb+"_"+zb).getAttribute("data-id"),Vc.Main_selectedChannelDisplayname=document.getElementById(aw[3]+Rb+"_"+zb).textContent,document.body.removeEventListener("keydown",yw),Vc.Main_BeforeChannel=Uc,Vc.Main_Go=Tc,Vc.Main_BeforeChannelisSet=!0,Hs=Di=!1,Xu(aw[6]),I_()}}var bw=!1,ww=0,kw=0,Cw=0,Mw=0,Ew=5,xw=3500,Sw=0,Iw=0,Pw=!1,Lw=!1,Tw="",Bw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Gw(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Pc,Vc.Search_isSearching=!0,G_(),Tw!==Vc.Search_data&&(bw=!1),Zu("top_bar_user",n+O_(m+" '"+Vc.Search_data+"'")),document.body.addEventListener("keydown",Vw,!1),bw?(R_(ww),ju(Bw[7]),d_(kw,ww,_u,Cw),Rw(),P_()):Fw()}function Ow(){Vc.Search_isSearching||B_(),document.body.removeEventListener("keydown",Vw),Vc.Games_return=!1,Xu(Bw[7])}function Fw(){N_("stream_table_search_game"),Xu(Bw[7]),Qu(),u_(),Tw=Vc.Search_data,Lw=bw=!1,ww=kw=Cw=Iw=Sw=0,s_(),vf(function(){Uw(),Aw()})}function Uw(){D_(),Lf=!0,Mw=0,xw=3500}function Aw(){Vf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Vc.Search_data),xw,2,null,Hw,Nw)}function Nw(){++Mw<Ew?(xw+=500,Aw()):(Lf=!1,Cw?qw():(e_(),c_(T)))}function Hw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Cw;Pw=!(Cw+=n);var a=n/_u;0<n%_u&&a++;for(var o,s,d,l,r=0,c=0;c<a;c++){for(s=i/_u+c,d=document.createElement("tr"),o=0;o<_u&&r<n;o++,r++)l=t.games[r],d.appendChild(Dw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",Eu),""]));for(;o<_u;o++)Lw||(Lw=!0,Cw=s*_u+o),d.appendChild(J_(Bw[6]+s+"_"+o));document.getElementById("stream_table_search_game").appendChild(d)}qw()}function Dw(e,t,n){return e<2&&V_(n[1]),$_(t,Bw,n)}function qw(){vf(function(){bw||(e_(),Pw?c_(d):(bw=!0,H_(Au),Rw(),P_())),ju(Bw[7]),Lf=!1,d_(kw,ww,_u,Cw)})}function Rw(){df(ww,kw,Bw,_u,Cw),jc&&zw()}function zw(){Cw&&mf(ww+"_"+kw,Bw)}function Vw(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(zw(),Bf(Vw));break;case Ei:if(M_(ww,kw-1,Bw[0]))zw(),kw--,Rw();else for(t=_u-1;-1<t;t--)if(M_(ww-1,t,Bw[0])){zw(),ww--,kw=t,Rw();break}break;case Si:M_(ww,kw+1,Bw[0])?(zw(),kw++,Rw()):M_(ww+1,0,Bw[0])&&(zw(),ww++,kw=0,Rw());break;case xi:for(t=0;t<_u;t++)if(M_(ww-1,kw-t,Bw[0])){zw(),ww--,kw-=t,Rw();break}break;case Ii:for(t=0;t<_u;t++)if(M_(ww+1,kw-t,Bw[0])){zw(),ww++,kw-=t,Rw();break}break;case Ci:case ki:case Mi:case Pi:Vc.gameSelectedOld=Vc.Main_gameSelected,Ow(),Vc.Main_gameSelected=document.getElementById(Bw[5]+ww+"_"+kw).getAttribute(Su),document.body.removeEventListener("keydown",Vw),Vc.Main_Go=Mc,Vc.Games_return=!0,I_()}}var Jw=0,Xw=0,jw=!1;function Yw(){u_(),Xu("label_refresh"),Ju("label_side_panel","icon-arrow-circle-left",I),$u("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",_c.placeholder=k,Wu("top_bar_user","icon_center_focus"),ju("search_scroll"),Xw=Jw=0,Zw(),Qw()}function Ww(){ek(!1),document.body.removeEventListener("keydown",$w),Zw(),Vc.Main_Go=Vc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",$u("top_bar_user",u),Ku("top_bar_user","icon_center_focus"),Ju("label_side_panel","icon-ellipsis",Fn),ju("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",_c.value="",Xu("search_scroll")}function Kw(){Ww(),vf(function(){Xw?1===Xw?Gw():2===Xw&&bk():ow()})}function Zw(){Ku("chanel_button","button_search_focused"),Ku("game_button","button_search_focused"),Ku("live_button","button_search_focused"),Jw&&(Xw?1===Xw?Wu("game_button","button_search_focused"):2===Xw&&Wu("live_button","button_search_focused"):Wu("chanel_button","button_search_focused"))}function $w(e){if(!jw)switch(e.keyCode){case Li:g_()?v_():m_()?f_():(Ww(),I_());break;case Ei:1===Jw&&(--Xw<0&&(Xw=2),Zw());break;case Si:1===Jw&&(2<++Xw&&(Xw=0),Zw());break;case xi:1===Jw&&(Jw=0,Zw(),Qw());break;case Ii:Jw?1===Jw&&(Jw=0,Zw(),Qw()):(ek(!1),Jw=1,Zw());break;case Ci:case ki:case Mi:case Pi:Jw?""!==_c.value&&null!==_c.value?(Vc.Search_data=_c.value,_c.value="",Kw()):(c_(s),window.setTimeout(function(){u_()},1e3)):Qw()}}function Qw(){document.body.removeEventListener("keydown",$w),document.body.addEventListener("keydown",nk,!1),_c.placeholder=k,_c.focus(),jw=!0}function ek(e){_c.blur(),tk(),document.body.removeEventListener("keydown",nk),_c.placeholder=E+k,e&&document.body.addEventListener("keydown",$w,!1),jw=!1}function tk(){if(null!==_c){var e=_c.cloneNode(!0);_c.parentNode.replaceChild(e,_c),_c=document.getElementById("search_input")}}function nk(e){switch(e.keyCode){case Li:m_()?f_():g_()?v_():(Ww(),I_());break;case Oi:_c.value="";break;case Bi:case Ii:ek(!0),Jw=1,Zw();break;case Ti:_c.value=_c.value.slice(0,-1);break;case Gi:_c.value+=" "}}var ik=0,ak=0,ok=!1,sk=0,dk={},lk=[],rk=!1,ck=0,uk=5,_k=3500,fk=0,mk=0,hk=!1,pk=!1,vk=!1,gk="",yk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function bk(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Lc,Vc.Search_isSearching=!0,G_(),gk!==Vc.Search_data&&(pk=!1),Zu("top_bar_user",n+O_(_+" '"+Vc.Search_data+"'")),document.body.addEventListener("keydown",Gk,!1),pk?(R_(ik),ju(yk[10]),d_(ak,ik,ru,sk),Tk(),P_()):kk()}function wk(){B_(),document.body.removeEventListener("keydown",Gk),Xu(yk[10])}function kk(){N_("stream_table_search_live"),Xu(yk[10]),Qu(),u_(),gk=Vc.Search_data,pk=!1,mk=fk=0,dk={},ik=ak=sk=0,ok=!(Lf=!(vk=!(lk=[]))),s_(),vf(function(){Ck(),Mk()})}function Ck(){D_(),rk=!0,ck=0,_k=3500}function Mk(){var e=sk+fk;e&&mk-1<e&&(e=mk-lu,ok=!0),Vf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Vc.Search_data)+"&limit="+lu+"&offset="+e,_k,2,null,xk,Ek)}function Ek(){++ck<uk?(_k+=500,Mk()):(rk=!1,sk?(ok=!0,Sk()):(Lf=!1,e_(),c_(T)))}function xk(e){var t=JSON.parse(e),n=t.streams.length;mk=parseInt(t._total),n<lu&&(ok=!0);var i=sk;hk=!(sk+=n);var a=n/ru;0<n%ru&&a++;for(var o,s,d,l,r,c=0,u=0;u<a;u++){for(s=i/ru+u,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,dk[r]?o--:(dk[r]=1,d.appendChild(W_(s,s+"_"+o,[l.channel.name,r],yk,[l.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Yp(l.created_at)+b+", "+v+w_(l.viewers)+R,k_(l.video_height,l.average_fps,l.channel.language)])));for(;o<ru;o++)ok&&!vk&&(vk=!0,sk=s*ru+o),d.appendChild(J_(yk[9]+s+"_"+o)),lk.push(yk[9]+s+"_"+o);document.getElementById("stream_table_search_live").appendChild(d)}Sk()}function Sk(){vf(function(){if(pk){if(H_(Au),0<lk.length&&!ok)return Ck(),void Ik();d_(ak,ik,ru,sk),lk=[]}else e_(),hk?c_(d):(pk=!0,H_(Au),Tk(),P_()),ju(yk[10]),Lf=!1;rk=!1})}function Ik(){r_(lk.length);var e=sk+fk;e&&mk-1<e&&(e=mk-vu,ok=!0),Vf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Vc.Search_data)+"&limit="+vu+"&offset="+e,_k,2,null,Lk,Pk)}function Pk(){++ck<uk?(_k+=500,Ik()):(ok=!0,sk-=lk.length,lk=[],Sk())}function Lk(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(mk=parseInt(i._total),a<vu&&(ok=!0);o<lk.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,dk[n]?o--:(dk[n]=1,K_(lk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Yp(t.created_at)+b+", "+v+w_(t.viewers)+R,k_(t.video_height,t.average_fps,t.channel.language)],yk),d.push(o));for(o=d.length-1;-1<o;o--)lk.splice(d[o],1);fk+=s,ok&&(sk-=lk.length,lk=[]),Sk()}function Tk(){sf(ik,ak,yk,ru,sk),sk/ru<ik+cu&&!ok&&!rk&&(Ck(),Mk()),jc&&Bk()}function Bk(){sk&&mf(ik+"_"+ak,yk)}function Gk(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(Bk(),Bf(Gk));break;case Ei:if(M_(ik,ak-1,yk[0]))Bk(),ak--,Tk();else for(t=ru-1;-1<t;t--)if(M_(ik-1,t,yk[0])){Bk(),ik--,ak=t,Tk();break}break;case Si:M_(ik,ak+1,yk[0])?(Bk(),ak++,Tk()):M_(ik+1,0,yk[0])&&(Bk(),ik++,ak=0,Tk());break;case xi:for(t=0;t<ru;t++)if(M_(ik-1,ak-t,yk[0])){Bk(),ik--,ak-=t,Tk();break}break;case Ii:for(t=0;t<ru;t++)if(M_(ik+1,ak-t,yk[0])){Bk(),ik++,ak-=t,Tk();break}break;case Ci:case ki:case Mi:case Pi:lf(ik+"_"+ak,yk,Gk)}}var Ok=0,Fk={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Uk(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Español [ES][ES-MX]","Español - España [ES]","Español - Latinoamérica [ES-MX]","Français [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Português [PT][PT-BR]","Português -Portugal [PT]","Português - Brasil [PT-BR]","Slovenčina [SK]","Suomi [FI]","Svenska [SV]","Tiếng Việt [VI]","Türkçe [TR]","Čeština [CS]","Ελληνικά [EL]","Български [BG]","Русский [RU]","ภาษาไทย [TH]","中文 [ZH-ALL]","中文 简体 [ZH-CN]","中文 繁體 [ZH-TW]","日本語 [JA]","한국어 [KO]","Română [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function Uk(){var e=[],t=43200,n=0;for(Yh=0;n<48;n++)e.push("-"+Xp(t)),t-=900;for(e.push(Xp(0)),t=900,n=0;n<48;n++)e.push(Xp(t)),t+=900;return e}var Ak=[],Nk=0;function Hk(){S_(),document.body.addEventListener("keydown",aC,!1),Ju("label_refresh","icon-arrow-circle-left",I),$u("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Wu("top_bar_user","icon_center_focus"),ju("settings_scroll"),$k(Ok=0)}function Dk(){document.body.removeEventListener("keydown",aC),Qk(),$u("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ku("top_bar_user","icon_center_focus"),Ju("label_refresh","icon-refresh",t+Jt),Xu("settings_scroll")}function qk(){var e,t="";t+=Rk("general",pn),e="content_lang",Ak.push(e),t+=zk(e,Jn),e="clock_offset",Ak.push(e),t+=zk(e,zn),e="restor_playback",Ak.push(e),Fk[e].values=[In,Sn],t+=Vk(e,Pn,Ln),e="videos_animation",Ak.push(e),Fk[e].values=[In,Sn],t+=zk(e,On),t+=Rk("play",cn),e="chat_font_size",Ak.push(e),t+=Vk(e,Tn,Bn),e="force_disable_chat",Ak.push(e),Fk[e].values=[In,Sn],Zu("settings_main",t+=Vk(e,$n,Qn)),Nk=Ak.length}function Rk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function zk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+Yk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Vk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+Yk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Jk(e,t,n){Zu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function Xk(){var e="";for(e in $u("setting_title_general",pn),$u((e="clock_offset")+"_name",zn),$u((e="content_lang")+"_name",Jn),Fk[e].values[0]=Xn,$u(e,Yk(e)),$u("setting_title_play",cn),Jk(e="restor_playback",Pn,Ln),Fk[e].values=[In,Sn],Jk(e="chat_font_size",Tn,Bn),Jk(e="force_disable_chat",$n,Qn),Fk[e].values=[In,Sn],$u((e="videos_animation")+"_name",On),Fk[e].values=[In,Sn],Fk)Fk.hasOwnProperty(e)&&$u(e,Yk(e))}function jk(){for(var e in Fk)Fk[e].defaultValue=Hf(e,Fk[e].defaultValue),Fk[e].defaultValue-=1;iC(),Ex=Kk("videos_animation"),eu=Wk("content_lang"),Vc.Play_ChatForceDisable=Kk("force_disable_chat")}function Yk(e){return Fk[e].values[Kk(e)]}function Wk(e){return Fk[e].set_values[Kk(e)]}function Kk(e){return Fk[e].defaultValue}function Zk(e){return Fk[e].values.length-1}function $k(e){var t=Ak[Ok];Wu(t,"settings_value_focus"),Wu(t+"_div","settings_div_focus"),tC(e)}function Qk(){var e=Ak[Ok];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ku(e,"settings_value_focus"),Ku(e+"_div","settings_div_focus")}function eC(e){var t=Ak[e];Nf(t,Kk(t)+1),$u(t,Yk(t)),tC(e),nC(e)}function tC(e){var t=Ak[e],n=Kk(t),i=Zk(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function nC(e){"content_lang"===(e=Ak[e])?eu=Wk("content_lang"):"videos_animation"===e?Ex=Kk("videos_animation"):"force_disable_chat"===e?Vc.Play_ChatForceDisable=Kk("force_disable_chat"):"chat_font_size"===e?mp():"clock_offset"===e&&(iC(),yf())}function iC(){var e=Kk("clock_offset");Tu=e<48?-9e5*(48-e):9e5*(e-48)}function aC(e){var t;switch(e.keyCode){case Li:m_()?f_():g_()?v_():(Dk(),I_());break;case Ei:0<Kk(t=Ak[Ok])&&(Fk[t].defaultValue-=1,eC(Ok));break;case Si:Kk(t=Ak[Ok])<Zk(t)&&(Fk[t].defaultValue+=1,eC(Ok));break;case xi:0<Ok&&(Qk(),$k(--Ok));break;case Ii:Ok<Nk-1&&(Qk(),$k(++Ok))}}var oC=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),sC=0,dC=0,lC=!1,rC=0,cC=!1,uC=0,_C=5,fC=3500,mC=[],hC=0,pC=!1,vC=!1,gC="",yC=!1,bC=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function wC(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Fc,Vc.isLastSChannels=!1,Ju("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+Q)),document.body.addEventListener("keydown",GC,!1),gC!==Fa[Vc.Users_Position].name&&(vC=!1),vC?(R_(sC),ju(bC[6]),d_(dC,sC,hu,rC),TC(),P_()):CC()}function kC(){Vc.Users_Position=0,Ku("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",GC),$u("top_bar_user",u),Ju("label_side_panel","icon-ellipsis",Fn),Xu(bC[6])}function CC(){N_("stream_table_user_channels"),Xu(bC[6]),Qu(),u_(),gC=Fa[Vc.Users_Position].name,sC=dC=rC=hC=0,yC=lC=vC=!1,Lf=!0,s_(),mC=[],vf(function(){MC(),EC()})}function MC(){D_(),cC=!0,uC=0,fC=3500}function EC(){Vf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Fa[Vc.Users_Position].id)+"/follows/channels?limit=100&offset="+hC+"&sortby=created_at&",fC,2,null,SC,xC)}function xC(){++uC<_C?(fC+=500,EC()):(cC=!1,rC?(lC=!0,LC()):(Lf=!1,e_(),c_(T)))}function SC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel.name+","+t[a].channel._id+","+t[a].channel.logo+","+t[a].channel.display_name,-1===mC.indexOf(i)&&mC.push(i);hC+=n,MC(),EC()}else mC.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),IC()}function IC(){var e=mu,t=rC,n=mC.length-t;n<e&&(e=n),e<mu&&(lC=!0),pC=!(rC+=e);var i=e/hu;0<e%hu&&i++;for(var a,o,s,d=t,l=0;l<i;l++){for(o=t/hu+l,s=document.createElement("tr"),a=0;a<hu&&d<mC.length;a++,d++)s.appendChild(PC(o,o+"_"+a,mC[d].split(",")));for(;a<hu;a++)lC&&!yC&&(yC=!0,rC=o*hu+a),s.appendChild(J_(bC[5]+o+"_"+a));document.getElementById("stream_table_user_channels").appendChild(s)}LC()}function PC(e,t,n){return e<4&&V_(n[2]),X_(t,bC,n)}function LC(){vf(function(){vC?H_(Uu):(e_(),pC?c_(B+Q):(vC=!0,H_(Uu),TC(),P_()),ju(bC[6]),Lf=!1),cC=!1,d_(dC,sC,hu,rC)})}function TC(){of(sC,dC,bC,hu,rC),rC/hu<sC+pu&&!lC&&!cC&&(MC(),EC()),jc&&BC()}function BC(){rC&&mf(sC+"_"+dC,bC)}function GC(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(BC(),Bf(GC));break;case Ei:if(M_(sC,dC-1,bC[0]))BC(),dC--,TC();else for(t=hu-1;-1<t;t--)if(M_(sC-1,t,bC[0])){BC(),sC--,dC=t,TC();break}break;case Si:M_(sC,dC+1,bC[0])?(BC(),dC++,TC()):M_(sC+1,0,bC[0])&&(BC(),sC++,dC=0,TC());break;case xi:for(t=0;t<hu;t++)if(M_(sC-1,dC-t,bC[0])){BC(),sC--,dC-=t,TC();break}break;case Ii:for(t=0;t<hu;t++)if(M_(sC+1,dC-t,bC[0])){BC(),sC++,dC-=t,TC();break}break;case Ci:case ki:case Mi:case Pi:Vc.Main_selectedChannel=document.getElementById(bC[4]+sC+"_"+dC).getAttribute(Su),Vc.Main_selectedChannel_id=document.getElementById(bC[4]+sC+"_"+dC).getAttribute("data-id"),Vc.Main_selectedChannelDisplayname=document.getElementById(bC[3]+sC+"_"+dC).textContent,Vc.Main_selectedChannelLogo=document.getElementById(bC[1]+sC+"_"+dC).src,document.body.removeEventListener("keydown",GC),Vc.Main_BeforeChannel=Fc,Vc.Main_Go=Tc,Vc.Main_BeforeChannelisSet=!0,Hs=Di=!0,Xu(bC[6]),I_()}}var OC=0,FC=0,UC=!1,AC=0,NC={},HC=[],DC=!1,qC=0,RC=5,zC=3500,VC=0,JC=0,XC=!1,jC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],YC=!1,WC="",KC=!1;function ZC(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=xc,Ju("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+Z)),document.body.addEventListener("keydown",cM,!1),WC!==Fa[Vc.Users_Position].name&&(YC=!1),YC?(R_(OC),ju(jC[10]),d_(FC,OC,ru,AC),lM(),P_()):QC()}function $C(){Vc.Users_Position=0,Ku("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",cM),$u("top_bar_user",u),Ju("label_side_panel","icon-ellipsis",Fn),Xu(jC[10])}function QC(){N_("stream_table_user_host"),Xu(jC[10]),Qu(),u_(),WC=Fa[Vc.Users_Position].name,YC=!1,NC={},AC=JC=VC=0,OC=FC=0,UC=!(Lf=!(KC=!(HC=[]))),s_(),vf(function(){eM(),tM()})}function eM(){D_(),DC=!0,qC=0,zC=3500}function tM(){var e=AC+VC;e&&JC-1<e&&(e=JC-lu,UC=!0),Vf("https://api.twitch.tv/api/users/"+encodeURIComponent(Fa[Vc.Users_Position].name)+"/followed/hosting?limit="+lu+"&offset="+e,zC,2,null,iM,nM)}function nM(){++qC<RC?(zC+=500,tM()):(DC=!1,AC?(UC=!0,aM()):(Lf=!1,e_(),c_(T)))}function iM(e){var t=JSON.parse(e),n=t.hosts.length;JC=parseInt(t._total),n<lu&&(UC=!0);var i=AC;XC=!(AC+=n);var a=n/ru;0<n%ru&&a++;for(var o,s,d,l,r,c=0,u=0;u<a;u++){for(s=i/ru+u,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,NC[r]?o--:(NC[r]=1,d.appendChild(W_(s,s+"_"+o,[l.target.channel.name,l.target._id],jC,[l.target.preview_urls.template.replace("{width}x{height}",Mu),l.display_name+ie+l.target.channel.display_name,l.target.title,l.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+w_(l.target.viewers)+R,""])));for(;o<ru;o++)UC&&!KC&&(KC=!0,AC=s*ru+o),d.appendChild(J_(jC[9]+s+"_"+o)),HC.push(jC[9]+s+"_"+o);document.getElementById("stream_table_user_host").appendChild(d)}aM()}function aM(){vf(function(){if(YC){if(H_(Au),0<HC.length&&!UC)return eM(),void oM();d_(FC,OC,ru,AC),HC=[]}else e_(),XC?c_(B+Z):(YC=!0,lM(),H_(Au),P_()),ju(jC[10]),Lf=!1;DC=!1})}function oM(){r_(HC.length);var e=AC+VC;e&&JC-1<e&&(e=JC-vu,UC=!0),Vf("https://api.twitch.tv/api/users/"+encodeURIComponent(Fa[Vc.Users_Position].name)+"/followed/hosting?limit="+vu+"&offset="+e,zC,2,null,dM,sM)}function sM(){++qC<RC?(zC+=500,oM()):(UC=!0,AC-=HC.length,HC=[],aM())}function dM(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(JC=parseInt(i._total),a<vu&&(UC=!0);o<HC.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,NC[n]?o--:(NC[n]=1,K_(HC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Mu),t.display_name+ie+t.target.channel.display_name,t.target.title,t.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+w_(t.target.viewers)+R,""],jC),d.push(o));for(o=d.length-1;-1<o;o--)HC.splice(d[o],1);VC+=s,UC&&(AC-=HC.length,HC=[]),aM()}function lM(){sf(OC,FC,jC,ru,AC),AC/ru<OC+cu&&!UC&&!DC&&(eM(),tM()),jc&&rM()}function rM(){AC&&mf(OC+"_"+FC,jC)}function cM(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(rM(),Bf(cM));break;case Ei:if(M_(OC,FC-1,jC[0]))rM(),FC--,lM();else for(t=ru-1;-1<t;t--)if(M_(OC-1,t,jC[0])){rM(),OC--,FC=t,lM();break}break;case Si:M_(OC,FC+1,jC[0])?(rM(),FC++,lM()):M_(OC+1,0,jC[0])&&(rM(),OC++,FC=0,lM());break;case xi:for(t=0;t<ru;t++)if(M_(OC-1,FC-t,jC[0])){rM(),OC--,FC-=t,lM();break}break;case Ii:for(t=0;t<ru;t++)if(M_(OC+1,FC-t,jC[0])){rM(),OC++,FC-=t,lM();break}break;case Ci:case ki:case Mi:case Pi:lf(OC+"_"+FC,jC,cM)}}var uM=0,_M=0,fM=!1,mM=0,hM={},pM=[],vM=!1,gM=0,yM=5,bM=3500,wM=0,kM=0,CM=0,MM=!1,EM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],xM=!1,SM="",IM="",PM=!1;function LM(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Ec,Ju("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+K)),document.body.addEventListener("keydown",XM,!1),IM!==Fa[Vc.Users_Position].name&&(xM=!1),xM?(R_(uM),ju(EM[10]),d_(_M,uM,ru,mM),VM(),P_()):BM()}function TM(){Vc.Users_Position=0,Ku("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",XM),$u("top_bar_user",u),Ju("label_side_panel","icon-ellipsis",Fn),Xu(EM[10])}function BM(){N_("stream_table_user_live"),Xu(EM[10]),Qu(),u_(),xM=!1,IM=Fa[Vc.Users_Position].name,kM=wM=CM=0,hM={},uM=_M=mM=0,fM=!(Lf=!(PM=!(pM=[]))),SM="",s_(),vf(function(){GM(),OM()})}function GM(){D_(),vM=!0,gM=0,bM=3500}function OM(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Fa[Vc.Users_Position].id)+"/follows/channels?limit=100&offset="+CM+"&sortby=created_at";if(Bu){if(!(e=Android.mreadUrl(t,bM,2,null)))return void FM();200===(e=JSON.parse(e)).status?UM(e.responseText):FM()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=bM,e.setRequestHeader(bu,Cu),e.setRequestHeader(yu,gu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void UM(e.responseText);FM()}},e.send(null)}function FM(){++gM<yM?(bM+=500,OM()):(vM=!1,mM?(fM=!0,DM()):(Lf=!1,e_(),c_(T)))}function UM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===SM.indexOf(i)&&(SM+=i);CM+=n,GM(),OM()}else SM=SM.slice(0,-1),GM(),AM()}function AM(){var e=mM+wM;e&&kM-1<e&&(e=kM-lu,fM=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(SM)+"&limit="+lu+"&offset="+e+"&stream_type=all";if(Bu){if(!(t=Android.mreadUrl(n,bM,2,null)))return void NM();200===(t=JSON.parse(t)).status?HM(t.responseText):NM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=bM,t.setRequestHeader(bu,Cu),t.setRequestHeader(yu,gu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void HM(t.responseText);NM()}},t.send(null)}function NM(){++gM<yM?(bM+=500,AM()):(vM=!1,e_(),c_(T))}function HM(e){var t=JSON.parse(e),n=t.streams.length;kM=parseInt(t._total),n<lu&&(fM=!0);var i=mM;MM=!(mM+=n);var a=n/ru;0<n%ru&&a++;for(var o,s,d,l,r,c=0,u=0;u<a;u++){for(s=i/ru+u,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,hM[r]?o--:(hM[r]=1,d.appendChild(W_(s,s+"_"+o,[l.channel.name,r],EM,[l.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Yp(l.created_at)+b+", "+v+w_(l.viewers)+R,k_(l.video_height,l.average_fps,l.channel.language)])));for(;o<ru;o++)fM&&!PM&&(PM=!0,mM=s*ru+o),d.appendChild(J_(EM[9]+s+"_"+o)),pM.push(EM[9]+s+"_"+o);document.getElementById("stream_table_user_live").appendChild(d)}DM()}function DM(){vf(function(){if(xM){if(H_(Au),0<pM.length&&!fM)return GM(),void qM();d_(_M,uM,ru,mM),pM=[]}else e_(),MM?c_(B+K):(xM=!0,VM(),H_(Au),P_()),ju(EM[10]),Lf=!1;vM=!1})}function qM(){r_(pM.length);var e=mM+wM;e&&kM-1<e&&(e=kM-vu,fM=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(SM)+"&limit="+vu+"&offset="+e+"&stream_type=all";if(Bu){if(!(t=Android.mreadUrl(n,bM,2,null)))return void RM();200===(t=JSON.parse(t)).status?zM(t.responseText):RM()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=bM,t.setRequestHeader(bu,Cu),t.setRequestHeader(yu,gu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void zM(t.responseText);RM()}},t.send(null)}function RM(){++gM<yM?(bM+=500,qM()):(fM=!0,mM-=pM.length,pM=[],DM())}function zM(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(kM=parseInt(i._total),a<vu&&(fM=!0);o<pM.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,hM[n]?o--:(hM[n]=1,K_(pM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Mu),C_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Yp(t.created_at)+b+", "+v+w_(t.viewers)+R,k_(t.video_height,t.average_fps,t.channel.language)],EM),d.push(o));for(o=d.length-1;-1<o;o--)pM.splice(d[o],1);wM+=s,fM&&(mM-=pM.length,pM=[]),DM()}function VM(){sf(uM,_M,EM,ru,mM),mM/ru<uM+cu&&!fM&&!vM&&(GM(),OM()),jc&&JM()}function JM(){mM&&mf(uM+"_"+_M,EM)}function XM(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(JM(),Bf(XM));break;case Ei:if(M_(uM,_M-1,EM[0]))JM(),_M--,VM();else for(t=ru-1;-1<t;t--)if(M_(uM-1,t,EM[0])){JM(),uM--,_M=t,VM();break}break;case Si:M_(uM,_M+1,EM[0])?(JM(),_M++,VM()):M_(uM+1,0,EM[0])&&(JM(),uM++,_M=0,VM());break;case xi:for(t=0;t<ru;t++)if(M_(uM-1,_M-t,EM[0])){JM(),uM--,_M-=t,VM();break}break;case Ii:for(t=0;t<ru;t++)if(M_(uM+1,_M-t,EM[0])){JM(),uM++,_M-=t,VM();break}break;case Ci:case ki:case Mi:case Pi:lf(uM+"_"+_M,EM,XM)}}var jM=0,YM=0,WM=8,KM=0,ZM=null,$M=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],QM=!1,eE=!0;function tE(){return Wc?(nE(),void ji(Wc)):io()?(Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Oc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",u_(),Wu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",vE,!1),void(QM?(R_(jM),ju($M[5]),lE(),P_()):iE())):(Vc.Main_Go=wc,nE(),void I_())}function nE(){Vc.Users_Position=0,Ku("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",vE),Xu($M[5]),document.getElementById("screens_holder").style.top="0"}function iE(){N_("stream_table_user"),Xu($M[5]),Qu(),u_(),Lf=!(QM=!1),eE=!(jM=YM=0),vf(function(){aE()})}function aE(){for(var e,t,n,i=document.createElement("tbody"),a=0;a<Fa.length;a++)t=0,n=a%2?"B5B5B5":"FFFFFF",($c=document.createElement("tr")).className="follower_header",$c.innerHTML='<div class="follower_header">'+Fa[a].name+N+(a?"":se)+"</div>",document.getElementById("stream_table_user").appendChild(i),document.getElementById("stream_table_user").appendChild($c),(e=document.createElement("tr")).appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,Eb.isLive?$:zt,"gamepad",n)),t++,e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,a?e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,oe,"arrow-up",n)):e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(oE(a+"_"+t,Vc.Main_selectedChannelDisplayname,Fa[a].access_token?yt:gt,"key",n)),document.getElementById("stream_table_user").appendChild(e);sE()}function oE(e,t,n,i,a){return($c=document.createElement("td")).setAttribute("id",$M[4]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+$M[0]+e+'" class="stream_thumbnail_channel" ><div id="'+$M[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+$M[2]+e+'" class="stream_text"><div id="'+$M[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",$c}function sE(){vf(function(){QM||(e_(),QM=!0,lE(),P_()),ju($M[5]),eE=Lf=!1})}function dE(){for(var e=0;e<Fa.length;e++)$u($M[3]+e+"_2",Eb.isLive?$:zt)}function lE(){Wu($M[0]+jM+"_"+YM,"stream_thumbnail_focused"),z_(jM)?1<jM?M_(jM+1,0,$M[0])&&ff($M[5],-1*document.getElementById($M[4]+jM+"_"+YM).offsetTop+500):ff($M[5],screen.height/100*7):ef(),jc&&rE()}function rE(){Xc=!1,Ku($M[0]+jM+"_"+YM,"stream_thumbnail_focused")}function cE(){return Vc.Users_Position=jM,3!==YM||Fa[Vc.Users_Position].access_token?7===YM&&Fa[Vc.Users_Position].access_token?(c_(yt),void window.setTimeout(u_,1500)):(6!==YM&&7!==YM&&(Xu($M[5]),document.body.removeEventListener("keydown",vE),document.getElementById("screens_holder").style.top="0"),void vf(function(){YM?1===YM?ZC():2===YM?(Zy=Eb,nb()):3===YM?NE():4===YM?wC():5===YM?jM?to(jM):(Vc.Main_Before=Oc,Ha()):6===YM?fE():7!==YM||Fa[Vc.Users_Position].access_token||fE():LM()})):(c_(En),void window.setTimeout(u_,5e3))}function uE(){window.clearTimeout(ZM)}function _E(){ZM=window.setTimeout(mE,2e4)}function fE(){_E(),6===YM?Zu("main_dialog_remove",qt+ni+Fa[Vc.Users_Position].name+"?"):7===YM&&Zu("main_dialog_remove",ut+" "+Fa[Vc.Users_Position].name+"?"),ju("main_remove_dialog")}function mE(){uE(),Xu("main_remove_dialog"),KM=0,pE()}function hE(){return Yu("main_remove_dialog")}function pE(){KM?(Ku("remove_cancel","button_search_focused"),Wu("remove_yes","button_search_focused")):(Wu("remove_cancel","button_search_focused"),Ku("remove_yes","button_search_focused"))}function vE(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:hE()?mE():m_()?f_():g_()?v_():(rE(),Bf(vE));break;case Ei:if(hE())--KM<0&&(KM=1),pE(),uE(),_E();else if(M_(jM,YM-1,$M[0]))rE(),YM--,lE();else if(M_(jM-1,0,$M[0])){for(t=WM-1;-1<t;t--)if(M_(jM-1,t,$M[0])){rE(),jM--,YM=t,lE();break}}else rE(),YM=WM-1,lE();break;case Si:hE()?(1<++KM&&(KM=0),pE(),uE(),_E()):(M_(jM,YM+1,$M[0])?(rE(),YM++):(M_(jM+1,0,$M[0])?(rE(),jM++):rE(),YM=0),lE());break;case xi:for(t=0;t<WM;t++)if(M_(jM-1,YM-t,$M[0])){rE(),jM--,YM-=t,lE();break}break;case Ii:for(t=0;t<WM;t++)if(M_(jM+1,YM-t,$M[0])){rE(),jM++,YM-=t,lE();break}break;case Ci:case ki:case Mi:case Pi:var n;if(hE()){if(6===YM)n=KM,mE(),n&&(document.body.removeEventListener("keydown",vE),nE(),Qa(jM));else if(n=KM,mE(),n){Vc.Users_AddcodePosition=Vc.Users_Position,P_();var i=Vi,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(gu)+"&redirect_uri="+i+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else cE()}}var gE=0,yE=0,bE=!1,wE=0,kE={},CE=[],ME=!1,EE=0,xE=5,SE=3500,IE=0,PE=0,LE=!1,TE=!1,BE="time",GE=2,OE=!1,FE=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],UE=!1,AE=!1;function NE(){Vc.Main_CenterLablesVectorPos=1,Vc.Main_Go=Rc,Wu("top_bar_user","icon_center_focus"),Ju("label_side_panel","icon-arrow-circle-left",I),Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+(AE?U:F))),document.body.addEventListener("keydown",nx,!1),UE?(R_(gE),ju(FE[10]),d_(yE,gE,ru,wE),ix(),$E(),P_()):DE()}function HE(){Vc.Users_Position=0,UE&&QE(),Ku("top_bar_user","icon_center_focus"),Ju("label_side_panel","icon-ellipsis",Fn),document.body.removeEventListener("keydown",nx),$u("top_bar_user",u),Xu(FE[10])}function DE(){UE&&QE(),N_("stream_table_user_vod"),Xu(FE[10]),Qu(),ix(),u_(),OE=UE=!1,PE=IE=0,kE={},gE=yE=wE=0,bE=!(Lf=!(TE=!(CE=[]))),vf(function(){s_(),RE()})}function qE(){D_(),ME=!0,EE=0,SE=3500}function RE(){qE(),zE()}function zE(){var e=wE+IE;e&&PE-1<e&&(e=PE-lu,bE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+lu+"&broadcast_type="+(AE?"highlight":"archive")+"&sort="+BE+"&offset="+e;if(Bu){if(!(t=Android.mreadUrl(n,SE,3,ku+Fa[Vc.Users_Position].access_token)))return void VE();if(200===(t=JSON.parse(t)).status)return void XE(t.responseText);401===t.status||403===t.status?Yi(Vc.Users_Position,0,RE,JE):VE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=SE,t.setRequestHeader(bu,Cu),t.setRequestHeader(yu,gu),t.setRequestHeader(wu,ku+Fa[Vc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void XE(t.responseText);401===t.status||403===t.status?Yi(Vc.Users_Position,0,RE,JE):VE()}},t.send(null)}function VE(){++EE<xE?(SE+=500,zE()):JE()}function JE(){ME=!1,wE?(bE=!0,jE()):(Lf=!1,e_(),c_(T))}function XE(e){var t=JSON.parse(e),n=t.videos.length;PE=parseInt(t._total),n<lu&&(bE=!0);var i=wE;LE=!(wE+=n);var a=n/ru;0<n%ru&&a++;var o,s,d,l,r,c=0;if(!OE){var u;for(OE=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+vi+vi+xn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+vi+vi+h,($c=document.createElement("td")).setAttribute("id",FE[8]+"y_"+_),$c.className="stream_cell",$c.innerHTML='<div id="'+FE[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+FE[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild($c);document.getElementById("stream_table_user_vod").appendChild(d)}for(var _=0;_<a;_++){for(s=i/ru+_,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||kE[r]?o--:(kE[r]=1,d.appendChild(Ox(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Mu),l.channel.display_name,H+F_(l.created_at),oC.parse(l.title)+ni+Yt+p+l.game,w_(l.views)+q,k_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Xp(l.length),l.animated_preview_url],FE)));for(;o<ru;o++)bE&&!TE&&(TE=!0,wE=s*ru+o),d.appendChild(J_(FE[9]+s+"_"+o)),CE.push(FE[9]+s+"_"+o);document.getElementById("stream_table_user_vod").appendChild(d)}jE()}function jE(){vf(function(){UE?H_(Au):(e_(),LE?c_(B+(AE?U:F)+G+S):(UE=!0,$E(),H_(Au),P_()),ju(FE[10]),Lf=!1),0<CE.length&&!bE?YE():(d_(yE,gE,ru,wE),ME=!(CE=[]))})}function YE(){qE(),WE()}function WE(){r_(CE.length);var e=wE+IE;e&&PE-1<e&&(e=PE-vu,bE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+vu+"&broadcast_type="+(AE?"highlight":"archive")+"&sort="+BE+"&offset="+e;if(Bu){if(!(t=Android.mreadUrl(n,SE,3,ku+Fa[Vc.Users_Position].access_token)))return void KE();if(200===(t=JSON.parse(t)).status)return void ZE(t.responseText);401===t.status||403===t.status?Yi(Vc.Users_Position,0,RE,JE):KE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=SE,t.setRequestHeader(bu,Cu),t.setRequestHeader(yu,gu),t.setRequestHeader(wu,ku+Fa[Vc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void ZE(t.responseText);401===t.status||403===t.status?Yi(Vc.Users_Position,0,RE,JE):KE()}},t.send(null)}function KE(){++EE<xE?(SE+=500,WE()):(bE=!0,wE-=CE.length,CE=[],jE())}function ZE(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(PE=parseInt(i._total);o<CE.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||kE[n]?o--:(kE[n]=1,Ux(CE[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Mu),t.channel.display_name,H+F_(t.created_at),oC.parse(t.title)+ni+Yt+p+t.game,w_(t.views)+q,k_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Xp(t.length),t.animated_preview_url],FE),d.push(o));for(o=d.length-1;-1<o;o--)CE.splice(d[o],1);IE+=s,bE&&(wE-=CE.length,CE=[]),jE()}function $E(){gE<0?ex():(sf(gE,yE,FE,ru,wE),Xx(FE,gE+"_"+yE),wE/ru<gE+cu&&!bE&&!ME&&RE(),jc&&QE())}function QE(){window.clearInterval(ax),-1<gE&&wE?(ju(FE[1]+gE+"_"+yE),mf(gE+"_"+yE,FE)):tx()}function ex(){var e=1<yE?1:yE;Wu(FE[0]+"y_"+e,xu)}function tx(){var e=1<yE?1:yE;Ku(FE[0]+"y_"+e,xu)}function nx(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:m_()?f_():m_()?f_():g_()?v_():(QE(),Bf(nx));break;case Ei:if(-1===gE)tx(),--yE<0&&(yE=1),ex();else if(gE||yE){if(M_(gE,yE-1,FE[0]))QE(),yE--,$E();else for(t=ru-1;-1<t;t--)if(M_(gE-1,t,FE[0])){QE(),gE--,yE=t,$E();break}}else QE(),tx(),gE=-1,yE=1,ex();break;case Si:-1===gE?(tx(),1<++yE?(yE=0,LE?ex():(gE=0,$E())):ex()):M_(gE,yE+1,FE[0])?(QE(),yE++,$E()):M_(gE+1,0,FE[0])&&(QE(),gE++,yE=0,$E());break;case xi:if(-1!==gE||LE)if(gE){for(t=0;t<ru;t++)if(M_(gE-1,yE-t,FE[0])){QE(),gE--,yE-=t,$E();break}}else QE(),gE=-1,ex();else gE=0,tx(),$E();break;case Ii:if(-1!==gE||LE){for(t=0;t<ru;t++)if(M_(gE+1,yE-t,FE[0])){QE(),gE++,yE-=t,$E();break}}else gE=0,tx(),$E();break;case Ci:case ki:case Mi:case Pi:-1===gE?(0===yE?Nf("UserVod_highlight",(AE=!AE)?"true":"false"):1===GE?GE++:GE--,DE()):uf(gE+"_"+yE,FE,nx)}}function ix(){1===GE?(Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+" "+(AE?U:F)+Cn)),BE="time"):2===GE&&(Zu("top_bar_user",u+O_(Fa[Vc.Users_Position].name+" "+(AE?U:F)+Mn)),BE="views"),Nf("UserVod_TypeNumber",GE)}var ax,ox=0,sx=0,dx=!1,lx=0,rx={},cx=[],ux=!1,_x=0,fx=5,mx=3500,hx=0,px=0,vx=!1,gx=!1,yx="week",bx=2,wx=!1,kx=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],Cx=!1,Mx=!1,Ex=1,xx=new Image;function Sx(){Vc.Main_CenterLablesVectorPos=4,Vc.Main_Go=Ac,Wu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",jx,!1),Cx?(R_(ox),ju(kx[10]),d_(sx,ox,ru,lx),Yx(),Rx(),P_()):Px()}function Ix(){Cx&&zx(),B_(),document.body.removeEventListener("keydown",jx),Ku("top_bar_vod","icon_center_focus"),$u("top_bar_vod",Kt),Xu(kx[10])}function Px(){Cx&&zx(),N_("stream_table_vod"),Xu(kx[10]),Qu(),Yx(),u_(),wx=Cx=!1,px=hx=0,rx={},ox=sx=lx=0,dx=!(Lf=!(gx=!(cx=[]))),s_(),vf(function(){Lx(),Tx()})}function Lx(){D_(),ux=!0,_x=0,mx=3500}function Tx(){var e=lx+hx;e&&px-1<e&&(e=px-lu,dx=!0),Vf("https://api.twitch.tv/kraken/videos/top?limit="+lu+"&broadcast_type="+(Mx?"highlight":"archive")+"&sort=views&offset="+e+"&period="+yx+(""!==eu?"&language="+eu:""),mx,2,null,Gx,Bx)}function Bx(){++_x<fx?(mx+=500,Tx()):(ux=!1,lx?(dx=!0,Nx()):(Lf=!1,e_(),c_(T)))}function Gx(e){var t=JSON.parse(e),n=t.vods.length;px=parseInt(t._total),n<lu&&(dx=!0);var i=lx;vx=!(lx+=n);var a=n/ru;0<n%ru&&a++;var o,s,d,l,r,c=0;if(!wx){var u;for(wx=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+vi+vi+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+vi+vi+h,($c=document.createElement("td")).setAttribute("id",kx[8]+"y_"+_),$c.className="stream_cell",$c.innerHTML='<div id="'+kx[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+kx[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild($c);document.getElementById("stream_table_vod").appendChild(d)}for(var _=0;_<a;_++){for(s=i/ru+_,d=document.createElement("tr"),o=0;o<ru&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||rx[r]?o--:(rx[r]=1,d.appendChild(Ox(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Mu),l.channel.display_name,H+F_(l.created_at),oC.parse(l.title)+ni+Yt+p+l.game,w_(l.views)+q,k_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Xp(l.length),l.animated_preview_url],kx)));for(;o<ru;o++)dx&&!gx&&(gx=!0,lx=s*ru+o),d.appendChild(J_(kx[9]+s+"_"+o)),cx.push(kx[9]+s+"_"+o);document.getElementById("stream_table_vod").appendChild(d)}Nx()}function Ox(e,t,n,i,a){return e<ru&&V_(i[0]),Fx(n,t,i,a)}function Fx(e,t,n,i){return($c=document.createElement("td")).setAttribute("id",i[8]+t),$c.setAttribute(Su,JSON.stringify(e)),$c.className="stream_cell",$c.innerHTML=Ax(t,n,i),$c}function Ux(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(Su,JSON.stringify(t)),a.innerHTML=Ax(o,n,i),a.setAttribute("id",i[8]+o)}function Ax(e,t,n){return q_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function Nx(){vf(function(){if(Cx?H_(Au):(e_(),vx?c_(B+(Mx?U:F)+G+S):(Cx=!0,Rx(),H_(Au),P_()),ju(kx[10]),Lf=!1),0<cx.length&&!dx)return Lx(),void Hx();d_(sx,ox,ru,lx),ux=!(cx=[])})}function Hx(){r_(cx.length);var e=lx+hx;e&&px-1<e&&(e=px-vu,dx=!0),Vf("https://api.twitch.tv/kraken/videos/top?limit="+vu+"&broadcast_type="+(Mx?"highlight":"archive")+"&sort=views&offset="+e+"&period="+yx+(""!==eu?"&language="+eu:""),mx,2,null,qx,Dx)}function Dx(){++_x<fx?(mx+=500,Hx()):(dx=!0,lx-=cx.length,cx=[],Nx())}function qx(e){var t,n,i=JSON.parse(e),a=i.vods.length,o=0,s=0,d=[];for(px=parseInt(i._total);o<cx.length&&s<a;o++,s++)n=(t=i.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||rx[n]?o--:(rx[n]=1,Ux(cx[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Mu),t.channel.display_name,H+F_(t.created_at),oC.parse(t.title)+ni+Yt+p+t.game,w_(t.views)+q,k_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Xp(t.length),t.animated_preview_url],kx),d.push(o));for(o=d.length-1;-1<o;o--)cx.splice(d[o],1);hx+=s,dx&&(lx-=cx.length,cx=[]),Nx()}function Rx(){ox<0?Vx():(sf(ox,sx,kx,ru,lx),Xx(kx,ox+"_"+sx),lx/ru<ox+cu&&!dx&&!ux&&(Lx(),Tx()),jc&&zx())}function zx(){window.clearInterval(ax),-1<ox&&lx?(ju(kx[1]+ox+"_"+sx),mf(ox+"_"+sx,kx)):Jx()}function Vx(){var e=1<sx?1:sx;Wu(kx[0]+"y_"+e,xu)}function Jx(){var e=1<sx?1:sx;Ku(kx[0]+"y_"+e,xu)}function Xx(t,n){if(Ex){var i=document.getElementById(t[0]+n);xx.onload=function(){Xu(t[1]+n),i.style.backgroundSize="612px";var e=0;ax=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},xx.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function jx(e){var t;if(!Lf&&!af())switch(nf(),e.keyCode){case Li:g_()?v_():m_()?f_():(zx(),Bf(jx));break;case Ei:if(-1===ox)Jx(),--sx<0&&(sx=1),Vx();else if(ox||sx){if(M_(ox,sx-1,kx[0]))zx(),sx--,Rx();else for(t=ru-1;-1<t;t--)if(M_(ox-1,t,kx[0])){zx(),ox--,sx=t,Rx();break}}else zx(),Jx(),ox=-1,sx=1,Vx();break;case Si:-1===ox?(Jx(),1<++sx?(sx=0,vx?Vx():(ox=0,Rx())):Vx()):M_(ox,sx+1,kx[0])?(zx(),sx++,Rx()):M_(ox+1,0,kx[0])&&(zx(),ox++,sx=0,Rx());break;case xi:if(-1!==ox||vx)if(ox){for(t=0;t<ru;t++)if(M_(ox-1,sx-t,kx[0])){zx(),ox--,sx-=t,Rx();break}}else zx(),ox=-1,Vx();else ox=0,Jx(),Rx();break;case Ii:if(-1!==ox||vx){for(t=0;t<ru;t++)if(M_(ox+1,sx-t,kx[0])){zx(),ox++,sx-=t,Rx();break}}else ox=0,Jx(),Rx();break;case Ci:case ki:case Mi:case Pi:-1===ox?(0===sx?Nf("Vod_highlight",(Mx=!Mx)?"true":"false"):4<++bx&&(bx=1),Px()):uf(ox+"_"+sx,kx,jx)}}function Yx(){1===bx?(Zu("top_bar_vod",Kt+O_((Mx?U:F)+le)),yx="day"):2===bx?(Zu("top_bar_vod",Kt+O_((Mx?U:F)+re)),yx="week"):3===bx?(Zu("top_bar_vod",Kt+O_((Mx?U:F)+ce)),yx="month"):4===bx&&(Zu("top_bar_vod",Kt+O_((Mx?U:F)+ue)),yx="all"),Nf("vod_periodNumber",bx)}