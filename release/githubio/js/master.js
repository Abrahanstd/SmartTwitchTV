var t,n,a,e,i,s,o,d,l,r,h,f,c,u,_,m,p,v,g,y,b,w,k,M,C,E,S,x,I,P,G,L,T,B,O,F,H,U,A,N,D,q,R,z,V,J,X,j,Y,W,K,Z,$,Q,ee,te,ne,ae,ie,se,oe,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Me,Ce,Ee,Se,xe,Ie,Pe,Ge,Le,Te,Be,Oe,Fe,He,Ue,Ae,Ne,De,qe,Re,ze,Ve,Je,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,at,it,st,ot,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Mt,Ct,Et,St,xt,It,Pt,Gt,Lt,Tt,Bt,Ot,Ft,Ht,Ut,At,Nt,Dt,qt,Rt,zt,Vt,Jt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,sn,on,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Mn,Cn,En,Sn,xn,In,Pn,Gn,Ln,Tn,Bn,On,Fn,Hn,Un,An,Nn,Dn,qn,Rn,zn,Vn,Jn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ea='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_side_panel" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label hide"></div><div id="label_extra" class="icon_top_label hide"></div></div><div id="top_lables" style="text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="side_panel" class="side_panel side_panel_hide" style="margin-left:-23.5%;"><div id="side_panel_0" class="side_panel_text side_panel_text_focus" style="margin-top:10px;"><div class="side_panel_icons"><i class="icon icon-search"></i></div>&nbsp;<spam id="side_panel_search"></spam></div><div id="side_panel_1" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-settings"></i></div>&nbsp;<spam id="side_panel_settings"></spam></div><div id="side_panel_2" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-info-circle"></i></div>&nbsp;<spam id="side_panel_about"></spam></div><div id="side_panel_3" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-question-circle"></i></div>&nbsp;<spam id="side_panel_controls"></spam></div><div id="side_panel_4" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-exit"></i></div>&nbsp;<spam id="side_panel_exit"></spam></div><div id="side_panel_5" class="side_panel_text" style="margin-top:50px;"><div class="side_panel_icons"><i class="icon icon-play"></i></div>&nbsp;<spam id="side_panel_live"></spam></div><div id="side_panel_6" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-users"></i></div>&nbsp;<spam id="side_panel_user"></spam></div><div id="side_panel_7" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-star"></i></div>&nbsp;<spam id="side_panel_featured"></spam></div><div id="side_panel_8" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-gamepad"></i></div>&nbsp;<spam id="side_panel_games"></spam></div><div id="side_panel_9" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie-play"></i></div>&nbsp;<spam id="side_panel_videos"></spam></div><div id="side_panel_10" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie"></i></div><spam id="side_panel_clips"></spam></div><div class="side_panel_return"><div class="side_panel_icons"><i class="icon icon-arrow-circle-left"></i></div>&nbsp;<spam id="side_panel_hide"></spam></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="about_dialogs hide" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="user_channels_scroll" class="screen_holder hide"><table id="stream_table_user_channels" class="streams_tables"></table></div><div id="search_channel_scroll" class="screen_holder hide"><table id="stream_table_search_channel" class="streams_tables"></table></div><div id="channel_content_scroll" class="screen_holder hide"><table id="stream_table_channel_content" class="streams_tables"></table></div><div id="Clip_scroll" class="screen_holder hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder hide"><table id="stream_table_user" class="streams_tables"></table></div><div id="settings_scroll" class="screen_holder_settings hide"><div id="settings_main" class="settings_main"></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_div"></div></div><div id="search_games_scroll" class="screen_holder_games hide"><table id="stream_table_search_game" class="streams_tables"></table></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="strokedextramini" style="font-size:100%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="live_scroll" class="screen_holder hide"><table id="stream_table_live" class="streams_tables"></table></div><div id="featured_scroll" class="screen_holder hide"><table id="stream_table_featured" class="streams_tables"></table></div><div id="user_host_scroll" class="screen_holder hide"><table id="stream_table_user_host" class="streams_tables"></table></div><div id="user_live_scroll" class="screen_holder hide"><table id="stream_table_user_live" class="streams_tables"></table></div><div id="a_games_scroll" class="screen_holder hide"><table id="stream_table_a_game" class="streams_tables"></table></div><div id="search_live_scroll" class="screen_holder hide"><table id="stream_table_search_live" class="streams_tables"></table></div><div id="vod_scroll" class="screen_holder hide"><table id="stream_table_vod" class="streams_tables"></table></div><div id="a_games_vod_scroll" class="screen_holder hide"><table id="stream_table_a_game_vod" class="streams_tables"></table></div><div id="channel_vod_scroll" class="screen_holder hide"><table id="stream_table_channel_vod" class="streams_tables"></table></div><div id="user_vod_scroll" class="screen_holder hide"><table id="stream_table_user_vod" class="streams_tables"></table></div></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><iframe id="chat_frame" class="hide" width="100%" height="100%" frameborder="0" scrolling="no" style="position:absolute;overflow:hidden;" src="about:blank"></iframe><div id="chat_box" class="hide"></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedbig" style="display:inline-block;font-size:225%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo"><div id="stream_clock"></div><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/404_logo.png"><div class="playmaininfo"><div id="stream_info_name" style="font-size:160%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div id="scene_channel_panel_bottom" style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_pannel_5" class="playbotton" style="z-order:6;width:11%;"><div id="ic_search" style="font-size:140%;transform:translate(0, 5%);vertical-align:middle;display:inline-block;"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_4" class="playbotton" style="z-order:5;width:18%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block;"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_3" class="playbotton" style="z-order:5;width:17%;"><div id="game_icon" style="vertical-align:middle;display:inline-block;overflow:hidden;max-height:43px;"><div style="display:flex;font-size:185%;transform:translate(0,3%);"><i class="icon-gamepad strokicon"></i></div></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_2" class="playbotton" style="z-order:3;width:14%;"><div id="fallow_heart" style="font-size:75%;transform:translate(0, 10%);vertical-align:middle;display:inline-block;"><i class="icon-heart-o strokicon" style="color:#FFFFFF;font-size:210%;"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_1" class="playbotton playbotton_focus" style="z-order:2;width:30%;"><div id="quality_video" style="vertical-align:middle;display:inline-block;font-size:185%;transform:translate(0, 7%);"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="display:inline-block;font-size:50%;transform:translate(0,20%);">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:87.5%;font-weight:bold;width:77%;"></div></div><div id="scene2_pannel_0" class="playbotton" style="z-order:4;width:17%;margin-right:0;display:none;"><div id="open_vod_icon" style="vertical-align:middle;display:inline-block;font-size:175%;transform:translate(0, 7%);"><i class="icon-play strokicon"></i></div>&nbsp;<div id="open_vod_text" class="strokedextramini playbottontext" style="font-size:77.5%;"></div></div></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedextramini" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedextramini"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedextramini"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedextramini" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_button" class="pause_button"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:180%;"></i></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedbig" style="font-size:165%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:250%;"></i><div id="dialog_vod_saved_text" class="strokedbig"></div></div><div id="dialog_vod_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_vod_start_text" class="strokedbig"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:0.5%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:500%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:250%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:17%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:250%;"></div></div></div></div>',ta="fglfgl27@gmail.com",na="<br>",aa='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ia='<div class="about_text_title">',sa='<div class="about_text_title" style="text-align: left;">',oa='<div style="text-align: left;">',da="",la="",ra="",ca="",ua="",_a="",fa="",ma="",ha="",pa="",va="&nbsp;",ga="",ya='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va;function ba(){da=e+" (C)",la=n+" (D)",ca=a+" (A)",ra=i+" (A)",l+=Wt,r+=Wt,ua=ia+e+"</div>"+ia+Ee+"</div>"+na+oa+aa+Ge+na+aa+(Le+=Fn)+na+aa+Te+na+aa+Be+na+Oe+na+aa+Fe+na+va+va+va+He+na+aa+Ue+na+"</div>"+na+(ma=ia+Me+"</div>"+oa+aa+We+na+aa+Ke+na+"</div>"+oa+aa+Ze+na+aa+$e+na+aa+Qe+na+na+ia+Ce+"</div>"+oa+aa+et+na+aa+tt+na+aa+nt+na+aa+at+na+aa+it)+na+na+ia+ke+"</div>",_a=ia+ya+we+"</div></div>",fa=oa+na+Ae+na+(Fc?"":na+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Yn+"</div>")+"</div>"+na+ia+Ne+"</div>"+ta+na+na+De+na+qe+na+na+sa+Re+"</div>"+oa+aa+ze+na+aa+Ve+na+aa+Je+na+aa+Xe+na+aa+je+na+aa+Ye+na+ia+ke+"</div></div>",ha=ia+Se+"</div>"+lt+na,ga=na+ia+rt+"</div>"+oa+aa+ct+na+na+ia+ga+"</div>"+na+na+ke+"</div>",pa=_t+na+aa+ft.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+na+aa+mt+na+aa+ht+na+aa+pt+na+aa+vt}function wa(){vu=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",s="Hide",o="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",h="Switch: Past Broadcast or Highlight",f="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",m="Games",p="Playing ",v=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",M="Type your authentication key...",C="Type your user name...",E="Press Enter or Select key to, ",S="Channels",x="Channel",I="Back to previously screen: Back key twice",P=" has ended",G="This video is only available to subscribers.",L="Connection failed, unable to load content hit refresh to try again",T="No",B=" for this ",O="Connection failed, unable to load video content exiting...",F=" Past Broadcast",H=" Highlight",U=" Clips",A=" Content",N="Streamed on ",D="Duration ",q=" Views",R=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",J="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ae=" hosting ",ie=" already set",se="Make First",oe=" (First user can fallow streamears outside User screen when providing a key)",de="Add a Twitch user to display it's Followed Channels content here",le=" (24h)",re=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Me="Player Related:",Ce="Chat Related:",Ee="General Related:",Se="Update",xe="Current installed version ",Ie=" latest available version ",Pe="This are the none players related controls, the player can show it's own controls.",Ge="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Le="Refresh screen content: ",Te="Exit the application: from side pannel click exit",Be=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Fe="Start a search: from side pannel click search",He="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Ae="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Yn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",qe="github.com/fgl27/SmartTwitchTV",Re="This application uses following dependencies:",ze="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Ve="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",Je="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Show information panel: Press enter key or D-pad keys if chat is not showing",Ke="Close the video: press back key twice",Ze="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",$e="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",Qe="Force refresh a video (in case it freezes): Change video quality to the same",et="Show or hide the Chat : D-pad right",tt="Change Chat position : D-pad left",nt="Change Chat size : D-pad up",at="Change Chat background brightness: D-pad down",it="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",st='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ot="Chat and video (Side by side): Color button red (A)",$n="Force disable the chat",Qn="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",dt="There is a update available, check it in the app github releases ",ga="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",lt="A update is available, and the app can't self update this version ",rt="Major changes:",ct="Improves how the app runs in the background",ut='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',_t=" below, fallowing this steps:",ft="Access the site link_link (using a computer or a smart phone)",mt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',ht="Login to Twitch.TV using the user name you are trying to add a key for",pt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",vt="The web page will update and show a key code, the key only has lower case letters and nubers.",gt=" Add Authentication key",yt="Key added OK",bt="Key test fail, it's needed to add new one",wt="Key test return OK",kt="You try to add a key for user ",Mt=" but this key is for user ",Ct=" Following",Et=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",It=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Pt="Fail authentication check with the provider key, please check and try again",Bn="The added key doesn't belong to the user ",Gt="No user",Lt="Set a user and a authentication key to be able to fallow/unfollow",Tt="Restart the",Bt=" Clip",Ot="Channel content",Ft="Network is disconnect, the application can't work without INTERNET",Ht="Network connection reestablished",Ut=" Followers",At=", Can't fallow or unfallow ",Nt="Game content",Dt="Yes",qt="Are you sure you want to remove the user ",Rt="Press Up to ",zt="Followed Games",Vt="Change between",Jt=" Back key then Enter",Xt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],jt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yt="Started ",Wt=" (PG Up/Down)",Kt="Videos",Zt=" Video",$t="Replay",Qt="exiting in ",en='press "Return" to exit',tn="Featured",nn="Created at ",an="Open the Broadcast",sn="No Broadcast",on="There is no Past Broadcast for this clip",dn="And because of that no chat",ln=" is now",rn="Open the Hosting",cn="Player related",un="Buffer size:",_n="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",fn="Live streams buffer",mn="Videos (Past Broadcast and Highlight) buffer",hn="Clips buffer",pn="General related",vn="Language",gn="Chat: Connecting to chat history server.."+na+"Chat: Connected."+na+"Chat: Joined channel ",yn="Play from the start or from where you stop watching last time?",wn=(bn="From:"+na)+"Start",kn="Chat: The Chat has ended!",Mn=": Most recent",Cn=": Most views",En="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",In="Disable",Rn="The app was closed willing playing, restoring playback",Pn="Restore playback",Gn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Ln="Chat font size",Tn="Change the chat lines font size, applies to text and emotes",On="Videos animated thumbnails",Fn="Side panel: Back key twice",Hn="Size ",Un="Brightness ",An="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Nn="Jump step ",Dn=" seconds",qn=" minutes",zn="Clock offset",Vn="Application language",Jn="Content language",Xn="All",jn="Empty game fro this",Wn="Isn't possible to jump during a buffering",Kn="Chat is disabled, enable in side pannel settings",Zn="This clip/video fail to load can't replay"}var ka=33,Ma=34,Ca=50,Ea=51,Sa=52,xa=179,Ia=457,Pa=37,Ga=38,La=39,Ta=40,Ba=13,Oa=65,Fa=66,Ha=67,Ua=68,Aa=49,Na=8,Da=13,qa=32,Ra=46,za=0,Va=5,Ja=1e4,Xa=0,ja=!1,Ya=!1,Wa=!1,Ka=!1,Za=!1,$a="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ei="elsu5d09k0xomu7cggx3qg5ybdwu7g",ti="https://id.twitch.tv/oauth2/token?";function ni(){ja=!1,lu.Main_Go=eu,f_("top_bar_user","icon_center_focus"),P_(),Gc.placeholder=M,u_("oauth_scroll"),h_("oauth_text",ut+Zi[lu.Users_Position].name+pa),si()}function ai(){oi(!1),document.body.removeEventListener("keydown",ii),m_("top_bar_user","icon_center_focus"),c_("oauth_scroll")}function ii(e){if(!ja&&!Ya)switch(e.keyCode){case Aa:H_()?F_():T_()?L_():(lu.Main_Go=Zc,ai(),X_());break;case ka:lu.Main_Go=Dc,ai(),X_();break;case Ma:lu.Main_Go=Ac,ai(),X_();break;case Sa:case Ea:case xa:case Ba:si();break;case Oa:zf(ii);break;case Fa:ai(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,ai(),X_()}}function si(){document.body.removeEventListener("keydown",ii),document.body.addEventListener("keydown",li,!1),Gc.placeholder=M,Gc.focus(),Ya=!0}function oi(e){Gc.blur(),di(),document.body.removeEventListener("keydown",li),Gc.placeholder=E+M,e&&document.body.addEventListener("keydown",ii,!1),Ya=!1}function di(){if(null!==Gc){var e=Gc.cloneNode(!0);Gc.parentNode.replaceChild(e,Gc),Gc=document.getElementById("oauth_input")}}function li(e){if(!ja)switch(e.keyCode){case Aa:T_()?L_():H_()?F_():(lu.Main_Go=Zc,ai(),X_());break;case Ra:Gc.value="",e.preventDefault();break;case Da:case Ta:""!==Gc.value&&null!==Gc.value&&(Xa=Gc.value,Li(),c_("oauth_scroll"),v_(),_i()),oi(!0);break;case Na:Gc.value=Gc.value.slice(0,-1),e.preventDefault();break;case qa:Gc.value+=" ",e.preventDefault()}}function ri(e,t,n,a){var i=new XMLHttpRequest,s=ti+"grant_type=refresh_token&client_id="+encodeURIComponent(Hu)+"&client_secret="+encodeURIComponent(ei)+"&refresh_token="+encodeURIComponent(Zi[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",s,!0),i.timeout=Ja,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?ui(i.responseText,e,n):ci(e,t,n,a))},i.send(null)}function ci(e,t,n,a){++t<10?ri(e,t,n):a&&a()}function ui(e,t,n){var a=JSON.parse(e);Zi[t].access_token=a.access_token,Zi[t].refresh_token=a.refresh_token,ps(),n&&n()}function _i(){var e=new XMLHttpRequest,t=ti+"grant_type=authorization_code&client_id="+encodeURIComponent(Hu)+"&client_secret="+encodeURIComponent(ei)+"&code="+encodeURIComponent(Xa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ja,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?hi(e.responseText):fi())},e.send(null)}function fi(){++za<Va?_i():mi()}function mi(){g_(),I_(Pt),window.setTimeout(function(){P_(),fu=0,j_(),lu.Main_Go=Zc,window.location=Qa},4e3),Zi[lu.Users_Position].access_token=0,Zi[lu.Users_Position].refresh_token=0}function hi(e){var t=JSON.parse(e);Zi[lu.Users_Position].access_token=t.access_token,Zi[lu.Users_Position].refresh_token=t.refresh_token,Li(),pi()}function pi(){rm("https://api.twitch.tv/kraken?oauth_token="+Zi[lu.Users_Position].access_token,Ja,0,null,vi,gi)}function vi(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Zi[lu.Users_Position].name)?(ps(),fu=0,g_(),ai(),ja=kE=!1,Gc.value="",lu.Main_Go=Zc,j_(),I_(yt),window.setTimeout(function(){window.location=Qa},3e3)):(Zi[lu.Users_Position].access_token=0,Zi[lu.Users_Position].refresh_token=0,ja=!1,I_(Bn+Zi[lu.Users_Position].name),window.setTimeout(function(){P_(),fu=0,j_(),lu.Main_Go=Zc,window.location=Qa},4e3))}function gi(){++za<Va?(Ja+=500,pi()):mi()}function yi(){Li(),Wa=!1,bi()}function bi(){var e="https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/follows/channels/"+$a,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ja,t.setRequestHeader(Uu,Hu),t.setRequestHeader(Au,qu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?wi():404===t.status?ki(t.responseText):Mi())},t.send(null)}function wi(){ja=!(Wa=!0),Za?Pg():Pd()}function ki(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ja=Wa=!1,Za?Pg():Pd()):Mi()}function Mi(){++za<Va?(Ja+=500,bi()):(ja=!1,Za?Pg():Pd())}function Ci(){Li(),Ei()}function Ei(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=Ja,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.setRequestHeader("Authorization","OAuth "+Zi[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wa=!(ja=!1),void(Za?Pg():Pd());401===e.status||403===e.status?ri(lu.Users_Position,0,Ci,null):Si()}},e.send(null)}function Si(){++za<Va&&(Ja+=500,Ei())}function xi(){Li(),Ii()}function Ii(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=Ja,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.setRequestHeader("Authorization","OAuth "+Zi[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ja=Wa=!1,void(Za?Pg():Pd());401===e.status||403===e.status?ri(lu.Users_Position,0,xi,null):Pi()}},e.send(null)}function Pi(){++za<Va&&(Ja+=500,Ii())}function Gi(){Li(),Ka=!1,Ti()}function Li(){Ja=1e4,ja=!(za=0)}function Ti(){var e,t="https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/subscriptions/"+$a;if(Ku){if(!(e=Android.mreadUrl(t,Ja,3,Zi[lu.Users_Position].access_token)))return void Bi();if(200===(e=JSON.parse(e)).status)ja=!(Ka=!0),Ny();else if(422===e.status)ja=Ka=!1,Ay();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ja=Ka=!1,void Ay();Bi()}else 401===e.status||403===e.status?ri(lu.Users_Position,0,Gi,Oi):Bi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ja,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.setRequestHeader("Authorization","OAuth "+Zi[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ja=!(Ka=!0),Ny();else if(422===e.status)ja=Ka=!1,Ay();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ja=Ka=!1,void Ay();Bi()}else 401===e.status||403===e.status?ri(lu.Users_Position,0,Gi,Oi):Bi()},e.send(null)}function Bi(){++za<Va?(Ja+=500,Ti()):Oi()}function Oi(){ja=Ka=!1,Ay()}function Fi(e){Li(),Hi(e,0)}function Hi(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Zi[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?ja=!1:(Li(),ri(e,0,null,null)));400===a.status?(Li(),ri(e,0,null,null)):Ui(e,t)}},a.send(null)}function Ui(e,t){++t<Va&&Hi(e,t)}function Ai(){Li(),Ni()}function Ni(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Zi[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected)+"?oauth_token="+Zi[lu.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Hs=!0,void Ys();401===e.status||403===e.status?ri(lu.Users_Position,0,Ai,null):Di()}},e.send(null)}function Di(){++za<Va&&(Ja+=500,Ni())}function qi(){Li(),Ri()}function Ri(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Zi[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected)+"?oauth_token="+Zi[lu.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Hs=!1,void Ys();401===e.status||403===e.status?ri(lu.Users_Position,0,qi,null):zi()}},e.send(null)}function zi(){++za<Va&&(Ja+=500,Ri())}function Vi(){Li(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Zi[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Hs=!0,void Ys()):404===e.status?(Hs=!1,void Ys()):void Xi()},e.send(null)}function Xi(){++za<Va?(Ja+=500,Ji()):(Hs=!1,Ys())}function ji(e){lu.Users_Position=lu.Users_AddcodePosition,Xa=e,Li(),v_(),_i()}var Yi=0,Wi=5,Ki=3500,Zi=[],$i=null,Qi=!1,es=!1;function ts(){lu.Main_Go=Nc,f_("top_bar_user","icon_center_focus"),P_(),Pc.placeholder=C,u_("add_user_scroll"),is()}function ns(){os(!1),document.body.removeEventListener("keydown",as),document.body.removeEventListener("keydown",ds),m_("top_bar_user","icon_center_focus"),c_("add_user_scroll")}function as(e){if(!Qi&&!es&&lu.Main_Go===Nc)switch(e.keyCode){case Aa:T_()?L_():H_()?F_():(0<Zi.length&&lu.Main_Go!==Zc?lu.Main_Go=lu.Main_Before:lu.Main_Go=Ac,ns(),X_());break;case ka:lu.Main_Go=su,ns(),X_();break;case Ma:lu.Main_Go=Ac,ns(),X_();break;case Sa:case Ea:case xa:case Ba:is();break;case Oa:zf(as);break;case Fa:ns(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,ns(),X_()}}function is(){document.body.removeEventListener("keydown",as),document.body.addEventListener("keydown",ds,!1),Pc.placeholder=C,Pc.focus(),es=!0}function ss(){if(null!==Pc){var e=Pc.cloneNode(!0);Pc.parentNode.replaceChild(e,Pc),Pc=document.getElementById("user_input")}}function os(e){Pc.blur(),ss(),document.body.removeEventListener("keydown",ds),Pc.placeholder=E+C,e&&document.body.addEventListener("keydown",as,!1),es=!1}function ds(e){if(!Qi&&lu.Main_Go===Nc)switch(e.keyCode){case Aa:T_()?L_():H_()?F_():(0<Zi.length&&lu.Main_Go!==Zc?lu.Main_Go=lu.Main_Before:lu.Main_Go=Ac,ns(),X_());break;case Ra:Pc.value="";break;case Da:case Ta:""!==Pc.value&&null!==Pc.value?gs($i=Fc||fs()?Pc.value:"testtwitch27")?(g_(),I_(u+$i+ie),window.setTimeout(function(){P_(),is()},1500)):(Ki=3500,Qi=!(Yi=0),c_("add_user_scroll"),v_(),ls()):is();break;case Na:Pc.value=Pc.value.slice(0,-1);break;case qa:Pc.value+=" "}}function ls(){rm("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($i),Ki,2,null,rs,cs)}function rs(e){JSON.parse(e)._total?(Pc.value="",document.body.removeEventListener("keydown",as),ms(e)):us()}function cs(){++Yi<Wi?(Ki+=500,ls()):us()}function us(){$i=null,g_(),I_(ne),window.setTimeout(function(){ts()},1e3),Qi=!1}function _s(){if(0<(Zi=sm("AddUser_UsernameArray",[])).length)for(var e=0;e<Zi.length;e++)Zi[e].access_token&&Fi(e)}function fs(){return 0<Zi.length}function ms(e){$i=JSON.parse(e).users[0],Zi.push({name:$i.name,id:$i._id,access_token:0,refresh_token:0}),ps(),kE=!1,ns(),CE(),Qi=!1}function hs(e){var t=Zi.indexOf(Zi[e]);-1<t&&Zi.splice(t,1),0<Zi.length?(kE=!1,CE()):ts(),ps()}function ps(){am("AddUser_UsernameArray",JSON.stringify(Zi))}function vs(e){$i=Zi[0],Zi[0]=Zi[e],Zi[e]=$i,kE=!1,CE()}function gs(e){return-1!==Zi.indexOf(e)}function ys(){return 0<Zi.length}var bs=0,ws=0,ks=!1,Ms=0,Cs={},Es=[],Ss=!1,xs=0,Is=5,Ps=3500,Gs=0,Ls=0,Ts=!1,Bs=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Os=!1,Fs=!1,Hs=!1,Us=!1,As=!1;function Ns(){lu.Main_CenterLablesVectorPos=3,lu.Main_Go=qc,document.body.addEventListener("keydown",io,!1),f_("top_bar_game","icon_center_focus"),r_("label_side_panel","icon-arrow-circle-left",I),lu.Search_isSearching&&(Z_(),h_("top_bar_user",n+$_(m+" '"+lu.Search_data+"'"))),h_("top_bar_game",w+$_(_+": "+lu.Main_gameSelected)),lu.Main_OldgameSelected===lu.Main_gameSelected&&Os?(lf(bs),u_(Bs[10]),E_(ws,bs,xu,Ms),eo(),j_()):qs()}function Ds(){Os&&-1===bs&&(ao(),ws=bs=0,f_(Bs[0]+"0_"+ws,Vu)),r_("label_side_panel","icon-ellipsis",Fn),h_("top_bar_game",m),document.body.removeEventListener("keydown",io),m_("top_bar_game","icon_center_focus"),c_(Bs[10])}function qs(){null===lu.Main_OldgameSelected&&(lu.Main_OldgameSelected=lu.Main_gameSelected),c_(Bs[10]),v_(),P_(),As=Os=!1,af("stream_table_a_game"),Cs={},Ms=Ls=Gs=0,bs=ws=0,ks=!(Wf=!(Fs=!(Es=[]))),C_(),Rs(),zs()}function Rs(){of(),Ss=!0,xs=0,Ps=3500}function zs(){var e=Ms+Gs;e&&Ls-1<e&&(e=Ls-Su,ks=!0),rm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Su+"&offset="+e+(""!==gu?"&language="+gu:""),Ps,2,null,Js,Vs)}function Vs(){++xs<Is?(Ps+=500,zs()):(Ss=!1,Ms?(ks=!0,Xs()):(Wf=!1,g_(),I_(L)))}function Js(e){var t=JSON.parse(e),n=t.streams.length;Ls=parseInt(t._total),n<Su&&(ks=!0);var a=Ms;Ts=!(Ms+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c,u=0;if(!As){var _;for(As=!0,d=document.createElement("tr"),l=0;l<3;l++)_=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+va+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+Kt,(pu=document.createElement("td")).setAttribute("id",Bs[8]+"y_"+l),pu.className="stream_cell",pu.innerHTML='<div id="'+Bs[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Bs[3]+"y_"+l+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_a_game").appendChild(d)}for(l=0;l<i;l++){for(o=a/xu+l,d=document.createElement("tr"),s=0;s<xu&&u<n;s++,u++)c=(r=t.streams[u]).channel._id,Cs[c]?s--:(Cs[c]=1,d.appendChild(hf(o,o+"_"+s,[r.channel.name,c],Bs,[r.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+mv(r.created_at)+b+", "+v+N_(r.viewers)+R,D_(r.video_height,r.average_fps,r.channel.language)])));for(;s<xu;s++)ks&&!Fs&&(Fs=!0,Ms=o*xu+s),d.appendChild(uf(Bs[9]+o+"_"+s)),Es.push(Bs[9]+o+"_"+s);document.getElementById("stream_table_a_game").appendChild(d)}Xs()}function Xs(){Hf(function(){if(Os){if(sf(t_),0<Es.length&&!ks)return Rs(),void Zs();E_(ws,bs,xu,Ms),Es=[]}else g_(),js(),Ts?(I_(T+$),bs=-1,no()):(Os=!0,sf(t_),eo(),j_()),u_(Bs[10]),Wf=!1;Ss=!1})}function js(){Us?(Hs=!0,Ys()):fs()?Vi():(Hs=!1,Ys())}function Ys(){h_(Bs[3]+"y_2",Hs?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+va+va+Ct:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+va+va+(fs()?Et:Gt))}function Ws(){fs()&&Zi[lu.Users_Position].access_token?Hs?qi():Ai():(I_(Lt),window.setTimeout(function(){Ts&&lu.Main_Go===qc?I_(T+$):P_()},2e3))}function Ks(){ws?1===ws?(lu.Main_Go=iu,lu.Main_OldgameSelected=lu.Main_gameSelected,Ds(),X_()):Ws():(lu.Main_Go=au,lu.Main_OldgameSelected=lu.Main_gameSelected,Ds(),X_())}function Zs(){x_(Es.length);var e=Ms+Gs;e&&Ls-1<e&&(e=Ls-Fu,ks=!0),rm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Fu+"&offset="+e+(""!==gu?"&language="+gu:""),Ps,2,null,Qs,$s)}function $s(){++xs<Is?(Ps+=500,Zs()):(ks=!0,Ms-=Es.length,Es=[],Xs())}function Qs(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Ls=parseInt(a._total),i<Fu&&(ks=!0);s<Es.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Cs[n]?s--:(Cs[n]=1,pf(Es[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+N_(t.viewers)+R,D_(t.video_height,t.average_fps,t.channel.language)],Bs),d.push(s));for(s=d.length-1;-1<s;s--)Es.splice(d[s],1);Gs+=o,ks&&(Ms-=Es.length,Es=[]),Xs()}function eo(){bs<0?no():(Ef(bs,ws,Bs,xu,Ms),Ms/xu<bs+Iu&&!ks&&!Ss&&(Rs(),zs()),uu&&to())}function to(){-1<bs&&Ms?Bf(bs+"_"+ws,Bs):ao()}function no(){f_(Bs[0]+"y_"+ws,Vu)}function ao(){m_(Bs[0]+"y_"+ws,Vu)}function io(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(lu.Main_OldgameSelected=lu.Main_gameSelected,to(),ao(),Zf(io));break;case Pa:if(-1===bs)ao(),--ws<0&&(ws=2),no();else if(bs||ws){if(R_(bs,ws-1,Bs[0]))to(),ws--,eo();else for(t=xu-1;-1<t;t--)if(R_(bs-1,t,Bs[0])){to(),bs--,ws=t,eo();break}}else to(),ao(),bs=-1,ws=2,no();break;case La:-1===bs?(ao(),2<++ws?(ws=0,Ts?no():(bs=0,eo())):no()):R_(bs,ws+1,Bs[0])?(to(),ws++,eo()):R_(bs+1,0,Bs[0])&&(to(),bs++,ws=0,eo());break;case Ga:if(-1!==bs||Ts)if(bs){for(t=0;t<xu;t++)if(R_(bs-1,ws-t,Bs[0])){to(),bs--,ws-=t,eo();break}}else to(),bs=-1,no();else bs=0,ao(),eo();break;case Ta:if(-1!==bs||Ts){for(t=0;t<xu;t++)if(R_(bs+1,ws-t,Bs[0])){to(),bs++,ws-=t,eo();break}}else bs=0,ao(),eo();break;case Ia:case Ca:qs();break;case ka:lu.Search_isSearching||(lu.Main_Before=qc,lu.Main_Go=tu,lu.Main_OldgameSelected=lu.Main_gameSelected,Ds(),X_());break;case Ma:lu.Search_isSearching||(lu.Main_Before=qc,lu.Main_Go=su,Ds(),X_());break;case Sa:case Ea:case xa:case Ba:-1!==bs?xf(bs+"_"+ws,Bs,io):Ks();break;case Oa:zf(io);break;case Fa:Ds(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=qc,lu.Main_Go=Jc,lu.Main_OldgameSelected=lu.Main_gameSelected,Ds(),X_()}}var so=0,oo=0,lo=!1,ro=0,co={},uo=[],_o=!1,fo=0,mo=5,ho=3500,po=0,vo=0,go=!1,yo=!1,bo="week",wo=2,ko=!1,Mo=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],Co=!1,Eo=!1,So="";function xo(){lu.Main_CenterLablesVectorPos=3,lu.Main_Go=au,f_("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ro,!1),r_("label_side_panel","icon-arrow-circle-left",I),So===lu.Main_gameSelected&&Co?(lf(so),u_(Mo[10]),E_(oo,so,xu,ro),zo(),Ao(),j_()):Po()}function Io(){Co&&No(),document.body.removeEventListener("keydown",Ro),m_("top_bar_game","icon_center_focus"),h_("top_bar_game",m),r_("label_side_panel","icon-ellipsis",Fn),r_("label_switch","icon-switch",l),c_(Mo[10])}function Po(){Co&&No(),c_(Mo[10]),v_(),zo(),So=lu.Main_gameSelected,P_(),Co=!1,af("stream_table_a_game_vod"),ko=!1,vo=po=0,co={},so=oo=ro=0,lo=!(Wf=!(yo=!(uo=[]))),C_(),Go(),Lo()}function Go(){of(),_o=!0,fo=0,ho=3500}function Lo(){var e=ro+po;e&&vo-1<e&&(e=vo-Su,lo=!0),rm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Su+"&broadcast_type="+(Eo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+bo+(""!==gu?"&language="+gu:""),ho,2,null,Bo,To)}function To(){++fo<mo?(ho+=500,Lo()):(_o=!1,ro?(lo=!0,Oo()):(Wf=!1,g_(),I_(L)))}function Bo(e){var t=JSON.parse(e),n=t.vods.length;vo=parseInt(t._total),n<Su&&(lo=!0);var a=ro;go=!(ro+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c=0;if(!ko){var u;for(ko=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+Mo[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+Mo[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_a_game_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||co[r]?s--:(co[r]=1,d.appendChild(ax(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Ru),l.channel.display_name,N+Q_(l.created_at),IM.parse(l.title)+na+Yt+p+l.game,N_(l.views)+q,D_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+_v(l.length),l.animated_preview_url],Mo)));for(;s<xu;s++)lo&&!yo&&(yo=!0,ro=o*xu+s),d.appendChild(uf(Mo[9]+o+"_"+s)),uo.push(Mo[9]+o+"_"+s);document.getElementById("stream_table_a_game_vod").appendChild(d)}Oo()}function Oo(){Hf(function(){if(Co?sf(t_):(g_(),go?I_(T+(Eo?H:F)+B+x):(Co=!0,sf(t_),Ao(),j_()),u_(Mo[10]),Wf=!1),0<uo.length&&!lo)return Go(),void Fo();E_(oo,so,xu,ro),_o=!(uo=[])})}function Fo(){x_(uo.length);var e=ro+po;e&&vo-1<e&&(e=vo-Fu,lo=!0),rm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Fu+"&broadcast_type="+(Eo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+bo+(""!==gu?"&language="+gu:""),ho,2,null,Uo,Ho)}function Ho(){++fo<mo?(ho+=500,Fo()):(lo=!0,uo=[],Oo())}function Uo(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(vo=parseInt(a._total);s<uo.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||co[n]?s--:(co[n]=1,sx(uo[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,N+Q_(t.created_at),IM.parse(t.title)+na+Yt+p+t.game,N_(t.views)+q,D_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+_v(t.length),t.animated_preview_url],Mo),d.push(s));for(s=d.length-1;-1<s;s--)uo.splice(d[s],1);po+=o,lo&&(ro-=uo.length,uo=[]),Oo()}function Ao(){so<0?Do():(Ef(so,oo,Mo,xu,ro),hx(Mo,so+"_"+oo),ro/xu<so+Iu&&!lo&&!_o&&(Go(),Lo()),uu&&No())}function No(){window.clearInterval(xS),-1<so&&ro?(u_(Mo[1]+so+"_"+oo),Bf(so+"_"+oo,Mo)):qo()}function Do(){var e=1<oo?1:oo;f_(Mo[0]+"y_"+e,Vu)}function qo(){var e=1<oo?1:oo;m_(Mo[0]+"y_"+e,Vu)}function Ro(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(No(),Zf(Ro));break;case Pa:if(-1===so)qo(),--oo<0&&(oo=1),Do();else if(so||oo){if(R_(so,oo-1,Mo[0]))No(),oo--,Ao();else for(t=xu-1;-1<t;t--)if(R_(so-1,t,Mo[0])){No(),so--,oo=t,Ao();break}}else No(),qo(),so=-1,oo=1,Do();break;case La:-1===so?(qo(),1<++oo?(oo=0,go?Do():(so=0,Ao())):Do()):R_(so,oo+1,Mo[0])?(No(),oo++,Ao()):R_(so+1,0,Mo[0])&&(No(),so++,oo=0,Ao());break;case Ga:if(-1!==so||go)if(so){for(t=0;t<xu;t++)if(R_(so-1,oo-t,Mo[0])){No(),so--,oo-=t,Ao();break}}else No(),so=-1,Do();else so=0,qo(),Ao();break;case Ta:if(-1!==so||go){for(t=0;t<xu;t++)if(R_(so+1,oo-t,Mo[0])){No(),so++,oo-=t,Ao();break}}else so=0,qo(),Ao();break;case ka:4<++wo&&(wo=1),Po();break;case Ma:--wo<1&&(wo=4),Po();break;case Ia:case Ca:am("AGameVod_highlight",(Eo=!Eo)?"true":"false"),Po();break;case Sa:case Ea:case xa:case Ba:-1===so?(0===oo?am("AGameVod_highlight",(Eo=!Eo)?"true":"false"):4<++wo&&(wo=1),Po()):Gf(so+"_"+oo,Mo,Ro);break;case Oa:zf(Ro);break;case Fa:Io(),tf();break;case Ha:O_();break;case Ua:lu.Search_isSearching||(lu.Main_BeforeSearch=au),lu.Main_Go=Jc,Io(),X_()}}function zo(){1===wo?(h_("top_bar_game",w+$_((Eo?H:F)+le+": "+lu.Main_gameSelected)),bo="day"):2===wo?(h_("top_bar_game",w+$_((Eo?H:F)+re+": "+lu.Main_gameSelected)),bo="week"):3===wo?(h_("top_bar_game",w+$_((Eo?H:F)+ce+": "+lu.Main_gameSelected)),bo="month"):4===wo&&(h_("top_bar_game",w+$_((Eo?H:F)+ue+": "+lu.Main_gameSelected)),bo="all"),am("AGameVod_periodNumber",wo)}var Vo,Jo,Xo=0,jo=0,Yo=!1,Wo=0,Ko=0,Zo=5,$o=3500,Qo=0,ed=!1,td=!1,nd=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],ad=!1,id="",sd=null,od="",dd="",ld="",rd="",cd="",ud={};function _d(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Yc,Jo&&!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Hd(),id!==lu.Main_selectedChannel&&(ad=!1),Z_(),lu.Main_selectedChannelDisplayname=lu.Main_selectedChannelDisplayname.replace(W,""),p_("top_bar_user",lu.Main_selectedChannelDisplayname),p_("top_bar_game",Ot),document.body.addEventListener("keydown",Ud,!1),Za=!1,ad?(lf(Xo),u_(nd[10]),Ld(),Td(),j_()):md()}function fd(){K_(),document.body.removeEventListener("keydown",Ud),c_(nd[10])}function md(){c_(nd[10]),v_(),P_(),id=lu.Main_selectedChannel,ed=ad=!1,af("stream_table_channel_content"),rd="",Yo=!1,Vo=void(Xo=jo=Wo=Qo=0),hd(),pd()}function hd(){Wf=!0,Ko=0,$o=3500}function pd(){rm("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Vo?Vo:lu.Main_selectedChannel_id),$o,2,null,vd,gd)}function vd(e){null!==JSON.parse(e).stream?(sd=e,hd(),kd()):Vo?(sd=null,hd(),kd()):(hd(),yd())}function gd(){++Ko<Zo?($o+=500,pd()):(sd=null,hd(),kd())}function yd(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(lu.Main_selectedChannel_id);if(Ku){if(!(e=Android.mreadUrl(t,$o,1,null)))return void bd();200===(e=JSON.parse(e)).status?wd(e.responseText):bd()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=$o,e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void wd(e.responseText);bd()}},e.send(null)}function bd(){++Ko<Zo?($o+=500,yd()):(sd=null,hd(),kd())}function wd(e){var t=JSON.parse(e);void 0!==(Vo=t.hosts[0].target_id)?(hd(),pd()):(sd=null,hd(),kd())}function kd(){rm("https://api.twitch.tv/kraken/channels/"+lu.Main_selectedChannel_id,Zg,2,null,Md,Cd)}function Md(e){var t=JSON.parse(e);od=t.views,dd=t.followers,ld=t.description,lu.Main_selectedChannelLogo=t.logo,Ed()}function Cd(){++Ko<Zo?($o+=500,kd()):(ld=dd=od="",lu.Main_selectedChannelLogo=e_,Ed())}function Ed(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((pu=document.createElement("tr")).className="follower_header",pu.innerHTML='<div class="follower_header">'+IM.parse(ld)+"</div>",document.getElementById("stream_table_channel_content").appendChild(t),document.getElementById("stream_table_channel_content").appendChild(pu),null!==sd){var a=JSON.parse(sd);if(null!==a.stream){var i=void 0!==Vo?lu.Main_selectedChannelDisplayname+ae:"",s=a.stream;e.appendChild(Sd("0_"+n,s.channel.name,s.preview.template,IM.parse(s.channel.status),s.game,q_(JSON.stringify(s.stream_type))+i+s.channel.display_name,y+mv(s.created_at)+b+", "+v+N_(s.viewers)+R,D_(s.video_height,s.average_fps,s.channel.language))),n++}else ed=!0}else ed=!0;e.appendChild(xd("0_"+n,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname+F,"movie-play")),n++,e.appendChild(xd("0_"+n,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname+U,"movie")),n<2&&(n++,e.appendChild(uf(nd[9]+"0_"+n))),document.getElementById("stream_table_channel_content").appendChild(e),(e=document.createElement("tr")).appendChild(Id("1_0",lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelLogo)),document.getElementById("stream_table_channel_content").appendChild(e),Gd()}function Sd(e,t,n,a,i,s,o,d){return rd=n.replace("{width}x{height}",Ru),(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><img id="'+nd[1]+e+'" class="stream_img"></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Vo?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+va+s+'</div><div id="'+nd[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+nd[4]+e+'"class="stream_info">'+a+'</div><div id="'+nd[5]+e+'"class="stream_info">'+p+i+'</div><div id="'+nd[6]+e+'"class="stream_info">'+o+"</div></div>",pu}function xd(e,t,n,a){return(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><div id="'+nd[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",pu}function Id(e,t,n,a){return cd=a,(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+nd[1]+e+'" class="stream_img_fallow"></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel">'+n+'</div><div id="'+nd[5]+e+'"class="stream_info">'+N_(od)+q+'</div><div id="'+nd[6]+e+'"class="stream_info" >'+N_(dd)+Ut+"</div></div>",pu}function Pd(){Wa?(h_("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),p_(nd[3]+"1_0",lu.Main_selectedChannelDisplayname+Ct)):(h_("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),fs()?p_(nd[3]+"1_0",lu.Main_selectedChannelDisplayname+Et):p_(nd[3]+"1_0",lu.Main_selectedChannelDisplayname+At))}function Gd(){Hf(function(){ad||(g_(),ad=!0,""!==rd&&a_(document.getElementById(nd[1]+"0_0"),rd,t_),a_(document.getElementById(nd[1]+"1_0"),cd,e_),Td(),j_(),u_(nd[10])),Ld(),Wf=!1})}function Ld(){td?Pd():fs()?($a=lu.Main_selectedChannel_id,Za=!1,yi()):(Wa=!1,Pd())}function Td(){f_(nd[0]+Xo+"_"+(Xo?0:jo),Vu),uu&&Bd(),bf()}function Bd(){Bf(Xo+"_"+(Xo?0:jo),nd)}function Od(){if(Xo)fs()&&Zi[lu.Users_Position].access_token?(Za=!1,$a=lu.Main_selectedChannel_id,Wa?xi():Ci()):(I_(Lt),window.setTimeout(P_,2e3));else{document.body.removeEventListener("keydown",Ud),c_(nd[10]);var e=ed?1:0;jo===0-e?(lu.Play_selectedChannel=document.getElementById(nd[8]+Xo+"_"+jo).getAttribute(Ju),lu.Play_selectedChannelDisplayname=document.getElementById(nd[3]+Xo+"_"+jo).textContent,-1!==lu.Play_selectedChannelDisplayname.indexOf(ae)?(lu.Play_isHost=!0,lu.Play_DisplaynameHost=lu.Play_selectedChannelDisplayname,lu.Play_selectedChannelDisplayname=lu.Play_selectedChannelDisplayname.split(ae)[1],lu.Play_selectedChannel_id=Vo):lu.Play_selectedChannel_id=lu.Main_selectedChannel_id,lu.Play_gameSelected=document.getElementById(nd[5]+Xo+"_"+jo).textContent.split(p)[1],Hf(If)):jo===1-e?Hf(cl):jo===2-e&&(bb=Jb,Hf(Eb))}}function Fd(){ud={"Main_values.Main_selectedChannel_id":lu.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":lu.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":lu.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":lu.Main_selectedChannelDisplayname,ChannelContent_UserChannels:td,"Main_values.Main_BeforeChannel":lu.Main_BeforeChannel}}function Hd(){lu.Main_selectedChannel_id=lu.Main_selectedChannel_id,lu.Main_selectedChannelLogo=lu.Main_selectedChannelLogo,lu.Main_selectedChannel=lu.Main_selectedChannel,lu.Main_selectedChannelDisplayname=lu.Main_selectedChannelDisplayname,td=ud.ChannelContent_UserChannels,lu.Main_BeforeChannel=lu.Main_BeforeChannel,Jo=!(ud={})}function Ud(e){if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(Bd(),Zf(Ud));break;case Pa:Xo||(Bd(),--jo<0&&(jo=ed?1:2),Td());break;case La:Xo||(Bd(),(ed?1:2)<++jo&&(jo=0),Td());break;case Ga:case Ta:Bd(),Xo=Xo?0:1,Td();break;case Ia:case Ca:md();break;case Sa:case Ea:case xa:case Ba:Od();break;case Oa:zf(Ud);break;case Fa:fd(),tf();break;case Ha:O_();break;case Ua:lu.Search_isSearching||(Jo=!0,Fd(),lu.Main_BeforeSearch=Yc),lu.Main_Go=Jc,fd(),X_()}}var Ad=0,Nd=0,Dd=!1,qd=0,Rd={},zd=[],Vd=!1,Jd=0,Xd=5,jd=3500,Yd=0,Wd=0,Kd=0,Zd=!1,$d=!1,Qd="",el=!1,tl=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],nl=!1,al=!1,il="",sl="",ol="",dl="",ll="",rl=0;function cl(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Wc,!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Hd(),lu.Main_selectedChannel!==il&&(nl=!1),Z_(),r_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",lu.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",El,!1),nl?(lf(Ad),p_("top_bar_game",al?H:F),u_(tl[10]),E_(Nd,Ad,xu,qd),wl(),j_()):_l()}function ul(){nl&&kl(),K_(),document.body.removeEventListener("keydown",El),c_(tl[10])}function _l(){nl&&kl(),p_("top_bar_game",al?H:F),c_(tl[10]),v_(),P_(),il=lu.Main_selectedChannel,nl=!1,af("stream_table_channel_vod"),Wd=Yd=0,el=!1,Rd={},Ad=Nd=qd=0,Dd=!(Wf=!($d=!(zd=[]))),C_(),fl(),ml()}function fl(){of(),Vd=!0,Jd=0,jd=3500}function ml(){var e=qd+Yd;e&&Wd-1<e&&(e=Wd-Su,Dd=!0),rm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(lu.Main_selectedChannel_id)+"/videos?limit="+Su+"&broadcast_type="+(al?"highlight":"archive")+"&sort=time&offset="+e,jd,2,null,pl,hl)}function hl(){++Jd<Xd?(jd+=500,ml()):(Vd=!1,qd?(Dd=!0,vl()):(Wf=!1,g_(),I_(L)))}function pl(e){var t=JSON.parse(e),n=t.videos.length;Wd=parseInt(t._total),n<Su&&(Dd=!0);var a=qd;Zd=!(qd+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c,u,_=0;if(!el){el=!0,d=document.createElement("tr");var f='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h;(pu=document.createElement("td")).setAttribute("id",tl[8]+"y_0"),pu.className="stream_cell",pu.innerHTML='<div id="'+tl[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+tl[3]+'y_0" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(pu),document.getElementById("stream_table_channel_vod").appendChild(d)}for(var m=0;m<i;m++){for(o=a/xu+m,d=document.createElement("tr"),s=0;s<xu&&_<n;s++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),o||s||!c||(c=!1,u=t_),c||Rd[r]?s--:(Rd[r]=1,d.appendChild(ax(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Ru),IM.parse(l.title),N+Q_(l.created_at),Yt+p+l.game,N_(l.views)+q,D_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+_v(l.length),l.animated_preview_url],tl)));for(;s<xu;s++)Dd&&!$d&&($d=!0,qd=o*xu+s),d.appendChild(uf(tl[9]+o+"_"+s)),zd.push(tl[9]+o+"_"+s);document.getElementById("stream_table_channel_vod").appendChild(d)}vl()}function vl(){Hf(function(){if(nl?sf(t_):(g_(),Zd?I_(T+(al?H:F)+B+x):(nl=!0,sf(t_),wl(),j_()),u_(tl[10]),Wf=!1),0<zd.length&&!Dd)return fl(),void gl();E_(Nd,Ad,xu,qd),Vd=!(zd=[])})}function gl(){x_(zd.length);var e=qd+Yd;e&&Wd-1<e&&(e=Wd-Fu,Dd=!0),rm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(lu.Main_selectedChannel_id)+"/videos?limit="+Fu+"&broadcast_type="+(al?"highlight":"archive")+"&sort=time&offset="+e,jd,2,null,bl,yl)}function yl(){++Jd<Xd?(jd+=500,gl()):(Dd=!0,qd-=zd.length,zd=[],vl())}function bl(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for(Wd=parseInt(a._total);s<zd.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Rd[n]?s--:(Rd[n]=1,sx(zd[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),IM.parse(t.title),N+Q_(t.created_at),Yt+p+t.game,N_(t.views)+q,D_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+_v(t.length),t.animated_preview_url],tl),d.push(s));for(s=d.length-1;-1<s;s--)zd.splice(d[s],1);Yd+=o,Dd&&(qd-=zd.length,zd=[]),vl()}function wl(){Ad<0?Ml():(Ef(Ad,Nd,tl,xu,qd),hx(tl,Ad+"_"+Nd),qd/xu<Ad+Iu&&!Dd&&!Vd&&(fl(),ml()),uu&&kl())}function kl(){window.clearInterval(xS),-1<Ad&&qd?(u_(tl[1]+Ad+"_"+Nd),Bf(Ad+"_"+Nd,tl)):Cl()}function Ml(){f_(tl[0]+"y_0",Vu)}function Cl(){m_(tl[0]+"y_0",Vu)}function El(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(kl(),Zf(El));break;case Pa:if(R_(Ad,Nd-1,tl[0]))kl(),Nd--,wl();else for(t=xu-1;-1<t;t--)if(R_(Ad-1,t,tl[0])){kl(),Ad--,Nd=t,wl();break}break;case La:R_(Ad,Nd+1,tl[0])?(kl(),Nd++,wl()):R_(Ad+1,0,tl[0])&&(kl(),Ad++,Nd=0,wl());break;case Ga:if(-1!==Ad||Zd)if(Ad){for(t=0;t<xu;t++)if(R_(Ad-1,Nd-t,tl[0])){kl(),Ad--,Nd-=t,wl();break}}else kl(),Ad=-1,Ml();else Ad=0,Cl(),wl();break;case Ta:if(-1!==Ad||Zd){for(t=0;t<xu;t++)if(R_(Ad+1,Nd-t,tl[0])){kl(),Ad++,Nd-=t,wl();break}}else Ad=0,Cl(),wl();break;case ka:case Ma:am("ChannelVod_highlight",(al=!al)?"true":"false"),_l();break;case Ia:case Ca:_l();break;case Sa:case Ea:case xa:case Ba:-1===Ad?(am("ChannelVod_highlight",(al=!al)?"true":"false"),_l()):Gf(Ad+"_"+Nd,tl,El);break;case Oa:zf(El);break;case Fa:ul(),tf();break;case Ha:O_();break;case Ua:lu.Search_isSearching||(Fd(),lu.Main_BeforeSearch=Wc),lu.Main_Go=Jc,ul(),X_()}}var Sl,xl,Il,Pl,Gl,Ll=!1,Tl=0,Bl=[],Ol=[],Fl=10,Hl=null,Ul=0,Al="",Nl=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],Dl=Nl.length,ql=0,Rl=!1,zl=0;function Vl(){Pl=document.getElementById("chat_box"),Yl()}function Jl(){cr(),Ku&&lu.Play_ChatForceDisable?(Ll||Yl(),Hf(function(){$l(zl=(new Date).getTime())})):pr()}function Xl(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function jl(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?document.head.appendChild(i):Pl.appendChild(i)}function Yl(){Tl=0,Ll=!1,Wl()}function Wl(){rm("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Zl,Kl)}function Kl(){++Tl<Fl?Wl():Ll=!1}function Zl(e){Xl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){jl(t.type,e.type,e.image_url_4x,!0)})}),Ll=!0}function $l(e){Tl=0,Ql(e)}function Ql(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+lu.Main_selectedChannel_id+"/display";if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(zl===e&&er(e));if(200===(t=JSON.parse(t)).status)return void(zl===e&&tr(t.responseText,e));zl===e&&er(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(zl===e&&tr(t.responseText,e));zl===e&&er(e)}},t.send(null)}function er(e){Tl++,zl===e&&(Tl<Fl?Ql(e):Gl=window.setTimeout(function(){Ql(e)},2500))}function tr(e,t){Xl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){jl(t.type,e.type,e.image_url_4x,!1)})}),zl===t&&nr(t)}function nr(e){Tl=0,zl===e&&ar(e)}function ar(e){var t,n="https://api.twitch.tv/v5/videos/"+lu.ChannelVod_vodId+"/comments?client_id="+Hu+(Ul?"&content_offset_seconds="+parseInt(Ul):"");if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(zl===e&&ir(e));if(200===(t=JSON.parse(t)).status)return void(zl===e&&sr(t.responseText,e));zl===e&&ir(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(zl===e&&sr(t.responseText,e));zl===e&&ir(e)}},t.send(null)}function ir(e){Tl++,zl===e&&(Tl<Fl?ar(e):xl=window.setTimeout(function(){ar(e)},2500))}function sr(e,t){e=JSON.parse(e);var n,a,i=null===Hl;i&&(n="&nbsp;",n+='<span class="message">',n+=na+gn+lu.Main_selectedChannelDisplayname+" "+Al,or(n+="</span>",0)),Ul=0,Hl=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Nl[e.commenter.display_name.charCodeAt(0)%Dl]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=IM.parse(e.text)}),n+="</span>",i?or(n,e.content_offset_seconds):void 0!==Hl&&dr(n,e.content_offset_seconds)}),i&&zl===t&&(lr(t),void 0!==Hl&&_r(t))}function or(e,t){Bl.push({time:t,message:e})}function dr(e,t){Ol.push({time:t,message:e})}function lr(e){Rl||zl!==e||(Sl=window.setInterval(function(){ur(e),Pl.scrollTop=Pl.scrollHeight},1e3))}function rr(){Rl||(window.clearInterval(Gl),window.clearInterval(Sl),window.clearInterval(xl),window.clearInterval(Il))}function cr(){rr(),zl=0,af("chat_box"),Rl=!1,Hl=null,Bl=[],Ol=[],ql=0}function ur(e){var t,n;if(ql<Bl.length-1)for(n=ql;n<Bl.length&&Bl[n].time<rl+Android.gettime()/1e3;n++,ql++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Bl[n].message,Pl.appendChild(t);else if(rr(),void 0!==Hl){Bl=Ol.slice(),ql=0,lr(e),Ol=[],zl===e&&_r(e);var a=document.getElementsByClassName("chat_line");if(0<a.length-100)for(n=0;n<a.length-100;n++)a[0].parentNode.removeChild(a[0]);Pl.scrollTop=Pl.scrollHeight}else{var i="&nbsp;";i+='<span class="message">',i+=na+na+kn+na+na,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Pl.appendChild(t),Rl=!0,Pl.scrollTop=Pl.scrollHeight,window.clearInterval(Sl),Sl=window.setInterval(function(){Pl.scrollTop=Pl.scrollHeight},250)}}function _r(e){Tl=0,Rl||zl!==e||fr(e)}function fr(e){var t,n="https://api.twitch.tv/v5/videos/"+lu.ChannelVod_vodId+"/comments?client_id="+Hu+(null!==Hl?"&cursor="+Hl:"");if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Rl||zl!==e||mr(e));if(200===(t=JSON.parse(t)).status)return void(Rl||zl!==e||sr(t.responseText,e));Rl||zl!==e||mr(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Rl||zl!==e||sr(t.responseText,e));Rl||zl!==e||mr(e)}},t.send(null)}function mr(e){Tl++,zl===e&&(Tl<Fl?fr(e):Il=window.setTimeout(function(){fr(e)},2500))}function hr(){zl=0,vr(on+na+dn)}function pr(){cr(),c_("chat_frame"),u_("chat_box"),vr(Kn)}function vr(e){var t="&nbsp;";t+='<span class="message">',t+=na+na+na+na+na+na+na+na+na+na,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Pl.appendChild(n)}var gr=!1,yr=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_","featured_scroll"],br=0,wr=0,kr=!1,Mr=0,Cr={},Er=!1,Sr=0,xr=5,Ir=3500,Pr=[],Gr=0,Lr=0,Tr=!1,Br=0,Or=!1;function Fr(){lu.Main_CenterLablesVectorPos=2,lu.Main_Go=su,f_("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Yr,!1),gr?(lf(br),u_(yr[10]),E_(wr,br,xu,Mr),Xr(),j_()):Ur()}function Hr(){document.body.removeEventListener("keydown",Yr),m_("top_bar_featured","icon_center_focus"),c_(yr[10])}function Ur(){c_(yr[10]),v_(),P_(),gr=!1,af("stream_table_featured"),Wf=!(Tr=!(Pr=[])),Br=br=wr=Mr=Lr=Gr=0,kr=!(Cr={}),C_(),Ar(),Nr()}function Ar(){of(),Er=!0,Sr=0,Ir=3500}function Nr(){var e=new XMLHttpRequest,t=Mr+Gr;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+Su+"&offset="+t+(fs()&&Zi[lu.Users_Position].access_token?"&oauth_token="+Zi[lu.Users_Position].access_token:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ir,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void qr(e.responseText);Dr()}},e.send(null)}function Dr(){++Sr<xr?(Ir+=500,Nr()):(Er=!1,Mr?(kr=!0,Rr()):(Wf=!1,g_(),I_(L)))}function qr(e){var t=JSON.parse(e),n=t.featured.length;Lr=parseInt(t._total),n<Su&&(kr=!0);var a=Mr;Or=!(Mr+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.featured[c].stream).channel._id,Cr[r]?s--:(Cr[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r],yr,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+mv(l.created_at)+b+", "+v+N_(l.viewers)+R,D_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)kr&&!Tr&&(Tr=!0,Mr=o*xu+s),d.appendChild(uf(yr[9]+o+"_"+s)),Pr.push(yr[9]+o+"_"+s);document.getElementById("stream_table_featured").appendChild(d)}Rr()}function Rr(){Hf(function(){if(gr){if(sf(t_),0<Pr.length&&!kr)return Ar(),void zr();E_(wr,br,xu,Mr),Pr=[]}else g_(),Or?I_(T+K):(gr=!0,sf(t_),Xr(),j_()),u_(yr[10]),Wf=!1;Er=!1})}function zr(){var e=new XMLHttpRequest;x_(Pr.length);var t=Mr+Gr;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+Fu+"&offset="+t+(fs()&&Zi[lu.Users_Position].access_token?"&oauth_token="+Zi[lu.Users_Position].access_token:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ir,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Jr(e.responseText);Vr()}},e.send(null)}function Vr(){++Sr<xr?(Ir+=500,zr()):(kr=!0,Mr-=Pr.length,Pr=[],Rr())}function Jr(e){var t,n,a=JSON.parse(e),i=a.featured.length,s=0,o=0,d=[];for(i<Fu&&(kr=!0);s<Pr.length&&o<i;s++,o++)n=(t=a.featured[o].stream).channel._id,Cr[n]?s--:(Cr[n]=1,pf(Pr[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+N_(t.viewers)+R,D_(t.video_height,t.average_fps,t.channel.language)],yr),d.push(s));for(s=d.length-1;-1<s;s--)Pr.splice(d[s],1);Gr+=o,kr&&(Mr-=Pr.length,Pr=[]),Rr()}function Xr(){Ef(br,wr,yr,xu,Mr),Mr/xu<br+Iu&&!kr&&!Er&&(Ar(),Nr()),uu&&jr()}function jr(){Mr&&Bf(br+"_"+wr,yr)}function Yr(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(jr(),Zf(Yr));break;case Pa:if(R_(br,wr-1,yr[0]))jr(),wr--,Xr();else for(t=xu-1;-1<t;t--)if(R_(br-1,t,yr[0])){jr(),br--,wr=t,Xr();break}break;case La:R_(br,wr+1,yr[0])?(jr(),wr++,Xr()):R_(br+1,0,yr[0])&&(jr(),br++,wr=0,Xr());break;case Ga:for(t=0;t<xu;t++)if(R_(br-1,wr-t,yr[0])){jr(),br--,wr-=t,Xr();break}break;case Ta:for(t=0;t<xu;t++)if(R_(br+1,wr-t,yr[0])){jr(),br++,wr-=t,Xr();break}break;case Ia:case Ca:Ur();break;case ka:lu.Main_Before=su,lu.Main_Go=Dc,Hr(),X_();break;case Ma:lu.Main_Before=su,lu.Main_Go=ys()?Zc:Nc,Hr(),X_();break;case Sa:case Ea:case xa:case Ba:xf(br+"_"+wr,yr,Yr);break;case Oa:zf(Yr);break;case Fa:Hr(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=su,lu.Main_Go=Jc,Hr(),X_()}}var Wr=!1,Kr=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_","live_scroll"],Zr=0,$r=0,Qr=0,ec=!1,tc=0,nc={},ac=!1,ic=0,sc=5,oc=3500,dc=[],lc=0,rc=0,cc=!1,uc=0;function _c(){lu.Main_CenterLablesVectorPos=0,lu.Main_Go=Ac,f_("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",Sc,!1),Wr?(lf(Zr),u_(Kr[10]),E_($r,Zr,xu,tc),Mc(),j_()):mc()}function fc(){document.body.removeEventListener("keydown",Sc),m_("top_bar_live","icon_center_focus"),c_(Kr[10])}function mc(){af("stream_table_live"),c_(Kr[10]),v_(),P_(),Wr=!1,Wf=!(cc=!(dc=[])),uc=Zr=$r=tc=rc=lc=0,ec=!(nc={}),C_(),Hf(function(){hc(),pc()})}function hc(){of(),ac=!0,ic=0,oc=3500}function pc(){var e=tc+lc;e&&rc-1<e&&(e=rc-Su,ec=!0),rm("https://api.twitch.tv/kraken/streams?limit="+Su+"&offset="+e+(""!==gu?"&language="+gu:""),oc,2,null,gc,vc)}function vc(){++ic<sc?(oc+=500,pc()):(ac=!1,tc?(ec=!0,yc()):(Wf=!1,g_(),I_(L),u_("topbar")))}function gc(e){var t=JSON.parse(e),n=t.streams.length;rc=parseInt(t._total),n<Su&&(ec=!0);var a=tc;tc+=n;var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,nc[r]?s--:(nc[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r,l.channel.status],Kr,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+mv(l.created_at)+b+", "+v+N_(l.viewers)+R,D_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)ec&&!cc&&(cc=!0,tc=o*xu+s),d.appendChild(uf(Kr[9]+o+"_"+s)),dc.push(Kr[9]+o+"_"+s);document.getElementById("stream_table_live").appendChild(d)}yc()}function yc(){Hf(function(){if(Wr){if(sf(t_),0<dc.length&&!ec)return hc(),void bc();E_($r,Zr,xu,tc),dc=[]}else g_(),u_("topbar"),tc?(Wr=!0,sf(t_),Mc(),lu.Main_WasOpen=!0):I_(T+K),ku&&Wr&&iM.restor_playback.defaultValue&&(lu.Play_WasPlaying||lu.Main_WasOpen)?lu.Play_WasPlaying?(W_(lu.Main_Go),lu.Main_Go=du,lu.vodOffset||(lu.vodOffset=1),Kd=lu.vodOffset+1,Mv(Rn),1===lu.Play_WasPlaying?If():Lf(),X_(),W_(lu.Main_Go),window.setTimeout(function(){Cv()},2e3)):1!==du?(W_(lu.Main_Go),lu.Main_Go=du,Cc(),X_()):(u_(Kr[10]),lu.Never_run&&O_(),lu.Never_run=!1,j_()):(u_(Kr[10]),j_()),Wf=ku=!1;ac=!1})}function bc(){x_(dc.length);var e=tc+lc;e&&rc-1<e&&(e=rc-Fu,ec=!0),rm("https://api.twitch.tv/kraken/streams?limit="+Fu+"&offset="+e+(""!==gu?"&language="+gu:""),oc,2,null,kc,wc)}function wc(){++ic<sc?(oc+=500,bc()):(ec=!0,tc-=dc.length,dc=[],yc())}function kc(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(rc=parseInt(a._total),i<Fu&&(ec=!0);s<dc.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,nc[n]?s--:(nc[n]=1,pf(dc[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+N_(t.viewers)+R,D_(t.video_height,t.average_fps,t.channel.language)],Kr),d.push(s));for(s=d.length-1;-1<s;s--)dc.splice(d[s],1);lc+=o,ec&&(tc-=dc.length,dc=[]),yc()}function Mc(){Ef(Zr,$r,Kr,xu,tc),tc/xu<Zr+Iu&&!ec&&!ac&&(hc(),pc()),uu&&Cc()}function Cc(){tc&&Bf(Zr+"_"+$r,Kr)}function Ec(){m_("exit_app_cancel","button_search_focused"),m_("exit_app_minimize","button_search_focused"),m_("exit_app_close","button_search_focused"),f_(Qr?1===Qr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Sc(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:A_()?U_():T_()?L_():H_()?F_():(Cc(),Zf(Sc));break;case Pa:if(M_())--Qr<0&&(Qr=2),Ec(),y_(),b_();else if(R_(Zr,$r-1,Kr[0]))Cc(),$r--,Mc();else for(t=xu-1;-1<t;t--)if(R_(Zr-1,t,Kr[0])){Cc(),Zr--,$r=t,Mc();break}break;case La:M_()?(2<++Qr&&(Qr=0),Ec(),y_(),b_()):R_(Zr,$r+1,Kr[0])?(Cc(),$r++,Mc()):R_(Zr+1,0,Kr[0])&&(Cc(),Zr++,$r=0,Mc());break;case Ga:if(!M_())for(t=0;t<xu;t++)if(R_(Zr-1,$r-t,Kr[0])){Cc(),Zr--,$r-=t,Mc();break}break;case Ta:if(!M_())for(t=0;t<xu;t++)if(R_(Zr+1,$r-t,Kr[0])){Cc(),Zr++,$r-=t,Mc();break}break;case Ia:case Ca:mc();break;case ka:lu.Main_Before=Ac,lu.Main_Go=ys()?Zc:Nc,fc(),X_();break;case Ma:lu.Main_Before=Ac,lu.Main_Go=nu,fc(),X_();break;case Sa:case Ea:case xa:case Ba:xf(Zr+"_"+$r,Kr,Sc);break;case Oa:zf(Sc);break;case Fa:Fc||(dm("Reloading"),window.location.reload(!0));break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=Ac,lu.Main_Go=Jc,fc(),X_()}}var xc,Ic,Pc,Gc,Lc,Tc,Bc,Oc,Fc=!0,Hc=-1,Uc=new Image,Ac=1,Nc=2,Dc=3,qc=4,Rc=5,zc=6,Vc=7,Jc=8,Xc=9,jc=10,Yc=11,Wc=12,Kc=13,Zc=14,$c=15,Qc=16,eu=17,tu=18,nu=19,au=20,iu=21,su=22,ou=23,du="",lu={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Dc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Main_WasOpen:!1,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},ru=!0,cu=!0,uu=!1,_u=[],fu=0,mu=null,hu=!0,pu="",vu=!1,gu="",yu=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],bu=0,wu=!1,ku=!0,Mu=0,Cu=1.35,Eu=1.5,Su=45,xu=3,Iu=Math.floor(Su/xu/Eu),Pu=45,Gu=5,Lu=Math.floor(Pu/Gu/Cu),Tu=48,Bu=6,Ou=Math.floor(Tu/Bu/Eu),Fu=6,Hu="5seja5ptej058mxqy7gh5tcudjqtm9",Uu="Client-ID",Au="Accept",Nu="Authorization",Du="OAuth ",qu="application/vnd.twitchtv.v5+json",Ru="528x297",zu="340x475",Vu="stream_thumbnail_focused",Ju="data_attribute",Xu="1.0",ju="033119",Yu=Xu+"-"+ju,Wu=0,Ku=0,Zu="?"+Math.random(),$u="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Qu=$u+"404_game.png",e_=$u+"404_logo.png",t_=$u+"404_video.png",n_="https://cors-anywhere.herokuapp.com/",a_=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function i_(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){s_(window.navigator.userLanguage||window.navigator.language)}):s_(window.navigator.userLanguage||window.navigator.language)}function s_(e){Of(),Hf(function(){var t=document.body;Fc&&(t.innerHTML=ea);try{Ku=Android.getAndroid()}catch(e){Ku=0,t.style.backgroundColor="rgba(0, 0, 0, 1)"}Hf(function(){pM(),wa(),console.log("language is "+e),ba(),-1!==window.location.href.indexOf("code")&&lm(window.location.href),o_()})})}function o_(){wb(),d_(!0),xc=document.getElementById("scrollbar"),Y_(),du=lu.Main_Go,Hf(function(){Tp(),_s(),document.body.addEventListener("keyup",bf,!1),kb(),_c(),wu=!1,Vl(),Lc=window.setTimeout(V_,5e3),document.getElementById("side_panel").style.marginLeft="",ef(),l_(),jS=om("Vod_highlight",!1),al=om("ChannelVod_highlight",!1),Eo=om("AGameVod_highlight",!1),oS=om("UserVod_highlight",!1),zS=im("vod_periodNumber",2),wo=im("AGameVod_periodNumber",2),nS=im("UserVod_TypeNumber",1),rb(),Ic=document.getElementById("search_input"),Pc=document.getElementById("user_input"),Gc=document.getElementById("oauth_input"),cf(t_),cf(Qu),cf(e_),document.addEventListener("visibilitychange",nf,!1),Tc=window.setInterval(Af,6e4)})}function d_(e){Af(),r_("label_refresh",e?"icon-refresh":"icon-arrow-circle-left",e?t+Jt:I),r_("label_switch","icon-switch",l),r_("label_side_panel","icon-ellipsis",Fn),p_("top_bar_live",_),p_("top_bar_user",e?u:a),p_("top_bar_featured",tn),p_("top_bar_game",m),p_("top_bar_vod",Kt),p_("top_bar_clip",U),h_("scene2_search_text",va+n),h_("scene2_channel_text",va+Ot),h_("scene2_game_text",va+Nt),p_("dialog_end_replay_text",$t),p_("dialog_end_vod_text",an),p_("dialog_end_channel_text",Ot),p_("dialog_end_game_text",Nt),h_("dialog_about_text",_a+fa),Bc=[le,re,ce,ue],e?cM():(hM(),ef())}function l_(){p_("play_dialog_exit_text",z),h_("dialog_controls_play_text",ma),p_("side_panel_search",n),p_("side_panel_settings",a),p_("side_panel_about",i),p_("side_panel_controls",e),p_("side_panel_exit",J),p_("side_panel_live",_),p_("side_panel_user",u),p_("side_panel_featured",tn),p_("side_panel_games",m),p_("side_panel_videos",Kt),p_("side_panel_clips",U),p_("side_panel_hide",s),p_("chanel_button",S),p_("game_button",m),p_("live_button",_),p_("exit_app_cancel",Y),p_("exit_app_close",X),p_("remove_cancel",Y),p_("remove_yes",Dt),p_("exit_app_minimize",j),p_("main_dialog_exit_text",V),h_("dialog_controls_text",ua),p_("dialog_vod_text",yn),h_("dialog_vod_start_text",wn)}function r_(e,t,n){h_(e,'<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va+n+"</div>")}function c_(e){document.getElementById(e).classList.add("hide")}function u_(e){document.getElementById(e).classList.remove("hide")}function __(e){return-1===document.getElementById(e).className.indexOf("hide")}function f_(e,t){document.getElementById(e).classList.add(t)}function m_(e,t){document.getElementById(e).classList.remove(t)}function h_(e,t){document.getElementById(e).innerHTML=t}function p_(e,t){document.getElementById(e).textContent=t}function v_(){lf(-1),u_("dialog_loading")}function g_(){c_("dialog_loading")}function y_(){window.clearTimeout(mu)}function b_(){mu=window.setTimeout(k_,6e3)}function w_(){b_(),u_("main_dialog_exit"),document.body.addEventListener("keydown",Xf,!1)}function k_(){document.body.removeEventListener("keydown",Xf,!1),Zf(Oc),y_(),c_("main_dialog_exit"),Qr=0,Ec()}function M_(){return __("main_dialog_exit")}function C_(){af("dialog_counter_text"),S_(0,0,0)}function E_(e,t,n,a){0<a?(p_("dialog_counter_text",t*n+(e+1)+"/"+a),S_(t,n,a)):C_()}function S_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=lu.Main_Go===qc||lu.Main_Go===au||lu.Main_Go===iu||lu.Main_Go===Wc||lu.Main_Go===ou||lu.Main_Go===tu||lu.Main_Go===nu||lu.Main_Go===Kc,s=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));xc.style.top=s+"px",hu&&(hu=!1,xc.style.backgroundColor="#777777")}else xc.style.backgroundColor="#000000",xc.style.top=a+"px",hu=!0}function x_(e){(Fu=12)/3<e&&(Fu=3*e),99<Fu&&(Fu=99)}function I_(e){p_("dialog_warning_text",e),u_("dialog_warning")}function P_(){c_("dialog_warning")}function G_(){F_(),U_(),u_("dialog_about")}function L_(){c_("dialog_about")}function T_(){return __("dialog_about")}function B_(){F_(),U_(),P_(),W_(lu.Main_Go),C_(),lM()}function O_(){L_(),U_(),u_("dialog_controls")}function F_(){c_("dialog_controls")}function H_(){return __("dialog_controls")}function U_(){c_("dialog_update")}function A_(){return __("dialog_update")}function N_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function D_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function q_(e){return-1!==e.indexOf("live")?"":W}function R_(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function z_(){Af(),X_(),document.body.addEventListener("keyup",bf,!1)}function V_(){for(var e,t=0;t<yu.length;t++)t<4?document.getElementById(yu[t]).style.opacity="0.5":-1===(e=document.getElementById(yu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");f_("topbar","topbar_dim")}function J_(){for(var e=0;e<yu.length;e++)document.getElementById(yu[e]).style.opacity="1";m_("topbar","topbar_dim")}function X_(e){window.clearTimeout(Lc),J_(),lu.Main_Go!==Yc&&(lu.Main_BeforeChannelisSet=!1),lu.Main_Go!==qc&&(lu.Main_BeforeAgameisSet=!1),C_(),Hf(function(){lu.Main_Go===Ac?_c():lu.Main_Go===Nc?ts():lu.Main_Go===eu?ni():lu.Main_Go===Dc?(bb=jb,Eb()):lu.Main_Go===qc?Ns():lu.Main_Go===Jc?gk():lu.Main_Go===Xc?ak():lu.Main_Go===jc?zk():lu.Main_Go===Yc?_d():lu.Main_Go===Wc?cl():lu.Main_Go===Kc?(bb=Jb,Eb()):lu.Main_Go===Zc?CE():lu.Main_Go===Rc?QC():lu.Main_Go===zc?bC():lu.Main_Go===Vc?(bb=Yb,Eb()):lu.Main_Go===$c?VM():lu.Main_Go===Qc?Iw():lu.Main_Go===tu?KS():lu.Main_Go===nu?(bb=Vb,Eb()):lu.Main_Go===au?xo():lu.Main_Go===iu?(bb=Xb,Eb()):lu.Main_Go===su?Fr():lu.Main_Go===ou?dS():_c(),Lc=window.setTimeout(V_,3e3),e&&tm()})}function j_(){am("Main_values",JSON.stringify(lu))}function Y_(){lu=Cb(lu,sm("Main_values",{}))}function W_(e){e===Ac?fc():e===Nc?ns():e===eu?ai():e===Dc?Sb():e===qc?Ds():e===Jc?yk():e===Xc?ik():e===jc?Vk():e===Yc?fd():e===Wc?ul():e===Kc?Sb():e===Zc?EE():e===Rc?eE():e===zc?wC():e===Vc?Sb():e===$c?JM():e===Qc?Pw():e===tu?ZS():e===nu?Sb():e===au?Io():e===iu?Sb():e===su?Hr():e===ou&&lS(),__("settings_scroll")&&rM()}function K_(){r_("label_refresh","icon-refresh",t+Jt),r_("label_side_panel","icon-ellipsis",Fn),c_("label_switch"),m_("top_bar_user","icon_center_focus"),p_("top_bar_live",_),p_("top_bar_user",u),p_("top_bar_featured",tn),p_("top_bar_game",m),p_("top_bar_vod",Kt),p_("top_bar_clip",U)}function Z_(){r_("label_side_panel","icon-arrow-circle-left",I),af("top_bar_live"),af("top_bar_game"),af("top_bar_vod"),af("top_bar_clip"),af("top_bar_featured"),f_("top_bar_user","icon_center_focus")}function $_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function Q_(e){return e=new Date(e),vu?e.getDate()+" "+Xt[e.getMonth()]+", "+e.getFullYear():Xt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function ef(){h_("dialog_about_text",_a+be+Yu+fa)}function tf(){Fc?(lu.Users_Position=0,lu.Main_Go=Ac,lu.Search_isSearching&&K_(),lu.Search_isSearching=!1,X_()):window.location.reload(!0)}function nf(){document.hidden?window.clearInterval(Tc):(Af(),Tc=window.setInterval(Af,6e4),window.setTimeout(function(){document.hidden||Af()},2e4))}function af(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function sf(e){for(var t,n=0;n<_u.length;n++)null!==(t=document.getElementById(_u[n].id))&&a_(t,_u[n].src+Zu,e)}function of(){_u=[]}function df(e,t){_u.push({id:e,src:t})}function lf(e){Hc=e}function rf(e){var t=0;return Hc<e?t=-1:e<Hc&&(t=1),Hc=e,t}function cf(e){Uc.src=e}function uf(e){return(pu=document.createElement("td")).setAttribute("id",e),pu.className="stream_cell",pu}function _f(e,t,n){return(pu=document.createElement("td")).setAttribute("id",t[4]+e),pu.setAttribute(Ju,n[0]),pu.setAttribute("data-id",n[1]),pu.className="stream_cell",pu.innerHTML=mf(e,t,n),pu}function ff(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Ju,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=mf(i,n,t),a.setAttribute("id",n[4]+i)}function mf(e,t,n){return df(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function hf(e,t,n,a,i){return e<xu&&cf(i[0]),(pu=document.createElement("td")).setAttribute("id",a[8]+t),pu.setAttribute(Ju,JSON.stringify(n)),pu.className="stream_cell",pu.innerHTML=vf(t,a,i),pu}function pf(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Ju,JSON.stringify(t)),i.innerHTML=vf(s,a,n),i.setAttribute("id",a[8]+s)}function vf(e,t,n){return df(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+IM.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+p+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function gf(e,t,n){return(pu=document.createElement("td")).setAttribute("id",t[5]+e),pu.setAttribute(Ju,n[0]),pu.className="stream_cell",pu.innerHTML=yf(e,t,n),pu}function yf(e,t,n){return df(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function bf(){cu=!0}function wf(){ru=!0}function kf(){ru=!1,window.setTimeout(wf)}function Mf(){return!ru||!cu}function Cf(e,t,n,a,i){if(f_(n[0]+e+"_"+t,Vu),E_(t,e,a,i),rf(e)){var s=screen.height/100;1<e?R_(e+1,0,n[0])?Tf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+42*s):bf():Tf(n[6],5*s)}else bf()}function Ef(e,t,n,a,i){if(f_(n[0]+e+"_"+t,Vu),E_(t,e,a,i),rf(e)){var s=screen.height/100;e?R_(e+1,0,n[0])&&Tf(n[10],-1*document.getElementById(n[8]+e+"_"+t).offsetTop+s*(33+bu)):Tf(n[10],7*s)}else bf()}function Sf(e,t,n,a,i){if(f_(n[0]+e+"_"+t,Vu),E_(t,e,a,i),rf(e)){var s=screen.height/100;Tf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+e+"_"+t).offsetTop+51*s:3.0625*s)}else bf()}function xf(e,t,n){lu.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),lu.Play_selectedChannel_id=lu.Play_selectedChannel[1],lu.Play_selectedChannel=lu.Play_selectedChannel[0],lu.Main_Go===zc?(lu.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,lu.Play_selectedChannelDisplayname=lu.Play_DisplaynameHost.split(ae)[1],lu.Play_isHost=!0):lu.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,lu.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(p)[1],document.body.removeEventListener("keydown",n),lu.Main_Go===qc&&(lu.Main_OldgameSelected=lu.Main_gameSelected),If()}function If(){document.body.addEventListener("keydown",Lg,!1),c_("scene1"),u_("scene2"),Fv(),Rv(),lg(),Hf(Fp)}function Pf(e,t,n){ew=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),Om=parseInt(ew[1]),lu.Play_gameSelected=ew[2],lu.Main_selectedChannel=ew[3],lu.Main_selectedChannelDisplayname=ew[4],lu.Main_selectedChannelLogo=ew[5],lu.Main_selectedChannel_id=ew[6],lu.ChannelVod_vodId=ew[7],rl=parseInt(ew[8]),Qb=ew[9],nw=ew[10],Zb=ew[11],ew=ew[0],tw=document.getElementById(t[4]+e).textContent,$b=document.getElementById(t[6]+e).textContent,document.body.removeEventListener("keydown",n),document.body.addEventListener("keydown",ah,!1),c_("scene1"),u_("scene2"),Rv(),Lv(),Cv(),xv(),Hf(Fm)}function Gf(e,t,n){lu.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),Kd=parseInt(lu.ChannelVod_vodId[1]),Qd=lu.ChannelVod_vodId[2],lu.Play_gameSelected=lu.ChannelVod_vodId[3],lu.Main_selectedChannel=lu.ChannelVod_vodId[4],Cp=lu.ChannelVod_vodId[5],lu.ChannelVod_vodId=lu.ChannelVod_vodId[0].substr(1),lu.Main_Go===Wc?sl=document.getElementById(t[3]+e).innerHTML:(sl="",lu.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),dl=document.getElementById(t[4]+e).textContent,ll=document.getElementById(t[5]+e).textContent,ol=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,document.body.removeEventListener("keydown",n),Lf()}function Lf(){document.body.addEventListener("keydown",yb,!1),c_("scene1"),u_("scene2"),jy(),Rv(),Lv(),xv(),my=!1,Hf(wy)}function Tf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(bf,10)}function Bf(e,t){cu=!1,m_(t[0]+e,Vu)}function Of(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||Ff(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function Ff(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Hf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Uf(){var e=(new Date).getTime()+Wu;return e=new Date(e),(vu?jt[e.getDay()]+" "+e.getDate()+"/"+Xt[e.getMonth()]:jt[e.getDay()]+" "+Xt[e.getMonth()]+"/"+e.getDate())+" "+uv(e.getHours())+":"+uv(e.getMinutes())}function Af(){p_("label_clock",Uf()),Zu="?"+Math.random()}function Nf(){f_("side_panel_"+Mu,"side_panel_text_focus")}function Df(){m_("side_panel_"+Mu,"side_panel_text_focus")}function qf(){Mu?1===Mu?B_():2===Mu?(document.body.addEventListener("keydown",Oc,!1),G_()):3===Mu?(document.body.addEventListener("keydown",Oc,!1),O_()):4===Mu?w_(Oc):5===Mu?Rf(Ac):6===Mu?Rf(ys()?Zc:Nc):7===Mu?Rf(su):8===Mu?Rf(Dc):9===Mu?Rf(tu):10===Mu&&Rf(nu):lu.Main_Go!==Jc?(lu.Search_isSearching||lu.Main_Go!==Yc&&lu.Main_Go!==Kc&&lu.Main_Go!==Wc||Fd(),lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,W_(lu.Main_BeforeSearch),X_()):document.body.addEventListener("keydown",Oc,!1),Vf()}function Rf(e){e===lu.Main_Go?document.body.addEventListener("keydown",Oc,!1):(lu.Main_Before=lu.Main_Go,lu.Main_Go=e,W_(lu.Main_Before),X_())}function zf(e){Oc=e,document.body.removeEventListener("keydown",Oc),document.body.addEventListener("keydown",Jf,!1),m_("side_panel","side_panel_hide")}function Vf(){document.body.removeEventListener("keydown",Jf),f_("side_panel","side_panel_hide"),Df(),Mu=0,Nf()}function Jf(e){switch(e.keyCode){case Aa:case Pa:document.body.addEventListener("keydown",Oc,!1),Vf(),Qf();break;case Ga:Mu&&(Df(),Mu--,Nf());break;case Ta:Mu<10&&(Df(),Mu++,Nf());break;case Ba:qf()}}function Xf(e){switch(e.keyCode){case Aa:k_();break;case La:2<++Qr&&(Qr=0),Ec(),y_(),b_();break;case Pa:--Qr<0&&(Qr=2),Ec(),y_(),b_();break;case Ba:Qr?Ku&&1===Qr?Android.mclose(!1):Ku&&2===Qr&&Android.mclose(!0):k_()}}i_();var jf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Yf=[Ac,Zc,su,Dc,tu,nu],Wf=!1;function Kf(e){if(!(Wf||bb.FirstLoad||Mf()))switch(e.keyCode){case Aa:H_()?(Qf(),F_()):T_()?(Qf(),L_()):lu.Main_Go===qc?(lu.Main_OldgameSelected=lu.Main_gameSelected,lu.Games_return?(lu.Main_Go=Xc,lu.Main_gameSelected=lu.gameSelectedOld):(lu.Main_Go=lu.Main_BeforeAgame,lu.Main_BeforeAgame=Ac),Ds(),$f(),X_()):lu.Main_Go===iu?(Db(qc),$f(),X_()):lu.Main_Go===Vc?(Db(Zc),$f(),X_()):lu.Main_Go===Kc?(Db(Yc),$f(),X_()):lu.Main_Go===au?(lu.Main_Go=qc,Io(),$f(),X_()):lu.Main_Go===Rc?(lu.Main_Go=Zc,eE(),$f(),X_()):lu.Main_Go===zc?(lu.Main_Go=Zc,wC(),$f(),X_()):lu.Main_Go===ou?(lu.Main_Go=Zc,lS(),$f(),X_()):lu.Main_Go===$c?(lu.Main_Go=Zc,JM(),$f(),X_()):lu.Main_Go===Yc?(lu.Main_Go=lu.Main_BeforeChannel,lu.Main_BeforeChannel=Ac,fd(),lu.Main_selectedChannel_id="",$f(),X_()):lu.Main_Go===Wc?(lu.Main_Go=Yc,ul(),$f(),X_()):lu.Main_Go===jc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Ac:lu.Main_Go=lu.Main_BeforeSearch,Vk(),lu.Search_isSearching=!1,$f(),X_()):lu.Main_Go===Xc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Ac:lu.Main_Go=lu.Main_BeforeSearch,lu.Search_isSearching=!1,ik(),$f(),X_()):lu.Main_Go===Qc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Ac:lu.Main_Go=lu.Main_BeforeSearch,lu.Main_selectedChannel_id&&Hd(),Pw(),lu.Search_isSearching=!1,$f(),X_()):($f(),zf(Kf));break;case La:if(lu.Search_isSearching||lu.Main_Go===Yc||lu.Main_Go===Wc||lu.Main_Go===Kc||lu.Main_Go===jc||lu.Main_Go===Xc||lu.Main_Go===Qc)break;m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),lu.Main_CenterLablesVectorPos++,5<lu.Main_CenterLablesVectorPos&&(lu.Main_CenterLablesVectorPos=0),Qf(),em();break;case Pa:if(lu.Search_isSearching||lu.Main_Go===Yc||lu.Main_Go===Wc||lu.Main_Go===Kc||lu.Main_Go===jc||lu.Main_Go===Xc||lu.Main_Go===Qc)break;m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),lu.Main_CenterLablesVectorPos--,lu.Main_CenterLablesVectorPos<0&&(lu.Main_CenterLablesVectorPos=5),Qf(),em();break;case Ta:m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Kf),uu=!1,X_();break;case Ba:nm()}}function Zf(e){window.clearTimeout(Lc),J_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Kf),document.body.addEventListener("keydown",Kf,!1),Qf()}function $f(){m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Kf),uu=!1}function Qf(){uu=!0,f_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line")}function em(){W_(lu.Main_Go),lu.Main_Go=Yf[lu.Main_CenterLablesVectorPos],lu.Main_Go!==Zc||ys()?X_(!0):(lu.Main_Go=Nc,$f(),X_())}function tm(){lu.Main_Go===Ac?document.body.removeEventListener("keydown",Sc):lu.Main_Go===Zc?document.body.removeEventListener("keydown",DE):lu.Main_Go===qc?document.body.removeEventListener("keydown",io):lu.Main_Go===su?document.body.removeEventListener("keydown",Yr):lu.Main_Go===jc?document.body.removeEventListener("keydown",nM):lu.Main_Go===Xc?document.body.removeEventListener("keydown",mk):lu.Main_Go===Qc?document.body.removeEventListener("keydown",zw):lu.Main_Go===Wc?document.body.removeEventListener("keydown",El):lu.Main_Go===Yc?document.body.removeEventListener("keydown",Ud):lu.Main_Go===zc?document.body.removeEventListener("keydown",BC):lu.Main_Go===ou?document.body.removeEventListener("keydown",ES):lu.Main_Go===$c?document.body.removeEventListener("keydown",nC):lu.Main_Go===Dc?(bb=jb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===Kc?(bb=Jb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===tu?document.body.removeEventListener("keydown",px):lu.Main_Go===nu?(bb=Vb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===iu?(bb=Xb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===Vc?(bb=Yb,document.body.removeEventListener("keydown",zb)):lu.Main_Go===au?document.body.removeEventListener("keydown",Ro):lu.Main_Go===Rc&&document.body.removeEventListener("keydown",hE)}function nm(){window.clearTimeout(Lc),J_(),lu.Main_Go!==Yc&&(lu.Main_BeforeChannelisSet=!1),lu.Main_Go!==qc&&(lu.Main_BeforeAgameisSet=!1),C_(),lu.Main_Go===Ac?mc():lu.Main_Go===Zc?SE():lu.Main_Go===su?Ur():lu.Main_Go===qc?qs():lu.Main_Go===$c?XM():lu.Main_Go===Yc?md():lu.Main_Go===Wc?_l():lu.Main_Go===jc?Jk():lu.Main_Go===Xc?sk():lu.Main_Go===Qc?Lw():lu.Main_Go===Dc?(bb=jb,xb()):lu.Main_Go===Vc?(bb=Yb).loadingData||bb.key_refresh():lu.Main_Go===tu?$S():lu.Main_Go===nu?(bb=Vb,xb()):lu.Main_Go===iu?(bb=Xb,xb()):lu.Main_Go===Kc?(bb=Jb,xb()):lu.Main_Go===au?Po():lu.Main_Go===Rc?tE():lu.Main_Go===zc?kC():lu.Main_Go===ou?rS():mc(),Lc=window.setTimeout(V_,3e3)}function am(e,t){localStorage.setItem(e,t)}function im(e,t){return parseInt(localStorage.getItem(e))||t}function sm(e,t){return JSON.parse(localStorage.getItem(e))||t}function om(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function dm(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function lm(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),fu=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function rm(e,t,n,a,i,s){var o;if(Ku){if(!(o=Android.mreadUrl(e,t,n,a)))return void s();200===(o=JSON.parse(o)).status?i(o.responseText):s()}else(o=new XMLHttpRequest).open("GET",e,!0),o.timeout=t,0<n&&o.setRequestHeader(Uu,Hu),1<n&&o.setRequestHeader(Au,qu),2<n&&o.setRequestHeader(Nu,a),o.ontimeout=function(){},o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status)return void i(o.responseText);s()}},o.send(null)}var cm=0,um=null,_m=0,fm=!1,mm=0,hm=0,pm=!1,vm=0,gm=2e3,ym=5,bm="source",wm=bm,km=0,Mm=[],Cm="",Em=!1,Sm=0,xm=0,Im=1,Pm=!1,Gm=0,Lm=!1,Tm=!1,Bm=[0,5],Om=0;function Fm(){wv(),lg(),Jp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),p_("stream_info_name",lu.Main_selectedChannelDisplayname),h_("stream_info_title",Qb),h_("stream_info_game",Zb+", "+$b+", "+nw),p_("stream_live_icon",tw),p_("progress_bar_duration",_v(Om)),sb((Ep=Bm)[1]),lu.Play_isHost=!1,p_("progress_bar_current_time",_v(0)),p_("stream_live_time",""),p_("stream_watching_time",""),Pm=null!==lu.ChannelVod_vodId,Al=Bt+".",Pm?(Ul=rl,Jl()):hr(),h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),u_("progress_pause_holder"),th(),mp=0,u_("scene_channel_panel_bottom"),u_("chat_box"),c_("chat_frame"),Tm=!1,ph=-13,Sm=xm=Gm=0,km=2,pg(3),np=!1,ag(),fs()?(Za=!0,$a=lu.Main_selectedChannel_id,yi()):bv(),document.addEventListener("visibilitychange",zm,!1),fm=!1,pm=!(hm=mm=0),Hm(),document.body.removeEventListener("keyup",bf)}function Hm(){vm=0,gm=2e3,Um()}function Um(){var e,t="https://clips.twitch.tv/api/v2/clips/"+ew+"/status";if(Ku){if(!(e=Android.mreadUrl(t,sp,1,null)))return void Am();200===(e=JSON.parse(e)).status?Nm(e.responseText):Am()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=gm,e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Nm(e.responseText):Am())},e.send(null)}function Am(){++vm<ym?(gm+=250,Um()):(kv(),Play_PannelEndStart(3))}function Nm(e){Mm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Mm.length?Mm.push({id:e[t].quality+"p"+Dm(e[t].frame_rate),url:e[t].source}):Mm.push({id:e[t].quality+"p"+Dm(e[t].frame_rate)+" (source)",url:e[t].source});xm=Im,qm()}function Dm(e){return 40<e?60:""}function qm(){Cm=Mm[km=0].url,-1!==bm.indexOf("source")&&(bm="source");for(var e=0;e<$m();e++){if(Mm[e].id===bm){Cm=Mm[km=e].url;break}-1!==Mm[e].id.indexOf(bm)&&(Cm=Mm[km=e].url)}wm=bm,Fc||console.log("PlayClip_onPlayer:",'\n\n"'+Cm+'"\n'),xm=Im,Fc||console.log("PlayClip_onPlayer:",'\n\n"'+Th+'"\n'),Ku&&pm&&Android.startVideoOffset(Cm,3,Em?-1:Android.gettime()),Em=!1,Rm()}function Rm(){Fh&&!zv()&&qv(),Ku&&(_m=0,Lm=!(wp=3),window.clearInterval(Vm),um=window.setInterval(Vm,kp))}function zm(){document.hidden&&(Xm(),window.clearInterval(um))}function Vm(){Ku&&(Sm=Android.gettime()),cm!==Sm||rv()?(_m=Gm=0,Tm=!1):++_m>wp&&(Lm&&Tm&&km<$m()-1?km++:!Lm&&Tm&&Gm++,navigator.onLine?1<Gm?lv(Gm,3,Jm):(Qm(),qm(),Tm=!0):dv(!1,3)),cm=Sm}function Jm(e){if(!e){if(!(km<$m()-1))return void dv(!1,3);km++}Gm=0,Qm(),qm(),Tm=!0}function Xm(){pm&&(Mm=[],jm(),xv(),vv())}function jm(){window.clearInterval(um),Ku&&Android.stopVideo(3),pm=!1,cr(),gv(),document.body.removeEventListener("keydown",ah),document.removeEventListener("visibilitychange",zm),Ym(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",rl=0}function Ym(){oy=!1,sy=dy=0,Av(),bm=wm,document.getElementById("scene_channel_panel").style.opacity="0",Ku&&nb(Android.gettime()/1e3,Om,!0),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",Qv(),window.clearInterval(Og)}function Wm(){Km(),cv(),Og=window.setInterval(Km,1e3),xv(),Ky(),Zm(),Qm(),document.getElementById("scene_channel_panel").style.opacity="1",Qv(),eh()}function Km(){Ku&&nb(Android.gettime()/1e3,Om,!oy)}function Zm(){for(var e=km=0;e<$m();e++){if(Mm[e].id===bm){km=e;break}-1!==Mm[e].id.indexOf(bm)&&(km=e)}}function $m(){return Mm.length}function Qm(){1===$m()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):km?km===$m()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bm=Mm[km].id).indexOf("source")?p_("quality_name",bm.replace("source",ye)):p_("quality_name",bm)}function eh(){yh=window.setTimeout(Ym,5e3+hy)}function th(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",p_("open_vod_text",Pm?an:sn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function nh(){Pm?(lu.vodOffset=rl,jm(),document.body.addEventListener("keydown",yb,!1),ag(),Hf(wy)):(np=!0,Mv(on),window.setTimeout(function(){np=!1,Cv()},2e3))}function ah(e){if(xm!==Im)switch(e.keyCode){case Fa:Fc||window.location.reload(!0);break;case Aa:Iv()?(xv(),Xm()):Sv()}else switch(e.keyCode){case Pa:Mh&&!Ov()&&zv()?(mh++,Qv()):Ov()?(Av(),fy?(sg(),5<++tp&&(tp=0),ig()):(db(-1,Om),hy=2500),eh()):rg()?(mg(),_g(),--dp<0&&(dp=3),ug()):Wm();break;case La:!Mh||Ov()||rg()?Ov()?(Av(),fy?(sg(),--tp<0&&(tp=5),ig()):(db(1,Om),hy=2500),eh()):rg()?(mg(),_g(),3<++dp&&(dp=0),ug()):Wm():am("ChatEnable",(Fh=zv()||rg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case Ga:rg()?mg():Ov()?(2===fy&&1!==tp?(fy--,Zy()):1===fy?(fy--,Zy()):0<km&&1===tp&&(km--,Qm()),Av(),eh()):Mh&&zv()?(4<++gh?$v(!(gh=1)):4===gh&&$v(!0),Kv(!0)):Wm();break;case Ta:rg()?mg():Ov()?(fy?1===fy?(fy++,Zy()):km<$m()-1&&1===tp&&(km++,Qm()):(fy++,Zy()),Av(),eh()):Mh&&zv()?(1.05<(vh+=.05)&&(vh=.05),Zv(!0)):Wm();break;case Ba:rg()?hg(3):Ov()?fy?1===fy?(Pm&&lu.Play_ChatForceDisable&&(rv()?lr(zl):rr()),rg()||ng(3)):wg(3):(Av(),eh(),sy&&ab()):Wm();break;case Aa:Xv()?Jv():Ov()?Ym():Iv()?(xv(),Xm()):Sv();break;case Sa:case Ea:case xa:Pm&&!lu.Play_ChatForceDisable&&(rv()?lr(zl):rr()),rg()||ng(3);break;case Ia:case Ca:Mh&&am("ChatEnable",(Fh=zv()||rg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case ka:Mh&&zv()&&(mh++,Qv());break;case Ma:Mh&&zv()&&(mh--,Qv());break;case Ha:rg()||Vv();break;case Fa:if(!Pm)return;lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?Pm&&(Ul=rl,Jl()):pr(),j_();break;case Oa:Bp(Mh=!Mh);break;case Ua:gg(3)}}var ih,sh,oh,dh,lh,rh,ch,uh,_h,fh,mh=0,hh=mh,ph=-5,vh=.55,gh=3,yh=null,bh="source",wh=bh,kh=0,Mh=!0,Ch=0,Eh=1,Sh=2,xh=0,Ih=null,Ph=0,Gh=0,Lh=0,Th="",Bh=[],Oh=0,Fh=!1,Hh=null,Uh=null,Ah=null,Nh="",Dh=0,qh=5,Rh=0,zh=5,Vh=0,Jh=!1,Xh=null,jh=!1,Yh=0,Wh=null,Kh=0,Zh=0,$h=!1,Qh=!1,ep=!1,tp=1,np=!1,ap=!1,ip=1e4,sp=2e3,op="",dp=0,lp=3,rp=null,cp="",up=0,_p=0,fp=0,mp=0,hp="",pp=!0,vp=!1,gp=!1,yp=0,bp=!1,wp=4,kp=1500,Mp=0,Cp="",Ep=[],Sp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],xp=[0,0,0,1,2,2,2,1],Ip=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Pp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Gp=1,Lp=["chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Tp(){rh=document.getElementById("chat_frame"),uh=document.getElementById("chat_container"),fh=document.getElementById("inner_progress_bar"),mh=im("ChatPositionsValue",0),vh=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,gh=im("ChatSizeValue",3),Fh=om("ChatEnable",!1),Mh=om("Play_isFullScreen",!0),Kv(!1),Zv(!1),Op()}function Bp(e){e?void 0!==ih&&(mh=ih,gh=oh,(Fh=sh)||Rv(),Kv(!1)):(ih=mh,sh=Fh,oh=gh,mh=0,qv(),gh=4,$v(Fh=!0),Kv(!1),Pl&&(Pl.scrollTop=Pl.scrollHeight)),am("Play_isFullScreen",Mh)}function Op(){Gp=yM("chat_font_size");for(var e=0;e<Lp.length;e++)m_("chat_inner_container",Lp[e]);f_("chat_inner_container",Lp[Gp])}function Fp(){wv(),h_("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va+_.toUpperCase()+"</div>"),af("stream_info_title"),Pm=!(ap=!1),Jp(document.getElementById("stream_info_icon"),e_),lu.Play_isHost?p_("stream_info_name",lu.Play_DisplaynameHost):p_("stream_info_name",lu.Play_selectedChannelDisplayname),lu.Play_WasPlaying=1,j_(),dh=lu.Play_isHost,lu.Play_isHost=!1,vp=!1,u_("scene_channel_panel_bottom"),p_("stream_watching_time",g+_v(mp=0)),Nh=fv(0),p_("stream_live_time",y+Nh+b),c_("chat_box"),u_("chat_frame"),c_("progress_pause_holder"),pg(1),gp=Qh=!(ph=-5),up=Zh=Mp=0,_p=Date.now(),ip=3e3,pp=!(Rh=fp=0),xh=Ch,ep=!(Jh=!(Lh=Gh=Ph=jh=0)),document.addEventListener("visibilitychange",Up,!1),Np(),Xp(),document.body.removeEventListener("keyup",bf),Ih=window.setInterval(Rp,6e4)}function Hp(e){Mv(e)}function Play_CheckResume(){Jh&&Up(),Yg&&Gy(),pm&&(Xm(),window.clearInterval(um))}function Up(){document.hidden?rg()?(xv(),Rv(),hv()):(gv(),ep=!1,rh.src="about:blank",window.clearInterval(Ih),fp=Date.now()):(Jh=!0,Lv(),Jh&&(ip=3e3,vp=!(Rh=0),fp=Date.now()-fp,ap?Rp():Np(),xh=Ch,Vh=0,navigator.onLine?Xp():lh=window.setInterval(Ap,100),Ih=window.setInterval(Rp,6e4)))}function Ap(){(navigator.onLine||200<Vh)&&(window.clearInterval(lh),Xp()),Vh++}function Np(){var e="https://api.twitch.tv/kraken/streams/"+lu.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=ip,t.setRequestHeader(Au,qu),t.setRequestHeader(Uu,Hu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Dp(JSON.parse(t.responseText)):qp())},t.send(null)}function Dp(e){null!==e.stream&&(p_("stream_info_name",dh?lu.Play_DisplaynameHost:lu.Play_selectedChannelDisplayname),lu.Play_selectedChannel_id=e.stream.channel._id,h_("stream_info_title",IM.parse(e.stream.channel.status)),lu.Play_gameSelected=e.stream.game,op=", ["+e.stream.channel.language.toUpperCase()+"]",p_("stream_info_game",p+lu.Play_gameSelected+v+N_(e.stream.viewers)+" "+R+op),lu.Play_selectedChannelLogo=e.stream.channel.logo,ap=!0,Jp(document.getElementById("stream_info_icon"),lu.Play_selectedChannelLogo),Nh=e.stream.created_at,fs()?(Za=!0,$a=lu.Play_selectedChannel_id,yi()):bv())}function qp(){Rh<zh&&(ip+=500,window.setTimeout(function(){Jh&&Np()},750)),Rh++}function Rp(){var e="https://api.twitch.tv/kraken/streams/"+lu.Play_selectedChannel_id;sp=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Mp=0,zp(JSON.parse(t.responseText))):Vp())},t.open("GET",e,!0),t.timeout=sp,t.setRequestHeader(Au,qu),t.setRequestHeader(Uu,Hu),t.send(null)}function zp(e){null!==e.stream&&(h_("stream_info_title",IM.parse(e.stream.channel.status)),lu.Play_gameSelected=e.stream.game,p_("stream_info_game",p+lu.Play_gameSelected+v+N_(e.stream.viewers)+" "+R+op),ap||Jp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Vp(){Mp<zh?(window.setTimeout(function(){Jh&&Rp()},2500),Mp++):Mp=0}function Jp(e,t){e.onerror=function(){this.src=e_,ap=!1},e.src=t}function Xp(){Dh=0,sp=2e3+(vp?3e3:0),jp()}function jp(){var e,t;if(e=xh===Ch?"https://api.twitch.tv/api/channels/"+lu.Play_selectedChannel+"/access_token"+(fs()&&Zi[lu.Users_Position].access_token?"?oauth_token="+Zi[lu.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+lu.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Ph.token)+"&sig="+Ph.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Ku){if(!(t=Android.mreadUrl(e,sp,1,null)))return void Wp();200===(t=JSON.parse(t)).status?(Dh=0,Jh&&Zp(t.responseText)):403===t.status?Kp():404===t.status?kg():Wp()}else(t=new XMLHttpRequest).open("GET",n_+e,!0),t.timeout=sp,t.setRequestHeader(Uu,Hu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Dh=0,Jh&&Zp(t.responseText)):403===t.status?(Yp(t),Kp()):404===t.status?(Yp(t),kg()):(Yp(t),Wp()))},t.send(null)}function Yp(e){Fc||(console.log(e.status),console.log(e.responseText))}function Wp(){Jh&&pp&&(++Dh<qh+(vp?15:0)?(sp+=250,vp?window.setTimeout(jp,500):jp()):kg())}function Kp(){kv(),Mv(An),window.setTimeout(function(){Jh&&kg()},4e3)}function Zp(e){xh===Ch?(Ph=JSON.parse(e),xh=Eh,Xp()):xh===Eh&&(Bh=$p(Gh=e),xh=Sh,Jh&&tv())}function $p(e){for(var t,n=[],a="",i=1,s=ev(e),o=0;o<s.length;o++)a=s[o].split('NAME="')[1].split('"')[0],t=Qp(s[o].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[o-i].id!==a&&n[o-i].id!==a+" (source)"?n.push({id:a,band:t,url:s[o].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:s[o].split("\n")[2]}));return n}function Qp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function ev(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function tv(){Th=Bh[Oh=0].url,-1!==bh.indexOf("source")&&(bh="source");for(var e=0;e<Wv();e++){if(Bh[e].id===bh){Th=Bh[Oh=e].url;break}-1!==Bh[e].id.indexOf(bh)&&(Th=Bh[Oh=e].url)}wh=bh,xh=Sh,Fc||console.log("Play_onPlayer:",'\n\n"'+Th+'"\n'),Ku&&Jh&&Android.startVideo(Th,1),nv()}function nv(){window.clearTimeout(ch),bp=!1,Fh&&!zv()&&qv(),ep=!0,av(),Ku&&(Kh=0,$h=!(wp=3),window.clearInterval(Wh),Wh=window.setInterval(sv,kp))}function av(){if(lu.Play_ChatForceDisable){bp=!0,window.clearInterval(_h);var e=rh.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(ch),yp=0,gp=!1,rh.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+lu.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",ch=window.setTimeout(iv,5e3)}else pr()}function iv(){var e=rh.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(gp=-1!==e.body.innerHTML.indexOf("Connected")),t=gp}catch(e){gp=!0}gp?t&&(_h=window.setInterval(Dv,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):bp&&yp<7?(yp++,ch=window.setTimeout(iv,1e3)):av()}function sv(){Ku&&(up=Android.gettime()),Yh!==up||rv()?(Kh=Zh=0,Qh=!1):wp<++Kh&&($h&&Qh&&Oh<Wv()-1?Oh++:!$h&&Qh&&Zh++,navigator.onLine?1<Zh?lv(Zh,1,ov):(Yv(),tv(),Qh=!0):dv(!1,1)),Yh=up}function ov(e){if(!e){if(!(Oh<Wv()-1))return void kg();Oh++}Zh=0,Yv(),tv(),Qh=!0}function dv(e,t){lu.Play_isHost=e,pg(t),Play_PannelEndStart(t)}function lv(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?rand="+Math.round(1e7*Math.random()),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&dv(!1,t))},a.send(null)}function rv(){return!!Ku&&!Android.getPlaybackState()}function cv(){var e=Uf();p_("stream_clock",e),p_("label_clock",e)}function uv(e){return e<10?"0"+e:e}function _v(e){var t,n,a;return e+=mp/1e3,t=uv(parseInt(e)%60),n=uv((e=Math.floor(e/60))%60),a=uv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function fv(e){var t,n,a;return e<0&&!mp&&(mp=-1*e),e+=mp,t=uv(parseInt(e/1e3)%60),n=uv((e=Math.floor(e/1e3/60))%60),a=uv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function mv(e){return fv((new Date).getTime()-new Date(e).getTime())}function hv(){Jh&&(pv(),lu.Play_WasPlaying=0,vv())}function pv(){Ku&&Android.stopVideo(1),Jh=!1,cr(),gv(),yv(),window.clearInterval(_h),lu.Play_selectedChannel_id=""}function vv(){nb(0,0),u_("scene1"),c_("scene2"),z_()}function gv(){Fv(),Lv(),Cv(),lg(),Cp="",Oh===Wv()-1&&(wh=Bh[0].id),Jg===tb()-1&&(Ug=Vg[0].id),km===$m()-1&&(wm=Mm[0].id)}function yv(){ep=!1,document.body.removeEventListener("keydown",Lg),document.removeEventListener("visibilitychange",Up),rh.src="about:blank",window.clearInterval(Ih),window.clearInterval(Wh),np=!1}function bv(){h_("fallow_text",va+Gt),Wa=!1}function wv(){Ku&&Android.mshowLoading(!0)}function kv(){Ku&&Android.mshowLoading(!1)}function Mv(e){p_("dialog_warning_play_text",e),u_("dialog_warning_play")}function Cv(){c_("dialog_warning_play")}function Ev(){return __("dialog_warning_play")}function Sv(){Iv()?xv():(u_("play_dialog_exit"),Hh=window.setTimeout(Sv,3e3))}function xv(){window.clearTimeout(Hh),c_("play_dialog_exit")}function Iv(){return __("play_dialog_exit")}function Pv(){window.clearTimeout(Uh)}function Gv(){window.clearTimeout(Ah)}function Lv(){Pv(),Gv(),c_("play_dialog_simple_pause")}function Tv(){rv()?Bv()?(c_("play_dialog_simple_pause"),Ah=window.setTimeout(Tv,8e3)):(u_("play_dialog_simple_pause"),Uh=window.setTimeout(Tv,1500)):Lv()}function Bv(){return __("play_dialog_simple_pause")}function Ov(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Fv(){Av(),document.getElementById("scene_channel_panel").style.opacity="0",bh=wh,Qv(),window.clearInterval(Og)}function Hv(){ag(),jv(),Yv(),Uv(),Og=window.setInterval(Uv,1e3),cv(),xv(),document.getElementById("scene_channel_panel").style.opacity="1",Qv(),Nv()}function Uv(){p_("stream_watching_time",g+fv(Date.now()-fp-_p)),p_("stream_live_time",y+mv(Nh)+b)}function Av(){window.clearTimeout(yh),hy=0}function Nv(){yh=window.setTimeout(Fv,5e3)}function Dv(){var e=rh.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function qv(){Qv(),u_("chat_container")}function Rv(){c_("chat_container")}function zv(){return __("chat_container")}function Vv(){xv(),u_("dialog_controls_play")}function Jv(){c_("dialog_controls_play")}function Xv(){return __("dialog_controls_play")}function jv(){for(var e=Oh=0;e<Wv();e++){if(Bh[e].id===bh){Oh=e;break}-1!==Bh[e].id.indexOf(bh)&&(Oh=e)}}function Yv(){1===Wv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Oh?Oh===Wv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bh=Bh[Oh].id).indexOf("source")?p_("quality_name",bh.replace("source",ye)+Bh[Oh].band):p_("quality_name",bh+Bh[Oh].band)}function Wv(){return Bh.length}function Kv(e){uh.style.height=Pp[gh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Pp[gh-1].dialogTop+"%",Qv(),Dv(),e&&eg(Hn+Pp[gh-1].percentage),window.setTimeout(function(){Pl&&(Pl.scrollTop=Pl.scrollHeight)},500),am("ChatSizeValue",gh)}function Zv(e){var t=vh-.05;t=t<.05?0:t.toFixed(2),uh.style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&eg(Un+(100*t).toFixed(0)+"%"),am("ChatBackgroundValue",vh)}function $v(e){mh=e?xp[hh=mh]:Ip[mh][hh]}function Qv(){var e=4===gh;mh<0?mh=e?2:7:(e?2:7)<mh&&(mh=0),(!mh||5<mh||4===gh)&&Pm&&Ov()?kh=ph:(0<mh&&mh<6||!Ov())&&(kh=0),uh.style.top=(e?.2:Sp[mh].top+Sp[mh].sizeOffset[gh-1])+kh+"%",uh.style.left=Sp[mh+(e?2:0)].left+"%",am("ChatPositionsValue",mh)}function eg(e){window.clearTimeout(Xh),p_("play_chat_dialog_text",e),u_("play_chat_dialog"),Xh=window.setTimeout(tg,1e3)}function tg(){c_("play_chat_dialog")}function ng(e){rv()?(Lv(),Ku&&Android.play(!0),h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(Ov()&&Fv(),Wh=window.setInterval(sv,kp)):2===e?(Ov()&&jy(),Qg=window.setInterval(Ry,kp)):3===e&&(Ov()&&Ym(),um=window.setInterval(Vm,kp))):(1===e?window.clearInterval(Wh):2===e?window.clearInterval(Qg):3===e&&window.clearInterval(um),h_("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Ku&&Android.play(!1),Tv())}function ag(){sg(),tp=1,ig()}function ig(){f_("scene2_pannel_"+tp,"playbotton_focus")}function sg(){m_("scene2_pannel_"+tp,"playbotton_focus")}function og(){xm=Ag=xh=-1,Rv(),Fv(),Ym(),jy(),np||Cv(),kv(),xv(),Jv(),ug()}function dg(){u_("dialog_end_stream")}function lg(){c_("dialog_end_stream"),mg(),cg()}function rg(){return __("dialog_end_stream")}function cg(){_g(),dp=0,ug()}function ug(){f_("dialog_end_"+dp,"dialog_end_icons_focus")}function _g(){m_("dialog_end_"+dp,"dialog_end_icons_focus")}function fg(e){1===e?cp=lu.Play_selectedChannelDisplayname+" "+_:2===e?cp=lu.Main_selectedChannelDisplayname+Zt:3===e&&(cp=lu.Main_selectedChannelDisplayname+Bt),h_("dialog_end_stream_text",cp+P+na+Qt+lp+"..."),rg()?(Ag=xh=Sh,xm=Im,-1===--lp?(h_("dialog_end_stream_text",cp+P+na+Qt+"0..."),xv(),Rv(),1===e?hv():2===e?Vy():3===e&&Xm()):rp=window.setTimeout(function(){fg(e)},1e3)):rp=window.setTimeout(function(){fg(e)},50)}function mg(){window.clearTimeout(rp),h_("dialog_end_stream_text",cp+P+na+en)}function hg(e){var t=!0;dp?1===dp?lu.Play_isHost?(lu.Play_DisplaynameHost=lu.Play_selectedChannelDisplayname+ae,lu.Play_selectedChannel=hp.target_login,lu.Play_selectedChannelDisplayname=hp.target_display_name,lu.Play_DisplaynameHost=lu.Play_DisplaynameHost+lu.Play_selectedChannelDisplayname,pv(),document.body.addEventListener("keydown",Lg,!1),lu.Play_selectedChannel_id=hp.target_id,Hf(Fp)):nh():2===dp?vg(e):3===dp&&yg(e):2===e?Vg.length?(ty=!(gy=!0),Dy(),Lv(),Ul=cy=0,Jl()):(t=!1,Mv(Zn),window.setTimeout(function(){Cv()},2e3)):3===e&&(Mm.length?(Lm=!(Em=!0),qm(),Lv(),Pm?(cy=0,Ul=rl,Jl()):hr()):(t=!1,Mv(Zn),window.setTimeout(function(){Cv()},2e3))),1!==dp&&3===dp&&""===lu.Play_gameSelected&&(t=!1),t&&lg()}function pg(e){e?1===e?(_g(),dp=2,ug(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(cg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(cg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",p_("dialog_end_vod_text",Pm?an:sn)):(_g(),dp=1,ug(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",p_("dialog_end_vod_text",rn))}function vg(e){lu.Main_BeforeChannelisSet||lu.Main_Go===Wc||lu.Main_Go===Kc||(lu.Main_BeforeChannel=lu.Main_BeforeAgameisSet&&lu.Main_Go!==qc?lu.Main_BeforeAgame:lu.Main_Go,lu.Main_BeforeChannelisSet=!0),W_(lu.Main_Go),lu.Main_Go=Yc,1===e?(lu.Main_selectedChannel_id=lu.Play_selectedChannel_id,lu.Main_selectedChannel=lu.Play_selectedChannel,lu.Main_selectedChannelDisplayname=lu.Play_selectedChannelDisplayname,td=Wa,Rv(),hv()):2===e?Vy():3===e&&Xm()}function gg(e){lu.Search_isSearching||(lu.Main_BeforeSearch=lu.Main_Go),W_(lu.Main_Go),lu.Main_Go=Jc,1===e?(Rv(),hv()):2===e?Vy():3===e&&Xm()}function yg(e){if(""===lu.Play_gameSelected)return np=!0,Mv(jn),void window.setTimeout(function(){np=!1,Cv()},2e3);lu.Main_BeforeAgameisSet||lu.Main_Go===au||lu.Main_Go===iu||(lu.Main_BeforeAgame=lu.Main_BeforeChannelisSet&&lu.Main_Go!==Yc&&lu.Main_Go!==Wc&&lu.Main_Go!==Kc?lu.Main_BeforeChannel:lu.Main_Go,lu.Main_BeforeAgameisSet=!0),W_(lu.Main_Go),lu.Main_Go=qc,Us=!1,lu.Main_gameSelected=lu.Play_gameSelected,Rv(),1===e?hv():2===e?Vy():3===e&&Xm()}function bg(){fs()&&Zi[lu.Users_Position].access_token?Wa?xi():Ci():(Mv(Lt),np=!0,window.setTimeout(function(){Cv(),np=!1},2e3))}function wg(e){tp?1===tp?(1===e?(tv(),Fv()):2===e?(ty=!1,Dy(),jy()):3===e&&(Lm=!1,qm(),Ym()),Lv()):2===tp?($a=1===e?lu.Play_selectedChannel_id:lu.Main_selectedChannel_id,bg(),Av(),1===e?Nv():2===e?$y():3===e&&eh()):3===tp?yg(e):4===tp?vg(e):5===tp&&gg(e):nh()}function Play_PannelEndStart(e){window.clearInterval(Wh),window.clearInterval(um),window.clearInterval(Qg),og(),lp=3,fg(e),dg(e)}function kg(){xh=-1,Dh=0,sp=2e3,window.clearTimeout(ch),rh.src="about:blank",window.clearInterval(Ih),window.clearInterval(Wh),""!==lu.Play_selectedChannel_id?Sg():Mg()}function Mg(){var e,t="https://api.twitch.tv/kraken/users?login="+lu.Play_selectedChannel;if(Ku){if(!(e=Android.mreadUrl(t,sp,2,null)))return void Eg();200===(e=JSON.parse(e)).status?Cg(e.responseText.users[0]):Eg()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=sp,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Cg(JSON.parse(e.responseText).users[0]);Eg()}},e.send(null)}function Cg(e){void 0!==e?(lu.Play_selectedChannel_id=e._id,Dh=0,sp=2e3,Sg()):Play_PannelEndStart(1)}function Eg(){++Dh<qh?(sp+=250,Mg()):dv(!1,1)}function Sg(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(lu.Play_selectedChannel_id);if(Ku){if(!(e=Android.mreadUrl(t,sp,1,null)))return void xg();200===(e=JSON.parse(e)).status?Ig(e.responseText):xg()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=sp,e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Ig(e.responseText);xg()}},e.send(null)}function xg(){++Dh<qh?(sp+=250,Sg()):dv(!1,1)}function Ig(e){void 0!==(hp=JSON.parse(e).hosts[0]).target_login?(np=!0,Mv(lu.Play_selectedChannelDisplayname+ln+ae+hp.target_display_name),window.setTimeout(function(){np=!1},4e3),pg(0),lu.Play_isHost=!0):(pg(1),lu.Play_isHost=!1),Play_PannelEndStart(1)}function Pg(){Wa?(h_("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),h_("fallow_text",va+Ct)):(h_("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),h_("fallow_text",va+Et))}function Gg(e){Xv()?Jv():rg()&&!Iv()?(mg(),Sv()):Ov()&&!mb()?e?jy():Fv():mb()&&Iv()?(fb(),Jy(!1),vv()):Iv()?(xv(),Rv(),e?Vy():hv()):(Ev()&&Cv(),Sv())}function Lg(e){if(xh!==Sh)switch(e.keyCode){case Fa:Fc||window.location.reload(!0);break;case Aa:Iv()?(xv(),Rv(),hv()):Sv()}else switch(e.keyCode){case qa:case Ia:case Ca:Mh&&am("ChatEnable",(Fh=zv()||rg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case ka:Mh&&zv()&&(mh++,Qv());break;case Ma:Mh&&zv()&&(mh--,Qv());break;case Pa:Mh&&!Ov()&&zv()?(mh++,Qv()):Ov()?(sg(),5<++tp&&(tp=1),ig(),Av(),Nv()):rg()?(mg(),_g(),--dp<(lu.Play_isHost?1:2)&&(dp=3),ug()):Hv();break;case La:!Mh||Ov()||rg()?Ov()?(sg(),--tp<1&&(tp=5),ig(),Av(),Nv()):rg()?(mg(),_g(),3<++dp&&(dp=lu.Play_isHost?1:2),ug()):Hv():am("ChatEnable",(Fh=zv()||rg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case Ga:Ov()?(0<Oh&&1===tp&&(Oh--,Yv()),Av(),Nv()):Mh&&zv()?(4<++gh?$v(!(gh=1)):4===gh&&$v(!0),Kv(!0)):rg()?mg():Hv();break;case Ta:Ov()?(Oh<Wv()-1&&1===tp&&(Oh++,Yv()),Av(),Nv()):Mh&&zv()?(1.05<(vh+=.05)&&(vh=.05),Zv(!0)):rg()?mg():Hv();break;case Ba:rg()?hg(1):Ov()?wg(1):Hv();break;case Aa:Gg(!1);break;case Sa:case Ea:case xa:rg()||ng(1);break;case Ha:rg()||Vv();break;case Fa:lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?(c_("chat_box"),u_("chat_frame"),av()):(rh.src="about:blank",pr()),j_();break;case Oa:Bp(Mh=!Mh);break;case Ua:gg(1)}}var Tg,Bg,Og,Fg,Hg="source",Ug=Hg,Ag=0,Ng=null,Dg=0,qg=0,Rg=0,zg="",Vg=[],Jg=0,Xg=0,jg=5,Yg=!1,Wg=0,Kg=5,Zg=1e4,$g=0,Qg=null,ey=0,ty=!1,ny=0,ay=!1,iy=!1,sy=0,oy=!1,dy=0,ly=2e3,ry=!1,cy=0,uy={},_y=0,fy=0,my=!0,hy=0,py=0,vy=0,gy=!1,yy=[0,10,30,60,120,300,600,900,1200,1800],by=!1;function wy(){wv(),lg(),cy=0,p_("stream_live_time",""),p_("stream_watching_time",""),p_("progress_bar_current_time",_v(0)),Al=F+".",h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),c_("progress_pause_holder"),py=0,sb((Ep=yy)[1]),Ag=Ch,Pm=!0,rl=0,lu.Play_isHost=!1,lu.vodOffset?(My(),xy()):(my&&""!==lu.Main_selectedChannel_id?(Jp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),uy["#"+lu.ChannelVod_vodId]||Jl(),fs()?($a=lu.Main_selectedChannel_id,Za=!0,yi()):bv()):(My(),Cy()),p_("stream_info_name",lu.Main_selectedChannelDisplayname),h_("stream_info_title",sl),h_("stream_info_game",ol+", ["+Qd.toUpperCase()+"]"),p_("stream_live_icon",dl)),uy["#"+lu.ChannelVod_vodId]&&!lu.vodOffset?(kv(),_b()):ky()}function ky(){mp=0,u_("chat_box"),c_("chat_frame"),window.setTimeout(function(){u_("scene_channel_panel_bottom"),h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),u_("progress_pause_holder")},1e3),p_("progress_bar_duration",_v(Kd)),lu.Play_WasPlaying=2,j_(),Fg=window.setInterval(Ty,6e4),cf(Cp),ay=!1,oy=np=ry=!(ph=-13),Rg=qg=Dg=dy=ny=0,document.addEventListener("visibilitychange",Gy,!1),by=!(Yg=!(iy=!1)),By(),pg(2),document.body.removeEventListener("keyup",bf)}function My(){Wg=0,Kg=5,Zg=1e4}function Cy(){var e,t="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(lu.Main_selectedChannel);if(Ku){if(!(e=Android.mreadUrl(t,sp,2,null)))return void Sy();200===(e=JSON.parse(e)).status?Ey(JSON.parse(e.responseText).users[0]):Sy()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Zg,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Ey(JSON.parse(e.responseText).users[0]):Sy())},e.send(null)}function Ey(e){void 0!==e?(lu.Main_selectedChannelLogo=e.logo,lu.Main_selectedChannel_id=e._id,uy["#"+lu.ChannelVod_vodId]||Jl(),fs()?($a=lu.Main_selectedChannel_id,Za=!0,yi()):bv()):(lu.Main_selectedChannelLogo=e_,lu.Main_selectedChannel_id=""),Jp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo)}function Sy(){++Wg<Kg?(Zg+=500,window.setTimeout(function(){Yg&&Cy()},750)):Bg=window.setTimeout(Cy,2500)}function xy(){var e,t="https://api.twitch.tv/kraken/videos/"+lu.ChannelVod_vodId;if(Ku){if(!(e=Android.mreadUrl(t,sp,2,null)))return void Iy();200===(e=JSON.parse(e)).status?Py(e.responseText):Iy()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Zg,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Py(e.responseText);Iy()}},e.send(null)}function Iy(){++Wg<Kg&&(Zg+=2e3,xy())}function Py(e){e=JSON.parse(e),h_("stream_info_title",IM.parse(e.title)),h_("stream_info_game",Yt+p+e.game+", "+N_(e.views)+q+", ["+e.language.toUpperCase()+"]"),p_("stream_live_icon",N+Q_(e.created_at)),p_("progress_bar_duration",_v(Kd=parseInt(e.length))),cy=1e3*lu.vodOffset,nb(lu.vodOffset,Kd,!0),lu.Main_selectedChannelDisplayname=e.channel.display_name,p_("stream_info_name",lu.Main_selectedChannelDisplayname),lu.Main_selectedChannelLogo=e.channel.logo,Jp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),lu.Main_selectedChannel_id=e.channel._id,lu.Main_selectedChannel=e.channel.name,fs()?(Za=!0,$a=lu.Main_selectedChannel_id,yi()):bv(),cf(e.increment_view_count_url)}function Gy(){document.hidden?rg()?(xv(),Rv(),Vy()):(Ty(),lb(),rr(),gv(),window.clearInterval(Qg),window.clearInterval(Fg)):(Yg=!0,Lv(),Yg&&(Vh=Vh=0,navigator.onLine?qy():lh=window.setInterval(Ly,100),lr(zl),pg(2),Fg=window.setInterval(Ty,6e4)))}function Ly(){(navigator.onLine||200<Vh)&&(window.clearInterval(lh),Ag=Ch,By()),Vh++}function Ty(){lu.vodOffset=Ku?parseInt(Android.gettime()/1e3):0,j_(),lu.vodOffset=0}function By(){Xg=0,ly=2e3,Oy()}function Oy(){var e,t;if(e=Ag===Ch?"https://api.twitch.tv/api/vods/"+lu.ChannelVod_vodId+"/access_token"+(fs()&&Zi[lu.Users_Position].access_token?"?oauth_token="+Zi[lu.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+lu.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Dg.token)+"&nauthsig="+Dg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Ku){if(!(t=Android.mreadUrl(e,sp,1,null)))return void Fy();200===(t=JSON.parse(t)).status?(Xg=0,Yg&&Hy(t.responseText)):Fy()}else(t=new XMLHttpRequest).open("GET",n_+e,!0),t.timeout=ly,t.setRequestHeader(Uu,Hu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Xg=0,Yg&&Hy(t.responseText)):Fy())},t.send(null)}function Fy(){if(Yg){if(JSON.parse(Dg.token)&&0!==JSON.parse(Dg.token).chansub.restricted_bitrates.length)return void Uy();++Xg<jg?(ly+=250,Oy()):(kv(),Play_PannelEndStart(2))}}function Hy(e){Ag===Ch?(Dg=JSON.parse(e),Ag=Eh,By()):Ag===Eh&&(Vg=$p(qg=e),Ag=Sh,Yg&&Dy())}function Uy(){fs()&&Zi[lu.Users_Position].access_token?($a=lu.Main_selectedChannel_id,Gi()):(kv(),Mv(G+St),window.setTimeout(function(){Yg&&Vy()},4e3))}function Ay(){kv(),Mv(G+xt),window.setTimeout(function(){Yg&&Vy()},4e3)}function Ny(){by?(kv(),Mv(G+It),window.setTimeout(function(){Yg&&Vy()},4e3)):(by=!0,Ag=Ch,By())}function Dy(){zg=Vg[Jg=0].url,-1!==Hg.indexOf("source")&&(Hg="source");for(var e=0;e<tb();e++){if(Vg[e].id===Hg){zg=Vg[Jg=e].url;break}-1!==Vg[e].id.indexOf(Hg)&&(zg=Vg[Jg=e].url)}Ug=Hg,qy()}function qy(){Fc||console.log("PlayVod_onPlayer:",'\n\n"'+zg+'"\n'),lu.vodOffset?(Ul=lu.vodOffset,Jl(),Ku&&Yg&&Android.startVideoOffset(zg,2,gy?-1:1e3*lu.vodOffset),lu.vodOffset=0):Ku&&Yg&&Android.startVideoOffset(zg,2,gy?-1:Android.gettime()),gy=!1,Fh&&!zv()&&qv(),Ku&&(ey=0,ty=!(wp=5),window.clearInterval(Qg),Qg=window.setInterval(Ry,kp))}function Ry(){Ku&&(cy=Android.gettime()),$g!==cy||rv()?(ey=ny=0,ay=!1):++ey>wp&&(ty&&ay&&Jg<tb()-1?Jg++:!ty&&ay&&ny++,navigator.onLine?1<ny?lv(ny,2,zy):(eb(),Dy(),ay=!0):dv(!1,2)),$g=cy}function zy(e){if(!e){if(!(Jg<tb()-1))return void dv(!1,2);Jg++}ny=0,eb(),Dy(),ay=!0}function Vy(){Yg&&(Vg=[],Jy(!0),vv())}function Jy(e){e&&lb(),Ku&&Android.stopVideo(2),Yg=!1,window.clearInterval(Fg),window.clearInterval(Bg),lu.Play_WasPlaying=0,my=!0,cr(),gv(),Xy()}function Xy(){document.body.removeEventListener("keydown",yb),document.removeEventListener("visibilitychange",Gy),lu.vodOffset=0,window.clearInterval(Ng),window.clearInterval(Qg),Kd=0}function jy(){oy=!1,sy=dy=0,Av(),document.getElementById("scene_channel_panel").style.opacity="0",Ku&&nb(Android.gettime()/1e3,Kd,!0),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",Hg=Ug,Qv(),window.clearInterval(Og)}function Yy(e){Wy(),cv(),xv(),Og=window.setInterval(Wy,1e3),e&&(Ky(),Qy(),eb(),$y()),document.getElementById("scene_channel_panel").style.opacity="1",Qv()}function Wy(){Ku&&nb(Android.gettime()/1e3,Kd,!oy)}function Ky(){fy=rv()?1:0,Zy()}function Zy(){fy?1===fy?(f_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),sg(),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none"):2===fy&&(m_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),ig(),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none"):(m_("pause_button","progress_bar_div_focus"),f_("progress_bar_div","progress_bar_div_focus"),sg(),sy&&(ob(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function $y(){yh=window.setTimeout(jy,5e3+hy)}function Qy(){for(var e=Jg=0;e<tb();e++){if(Vg[e].id===Hg){Jg=e;break}-1!==Vg[e].id.indexOf(Hg)&&(Jg=e)}}function eb(){1===tb()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Jg?Jg===tb()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Hg=Vg[Jg].id).indexOf("source")?p_("quality_name",Hg.replace("source",ye)+Vg[Jg].band):p_("quality_name",Hg+Vg[Jg].band)}function tb(){return Vg.length}function nb(e,t,n){p_("progress_bar_current_time",_v(e)),n&&(fh.style.width=e/t*100+"%")}function ab(){Lv(),rg()||(Lm=ty=!1,Yg?(Ku&&Android.startVideoOffset(zg,2,0<vy?1e3*vy:-1),Ul=vy):(Ul=rl,Ku&&Android.startVideoOffset(Cm,3,0<vy?1e3*vy:-1)),Pm&&Jl()),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",oy=!1,vy=sy=dy=0}function ib(){py=dy=0,sb(Ep[1])}function sb(e){sy&&!fy&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?p_("progress_bar_steps",Nn+e/60+qn):p_("progress_bar_steps",e?Nn+e+Dn:Nn+Ep[1]+Dn)}function ob(){p_("progress_bar_jump_to",_e+" ("+(sy<0?"-":"")+_v(Math.abs(sy))+")"+fe+_v(vy))}function db(e,t){var n=Ku?Android.gettime()/1e3:0;window.clearTimeout(Tg),oy=!0,dy<Ep.length-1&&py++%6==0&&dy++,sy+=Ep[dy]*e,vy=n+sy,Yg&&(vy=10*Math.floor(vy/10)),t<vy?(sy=t-n-Ep[1],vy=n+sy,py=dy=0):vy<0&&(sy=0-n,vy=py=dy=0),ob(),fh.style.width=vy/t*100+"%",sb(Ep[dy]*e),Tg=window.setTimeout(ib,1e3)}function lb(){var e=Ku?parseInt(Android.gettime()/1e3):0,t="#"+lu.ChannelVod_vodId;300<e&&e<Kd-300?(uy[t]&&delete uy[t],uy[t]=e,am("PlayVod_VodIds",JSON.stringify(uy))):Kd-300<e&&uy[t]&&(delete uy[t],am("PlayVod_VodIds",JSON.stringify(uy)))}function rb(){uy=sm("PlayVod_VodIds",{});var e=cb();250<e&&ub(e-250)}function cb(){var e=0;for(var t in uy)uy.hasOwnProperty(t)&&e++;return e}function ub(e){var t=0;for(var n in uy){if(!(t<e))break;delete uy[n],t++}am("PlayVod_VodIds",JSON.stringify(uy))}function _b(){c_("scene_channel_panel_bottom"),Yy(!1),h_("dialog_vod_saved_text",bn+fv(1e3*uy["#"+lu.ChannelVod_vodId])),u_("dialog_vod_start")}function fb(){jy(),c_("dialog_vod_start"),hb(),window.setTimeout(function(){u_("scene_channel_panel_bottom")},1e3)}function mb(){return __("dialog_vod_start")}function hb(){vb(),_y=0,pb()}function pb(){f_("dialog_vod_"+_y,"dialog_end_icons_focus")}function vb(){m_("dialog_vod_"+_y,"dialog_end_icons_focus")}function gb(e){fb(),e?(delete uy["#"+lu.ChannelVod_vodId],lu.vodOffset=0,wy()):(lu.vodOffset=uy["#"+lu.ChannelVod_vodId],cy=1e3*lu.vodOffset,nb(lu.vodOffset,Kd,!0),ky())}function yb(e){if(Ag===Sh||mb())switch(e.keyCode){case Ia:case Ca:Mh&&am("ChatEnable",(Fh=zv()||rg()||mb()?(Rv(),!1):(qv(),!0))?"true":"false");break;case ka:Mh&&zv()&&(mh++,Qv());break;case Ma:Mh&&zv()&&(mh--,Qv());break;case Pa:Mh&&!Ov()&&zv()?(mh++,Qv()):Ov()&&!mb()?(Av(),fy?(sg(),5<++tp&&(tp=1),ig()):(db(-1,Kd),hy=2500),$y()):mb()?(vb(),_y?_y--:_y++,pb()):rg()?(mg(),_g(),--dp<0&&(dp=3),1===dp&&(dp=0),ug()):mb()||Yy(!0);break;case La:!Mh||Ov()||rg()?Ov()&&!mb()?(Av(),fy?(sg(),--tp<1&&(tp=5),ig()):(db(1,Kd),hy=2500),$y()):mb()?(vb(),_y?_y--:_y++,pb()):rg()?(mg(),_g(),3<++dp&&(dp=0),1===dp&&(dp=2),ug()):mb()||Yy(!0):am("ChatEnable",(Fh=zv()||rg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case Ga:rg()?mg():Ov()&&!mb()?(2===fy&&1!==tp?(fy--,Zy()):1===fy?(fy--,Zy()):0<Jg&&1===tp&&(Jg--,eb()),Av(),$y()):Mh&&zv()?(4<++gh?$v(!(gh=1)):4===gh&&$v(!0),Kv(!0)):mb()||Yy(!0);break;case Ta:rg()?mg():Ov()&&!mb()?(fy?1===fy?(fy++,Zy()):Jg<tb()-1&&1===tp&&(Jg++,eb()):(fy++,Zy()),Av(),$y()):Mh&&zv()?(1.05<(vh+=.05)&&(vh=.05),Zv(!0)):mb()||Yy(!0);break;case Ba:mb()?gb(_y):rg()?hg(2):Ov()?fy?1===fy?(lu.Play_ChatForceDisable&&(rv()?lr(zl):rr()),rg()||ng(2)):wg(2):(Av(),$y(),sy&&ab()):Yy(!0);break;case Aa:Gg(!0);break;case Sa:case Ea:case xa:lu.Play_ChatForceDisable&&(rv()?lr(zl):rr()),rg()||ng(2);break;case Ha:rg()||Vv();break;case Fa:lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?Jl():pr(),j_();break;case Oa:Bp(Mh=!Mh);break;case Ua:gg(2)}else switch(e.keyCode){case Fa:Fc||window.location.reload(!0);break;case Aa:Iv()?(xv(),Vy()):Sv()}}var bb={};function wb(){console.log("InitScreens place holder")}function kb(){ow(),dw(),lw(),rw(),cw()}function Mb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Cb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Eb(){bu=-1,lu.Main_Go=bb.screen,bb.label_init(),document.body.addEventListener("keydown",zb,!1),bb.status?(lf(bb.posY),u_(bb.ids[10]),E_(bb.posX,bb.posY,bb.ColoumnsCount,bb.itemsCount),Hb(),j_()):xb()}function Sb(){bu=0,bb.label_exit(),document.body.removeEventListener("keydown",zb),c_(bb.ids[10])}function xb(){af(bb.table),c_(bb.ids[10]),P_(),v_(),bb.cursor=null,bb.status=!1,bb.row=document.createElement("div"),bb.MaxOffset=0,bb.TopRowCreated=!1,bb.offset=0,bb.idObject={},bb.FirstLoad=!0,bb.itemsCount=0,bb.posX=0,bb.posY=0,bb.row_id=0,bb.coloumn_id=0,bb.data=null,bb.data_cursor=0,bb.dataEnded=!1,C_(),Hf(function(){Ib(),Pb()})}function Ib(){bb.loadingData=!0,bb.loadingDataTry=0,bb.loadingDataTimeout=3500}function Pb(){var e;if(bb.set_url(),Ku){if(!(e=Android.mreadUrl(bb.url,bb.loadingDataTimeout,2,null)))return void Gb();200===(e=JSON.parse(e)).status?bb.concatenate(e.responseText):Gb()}else(e=new XMLHttpRequest).open("GET",bb.url,!0),e.timeout=bb.loadingDataTimeout,e.setRequestHeader(Uu,Hu),e.setRequestHeader(Au,qu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?bb.concatenate(e.responseText):Gb())},e.send(null)}function Gb(){bb.loadingDataTry++,bb.loadingDataTry<bb.loadingDataTryMax?(bb.loadingDataTimeout+=500,Pb()):(bb.loadingData=!1,bb.itemsCount?bb.dataEnded=!0:(bb.FirstLoad=!1,g_(),I_(L)))}function Lb(){var e=bb.data.length-bb.data_cursor;if(e>bb.ItemsLimit?e=bb.ItemsLimit:bb.dataEnded=!0,e){var t=Math.ceil(e/bb.ColoumnsCount),n=bb.row_id+t;if(bb.HasSwitches&&!bb.TopRowCreated){bb.TopRowCreated=!0,bb.row=document.createElement("div");var a='<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f;(pu=document.createElement("div")).setAttribute("id",bb.ids[8]+"y_0"),pu.className="stream_cell_period",pu.innerHTML='<div id="'+bb.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+bb.ids[3]+'y_0" class="stream_channel_fallow_game">'+a+"</div></div>",bb.row.appendChild(pu),document.getElementById(bb.table).appendChild(bb.row)}for(bb.row_id;bb.row_id<n;bb.row_id++){for(bb.coloumn_id===bb.ColoumnsCount&&(bb.row=document.createElement("div"),bb.coloumn_id=0),bb.coloumn_id;bb.coloumn_id<bb.ColoumnsCount&&bb.data_cursor<bb.data.length;bb.data_cursor++)bb.addCell(bb.data[bb.data_cursor]);document.getElementById(bb.table).appendChild(bb.row)}}Fb(!e&&!bb.status)}function Tb(e,t,n,a){var i=e+"_"+t;return df(n[1]+i,a),e<bb.ColoumnsCount&&cf(a),(pu=document.createElement("div")).style.cssText=bb.ThumbCssText,i}function Bb(e,t,n,a,i,s){var o=Tb(e,t,n,a);return pu.setAttribute("id",n[5]+o),pu.setAttribute(Ju,i),pu.innerHTML='<div id="'+n[0]+o+'" class="stream_thumbnail_game"><div><img id="'+n[1]+o+'" class="stream_img"></div><div id="'+n[2]+o+'" class="stream_text2"><div id="<div id="'+n[3]+o+'" class="stream_channel">'+i+'</div><div id="'+n[4]+o+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+s+"</div></div></div>",pu}function Ob(e,t,n,a,i,s,o,d,l,r,c,u,_,f,m,h){var p=Tb(e,t,n,a);return pu.setAttribute("id",n[8]+p),pu.setAttribute(Ju,JSON.stringify([c,r,o[2],u,i,_,f,m,h,o[0],l,o[1]+o[2]])),pu.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+s[0]+s[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+_v(r)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+o[0]+na+o[1]+o[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+q+"</div></div></div>",pu}function Fb(e){Hf(function(){bb.status?(sf(bb.img_404),E_(bb.posX,bb.posY,bb.ColoumnsCount,bb.itemsCount)):(g_(),(bb.emptyContent=e)?I_(bb.empty_str()):(bb.status=!0,sf(bb.img_404),Hb(),j_()),u_(bb.ids[10]),bb.FirstLoad=!1)})}function Hb(){bb.posY<0?Ab():(bb.addFocus(bb.posY,bb.posX,bb.ids,bb.ColoumnsCount,bb.itemsCount),bb.posY+bb.ItemsReloadLimit>bb.itemsCount/bb.ColoumnsCount&&bb.data_cursor<bb.data.length&&(of(),bb.loadDataSuccess()),bb.data_cursor+Wb>bb.data.length&&!bb.dataEnded&&!bb.loadingData&&(Ib(),Pb()),uu&&Bf(bb.posY+"_"+bb.posX,bb.ids))}function Ub(e,t){Bf(bb.posY+"_"+bb.posX,bb.ids),bb.posY+=e,bb.posX=t,Hb()}function Ab(){f_(bb.ids[0]+"y_0",Vu)}function Nb(){m_(bb.ids[0]+"y_0",Vu)}function Db(e){H_()?F_():T_()?L_():(e===bb.screen?lu.Main_Go=Ac:lu.Main_Go=e,Sb(),X_())}function qb(e){if(!bb.HasSwitches||bb.posY||-1!==e||bb.emptyContent){if(bb.HasSwitches&&-1===bb.posY)bb.posY=0,Hb(),Nb();else for(var t=0;t<bb.ColoumnsCount;t++)if(R_(bb.posY+e,bb.posX-t,bb.ids[0])){Ub(e,bb.posX-t);break}}else Bf(bb.posY+"_"+bb.posX,bb.ids),bb.posY=-1,Ab()}function Rb(e,t){R_(bb.posY,bb.posX+e,bb.ids[0])?Ub(0,bb.posX+e):R_(bb.posY+e,t,bb.ids[0])&&Ub(e,t)}function zb(e){if(!bb.FirstLoad&&!Mf())switch(kf(),e.keyCode){case Aa:bb.key_exit();break;case Pa:Rb(-1,bb.ColoumnsCount-1);break;case La:Rb(1,0);break;case Ga:qb(-1);break;case Ta:qb(1);break;case Ia:case Ca:bb.loadingData||bb.key_refresh();break;case ka:bb.key_channelup();break;case Ma:bb.key_channeldown();break;case Sa:case Ea:case xa:case Ba:bb.key_play();break;case Oa:zf(zb);break;case Fa:bb.key_green();break;case Ha:bb.key_yellow();break;case Ua:bb.key_blue()}}bb.FirstLoad=!1;var Vb,Jb,Xb,jb,Yb,Wb=100,Kb=3,Zb="",$b="",Qb="",ew="",tw="",nw="",aw={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Lb,ThumbPading:Kb,key_blue:function(){lu.Search_isSearching||(lu.Main_BeforeSearch=bb.screen),lu.Main_Go=Jc,Sb(),X_()},set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: "+this.ThumbPading+"px;"}},iw={ThumbSize:32.65,ItemsLimit:Su,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:Iu,ColoumnsCount:xu,addFocus:Ef,cursor:null,key_refresh:xb,period:["day","week","month","all"],img_404:t_,empty_str:function(){return T+U},key_play:function(){-1===this.posY?this.key_yellow():Pf(this.posY+"_"+this.posX,this.ids,zb)},key_yellow:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),xb())},addCell:function(e){bb.idObject[e.tracking_id]||(bb.itemsCount++,bb.idObject[e.tracking_id]=1,bb.row.appendChild(Ob(bb.row_id,bb.coloumn_id,bb.ids,e.thumbnails.medium,e.broadcaster.display_name,[nn,Q_(e.created_at)],[IM.parse(e.title),p,e.game],N_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),bb.coloumn_id++)}},sw={ThumbSize:19.35,ItemsLimit:Pu,ItemsReloadLimit:Lu,ColoumnsCount:Gu,addFocus:Sf,img_404:Qu,empty_str:function(){return T+$}};function ow(){(Vb=Cb(Vb=Cb({ids:Mb("Clip"),table:"stream_table_clip",screen:nu,periodPos:im("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Wb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==gu?"&language="+gu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),bb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),bb.loadingData=!1},SetPeriod:function(){h_("top_bar_clip",U+$_(Bc[this.periodPos-1])),am("Clip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=5,this.SetPeriod(),f_("top_bar_clip","icon_center_focus"),r_("label_refresh","icon-refresh",t+Jt)},label_exit:function(){K_(),m_("top_bar_clip","icon_center_focus"),r_("label_refresh","icon-refresh",t+Jt)},key_exit:function(){H_()?F_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(zb))},key_channelup:function(){lu.Main_Before=this.screen,lu.Main_Go=Ac,Sb(),X_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=tu,Sb(),X_()},key_green:function(){Sb(),tf()}},aw),iw)).set_ThumbSize()}function dw(){(Jb=Cb(Jb=Cb({ids:Mb("ChannelClip"),table:"stream_table_channel_clip",screen:Kc,periodPos:im("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(lu.Main_selectedChannel)+"&limit="+Wb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),bb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),bb.loadingData=!1},SetPeriod:function(){h_("top_bar_game",U+Bc[this.periodPos-1]),am("ChannelClip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=1,!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Hd(),lu.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Z_(),this.SetPeriod(),p_("top_bar_user",lu.Main_selectedChannelDisplayname),r_("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=lu.Main_selectedChannel},label_exit:K_,key_exit:function(){H_()?F_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(zb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),xb())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),xb())},key_green:function(){Sb(),tf()},key_blue:function(){lu.Search_isSearching||(Fd(),lu.Main_BeforeSearch=bb.screen),lu.Main_Go=Jc,Sb(),X_()}},aw),iw)).set_ThumbSize()}function lw(){(Xb=Cb(Xb=Cb({ids:Mb("AGameClip"),table:"stream_table_a_game_clip",screen:iu,periodPos:im("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Wb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==gu?"&language="+gu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),bb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),bb.loadingData=!1},SetPeriod:function(){h_("top_bar_game",w+$_(U+Bc[this.periodPos-1]+": "+lu.Main_gameSelected)),am("AGameClip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=3,this.SetPeriod(),f_("top_bar_game","icon_center_focus"),r_("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==lu.Main_gameSelected&&(this.status=!1),this.gameSelected=lu.Main_gameSelected},label_exit:function(){m_("top_bar_game","icon_center_focus"),h_("top_bar_game",m),r_("label_side_panel","icon-ellipsis",Fn)},key_exit:function(){H_()?F_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(zb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),xb())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),xb())},key_yellow:O_,key_green:function(){Sb(),tf()}},aw),iw)).set_ThumbSize()}function rw(){(jb=Cb(jb=Cb({ids:Mb("Game"),table:"stream_table_games",screen:Dc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Wb,set_url:function(){this.offset&&this.offset+Wb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),bb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.top,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),bb.loadingData=!1},label_init:function(){lu.Main_CenterLablesVectorPos=3,f_("top_bar_game","icon_center_focus")},label_exit:function(){m_("top_bar_game","icon_center_focus")},key_refresh:xb,key_exit:function(){H_()?F_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(zb))},key_channelup:function(){lu.Main_Before=this.screen,lu.Main_Go=tu,Sb(),X_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=su,Sb(),X_()},key_play:function(){lu.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Ju),document.body.removeEventListener("keydown",zb),lu.Main_BeforeAgame=this.screen,lu.Main_Go=qc,lu.Main_BeforeAgameisSet=!0,Us=!1,Sb(),X_(),Bf(this.posY+"_"+this.posX,this.ids)},key_yellow:O_,key_green:function(){Sb(),tf()},addCell:function(e){bb.idObject[e.game._id]||(bb.itemsCount++,bb.idObject[e.game._id]=1,bb.row.appendChild(Bb(bb.row_id,bb.coloumn_id,bb.ids,e.game.box.template.replace("{width}x{height}",zu),e.game.name,N_(e.channels)+" "+S+v+N_(e.viewers)+R)),bb.coloumn_id++)}},aw),sw)).set_ThumbSize()}function cw(){(Yb=Cb(Yb=Cb({ids:Mb("UserGames"),table:"stream_table_user_games",screen:Vc,isLive:om("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Wb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Zi[lu.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Wb+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.follows),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),bb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.follows,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),bb.loadingData=!1},label_init:function(){lu.Main_CenterLablesVectorPos=1,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),this.OldUserName!==Zi[lu.Users_Position].name&&(this.status=!1),this.OldUserName=Zi[lu.Users_Position].name,h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(this.isLive?$:zt)))},label_exit:function(){m_("top_bar_user","icon_center_focus"),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn)},key_refresh:function(){this.isLive=!this.isLive,h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(this.isLive?$:zt))),xb(),am("user_Games_live",this.isLive?"true":"false"),GE()},key_exit:function(){H_()?F_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(zb))},key_channelup:function(){lu.Main_Before=this.screen,fs()&&Zi[lu.Users_Position].access_token?lu.Main_Go=ou:lu.Main_Go=$c,Sb(),X_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=zc,Sb(),X_()},key_play:function(){lu.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Ju),document.body.removeEventListener("keydown",zb),lu.Main_BeforeAgame=this.screen,lu.Main_Go=qc,lu.Main_BeforeAgameisSet=!0,Us=!1,Sb(),X_()},key_yellow:O_,key_green:function(){Sb(),tf()},addCell:function(e){var t=this.isLive?e.game:e;bb.idObject[t._id]||(bb.itemsCount++,bb.idObject[t._id]=1,bb.row.appendChild(Bb(bb.row_id,bb.coloumn_id,bb.ids,t.box.template.replace("{width}x{height}",zu),t.name,this.isLive?N_(e.channels)+" "+S+v+N_(e.viewers)+R:"")),bb.coloumn_id++)}},aw),sw)).set_ThumbSize()}var uw=0,_w=0,fw=!1,mw=0,hw={},pw=[],vw=!1,gw=0,yw=5,bw=3500,ww=0,kw=0,Mw=!1,Cw=!1,Ew="",Sw=!1,xw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Iw(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Qc,lu.isLastSChannels=!0,lu.Search_isSearching=!0,Ew!==lu.Search_data&&(Cw=!1),Z_(),h_("top_bar_user",n+$_(S+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",zw,!1),Cw?(lf(uw),u_(xw[6]),E_(_w,uw,Bu,mw),qw(),j_()):Lw()}function Pw(){K_(),document.body.removeEventListener("keydown",zw),c_(xw[6])}function Gw(){X_()}function Lw(){c_(xw[6]),v_(),P_(),Ew=lu.Search_data,Cw=!1,af("stream_table_search_channel"),hw={},mw=kw=ww=0,uw=_w=0,fw=!(Wf=!(Sw=!(pw=[]))),C_(),Tw(),Bw()}function Tw(){of(),vw=!0,gw=0,bw=3500}function Bw(){var e=new XMLHttpRequest,t=mw+ww;t&&kw-1<t&&(t=kw-Tu,fw=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(lu.Search_data)+"&limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=bw,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Fw(e.responseText);Ow()}},e.send(null)}function Ow(){++gw<yw?(bw+=500,Bw()):(vw=!1,mw?(fw=!0,Uw()):(Wf=!1,g_(),I_(L)))}function Fw(e){var t=JSON.parse(e),n=t.channels.length;kw=parseInt(t._total),n<Tu&&(fw=!0);var a=mw;Mw=!(mw+=n);var i=n/Bu;0<n%Bu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/Bu+u,d=document.createElement("tr"),s=0;s<Bu&&c<n;s++,c++)r=(l=t.channels[c])._id,hw[r]?s--:(hw[r]=1,d.appendChild(Hw(o,o+"_"+s,[l.name,r,l.logo,l.display_name])));for(;s<Bu;s++)fw&&!Sw&&(Sw=!0,mw=o*Bu+s),d.appendChild(uf(xw[5]+o+"_"+s)),pw.push(xw[5]+o+"_"+s);document.getElementById("stream_table_search_channel").appendChild(d)}Uw()}function Hw(e,t,n){return e<4&&cf(n[2]),_f(t,xw,n)}function Uw(){Hf(function(){if(Cw){if(sf(e_),0<pw.length&&!fw)return Tw(),void Aw();E_(_w,uw,Bu,mw),pw=[]}else g_(),Mw?I_(d):(Cw=!0,sf(e_),qw(),j_()),u_(xw[6]),Wf=!1;vw=!1})}function Aw(){var e=new XMLHttpRequest;x_(pw.length);var t=mw+ww;t&&kw-1<t&&(t=kw-Fu,fw=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(lu.Search_data)+"&limit="+Fu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=bw,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Dw(e.responseText);Nw()}},e.send(null)}function Nw(){++gw<yw?(bw+=500,Aw()):(fw=!0,mw-=pw.length,pw=[],Uw())}function Dw(e){var t,n,a=JSON.parse(e),i=a.channels.length,s=0,o=0,d=[];for(kw=parseInt(a._total),i<Fu&&(fw=!0);s<pw.length&&o<i;s++,o++)n=(t=a.channels[o])._id,hw[n]?s--:(hw[n]=1,ff(pw[s],[t.name,n,t.logo,t.display_name],xw),d.push(s));for(s=d.length-1;-1<s;s--)pw.splice(d[s],1);ww+=o,fw&&(mw-=pw.length,pw=[]),Uw()}function qw(){Cf(uw,_w,xw,Bu,mw),mw/Bu<uw+Ou&&!fw&&!vw&&(Tw(),Bw()),uu&&Rw()}function Rw(){mw&&Bf(uw+"_"+_w,xw)}function zw(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(Rw(),Zf(zw));break;case Pa:if(R_(uw,_w-1,xw[0]))Rw(),_w--,qw();else for(t=Bu-1;-1<t;t--)if(R_(uw-1,t,xw[0])){Rw(),uw--,_w=t,qw();break}break;case La:R_(uw,_w+1,xw[0])?(Rw(),_w++,qw()):R_(uw+1,0,xw[0])&&(Rw(),uw++,_w=0,qw());break;case Ga:for(t=0;t<Bu;t++)if(R_(uw-1,_w-t,xw[0])){Rw(),uw--,_w-=t,qw();break}break;case Ta:for(t=0;t<Bu;t++)if(R_(uw+1,_w-t,xw[0])){Rw(),uw++,_w-=t,qw();break}break;case Ia:case Ca:Lw();break;case Sa:case Ea:case xa:case Ba:lu.Main_selectedChannel=document.getElementById(xw[4]+uw+"_"+_w).getAttribute(Ju),lu.Main_selectedChannel_id=document.getElementById(xw[4]+uw+"_"+_w).getAttribute("data-id"),lu.Main_selectedChannelDisplayname=document.getElementById(xw[3]+uw+"_"+_w).textContent,document.body.removeEventListener("keydown",zw),lu.Main_BeforeChannel=Qc,lu.Main_Go=Yc,lu.Main_BeforeChannelisSet=!0,td=Wa=!1,c_(xw[6]),X_();break;case Oa:zf(zw);break;case Fa:Pw(),lu.Search_isSearching=!1,tf();break;case Ha:O_();break;case Ua:lu.Main_Go=Jc,Pw(),Gw()}}var Vw=!1,Jw=0,Xw=0,jw=0,Yw=0,Ww=5,Kw=3500,Zw=0,$w=0,Qw=!1,ek=!1,tk="",nk=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function ak(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Xc,lu.Search_isSearching=!0,Z_(),tk!==lu.Search_data&&(Vw=!1),h_("top_bar_user",n+$_(m+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",mk,!1),Vw?(lf(Jw),u_(nk[7]),E_(Xw,Jw,Gu,jw),_k(),j_()):sk()}function ik(){lu.Search_isSearching||K_(),document.body.removeEventListener("keydown",mk),lu.Games_return=!1,c_(nk[7])}function sk(){c_(nk[7]),v_(),P_(),tk=lu.Search_data,Vw=!1,af("stream_table_search_game"),ek=!1,Jw=Xw=jw=$w=Zw=0,C_(),ok(),dk()}function ok(){of(),Wf=!0,Yw=0,Kw=3500}function dk(){var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(lu.Search_data)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Kw,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void rk(e.responseText);lk()}},e.send(null)}function lk(){++Yw<Ww?(Kw+=500,dk()):(Wf=!1,jw?uk():(g_(),I_(L)))}function rk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=jw;Qw=!(jw+=n);var i=n/Gu;0<n%Gu&&i++;for(var s,o,d,l,r=0,c=0;c<i;c++){for(o=a/Gu+c,d=document.createElement("tr"),s=0;s<Gu&&r<n;s++,r++)l=t.games[r],d.appendChild(ck(o,o+"_"+s,[l.name,l.box.template.replace("{width}x{height}",zu),""]));for(;s<Gu;s++)ek||(ek=!0,jw=o*Gu+s),d.appendChild(uf(nk[6]+o+"_"+s));document.getElementById("stream_table_search_game").appendChild(d)}uk()}function ck(e,t,n){return e<2&&cf(n[1]),gf(t,nk,n)}function uk(){Hf(function(){Vw||(g_(),Qw?I_(d):(Vw=!0,sf(t_),_k(),j_())),u_(nk[7]),Wf=!1,E_(Xw,Jw,Gu,jw)})}function _k(){Sf(Jw,Xw,nk,Gu,jw),uu&&fk()}function fk(){jw&&Bf(Jw+"_"+Xw,nk)}function mk(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(fk(),Zf(mk));break;case Pa:if(R_(Jw,Xw-1,nk[0]))fk(),Xw--,_k();else for(t=Gu-1;-1<t;t--)if(R_(Jw-1,t,nk[0])){fk(),Jw--,Xw=t,_k();break}break;case La:R_(Jw,Xw+1,nk[0])?(fk(),Xw++,_k()):R_(Jw+1,0,nk[0])&&(fk(),Jw++,Xw=0,_k());break;case Ga:for(t=0;t<Gu;t++)if(R_(Jw-1,Xw-t,nk[0])){fk(),Jw--,Xw-=t,_k();break}break;case Ta:for(t=0;t<Gu;t++)if(R_(Jw+1,Xw-t,nk[0])){fk(),Jw++,Xw-=t,_k();break}break;case Ia:case Ca:sk();break;case Sa:case Ea:case xa:case Ba:lu.gameSelectedOld=lu.Main_gameSelected,ik(),lu.Main_gameSelected=document.getElementById(nk[5]+Jw+"_"+Xw).getAttribute(Ju),document.body.removeEventListener("keydown",mk),lu.Main_Go=qc,lu.Games_return=!0,X_();break;case Oa:zf(mk);break;case Fa:lu.Search_isSearching=!1,ik(),tf();break;case Ha:O_();break;case Ua:lu.Main_Go=Jc,ik(),X_()}}var hk=0,pk=0,vk=!1;function gk(){P_(),c_("label_refresh"),r_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ic.placeholder=k,f_("top_bar_user","icon_center_focus"),u_("search_scroll"),pk=hk=0,wk(),Mk()}function yk(){Ck(!1),document.body.removeEventListener("keydown",kk),wk(),lu.Main_Go=lu.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",p_("top_bar_user",u),m_("top_bar_user","icon_center_focus"),r_("label_side_panel","icon-ellipsis",Fn),u_("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ic.value="",c_("search_scroll")}function bk(){yk(),Hf(function(){pk?1===pk?ak():2===pk&&zk():Iw()})}function wk(){m_("chanel_button","button_search_focused"),m_("game_button","button_search_focused"),m_("live_button","button_search_focused"),hk&&(pk?1===pk?f_("game_button","button_search_focused"):2===pk&&f_("live_button","button_search_focused"):f_("chanel_button","button_search_focused"))}function kk(e){if(!vk)switch(e.keyCode){case Aa:H_()?F_():T_()?L_():(yk(),X_());break;case Pa:1===hk&&(--pk<0&&(pk=2),wk());break;case La:1===hk&&(2<++pk&&(pk=0),wk());break;case Ga:1===hk&&(hk=0,wk(),Mk());break;case Ta:hk?1===hk&&(hk=0,wk(),Mk()):(Ck(!1),hk=1,wk());break;case Ia:case Ca:break;case ka:case Ma:yk(),X_();break;case Sa:case Ea:case xa:case Ba:hk?""!==Ic.value&&null!==Ic.value?(lu.Search_data=Ic.value,Ic.value="",bk()):(I_(o),window.setTimeout(function(){P_()},1e3)):Mk();break;case Oa:zf(kk);break;case Fa:yk(),tf();break;case Ha:O_()}}function Mk(){document.body.removeEventListener("keydown",kk),document.body.addEventListener("keydown",Ek,!1),Ic.placeholder=k,Ic.focus(),vk=!0}function Ck(e){Ic.blur(),document.body.removeEventListener("keydown",Ek),Ic.placeholder=E+k,e&&document.body.addEventListener("keydown",kk,!1),vk=!1}function di(){if(null!==Ic){var e=Ic.cloneNode(!0);Ic.parentNode.replaceChild(e,Ic),Ic=document.getElementById("search_input")}}function Ek(e){switch(e.keyCode){case Aa:T_()?L_():H_()?F_():(yk(),X_());break;case Ra:Ic.value="";break;case Da:case Ta:Ck(!0),hk=1,wk();break;case Na:Ic.value=Ic.value.slice(0,-1);break;case qa:Ic.value+=" "}}var Sk=0,xk=0,Ik=!1,Pk=0,Gk={},Lk=[],Tk=!1,Bk=0,Ok=5,Fk=3500,Hk=0,Uk=0,Ak=!1,Nk=!1,Dk=!1,qk="",Rk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function zk(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=jc,lu.Search_isSearching=!0,Z_(),qk!==lu.Search_data&&(Nk=!1),h_("top_bar_user",n+$_(_+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",nM,!1),Nk?(lf(Sk),u_(Rk[10]),E_(xk,Sk,xu,Pk),eM(),j_()):Jk()}function Vk(){K_(),document.body.removeEventListener("keydown",nM),c_(Rk[10])}function Jk(){c_(Rk[10]),v_(),P_(),qk=lu.Search_data,Nk=!1,af("stream_table_search_live"),Uk=Hk=0,Gk={},Sk=xk=Pk=0,Ik=!(Wf=!(Dk=!(Lk=[]))),C_(),Xk(),jk()}function Xk(){of(),Tk=!0,Bk=0,Fk=3500}function jk(){var e=new XMLHttpRequest,t=Pk+Hk;t&&Uk-1<t&&(t=Uk-Su,Ik=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(lu.Search_data)+"&limit="+Su+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Fk,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Wk(e.responseText);Yk()}},e.send(null)}function Yk(){++Bk<Ok?(Fk+=500,jk()):(Tk=!1,Pk?(Ik=!0,Kk()):(Wf=!1,g_(),I_(L)))}function Wk(e){var t=JSON.parse(e),n=t.streams.length;Uk=parseInt(t._total),n<Su&&(Ik=!0);var a=Pk;Ak=!(Pk+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,Gk[r]?s--:(Gk[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r],Rk,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+mv(l.created_at)+b+", "+v+N_(l.viewers)+R,D_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)Ik&&!Dk&&(Dk=!0,Pk=o*xu+s),d.appendChild(uf(Rk[9]+o+"_"+s)),Lk.push(Rk[9]+o+"_"+s);document.getElementById("stream_table_search_live").appendChild(d)}Kk()}function Kk(){Hf(function(){if(Nk){if(sf(t_),0<Lk.length&&!Ik)return Xk(),void Zk();E_(xk,Sk,xu,Pk),Lk=[]}else g_(),Ak?I_(d):(Nk=!0,sf(t_),eM(),j_()),u_(Rk[10]),Wf=!1;Tk=!1})}function Zk(){var e=new XMLHttpRequest;x_(Lk.length);var t=Pk+Hk;t&&Uk-1<t&&(t=Uk-Fu,Ik=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(lu.Search_data)+"&limit="+Fu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Fk,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Qk(e.responseText);$k()}},e.send(null)}function $k(){++Bk<Ok?(Fk+=500,Zk()):(Ik=!0,Pk-=Lk.length,Lk=[],Kk())}function Qk(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Uk=parseInt(a._total),i<Fu&&(Ik=!0);s<Lk.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Gk[n]?s--:(Gk[n]=1,pf(Lk[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+N_(t.viewers)+R,D_(t.video_height,t.average_fps,t.channel.language)],Rk),d.push(s));for(s=d.length-1;-1<s;s--)Lk.splice(d[s],1);Hk+=o,Ik&&(Pk-=Lk.length,Lk=[]),Kk()}function eM(){Ef(Sk,xk,Rk,xu,Pk),Pk/xu<Sk+Iu&&!Ik&&!Tk&&(Xk(),jk()),uu&&tM()}function tM(){Pk&&Bf(Sk+"_"+xk,Rk)}function nM(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(tM(),Zf(nM));break;case Pa:if(R_(Sk,xk-1,Rk[0]))tM(),xk--,eM();else for(t=xu-1;-1<t;t--)if(R_(Sk-1,t,Rk[0])){tM(),Sk--,xk=t,eM();break}break;case La:R_(Sk,xk+1,Rk[0])?(tM(),xk++,eM()):R_(Sk+1,0,Rk[0])&&(tM(),Sk++,xk=0,eM());break;case Ga:for(t=0;t<xu;t++)if(R_(Sk-1,xk-t,Rk[0])){tM(),Sk--,xk-=t,eM();break}break;case Ta:for(t=0;t<xu;t++)if(R_(Sk+1,xk-t,Rk[0])){tM(),Sk++,xk-=t,eM();break}break;case Ia:case Ca:Jk();break;case Sa:case Ea:case xa:case Ba:xf(Sk+"_"+xk,Rk,nM);break;case Oa:zf(nM);break;case Fa:Vk(),lu.Search_isSearching=!1,tf();break;case Ha:O_();break;case Ua:lu.Main_Go=Jc,Vk(),X_()}}var aM=0,iM={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["85%","100%","130%","160%"],defaultValue:2},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:sM(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Español [ES][ES-MX]","Español - España [ES]","Español - Latinoamérica [ES-MX]","Français [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Português [PT][PT-BR]","Português -Portugal [PT]","Português - Brasil [PT-BR]","Slovenčina [SK]","Suomi [FI]","Svenska [SV]","Tiếng Việt [VI]","Türkçe [TR]","Čeština [CS]","Ελληνικά [EL]","Български [BG]","Русский [RU]","ภาษาไทย [TH]","中文 [ZH-ALL]","中文 简体 [ZH-CN]","中文 繁體 [ZH-TW]","日本語 [JA]","한국어 [KO]","Română [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function sM(){var e=[],t=43200,n=0;for(mp=0;n<48;n++)e.push("-"+_v(t)),t-=900;for(e.push(_v(0)),t=900,n=0;n<48;n++)e.push(_v(t)),t+=900;return e}var oM=[],dM=0;function lM(){J_(),document.body.addEventListener("keydown",xM,!1),r_("label_refresh","icon-arrow-circle-left",I),p_("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",f_("top_bar_user","icon_center_focus"),u_("settings_scroll"),wM(aM=0)}function rM(){document.body.removeEventListener("keydown",xM),kM(),p_("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",m_("top_bar_user","icon_center_focus"),r_("label_refresh","icon-refresh",t+Jt),c_("settings_scroll")}function cM(){var e,t="";t+=uM("general",pn),e="clock_offset",oM.push(e),t+=_M(e,zn),e="content_lang",oM.push(e),t+=_M(e,Jn),e="restor_playback",oM.push(e),iM[e].values=[In,xn],t+=fM(e,Pn,Gn),e="videos_animation",oM.push(e),iM[e].values=[In,xn],t+=_M(e,On),t+=uM("play",cn),e="chat_font_size",oM.push(e),t+=fM(e,Ln,Tn),e="force_disable_chat",oM.push(e),iM[e].values=[In,xn],h_("settings_main",t+=fM(e,$n,Qn)),dM=oM.length}function uM(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function _M(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function fM(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function mM(e,t,n){h_(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function hM(){var e="";for(e in p_("setting_title_general",pn),p_((e="clock_offset")+"_name",zn),p_((e="content_lang")+"_name",Jn),iM[e].values[0]=Xn,p_(e,vM(e)),p_("setting_title_play",cn),mM(e="restor_playback",Pn,Gn),iM[e].values=[In,xn],mM(e="chat_font_size",Ln,Tn),mM(e="force_disable_chat",$n,Qn),iM[e].values=[In,xn],p_((e="videos_animation")+"_name",On),iM[e].values=[In,xn],iM)iM.hasOwnProperty(e)&&p_(e,vM(e))}function pM(){for(var e in iM)iM[e].defaultValue=im(e,iM[e].defaultValue),iM[e].defaultValue-=1;SM(),YS=yM("videos_animation"),gu=gM("content_lang"),lu.Play_ChatForceDisable=yM("force_disable_chat")}function vM(e){return iM[e].values[yM(e)]}function gM(e){return iM[e].set_values[yM(e)]}function yM(e){return iM[e].defaultValue}function bM(e){return iM[e].values.length-1}function wM(e){var t=oM[aM];f_(t,"settings_value_focus"),f_(t+"_div","settings_div_focus"),CM(e)}function kM(){var e=oM[aM];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",m_(e,"settings_value_focus"),m_(e+"_div","settings_div_focus")}function MM(e){var t=oM[e];am(t,yM(t)+1),p_(t,vM(t)),CM(e),EM(e)}function CM(e){var t=oM[e],n=yM(t),a=bM(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function EM(e){"content_lang"===(e=oM[e])?gu=gM("content_lang"):"videos_animation"===e?YS=yM("videos_animation"):"force_disable_chat"===e?lu.Play_ChatForceDisable=yM("force_disable_chat"):"chat_font_size"===e?Op():"clock_offset"===e&&(SM(),Af())}function SM(){var e=yM("clock_offset");Wu=e<48?-9e5*(48-e):9e5*(e-48)}function xM(e){var t;switch(e.keyCode){case Aa:T_()?L_():H_()?F_():(rM(),X_());break;case Pa:0<yM(t=oM[aM])&&(iM[t].defaultValue-=1,MM(aM));break;case La:yM(t=oM[aM])<bM(t)&&(iM[t].defaultValue+=1,MM(aM));break;case Ga:0<aM&&(kM(),wM(--aM));break;case Ta:aM<dM-1&&(kM(),wM(++aM));break;case Ia:case Ca:case ka:case Ma:case Sa:case Ea:case xa:case Ba:break;case Oa:zf(xM);break;case Fa:break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,rM(),X_()}}var IM=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(o,""):e,n=[],a=0,i=0,s=0;s<t.length;)a=t.charCodeAt(s++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,o=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),PM=0,GM=0,LM=!1,TM=0,BM=!1,OM=0,FM=5,HM=3500,UM=[],AM=0,NM=!1,DM=!1,qM="",RM=!1,zM=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function VM(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=$c,lu.isLastSChannels=!1,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+Q)),document.body.addEventListener("keydown",nC,!1),qM!==Zi[lu.Users_Position].name&&(DM=!1),DM?(lf(PM),u_(zM[6]),E_(GM,PM,Bu,TM),eC(),j_()):XM()}function JM(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",nC),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn),c_(zM[6])}function XM(){c_(zM[6]),v_(),P_(),qM=Zi[lu.Users_Position].name,DM=!1,af("stream_table_user_channels"),PM=GM=TM=AM=0,RM=LM=!1,Wf=!0,C_(),UM=[],jM(),YM()}function jM(){of(),BM=!0,OM=0,HM=3500}function YM(){rm("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi[lu.Users_Position].id)+"/follows/channels?limit=100&offset="+AM+"&sortby=created_at&",HM,2,null,KM,WM)}function WM(){++OM<FM?(HM+=500,YM()):(BM=!1,TM?(LM=!0,QM()):(Wf=!1,g_(),I_(L)))}function KM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel.name+","+t[i].channel._id+","+t[i].channel.logo+","+t[i].channel.display_name,-1===UM.indexOf(a)&&UM.push(a);AM+=n,jM(),YM()}else UM.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),ZM()}function ZM(){var e=Tu,t=TM,n=UM.length-t;n<e&&(e=n),e<Tu&&(LM=!0),NM=!(TM+=e);var a=e/Bu;0<e%Bu&&a++;for(var i,s,o,d=t,l=0;l<a;l++){for(s=t/Bu+l,o=document.createElement("tr"),i=0;i<Bu&&d<UM.length;i++,d++)o.appendChild($M(s,s+"_"+i,UM[d].split(",")));for(;i<Bu;i++)LM&&!RM&&(RM=!0,TM=s*Bu+i),o.appendChild(uf(zM[5]+s+"_"+i));document.getElementById("stream_table_user_channels").appendChild(o)}QM()}function $M(e,t,n){return e<4&&cf(n[2]),_f(t,zM,n)}function QM(){Hf(function(){DM?sf(e_):(g_(),NM?I_(T+Q):(DM=!0,sf(e_),eC(),j_()),u_(zM[6]),Wf=!1),BM=!1,E_(GM,PM,Bu,TM)})}function eC(){Cf(PM,GM,zM,Bu,TM),TM/Bu<PM+Ou&&!LM&&!BM&&(jM(),YM()),uu&&tC()}function tC(){TM&&Bf(PM+"_"+GM,zM)}function nC(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(tC(),Zf(nC));break;case Pa:if(R_(PM,GM-1,zM[0]))tC(),GM--,eC();else for(t=Bu-1;-1<t;t--)if(R_(PM-1,t,zM[0])){tC(),PM--,GM=t,eC();break}break;case La:R_(PM,GM+1,zM[0])?(tC(),GM++,eC()):R_(PM+1,0,zM[0])&&(tC(),PM++,GM=0,eC());break;case Ga:for(t=0;t<Bu;t++)if(R_(PM-1,GM-t,zM[0])){tC(),PM--,GM-=t,eC();break}break;case Ta:for(t=0;t<Bu;t++)if(R_(PM+1,GM-t,zM[0])){tC(),PM++,GM-=t,eC();break}break;case Ia:case Ca:XM();break;case ka:lu.Main_Go=Rc,JM(),X_();break;case Ma:fs()&&Zi[lu.Users_Position].access_token?lu.Main_Go=ou:lu.Main_Go=Vc,JM(),X_();break;case Sa:case Ea:case xa:case Ba:lu.Main_selectedChannel=document.getElementById(zM[4]+PM+"_"+GM).getAttribute(Ju),lu.Main_selectedChannel_id=document.getElementById(zM[4]+PM+"_"+GM).getAttribute("data-id"),lu.Main_selectedChannelDisplayname=document.getElementById(zM[3]+PM+"_"+GM).textContent,lu.Main_selectedChannelLogo=document.getElementById(zM[1]+PM+"_"+GM).src,document.body.removeEventListener("keydown",nC),lu.Main_BeforeChannel=$c,lu.Main_Go=Yc,lu.Main_BeforeChannelisSet=!0,td=Wa=!0,c_(zM[6]),X_();break;case Oa:zf(nC);break;case Fa:JM(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=$c,lu.Main_Go=Jc,JM(),X_()}}var aC=0,iC=0,sC=!1,oC=0,dC={},lC=[],rC=!1,cC=0,uC=5,_C=3500,fC=0,mC=0,hC=!1,pC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],vC=!1,gC="",yC=!1;function bC(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=zc,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+Z)),document.body.addEventListener("keydown",BC,!1),gC!==Zi[lu.Users_Position].name&&(vC=!1),vC?(lf(aC),u_(pC[10]),E_(iC,aC,xu,oC),LC(),j_()):kC()}function wC(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",BC),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn),c_(pC[10])}function kC(){c_(pC[10]),v_(),P_(),gC=Zi[lu.Users_Position].name,vC=!1,af("stream_table_user_host"),dC={},oC=mC=fC=0,aC=iC=0,sC=!(Wf=!(yC=!(lC=[]))),C_(),MC(),CC()}function MC(){of(),rC=!0,cC=0,_C=3500}function CC(){var e=oC+fC;e&&mC-1<e&&(e=mC-Su,sC=!0),rm("https://api.twitch.tv/api/users/"+encodeURIComponent(Zi[lu.Users_Position].name)+"/followed/hosting?limit="+Su+"&offset="+e,_C,2,null,SC,EC)}function EC(){++cC<uC?(_C+=500,CC()):(rC=!1,oC?(sC=!0,xC()):(Wf=!1,g_(),I_(L)))}function SC(e){var t=JSON.parse(e),n=t.hosts.length;mC=parseInt(t._total),n<Su&&(sC=!0);var a=oC;hC=!(oC+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.hosts[c]).target._id+""+l._id,dC[r]?s--:(dC[r]=1,d.appendChild(hf(o,o+"_"+s,[l.target.channel.name,l.target._id],pC,[l.target.preview_urls.template.replace("{width}x{height}",Ru),l.display_name+ae+l.target.channel.display_name,l.target.title,l.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+N_(l.target.viewers)+R,""])));for(;s<xu;s++)sC&&!yC&&(yC=!0,oC=o*xu+s),d.appendChild(uf(pC[9]+o+"_"+s)),lC.push(pC[9]+o+"_"+s);document.getElementById("stream_table_user_host").appendChild(d)}xC()}function xC(){Hf(function(){if(vC){if(sf(t_),0<lC.length&&!sC)return MC(),void IC();E_(iC,aC,xu,oC),lC=[]}else g_(),hC?I_(T+Z):(vC=!0,LC(),sf(t_),j_()),u_(pC[10]),Wf=!1;rC=!1})}function IC(){x_(lC.length);var e=oC+fC;e&&mC-1<e&&(e=mC-Fu,sC=!0),rm("https://api.twitch.tv/api/users/"+encodeURIComponent(Zi[lu.Users_Position].name)+"/followed/hosting?limit="+Fu+"&offset="+e,_C,2,null,GC,PC)}function PC(){++cC<uC?(_C+=500,IC()):(sC=!0,oC-=lC.length,lC=[],xC())}function GC(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(mC=parseInt(a._total),i<Fu&&(sC=!0);s<lC.length&&o<i;s++,o++)n=(t=a.hosts[o]).target._id+""+t._id,dC[n]?s--:(dC[n]=1,pf(lC[s],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Ru),t.display_name+ae+t.target.channel.display_name,t.target.title,t.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+N_(t.target.viewers)+R,""],pC),d.push(s));for(s=d.length-1;-1<s;s--)lC.splice(d[s],1);fC+=o,sC&&(oC-=lC.length,lC=[]),xC()}function LC(){Ef(aC,iC,pC,xu,oC),oC/xu<aC+Iu&&!sC&&!rC&&(MC(),CC()),uu&&TC()}function TC(){oC&&Bf(aC+"_"+iC,pC)}function BC(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(TC(),Zf(BC));break;case Pa:if(R_(aC,iC-1,pC[0]))TC(),iC--,LC();else for(t=xu-1;-1<t;t--)if(R_(aC-1,t,pC[0])){TC(),aC--,iC=t,LC();break}break;case La:R_(aC,iC+1,pC[0])?(TC(),iC++,LC()):R_(aC+1,0,pC[0])&&(TC(),aC++,iC=0,LC());break;case Ga:for(t=0;t<xu;t++)if(R_(aC-1,iC-t,pC[0])){TC(),aC--,iC-=t,LC();break}break;case Ta:for(t=0;t<xu;t++)if(R_(aC+1,iC-t,pC[0])){TC(),aC++,iC-=t,LC();break}break;case Ia:case Ca:kC();break;case ka:lu.Main_Go=Vc,wC(),X_();break;case Ma:lu.Main_Go=Rc,wC(),X_();break;case Sa:case Ea:case xa:case Ba:xf(aC+"_"+iC,pC,BC);break;case Oa:zf(BC);break;case Fa:wC(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=zc,lu.Main_Go=Jc,wC(),X_()}}var OC=0,FC=0,HC=!1,UC=0,AC={},NC=[],DC=!1,qC=0,RC=5,zC=3500,VC=0,JC=0,XC=0,jC=!1,YC=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],WC=!1,KC="",ZC="",$C=!1;function QC(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Rc,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+K)),document.body.addEventListener("keydown",hE,!1),ZC!==Zi[lu.Users_Position].name&&(WC=!1),WC?(lf(OC),u_(YC[10]),E_(FC,OC,xu,UC),fE(),j_()):tE()}function eE(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",hE),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn),c_(YC[10])}function tE(){af("stream_table_user_live"),c_(YC[10]),v_(),P_(),WC=!1,ZC=Zi[lu.Users_Position].name,JC=VC=XC=0,AC={},OC=FC=UC=0,HC=!(Wf=!($C=!(NC=[]))),KC="",C_(),Hf(function(){nE(),aE()})}function nE(){of(),DC=!0,qC=0,zC=3500}function aE(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi[lu.Users_Position].id)+"/follows/channels?limit=100&offset="+XC+"&sortby=created_at";if(Ku){if(!(e=Android.mreadUrl(t,zC,2,null)))return void iE();200===(e=JSON.parse(e)).status?sE(e.responseText):iE()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=zC,e.setRequestHeader(Au,qu),e.setRequestHeader(Uu,Hu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void sE(e.responseText);iE()}},e.send(null)}function iE(){++qC<RC?(zC+=500,aE()):(DC=!1,UC?(HC=!0,rE()):(Wf=!1,g_(),I_(L)))}function sE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===KC.indexOf(a)&&(KC+=a);XC+=n,nE(),aE()}else KC=KC.slice(0,-1),nE(),oE()}function oE(){var e=UC+VC;e&&JC-1<e&&(e=JC-Su,HC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(KC)+"&limit="+Su+"&offset="+e+"&stream_type=all";if(Ku){if(!(t=Android.mreadUrl(n,zC,2,null)))return void dE();200===(t=JSON.parse(t)).status?lE(t.responseText):dE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=zC,t.setRequestHeader(Au,qu),t.setRequestHeader(Uu,Hu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void lE(t.responseText);dE()}},t.send(null)}function dE(){++qC<RC?(zC+=500,oE()):(DC=!1,g_(),I_(L))}function lE(e){var t=JSON.parse(e),n=t.streams.length;JC=parseInt(t._total),n<Su&&(HC=!0);var a=UC;jC=!(UC+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,AC[r]?s--:(AC[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r],YC,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+mv(l.created_at)+b+", "+v+N_(l.viewers)+R,D_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)HC&&!$C&&($C=!0,UC=o*xu+s),d.appendChild(uf(YC[9]+o+"_"+s)),NC.push(YC[9]+o+"_"+s);document.getElementById("stream_table_user_live").appendChild(d)}rE()}function rE(){Hf(function(){if(WC){if(sf(t_),0<NC.length&&!HC)return nE(),void cE();E_(FC,OC,xu,UC),NC=[]}else g_(),jC?I_(T+K):(WC=!0,fE(),sf(t_),j_()),u_(YC[10]),Wf=!1;DC=!1})}function cE(){x_(NC.length);var e=UC+VC;e&&JC-1<e&&(e=JC-Fu,HC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(KC)+"&limit="+Fu+"&offset="+e+"&stream_type=all";if(Ku){if(!(t=Android.mreadUrl(n,zC,2,null)))return void uE();200===(t=JSON.parse(t)).status?_E(t.responseText):uE()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=zC,t.setRequestHeader(Au,qu),t.setRequestHeader(Uu,Hu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void _E(t.responseText);uE()}},t.send(null)}function uE(){++qC<RC?(zC+=500,cE()):(HC=!0,UC-=NC.length,NC=[],rE())}function _E(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(JC=parseInt(a._total),i<Fu&&(HC=!0);s<NC.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,AC[n]?s--:(AC[n]=1,pf(NC[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+N_(t.viewers)+R,D_(t.video_height,t.average_fps,t.channel.language)],YC),d.push(s));for(s=d.length-1;-1<s;s--)NC.splice(d[s],1);VC+=o,HC&&(UC-=NC.length,NC=[]),rE()}function fE(){Ef(OC,FC,YC,xu,UC),UC/xu<OC+Iu&&!HC&&!DC&&(nE(),aE()),uu&&mE()}function mE(){UC&&Bf(OC+"_"+FC,YC)}function hE(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(mE(),Zf(hE));break;case Pa:if(R_(OC,FC-1,YC[0]))mE(),FC--,fE();else for(t=xu-1;-1<t;t--)if(R_(OC-1,t,YC[0])){mE(),OC--,FC=t,fE();break}break;case La:R_(OC,FC+1,YC[0])?(mE(),FC++,fE()):R_(OC+1,0,YC[0])&&(mE(),OC++,FC=0,fE());break;case Ga:for(t=0;t<xu;t++)if(R_(OC-1,FC-t,YC[0])){mE(),OC--,FC-=t,fE();break}break;case Ta:for(t=0;t<xu;t++)if(R_(OC+1,FC-t,YC[0])){mE(),OC++,FC-=t,fE();break}break;case Ia:case Ca:tE();break;case ka:lu.Main_Go=zc,eE(),X_();break;case Ma:lu.Main_Go=$c,eE(),X_();break;case Sa:case Ea:case xa:case Ba:xf(OC+"_"+FC,YC,hE);break;case Oa:zf(hE);break;case Fa:eE(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=Rc,lu.Main_Go=Jc,eE(),X_()}}var pE=0,vE=0,gE=8,yE=0,bE=null,wE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],kE=!1,ME=!0;function CE(){return fu?(EE(),void ji(fu)):ys()?(lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Zc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",P_(),f_("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",DE,!1),void(kE?(lf(pE),u_(wE[5]),LE(),j_()):SE())):(lu.Main_Go=Ac,EE(),void X_())}function EE(){lu.Users_Position=0,m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",DE),c_(wE[5]),document.getElementById("screens_holder").style.top="0"}function SE(){c_(wE[5]),v_(),P_(),Wf=!(kE=!1),af("stream_table_user"),ME=!(pE=vE=0),xE()}function xE(){for(var e,t,n,a=document.createElement("tbody"),i=0;i<Zi.length;i++)t=0,n=i%2?"B5B5B5":"FFFFFF",(pu=document.createElement("tr")).className="follower_header",pu.innerHTML='<div class="follower_header">'+Zi[i].name+A+(i?"":oe)+"</div>",document.getElementById("stream_table_user").appendChild(a),document.getElementById("stream_table_user").appendChild(pu),(e=document.createElement("tr")).appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,Yb.isLive?$:zt,"gamepad",n)),t++,e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,i?e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,se,"arrow-up",n)):e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(IE(i+"_"+t,lu.Main_selectedChannelDisplayname,Zi[i].access_token?yt:gt,"key",n)),document.getElementById("stream_table_user").appendChild(e);PE()}function IE(e,t,n,a,i){return(pu=document.createElement("td")).setAttribute("id",wE[4]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+wE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+wE[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+wE[2]+e+'" class="stream_text"><div id="'+wE[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",pu}function PE(){Hf(function(){kE||(g_(),kE=!0,LE(),j_()),u_(wE[5]),ME=Wf=!1})}function GE(){for(var e=0;e<Zi.length;e++)p_(wE[3]+e+"_2",Yb.isLive?$:zt)}function LE(){f_(wE[0]+pE+"_"+vE,"stream_thumbnail_focused"),rf(pE)?1<pE?R_(pE+1,0,wE[0])&&Tf(wE[5],-1*document.getElementById(wE[4]+pE+"_"+vE).offsetTop+500):Tf(wE[5],screen.height/100*7):bf(),uu&&TE()}function TE(){cu=!1,m_(wE[0]+pE+"_"+vE,"stream_thumbnail_focused")}function BE(){return lu.Users_Position=pE,3!==vE||Zi[lu.Users_Position].access_token?7===vE&&Zi[lu.Users_Position].access_token?(I_(yt),void window.setTimeout(P_,1500)):(6!==vE&&7!==vE&&(c_(wE[5]),document.body.removeEventListener("keydown",DE),document.getElementById("screens_holder").style.top="0"),void Hf(function(){vE?1===vE?bC():2===vE?(bb=Yb,Eb()):3===vE?dS():4===vE?VM():5===vE?pE?vs(pE):(lu.Main_Before=Zc,ts()):6===vE?HE():7!==vE||Zi[lu.Users_Position].access_token||HE():QC()})):(I_(En),void window.setTimeout(P_,5e3))}function OE(){window.clearTimeout(bE)}function FE(){bE=window.setTimeout(UE,2e4)}function HE(){FE(),6===vE?h_("main_dialog_remove",qt+na+Zi[lu.Users_Position].name+"?"):7===vE&&h_("main_dialog_remove",ut+" "+Zi[lu.Users_Position].name+"?"),u_("main_remove_dialog")}function UE(){OE(),c_("main_remove_dialog"),yE=0,NE()}function AE(){return __("main_remove_dialog")}function NE(){yE?(m_("remove_cancel","button_search_focused"),f_("remove_yes","button_search_focused")):(f_("remove_cancel","button_search_focused"),m_("remove_yes","button_search_focused"))}function DE(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:AE()?UE():T_()?L_():H_()?F_():(TE(),Zf(DE));break;case Pa:if(AE())--yE<0&&(yE=1),NE(),OE(),FE();else if(R_(pE,vE-1,wE[0]))TE(),vE--,LE();else if(R_(pE-1,0,wE[0])){for(t=gE-1;-1<t;t--)if(R_(pE-1,t,wE[0])){TE(),pE--,vE=t,LE();break}}else TE(),vE=gE-1,LE();break;case La:AE()?(1<++yE&&(yE=0),NE(),OE(),FE()):(R_(pE,vE+1,wE[0])?(TE(),vE++):(R_(pE+1,0,wE[0])?(TE(),pE++):TE(),vE=0),LE());break;case Ga:for(t=0;t<gE;t++)if(R_(pE-1,vE-t,wE[0])){TE(),pE--,vE-=t,LE();break}break;case Ta:for(t=0;t<gE;t++)if(R_(pE+1,vE-t,wE[0])){TE(),pE++,vE-=t,LE();break}break;case Ia:case Ca:SE();break;case ka:lu.Main_Before=Zc,lu.Main_Go=su,EE(),X_();break;case Ma:lu.Main_Before=Zc,lu.Main_Go=Ac,EE(),X_();break;case Sa:case Ea:case xa:case Ba:var n;if(AE()){if(6===vE)n=yE,UE(),n&&(document.body.removeEventListener("keydown",DE),EE(),hs(pE));else if(n=yE,UE(),n){lu.Users_AddcodePosition=lu.Users_Position,j_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Hu)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else BE();break;case Oa:zf(DE);break;case Fa:EE(),tf();break;case Ha:O_();break;case Ua:lu.Main_BeforeSearch=Zc,lu.Main_Go=Jc,EE(),X_()}}var qE=0,RE=0,zE=!1,VE=0,JE={},XE=[],jE=!1,YE=0,WE=5,KE=3500,ZE=0,$E=0,QE=!1,eS=!1,tS="time",nS=2,aS=!1,iS=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],sS=!1,oS=!1;function dS(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=ou,f_("top_bar_user","icon_center_focus"),r_("label_side_panel","icon-arrow-circle-left",I),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+(oS?H:F))),document.body.addEventListener("keydown",ES,!1),sS?(lf(qE),u_(iS[10]),E_(RE,qE,xu,VE),SS(),wS(),j_()):rS()}function lS(){sS&&kS(),m_("top_bar_user","icon_center_focus"),r_("label_side_panel","icon-ellipsis",Fn),document.body.removeEventListener("keydown",ES),p_("top_bar_user",u),c_(iS[10])}function rS(){sS&&kS(),c_(iS[10]),v_(),SS(),P_(),sS=!1,af("stream_table_user_vod"),aS=!1,$E=ZE=0,JE={},qE=RE=VE=0,zE=!(Wf=!(eS=!(XE=[]))),C_(),uS()}function cS(){of(),jE=!0,YE=0,KE=3500}function uS(){cS(),_S()}function _S(){var e=VE+ZE;e&&$E-1<e&&(e=$E-Su,zE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Su+"&broadcast_type="+(oS?"highlight":"archive")+"&sort="+tS+"&offset="+e;if(Ku){if(!(t=Android.mreadUrl(n,KE,3,Du+Zi[lu.Users_Position].access_token)))return void fS();if(200===(t=JSON.parse(t)).status)return void hS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,uS,mS):fS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=KE,t.setRequestHeader(Au,qu),t.setRequestHeader(Uu,Hu),t.setRequestHeader(Nu,Du+Zi[lu.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void hS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,uS,mS):fS()}},t.send(null)}function fS(){++YE<WE?(KE+=500,_S()):mS()}function mS(){jE=!1,VE?(zE=!0,pS()):(Wf=!1,g_(),I_(L))}function hS(e){var t=JSON.parse(e),n=t.videos.length;$E=parseInt(t._total),n<Su&&(zE=!0);var a=VE;QE=!(VE+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c=0;if(!aS){var u;for(aS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",iS[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+iS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+iS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_user_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||JE[r]?s--:(JE[r]=1,d.appendChild(ax(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Ru),l.channel.display_name,N+Q_(l.created_at),IM.parse(l.title)+na+Yt+p+l.game,N_(l.views)+q,D_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+_v(l.length),l.animated_preview_url],iS)));for(;s<xu;s++)zE&&!eS&&(eS=!0,VE=o*xu+s),d.appendChild(uf(iS[9]+o+"_"+s)),XE.push(iS[9]+o+"_"+s);document.getElementById("stream_table_user_vod").appendChild(d)}pS()}function pS(){Hf(function(){sS?sf(t_):(g_(),QE?I_(T+(oS?H:F)+B+x):(sS=!0,wS(),sf(t_),j_()),u_(iS[10]),Wf=!1),0<XE.length&&!zE?vS():(E_(RE,qE,xu,VE),jE=!(XE=[]))})}function vS(){cS(),gS()}function gS(){x_(XE.length);var e=VE+ZE;e&&$E-1<e&&(e=$E-Fu,zE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Fu+"&broadcast_type="+(oS?"highlight":"archive")+"&sort="+tS+"&offset="+e;if(Ku){if(!(t=Android.mreadUrl(n,KE,3,Du+Zi[lu.Users_Position].access_token)))return void yS();if(200===(t=JSON.parse(t)).status)return void bS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,uS,mS):yS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=KE,t.setRequestHeader(Au,qu),t.setRequestHeader(Uu,Hu),t.setRequestHeader(Nu,Du+Zi[lu.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void bS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,uS,mS):yS()}},t.send(null)}function yS(){++YE<WE?(KE+=500,gS()):(zE=!0,VE-=XE.length,XE=[],pS())}function bS(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for($E=parseInt(a._total);s<XE.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||JE[n]?s--:(JE[n]=1,sx(XE[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,N+Q_(t.created_at),IM.parse(t.title)+na+Yt+p+t.game,N_(t.views)+q,D_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+_v(t.length),t.animated_preview_url],iS),d.push(s));for(s=d.length-1;-1<s;s--)XE.splice(d[s],1);ZE+=o,zE&&(VE-=XE.length,XE=[]),pS()}function wS(){qE<0?MS():(Ef(qE,RE,iS,xu,VE),hx(iS,qE+"_"+RE),VE/xu<qE+Iu&&!zE&&!jE&&uS(),uu&&kS())}function kS(){window.clearInterval(xS),-1<qE&&VE?(u_(iS[1]+qE+"_"+RE),Bf(qE+"_"+RE,iS)):CS()}function MS(){var e=1<RE?1:RE;f_(iS[0]+"y_"+e,Vu)}function CS(){var e=1<RE?1:RE;m_(iS[0]+"y_"+e,Vu)}function ES(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:T_()?L_():T_()?L_():H_()?F_():(kS(),Zf(ES));break;case Pa:if(-1===qE)CS(),--RE<0&&(RE=1),MS();else if(qE||RE){if(R_(qE,RE-1,iS[0]))kS(),RE--,wS();else for(t=xu-1;-1<t;t--)if(R_(qE-1,t,iS[0])){kS(),qE--,RE=t,wS();break}}else kS(),CS(),qE=-1,RE=1,MS();break;case La:-1===qE?(CS(),1<++RE?(RE=0,QE?MS():(qE=0,wS())):MS()):R_(qE,RE+1,iS[0])?(kS(),RE++,wS()):R_(qE+1,0,iS[0])&&(kS(),qE++,RE=0,wS());break;case Ga:if(-1!==qE||QE)if(qE){for(t=0;t<xu;t++)if(R_(qE-1,RE-t,iS[0])){kS(),qE--,RE-=t,wS();break}}else kS(),qE=-1,MS();else qE=0,CS(),wS();break;case Ta:if(-1!==qE||QE){for(t=0;t<xu;t++)if(R_(qE+1,RE-t,iS[0])){kS(),qE++,RE-=t,wS();break}}else qE=0,CS(),wS();break;case ka:lu.Main_Go=$c,lS(),X_();break;case Ma:lu.Main_Go=Vc,lS(),X_();break;case Ia:case Ca:am("UserVod_highlight",(oS=!oS)?"true":"false"),rS();break;case Sa:case Ea:case xa:case Ba:-1===qE?(0===RE?am("UserVod_highlight",(oS=!oS)?"true":"false"):1===nS?nS++:nS--,rS()):Gf(qE+"_"+RE,iS,ES);break;case Oa:zf(ES);break;case Fa:lS(),tf();break;case Ha:1===nS?nS++:nS--,rS();break;case Ua:lu.Search_isSearching||(lu.Main_BeforeSearch=ou),lu.Main_Go=Jc,lS(),X_()}}function SS(){1===nS?(h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(oS?H:F)+Mn)),tS="time"):2===nS&&(h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(oS?H:F)+Cn)),tS="views"),am("UserVod_TypeNumber",nS)}var xS,IS=0,PS=0,GS=!1,LS=0,TS={},BS=[],OS=!1,FS=0,HS=5,US=3500,AS=0,NS=0,DS=!1,qS=!1,RS="week",zS=2,VS=!1,JS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],XS=!1,jS=!1,YS=1,WS=new Image;function KS(){lu.Main_CenterLablesVectorPos=4,lu.Main_Go=tu,f_("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",px,!1),XS?(lf(IS),u_(JS[10]),E_(PS,IS,xu,LS),vx(),ux(),j_()):$S()}function ZS(){XS&&_x(),K_(),document.body.removeEventListener("keydown",px),m_("top_bar_vod","icon_center_focus"),p_("top_bar_vod",Kt),c_(JS[10])}function $S(){XS&&_x(),c_(JS[10]),v_(),vx(),P_(),XS=!1,af("stream_table_vod"),VS=!1,NS=AS=0,TS={},IS=PS=LS=0,GS=!(Wf=!(qS=!(BS=[]))),C_(),QS(),ex()}function QS(){of(),OS=!0,FS=0,US=3500}function ex(){var e=LS+AS;e&&NS-1<e&&(e=NS-Su,GS=!0),rm("https://api.twitch.tv/kraken/videos/top?limit="+Su+"&broadcast_type="+(jS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RS+(""!==gu?"&language="+gu:""),US,2,null,nx,tx)}function tx(){++FS<HS?(US+=500,ex()):(OS=!1,LS?(GS=!0,dx()):(Wf=!1,g_(),I_(L)))}function nx(e){var t=JSON.parse(e),n=t.vods.length;NS=parseInt(t._total),n<Su&&(GS=!0);var a=LS;DS=!(LS+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c=0;if(!VS){var u;for(VS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",JS[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+JS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+JS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||TS[r]?s--:(TS[r]=1,d.appendChild(ax(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Ru),l.channel.display_name,N+Q_(l.created_at),IM.parse(l.title)+na+Yt+p+l.game,N_(l.views)+q,D_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+_v(l.length),l.animated_preview_url],JS)));for(;s<xu;s++)GS&&!qS&&(qS=!0,LS=o*xu+s),d.appendChild(uf(JS[9]+o+"_"+s)),BS.push(JS[9]+o+"_"+s);document.getElementById("stream_table_vod").appendChild(d)}dx()}function ax(e,t,n,a,i){return e<xu&&cf(a[0]),ix(n,t,a,i)}function ix(e,t,n,a){return(pu=document.createElement("td")).setAttribute("id",a[8]+t),pu.setAttribute(Ju,JSON.stringify(e)),pu.className="stream_cell",pu.innerHTML=ox(t,n,a),pu}function sx(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Ju,JSON.stringify(t)),i.innerHTML=ox(s,n,a),i.setAttribute("id",a[8]+s)}function ox(e,t,n){return df(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function dx(){Hf(function(){if(XS?sf(t_):(g_(),DS?I_(T+(jS?H:F)+B+x):(XS=!0,ux(),sf(t_),j_()),u_(JS[10]),Wf=!1),0<BS.length&&!GS)return QS(),void lx();E_(PS,IS,xu,LS),OS=!(BS=[])})}function lx(){x_(BS.length);var e=LS+AS;e&&NS-1<e&&(e=NS-Fu,GS=!0),rm("https://api.twitch.tv/kraken/videos/top?limit="+Fu+"&broadcast_type="+(jS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RS+(""!==gu?"&language="+gu:""),US,2,null,cx,rx)}function rx(){++FS<HS?(US+=500,lx()):(GS=!0,LS-=BS.length,BS=[],dx())}function cx(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(NS=parseInt(a._total);s<BS.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||TS[n]?s--:(TS[n]=1,sx(BS[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,N+Q_(t.created_at),IM.parse(t.title)+na+Yt+p+t.game,N_(t.views)+q,D_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+_v(t.length),t.animated_preview_url],JS),d.push(s));for(s=d.length-1;-1<s;s--)BS.splice(d[s],1);AS+=o,GS&&(LS-=BS.length,BS=[]),dx()}function ux(){IS<0?fx():(Ef(IS,PS,JS,xu,LS),hx(JS,IS+"_"+PS),LS/xu<IS+Iu&&!GS&&!OS&&(QS(),ex()),uu&&_x())}function _x(){window.clearInterval(xS),-1<IS&&LS?(u_(JS[1]+IS+"_"+PS),Bf(IS+"_"+PS,JS)):mx()}function fx(){var e=1<PS?1:PS;f_(JS[0]+"y_"+e,Vu)}function mx(){var e=1<PS?1:PS;m_(JS[0]+"y_"+e,Vu)}function hx(t,n){if(YS){var a=document.getElementById(t[0]+n);WS.onload=function(){c_(t[1]+n),a.style.backgroundSize="612px";var e=0;xS=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},WS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function px(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Aa:H_()?F_():T_()?L_():(_x(),Zf(px));break;case Pa:if(-1===IS)mx(),--PS<0&&(PS=1),fx();else if(IS||PS){if(R_(IS,PS-1,JS[0]))_x(),PS--,ux();else for(t=xu-1;-1<t;t--)if(R_(IS-1,t,JS[0])){_x(),IS--,PS=t,ux();break}}else _x(),mx(),IS=-1,PS=1,fx();break;case La:-1===IS?(mx(),1<++PS?(PS=0,DS?fx():(IS=0,ux())):fx()):R_(IS,PS+1,JS[0])?(_x(),PS++,ux()):R_(IS+1,0,JS[0])&&(_x(),IS++,PS=0,ux());break;case Ga:if(-1!==IS||DS)if(IS){for(t=0;t<xu;t++)if(R_(IS-1,PS-t,JS[0])){_x(),IS--,PS-=t,ux();break}}else _x(),IS=-1,fx();else IS=0,mx(),ux();break;case Ta:if(-1!==IS||DS){for(t=0;t<xu;t++)if(R_(IS+1,PS-t,JS[0])){_x(),IS++,PS-=t,ux();break}}else IS=0,mx(),ux();break;case ka:lu.Main_Before=tu,lu.Main_Go=nu,ZS(),X_();break;case Ma:lu.Main_Before=tu,lu.Main_Go=Dc,ZS(),X_();break;case Ia:case Ca:am("Vod_highlight",(jS=!jS)?"true":"false"),$S();break;case Sa:case Ea:case xa:case Ba:-1===IS?(0===PS?am("Vod_highlight",(jS=!jS)?"true":"false"):4<++zS&&(zS=1),$S()):Gf(IS+"_"+PS,JS,px);break;case Oa:zf(px);break;case Fa:ZS(),tf();break;case Ha:4<++zS&&(zS=1),$S();break;case Ua:lu.Search_isSearching||(lu.Main_BeforeSearch=tu),lu.Main_Go=Jc,ZS(),X_()}}function vx(){1===zS?(h_("top_bar_vod",Kt+$_((jS?H:F)+le)),RS="day"):2===zS?(h_("top_bar_vod",Kt+$_((jS?H:F)+re)),RS="week"):3===zS?(h_("top_bar_vod",Kt+$_((jS?H:F)+ce)),RS="month"):4===zS&&(h_("top_bar_vod",Kt+$_((jS?H:F)+ue)),RS="all"),am("vod_periodNumber",zS)}