var t,n,a,e,i,o,s,d,l,c,p,m,r,u,_,f,v,h,g,y,b,w,k,A,C,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,J,F,H,q,z,X,j,Y,W,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,ce,re,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Je,Fe,He,qe,ze,Xe,je,Ye,We,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,ct,rt,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Jt,Ft,Ht,qt,zt,Xt,jt,Yt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Jn,Fn,Hn,qn,zn,Xn,jn,Yn,Wn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa,da,la,ca="fglfgl27@gmail.com",ra="<br>",ua='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',_a='<div class="about_text_title">',fa='<div class="about_text_title" style="text-align: left;">',ma='<div style="text-align: left;">',ha="",pa="",va="",ga="",ya="",ba="",wa="",ka="",Aa="",Ca="&nbsp;";function Ea(){ha=e+" (C)",pa=n+" (D)",ga=a+" (A)",va=i+" (A)",l+=Zt,c+=Zt,I=ia+oa,ya=_a+e+"</div>"+_a+Ce+"</div>"+ra+ma+ua+xe+ra+ua+(Pe+=jt)+ra+ua+Le+ra+ua+Te+ra+Be+ra+ua+Oe+ra+Ca+Ca+Ca+Ge+ra+ua+Ue+ra+"</div>"+ra+(ka=_a+ke+"</div>"+ma+ua+nt+ra+ua+$e+ra+ua+et+ra+"</div>"+ma+ua+tt+ra+ua+at+ra+ua+it+ra+ra+_a+Ae+"</div>"+ma+ua+ot+ra+ua+st+ra+ua+dt+ra+ua+lt+ra+ua+ct)+ra+ra+_a+we+"</div>",ba=_a+be+"</div></div>",wa=ma+ra+Re+ra+(cr?ra+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+ra+_a+Ne+"</div>"+ca+ra+ra+Ve+ra+De+ra+ra+fa+Je+"</div>"+ma+We+ra+ua+Fe+ra+ua+He+ra+ua+qe+ra+ua+ze+ra+ua+Xe+ra+ua+je+ra+ua+Ye+ra+Qe+ra+ua+Ze+ra+ua+Ke+ra+_a+we+"</div></div>",Aa=mt+ra+ua+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+ra+ua+pt+ra+ua+vt+ra+ua+gt+ra+ua+yt}function Ma(){Xr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",r="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",Y="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Yt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+ra+"Chat: Connected."+ra+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+ra)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Yn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness ",sa="Play Next",la="Playing next in ",da="Play All"}var Ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Pa="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",La=51,Ta=52,Ba=179,Oa=37,Ga=38,Ua=39,Ra=40,Na=13,Va=49,Da=8,Ja=13,Fa=32,Ha=46,qa=0,za=5,Xa=1e4,ja=0,Ya=!1,Wa=!1,Qa=!1,Za="",Ka="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",$a="elsu5d09k0xomu7cggx3qg5ybdwu7g",ei="https://id.twitch.tv/oauth2/token?";function ti(e){Ur.Users_Position=Ur.Users_AddcodePosition,ja=e,Mi(),Xu(),si()}function ni(e,t,n,a){var i=new XMLHttpRequest,o=ei+"grant_type=refresh_token&client_id="+encodeURIComponent(uu)+"&client_secret="+encodeURIComponent($a)+"&refresh_token="+encodeURIComponent(Xi[e].refresh_token)+"&redirect_uri="+Ka;i.open("POST",o,!0),i.timeout=Xa,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ii(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(ci(),a&&a()):ai(e,t,n,a))},i.send(null)}function ai(e,t,n,a){++t<5?ni(e,t,n,a):a&&a()}function ii(e,t,n){var a=JSON.parse(e);oi(a.scope)?(Xi[t].access_token=a.access_token,Xi[t].refresh_token=a.refresh_token,_o()):ci(),n&&n()}function oi(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function si(){var e=ei+"grant_type=authorization_code&client_id="+encodeURIComponent(uu)+"&client_secret="+encodeURIComponent($a)+"&code="+encodeURIComponent(ja)+"&redirect_uri="+Ka,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Xa,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?ri(t.responseText):di())},t.send(null)}function di(){++qa<za?si():li()}function li(){ju(),a_(Lt),window.setTimeout(function(){i_(),Jr=0,w_(),Ur.Main_Go=Mr,window.location=Ka},4e3),Xi[Ur.Users_Position].access_token=0,Xi[Ur.Users_Position].refresh_token=0,_o()}function ci(){NM=!1,ju(),a_(Lt),Xi[Ur.Users_Position].access_token=0,Xi[Ur.Users_Position].refresh_token=0,_o(),w_(),window.setTimeout(i_,4e3)}function ri(e){var t=JSON.parse(e);Xi[Ur.Users_Position].access_token=t.access_token,Xi[Ur.Users_Position].refresh_token=t.refresh_token,Mi(),ui()}function ui(){Vf("https://api.twitch.tv/kraken?oauth_token="+Xi[Ur.Users_Position].access_token,Xa,0,null,_i,fi)}function _i(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Xi[Ur.Users_Position].name)){if(_o(),Jr=0,ju(),NM=!1,Ur.Main_Go=Mr,w_(),a_(wt),Iu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Ka},3e3)}else Xi[Ur.Users_Position].access_token=0,Xi[Ur.Users_Position].refresh_token=0,a_(Gn+Xi[Ur.Users_Position].name),window.setTimeout(function(){i_(),Jr=0,w_(),Ur.Main_Go=Mr,window.location=Ka},4e3)}function fi(){++qa<za?(Xa+=500,ui()):li()}function mi(){Mi(),Ya=!1,hi()}function hi(){var e="https://api.twitch.tv/kraken/users/"+Xi[Ur.Users_Position].id+"/follows/channels/"+Za,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Xa,t.setRequestHeader(_u,uu),t.setRequestHeader(fu,pu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?pi():404===t.status?vi(t.responseText):gi())},t.send(null)}function pi(){Ya=!0,Qa?vg():Id()}function vi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(Ya=!1,Qa?vg():Id()):gi()}function gi(){++qa<za?(Xa+=500,hi()):Qa?vg():Id()}function yi(){Mi(),bi()}function bi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Xi[Ur.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(_u,uu),e.setRequestHeader(fu,pu),e.setRequestHeader("Authorization","OAuth "+Xi[Ur.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Ya=!0,void(Qa?vg():Id());401===e.status||403===e.status?ni(Ur.Users_Position,0,yi,null):wi()}},e.send(null)}function wi(){++qa<za&&(Xa+=500,bi())}function ki(){Mi(),Ai()}function Ai(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Xi[Ur.Users_Position].id+"/follows/channels/"+Za,!0),e.timeout=Xa,e.setRequestHeader(_u,uu),e.setRequestHeader(fu,pu),e.setRequestHeader("Authorization","OAuth "+Xi[Ur.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Ya=!1,void(Qa?vg():Id());401===e.status||403===e.status?ni(Ur.Users_Position,0,ki,null):Ci()}},e.send(null)}function Ci(){++qa<za&&(Xa+=500,Ai())}function Ei(){Mi(),Wa=!1,Ii()}function Mi(){qa=0,Xa=1e4}function Ii(){var e,t="https://api.twitch.tv/kraken/users/"+Xi[Ur.Users_Position].id+"/subscriptions/"+Za;if(Iu){if(!(e=Android.mreadUrl(t,Xa,3,Xi[Ur.Users_Position].access_token)))return void Si();if(200===(e=JSON.parse(e)).status)Wa=!0,xy();else if(422===e.status)Wa=!1,Sy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Sy();Si()}else 401===e.status||403===e.status?ni(Ur.Users_Position,0,Ei,xi):Si()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Xa,e.setRequestHeader(_u,uu),e.setRequestHeader(fu,pu),e.setRequestHeader("Authorization","OAuth "+Xi[Ur.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Wa=!0,xy();else if(422===e.status)Wa=!1,Sy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wa=!1,void Sy();Si()}else 401===e.status||403===e.status?ni(Ur.Users_Position,0,Ei,xi):Si()},e.send(null)}function Si(){++qa<za?(Xa+=500,Ii()):xi()}function xi(){Wa=!1,Sy()}function Pi(e){Mi(),Li(e,0)}function Li(e,t){var n,a="https://api.twitch.tv/kraken?oauth_token="+Xi[e].access_token;if(Iu){if(!(n=Android.mreadUrl(a,3500,0,null)))return void Bi(e,t);200===(n=JSON.parse(n)).status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t)}else(n=new XMLHttpRequest).open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ti(n.responseText,e):400===n.status?(Mi(),ni(e,0,null,null)):Bi(e,t))},n.send(null)}function Ti(e,t){var n=JSON.parse(e);n.token.valid?oi(n.token.authorization.scopes)||ci():(Mi(),ni(t,0,null,null))}function Bi(e,t){++t<za&&Li(e,t)}function Oi(){Mi(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Xi[Ur.Users_Position].name+"/follows/games/"+encodeURIComponent(Ur.Main_gameSelected)+"?oauth_token="+Xi[Ur.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(_u,uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return To=!0,void qo();401===e.status||403===e.status?ni(Ur.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++qa<za&&(Xa+=500,Gi())}function Ri(){Mi(),Ni()}function Ni(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Xi[Ur.Users_Position].name+"/follows/games/"+encodeURIComponent(Ur.Main_gameSelected)+"?oauth_token="+Xi[Ur.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(_u,uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return To=!1,void qo();401===e.status||403===e.status?ni(Ur.Users_Position,0,Ri,null):Vi()}},e.send(null)}function Vi(){++qa<za&&(Xa+=500,Ni())}function Di(){Mi(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Xi[Ur.Users_Position].name+"/follows/games/"+encodeURIComponent(Ur.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(_u,uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(To=!0,void qo()):404===e.status?(To=!1,void qo()):void Fi()},e.send(null)}function Fi(){++qa<za?(Xa+=500,Ji()):(To=!1,qo())}var Hi=0,qi=5,zi=3500,Xi=[],ji=null,Yi=!1,Wi=!1;function Qi(){Ur.Main_Go=mr,Ju("top_bar_user","icon_center_focus"),i_(),ar.placeholder=A,Vu("add_user_scroll"),$i()}function Zi(){to(!1),document.body.removeEventListener("keydown",Ki),document.body.removeEventListener("keydown",no),Fu("top_bar_user","icon_center_focus"),Nu("add_user_scroll")}function Ki(e){if(!Yi&&!Wi&&Ur.Main_Go===mr)switch(e.keyCode){case Va:d_()?s_():u_()?r_():(0<Xi.length&&Ur.Main_Go!==Mr?Ur.Main_Go=Ur.Main_Before:Ur.Main_Go=fr,Zi(),y_());break;case Ta:case La:case Ba:case Na:$i()}}function $i(){document.body.removeEventListener("keydown",Ki),document.body.addEventListener("keydown",no,!1),ar.placeholder=A,ar.focus(),Wi=!0}function eo(){if(null!==ar){var e=ar.cloneNode(!0);ar.parentNode.replaceChild(e,ar),ar=document.getElementById("user_input")}}function to(e){ar.blur(),eo(),document.body.removeEventListener("keydown",no),ar.placeholder=C+A,e&&document.body.addEventListener("keydown",Ki,!1),Wi=!1}function no(e){if(!Yi&&Ur.Main_Go===mr)switch(e.keyCode){case Va:d_()?s_():u_()?r_():(0<Xi.length&&Ur.Main_Go!==Mr?Ur.Main_Go=Ur.Main_Before:Ur.Main_Go=fr,Zi(),y_());break;case Ha:ar.value="";break;case Ja:case Ra:""!==ar.value&&null!==ar.value?mo(ji=ar.value)?(ju(),a_(u+ji+ae),window.setTimeout(function(){i_(),$i()},1500)):(zi=3500,Yi=!(Hi=0),Nu("add_user_scroll"),Xu(),ao()):$i();break;case Da:ar.value=ar.value.slice(0,-1);break;case Fa:ar.value+=" "}}function ao(){Vf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(ji),zi,2,null,io,oo)}function io(e){JSON.parse(e)._total?(ar.value="",document.body.removeEventListener("keydown",Ki),ro(e)):so()}function oo(){++Hi<qi?(zi+=500,ao()):so()}function so(){ji=null,ju(),a_(te),window.setTimeout(function(){Qi()},1e3),Yi=!1}function lo(){if(0<(Xi=Gf("AddUser_UsernameArray",[])).length)for(var e=0;e<Xi.length;e++)Xi[e].access_token&&Pi(e)}function co(){return 0<Xi.length}function ro(e){ji=JSON.parse(e).users[0],Xi.push({name:ji.name,id:ji._id,access_token:0,refresh_token:0}),_o(),NM=!1,Zi(),DM(),Yi=!1}function uo(e){var t=Xi.indexOf(Xi[e]);-1<t&&Xi.splice(t,1),0<Xi.length?(NM=!1,DM()):Qi(),_o()}function _o(){Bf("AddUser_UsernameArray",JSON.stringify(Xi))}function fo(e){ji=Xi[0],Xi[0]=Xi[e],Xi[e]=ji,NM=!1,DM(),_o()}function mo(e){return-1!==Xi.indexOf(e)}function ho(){return 0<Xi.length}var po=0,vo=0,go=!1,yo=0,bo={},wo=[],ko=!1,Ao=0,Co=5,Eo=3500,Mo=0,Io=0,So=!1,xo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Po=!1,Lo=!1,To=!1,Bo=!1,Oo=!1;function Go(){Ur.Main_CenterLablesVectorPos=3,Ur.Main_Go=pr,document.body.addEventListener("keydown",ts,!1),Ju("top_bar_game","icon_center_focus"),Ru("label_side_panel","icon-arrow-circle-left",I),Ur.Search_isSearching&&(E_(),Hu("top_bar_user",n+M_(f+" '"+Ur.Search_data+"'"))),Hu("top_bar_game",b+M_(_+": "+Ur.Main_gameSelected)),Ur.Main_OldgameSelected===Ur.Main_gameSelected&&Po?(O_(po),Vu(xo[10]),Zo(),w_()):Ro()}function Uo(){Po&&-1===po&&(es(),vo=po=0,Ju(xo[0]+"0_"+vo,yu)),Ru("label_side_panel","icon-ellipsis",Rn),Hu("top_bar_game",f),document.body.removeEventListener("keydown",ts),Fu("top_bar_game","icon_center_focus"),Nu(xo[10])}function Ro(){null===Ur.Main_OldgameSelected&&(Ur.Main_OldgameSelected=Ur.Main_gameSelected),P_("stream_table_a_game"),Nu(xo[10]),Xu(),i_(),Oo=Po=!1,bo={},Ef=!(yo=Io=Mo=0),po=vo=0,go=Lo=!(wo=[]),$u(),No(),Vo()}function No(){T_(),ko=!0,Ao=0,Eo=3500}function Vo(){var e=yo+Mo;e&&Io-1<e&&(e=Io-tu,go=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Ur.Main_gameSelected)+"&limit="+tu+"&offset="+e+(""!==jr?"&broadcaster_language="+jr:"");Iu&&!yo?Jf(t,Eo,2,null,Jo,Do):Ff(t,Eo,2,null,Jo,Do,!1)}function Do(){++Ao<Co?(Eo+=500,Vo()):(ko=!1,yo?(go=!0,Fo()):(Ef=!1,ju(),a_(P)))}function Jo(e){var t=JSON.parse(e),n=t.streams.length;Io=parseInt(t._total),n<tu&&(go=!0);var a=yo;So=!(yo+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,c,r,u=0,_=document.getElementById("stream_table_a_game");if(!Oo){var f;for(Oo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+Ca+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+Kt,(zr=document.createElement("td")).setAttribute("id",xo[8]+"y_"+l),zr.className="stream_cell",zr.innerHTML='<div id="'+xo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+xo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(zr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/nu+l,d=document.createElement("tr"),o=0;o<nu&&u<n;o++,u++)r=(c=t.streams[u]).channel._id,bo[r]?o--:(bo[r]=1,d.appendChild(J_(s,s+"_"+o,[c.channel.name,r],xo,[c.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,y+iv(c.created_at)+" "+h+__(c.viewers)+J,f_(c.video_height,c.average_fps,c.channel.broadcaster_language)])));for(;o<nu;o++)go&&!Lo&&(Lo=!0,yo=s*nu+o),d.appendChild(R_(xo[9]+s+"_"+o)),wo.push(xo[9]+s+"_"+o);_.appendChild(d)}Fo()}function Fo(){if(Po){if(L_(xa),0<wo.length&&!go)return No(),void Yo();Zo(!0),wo=[]}else Ho(),So?(a_(L+Z),po=-1,$o()):(Po=!0,L_(xa),Zo(),w_()),Vu(xo[10]),Ef=!1,ju();ko=!1}function Ho(){Bo?(To=!0,qo()):co()?Di():(To=!1,qo())}function qo(){Hu(xo[3]+"y_2",To?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Ca+Ca+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Ca+Ca+(co()?It:Tt))}function zo(){co()&&Xi[Ur.Users_Position].access_token?To?Ri():Oi():(a_(Bt),window.setTimeout(function(){So&&Ur.Main_Go===pr?a_(L+Z):i_()},2e3))}function Xo(){vo?1===vo?(Ur.Main_Go=Tr,Ur.Main_OldgameSelected=Ur.Main_gameSelected,jo(),b_()):zo():(Ur.Main_Go=Lr,Ur.Main_OldgameSelected=Ur.Main_gameSelected,jo(),b_())}function jo(){Po&&-1===po&&(es(),vo=po=0,Ju(xo[0]+"0_"+vo,yu)),document.body.removeEventListener("keydown",ts),Nu(xo[10])}function Yo(){n_(wo.length);var e=yo+Mo;e&&Io-1<e&&(e=Io-ru,go=!0),Vf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Ur.Main_gameSelected)+"&limit="+ru+"&offset="+e+(""!==jr?"&broadcaster_language="+jr:""),Eo,2,null,Qo,Wo)}function Wo(){++Ao<Co?(Eo+=500,Yo()):(go=!0,yo-=wo.length,wo=[],Fo())}function Qo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Io=parseInt(a._total),i<ru&&(go=!0);o<wo.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,bo[n]?o--:(bo[n]=1,F_(wo[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+iv(t.created_at)+" "+h+__(t.viewers)+J,f_(t.video_height,t.average_fps,t.channel.broadcaster_language)],xo),d.push(o));for(o=d.length-1;-1<o;o--)wo.splice(d[o],1);Mo+=s,go&&(yo-=wo.length,wo=[]),Fo()}function Zo(e){po<0?$o():(Z_(po,vo,xo,nu,yo,e),yo/nu<po+au&&!go&&!ko&&(No(),Vo()),Vr&&Ko())}function Ko(){-1<po&&yo?df(po+"_"+vo,xo):es()}function $o(){Ju(xo[0]+"y_"+vo,yu)}function es(){Fu(xo[0]+"y_"+vo,yu)}function ts(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(Ur.Main_OldgameSelected=Ur.Main_gameSelected,Ko(),es(),If(ts));break;case Oa:if(-1===po)es(),--vo<0&&(vo=2),$o();else if(po||vo){if(h_(po,vo-1,xo[0]))Ko(),vo--,Zo();else for(t=nu-1;-1<t;t--)if(h_(po-1,t,xo[0])){Ko(),po--,vo=t,Zo();break}}else Ko(),es(),po=-1,vo=2,$o();break;case Ua:-1===po?(es(),2<++vo?(vo=0,So?$o():(po=0,Zo())):$o()):h_(po,vo+1,xo[0])?(Ko(),vo++,Zo()):h_(po+1,0,xo[0])&&(Ko(),po++,vo=0,Zo());break;case Ga:if(-1!==po||So)if(po){for(t=0;t<nu;t++)if(h_(po-1,vo-t,xo[0])){Ko(),po--,vo-=t,Zo();break}}else Ko(),po=-1,$o();else po=0,es(),Zo();break;case Ra:if(-1!==po||So){for(t=0;t<nu;t++)if(h_(po+1,vo-t,xo[0])){Ko(),po++,vo-=t,Zo();break}}else po=0,es(),Zo();break;case Ta:case La:case Ba:case Na:-1!==po?ef(po+"_"+vo,xo,ts):Xo()}}var ns=0,as=0,is=!1,os=0,ss={},ds=[],ls=!1,cs=0,rs=5,us=3500,_s=0,fs=0,ms=!1,hs=!1,ps="week",vs=2,gs=!1,ys=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],bs=!1,ws=!1,ks="";function As(){Ur.Main_CenterLablesVectorPos=3,Ur.Main_Go=Lr,Ju("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ns,!1),Ru("label_side_panel","icon-arrow-circle-left",I),ks===Ur.Main_gameSelected&&bs?(O_(ns),Vu(ys[10]),Vs(),Os(),w_()):Es()}function Cs(){bs&&Gs(),document.body.removeEventListener("keydown",Ns),Fu("top_bar_game","icon_center_focus"),Hu("top_bar_game",f),Ru("label_side_panel","icon-ellipsis",Rn),Nu(ys[10])}function Es(){bs&&Gs(),P_("stream_table_a_game_vod"),Nu(ys[10]),Xu(),Vs(),ks=Ur.Main_gameSelected,i_(),gs=bs=!1,Ef=!(hs=!(ds=[])),ns=as=os=fs=_s=0,is=!(ss={}),$u(),Ms(),Is()}function Ms(){T_(),ls=!0,cs=0,us=3500}function Is(){var e=os+_s;e&&fs-1<e&&(e=fs-tu,is=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Ur.Main_gameSelected)+"&limit="+tu+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==jr?"&language="+jr:"");Iu&&!os?Jf(t,us,2,null,xs,Ss):Ff(t,us,2,null,xs,Ss,!1)}function Ss(){++cs<rs?(us+=500,Is()):(ls=!1,os?(is=!0,Ps()):(Ef=!1,ju(),a_(P)))}function xs(e){var t=JSON.parse(e),n=t.vods.length;fs=parseInt(t._total),n<tu&&(is=!0);var a=os;ms=!(os+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_a_game_vod");if(!gs){var _;for(gs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p,(zr=document.createElement("td")).setAttribute("id",ys[8]+"y_"+f),zr.className="stream_cell",zr.innerHTML='<div id="'+ys[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ys[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(zr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nu+f,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ss[c]?o--:(ss[c]=1,d.appendChild(yS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),FS.parse(l.title)+ra+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],ys)));for(;o<nu;o++)is&&!hs&&(hs=!0,os=s*nu+o),d.appendChild(R_(ys[9]+s+"_"+o)),ds.push(ys[9]+s+"_"+o);u.appendChild(d)}Ps()}function Ps(){if(bs?L_(xa):(ms?a_(L+(ws?G:O)+T+M):(bs=!0,L_(xa),Os(),w_()),Vu(ys[10]),Ef=!1,ju()),0<ds.length&&!is)return Ms(),void Ls();Os(!0),ls=!(ds=[])}function Ls(){n_(ds.length);var e=os+_s;e&&fs-1<e&&(e=fs-ru,is=!0),Vf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Ur.Main_gameSelected)+"&limit="+ru+"&broadcast_type="+(ws?"highlight":"archive")+"&sort=views&offset="+e+"&period="+ps+(""!==jr?"&language="+jr:""),us,2,null,Bs,Ts)}function Ts(){++cs<rs?(us+=500,Ls()):(is=!0,ds=[],Ps())}function Bs(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(fs=parseInt(a._total);o<ds.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ss[n]?o--:(ss[n]=1,wS(ds[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),FS.parse(t.title)+ra+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],ys),d.push(o));for(o=d.length-1;-1<o;o--)ds.splice(d[o],1);_s+=s,is&&(os-=ds.length,ds=[]),Ps()}function Os(e){ns<0?Us():(Z_(ns,as,ys,nu,os,e),LS(ys,ns+"_"+as),os/nu<ns+au&&!is&&!ls&&(Ms(),Is()),Vr&&Gs())}function Gs(){window.clearInterval(HI),-1<ns&&os?(Vu(ys[1]+ns+"_"+as),df(ns+"_"+as,ys)):Rs()}function Us(){var e=1<as?1:as;Ju(ys[0]+"y_"+e,yu)}function Rs(){var e=1<as?1:as;Fu(ys[0]+"y_"+e,yu)}function Ns(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(Gs(),If(Ns));break;case Oa:if(-1===ns)Rs(),--as<0&&(as=1),Us();else if(ns||as){if(h_(ns,as-1,ys[0]))Gs(),as--,Os();else for(t=nu-1;-1<t;t--)if(h_(ns-1,t,ys[0])){Gs(),ns--,as=t,Os();break}}else Gs(),Rs(),ns=-1,as=1,Us();break;case Ua:-1===ns?(Rs(),1<++as?(as=0,ms?Us():(ns=0,Os())):Us()):h_(ns,as+1,ys[0])?(Gs(),as++,Os()):h_(ns+1,0,ys[0])&&(Gs(),ns++,as=0,Os());break;case Ga:if(-1!==ns||ms)if(ns){for(t=0;t<nu;t++)if(h_(ns-1,as-t,ys[0])){Gs(),ns--,as-=t,Os();break}}else Gs(),ns=-1,Us();else ns=0,Rs(),Os();break;case Ra:if(-1!==ns||ms){for(t=0;t<nu;t++)if(h_(ns+1,as-t,ys[0])){Gs(),ns++,as-=t,Os();break}}else ns=0,Rs(),Os();break;case Ta:case La:case Ba:case Na:-1===ns?(0===as?Bf("AGameVod_highlight",(ws=!ws)?"true":"false"):4<++vs&&(vs=1),Es()):af(ns+"_"+as,ys,Ns)}}function Vs(){1===vs?(Hu("top_bar_game",b+M_((ws?G:O)+de+": "+Ur.Main_gameSelected)),ps="day"):2===vs?(Hu("top_bar_game",b+M_((ws?G:O)+le+": "+Ur.Main_gameSelected)),ps="week"):3===vs?(Hu("top_bar_game",b+M_((ws?G:O)+ce+": "+Ur.Main_gameSelected)),ps="month"):4===vs&&(Hu("top_bar_game",b+M_((ws?G:O)+re+": "+Ur.Main_gameSelected)),ps="all"),Bf("AGameVod_periodNumber",vs)}var Ds,Js=0,Fs=0,Hs=!1,qs=0,zs=0,Xs=5,js=3500,Ys=0,Ws=!1,Qs=!1,Zs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ks=!1,$s="",ed=null,td="",nd="",ad="",id="",od="",sd={},dd=!1,ld=null,cd="";function rd(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=Ar,dd&&!Ur.Search_isSearching&&Ur.Main_selectedChannel_id&&Od(),$s!==Ur.Main_selectedChannel&&(Ks=!1),E_(),Ur.Main_selectedChannelDisplayname=Ur.Main_selectedChannelDisplayname.replace(Y,""),qu("top_bar_user",Ur.Main_selectedChannelDisplayname),qu("top_bar_game",Ut),document.body.addEventListener("keydown",Gd,!1),Qa=!1,Ks?(O_(Js),Vu(Zs[10]),xd(),Pd(),w_()):_d()}function ud(){C_(),document.body.removeEventListener("keydown",Gd),Nu(Zs[10])}function _d(){P_("stream_table_channel_content"),Nu(Zs[10]),ld=null,Xu(),i_(),$s=Ur.Main_selectedChannel,id="",Hs=Ws=Ks=!1,Ds=void(Js=Fs=qs=Ys=0),fd(),md()}function fd(){Ef=!0,zs=0,js=3500}function md(){Vf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ds?Ds:Ur.Main_selectedChannel_id),js,2,null,hd,pd)}function hd(e){null!==JSON.parse(e).stream?(ed=e,fd(),bd()):Ds?(ed=null,fd(),bd()):(fd(),vd())}function pd(){++zs<Xs?(js+=500,md()):(ed=null,fd(),bd())}function vd(){Vf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ur.Main_selectedChannel_id),js,1,null,yd,gd,!0)}function gd(){++zs<Xs?(js+=500,vd()):(ed=null,fd(),bd())}function yd(e){var t=JSON.parse(e);void 0!==(Ds=t.hosts[0].target_id)?(fd(),md()):(ed=null,fd(),bd())}function bd(){Vf("https://api.twitch.tv/kraken/channels/"+Ur.Main_selectedChannel_id,Dg,2,null,wd,kd)}function wd(e){var t=JSON.parse(e);ld=(ld=t.video_banner)?ld.replace("1920x1080",vu):ld,cd=t.profile_banner,td=t.views,nd=t.followers,ad=t.description,Ur.Main_selectedChannelLogo=t.logo,Ad()}function kd(){++zs<Xs?(js+=500,bd()):(ld=null,cd=Pa,ad=nd=td="",Ur.Main_selectedChannelLogo=Sa,Ad())}function Ad(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((zr=document.createElement("tr")).className="follower_banner",zr.innerHTML='<div id="'+Zs[0]+'x_0" class="follower_banner"><img id="'+Zs[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(zr),null!==ed){var a=JSON.parse(ed);if(null!==a.stream){var i=void 0!==Ds?Ur.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(Cd("0_"+t,o.channel.name,o.preview.template,FS.parse(o.channel.status),o.game,m_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+iv(o.created_at)+" "+h+__(o.viewers)+J,f_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Ws=!0}else Ws=!0;e.appendChild(Ed("0_"+t,Ur.Main_selectedChannelDisplayname,Ur.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(Ed("0_"+t,Ur.Main_selectedChannelDisplayname,Ur.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(R_(Zs[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Md("1_0",Ur.Main_selectedChannelDisplayname,Ur.Main_selectedChannelDisplayname,Ur.Main_selectedChannelLogo)),(zr=document.createElement("td")).setAttribute("id",Zs[8]+"x_x"),zr.className="stream_cell",zr.innerHTML='<div id="'+Zs[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Zs[4]+'x_x" class="stream_channel_info">'+FS.parse(ad)+"</div></div>",e.appendChild(zr),n.appendChild(e),Sd()}function Cd(e,t,n,a,i,o,s,d){return id=n.replace("{width}x{height}",vu),(zr=document.createElement("td")).setAttribute("id",Zs[8]+e),zr.setAttribute(bu,t),zr.className="stream_cell",zr.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Zs[1]+e+'" class="stream_img"></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ds?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Ca+o+'</div><div id="'+Zs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Zs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Zs[6]+e+'"class="stream_info">'+s+"</div></div>",zr}function Ed(e,t,n,a){return(zr=document.createElement("td")).setAttribute("id",Zs[8]+e),zr.setAttribute(bu,t),zr.className="stream_cell",zr.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Zs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Zs[2]+e+'" class="stream_text"><div id="'+Zs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",zr}function Md(e,t,n,a){return od=a,(zr=document.createElement("td")).setAttribute("id",Zs[8]+e),zr.setAttribute(bu,t),zr.className="stream_cell",zr.innerHTML='<div id="'+Zs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Zs[1]+e+'" class="stream_img_fallow"></div><div id="'+Zs[2]+e+'" class="stream_text_channel"><div id="'+Zs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Zs[5]+e+'"class="stream_info">'+__(td)+D+'</div><div id="'+Zs[6]+e+'"class="stream_info" >'+__(nd)+Vt+"</div></div>",zr}function Id(){Ya?(Hu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),qu(Zs[3]+"1_0",Ur.Main_selectedChannelDisplayname+Mt)):(Hu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),co()?qu(Zs[3]+"1_0",Ur.Main_selectedChannelDisplayname+It):qu(Zs[3]+"1_0",Ur.Main_selectedChannelDisplayname+Dt))}function Sd(){Ks||(Ks=!0,""!==id&&Pu(document.getElementById(Zs[1]+"0_0"),id,xa),Pu(document.getElementById(Zs[1]+"x_0"),cd,Pa),Pu(document.getElementById(Zs[1]+"1_0"),od,Sa),Pd(),w_(),Vu(Zs[10]),ju()),xd(),Ef=!1}function xd(){Qs?Id():co()?(Za=Ur.Main_selectedChannel_id,Qa=!1,mi()):(Ya=!1,Id())}function Pd(){Ju(Zs[0]+Js+"_"+(Js?0:Fs),yu),Vr&&Ld(),X_()}function Ld(){df(Js+"_"+(Js?0:Fs),Zs)}function Td(){if(Js)co()&&Xi[Ur.Users_Position].access_token?(Qa=!1,Za=Ur.Main_selectedChannel_id,Ya?ki():yi()):(a_(Bt),window.setTimeout(i_,2e3));else{document.body.removeEventListener("keydown",Gd),Nu(Zs[10]);var e=Ws?1:0;Fs===0-e?(Ur.Play_selectedChannel=document.getElementById(Zs[8]+Js+"_"+Fs).getAttribute(bu),Ur.Play_selectedChannelDisplayname=document.getElementById(Zs[3]+Js+"_"+Fs).textContent,-1!==Ur.Play_selectedChannelDisplayname.indexOf(ne)?(Ur.Play_isHost=!0,Ur.Play_DisplaynameHost=Ur.Play_selectedChannelDisplayname,Ur.Play_selectedChannelDisplayname=Ur.Play_selectedChannelDisplayname.split(ne)[1],Ur.Play_selectedChannel_id=Ds):Ur.Play_selectedChannel_id=Ur.Main_selectedChannel_id,Ur.Play_gameSelected=document.getElementById(Zs[5]+Js+"_"+Fs).textContent.split(v)[1],rf(tf)):Fs===1-e?rf(dl):Fs===2-e&&(ub=Nb,rf(pb))}}function Bd(){sd={"Main_values.Main_selectedChannel_id":Ur.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Ur.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Ur.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Ur.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Qs,"Main_values.Main_BeforeChannel":Ur.Main_BeforeChannel}}function Od(){Ur.Main_selectedChannel_id=Ur.Main_selectedChannel_id,Ur.Main_selectedChannelLogo=Ur.Main_selectedChannelLogo,Ur.Main_selectedChannel=Ur.Main_selectedChannel,Ur.Main_selectedChannelDisplayname=Ur.Main_selectedChannelDisplayname,Qs=sd.ChannelContent_UserChannels,Ur.Main_BeforeChannel=Ur.Main_BeforeChannel,dd=!(sd={})}function Gd(e){if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(Ld(),If(Gd));break;case Oa:Js||(Ld(),--Fs<0&&(Fs=Ws?1:2),Pd());break;case Ua:Js||(Ld(),(Ws?1:2)<++Fs&&(Fs=0),Pd());break;case Ga:case Ra:Ld(),Js=Js?0:1,Pd();break;case Ta:case La:case Ba:case Na:Td()}}var Ud=0,Rd=0,Nd=!1,Vd=0,Dd={},Jd=[],Fd=!1,Hd=0,qd=5,zd=3500,Xd=0,jd=0,Yd=0,Wd=!1,Qd=!1,Zd="",Kd=!1,$d=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],el=!1,tl=!1,nl="",al="",il="",ol="",sl=0;function dl(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=Cr,!Ur.Search_isSearching&&Ur.Main_selectedChannel_id&&Od(),Ur.Main_selectedChannel!==nl&&(el=!1),E_(),Ru("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user",Ur.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",kl,!1),el?(O_(Ud),qu("top_bar_game",tl?G:O),Vu($d[10]),gl(),w_()):cl()}function ll(){el&&yl(),C_(),document.body.removeEventListener("keydown",kl),Nu($d[10]),i_()}function cl(){el&&yl(),P_("stream_table_channel_vod"),Nu($d[10]),qu("top_bar_game",tl?G:O),Xu(),i_(),nl=Ur.Main_selectedChannel,Kd=el=!1,Ef=!(Qd=!(Jd=[])),Ud=Rd=Vd=jd=Xd=0,Nd=!(Dd={}),$u(),rl(),ul()}function rl(){T_(),Fd=!0,Hd=0,zd=3500}function ul(){var e=Vd+Xd;e&&jd-1<e&&(e=jd-tu,Nd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ur.Main_selectedChannel_id)+"/videos?limit="+tu+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e;Iu&&!Vd?Jf(t,zd,2,null,fl,_l):Ff(t,zd,2,null,fl,_l,!1)}function _l(){++Hd<qd?(zd+=500,ul()):(Fd=!1,Vd?(Nd=!0,ml()):(Ef=!1,ju(),a_(P),If(kl)))}function fl(e){var t=JSON.parse(e),n=t.videos.length;jd=parseInt(t._total),n<tu&&(Nd=!0);var a=Vd;Wd=!(Vd+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Kd){Kd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p;(zr=document.createElement("td")).setAttribute("id",$d[8]+"y_0"),zr.className="stream_cell",zr.innerHTML='<div id="'+$d[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+$d[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(zr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/nu+h,d=document.createElement("tr"),o=0;o<nu&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==ld?ld:xa),r||Dd[c]?o--:(Dd[c]=1,d.appendChild(yS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),FS.parse(l.title)+ra+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],$d)));for(;o<nu;o++)Nd&&!Qd&&(Qd=!0,Vd=s*nu+o),d.appendChild(R_($d[9]+s+"_"+o)),Jd.push($d[9]+s+"_"+o);f.appendChild(d)}ml()}function ml(){if(el?(gl(!0),L_(null!==ld?ld:xa)):(Wd?(If(kl),a_(L+(tl?G:O)+T+M)):(el=!0,L_(null!==ld?ld:xa),gl(),w_()),Vu($d[10]),Ef=!1,ju()),0<Jd.length&&!Nd)return rl(),void hl();Fd=!(Jd=[])}function hl(){n_(Jd.length);var e=Vd+Xd;e&&jd-1<e&&(e=jd-ru,Nd=!0),Vf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ur.Main_selectedChannel_id)+"/videos?limit="+ru+"&broadcast_type="+(tl?"highlight":"archive")+"&sort=time&offset="+e,zd,2,null,vl,pl)}function pl(){++Hd<qd?(zd+=500,hl()):(Nd=!0,Vd-=Jd.length,Jd=[],ml())}function vl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(jd=parseInt(a._total);o<Jd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Dd[n]?o--:(Dd[n]=1,wS(Jd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),FS.parse(t.title)+ra+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],$d),d.push(o));for(o=d.length-1;-1<o;o--)Jd.splice(d[o],1);Xd+=s,Nd&&(Vd-=Jd.length,Jd=[]),ml()}function gl(e){Ud<0?bl():(Z_(Ud,Rd,$d,nu,Vd,e),LS($d,Ud+"_"+Rd),Vd/nu<Ud+au&&!Nd&&!Fd&&(rl(),ul()),Vr&&yl())}function yl(){window.clearInterval(HI),-1<Ud&&Vd?(Vu($d[1]+Ud+"_"+Rd),df(Ud+"_"+Rd,$d)):wl()}function bl(){Ju($d[0]+"y_0",yu)}function wl(){Fu($d[0]+"y_0",yu)}function kl(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(yl(),If(kl));break;case Oa:if(h_(Ud,Rd-1,$d[0]))yl(),Rd--,gl();else for(t=nu-1;-1<t;t--)if(h_(Ud-1,t,$d[0])){yl(),Ud--,Rd=t,gl();break}break;case Ua:h_(Ud,Rd+1,$d[0])?(yl(),Rd++,gl()):h_(Ud+1,0,$d[0])&&(yl(),Ud++,Rd=0,gl());break;case Ga:if(-1!==Ud||Wd)if(Ud){for(t=0;t<nu;t++)if(h_(Ud-1,Rd-t,$d[0])){yl(),Ud--,Rd-=t,gl();break}}else yl(),Ud=-1,bl();else Ud=0,wl(),gl();break;case Ra:if(-1!==Ud||Wd){for(t=0;t<nu;t++)if(h_(Ud+1,Rd-t,$d[0])){yl(),Ud++,Rd-=t,gl();break}}else Ud=0,wl(),gl();break;case Ta:case La:case Ba:case Na:-1===Ud?(Bf("ChannelVod_highlight",(tl=!tl)?"true":"false"),cl()):af(Ud+"_"+Rd,$d,kl)}}var Al,Cl,El,Ml,Il=0,Sl=10,xl=!1,Pl=0,Ll=null,Tl=!1,Bl=0,Ol={},Gl={};function Ul(){tc(),Ur.Play_ChatForceDisable?(dc||kc(),Tl=!1,rf(function(){Rl(Pl=(new Date).getTime())})):Kc()}function Rl(e){Il=0,Nl(e)}function Nl(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Ur.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Pl===e&&Dl(n.responseText,e));Pl===e&&Vl(e)}},n.send(null)}function Vl(e){Il++,Pl===e&&(Il<Sl?Nl(e):Cl=window.setTimeout(function(){Nl(e)},1e3))}function Dl(e,t){DS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){JS(t.type,e.type,e.image_url_4x,oc)})}),Ol[Ur.Play_selectedChannel_id]?Pl===t&&Xl():Jl(t)}function Jl(e){Il=0,Fl(e)}function Fl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Ur.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Pl===e&&ql(n.responseText,e):404===n.status?(Ol[Ur.Play_selectedChannel_id]=1,Pl===e&&Xl()):Pl===e&&Hl(e))},n.send(null)}function Hl(e){Il++,Pl===e&&(Il<Sl?Fl(e):Pl===e&&Xl())}function ql(e,t){zl(JSON.parse(e)),Ol[Ur.Play_selectedChannel_id]=1,Pl===t&&Xl()}function zl(t){t.emotes.forEach(function(e){Gl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Xl(){Wl(),jl()}function jl(){(Ll=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Ll.send("PASS blah\r\n"),Ll.send("NICK justinfan12345\r\n"),Ll.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Ll.send("JOIN #"+Ur.Play_selectedChannel+"\r\n")},Ll.onclose=function(){xl=!0},Ll.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Ll.send("PONG "+t.params[0]);break;case"JOIN":Tl=!0,Kl('&nbsp;<span class="message">'+ra+bn+Ur.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":Ql(t)}},El=window.setTimeout(Yl,5e3)}function Yl(){Tl?Ml=window.setInterval($l,1e3):(Ll.close(1e3),Xl())}function Wl(){window.clearTimeout(El)}function Ql(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+hc[a.charCodeAt(0)%pc]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Kl(t+='<span class="message">'+Zl(VS(i,o))+"</span>")}function Zl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=NS(e[t]):e[t]=e[t][0];return FS.parse(e.join(" "),!0,!0)}function Kl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,oc.appendChild(t),$l(),100<++Bl&&(Bl=0,er())}function $l(){oc.scrollTop=oc.scrollHeight}function ec(){Wl(),window.clearTimeout(Cl),window.clearTimeout(Al),window.clearInterval(Ml)}function tc(){ec(),Ll&&Ll.close(1e3),Pl=0,P_("chat_box"),Tl=xl=!1}var nc,ac,ic,oc,sc,dc=!1,lc=0,cc=[],rc=[],uc=10,_c=null,fc=0,mc="",hc=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],pc=hc.length,vc=0,gc=!1,yc=0;function bc(){oc=document.getElementById("chat_box"),kc()}function wc(){Xc(),Iu&&Ur.Play_ChatForceDisable?(dc||kc(),rf(function(){Pc(yc=(new Date).getTime())})):Kc()}function kc(){lc=0,dc=!(Gl={}),Ac()}function Ac(){Ff("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Ec,Cc,!1)}function Cc(){++lc<uc?Ac():dc=!1}function Ec(e){DS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){JS(t.type,e.type,e.image_url_4x,null)})}),Mc()}function Mc(){lc=0,Ic()}function Ic(){Ff("https://api.betterttv.net/2/emotes",1e4,0,null,xc,Sc,!1)}function Sc(){++lc<uc?Ic():dc=!1}function xc(e){zl(JSON.parse(e)),dc=!0}function Pc(e){lc=0,Lc(e)}function Lc(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Ur.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(yc===e&&Bc(n.responseText,e));yc===e&&Tc(e)}},n.send(null)}function Tc(e){lc++,yc===e&&(lc<uc?Lc(e):sc=window.setTimeout(function(){Lc(e)},1e3))}function Bc(e,t){DS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){JS(t.type,e.type,e.image_url_4x,oc)})}),yc===t&&Nc(t),Ol[Ur.Main_selectedChannel_id]?yc===t&&Nc(t):Oc(t)}function Oc(e){lc=0,Gc(e)}function Gc(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Ur.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?yc===e&&Rc(n.responseText,e):404===n.status?(Ol[Ur.Main_selectedChannel_id]=1,yc===e&&Nc()):yc===e&&Uc(e))},n.send(null)}function Uc(e){lc++,yc===e&&(lc<uc?Gc(e):yc===e&&Nc())}function Rc(e,t){zl(JSON.parse(e)),Ol[Ur.Main_selectedChannel_id]=1,yc===t&&Nc()}function Nc(e){lc=0,yc===e&&Vc(e)}function Vc(e){var t="https://api.twitch.tv/v5/videos/"+Ur.ChannelVod_vodId+"/comments?client_id="+uu+(fc?"&content_offset_seconds="+parseInt(fc):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(yc===e&&Jc(n.responseText,e));yc===e&&Dc(e)}},n.send(null)}function Dc(e){lc++,yc===e&&(lc<uc?Vc(e):ac=window.setTimeout(function(){Vc(e)},2500))}function Jc(e,t){e=JSON.parse(e);var n,a,i=null===_c;i&&(n="&nbsp;",n+='<span class="message">',n+=ra+bn+Ur.Main_selectedChannelDisplayname+" "+mc,Fc(n+="</span>",0)),fc=0,_c=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+hc[e.commenter.display_name.charCodeAt(0)%pc]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Zl([e.text])}),n+="</span>",i?Fc(n,e.content_offset_seconds):void 0!==_c&&Hc(n,e.content_offset_seconds)}),i&&yc===t&&(qc(t),void 0!==_c&&Yc(t))}function Fc(e,t){cc.push({time:t,message:e})}function Hc(e,t){rc.push({time:t,message:e})}function qc(e){gc||yc!==e||(nc=window.setInterval(function(){jc(e),oc.scrollTop=oc.scrollHeight},1e3))}function zc(){gc||(window.clearTimeout(sc),window.clearTimeout(ac),window.clearTimeout(ic),window.clearInterval(nc))}function Xc(){zc(),yc=0,P_("chat_box"),gc=!1,_c=null,cc=[],rc=[],vc=0}function jc(e){var t;if(vc<cc.length-1)for(var n=vc;n<cc.length&&cc[n].time<sl+Android.gettime()/1e3;n++,vc++)(t=document.createElement("div")).className="chat_line",t.innerHTML=cc[n].message,oc.appendChild(t);else if(zc(),void 0!==_c)cc=rc.slice(),vc=0,qc(e),rc=[],yc===e&&Yc(e),er();else{var a="&nbsp;";a+='<span class="message">',a+=ra+ra+Cn+ra+ra,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,oc.appendChild(t),gc=!0,oc.scrollTop=oc.scrollHeight,window.clearInterval(nc),nc=window.setInterval(function(){oc.scrollTop=oc.scrollHeight},1e3)}}function Yc(e){lc=0,gc||yc!==e||Wc(e)}function Wc(e){var t="https://api.twitch.tv/v5/videos/"+Ur.ChannelVod_vodId+"/comments?client_id="+uu+(null!==_c?"&cursor="+_c:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(gc||yc!==e||Jc(n.responseText,e));gc||yc!==e||Qc(e)}},n.send(null)}function Qc(e){lc++,yc===e&&(lc<uc?Wc(e):ic=window.setTimeout(function(){Wc(e)},2500))}function Zc(){Xc(),$c(ln+ra+cn)}function Kc(){Xc(),$c($n)}function $c(e){var t="&nbsp;";t+='<span class="message">',t+=ra+ra+ra+ra+ra+ra+ra+ra+ra+ra,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,oc.appendChild(n)}function er(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);$l()}var tr,nr,ar,ir,or,sr,dr,lr=!0,cr=!1,rr=!1,ur=-1,_r=new Image,fr=1,mr=2,hr=3,pr=4,vr=5,gr=6,yr=7,br=8,wr=9,kr=10,Ar=11,Cr=12,Er=13,Mr=14,Ir=15,Sr=16,xr=17,Pr=18,Lr=19,Tr=20,Br=21,Or=22,Gr="",Ur={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:hr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Rr=!0,Nr=!0,Vr=!1,Dr=[],Jr=0,Fr=0,Hr=null,qr=!0,zr="",Xr=!1,jr="",Yr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Wr=[],Qr=0,Zr=!0,Kr=0,$r=1.35,eu=1.5,tu=45,nu=3,au=Math.floor(tu/nu/eu),iu=45,ou=5,su=Math.floor(iu/ou/$r),du=48,lu=6,cu=Math.floor(du/lu/eu),ru=6,uu="5seja5ptej058mxqy7gh5tcudjqtm9",_u="Client-ID",fu="Accept",mu="Authorization",hu="OAuth ",pu="application/vnd.twitchtv.v5+json",vu="528x297",gu="340x475",yu="stream_thumbnail_focused",bu="data_attribute",wu="1.0",ku=".20",Au="051119",Cu=wu+ku+"-"+Au,Eu="",Mu=0,Iu=0,Su="?"+Math.random(),xu="https://cors-anywhere.herokuapp.com/",Pu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Lu(){(rr=Uf("Main_isDebug",!1))&&lr?Tu():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Bu(window.navigator.userLanguage||window.navigator.language)}):Bu(window.navigator.userLanguage||window.navigator.language)}function Tu(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Bu(e){lf(),rf(function(){try{Iu=Android.getAndroid(),Eu=Android.getversion()}catch(e){Eu="1.0.0",Iu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",cr=rr=!0,console.log("Main_isReleased: "+lr),console.log("Main_isDebug: "+rr),console.log("Main_isBrowser: "+cr)}fA(),Ma(),UA(),console.log("language is "+e),Ea(),-1!==window.location.href.indexOf("code")&&Nf(window.location.href),Ou()})}function Ou(){_b(),Gu(!0),tr=document.getElementById("scrollbar"),k_(),Gr=Ur.Main_Go,rf(function(){bc(),kp(),lo(),co()&&(dr=window.setInterval(mf,6e5),mf()),document.body.addEventListener("keyup",X_,!1),fb(),document.getElementById("side_panel").style.marginLeft="",S_(),Uu(),cS=Uf("Vod_highlight",!1),tl=Uf("ChannelVod_highlight",!1),ws=Uf("AGameVod_highlight",!1),kI=Uf("UserVod_highlight",!1),oS=Of("vod_periodNumber",2),vs=Of("AGameVod_periodNumber",2),gI=Of("UserVod_TypeNumber",1),eb(),nr=document.getElementById("search_input"),ar=document.getElementById("user_input"),U_(xa),U_(Ia),U_(Sa),document.addEventListener("visibilitychange",_f,!1),or=window.setInterval(ff,6e4),ub=Fb,pb(),ir=window.setTimeout(v_,5e3),Vu("topbar")})}function Gu(e){ff(),Ru("label_refresh","icon-refresh",t+jt),Hu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Ca+_t+"</div>"),Ru("label_side_panel","icon-ellipsis",Rn),Ru("icon_feed_refresh","icon-refresh",t+" Press up"),qu("top_bar_live",_),qu("top_bar_user",e?u:a),qu("top_bar_featured",an),qu("top_bar_game",f),qu("top_bar_vod",Kt),qu("top_bar_clip",U),Hu("scene2_search_text",Ca+n),Hu("scene2_channel_text",Ca+Ut),Hu("scene2_game_text",Ca+Jt),qu("dialog_end_next_text",sa),qu("dialog_end_replay_text",en),qu("dialog_end_vod_text",sn),qu("dialog_end_channel_text",Ut),qu("dialog_end_game_text",Jt),Hu("dialog_about_text",ba+wa),Wr=[de,le,ce,re],e?dA():(_A(),S_())}function Uu(){qu("play_dialog_exit_text",F),qu("side_panel_search",n),qu("side_panel_settings",a),qu("side_panel_about",i),qu("side_panel_controls",e),qu("side_panel_exit",q),qu("side_panel_live",_),qu("side_panel_user",u),qu("side_panel_featured",an),qu("side_panel_games",f),qu("side_panel_videos",Kt),qu("side_panel_clips",U),qu("side_panel_hide",o),qu("chanel_button",E),qu("game_button",f),qu("live_button",_),qu("exit_app_cancel",j),qu("exit_app_close",z),qu("remove_cancel",j),qu("remove_yes",Ft),qu("exit_app_minimize",X),qu("main_dialog_exit_text",H),Hu("dialog_controls_text",ya),qu("dialog_vod_text",wn),Hu("dialog_vod_start_text",An)}function Ru(e,t,n){Hu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Ca+n+"</div>")}function Nu(e){document.getElementById(e).classList.add("hide")}function Vu(e){document.getElementById(e).classList.remove("hide")}function Du(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ju(e,t){document.getElementById(e).classList.add(t)}function Fu(e,t){document.getElementById(e).classList.remove(t)}function Hu(e,t){document.getElementById(e).innerHTML=t}function qu(e,t){document.getElementById(e).textContent=t}function zu(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Xu(){O_(-1),Iu?Android.mshowLoading(!0):Vu("dialog_loading")}function ju(){Iu?Android.mshowLoading(!1):Nu("dialog_loading")}function Yu(){window.clearTimeout(Hr)}function Wu(){Hr=window.setTimeout(Zu,6e3)}function Qu(){Wu(),Vu("main_dialog_exit"),document.body.addEventListener("keydown",kf,!1)}function Zu(){document.body.removeEventListener("keydown",kf,!1),If(sr),Yu(),Nu("main_dialog_exit"),Fr=0,Ku()}function Ku(){Fu("exit_app_cancel","button_search_focused"),Fu("exit_app_minimize","button_search_focused"),Fu("exit_app_close","button_search_focused"),Ju(Fr?1===Fr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function $u(){P_("dialog_counter_text"),t_(0,0,0)}function e_(e,t,n,a){0<a?(qu("dialog_counter_text",t*n+(e+1)+"/"+a),t_(t,n,a)):$u()}function t_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Ur.Main_Go===pr||Ur.Main_Go===Lr||Ur.Main_Go===Tr||Ur.Main_Go===Cr||Ur.Main_Go===Or||Ur.Main_Go===xr||Ur.Main_Go===Pr||Ur.Main_Go===Er,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));tr.style.top=o+"px",qr&&(qr=!1,tr.style.backgroundColor="#777777")}else tr.style.backgroundColor="#000000",tr.style.top=a+"px",qr=!0}function n_(e){(ru=12)/3<e&&(ru=3*e),99<ru&&(ru=99)}function a_(e){qu("dialog_warning_text",e),Vu("dialog_warning")}function i_(){Nu("dialog_warning")}function o_(){r_(),Vu("dialog_about")}function s_(){Nu("dialog_about")}function d_(){return Du("dialog_about")}function l_(){r_(),i_(),A_(Ur.Main_Go),$u(),oA()}function c_(){s_(),Vu("dialog_controls")}function r_(){Nu("dialog_controls")}function u_(){return Du("dialog_controls")}function __(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function f_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function m_(e){return-1!==e.indexOf("live")?"":Y}function h_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function p_(){ff(),y_(),document.body.addEventListener("keyup",X_,!1)}function v_(){for(var e,t=0;t<Yr.length;t++)t<2?document.getElementById(Yr[t]).style.opacity="0.5":-1===(e=document.getElementById(Yr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ju("topbar","topbar_dim")}function g_(){for(var e=0;e<Yr.length;e++)document.getElementById(Yr[e]).style.opacity="1";Fu("topbar","topbar_dim")}function y_(e){window.clearTimeout(ir),g_(),rf(function(){b_(e)})}function b_(e){i_(),Ur.Main_Go!==Ar&&(Ur.Main_BeforeChannelisSet=!1),Ur.Main_Go!==pr&&(Ur.Main_BeforeAgameisSet=!1),$u(),Ur.Main_Go===fr?(ub=Fb,pb()):Ur.Main_Go===mr?Qi():Ur.Main_Go===hr?(ub=Db,pb()):Ur.Main_Go===pr?Go():Ur.Main_Go===br?mk():Ur.Main_Go===wr?$w():Ur.Main_Go===kr?Dk():Ur.Main_Go===Ar?rd():Ur.Main_Go===Cr?dl():Ur.Main_Go===Er?(ub=Nb,pb()):Ur.Main_Go===Mr?DM():Ur.Main_Go===vr?fM():Ur.Main_Go===gr?qC():Ur.Main_Go===yr?(ub=Jb,pb()):Ur.Main_Go===Ir?_C():Ur.Main_Go===Sr?Ew():Ur.Main_Go===xr?_S():Ur.Main_Go===Pr?(ub=Rb,pb()):Ur.Main_Go===Lr?As():Ur.Main_Go===Tr?(ub=Vb,pb()):Ur.Main_Go===Br?(ub=Hb,pb()):Ur.Main_Go===Or&&AI(),ir=window.setTimeout(v_,3e3),e&&Lf()}function w_(){Bf("Main_values",JSON.stringify(Ur))}function k_(){Ur=hb(Ur,Gf("Main_values",{}))}function A_(e){e===fr?vb():e===mr?Zi():e===hr?vb():e===pr?Uo():e===br?hk():e===wr?ek():e===kr?Jk():e===Ar?ud():e===Cr?ll():e===Er?vb():e===Mr?JM():e===vr?mM():e===gr?zC():e===yr?vb():e===Ir?fC():e===Sr?Mw():e===xr?fS():e===Pr?vb():e===Lr?Cs():e===Tr?vb():e===Br?vb():e===Or&&CI(),Du("settings_scroll")&&sA()}function C_(){Ru("label_refresh","icon-refresh",t+jt),Ru("label_side_panel","icon-ellipsis",Rn),Fu("top_bar_user","icon_center_focus"),qu("top_bar_live",_),qu("top_bar_user",u),qu("top_bar_featured",an),qu("top_bar_game",f),qu("top_bar_vod",Kt),qu("top_bar_clip",U)}function E_(){Ru("label_side_panel","icon-arrow-circle-left",I),P_("top_bar_live"),P_("top_bar_game"),P_("top_bar_vod"),P_("top_bar_clip"),P_("top_bar_featured"),Ju("top_bar_user","icon_center_focus")}function M_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function I_(e){return e=new Date(e),Xr?e.getDate()+" "+Yt[e.getMonth()]+" "+e.getFullYear():Yt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function S_(){Iu&&(Cu="Android: "+Eu+" Web: "+Au,x_(Eu)&&Vu("label_update")),Hu("dialog_about_text",ba+ye+Cu+wa)}function x_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(wu)||parseInt(e[2])<parseInt(ku.split(".")[1])}function P_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function L_(e){for(var t,n=0;n<Dr.length;n++)null!==(t=document.getElementById(Dr[n].id))&&Pu(t,Dr[n].src+Su,e)}function T_(){Dr=[]}function B_(e,t){Dr.push({id:e,src:t})}function O_(e){ur=e}function G_(e){var t=0;return ur<e?t=-1:e<ur&&(t=1),ur=e,t}function U_(e){_r.src=e}function R_(e){return(zr=document.createElement("td")).setAttribute("id",e),zr.className="stream_cell",zr}function N_(e,t,n){return(zr=document.createElement("td")).setAttribute("id",t[4]+e),zr.setAttribute(bu,n[0]),zr.setAttribute("data-id",n[1]),zr.className="stream_cell",zr.innerHTML=D_(e,t,n),zr}function V_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(bu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=D_(i,n,t),a.setAttribute("id",n[4]+i)}function D_(e,t,n){return B_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function J_(e,t,n,a,i){return e<nu&&U_(i[0]),(zr=document.createElement("td")).setAttribute("id",a[8]+t),zr.setAttribute(bu,JSON.stringify(n)),zr.className="stream_cell",zr.innerHTML=H_(t,a,i),zr}function F_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(bu,JSON.stringify(t)),i.innerHTML=H_(o,a,n),i.setAttribute("id",a[8]+o)}function H_(e,t,n){return B_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+FS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function q_(e,t,n){return(zr=document.createElement("td")).setAttribute("id",t[5]+e),zr.setAttribute(bu,n[0]),zr.className="stream_cell",zr.innerHTML=z_(e,t,n),zr}function z_(e,t,n){return B_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function X_(){Nr=!0}function j_(){Rr=!0}function Y_(){Rr=!1,window.setTimeout(j_)}function W_(){return!Rr||!Nr}function Q_(e,t,n,a,i,o){Ju(n[0]+e+"_"+t,yu),e_(t,e,a,i),G_(e)||o?1<e?h_(e+1,0,n[0])?sf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):X_():sf(n[6],.07*screen.height):X_()}function Z_(e,t,n,a,i,o){Ju(n[0]+e+"_"+t,yu),e_(t,e,a,i),G_(e)||o?e?h_(e+1,0,n[0])&&sf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):sf(n[10],.07*screen.height):X_()}function K_(e,t,n,a,i){Ju(n[0]+e+"_"+t,yu),e_(t,e,a,i),G_(e)?sf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):X_()}function $_(e,t){return null===document.getElementById(t+e)}function ef(e,t,n){$_(e,t[0])||(document.body.removeEventListener("keydown",n),Ur.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(bu)),Ur.Play_selectedChannel_id=Ur.Play_selectedChannel[1],Ur.Play_selectedChannel=Ur.Play_selectedChannel[0],Ur.Main_Go===gr?(Ur.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Ur.Play_selectedChannelDisplayname=Ur.Play_DisplaynameHost.split(ne)[1],Ur.Play_isHost=!0):Ur.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ur.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Ur.Main_Go===pr&&(Ur.Main_OldgameSelected=Ur.Main_gameSelected),tf())}function tf(){document.body.addEventListener("keydown",yg,!1),Nu("scene1"),Vu("scene2"),Ev(),Lv(),Yv(),co()&&!oE&&hE&&qE(),rf(Ep)}function nf(e,t,n){$_(e,t[0])||(document.body.removeEventListener("keydown",n),Yb=JSON.parse(document.getElementById(t[8]+e).getAttribute(bu)),pm=parseInt(Yb[1]),Ur.Play_gameSelected=Yb[2],Ur.Main_selectedChannel=Yb[3],Ur.Main_selectedChannelDisplayname=Yb[4],Ur.Main_selectedChannelLogo=Yb[5],Ur.Main_selectedChannel_id=Yb[6],Ur.ChannelVod_vodId=Yb[7],sl=parseInt(Yb[8]),jb=Yb[9],Qb=Yb[10],zb=Yb[11],Yb=Yb[0],Wb=document.getElementById(t[4]+e).textContent,Xb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Km,!1),Nu("scene1"),Vu("scene2"),Lv(),wv(),mv(),vv(),co()&&!oE&&hE&&qE(),rf(km))}function af(e,t,n){$_(e,t[0])||(document.body.removeEventListener("keydown",n),Ur.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(bu)),Yd=parseInt(Ur.ChannelVod_vodId[1]),Zd=Ur.ChannelVod_vodId[2],Ur.Play_gameSelected=Ur.ChannelVod_vodId[3],Ur.Main_selectedChannel=Ur.ChannelVod_vodId[4],mp=Ur.ChannelVod_vodId[5],Ur.ChannelVod_vodId=Ur.ChannelVod_vodId[0].substr(1),Ur.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,il=document.getElementById(t[4]+e).textContent,ol=document.getElementById(t[5]+e).textContent,al=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,of())}function of(){document.body.addEventListener("keydown",rb,!1),Nu("scene1"),Vu("scene2"),Ny(),Lv(),wv(),vv(),ay=!1,co()&&!oE&&hE&&qE(),rf(ry)}function sf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(X_,10)}function df(e,t){Nr=!1,Fu(t[0]+e,yu)}function lf(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(rr&&console.log("Main_Checktylesheet reloading"),cf("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):rr&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function cf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function rf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function uf(){var e=(new Date).getTime()+Mu;return e=new Date(e),(Xr?Wt[e.getDay()]+" "+e.getDate()+" "+Yt[e.getMonth()]:Wt[e.getDay()]+" "+Yt[e.getMonth()]+" "+e.getDate())+" "+tv(e.getHours())+":"+tv(e.getMinutes())}function _f(){document.hidden||(ff(),window.setTimeout(ff,2e4))}function ff(){document.hidden||(qu("label_clock",uf()),Su="?"+Math.random())}function mf(){document.hidden||co()&&window.setTimeout(function(){OE()||oE||(hh=Xi[Ur.Users_Position].name,bE())},5e3)}function hf(){Ju("side_panel_"+Kr,"side_panel_text_focus")}function pf(){Fu("side_panel_"+Kr,"side_panel_text_focus")}function vf(){Kr?1===Kr?l_():2===Kr?(document.body.addEventListener("keydown",sr,!1),o_()):3===Kr?(document.body.addEventListener("keydown",sr,!1),c_()):4===Kr?Qu(sr):5===Kr?gf(fr):6===Kr?gf(ho()?Mr:mr):7===Kr?gf(Br):8===Kr?gf(hr):9===Kr?gf(xr):10===Kr&&gf(Pr):Ur.Main_Go!==br?(Ur.Search_isSearching||Ur.Main_Go!==Ar&&Ur.Main_Go!==Er&&Ur.Main_Go!==Cr||Bd(),Ur.Main_BeforeSearch=Ur.Main_Go,Ur.Main_Go=br,A_(Ur.Main_BeforeSearch),y_()):document.body.addEventListener("keydown",sr,!1),bf()}function gf(e){e===Ur.Main_Go?document.body.addEventListener("keydown",sr,!1):(Ur.Main_Before=Ur.Main_Go,Ur.Main_Go=e,A_(Ur.Main_Before),y_())}function yf(e){sr=e,document.body.removeEventListener("keydown",sr),document.body.addEventListener("keydown",wf,!1),Fu("side_panel","side_panel_hide")}function bf(){document.body.removeEventListener("keydown",wf),Ju("side_panel","side_panel_hide"),pf(),Kr=0,hf()}function wf(e){switch(e.keyCode){case Va:case Oa:document.body.addEventListener("keydown",sr,!1),bf(),xf();break;case Ga:Kr&&(pf(),Kr--,hf());break;case Ra:Kr<10&&(pf(),Kr++,hf());break;case Na:vf()}}function kf(e){switch(e.keyCode){case Va:Zu();break;case Ua:2<++Fr&&(Fr=0),Ku(),Yu(),Wu();break;case Oa:--Fr<0&&(Fr=2),Ku(),Yu(),Wu();break;case Na:Fr?Iu&&1===Fr?Android.mclose(!1):Iu&&2===Fr&&Android.mclose(!0):Zu()}}Lu();var Af=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Cf=[fr,Mr,Br,hr,xr,Pr],Ef=!1;function Mf(e){if(!(Ef||ub.FirstLoad||W_()))switch(e.keyCode){case Va:u_()?(xf(),r_()):d_()?(xf(),s_()):Ur.Main_Go===pr?(Ur.Main_OldgameSelected=Ur.Main_gameSelected,Ur.Games_return?(Ur.Main_Go=wr,Ur.Main_gameSelected=Ur.gameSelectedOld):(Ur.Main_Go=Ur.Main_BeforeAgame,Ur.Main_BeforeAgame=fr),Uo(),Sf(),b_()):Ur.Main_Go===Tr?(Bb(pr),Sf(),b_()):Ur.Main_Go===yr?(Bb(Mr),Sf(),b_()):Ur.Main_Go===Er?(Bb(Ar),Sf(),b_()):Ur.Main_Go===Lr?(Ur.Main_Go=pr,Cs(),Sf(),b_()):Ur.Main_Go===vr?(Ur.Main_Go=Mr,mM(),Sf(),b_()):Ur.Main_Go===gr?(Ur.Main_Go=Mr,zC(),Sf(),b_()):Ur.Main_Go===Or?(Ur.Main_Go=Mr,CI(),Sf(),b_()):Ur.Main_Go===Ir?(Ur.Main_Go=Mr,fC(),Sf(),b_()):Ur.Main_Go===Ar?(Ur.Main_Go=Ur.Main_BeforeChannel,Ur.Main_BeforeChannel=fr,ud(),Ur.Main_selectedChannel_id="",Sf(),b_()):Ur.Main_Go===Cr?(Ur.Main_Go=Ar,ll(),Sf(),b_()):Ur.Main_Go===kr?(Ur.Main_Go===Ur.Main_BeforeSearch?Ur.Main_Go=fr:Ur.Main_Go=Ur.Main_BeforeSearch,Jk(),Ur.Search_isSearching=!1,Sf(),b_()):Ur.Main_Go===wr?(Ur.Main_Go===Ur.Main_BeforeSearch?Ur.Main_Go=fr:Ur.Main_Go=Ur.Main_BeforeSearch,Ur.Search_isSearching=!1,ek(),Sf(),b_()):Ur.Main_Go===Sr?(Ur.Main_Go===Ur.Main_BeforeSearch?Ur.Main_Go=fr:Ur.Main_Go=Ur.Main_BeforeSearch,Ur.Main_selectedChannel_id&&Od(),Mw(),Ur.Search_isSearching=!1,Sf(),b_()):(Sf(),yf(Mf));break;case Ua:if(Ur.Search_isSearching||Ur.Main_Go===Ar||Ur.Main_Go===Cr||Ur.Main_Go===Er||Ur.Main_Go===kr||Ur.Main_Go===wr||Ur.Main_Go===Sr)break;Fu(Af[Ur.Main_CenterLablesVectorPos],"icon_center_line"),Ur.Main_CenterLablesVectorPos++,5<Ur.Main_CenterLablesVectorPos&&(Ur.Main_CenterLablesVectorPos=0),xf(),Pf();break;case Oa:if(Ur.Search_isSearching||Ur.Main_Go===Ar||Ur.Main_Go===Cr||Ur.Main_Go===Er||Ur.Main_Go===kr||Ur.Main_Go===wr||Ur.Main_Go===Sr)break;Fu(Af[Ur.Main_CenterLablesVectorPos],"icon_center_line"),Ur.Main_CenterLablesVectorPos--,Ur.Main_CenterLablesVectorPos<0&&(Ur.Main_CenterLablesVectorPos=5),xf(),Pf();break;case Ra:Fu(Af[Ur.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Mf),Vr=!1,b_();break;case Na:Tf()}}function If(e){window.clearTimeout(ir),g_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Mf),document.body.addEventListener("keydown",Mf,!1),xf()}function Sf(){Fu(Af[Ur.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Mf),Vr=!1}function xf(){Vr=!0,Ju(Af[Ur.Main_CenterLablesVectorPos],"icon_center_line")}function Pf(){A_(Ur.Main_Go),Ur.Main_Go=Cf[Ur.Main_CenterLablesVectorPos],Ur.Main_Go!==Mr||ho()?y_(!0):(Ur.Main_Go=mr,Sf(),y_())}function Lf(){Ur.Main_Go===fr?(ub=Fb,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===Mr?document.body.removeEventListener("keydown",nI):Ur.Main_Go===pr?document.body.removeEventListener("keydown",ts):Ur.Main_Go===Br?(ub=Hb,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===kr?document.body.removeEventListener("keydown",$k):Ur.Main_Go===wr?document.body.removeEventListener("keydown",rk):Ur.Main_Go===Sr?document.body.removeEventListener("keydown",Vw):Ur.Main_Go===Cr?document.body.removeEventListener("keydown",kl):Ur.Main_Go===Ar?document.body.removeEventListener("keydown",Gd):Ur.Main_Go===gr?document.body.removeEventListener("keydown",aE):Ur.Main_Go===Or?document.body.removeEventListener("keydown",JI):Ur.Main_Go===Ir?document.body.removeEventListener("keydown",MC):Ur.Main_Go===hr?(ub=Db,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===Er?(ub=Nb,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===xr?document.body.removeEventListener("keydown",TS):Ur.Main_Go===Pr?(ub=Rb,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===Tr?(ub=Vb,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===yr?(ub=Jb,document.body.removeEventListener("keydown",Ub)):Ur.Main_Go===Lr?document.body.removeEventListener("keydown",Ns):Ur.Main_Go===vr&&document.body.removeEventListener("keydown",LM)}function Tf(){window.clearTimeout(ir),g_(),Ur.Main_Go!==Ar&&(Ur.Main_BeforeChannelisSet=!1),Ur.Main_Go!==pr&&(Ur.Main_BeforeAgameisSet=!1),$u(),Ur.Main_Go===fr?(ub=Fb,gb()):Ur.Main_Go===Mr?FM():Ur.Main_Go===Br?(ub=Hb,gb()):Ur.Main_Go===pr?Ro():Ur.Main_Go===Ir?mC():Ur.Main_Go===Ar?_d():Ur.Main_Go===Cr?cl():Ur.Main_Go===kr?Fk():Ur.Main_Go===wr?tk():Ur.Main_Go===Sr?Iw():Ur.Main_Go===hr?(ub=Db,gb()):Ur.Main_Go===yr?(ub=Jb).loadingData||ub.key_refresh():Ur.Main_Go===xr?mS():Ur.Main_Go===Pr?(ub=Rb,gb()):Ur.Main_Go===Tr?(ub=Vb,gb()):Ur.Main_Go===Er?(ub=Nb,gb()):Ur.Main_Go===Lr?Es():Ur.Main_Go===vr?hM():Ur.Main_Go===gr?XC():Ur.Main_Go===Or&&EI(),ir=window.setTimeout(v_,3e3)}function Bf(e,t){localStorage.setItem(e,t)}function Of(e,t){return parseInt(localStorage.getItem(e))||t}function Gf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Uf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Rf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Nf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Jr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Vf(e,t,n,a,i,o,s){Iu?Jf(e,t,n,a,i,o):Ff(e,t,n,a,i,o,s)}function Df(e,t,n,a,i,o,s,d){Iu&&d?Jf(e,t,n,a,i,o):Ff(e,t,n,a,i,o,s)}function Jf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Ff(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?xu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(_u,uu),1<n&&d.setRequestHeader(fu,pu),2<n&&d.setRequestHeader(mu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}function Hf(e,t,n,a,i,o,s){Iu?qf(e,t,n,a,i,o):Ff(e,t,n,a,i,o,s)}function qf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a,!0);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function qf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("POST",(s?xu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(_u,uu),1<n&&d.setRequestHeader(fu,pu),2<n&&d.setRequestHeader(mu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var zf=0,Xf=null,jf=0,Yf=!1,Wf=0,Qf=0,Zf=!1,Kf=0,$f=2e3,em=5,tm="source",nm=tm,am=0,im=[],om="",sm=!1,dm=0,lm=0,cm=1,rm=!1,um=0,_m=!1,fm=!1,mm=2e3,hm=[0,5],pm=0,vm=!1,gm=!1,ym=["next_button","back_button"],bm=0,wm=!1;function km(){uv(),Yv(),Gp(document.getElementById("stream_info_icon"),Ur.Main_selectedChannelLogo),qu("stream_info_name",Ur.Main_selectedChannelDisplayname),Hu("stream_info_title",jb),Hu("stream_info_game",zb+" "+Xb+" "+Qb),qu("stream_live_icon",Wb),qu("progress_bar_duration",nv(pm)),Qy((hp=hm)[1]),zu("stream_info_title"),Ur.Play_isHost=!1,qu("progress_bar_current_time",nv(0)),qu("stream_live_time",""),qu("stream_watching_time",""),rm=null!==Ur.ChannelVod_vodId,mc=Gt+".",rm?(fc=sl,wc()):Zc(),Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Vu("progress_pause_holder"),Qm(),Vu("scene_channel_panel_bottom"),jf=um=0,window.clearInterval(Xf),fm=!1,dh=-13,dm=lm=0,am=2,Um(),ng(3),Qh=!1,Hv(),co()?(Qa=!0,Za=Ur.Main_selectedChannel_id,mi()):rv(),document.addEventListener("visibilitychange",Lm,!1),Yf=!1,Zf=!(Qf=Wf=0),Am(),document.body.removeEventListener("keyup",X_)}function Am(){Kf=0,$f=2e3,Cm()}function Cm(){Vf("https://clips.twitch.tv/api/v2/clips/"+Yb+"/status",$f,1,null,Mm,Em,!0)}function Em(){++Kf<em?($f+=250,Cm()):(_v(),lg(3))}function Mm(e){im=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)im.length?im.push({id:e[t].quality+"p"+Im(e[t].frame_rate),url:e[t].source}):im.push({id:e[t].quality+"p"+Im(e[t].frame_rate)+" (source)",url:e[t].source});lm=cm,Sm()}function Im(e){return 40<e?60:""}function Sm(){window.clearInterval(Xf),om=im[am=0].url,-1!==tm.indexOf("source")&&(tm="source");for(var e=0;e<jm();e++){if(im[e].id===tm){om=im[am=e].url;break}-1!==im[e].id.indexOf(tm)&&(om=im[am=e].url)}nm=tm,rr&&console.log("PlayClip_onPlayer:",'\n\n"'+om+'"\n'),lm=cm,Iu&&Zf&&Android.startVideoOffset(om,3,sm?-1:Android.gettime()),sm=!1,xm()}function xm(){xh&&!Tv()&&Pv(),Iu&&(jf=0,up=1+mm/1e3,_m=!1,window.clearInterval(Xf),Xf=window.setInterval(Tm,_p))}function Pm(e){qu("progress_bar_duration",nv(pm=e/1e3)),zm()}function Lm(){document.hidden&&Om()}function Tm(){Iu&&(dm=Android.gettime()),Zf&&zf===dm&&!$p()?++jf>up&&(_m&&fm&&am<jm()-1?am++:!_m&&fm&&um++,navigator.onLine?1<um?Kp(um,3,Bm):(Ym(),Sm(),fm=!0):Zp(!1,3)):(jf=um=0,fm=!1),zf=dm}function Bm(e){if(!e){if(!(am<jm()-1))return void Zp(!1,3);am++}um=0,Ym(),Sm(),fm=!0}function Om(){Zf&&(wm=!1,Gm(),vv(),dv())}function Gm(){Hm(),im=[],window.clearInterval(Xf),Iu&&Android.stopVideo(3),Zf=!1,Xc(),lv(),UE(),document.body.removeEventListener("keydown",Km),document.removeEventListener("visibilitychange",Lm),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",sl=0}function Um(){var e,t=Rm(1,0),n=Rm(-1,ub.ColoumnsCount-1);gm=vm=!1,t?(vm=!0,qu("next_button_text_name",(e=JSON.parse(document.getElementById(ub.ids[8]+t).getAttribute(bu)))[4]),Hu("next_button_text_title",e[9]),qu("end_next_button_text_name",e[4]),Hu("end_next_button_text_title",e[9]),Nm(0,1)):Nm(0,0),n?(gm=!0,qu("back_button_text_name",(e=JSON.parse(document.getElementById(ub.ids[8]+n).getAttribute(bu)))[4]),Hu("back_button_text_title",e[9]),Nm(1,1)):Nm(1,0)}function Rm(e,t){return h_(ub.posY,ub.posX+e,ub.ids[0])?ub.posY+"_"+(ub.posX+e):h_(ub.posY+e,t,ub.ids[0])?ub.posY+e+"_"+t:null}function Nm(e,t){document.getElementById(ym[e]).style.opacity=t}function Vm(){bm?1===bm?Dm():-1===bm&&Jm():(rm&&Ur.Play_ChatForceDisable&&($p()?qc(yc):zc()),Wv()||Fv(3))}function Dm(){Gb(1,0),Fm()}function Jm(){Gb(-1,ub.ColoumnsCount-1),Fm()}function Fm(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",rf(function(){Gm(),nf(ub.posY+"_"+ub.posX,ub.ids,Ub),e.style.transition=""})}function Hm(){Wg=!1,Yg=Qg=0,Sv(),tm=nm,document.getElementById("scene_channel_panel").style.opacity="0",Iu&&jy(Android.gettime()/1e3,pm,!0),Hu("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(kg)}function qm(){zm(),ev(),kg=window.setInterval(zm,1e3),vv(),Jy(),Xm(),Ym(),document.getElementById("scene_channel_panel").style.opacity="1",Wm()}function zm(){Iu&&jy(Android.gettime()/1e3,pm,!Wg)}function Xm(){for(var e=am=0;e<jm();e++){if(im[e].id===tm){am=e;break}-1!==im[e].id.indexOf(tm)&&(am=e)}}function jm(){return im.length}function Ym(){1===jm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):am?am===jm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(tm=im[am].id).indexOf("source")?qu("quality_name",tm.replace("source",ge)):qu("quality_name",tm)}function Wm(){rh=window.setTimeout(Hm,5e3+iy)}function Qm(){document.getElementById("quality_name").style.width="16ch",qu("open_vod_text",rm?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Zm(){rm?(Ur.vodOffset=sl,Gm(),document.body.addEventListener("keydown",rb,!1),Hv(),rf(ry)):(Qh=!0,fv(ln),window.setTimeout(function(){Qh=!1,mv()},2e3))}function Km(e){if(lm!==cm)switch(e.keyCode){case Va:gv()?(vv(),Om()):pv()}else switch(e.keyCode){case Oa:OE()?ph&&!oE&&(XE(),ph--,JE()):fh&&!Cv()&&Tv()?(oh++,Vv()):Cv()?(Sv(),2===ny?(zv(),5<++Wh&&(Wh=0),qv()):ny?1===ny&&-1<bm&&(bm--,gm||!bm?Fy():bm++):(Ky(-1,pm),iy=2500),Wm()):Wv()?(eg(),Kv(),--tp<(vm?-1:0)&&(tp=3),Zv()):qm();break;case Ua:OE()?ph<rE-1&&!oE&&(XE(),ph++,JE()):!fh||Cv()||Wv()?Cv()?(Sv(),2===ny?(zv(),--Wh<0&&(Wh=5),qv()):ny?1===ny&&bm<1&&(bm++,vm||!bm?Fy():bm--):(Ky(1,pm),iy=2500),Wm()):Wv()?(eg(),Kv(),3<++tp&&(tp=vm?-1:0),Zv()):qm():Bf("ChatEnable",(xh=Tv()||Wv()?(Lv(),!1):(Pv(),!0))?"true":"false");break;case Ga:Wv()?eg():Cv()?(2===ny&&1!==Wh?(ny--,Fy()):1===ny?(ny--,Fy()):0<am&&1===Wh&&(am--,Ym()),Sv(),Wm()):OE()?OE()?DE():qm():GE();break;case Ra:Wv()?eg():Cv()?(ny?1===ny?(ny++,Fy()):am<jm()-1&&1===Wh&&(am++,Ym()):(ny++,Fy()),Sv(),Wm()):OE()?UE():fh&&Tv()?(4<++ch?Nv(!(ch=1)):4===ch&&Nv(!0),Uv(!0)):qm();break;case Na:Wv()?tg(3):Cv()?ny?1===ny?Vm():dg(3):(Sv(),Wm(),Yg&&Yy()):OE()?(Gm(),ef(ph,yE,yg)):qm();break;case Va:Cv()?Hm():OE()?UE():gv()?(vv(),Om()):pv();break;case Ta:case La:case Ba:rm&&!Ur.Play_ChatForceDisable&&($p()?qc(yc):zc()),Wv()||Fv(3)}}var $m,eh,th,nh,ah,ih,oh=0,sh=oh,dh=-5,lh=.55,ch=3,rh=null,uh="source",_h=uh,fh=!0,mh=!1,hh="",ph=0,vh=2e3,gh=0,yh=1,bh=2,wh=0,kh=null,Ah=0,Ch=0,Eh=0,Mh="",Ih=[],Sh=0,xh=!1,Ph=null,Lh=null,Th=null,Bh="",Oh=0,Gh=5,Uh=0,Rh=5,Nh=0,Vh=!1,Dh=null,Jh=!1,Fh=0,Hh=null,qh=0,zh=0,Xh=!1,jh=!1,Yh=!1,Wh=1,Qh=!1,Zh=!1,Kh=1e4,$h=2e3,ep="",tp=0,np=3,ap=null,ip="",op=0,sp=0,dp="",lp=!0,cp=!1,rp=!1,up=7,_p=1e3,fp=0,mp="",hp=[],pp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],vp=[0,0,0,1,2,2,2,1],gp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],yp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],bp=1,wp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function kp(){ah=document.getElementById("chat_container"),ih=document.getElementById("inner_progress_bar"),oh=Of("ChatPositionsValue",0),ch=Of("ChatSizeValue",3),xh=Uf("ChatEnable",!1),fh=Uf("Play_isFullScreen",!0),Uv(!1),Rv(!1),Cp()}function Ap(e){e?void 0!==$m&&(oh=$m,ch=th,(xh=eh)||Lv(),Uv(!1)):($m=oh,eh=xh,th=ch,oh=0,Pv(),ch=4,Nv(xh=!0),Uv(!1),oc&&(oc.scrollTop=oc.scrollHeight)),Bf("Play_isFullScreen",fh)}function Cp(){bp=hA("chat_font_size");for(var e=0;e<wp.length;e++)Fu("chat_inner_container",wp[e]);Ju("chat_inner_container",wp[bp])}function Ep(){uv(),Hu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Ca+_.toUpperCase()+"</div>"),P_("stream_info_title"),rm=!(Zh=!1),Gp(document.getElementById("stream_info_icon"),Sa),Ur.Play_isHost?qu("stream_info_name",Ur.Play_DisplaynameHost):qu("stream_info_name",Ur.Play_selectedChannelDisplayname),Nm(0,0),Nm(1,0),Ur.Play_WasPlaying=1,w_(),mh=Ur.Play_isHost,Ur.Play_isHost=!1,cp=!1,Vu("scene_channel_panel_bottom"),sp=op=0,qu("stream_watching_time",g+nv(0)),Bh=av(0),qu("stream_live_time",y+Bh),Nu("progress_pause_holder"),ng(1),dh=-5,qh=zh=fp=0,window.clearInterval(Hh),jh=!1,Kh=3e3,lp=!(Uh=0),wh=gh,Yh=!(Vh=!(Eh=Ch=Ah=Jh=0)),document.addEventListener("visibilitychange",Ip,!1),xp(),Up(),document.body.removeEventListener("keyup",X_),kh=window.setInterval(Tp,6e4)}function Mp(e){fv(e)}function Play_CheckResume(){Vh&&Ip(),Ug&&yy(),Zf&&(Om(),window.clearInterval(Xf))}function Ip(){document.hidden?Wv()?(vv(),Lv(),ov()):(lv(),Yh=!1,tc(),window.clearInterval(kh)):(Vh=!0,wv(),Vh&&(uv(),Kh=3e3,cp=!(Uh=0),Zh?Tp():xp(),wh=gh,Nh=0,navigator.onLine?Up():nh=window.setInterval(Sp,100),kh=window.setInterval(Tp,6e4)))}function Sp(){(navigator.onLine||200<Nh)&&(window.clearInterval(nh),Up()),Nh++}function xp(){Ff("https://api.twitch.tv/kraken/streams/"+Ur.Play_selectedChannel_id,Kh,2,null,Pp,Lp,!1)}function Pp(e){null!==(e=JSON.parse(e)).stream&&(qu("stream_info_name",mh?Ur.Play_DisplaynameHost:Ur.Play_selectedChannelDisplayname),Ur.Play_selectedChannel_id=e.stream.channel._id,Hu("stream_info_title",FS.parse(e.stream.channel.status,!1,!0)),Ur.Play_gameSelected=e.stream.game,ep=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",qu("stream_info_game",v+Ur.Play_gameSelected+h+__(e.stream.viewers)+" "+J+ep),Ur.Play_selectedChannelLogo=e.stream.channel.logo,Zh=!0,Gp(document.getElementById("stream_info_icon"),Ur.Play_selectedChannelLogo),Bh=e.stream.created_at,co()?(Qa=!0,Za=Ur.Play_selectedChannel_id,mi()):rv())}function Lp(){Uh<Rh&&(Kh+=500,window.setTimeout(function(){Vh&&xp()},750)),Uh++}function Tp(){Ff("https://api.twitch.tv/kraken/streams/"+Ur.Play_selectedChannel_id,3e3,2,null,Bp,Op,!1)}function Bp(e){null!==(e=JSON.parse(e)).stream&&(Hu("stream_info_title",FS.parse(e.stream.channel.status,!1,!0)),Ur.Play_gameSelected=e.stream.game,qu("stream_info_game",v+Ur.Play_gameSelected+h+__(e.stream.viewers)+" "+J+ep),Zh||Gp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Op(){fp<Rh?(window.setTimeout(function(){Vh&&Tp()},2500),fp++):fp=0}function Gp(e,t){e.onerror=function(){this.src=Sa,Zh=!1},e.src=t}function Up(){Oh=0,$h=2e3+(cp?3e3:0),Rp()}function Rp(){var e,t;if(e=wh===gh?"https://api.twitch.tv/api/channels/"+Ur.Play_selectedChannel+"/access_token"+(co()&&Xi[Ur.Users_Position].access_token?"?oauth_token="+Xi[Ur.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Ur.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Ah.token)+"&sig="+Ah.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Iu){if(!(t=Android.mreadUrl(e,$h,1,null)))return void Vp();200===(t=JSON.parse(t)).status?(Oh=0,Vh&&Fp(t.responseText)):403===t.status?Dp():404===t.status?cg():Vp()}else(t=new XMLHttpRequest).open("GET",xu+e,!0),t.timeout=$h,t.setRequestHeader(_u,uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Oh=0,Vh&&Fp(t.responseText)):403===t.status?(Np(t),cr?Jp():Dp()):404===t.status?(Np(t),cr?Jp():cg()):(Np(t),Vp()))},t.send(null)}function Np(e){rr&&(console.log(e.status),console.log(e.responseText))}function Vp(){Vh&&lp&&(++Oh<Gh+(cp?5:0)?($h+=250,cp?window.setTimeout(Rp,350):Rp()):cr?Jp():cg())}function Dp(){_v(),fv(Dn),window.setTimeout(function(){Vh&&cg()},4e3)}function Jp(){Ih=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],wh=bh,Vh&&Xp()}function Fp(e){wh===gh?(Ah=JSON.parse(e),wh=yh,Up()):wh===yh&&(Ih=Hp(Ch=e),wh=bh,Vh&&Xp())}function Hp(e){for(var t,n=[],a="",i=1,o=zp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=qp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function qp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function zp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Xp(){window.clearInterval(Hh),Mh=Ih[Sh=0].url,-1!==uh.indexOf("source")&&(uh="source");for(var e=0;e<Gv();e++){if(Ih[e].id===uh){Mh=Ih[Sh=e].url;break}-1!==Ih[e].id.indexOf(uh)&&(Mh=Ih[Sh=e].url)}_h=uh,wh=bh,rr&&console.log("Play_onPlayer:",'\n\n"'+Mh+'"\n'),Iu&&Vh&&Android.startVideo(Mh,1),jp()}function jp(){rp=!1,xh&&!Tv()&&Pv(),Yh=!0,Yp(),Iu&&(qh=0,up=1+vh/1e3,Xh=!1,window.clearInterval(Hh),Hh=window.setInterval(Wp,_p))}function Yp(){Ur.Play_ChatForceDisable?Ul():Kc()}function Wp(){var e=!$p();Iu&&(op=Android.gettime()),Vh&&Fh===op&&e?up<++qh&&(Xh&&jh&&Sh<Gv()-1?Sh++:!Xh&&jh&&zh++,navigator.onLine?1<zh?Kp(zh,1,Qp):(Ov(),Xp(),jh=!0):Zp(!1,1)):(qh=zh=0,jh=!1),Fh=op,e&&sp++}function Qp(e){if(!e){if(!(Sh<Gv()-1))return void cg();Sh++}zh=0,Ov(),Xp(),jh=!0}function Zp(e,t){Ur.Play_isHost=e,ng(t),lg(t)}function Kp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Zp(!1,t))},a.send(null)}function $p(){return!!Iu&&!Android.getPlaybackState()}function ev(){var e=uf();qu("stream_clock",e),qu("label_clock",e)}function tv(e){return e<10?"0"+e:e}function nv(e){var t,n,a;return t=tv(parseInt(e)%60),n=tv((e=Math.floor(e/60))%60),a=tv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function av(e){return nv(parseInt(e/1e3))}function iv(e){return av((new Date).getTime()-new Date(e).getTime())}function ov(){Vh&&(sv(),Ur.Play_WasPlaying=0,dv())}function sv(){Iu&&Android.stopVideo(1),Vh=!1,UE(),Xc(),lv(),cv(),Ur.Play_selectedChannel_id=""}function dv(){jy(0,0),Vu("scene1"),Nu("scene2"),p_()}function lv(){Ev(),wv(),mv(),Yv(),mp="",Sh===Gv()-1&&(_h=Ih[0].id),Bg===Xy()-1&&(Eg=Tg[0].id),am===jm()-1&&(nm=im[0].id)}function cv(){Yh=!1,document.body.removeEventListener("keydown",yg),document.removeEventListener("visibilitychange",Ip),tc(),window.clearInterval(kh),window.clearInterval(Hh),Qh=!1}function rv(){Hu("fallow_text",Ca+Tt),Ya=!1}function uv(){Iu?Android.mshowLoading(!0):Vu("dialog_loading_play")}function _v(){Iu?Android.mshowLoading(!1):Nu("dialog_loading_play")}function fv(e){qu("dialog_warning_play_text",e),Vu("dialog_warning_play")}function mv(){Nu("dialog_warning_play")}function hv(){return Du("dialog_warning_play")}function pv(){gv()?vv():(Vu("play_dialog_exit"),Ph=window.setTimeout(pv,3e3))}function vv(){window.clearTimeout(Ph),Nu("play_dialog_exit")}function gv(){return Du("play_dialog_exit")}function yv(){window.clearTimeout(Lh)}function bv(){window.clearTimeout(Th)}function wv(){yv(),bv(),Nu("play_dialog_simple_pause")}function kv(){_v(),$p()?Av()?(Nu("play_dialog_simple_pause"),Th=window.setTimeout(kv,8e3)):(Vu("play_dialog_simple_pause"),Lh=window.setTimeout(kv,1500)):wv()}function Av(){return Du("play_dialog_simple_pause")}function Cv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Ev(){Sv(),document.getElementById("scene_channel_panel").style.opacity="0",uh=_h,window.clearInterval(kg)}function Mv(){Hv(),Bv(),Ov(),Iv(),kg=window.setInterval(Iv,1e3),ev(),vv(),document.getElementById("scene_channel_panel").style.opacity="1",xv()}function Iv(){qu("stream_watching_time",g+nv(sp)),qu("stream_live_time",y+(-1===Bh.indexOf("00:00")?iv(Bh):"00:00"))}function Sv(){window.clearTimeout(rh),iy=0}function xv(){rh=window.setTimeout(Ev,5e3)}function Pv(){Vv(),Vu("chat_container")}function Lv(){Nu("chat_container")}function Tv(){return Du("chat_container")}function Bv(){for(var e=Sh=0;e<Gv();e++){if(Ih[e].id===uh){Sh=e;break}-1!==Ih[e].id.indexOf(uh)&&(Sh=e)}}function Ov(){1===Gv()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):Sh?Sh===Gv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(uh=Ih[Sh].id).indexOf("source")?qu("quality_name",uh.replace("source",ge)+Ih[Sh].band):qu("quality_name",uh+Ih[Sh].band)}function Gv(){return Ih.length}function Uv(e){ah.style.height=yp[ch-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=yp[ch-1].dialogTop+"%",Vv(),$l(),e&&Dv(Nn+yp[ch-1].percentage),window.setTimeout(function(){oc&&(oc.scrollTop=oc.scrollHeight)},500),Bf("ChatSizeValue",ch)}function Rv(e){ah.style.backgroundColor="rgba(0, 0, 0, "+lh+")",e&&Dv(Vn+(100*lh).toFixed(0)+"%")}function Nv(e){oh=e?vp[sh=oh]:gp[oh][sh]}function Vv(){var e=4===ch;oh<0?oh=e?2:7:(e?2:7)<oh&&(oh=0),ah.style.top=(e?.2:pp[oh].top+pp[oh].sizeOffset[ch-1])+"%",ah.style.left=pp[oh+(e?2:0)].left+"%",Bf("ChatPositionsValue",oh)}function Dv(e){window.clearTimeout(Dh),qu("play_chat_dialog_text",e),Vu("play_chat_dialog"),Dh=window.setTimeout(Jv,1e3)}function Jv(){Nu("play_chat_dialog")}function Fv(e){$p()?(wv(),Iu&&Android.play(!0),Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(Cv()&&Ev(),window.clearInterval(Hh),Hh=window.setInterval(Wp,_p)):2===e?(Cv()&&Ny(),window.clearInterval(Fg),Fg=window.setInterval(By,_p)):3===e&&(Cv()&&Hm(),window.clearInterval(Xf),Xf=window.setInterval(Tm,_p))):(window.clearInterval(Hh),window.clearInterval(Fg),window.clearInterval(Xf),Hu("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Iu&&Android.play(!1),kv())}function Hv(){zv(),Wh=1,qv()}function qv(){Ju("scene2_pannel_"+Wh,"playbotton_focus")}function zv(){Fu("scene2_pannel_"+Wh,"playbotton_focus")}function Xv(e){Mg=wh=-1,lm=-1,Lv(),Ev(),Hm(),Ny(),Qh||mv(),_v(),vv(),3===e&&vm&&wm&&(Kv(),tp=-1),Zv()}function jv(){Vu("dialog_end_stream")}function Yv(){Nu("dialog_end_stream"),eg(),Qv()}function Wv(){return Du("dialog_end_stream")}function Qv(){Kv(),tp=0,Zv()}function Zv(){Ju("dialog_end_"+tp,"dialog_end_icons_focus")}function Kv(){Fu("dialog_end_"+tp,"dialog_end_icons_focus")}function $v(e){1===e?ip=Ur.Play_selectedChannelDisplayname+" "+_:2===e?ip=Ur.Main_selectedChannelDisplayname+$t:3===e&&(ip=Ur.Main_selectedChannelDisplayname+Gt),Hu("dialog_end_stream_text",ip+S+ra+(vm&&wm?la:tn)+np+"..."),Wv()?(Mg=wh=bh,lm=cm,-1===--np?(Hu("dialog_end_stream_text",ip+S+ra+tn+"0..."),vv(),Lv(),1===e?ov():2===e?Gy():3===e&&(vm&&wm?Dm():Om())):ap=window.setTimeout(function(){$v(e)},1e3)):ap=window.setTimeout(function(){$v(e)},50)}function eg(){window.clearTimeout(ap),Hu("dialog_end_stream_text",ip+S+ra+nn)}function tg(e){var t=!0;-1===tp&&vm?Dm():tp?1===tp?Ur.Play_isHost?(Ur.Play_DisplaynameHost=Ur.Play_selectedChannelDisplayname+ne,Ur.Play_selectedChannel=dp.target_login,Ur.Play_selectedChannelDisplayname=dp.target_display_name,Ur.Play_DisplaynameHost=Ur.Play_DisplaynameHost+Ur.Play_selectedChannelDisplayname,sv(),document.body.addEventListener("keydown",yg,!1),Ur.Play_selectedChannel_id=dp.target_id,rf(Ep)):Zm():2===tp?ag(e):3===tp&&og(e):2===e?Tg.length?(qg=!(dy=!0),Py(),wv(),fc=$g=0,wc()):(t=!1,fv(ea),window.setTimeout(function(){mv()},2e3)):3===e&&(im.length?(_m=!(sm=!0),Sm(),wv(),rm?($g=0,fc=sl,wc()):Zc()):(t=!1,fv(ea),window.setTimeout(function(){mv()},2e3))),1!==tp&&3===tp&&""===Ur.Play_gameSelected&&(t=!1),t&&Yv()}function ng(e){e?1===e?(Kv(),tp=2,Zv(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Qv(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Qv(),document.getElementById("dialog_end_-1").style.display=vm?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",qu("dialog_end_vod_text",rm?sn:dn)):(Kv(),tp=1,Zv(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",qu("dialog_end_vod_text",un))}function ag(e){Ur.Main_BeforeChannelisSet||Ur.Main_Go===Cr||Ur.Main_Go===Er||(Ur.Main_BeforeChannel=Ur.Main_BeforeAgameisSet&&Ur.Main_Go!==pr?Ur.Main_BeforeAgame:Ur.Main_Go,Ur.Main_BeforeChannelisSet=!0),A_(Ur.Main_Go),Ur.Main_Go=Ar,1===e?(Ur.Main_selectedChannel_id=Ur.Play_selectedChannel_id,Ur.Main_selectedChannel=Ur.Play_selectedChannel,Ur.Main_selectedChannelDisplayname=Ur.Play_selectedChannelDisplayname,Qs=Ya,Lv(),ov()):2===e?Gy():3===e&&Om()}function ig(e){Ur.Search_isSearching||(Ur.Main_BeforeSearch=Ur.Main_Go),A_(Ur.Main_Go),Ur.Main_Go=br,1===e?(Lv(),ov()):2===e?Gy():3===e&&Om()}function og(e){if(""===Ur.Play_gameSelected)return Qh=!0,fv(Qn),void window.setTimeout(function(){Qh=!1,mv()},2e3);Ur.Main_BeforeAgameisSet||Ur.Main_Go===Lr||Ur.Main_Go===Tr||(Ur.Main_BeforeAgame=Ur.Main_BeforeChannelisSet&&Ur.Main_Go!==Ar&&Ur.Main_Go!==Cr&&Ur.Main_Go!==Er?Ur.Main_BeforeChannel:Ur.Main_Go,Ur.Main_BeforeAgameisSet=!0),A_(Ur.Main_Go),Ur.Main_Go=pr,Bo=!1,Ur.Main_gameSelected=Ur.Play_gameSelected,Lv(),1===e?ov():2===e?Gy():3===e&&Om()}function sg(){co()&&Xi[Ur.Users_Position].access_token?Ya?ki():yi():(fv(Bt),Qh=!0,window.setTimeout(function(){mv(),Qh=!1},2e3))}function dg(e){var t=document.getElementById("scene_channel_panel");2!==Wh&&(t.style.transition="none",t.style.opacity="0"),rf(function(){Wh?1===Wh?(1===e?(Xp(),Ev()):2===e?(qg=!1,Py(),Ny()):3===e&&(_m=!1,Sm(),Hm()),wv()):2===Wh?(Za=1===e?Ur.Play_selectedChannel_id:Ur.Main_selectedChannel_id,sg(),Sv(),1===e?xv():2===e?Hy():3===e&&Wm()):3===Wh?og(e):4===Wh?ag(e):5===Wh&&ig(e):Zm(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(Hh),cg()):lg(e)}function lg(e){window.clearInterval(Hh),window.clearInterval(Xf),window.clearInterval(Fg),Xv(e),np=3,$v(e),jv()}function cg(){uv(),wh=-1,Oh=0,$h=2e3,tc(),window.clearInterval(kh),window.clearInterval(Hh),""!==Ur.Play_selectedChannel_id?fg():rg()}function rg(){Ff("https://api.twitch.tv/kraken/users?login="+Ur.Play_selectedChannel,$h,2,null,ug,_g,!1)}function ug(e){void 0!==(e=JSON.parse(e).users[0])?(Ur.Play_selectedChannel_id=e._id,Oh=0,$h=2e3,fg()):lg(1)}function _g(){++Oh<Gh?($h+=250,rg()):Zp(!1,1)}function fg(){Vf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ur.Play_selectedChannel_id),$h,1,null,hg,mg,!0)}function mg(){++Oh<Gh?($h+=250,fg()):Zp(!1,1)}function hg(e){void 0!==(dp=JSON.parse(e).hosts[0]).target_login?(Qh=!0,fv(Ur.Play_selectedChannelDisplayname+rn+ne+dp.target_display_name),window.setTimeout(function(){Qh=!1},4e3),ng(0),Ur.Play_isHost=!0):(ng(1),Ur.Play_isHost=!1),lg(1)}function pg(e,t){0<t&&(2===e?Ty(t):3===e&&Pm(t))}function vg(){Ya?(Hu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Hu("fallow_text",Ca+Mt)):(Hu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Hu("fallow_text",Ca+It))}function gg(e){Wv()&&!gv()?(eg(),pv()):OE()?UE():Cv()&&!ob()?e?Ny():Ev():ob()&&gv()?(ib(),Uy(!1),dv()):gv()?(vv(),Lv(),e?Gy():ov()):(hv()&&mv(),pv())}function yg(e){if(wh!==bh)switch(e.keyCode){case Va:gv()?(vv(),Lv(),ov()):pv()}else switch(e.keyCode){case Oa:OE()?ph&&!oE&&(XE(),ph--,JE()):fh&&!Cv()&&Tv()?(oh++,Vv()):Cv()?(zv(),5<++Wh&&(Wh=1),qv(),Sv(),xv()):Wv()?(eg(),Kv(),--tp<(Ur.Play_isHost?1:2)&&(tp=3),Zv()):Mv();break;case Ua:OE()?ph<rE-1&&!oE&&(XE(),ph++,JE()):!fh||Cv()||Wv()?Cv()?(zv(),--Wh<1&&(Wh=5),qv(),Sv(),xv()):Wv()?(eg(),Kv(),3<++tp&&(tp=Ur.Play_isHost?1:2),Zv()):Mv():Bf("ChatEnable",(xh=Tv()||Wv()?(Lv(),!1):(Pv(),!0))?"true":"false");break;case Ga:Cv()?(0<Sh&&1===Wh&&(Sh--,Ov()),Sv(),xv()):!OE()&&co()?GE():Wv()?eg():OE()&&DE();break;case Ra:Cv()?(Sh<Gv()-1&&1===Wh&&(Sh++,Ov()),Sv(),xv()):OE()?UE():fh&&Tv()?(4<++ch?Nv(!(ch=1)):4===ch&&Nv(!0),Uv(!0)):Wv()?eg():Mv();break;case Na:if(Wv())tg(1);else if(Cv())dg(1);else if(OE()){var t=document.getElementById(yE[8]+ph);null===t?RE():Ur.Play_selectedChannel!==JSON.parse(t.getAttribute(bu))[0]?(sv(),ef(ph,yE,yg)):RE()}else Mv();break;case Va:gg(!1);break;case Ta:case La:case Ba:Wv()||Fv(1)}}var bg,wg,kg,Ag,Cg="source",Eg=Cg,Mg=0,Ig=null,Sg=0,xg=0,Pg=0,Lg="",Tg=[],Bg=0,Og=0,Gg=5,Ug=!1,Rg=2e3,Ng=0,Vg=5,Dg=1e4,Jg=0,Fg=null,Hg=0,qg=!1,zg=0,Xg=!1,jg=!1,Yg=0,Wg=!1,Qg=0,Zg=2e3,Kg=!1,$g=0,ey={},ty=0,ny=0,ay=!0,iy=0,oy=0,sy=0,dy=!1,ly=[0,10,30,60,120,300,600,900,1200,1800],cy=!1;function ry(){uv(),Yv(),$g=0,qu("stream_live_time",""),qu("stream_watching_time",""),qu("progress_bar_current_time",nv(0)),mc=O+".",Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Nu("progress_pause_holder"),oy=0,Qy((hp=ly)[1]),Mg=gh,rm=!0,sl=0,Ur.Play_isHost=!1,Nm(0,0),Nm(1,0),Ur.vodOffset?(_y(),py()):(ay&&""!==Ur.Main_selectedChannel_id?(Gp(document.getElementById("stream_info_icon"),Ur.Main_selectedChannelLogo),ey["#"+Ur.ChannelVod_vodId]||wc(),co()?(Za=Ur.Main_selectedChannel_id,Qa=!0,mi()):rv()):(_y(),fy()),qu("stream_info_name",Ur.Main_selectedChannelDisplayname),Hu("stream_info_title",""),Hu("stream_info_game",al+" ["+Zd.toUpperCase()+"]"),qu("stream_live_icon",il),zu("stream_info_game")),ey["#"+Ur.ChannelVod_vodId]&&!Ur.vodOffset?(_v(),ab()):uy()}function uy(){window.setTimeout(function(){Vu("scene_channel_panel_bottom"),Hu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Vu("progress_pause_holder")},1e3),qu("progress_bar_duration",nv(Yd)),Ur.Play_WasPlaying=2,w_(),Ag=window.setInterval(wy,6e4),U_(mp),Hg=zg=0,window.clearInterval(Fg),Qh=Kg=Xg=!(dh=-13),Wg=!1,Pg=xg=Sg=Qg=0,document.addEventListener("visibilitychange",yy,!1),cy=!(Ug=!(jg=!1)),ky(),ng(2),document.body.removeEventListener("keyup",X_)}function _y(){Ng=0,Vg=5,Dg=1e4}function fy(){Ff("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ur.Main_selectedChannel),Dg,2,null,my,hy,!1)}function my(e){void 0!==(e=JSON.parse(e).users[0])?(Ur.Main_selectedChannelLogo=e.logo,Ur.Main_selectedChannel_id=e._id,ey["#"+Ur.ChannelVod_vodId]||wc(),co()?(Za=Ur.Main_selectedChannel_id,Qa=!0,mi()):rv()):(Ur.Main_selectedChannelLogo=Sa,Ur.Main_selectedChannel_id=""),Gp(document.getElementById("stream_info_icon"),Ur.Main_selectedChannelLogo)}function hy(){++Ng<Vg?(Dg+=500,window.setTimeout(function(){Ug&&fy()},750)):wg=window.setTimeout(fy,2500)}function py(){Ff("https://api.twitch.tv/kraken/videos/"+Ur.ChannelVod_vodId,Dg,2,null,gy,vy,!1)}function vy(){++Ng<Vg&&(Dg+=2e3,py())}function gy(e){e=JSON.parse(e),Hu("stream_info_title",FS.parse(e.title,!1,!0)),Hu("stream_info_game",Qt+v+e.game+" "+__(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),qu("stream_live_icon",N+I_(e.created_at)),qu("progress_bar_duration",nv(Yd=parseInt(e.length))),$g=1e3*Ur.vodOffset,jy(Ur.vodOffset,Yd,!0),Ur.Main_selectedChannelDisplayname=e.channel.display_name,qu("stream_info_name",Ur.Main_selectedChannelDisplayname),Ur.Main_selectedChannelLogo=e.channel.logo,Gp(document.getElementById("stream_info_icon"),Ur.Main_selectedChannelLogo),Ur.Main_selectedChannel_id=e.channel._id,Ur.Main_selectedChannel=e.channel.name,co()?(Qa=!0,Za=Ur.Main_selectedChannel_id,mi()):rv(),U_(e.increment_view_count_url)}function yy(){document.hidden?Wv()?(vv(),Lv(),Gy()):(wy(),$y(),zc(),lv(),window.clearInterval(Fg),window.clearInterval(Ag)):(Ug=!0,wv(),Ug&&(uv(),Nh=Nh=0,navigator.onLine?Ly():nh=window.setInterval(by,100),qc(yc),ng(2),Ag=window.setInterval(wy,6e4)))}function by(){(navigator.onLine||200<Nh)&&(window.clearInterval(nh),Mg=gh,ky()),Nh++}function wy(){Ur.vodOffset=Iu?parseInt(Android.gettime()/1e3):0,w_(),Ur.vodOffset=0}function ky(){Og=0,Zg=2e3,Ay()}function Ay(){Vf(Mg===gh?"https://api.twitch.tv/api/vods/"+Ur.ChannelVod_vodId+"/access_token"+(co()&&Xi[Ur.Users_Position].access_token?"?oauth_token="+Xi[Ur.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Ur.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Sg.token)+"&nauthsig="+Sg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",$h,1,null,My,Cy,!0)}function Cy(){if(Ug){var e;if(Sg.token&&(e=JSON.parse(Sg.token)),e&&0!==JSON.parse(Sg.token).chansub.restricted_bitrates.length)return void Iy();++Og<Gg?(Zg+=250,Ay()):cr?Ey():(_v(),lg(2))}}function Ey(){Tg=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Mg=bh,Ug&&Py()}function My(e){Mg===gh?(Sg=JSON.parse(e),Mg=yh,ky()):Mg===yh&&(Tg=Hp(xg=e),Mg=bh,Ug&&Py())}function Iy(){co()&&Xi[Ur.Users_Position].access_token?(Za=Ur.Main_selectedChannel_id,Ei()):(_v(),fv(x+St),window.setTimeout(function(){Ug&&Gy()},4e3))}function Sy(){_v(),fv(x+xt),window.setTimeout(function(){Ug&&Gy()},4e3)}function xy(){cy?(_v(),fv(x+Pt),window.setTimeout(function(){Ug&&Gy()},4e3)):(cy=!0,Mg=gh,ky())}function Py(){window.clearInterval(Fg),Lg=Tg[Bg=0].url,-1!==Cg.indexOf("source")&&(Cg="source");for(var e=0;e<Xy();e++){if(Tg[e].id===Cg){Lg=Tg[Bg=e].url;break}-1!==Tg[e].id.indexOf(Cg)&&(Lg=Tg[Bg=e].url)}Eg=Cg,Ly()}function Ly(){rr&&console.log("PlayVod_onPlayer:",'\n\n"'+Lg+'"\n'),Ur.vodOffset?(fc=Ur.vodOffset,wc(),Iu&&Ug&&Android.startVideoOffset(Lg,2,dy?-1:1e3*Ur.vodOffset),Ur.vodOffset=0):Iu&&Ug&&Android.startVideoOffset(Lg,2,dy?-1:Android.gettime()),dy=!1,xh&&!Tv()&&Pv(),Iu&&(Hg=0,up=3+Rg/1e3,qg=!1,window.clearInterval(Fg),Fg=window.setInterval(By,_p))}function Ty(e){qu("progress_bar_duration",nv(Yd=e/1e3)),Dy()}function By(){Iu&&($g=Android.gettime()),Ug&&Jg===$g&&!$p()?++Hg>up&&(qg&&Xg&&Bg<Xy()-1?Bg++:!qg&&Xg&&zg++,navigator.onLine?1<zg?Kp(zg,2,Oy):(zy(),Py(),Xg=!0):Zp(!1,2)):(Hg=zg=0,Xg=!1),Jg=$g}function Oy(e){if(!e){if(!(Bg<Xy()-1))return void Zp(!1,2);Bg++}zg=0,zy(),Py(),Xg=!0}function Gy(){Ug&&(Tg=[],Uy(!0),dv())}function Uy(e){e&&$y(),Iu&&Android.stopVideo(2),Ug=!1,window.clearInterval(Ag),window.clearInterval(wg),Ur.Play_WasPlaying=0,ay=!0,Xc(),UE(),lv(),Ry()}function Ry(){document.body.removeEventListener("keydown",rb),document.removeEventListener("visibilitychange",yy),Ur.vodOffset=0,window.clearInterval(Ig),window.clearInterval(Fg),Yd=0}function Ny(){Wg=!1,Yg=Qg=0,Sv(),document.getElementById("scene_channel_panel").style.opacity="0",Iu&&jy(Android.gettime()/1e3,Yd,!0),Hu("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none",Cg=Eg,window.clearInterval(kg)}function Vy(e){Dy(),ev(),vv(),kg=window.setInterval(Dy,1e3),e&&(Jy(),qy(),zy(),Hy()),document.getElementById("scene_channel_panel").style.opacity="1"}function Dy(){Iu&&jy(Android.gettime()/1e3,Yd,!Wg)}function Jy(){ny=1,bm=0,Fy()}function Fy(){Fu("pause_button","progress_bar_div_focus"),Fu("next_button","progress_bar_div_focus"),Fu("back_button","progress_bar_div_focus"),Fu("progress_bar_div","progress_bar_div_focus"),ny?1===ny?(bm?1===bm?Ju("next_button","progress_bar_div_focus"):-1===bm&&Ju("back_button","progress_bar_div_focus"):Ju("pause_button","progress_bar_div_focus"),zv(),Hu("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none"):2===ny&&(qv(),Hu("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none"):(Ju("progress_bar_div","progress_bar_div_focus"),zv(),Yg&&(Zy(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Hy(){rh=window.setTimeout(Ny,5e3+iy)}function qy(){for(var e=Bg=0;e<Xy();e++){if(Tg[e].id===Cg){Bg=e;break}-1!==Tg[e].id.indexOf(Cg)&&(Bg=e)}}function zy(){1===Xy()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Bg?Bg===Xy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Cg=Tg[Bg].id).indexOf("source")?qu("quality_name",Cg.replace("source",ge)+Tg[Bg].band):qu("quality_name",Cg+Tg[Bg].band)}function Xy(){return Tg.length}function jy(e,t,n){qu("progress_bar_current_time",nv(e)),n&&(ih.style.width=e/t*100+"%")}function Yy(){wv(),Wv()||(_m=qg=!1,Ug?(Iu&&Android.startVideoOffset(Lg,2,0<sy?1e3*sy:-1),fc=sy):(fc=sl,Iu&&Android.startVideoOffset(om,3,0<sy?1e3*sy:-1)),rm&&wc()),Hu("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none",Wg=!1,sy=Yg=Qg=0}function Wy(){oy=Qg=0,Qy(hp[1])}function Qy(e){Yg&&!ny&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?qu("progress_bar_steps",Jn+e/60+Hn):qu("progress_bar_steps",e?Jn+e+Fn:Jn+hp[1]+Fn)}function Zy(){qu("progress_bar_jump_to",ue+" ("+(Yg<0?"-":"")+nv(Math.abs(Yg))+")"+_e+nv(sy))}function Ky(e,t){var n=Iu?Android.gettime()/1e3:0;window.clearTimeout(bg),Wg=!0,Qg<hp.length-1&&oy++%6==0&&Qg++,Yg+=hp[Qg]*e,sy=n+Yg,Ug&&(sy=10*Math.floor(sy/10)),t<sy?(Yg=t-n-hp[1],sy=n+Yg,oy=Qg=0):sy<0&&(Yg=0-n,sy=oy=Qg=0),Zy(),ih.style.width=sy/t*100+"%",Qy(hp[Qg]*e),bg=window.setTimeout(Wy,1e3)}function $y(){var e=Iu?parseInt(Android.gettime()/1e3):0,t="#"+Ur.ChannelVod_vodId;300<e&&e<Yd-300?(ey[t]&&delete ey[t],ey[t]=e,Bf("PlayVod_VodIds",JSON.stringify(ey))):Yd-300<e&&ey[t]&&(delete ey[t],Bf("PlayVod_VodIds",JSON.stringify(ey)))}function eb(){ey=Gf("PlayVod_VodIds",{});var e=tb();250<e&&nb(e-250)}function tb(){var e=0;for(var t in ey)ey.hasOwnProperty(t)&&e++;return e}function nb(e){var t=0;for(var n in ey){if(!(t<e))break;delete ey[n],t++}Bf("PlayVod_VodIds",JSON.stringify(ey))}function ab(){Nu("scene_channel_panel_bottom"),Vy(!1),Hu("dialog_vod_saved_text",kn+av(1e3*ey["#"+Ur.ChannelVod_vodId])),Vu("dialog_vod_start")}function ib(){Ny(),Nu("dialog_vod_start"),sb(),window.setTimeout(function(){Vu("scene_channel_panel_bottom")},1e3)}function ob(){return Du("dialog_vod_start")}function sb(){lb(),ty=0,db()}function db(){Ju("dialog_vod_"+ty,"dialog_end_icons_focus")}function lb(){Fu("dialog_vod_"+ty,"dialog_end_icons_focus")}function cb(e){ib(),e?(delete ey["#"+Ur.ChannelVod_vodId],Ur.vodOffset=0,ry()):(Ur.vodOffset=ey["#"+Ur.ChannelVod_vodId],$g=1e3*Ur.vodOffset,jy(Ur.vodOffset,Yd,!0),uy())}function rb(e){if(Mg===bh||ob())switch(e.keyCode){case Oa:OE()?ph&&!oE&&(XE(),ph--,JE()):fh&&!Cv()&&Tv()?(oh++,Vv()):Cv()&&!ob()?(Sv(),2===ny?(zv(),5<++Wh&&(Wh=1),qv()):ny||(Ky(-1,Yd),iy=2500),Hy()):ob()?(lb(),ty?ty--:ty++,db()):Wv()?(eg(),Kv(),--tp<0&&(tp=3),1===tp&&(tp=0),Zv()):ob()||Vy(!0);break;case Ua:console.log(ny),OE()?ph<rE-1&&!oE&&(XE(),ph++,JE()):!fh||Cv()||Wv()?Cv()&&!ob()?(Sv(),2===ny?(zv(),--Wh<1&&(Wh=5),qv()):ny||(Ky(1,Yd),iy=2500),Hy()):ob()?(lb(),ty?ty--:ty++,db()):Wv()?(eg(),Kv(),3<++tp&&(tp=0),1===tp&&(tp=2),Zv()):ob()||Vy(!0):Bf("ChatEnable",(xh=Tv()||Wv()?(Lv(),!1):(Pv(),!0))?"true":"false");break;case Ga:Wv()?eg():Cv()&&!ob()?(2===ny&&1!==Wh?(ny--,Fy()):1===ny?(ny--,Fy()):0<Bg&&1===Wh&&(Bg--,zy()),Sv(),Hy()):OE()?OE()?DE():ob()||Vy(!0):GE();break;case Ra:Wv()?eg():Cv()&&!ob()?(ny?1===ny?(ny++,Fy()):Bg<Xy()-1&&1===Wh&&(Bg++,zy()):(ny++,Fy()),Sv(),Hy()):OE()?UE():fh&&Tv()?(4<++ch?Nv(!(ch=1)):4===ch&&Nv(!0),Uv(!0)):ob()||Vy(!0);break;case Na:ob()?cb(ty):Wv()?tg(2):Cv()?ny?1===ny?(Ur.Play_ChatForceDisable&&($p()?qc(yc):zc()),Wv()||Fv(2)):dg(2):(Sv(),Hy(),Yg&&Yy()):OE()?(Uy(!0),ef(ph,yE,yg)):Vy(!0);break;case Va:gg(!0);break;case Ta:case La:case Ba:Ur.Play_ChatForceDisable&&($p()?qc(yc):zc()),Wv()||Fv(2)}else switch(e.keyCode){case Va:gv()?(vv(),Gy()):pv()}}var ub={};function _b(){console.log("InitScreens place holder")}function fb(){$b(),ew(),nw(),aw(),iw(),sw(),dw()}function mb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function hb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function pb(){Qr=-1,Ur.Main_Go=ub.screen,ub.label_init(),document.body.addEventListener("keydown",Ub,!1),Vu(ub.ids[10]),ub.status?(O_(ub.posY),xb(!0),w_()):gb()}function vb(){Qr=0,ub.label_exit(),document.body.removeEventListener("keydown",Ub),Nu(ub.ids[10]),i_()}function gb(){Xu(),P_(ub.table),i_(),ub.cursor=null,ub.status=!1,ub.row=document.createElement("div"),ub.MaxOffset=0,ub.TopRowCreated=!1,ub.offset=0,ub.idObject={},ub.FirstLoad=!0,ub.itemsCount=0,ub.posX=0,ub.posY=0,ub.row_id=0,ub.coloumn_id=0,ub.data=null,ub.data_cursor=0,ub.dataEnded=!1,$u(),yb(),bb()}function yb(){ub.loadingData=!0,ub.loadingDataTry=0,ub.loadingDataTimeout=3500}function bb(){ub.set_url(),Iu&&!ub.itemsCount?Jf(ub.url,ub.loadingDataTimeout,2,null,kb,wb):Ff(ub.url,ub.loadingDataTimeout,2,null,kb,wb,!1)}function wb(){ub.loadingDataTry++,ub.loadingDataTry<ub.loadingDataTryMax?(ub.loadingDataTimeout+=500,bb()):(ub.loadingData=!1,ub.itemsCount?ub.dataEnded=!0:(ub.FirstLoad=!1,ju(),a_(P),ub.key_exit()))}function kb(e){ub.concatenate(e)}function Ab(){var e=ub.data.length-ub.data_cursor;e>ub.ItemsLimit?e=ub.ItemsLimit:ub.loadingData||(ub.dataEnded=!0);var t=document.getElementById(ub.table);if(ub.HasSwitches&&!ub.TopRowCreated){ub.TopRowCreated=!0,ub.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+m;(zr=document.createElement("div")).setAttribute("id",ub.ids[8]+"y_0"),zr.className="stream_cell_period",zr.innerHTML='<div id="'+ub.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+ub.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",ub.row.appendChild(zr),n='<i class="icon-play-1 stream_channel_fallow_icon"></i>'+Ca+Ca+da,(zr=document.createElement("div")).setAttribute("id",ub.ids[8]+"y_1"),zr.className="stream_cell_period",zr.innerHTML='<div id="'+ub.ids[0]+'y_1" class="stream_thumbnail_channel_vod" ><div id="'+ub.ids[3]+'y_1" class="stream_channel_fallow_game">'+n+"</div></div>",ub.row.appendChild(zr),t.appendChild(ub.row)}if(e){var a=Math.ceil(e/ub.ColoumnsCount),i=ub.row_id+a;for(ub.row_id;ub.row_id<i;){for(ub.coloumn_id===ub.ColoumnsCount&&(ub.row=document.createElement("div"),ub.coloumn_id=0),ub.coloumn_id;ub.coloumn_id<ub.ColoumnsCount&&ub.data_cursor<ub.data.length;ub.data_cursor++)ub.data[ub.data_cursor]&&ub.addCell(ub.data[ub.data_cursor]);if(t.appendChild(ub.row),ub.coloumn_id===ub.ColoumnsCount)ub.row_id++;else if(ub.data_cursor>=ub.data.length)break}}ub.emptyContent=!e&&!ub.status,Sb()}function Cb(e,t,n,a){var i=e+"_"+t;return B_(n[1]+i,a),e<ub.ColoumnsCount&&U_(a),(zr=document.createElement("div")).style.cssText=ub.ThumbCssText,i}function Eb(e,t,n,a,i,o){var s=Cb(e,t,n,a);return zr.setAttribute("id",n[5]+s),zr.setAttribute(bu,i),zr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",zr}function Mb(e,t,n,a,i,o,s,d,l,c,r,u,_,f,m,h){var p=Cb(e,t,n,a);return zr.setAttribute("id",n[8]+p),zr.setAttribute(bu,JSON.stringify([r,c,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),zr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+ra+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+nv(c)+"</div></div></div></div>",zr}function Ib(e,t,n,a,i){var o=Cb(e,t,a,i[0]);return zr.setAttribute("id",a[8]+o),zr.setAttribute(bu,JSON.stringify(n)),zr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+FS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",zr}function Sb(){ub.status?(L_(ub.img_404),e_(ub.posX,ub.posY,ub.ColoumnsCount,ub.itemsCount)):(ub.emptyContent?a_(ub.empty_str()):(ub.status=!0,L_(ub.img_404)),Zr&&ub.status&&tA.restor_playback.defaultValue?Ur.Play_WasPlaying?(A_(Ur.Main_Go),Ur.Main_Go=Gr,Ur.vodOffset||(Ur.vodOffset=1),Yd=Ur.vodOffset+1,fv(qn),1===Ur.Play_WasPlaying?tf():of(),y_(!0),window.setTimeout(function(){Qh||mv()},2e3)):1!==Gr?(A_(Ur.Main_Go),Ur.Main_Go=Gr,df(ub.posY+"_"+ub.posX,ub.ids),y_()):(Ur.Never_run&&c_(),Ur.Never_run=!1,xb(),w_()):(xb(),w_()),Zr=!1,ub.FirstLoad=!1,ju())}function xb(e){if(ub.emptyContent){if(!ub.HasSwitches)return void ub.key_exit();ub.posY=-1}if(ub.posY<0)return Lb(),void(ub.emptyContent||e_(ub.posX,ub.posY+1,ub.ColoumnsCount,ub.itemsCount));ub.addFocus(ub.posY,ub.posX,ub.ids,ub.ColoumnsCount,ub.itemsCount,e),2<ub.posY&&ub.data_cursor+qb>ub.data.length&&!ub.dataEnded&&!ub.loadingData?(yb(),bb()):ub.posY+ub.ItemsReloadLimit>ub.itemsCount/ub.ColoumnsCount&&ub.data_cursor<ub.data.length&&(T_(),rf(function(){ub.loadDataSuccess()})),Vr&&df(ub.posY+"_"+ub.posX,ub.ids)}function Pb(e,t){df(ub.posY+"_"+ub.posX,ub.ids),ub.posY+=e,ub.posX=t,xb()}function Lb(){1<ub.posX?ub.posX=0:ub.posX<0&&(ub.posX=1),Ju(ub.ids[0]+"y_"+ub.posX,yu)}function Tb(){1<ub.posX?ub.posX=0:ub.posX<0&&(ub.posX=1),Fu(ub.ids[0]+"y_"+ub.posX,yu)}function Bb(e){u_()?r_():d_()?s_():(e===ub.screen?Ur.Main_Go=fr:Ur.Main_Go=e,vb())}function Ob(e){if(!ub.HasSwitches||ub.posY||-1!==e||ub.emptyContent){if(ub.HasSwitches&&-1===ub.posY&&h_(0,ub.posX,ub.ids[0]))ub.posY=0,xb(),Tb();else for(var t=0;t<ub.ColoumnsCount;t++)if(h_(ub.posY+e,ub.posX-t,ub.ids[0]))return void Pb(e,ub.posX-t)}else df(ub.posY+"_"+ub.posX,ub.ids),ub.posY=-1,1<ub.posX&&(ub.posX=1),Lb()}function Gb(e,t){ub.HasSwitches&&-1===ub.posY?(ub.posY=-1,Tb(),ub.posX++,Lb()):h_(ub.posY,ub.posX+e,ub.ids[0])?Pb(0,ub.posX+e):h_(ub.posY+e,t,ub.ids[0])&&Pb(e,t)}function Ub(e){if(!ub.FirstLoad&&!W_())switch(Y_(),e.keyCode){case Va:ub.key_exit();break;case Oa:Gb(-1,ub.ColoumnsCount-1);break;case Ua:Gb(1,0);break;case Ga:Ob(-1);break;case Ra:Ob(1);break;case Ta:case La:case Ba:case Na:ub.key_play()}}ub.FirstLoad=!1;var Rb,Nb,Vb,Db,Jb,Fb,Hb,qb=100,zb="",Xb="",jb="",Yb="",Wb="",Qb="",Zb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Ab,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){u_()?r_():d_()?s_():(-1<this.posY?df(this.posY+"_"+this.posX,this.ids):Tb(),If(Ub))}},Kb={ThumbSize:32.65,ItemsLimit:tu,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:Z_,img_404:xa,empty_str:function(){return L+W},key_play:function(){ef(this.posY+"_"+this.posX,this.ids,Ub)}};function $b(){(Fb=hb(Fb=hb({ids:mb("Live"),table:"stream_table_live",screen:fr,base_url:"https://api.twitch.tv/kraken/streams?limit="+qb,set_url:function(){this.offset&&this.offset+qb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==jr?"&broadcaster_language="+jr:"")},label_init:function(){Ur.Main_CenterLablesVectorPos=0,Ju("top_bar_live","icon_center_focus")},label_exit:function(){Fu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Ib(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+iv(e.created_at)+" "+h+__(e.viewers)+J,f_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Zb),Kb)).set_ThumbSize()}function ew(){(Hb=hb(Hb=hb({ids:mb("Featured"),table:"stream_table_featured",screen:Br,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+qb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(co()&&Xi[Ur.Users_Position].access_token?"&oauth_token="+Xi[Ur.Users_Position].access_token:"")},label_init:function(){Ur.Main_CenterLablesVectorPos=2,Ju("top_bar_featured","icon_center_focus")},label_exit:function(){Fu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Ib(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+iv(e.created_at)+" "+h+__(e.viewers)+J,f_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Zb),Kb)).set_ThumbSize()}var tw={ThumbSize:32.65,ItemsLimit:tu,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:Z_,cursor:null,period:["day","week","month","all"],img_404:xa,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(wm=!0,Tb(),this.posX=0,this.posY=0,nf(this.posY+"_"+this.posX,this.ids,Ub)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),gb())):nf(this.posY+"_"+this.posX,this.ids,Ub)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Mb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,I_(e.created_at)],[FS.parse(e.title),v,e.game],__(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function nw(){(Rb=hb(Rb=hb({ids:mb("Clip"),table:"stream_table_clip",screen:Pr,periodPos:Of("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+qb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==jr?"&language="+jr:"")},SetPeriod:function(){Hu("top_bar_clip",U+M_(Wr[this.periodPos-1])),Bf("Clip_periodPos",this.periodPos)},label_init:function(){Ur.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ju("top_bar_clip","icon_center_focus"),Ru("label_refresh","icon-refresh",t+jt)},label_exit:function(){C_(),Fu("top_bar_clip","icon_center_focus"),Ru("label_refresh","icon-refresh",t+jt)}},Zb),tw)).set_ThumbSize()}function aw(){(Nb=hb(Nb=hb({ids:mb("ChannelClip"),table:"stream_table_channel_clip",screen:Er,periodPos:Of("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ur.Main_selectedChannel)+"&limit="+qb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Hu("top_bar_game",U+Wr[this.periodPos-1]),Bf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Ur.Main_CenterLablesVectorPos=1,!Ur.Search_isSearching&&Ur.Main_selectedChannel_id&&Od(),Ur.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),E_(),this.SetPeriod(),qu("top_bar_user",Ur.Main_selectedChannelDisplayname),Ru("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Ur.Main_selectedChannel},label_exit:C_},Zb),tw)).set_ThumbSize()}function iw(){(Vb=hb(Vb=hb({ids:mb("AGameClip"),table:"stream_table_a_game_clip",screen:Tr,periodPos:Of("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ur.Main_gameSelected)+"&limit="+qb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==jr?"&language="+jr:"")},SetPeriod:function(){Hu("top_bar_game",b+M_(U+Wr[this.periodPos-1]+": "+Ur.Main_gameSelected)),Bf("AGameClip_periodPos",this.periodPos)},label_init:function(){Ur.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ju("top_bar_game","icon_center_focus"),Ru("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Ur.Main_gameSelected&&(this.status=!1),this.gameSelected=Ur.Main_gameSelected},label_exit:function(){Fu("top_bar_game","icon_center_focus"),Hu("top_bar_game",f),Ru("label_side_panel","icon-ellipsis",Rn)}},Zb),tw)).set_ThumbSize()}var ow={ThumbSize:19.35,ItemsLimit:iu,ItemsReloadLimit:su,ColoumnsCount:ou,addFocus:K_,img_404:Ia,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===yr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===yr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Ur.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(bu),document.body.removeEventListener("keydown",Ub),Ur.Main_BeforeAgame=this.screen,Ur.Main_Go=pr,Ur.Main_BeforeAgameisSet=!0,Bo=!1,Qr=0,document.body.removeEventListener("keydown",Ub),Nu(this.ids[10]),b_(),df(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===hr,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Eb(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",gu),n.name,t?__(e.channels)+" "+E+h+__(e.viewers)+J:"")),this.coloumn_id++)}};function sw(){(Db=hb(Db=hb({ids:mb("Game"),table:"stream_table_games",screen:hr,base_url:"https://api.twitch.tv/kraken/games/top?limit="+qb,set_url:function(){this.offset&&this.offset+qb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Ur.Main_CenterLablesVectorPos=3,Ju("top_bar_game","icon_center_focus")},label_exit:function(){Fu("top_bar_game","icon_center_focus")}},Zb),ow)).set_ThumbSize()}function dw(){(Jb=hb(Jb=hb({ids:mb("UserGames"),table:"stream_table_user_games",screen:yr,isLive:Uf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+qb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Xi[Ur.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+qb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+" "+(this.isLive?Z:zt))),gb(),Bf("user_Games_live",this.isLive?"true":"false"),NM&&XM()},label_init:function(){Ur.Main_CenterLablesVectorPos=1,Ru("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+jt),Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),this.OldUserName!==Xi[Ur.Users_Position].name&&(this.status=!1),this.OldUserName=Xi[Ur.Users_Position].name,Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Ur.Users_Position=0,Fu("top_bar_user","icon_center_focus"),Ru("label_refresh","icon-refresh",t+jt),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn)}},Zb),ow)).set_ThumbSize()}var lw=0,cw=0,rw=!1,uw=0,_w={},fw=[],mw=!1,hw=0,pw=5,vw=3500,gw=0,yw=0,bw=!1,ww=!1,kw="",Aw=!1,Cw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Ew(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=Sr,Ur.isLastSChannels=!0,Ur.Search_isSearching=!0,kw!==Ur.Search_data&&(ww=!1),E_(),Hu("top_bar_user",n+M_(E+" '"+Ur.Search_data+"'")),document.body.addEventListener("keydown",Vw,!1),ww?(O_(lw),Vu(Cw[6]),Rw(),w_()):Iw()}function Mw(){C_(),document.body.removeEventListener("keydown",Vw),Nu(Cw[6])}function Iw(){P_("stream_table_search_channel"),Nu(Cw[6]),Xu(),i_(),kw=Ur.Search_data,ww=!1,_w={},Ef=!(uw=yw=gw=0),lw=cw=0,rw=Aw=!(fw=[]),$u(),Sw(),xw()}function Sw(){T_(),mw=!0,hw=0,vw=3500}function xw(){var e=uw+gw;e&&yw-1<e&&(e=yw-du,rw=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ur.Search_data)+"&limit="+du+"&offset="+e;Iu&&!uw?Jf(t,vw,2,null,Lw,Pw):Ff(t,vw,2,null,Lw,Pw,!1)}function Pw(){++hw<pw?(vw+=500,xw()):(mw=!1,uw?(rw=!0,Bw()):(Ef=!1,ju(),a_(P)))}function Lw(e){var t=JSON.parse(e),n=t.channels.length;yw=parseInt(t._total),n<du&&(rw=!0);var a=uw;bw=!(uw+=n);var i=n/lu;0<n%lu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/lu+_,d=document.createElement("tr"),o=0;o<lu&&r<n;o++,r++)c=(l=t.channels[r])._id,_w[c]?o--:(_w[c]=1,d.appendChild(Tw(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<lu;o++)rw&&!Aw&&(Aw=!0,uw=s*lu+o),d.appendChild(R_(Cw[5]+s+"_"+o)),fw.push(Cw[5]+s+"_"+o);u.appendChild(d)}Bw()}function Tw(e,t,n){return e<4&&U_(n[2]),N_(t,Cw,n)}function Bw(){if(ww){if(L_(Sa),0<fw.length&&!rw)return Sw(),void Ow();Rw(!0),fw=[]}else bw?a_(d):(ww=!0,L_(Sa),Rw(),w_()),Vu(Cw[6]),Ef=!1,ju();mw=!1}function Ow(){n_(fw.length);var e=uw+gw;e&&yw-1<e&&(e=yw-ru,rw=!0),Vf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ur.Search_data)+"&limit="+ru+"&offset="+e,vw,2,null,Uw,Gw)}function Gw(){++hw<pw?(vw+=500,Ow()):(rw=!0,uw-=fw.length,fw=[],Bw())}function Uw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(yw=parseInt(a._total),i<ru&&(rw=!0);o<fw.length&&s<i;o++,s++)n=(t=a.channels[s])._id,_w[n]?o--:(_w[n]=1,V_(fw[o],[t.name,n,t.logo,t.display_name],Cw),d.push(o));for(o=d.length-1;-1<o;o--)fw.splice(d[o],1);gw+=s,rw&&(uw-=fw.length,fw=[]),Bw()}function Rw(e){Q_(lw,cw,Cw,lu,uw,e),uw/lu<lw+cu&&!rw&&!mw&&(Sw(),xw()),Vr&&Nw()}function Nw(){uw&&df(lw+"_"+cw,Cw)}function Vw(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(Nw(),If(Vw));break;case Oa:if(h_(lw,cw-1,Cw[0]))Nw(),cw--,Rw();else for(t=lu-1;-1<t;t--)if(h_(lw-1,t,Cw[0])){Nw(),lw--,cw=t,Rw();break}break;case Ua:h_(lw,cw+1,Cw[0])?(Nw(),cw++,Rw()):h_(lw+1,0,Cw[0])&&(Nw(),lw++,cw=0,Rw());break;case Ga:for(t=0;t<lu;t++)if(h_(lw-1,cw-t,Cw[0])){Nw(),lw--,cw-=t,Rw();break}break;case Ra:for(t=0;t<lu;t++)if(h_(lw+1,cw-t,Cw[0])){Nw(),lw++,cw-=t,Rw();break}break;case Ta:case La:case Ba:case Na:Ur.Main_selectedChannel=document.getElementById(Cw[4]+lw+"_"+cw).getAttribute(bu),Ur.Main_selectedChannel_id=document.getElementById(Cw[4]+lw+"_"+cw).getAttribute("data-id"),Ur.Main_selectedChannelDisplayname=document.getElementById(Cw[3]+lw+"_"+cw).textContent,document.body.removeEventListener("keydown",Vw),Ur.Main_BeforeChannel=Sr,Ur.Main_Go=Ar,Ur.Main_BeforeChannelisSet=!0,Qs=Ya=!1,Nu(Cw[6]),y_()}}var Dw=!1,Jw=0,Fw=0,Hw=0,qw=0,zw=5,Xw=3500,jw=0,Yw=0,Ww=!1,Qw=!1,Zw="",Kw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function $w(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=wr,Ur.Search_isSearching=!0,E_(),Zw!==Ur.Search_data&&(Dw=!1),Hu("top_bar_user",n+M_(f+" '"+Ur.Search_data+"'")),document.body.addEventListener("keydown",rk,!1),Dw?(O_(Jw),Vu(Kw[7]),lk(),w_()):tk()}function ek(){Ur.Search_isSearching||C_(),document.body.removeEventListener("keydown",rk),Ur.Games_return=!1,Nu(Kw[7])}function tk(){P_("stream_table_search_game"),Nu(Kw[7]),Xu(),i_(),Zw=Ur.Search_data,Qw=Dw=!1,Jw=Fw=Hw=Yw=jw=0,$u(),nk(),ak()}function nk(){T_(),Ef=!0,qw=0,Xw=3500}function ak(){Vf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Ur.Search_data),Xw,2,null,ok,ik)}function ik(){++qw<zw?(Xw+=500,ak()):(Ef=!1,Hw?dk():(ju(),a_(P)))}function ok(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Hw;Ww=!(Hw+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/ou+u,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)l=t.games[c],d.appendChild(sk(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",gu),""]));for(;o<ou;o++)Qw||(Qw=!0,Hw=s*ou+o),d.appendChild(R_(Kw[6]+s+"_"+o));r.appendChild(d)}dk()}function sk(e,t,n){return e<2&&U_(n[1]),q_(t,Kw,n)}function dk(){Dw||(Ww?a_(d):(Dw=!0,L_(xa),lk(),w_()),ju()),Vu(Kw[7]),Ef=!1,e_(Fw,Jw,ou,Hw)}function lk(){K_(Jw,Fw,Kw,ou,Hw),Vr&&ck()}function ck(){Hw&&df(Jw+"_"+Fw,Kw)}function rk(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(ck(),If(rk));break;case Oa:if(h_(Jw,Fw-1,Kw[0]))ck(),Fw--,lk();else for(t=ou-1;-1<t;t--)if(h_(Jw-1,t,Kw[0])){ck(),Jw--,Fw=t,lk();break}break;case Ua:h_(Jw,Fw+1,Kw[0])?(ck(),Fw++,lk()):h_(Jw+1,0,Kw[0])&&(ck(),Jw++,Fw=0,lk());break;case Ga:for(t=0;t<ou;t++)if(h_(Jw-1,Fw-t,Kw[0])){ck(),Jw--,Fw-=t,lk();break}break;case Ra:for(t=0;t<ou;t++)if(h_(Jw+1,Fw-t,Kw[0])){ck(),Jw++,Fw-=t,lk();break}break;case Ta:case La:case Ba:case Na:Ur.gameSelectedOld=Ur.Main_gameSelected,ek(),Ur.Main_gameSelected=document.getElementById(Kw[5]+Jw+"_"+Fw).getAttribute(bu),document.body.removeEventListener("keydown",rk),Ur.Main_Go=pr,Ur.Games_return=!0,y_()}}var uk=0,_k=0,fk=!1;function mk(){i_(),Nu("label_refresh"),Ru("label_side_panel","icon-arrow-circle-left",I),qu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",nr.placeholder=w,Ju("top_bar_user","icon_center_focus"),Vu("search_scroll"),_k=uk=0,vk(),yk()}function hk(){bk(!1),document.body.removeEventListener("keydown",gk),vk(),Ur.Main_Go=Ur.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",qu("top_bar_user",u),Fu("top_bar_user","icon_center_focus"),Ru("label_side_panel","icon-ellipsis",Rn),Vu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",nr.value="",Nu("search_scroll")}function pk(){hk(),rf(function(){_k?1===_k?$w():2===_k&&Dk():Ew()})}function vk(){Fu("chanel_button","button_search_focused"),Fu("game_button","button_search_focused"),Fu("live_button","button_search_focused"),uk&&(_k?1===_k?Ju("game_button","button_search_focused"):2===_k&&Ju("live_button","button_search_focused"):Ju("chanel_button","button_search_focused"))}function gk(e){if(!fk)switch(e.keyCode){case Va:u_()?r_():d_()?s_():(hk(),y_());break;case Oa:1===uk&&(--_k<0&&(_k=2),vk());break;case Ua:1===uk&&(2<++_k&&(_k=0),vk());break;case Ga:1===uk&&(uk=0,vk(),yk());break;case Ra:uk?1===uk&&(uk=0,vk(),yk()):(bk(!1),uk=1,vk());break;case Ta:case La:case Ba:case Na:uk?""!==nr.value&&null!==nr.value?(Ur.Search_data=nr.value,nr.value="",pk()):(a_(s),window.setTimeout(function(){i_()},1e3)):yk()}}function yk(){document.body.removeEventListener("keydown",gk),document.body.addEventListener("keydown",kk,!1),nr.placeholder=w,nr.focus(),fk=!0}function bk(e){nr.blur(),wk(),document.body.removeEventListener("keydown",kk),nr.placeholder=C+w,e&&document.body.addEventListener("keydown",gk,!1),fk=!1}function wk(){if(null!==nr){var e=nr.cloneNode(!0);nr.parentNode.replaceChild(e,nr),nr=document.getElementById("search_input")}}function kk(e){switch(e.keyCode){case Va:d_()?s_():u_()?r_():(hk(),y_());break;case Ha:nr.value="";break;case Ja:case Ra:bk(!0),uk=1,vk();break;case Da:nr.value=nr.value.slice(0,-1);break;case Fa:nr.value+=" "}}var Ak=0,Ck=0,Ek=!1,Mk=0,Ik={},Sk=[],xk=!1,Pk=0,Lk=5,Tk=3500,Bk=0,Ok=0,Gk=!1,Uk=!1,Rk=!1,Nk="",Vk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Dk(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=kr,Ur.Search_isSearching=!0,E_(),Nk!==Ur.Search_data&&(Uk=!1),Hu("top_bar_user",n+M_(_+" '"+Ur.Search_data+"'")),document.body.addEventListener("keydown",$k,!1),Uk?(O_(Ak),Vu(Vk[10]),Zk(),w_()):Fk()}function Jk(){C_(),document.body.removeEventListener("keydown",$k),Nu(Vk[10])}function Fk(){P_("stream_table_search_live"),Nu(Vk[10]),Xu(),i_(),Nk=Ur.Search_data,Uk=!1,Ef=!(Rk=!(Sk=[])),Ak=Ck=Mk=Ok=Bk=0,Ek=!(Ik={}),$u(),Hk(),qk()}function Hk(){T_(),xk=!0,Pk=0,Tk=3500}function qk(){var e=Mk+Bk;e&&Ok-1<e&&(e=Ok-tu,Ek=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ur.Search_data)+"&limit="+tu+"&offset="+e;Iu&&!Mk?Jf(t,Tk,2,null,Xk,zk):Ff(t,Tk,2,null,Xk,zk,!1)}function zk(){++Pk<Lk?(Tk+=500,qk()):(xk=!1,Mk?(Ek=!0,jk()):(Ef=!1,ju(),a_(P)))}function Xk(e){var t=JSON.parse(e),n=t.streams.length;Ok=parseInt(t._total),n<tu&&(Ek=!0);var a=Mk;Gk=!(Mk+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/nu+_,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,Ik[c]?o--:(Ik[c]=1,d.appendChild(J_(s,s+"_"+o,[l.channel.name,c],Vk,[l.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+iv(l.created_at)+" "+h+__(l.viewers)+J,f_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<nu;o++)Ek&&!Rk&&(Rk=!0,Mk=s*nu+o),d.appendChild(R_(Vk[9]+s+"_"+o)),Sk.push(Vk[9]+s+"_"+o);u.appendChild(d)}jk()}function jk(){if(Uk){if(L_(xa),0<Sk.length&&!Ek)return Hk(),void Yk();Zk(!0),Sk=[]}else Gk?a_(d):(Uk=!0,L_(xa),Zk(),w_()),Vu(Vk[10]),Ef=!1,ju();xk=!1}function Yk(){n_(Sk.length);var e=Mk+Bk;e&&Ok-1<e&&(e=Ok-ru,Ek=!0),Vf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ur.Search_data)+"&limit="+ru+"&offset="+e,Tk,2,null,Qk,Wk)}function Wk(){++Pk<Lk?(Tk+=500,Yk()):(Ek=!0,Mk-=Sk.length,Sk=[],jk())}function Qk(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Ok=parseInt(a._total),i<ru&&(Ek=!0);o<Sk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,Ik[n]?o--:(Ik[n]=1,F_(Sk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+iv(t.created_at)+" "+h+__(t.viewers)+J,f_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Vk),d.push(o));for(o=d.length-1;-1<o;o--)Sk.splice(d[o],1);Bk+=s,Ek&&(Mk-=Sk.length,Sk=[]),jk()}function Zk(e){Z_(Ak,Ck,Vk,nu,Mk,e),Mk/nu<Ak+au&&!Ek&&!xk&&(Hk(),qk()),Vr&&Kk()}function Kk(){Mk&&df(Ak+"_"+Ck,Vk)}function $k(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(Kk(),If($k));break;case Oa:if(h_(Ak,Ck-1,Vk[0]))Kk(),Ck--,Zk();else for(t=nu-1;-1<t;t--)if(h_(Ak-1,t,Vk[0])){Kk(),Ak--,Ck=t,Zk();break}break;case Ua:h_(Ak,Ck+1,Vk[0])?(Kk(),Ck++,Zk()):h_(Ak+1,0,Vk[0])&&(Kk(),Ak++,Ck=0,Zk());break;case Ga:for(t=0;t<nu;t++)if(h_(Ak-1,Ck-t,Vk[0])){Kk(),Ak--,Ck-=t,Zk();break}break;case Ra:for(t=0;t<nu;t++)if(h_(Ak+1,Ck-t,Vk[0])){Kk(),Ak++,Ck-=t,Zk();break}break;case Ta:case La:case Ba:case Na:ef(Ak+"_"+Ck,Vk,$k)}}var eA=0,tA={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:nA(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function nA(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+nv(t)),t-=900;for(e.push(nv(0)),t=900,n=0;n<48;n++)e.push(nv(t)),t+=900;return e}var aA=[],iA=0;function oA(){g_(),Nu("label_side_panel"),Ru("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",CA,!1),qu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ju("top_bar_user","icon_center_focus"),Vu("settings_scroll"),vA(eA=0),uA("content_lang",jn,MA)}function sA(){document.body.removeEventListener("keydown",CA),Vu("label_side_panel"),gA(),qu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Fu("top_bar_user","icon_center_focus"),Ru("label_refresh","icon-refresh",t+jt),Nu("settings_scroll")}function dA(){var e,t="";t+=lA("general",gn),e="content_lang",aA.push(e),tA[e].values=[Yn],t+=rA(e,jn,""),e="clock_offset",aA.push(e),t+=cA(e,zn),e="restor_playback",aA.push(e),tA[e].values=[Pn,xn],t+=rA(e,Ln,Tn),e="videos_animation",aA.push(e),tA[e].values=[Pn,xn],t+=cA(e,Un),t+=lA("play",_n),e="chat_font_size",aA.push(e),t+=rA(e,Bn,On),e="chat_brightness",aA.push(e),t+=cA(e,aa),e="force_disable_chat",aA.push(e),tA[e].values=[Ft,L],t+=rA(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",aA.push(e),t+=cA(e,hn),e="buffer_vod",aA.push(e),t+=cA(e,pn),e="buffer_clip",aA.push(e),Hu("settings_main",t+=cA(e,vn)),iA=aA.length,OA()}function lA(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function cA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+mA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function rA(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+mA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function uA(e,t,n){Hu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function _A(){var e="";for(e in qu("setting_title_general",gn),qu((e="clock_offset")+"_name",zn),qu((e="content_lang")+"_name",jn),qu(e,mA(e)),tA[e].values=[Yn],qu("setting_title_play",_n),qu("setting_title_buffers",fn),qu("setting_title_buffers_summary",mn),qu((e="buffer_live")+"_name",hn),qu((e="buffer_vod")+"_name",pn),qu((e="buffer_clip")+"_name",vn),uA(e="restor_playback",Ln,Tn),tA[e].values=[Pn,xn],uA(e="chat_font_size",Bn,On),uA(e="force_disable_chat",ta,na),tA[e].values=[Pn,xn],qu((e="videos_animation")+"_name",Un),tA[e].values=[Pn,xn],qu((e="chat_brightness")+"_name",aa),tA)tA.hasOwnProperty(e)&&qu(e,mA(e));BA()}function fA(){for(var e in tA)tA[e].defaultValue=Of(e,tA[e].defaultValue),tA[e].defaultValue-=1,tA[e].defaultValue>pA(e)&&(tA[e].defaultValue=0);kA(0),AA(),lh=(.05*hA("chat_brightness")).toFixed(2),rS=hA("videos_animation"),Ur.Play_ChatForceDisable=hA("force_disable_chat")}function mA(e){return tA[e].values[hA(e)]}function hA(e){return tA[e].defaultValue}function pA(e){return tA[e].values.length-1}function vA(e){var t=aA[eA];Ju(t,"settings_value_focus"),Ju(t+"_div","settings_div_focus"),bA(e)}function gA(){var e=aA[eA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Fu(e,"settings_value_focus"),Fu(e+"_div","settings_div_focus")}function yA(e){var t=aA[e];Bf(t,hA(t)+1),qu(t,mA(t)),bA(e),wA(e)}function bA(e){var t=aA[e];if(pA(t)){var n=hA(t),a=pA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function wA(e){"videos_animation"===(e=aA[e])?rS=hA("videos_animation"):"buffer_live"===e?kA(1):"buffer_vod"===e?kA(2):"buffer_clip"===e?kA(3):"chat_brightness"===e?(lh=(.05*hA("chat_brightness")).toFixed(2),Rv(!1)):"force_disable_chat"===e?Ur.Play_ChatForceDisable=hA("force_disable_chat"):"chat_font_size"===e?Cp():"clock_offset"===e&&(AA(),ff())}function kA(e){try{e?1===e?(vh=1e3*mA("buffer_live"),Iu&&Android.SetBuffer(1,vh)):2===e?(Rg=1e3*mA("buffer_vod"),Iu&&Android.SetBuffer(2,Rg)):3===e&&(mm=1e3*mA("buffer_clip"),Iu&&Android.SetBuffer(3,mm)):(vh=1e3*mA("buffer_live"),Rg=1e3*mA("buffer_vod"),mm=1e3*mA("buffer_clip"),Iu&&(Android.SetBuffer(1,vh),Android.SetBuffer(2,Rg),Android.SetBuffer(3,mm)))}catch(e){}}function AA(){var e=hA("clock_offset");Mu=e<48?-9e5*(48-e):9e5*(e-48)}function CA(e){var t;switch(e.keyCode){case Va:d_()?s_():u_()?r_():(sA(),y_());break;case Oa:0<hA(t=aA[eA])&&(tA[t].defaultValue-=1,yA(eA));break;case Ua:hA(t=aA[eA])<pA(t)&&(tA[t].defaultValue+=1,yA(eA));break;case Ga:0<eA&&(gA(),vA(--eA));break;case Ra:eA<iA-1&&(gA(),vA(++eA));break;case Na:eA||PA()}}var EA=0,MA="",IA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},SA=[],xA=0;function PA(){g_(),document.body.removeEventListener("keydown",CA),Nu("settings_main"),Vu("settings_lang"),zA(),qu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",XA,!1),DA(EA=0),TA()}function LA(){document.body.removeEventListener("keydown",XA),document.body.addEventListener("keydown",CA,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Vu("settings_main"),Nu("settings_lang"),qu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",JA(),BA(),TA()}function TA(){""===jr&&(MA=Wn,IA.All.defaultValue=1,HA(0),Ju(SA[0],"strokedextraminired"),zA()),uA("content_lang",jn,MA)}function BA(){if(jr="",!NA("All")){for(var e in IA)NA(e)&&(jr+=","+IA[e].set_values);jr=jr.slice(1)}MA=""===jr?Wn:jr.toUpperCase()}function OA(){var e="";for(var t in IA)SA.push(t),IA[t].values=[L,Ft],e+=GA(t,t);Hu("settings_lang",e),xA=SA.length}function GA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(NA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+RA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function UA(){for(var e in IA)IA[e].defaultValue=Of(e,IA[e].defaultValue),IA[e].defaultValue-=1;BA()}function RA(e){return IA[e].values[NA(e)]}function NA(e){return IA[e].defaultValue}function VA(e){return IA[e].values.length-1}function DA(e){var t=SA[EA];Ju(t,"settings_value_focus"),Ju(t+"_div","settings_div_focus"),qA(e),FA(t)}function JA(){var e=SA[EA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Fu(e,"settings_value_focus"),Fu(e+"_div","settings_div_focus")}function FA(){var e=screen.height;7<EA?(e*=.093,e+=-1*document.getElementById(SA[EA-7]).offsetTop):e*=.077,EA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function HA(e){var t=SA[e];Bf(t,NA(t)+1),qu(t,RA(t)),qA(e)}function qA(e){var t=SA[e],n=NA(t),a=VA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function zA(){for(var e in IA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=NA("All")?"none":"inline-block")}function XA(e){var t;switch(e.keyCode){case Va:LA();break;case Oa:0<NA(t=SA[EA])&&(IA[t].defaultValue-=1,HA(EA),Fu(SA[EA],"strokedextraminired"),-1!==t.indexOf("All")&&zA());break;case Ua:NA(t=SA[EA])<VA(t)&&(IA[t].defaultValue+=1,HA(EA),Ju(SA[EA],"strokedextraminired"),-1!==t.indexOf("All")&&zA());break;case Ga:0<EA&&(JA(),DA(--EA));break;case Ra:!NA("All")&&EA<xA-1&&(JA(),DA(++EA))}}var jA=0,YA=0,WA=!1,QA=0,ZA=!1,KA=0,$A=5,eC=3500,tC=[],nC=0,aC=0,iC=!1,oC=!1,sC="",dC=!1,lC={},cC=[],rC=0,uC=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function _C(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=Ir,Ur.isLastSChannels=!1,Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+K)),document.body.addEventListener("keydown",MC,!1),sC!==Xi[Ur.Users_Position].name&&(oC=!1),oC?(O_(jA),Vu(uC[6]),CC(),w_()):mC()}function fC(){Ur.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",MC),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn),Nu(uC[6])}function mC(){P_("stream_table_user_channels"),Nu(uC[6]),Xu(),i_(),sC=Xi[Ur.Users_Position].name,oC=!1,lC={},jA=YA=QA=rC=nC=aC=0,Ef=!(dC=WA=!(cC=[])),$u(),tC=[],hC(),pC()}function hC(){T_(),ZA=!0,KA=0,eC=3500}function pC(){var e=QA+aC;e&&rC-1<e&&(e=rC-du,WA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Ur.Users_Position].id)+"/follows/channels?limit="+du+"&offset="+e+"&sortby=login&direction=asc";Iu&&!QA?Jf(t,eC,2,null,gC,vC):Ff(t,eC,2,null,gC,vC,!1)}function vC(){++KA<$A?(eC+=500,pC()):(ZA=!1,QA?(WA=!0,bC()):(Ef=!1,ju(),a_(P),If(MC)))}function gC(e){var t=JSON.parse(e),n=t.follows.length;rC=parseInt(t._total),n<du&&(WA=!0);var a=QA;iC=!(QA+=n);var i=n/lu;0<n%lu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/lu+_,d=document.createElement("tr"),o=0;o<lu&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,lC[c]?o--:(lC[c]=1,d.appendChild(yC(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<lu;o++)WA&&!dC&&(dC=!0,QA=s*lu+o),d.appendChild(R_(uC[5]+s+"_"+o)),cC.push(uC[5]+s+"_"+o);u.appendChild(d)}bC()}function yC(e,t,n){return e<4&&U_(n[2]),N_(t,uC,n)}function bC(){if(oC){if(L_(Sa),0<cC.length&&!WA)return hC(),void wC();CC(!0),cC=[]}else iC?(a_(L+K),If(MC)):(oC=!0,L_(Sa),CC(),w_()),Vu(uC[6]),Ef=!1,ju();ZA=!1}function wC(){n_(cC.length);var e=QA+aC;e&&rC-1<e&&(e=rC-ru,WA=!0),Vf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Ur.Users_Position].id)+"/follows/channels?limit="+ru+"&offset="+nC+"&sortby=login&direction=asc",eC,2,null,AC,kC)}function kC(){++KA<$A?(eC+=500,wC()):(WA=!0,QA-=cC.length,cC=[],bC())}function AC(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(rC=parseInt(a._total),i<ru&&(WA=!0);o<cC.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,lC[n]?o--:(lC[n]=1,V_(cC[o],[t.name,n,t.logo,t.display_name],uC),d.push(o));for(o=d.length-1;-1<o;o--)cC.splice(d[o],1);aC+=s,WA&&(QA-=cC.length,cC=[]),bC()}function CC(e){Q_(jA,YA,uC,lu,QA,e),QA/lu<jA+cu&&!WA&&!ZA&&(hC(),pC()),Vr&&EC()}function EC(){QA&&df(jA+"_"+YA,uC)}function MC(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(EC(),If(MC));break;case Oa:if(h_(jA,YA-1,uC[0]))EC(),YA--,CC();else for(t=lu-1;-1<t;t--)if(h_(jA-1,t,uC[0])){EC(),jA--,YA=t,CC();break}break;case Ua:h_(jA,YA+1,uC[0])?(EC(),YA++,CC()):h_(jA+1,0,uC[0])&&(EC(),jA++,YA=0,CC());break;case Ga:for(t=0;t<lu;t++)if(h_(jA-1,YA-t,uC[0])){EC(),jA--,YA-=t,CC();break}break;case Ra:for(t=0;t<lu;t++)if(h_(jA+1,YA-t,uC[0])){EC(),jA++,YA-=t,CC();break}break;case Ta:case La:case Ba:case Na:if($_(jA+"_"+YA,uC[0]))return;Ur.Main_selectedChannel=document.getElementById(uC[4]+jA+"_"+YA).getAttribute(bu),Ur.Main_selectedChannel_id=document.getElementById(uC[4]+jA+"_"+YA).getAttribute("data-id"),Ur.Main_selectedChannelDisplayname=document.getElementById(uC[3]+jA+"_"+YA).textContent,Ur.Main_selectedChannelLogo=document.getElementById(uC[1]+jA+"_"+YA).src,document.body.removeEventListener("keydown",MC),Ur.Main_BeforeChannel=Ir,Ur.Main_Go=Ar,Ur.Main_BeforeChannelisSet=!0,Qs=Ya=!0,Nu(uC[6]),y_()}}var IC=0,SC=0,xC=!1,PC=0,LC={},TC=[],BC=!1,OC=0,GC=5,UC=3500,RC=0,NC=0,VC=!1,DC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],JC=!1,FC="",HC=!1;function qC(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=gr,Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+Q)),document.body.addEventListener("keydown",aE,!1),FC!==Xi[Ur.Users_Position].name&&(JC=!1),JC?(O_(IC),Vu(DC[10]),tE(),w_()):XC()}function zC(){Ur.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",aE),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn),Nu(DC[10])}function XC(){P_("stream_table_user_host"),Nu(DC[10]),Xu(),i_(),FC=Xi[Ur.Users_Position].name,JC=!1,LC={},Ef=!(PC=NC=RC=0),IC=SC=0,xC=HC=!(TC=[]),$u(),jC(),YC()}function jC(){T_(),BC=!0,OC=0,UC=3500}function YC(){var e=PC+RC;e&&NC-1<e&&(e=NC-tu,xC=!0),Df("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Ur.Users_Position].name)+"/followed/hosting?limit="+tu+"&offset="+e,UC,2,null,QC,WC,!1,!PC)}function WC(){++OC<GC?(UC+=500,YC()):(BC=!1,PC?(xC=!0,ZC()):(Ef=!1,ju(),a_(P),If(aE)))}function QC(e){var t=JSON.parse(e),n=t.hosts.length;NC=parseInt(t._total),n<tu&&(xC=!0);var a=PC;VC=!(PC+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/nu+_,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,LC[c]?o--:(LC[c]=1,d.appendChild(J_(s,s+"_"+o,[l.target.channel.name,l.target._id],DC,[l.target.preview_urls.template.replace("{width}x{height}",vu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+__(l.target.viewers)+J,""])));for(;o<nu;o++)xC&&!HC&&(HC=!0,PC=s*nu+o),d.appendChild(R_(DC[9]+s+"_"+o)),TC.push(DC[9]+s+"_"+o);u.appendChild(d)}ZC()}function ZC(){if(JC){if(L_(xa),0<TC.length&&!xC)return jC(),void KC();tE(!0),TC=[]}else VC?(a_(L+Q),If(aE)):(JC=!0,tE(),L_(xa),w_()),Vu(DC[10]),Ef=!1,ju();BC=!1}function KC(){n_(TC.length);var e=PC+RC;e&&NC-1<e&&(e=NC-ru,xC=!0),Vf("https://api.twitch.tv/api/users/"+encodeURIComponent(Xi[Ur.Users_Position].name)+"/followed/hosting?limit="+ru+"&offset="+e,UC,2,null,eE,$C)}function $C(){++OC<GC?(UC+=500,KC()):(xC=!0,PC-=TC.length,TC=[],ZC())}function eE(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(NC=parseInt(a._total),i<ru&&(xC=!0);o<TC.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,LC[n]?o--:(LC[n]=1,F_(TC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",vu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+__(t.target.viewers)+J,""],DC),d.push(o));for(o=d.length-1;-1<o;o--)TC.splice(d[o],1);RC+=s,xC&&(PC-=TC.length,TC=[]),ZC()}function tE(e){Z_(IC,SC,DC,nu,PC,e),PC/nu<IC+au&&!xC&&!BC&&(jC(),YC()),Vr&&nE()}function nE(){PC&&df(IC+"_"+SC,DC)}function aE(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(nE(),If(aE));break;case Oa:if(h_(IC,SC-1,DC[0]))nE(),SC--,tE();else for(t=nu-1;-1<t;t--)if(h_(IC-1,t,DC[0])){nE(),IC--,SC=t,tE();break}break;case Ua:h_(IC,SC+1,DC[0])?(nE(),SC++,tE()):h_(IC+1,0,DC[0])&&(nE(),IC++,SC=0,tE());break;case Ga:for(t=0;t<nu;t++)if(h_(IC-1,SC-t,DC[0])){nE(),IC--,SC-=t,tE();break}break;case Ra:for(t=0;t<nu;t++)if(h_(IC+1,SC-t,DC[0])){nE(),IC++,SC-=t,tE();break}break;case Ta:case La:case Ba:case Na:ef(IC+"_"+SC,DC,aE)}}var iE,oE=!1,sE=0,dE=3500,lE=0,cE=5,rE=0,uE=!1,_E="",fE=0,mE={},hE=!1,pE=[],vE=null,gE=null,yE=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function bE(){co()&&(NE(),hE?zE(ph,yE[0])&&(vE=JSON.parse(document.getElementById(yE[8]+ph).getAttribute(bu))[0]):vE=null,P_("user_feed_scroll"),hE=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Vu("dialog_loading_feed"),_E="",ph=fE=rE=lE=0,mE={},pE=[],rf(function(){CE(),wE()}))}function wE(){(gE=Xi[Ur.Users_Position].access_token)?(gE=hu+gE,SE()):(CE(),gE=null,EE())}function kE(e){for(var t,n=0;n<pE.length;n++)null!==(t=document.getElementById(pE[n].id))&&Pu(t,pE[n].src+Su,e)}function AE(e,t){pE.push({id:e,src:t})}function CE(){oE=!0,sE=0,dE=3500}function EE(){Ff("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Ur.Users_Position].id)+"/follows/channels?limit=100&offset="+lE+"&sortby=created_at",dE,2,null,IE,ME,!1)}function ME(){++sE<cE?(dE+=500,EE()):(oE=!1,rE?(uE=!0,TE()):(Nu("dialog_loading_feed"),OE()&&(fv(P),window.setTimeout(function(){mv()},2e3))))}function IE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===_E.indexOf(a)&&(_E+=a);lE+=n,CE(),EE()}else _E=_E.slice(0,-1),CE(),rf(SE)}function SE(){var e="https://api.twitch.tv/kraken/streams/";e+=gE?"followed?":"?channel="+encodeURIComponent(_E)+"&",xE(e+="limit=100&offset=0&stream_type=all")}function xE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=dE,t.setRequestHeader(_u,uu),t.setRequestHeader(fu,pu),gE&&t.setRequestHeader(mu,gE),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?LE(t.responseText):!gE||401!==t.status&&403!==t.status?PE():ni(Ur.Users_Position,0,wE,wE))},t.send(null)}function PE(){++sE<cE?(dE+=500,SE()):(oE=!1,Nu("dialog_loading_feed"),OE()&&(fv(P),window.setTimeout(function(){mv()},2e3)))}function LE(e){var t=JSON.parse(e),n=t.streams.length;n<tu&&(uE=!0),rE+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,mE[i]||(mE[i]=1,null!==vE&&vE===a.channel.name&&(ph=s),o.appendChild(BE(s,[a.channel.name,i],yE,[a.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+iv(a.created_at)+" "+h+__(a.viewers)+J,f_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));TE()}function TE(){hE=!(oE=!1),kE(xa),rf(function(){Nu("dialog_loading_feed"),JE()})}function BE(e,t,n,a){return AE(n[1]+e,a[0]),(zr=document.createElement("div")).setAttribute("id",n[8]+e),zr.setAttribute(bu,JSON.stringify(t)),zr.className="user_feed_thumb",zr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",zr}function OE(){return Du("user_feed")}function GE(){var e=co();e&&(hh!==Xi[Ur.Users_Position].name&&(hE=!1),hh=Xi[Ur.Users_Position].name),e&&zE(0,yE[0])||(hE=!1),hE||oE||bE(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Vu("user_feed"),JE())}function UE(){Nu("user_feed")}function RE(){NE(),VE()}function NE(){window.clearTimeout(iE)}function VE(){OE()&&(iE=window.setTimeout(UE,5500))}function DE(){NE(),oE?window.setTimeout(function(){oE=!1},15e3):bE()}function JE(){RE(),zE(ph,yE[0])&&(Ju(yE[0]+ph,"feed_thumbnail_focused"),OE()?HE():Du("scene2")&&qE())}function FE(){return ph<3?2.5:zE(ph+2,yE[0])?-1*document.getElementById(yE[8]+(ph-2)).offsetLeft:zE(ph+1,yE[0])?-1*document.getElementById(yE[8]+(ph-3)).offsetLeft:-1*document.getElementById(yE[8]+(ph-(3<ph?4:3))).offsetLeft}function HE(){var e=FE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function qE(){document.getElementById("user_feed").style.bottom="-1000%",Vu("user_feed");var e=HE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Nu("user_feed")}function zE(e,t){return null!==document.getElementById(t+e)}function XE(){zE(ph,yE[0])&&Fu(yE[0]+ph,"feed_thumbnail_focused")}var jE=0,YE=0,WE=!1,QE=0,ZE={},KE=[],$E=!1,eM=0,tM=5,nM=3500,aM=0,iM=0,oM=0,sM=!1,dM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],lM=!1,cM="",rM="",uM=!1,_M=null;function fM(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=vr,Ru("label_side_panel","icon-arrow-circle-left",I),Ju("top_bar_user","icon_center_focus"),Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+W)),document.body.addEventListener("keydown",LM,!1),rM!==Xi[Ur.Users_Position].name&&(lM=!1),lM?(O_(jE),Vu(dM[10]),xM(),w_()):hM()}function mM(){Ur.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",LM),qu("top_bar_user",u),Ru("label_side_panel","icon-ellipsis",Rn),Nu(dM[10])}function hM(){P_("stream_table_user_live"),Nu(dM[10]),Xu(),i_(),lM=!1,rM=Xi[Ur.Users_Position].name,Ef=!(uM=!(KE=[])),jE=YE=QE=iM=aM=oM=0,WE=!(ZE={}),cM="",$u(),vM(),pM()}function pM(){(_M=Xi[Ur.Users_Position].access_token)?(_M=hu+_M,wM()):(_M=null,vM(),gM())}function vM(){T_(),$E=!0,eM=0,nM=3500}function gM(){Vf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Xi[Ur.Users_Position].id)+"/follows/channels?limit=100&offset="+oM+"&sortby=created_at",nM,2,null,bM,yM)}function yM(){++eM<tM?(nM+=500,gM()):($E=!1,QE?(WE=!0,EM()):(Ef=!1,ju(),a_(P),If(LM)))}function bM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===cM.indexOf(a)&&(cM+=a);oM+=n,vM(),gM()}else cM=cM.slice(0,-1),vM(),wM()}function wM(){var e=QE+aM;e&&iM-1<e&&(e=iM-tu,WE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=_M?"followed?":"?channel="+encodeURIComponent(cM)+"&",kM(t+="limit="+tu+"&offset="+e+"&stream_type=all",CM,AM,pM)}function kM(e,t,n,a){var i;if(Iu&&!QE){if(!(i=Android.mreadUrl(e,nM,_M?3:2,_M)))return void xI();200===(i=JSON.parse(i)).status?t(i.responseText):!_M||401!==i.status&&403!==i.status?n():ni(Ur.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=nM,i.setRequestHeader(_u,uu),i.setRequestHeader(fu,pu),_M&&i.setRequestHeader(mu,_M),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!_M||401!==i.status&&403!==i.status?n():ni(Ur.Users_Position,0,a,a))},i.send(null)}function AM(){++eM<tM?(nM+=500,wM()):($E=!1,QE?(WE=!0,EM()):(Ef=!1,ju(),a_(P),If(LM)))}function CM(e){var t=JSON.parse(e),n=t.streams.length;iM=parseInt(t._total),n<tu&&(WE=!0);var a=QE;sM=!(QE+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/nu+_,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,ZE[c]?o--:(ZE[c]=1,d.appendChild(J_(s,s+"_"+o,[l.channel.name,c],dM,[l.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+iv(l.created_at)+" "+h+__(l.viewers)+J,f_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<nu;o++)WE&&!uM&&(uM=!0,QE=s*nu+o),d.appendChild(R_(dM[9]+s+"_"+o)),KE.push(dM[9]+s+"_"+o);u.appendChild(d)}EM()}function EM(){if(lM){if(L_(xa),0<KE.length&&!WE)return vM(),void MM();xM(!0),KE=[]}else sM?(If(LM),a_(L+W)):(lM=!0,xM(),L_(xa),w_()),Vu(dM[10]),Ef=!1,ju();$E=!1}function MM(){n_(KE.length);var e=QE+aM;e&&iM-1<e&&(e=iM-ru,WE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=_M?"followed?":"?channel="+encodeURIComponent(cM)+"&",kM(t+="followed?limit=limit="+ru+"&offset="+e+"&stream_type=all",SM,IM,MM)}function IM(){++eM<tM?(nM+=500,MM()):(WE=!0,QE-=KE.length,KE=[],EM())}function SM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(iM=parseInt(a._total),i<ru&&(WE=!0);o<KE.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,ZE[n]?o--:(ZE[n]=1,F_(KE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vu),m_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+iv(t.created_at)+" "+h+__(t.viewers)+J,f_(t.video_height,t.average_fps,t.channel.broadcaster_language)],dM),d.push(o));for(o=d.length-1;-1<o;o--)KE.splice(d[o],1);aM+=s,WE&&(QE-=KE.length,KE=[]),EM()}function xM(e){Z_(jE,YE,dM,nu,QE,e),QE/nu<jE+au&&!WE&&!$E&&(vM(),gM()),Vr&&PM()}function PM(){QE&&df(jE+"_"+YE,dM)}function LM(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(PM(),If(LM));break;case Oa:if(h_(jE,YE-1,dM[0]))PM(),YE--,xM();else for(t=nu-1;-1<t;t--)if(h_(jE-1,t,dM[0])){PM(),jE--,YE=t,xM();break}break;case Ua:h_(jE,YE+1,dM[0])?(PM(),YE++,xM()):h_(jE+1,0,dM[0])&&(PM(),jE++,YE=0,xM());break;case Ga:for(t=0;t<nu;t++)if(h_(jE-1,YE-t,dM[0])){PM(),jE--,YE-=t,xM();break}break;case Ra:for(t=0;t<nu;t++)if(h_(jE+1,YE-t,dM[0])){PM(),jE++,YE-=t,xM();break}break;case Ta:case La:case Ba:case Na:ef(jE+"_"+YE,dM,LM)}}var TM=0,BM=0,OM=8,GM=0,UM=null,RM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],NM=!1,VM=!0;function DM(){return Jr?(JM(),void ti(Jr)):ho()?(Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=Mr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",i_(),Ju("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",nI,!1),void(NM?(O_(TM),Vu(RM[5]),jM(),w_()):FM())):(Ur.Main_Go=fr,JM(),void y_())}function JM(){Ur.Users_Position=0,Fu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",nI),Nu(RM[5]),document.getElementById("screens_holder").style.top="0"}function FM(){P_("stream_table_user"),Nu(RM[5]),Xu(),i_(),Ef=!(NM=!1),VM=!(TM=BM=0),rf(function(){HM()})}function HM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Xi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(zr=document.createElement("tr")).className="follower_header",zr.innerHTML='<div class="follower_header">'+(o?"":oe)+Xi[o].name+R+"</div>",i.appendChild(a),i.appendChild(zr),(e=document.createElement("tr")).appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,Jb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(qM(o+"_"+t,Ur.Main_selectedChannelDisplayname,Xi[o].access_token?wt:bt,"key",n)),i.appendChild(e);zM()}function qM(e,t,n,a,i){return(zr=document.createElement("td")).setAttribute("id",RM[4]+e),zr.setAttribute(bu,t),zr.className="stream_cell",zr.innerHTML='<div id="'+RM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+RM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+RM[2]+e+'" class="stream_text"><div id="'+RM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",zr}function zM(){rf(function(){NM||(NM=!0,jM(),ju(),w_()),Vu(RM[5]),VM=Ef=!1})}function XM(){for(var e=0;e<Xi.length;e++)qu(RM[3]+e+"_2",Jb.isLive?Z:zt)}function jM(){Ju(RM[0]+TM+"_"+BM,"stream_thumbnail_focused"),G_(TM)?1<TM?h_(TM+1,0,RM[0])&&sf(RM[5],-1*document.getElementById(RM[4]+TM+"_"+BM).offsetTop+500):sf(RM[5],screen.height/100*7):X_(),Vr&&YM()}function YM(){Nr=!1,Fu(RM[0]+TM+"_"+BM,"stream_thumbnail_focused")}function WM(){return Ur.Users_Position=TM,3!==BM||Xi[Ur.Users_Position].access_token?7===BM&&Xi[Ur.Users_Position].access_token?(a_(wt),void window.setTimeout(i_,1500)):(6!==BM&&7!==BM&&(Nu(RM[5]),document.body.removeEventListener("keydown",nI),document.getElementById("screens_holder").style.top="0"),void rf(function(){BM?1===BM?qC():2===BM?(ub=Jb,pb()):3===BM?AI():4===BM?_C():5===BM?TM?fo(TM):(Ur.Main_Before=Mr,Qi()):6===BM?KM():7!==BM||Xi[Ur.Users_Position].access_token||KM():fM()})):(a_(In),void window.setTimeout(i_,5e3))}function QM(){window.clearTimeout(UM)}function ZM(){UM=window.setTimeout($M,2e4)}function KM(){ZM(),6===BM?Hu("main_dialog_remove",Ht+ra+Xi[Ur.Users_Position].name+"?"):7===BM&&Hu("main_dialog_remove",ft+" "+Xi[Ur.Users_Position].name+"?"),Vu("main_remove_dialog")}function $M(){QM(),Nu("main_remove_dialog"),GM=0,tI()}function eI(){return Du("main_remove_dialog")}function tI(){GM?(Fu("remove_cancel","button_search_focused"),Ju("remove_yes","button_search_focused")):(Ju("remove_cancel","button_search_focused"),Fu("remove_yes","button_search_focused"))}function nI(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:eI()?$M():d_()?s_():u_()?r_():(YM(),If(nI));break;case Oa:if(eI())--GM<0&&(GM=1),tI(),QM(),ZM();else if(h_(TM,BM-1,RM[0]))YM(),BM--,jM();else if(h_(TM-1,0,RM[0])){for(t=OM-1;-1<t;t--)if(h_(TM-1,t,RM[0])){YM(),TM--,BM=t,jM();break}}else YM(),BM=OM-1,jM();break;case Ua:eI()?(1<++GM&&(GM=0),tI(),QM(),ZM()):(h_(TM,BM+1,RM[0])?(YM(),BM++):(h_(TM+1,0,RM[0])?(YM(),TM++):YM(),BM=0),jM());break;case Ga:for(t=0;t<OM;t++)if(h_(TM-1,BM-t,RM[0])){YM(),TM--,BM-=t,jM();break}break;case Ra:for(t=0;t<OM;t++)if(h_(TM+1,BM-t,RM[0])){YM(),TM++,BM-=t,jM();break}break;case Ta:case La:case Ba:case Na:var n;if(eI()){if(6===BM)n=GM,$M(),n&&(document.body.removeEventListener("keydown",nI),JM(),uo(TM));else if(n=GM,$M(),n){Ur.Users_AddcodePosition=Ur.Users_Position,w_();var a=Ka,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(uu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else WM()}}var aI=0,iI=0,oI=!1,sI=0,dI={},lI=[],cI=!1,rI=0,uI=5,_I=3500,fI=0,mI=0,hI=!1,pI=!1,vI="time",gI=2,yI=!1,bI=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],wI=!1,kI=!1;function AI(){Ur.Main_CenterLablesVectorPos=1,Ur.Main_Go=Or,Ju("top_bar_user","icon_center_focus"),Ru("label_side_panel","icon-arrow-circle-left",I),Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+(kI?G:O))),document.body.addEventListener("keydown",JI,!1),wI?(O_(aI),Vu(bI[10]),FI(),RI(),w_()):EI()}function CI(){Ur.Users_Position=0,wI&&NI(),Fu("top_bar_user","icon_center_focus"),Ru("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",JI),qu("top_bar_user",u),Nu(bI[10])}function EI(){wI&&NI(),P_("stream_table_user_vod"),Nu(bI[10]),Xu(),FI(),i_(),yI=wI=!1,Ef=!(pI=!(lI=[])),aI=iI=sI=mI=fI=0,oI=!(dI={}),$u(),II()}function MI(){T_(),cI=!0,rI=0,_I=3500}function II(){MI(),SI()}function SI(){var e=sI+fI;e&&mI-1<e&&(e=mI-tu,oI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+tu+"&broadcast_type="+(kI?"highlight":"archive")+"&sort="+vI+"&offset="+e;if(Iu&&!sI){if(!(t=Android.mreadUrl(n,_I,3,hu+Xi[Ur.Users_Position].access_token)))return void xI();200===(t=JSON.parse(t)).status?LI(t.responseText):401===t.status||403===t.status?ni(Ur.Users_Position,0,II,PI):xI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=_I,t.setRequestHeader(fu,pu),t.setRequestHeader(_u,uu),t.setRequestHeader(mu,hu+Xi[Ur.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?LI(t.responseText):401===t.status||403===t.status?ni(Ur.Users_Position,0,II,PI):xI())},t.send(null)}function xI(){++rI<uI?(_I+=500,SI()):PI()}function PI(){cI=!1,sI?(oI=!0,TI()):(Ef=!1,ju(),a_(P),If(aE),Xi[Ur.Users_Position].access_token||(CI(),Ur.Main_Go=Mr,CI(),Sf(),b_()))}function LI(e){var t=JSON.parse(e),n=t.videos.length;mI=parseInt(t._total),n<tu&&(oI=!0);var a=sI;hI=!(sI+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!yI){var _;for(yI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p,(zr=document.createElement("td")).setAttribute("id",bI[8]+"y_"+f),zr.className="stream_cell",zr.innerHTML='<div id="'+bI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+bI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(zr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nu+f,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||dI[c]?o--:(dI[c]=1,d.appendChild(yS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),FS.parse(l.title)+ra+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],bI)));for(;o<nu;o++)oI&&!pI&&(pI=!0,sI=s*nu+o),d.appendChild(R_(bI[9]+s+"_"+o)),lI.push(bI[9]+s+"_"+o);u.appendChild(d)}TI()}function TI(){wI?(L_(xa),RI(!0)):(hI?(a_(L+(kI?G:O)+T+M),If(JI)):(wI=!0,RI(),L_(xa),w_()),Vu(bI[10]),Ef=!1,ju()),0<lI.length&&!oI?BI():cI=!(lI=[])}function BI(){MI(),OI()}function OI(){n_(lI.length);var e=sI+fI;e&&mI-1<e&&(e=mI-ru,oI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+ru+"&broadcast_type="+(kI?"highlight":"archive")+"&sort="+vI+"&offset="+e;if(Iu){if(!(t=Android.mreadUrl(n,_I,3,hu+Xi[Ur.Users_Position].access_token)))return void GI();if(200===(t=JSON.parse(t)).status)return void UI(t.responseText);401===t.status||403===t.status?ni(Ur.Users_Position,0,II,PI):GI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=_I,t.setRequestHeader(fu,pu),t.setRequestHeader(_u,uu),t.setRequestHeader(mu,hu+Xi[Ur.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void UI(t.responseText);401===t.status||403===t.status?ni(Ur.Users_Position,0,II,PI):GI()}},t.send(null)}function GI(){++rI<uI?(_I+=500,OI()):(oI=!0,sI-=lI.length,lI=[],TI())}function UI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(mI=parseInt(a._total);o<lI.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||dI[n]?o--:(dI[n]=1,wS(lI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),FS.parse(t.title)+ra+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],bI),d.push(o));for(o=d.length-1;-1<o;o--)lI.splice(d[o],1);fI+=s,oI&&(sI-=lI.length,lI=[]),TI()}function RI(e){aI<0?VI():(Z_(aI,iI,bI,nu,sI,e),LS(bI,aI+"_"+iI),sI/nu<aI+au&&!oI&&!cI&&II(),Vr&&NI())}function NI(){window.clearInterval(HI),-1<aI&&sI?(Vu(bI[1]+aI+"_"+iI),df(aI+"_"+iI,bI)):DI()}function VI(){var e=1<iI?1:iI;Ju(bI[0]+"y_"+e,yu)}function DI(){var e=1<iI?1:iI;Fu(bI[0]+"y_"+e,yu)}function JI(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:d_()?s_():d_()?s_():u_()?r_():(NI(),If(JI));break;case Oa:if(-1===aI)DI(),--iI<0&&(iI=1),VI();else if(aI||iI){if(h_(aI,iI-1,bI[0]))NI(),iI--,RI();else for(t=nu-1;-1<t;t--)if(h_(aI-1,t,bI[0])){NI(),aI--,iI=t,RI();break}}else NI(),DI(),aI=-1,iI=1,VI();break;case Ua:-1===aI?(DI(),1<++iI?(iI=0,hI?VI():(aI=0,RI())):VI()):h_(aI,iI+1,bI[0])?(NI(),iI++,RI()):h_(aI+1,0,bI[0])&&(NI(),aI++,iI=0,RI());break;case Ga:if(-1!==aI||hI)if(aI){for(t=0;t<nu;t++)if(h_(aI-1,iI-t,bI[0])){NI(),aI--,iI-=t,RI();break}}else NI(),aI=-1,VI();else aI=0,DI(),RI();break;case Ra:if(-1!==aI||hI){for(t=0;t<nu;t++)if(h_(aI+1,iI-t,bI[0])){NI(),aI++,iI-=t,RI();break}}else aI=0,DI(),RI();break;case Ta:case La:case Ba:case Na:-1===aI?(0===iI?Bf("UserVod_highlight",(kI=!kI)?"true":"false"):1===gI?gI++:gI--,EI()):af(aI+"_"+iI,bI,JI)}}function FI(){1===gI?(Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+" "+(kI?G:O)+En)),vI="time"):2===gI&&(Hu("top_bar_user",u+M_(Xi[Ur.Users_Position].name+" "+(kI?G:O)+Mn)),vI="views"),Bf("UserVod_TypeNumber",gI)}var HI,qI=0,zI=0,XI=!1,jI=0,YI={},WI=[],QI=!1,ZI=0,KI=5,$I=3500,eS=0,tS=0,nS=!1,aS=!1,iS="week",oS=2,sS=!1,dS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],lS=!1,cS=!1,rS=1,uS=new Image;function _S(){Ur.Main_CenterLablesVectorPos=4,Ur.Main_Go=xr,Ju("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",TS,!1),lS?(O_(qI),Vu(dS[10]),BS(),IS(),w_()):mS()}function fS(){lS&&SS(),C_(),document.body.removeEventListener("keydown",TS),Fu("top_bar_vod","icon_center_focus"),qu("top_bar_vod",Kt),Nu(dS[10])}function mS(){lS&&SS(),P_("stream_table_vod"),Nu(dS[10]),Xu(),BS(),i_(),sS=lS=!1,Ef=!(aS=!(WI=[])),qI=zI=jI=tS=eS=0,XI=!(YI={}),$u(),hS(),pS()}function hS(){T_(),QI=!0,ZI=0,$I=3500}function pS(){var e=jI+eS;e&&tS-1<e&&(e=tS-tu,XI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+tu+"&broadcast_type="+(cS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+iS+(""!==jr?"&language="+jr:"");Iu&&!jI?Jf(t,$I,2,null,gS,vS):Ff(t,$I,2,null,gS,vS,!1)}function vS(){++ZI<KI?($I+=500,pS()):(QI=!1,jI?(XI=!0,AS()):(Ef=!1,ju(),a_(P)))}function gS(e){var t=JSON.parse(e),n=t.vods.length;tS=parseInt(t._total),n<tu&&(XI=!0);var a=jI;nS=!(jI+=n);var i=n/nu;0<n%nu&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_vod");if(!sS){var _;for(sS=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p,(zr=document.createElement("td")).setAttribute("id",dS[8]+"y_"+f),zr.className="stream_cell",zr.innerHTML='<div id="'+dS[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+dS[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(zr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nu+f,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||YI[c]?o--:(YI[c]=1,d.appendChild(yS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vu),l.channel.display_name,N+I_(l.created_at),FS.parse(l.title)+ra+Qt+v+l.game,__(l.views)+D,f_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+nv(l.length),l.animated_preview_url],dS)));for(;o<nu;o++)XI&&!aS&&(aS=!0,jI=s*nu+o),d.appendChild(R_(dS[9]+s+"_"+o)),WI.push(dS[9]+s+"_"+o);u.appendChild(d)}AS()}function yS(e,t,n,a,i){return e<nu&&U_(a[0]),bS(n,t,a,i)}function bS(e,t,n,a){return(zr=document.createElement("td")).setAttribute("id",a[8]+t),zr.setAttribute(bu,JSON.stringify(e)),zr.className="stream_cell",zr.innerHTML=kS(t,n,a),zr}function wS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(bu,JSON.stringify(t)),i.innerHTML=kS(o,n,a),i.setAttribute("id",a[8]+o)}function kS(e,t,n){return B_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function AS(){if(lS?(L_(xa),IS(!0)):(nS?a_(L+(cS?G:O)+T+M):(lS=!0,IS(),L_(xa),w_()),Vu(dS[10]),Ef=!1,ju()),0<WI.length&&!XI)return hS(),void CS();QI=!(WI=[])}function CS(){n_(WI.length);var e=jI+eS;e&&tS-1<e&&(e=tS-ru,XI=!0),Vf("https://api.twitch.tv/kraken/videos/top?limit="+ru+"&broadcast_type="+(cS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+iS+(""!==jr?"&language="+jr:""),$I,2,null,MS,ES)}function ES(){++ZI<KI?($I+=500,CS()):(XI=!0,jI-=WI.length,WI=[],AS())}function MS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(tS=parseInt(a._total);o<WI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||YI[n]?o--:(YI[n]=1,wS(WI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vu),t.channel.display_name,N+I_(t.created_at),FS.parse(t.title)+ra+Qt+v+t.game,__(t.views)+D,f_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+nv(t.length),t.animated_preview_url],dS),d.push(o));for(o=d.length-1;-1<o;o--)WI.splice(d[o],1);eS+=s,XI&&(jI-=WI.length,WI=[]),AS()}function IS(e){qI<0?xS():(Z_(qI,zI,dS,nu,jI,e),LS(dS,qI+"_"+zI),jI/nu<qI+au&&!XI&&!QI&&(hS(),pS()),Vr&&SS())}function SS(){window.clearInterval(HI),-1<qI&&jI?(Vu(dS[1]+qI+"_"+zI),df(qI+"_"+zI,dS)):PS()}function xS(){var e=1<zI?1:zI;Ju(dS[0]+"y_"+e,yu)}function PS(){var e=1<zI?1:zI;Fu(dS[0]+"y_"+e,yu)}function LS(t,n){if(rS){var a=document.getElementById(t[0]+n);uS.onload=function(){Nu(t[1]+n),a.style.backgroundSize="612px";var e=0;HI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},uS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function TS(e){var t;if(!Ef&&!W_())switch(Y_(),e.keyCode){case Va:u_()?r_():d_()?s_():(SS(),If(TS));break;case Oa:if(-1===qI)PS(),--zI<0&&(zI=1),xS();else if(qI||zI){if(h_(qI,zI-1,dS[0]))SS(),zI--,IS();else for(t=nu-1;-1<t;t--)if(h_(qI-1,t,dS[0])){SS(),qI--,zI=t,IS();break}}else SS(),PS(),qI=-1,zI=1,xS();break;case Ua:-1===qI?(PS(),1<++zI?(zI=0,nS?xS():(qI=0,IS())):xS()):h_(qI,zI+1,dS[0])?(SS(),zI++,IS()):h_(qI+1,0,dS[0])&&(SS(),qI++,zI=0,IS());break;case Ga:if(-1!==qI||nS)if(qI){for(t=0;t<nu;t++)if(h_(qI-1,zI-t,dS[0])){SS(),qI--,zI-=t,IS();break}}else SS(),qI=-1,xS();else qI=0,PS(),IS();break;case Ra:if(-1!==qI||nS){for(t=0;t<nu;t++)if(h_(qI+1,zI-t,dS[0])){SS(),qI++,zI-=t,IS();break}}else qI=0,PS(),IS();break;case Ta:case La:case Ba:case Na:-1===qI?(0===zI?Bf("Vod_highlight",(cS=!cS)?"true":"false"):4<++oS&&(oS=1),mS()):af(qI+"_"+zI,dS,TS)}}function BS(){1===oS?(Hu("top_bar_vod",Kt+M_((cS?G:O)+de)),iS="day"):2===oS?(Hu("top_bar_vod",Kt+M_((cS?G:O)+le)),iS="week"):3===oS?(Hu("top_bar_vod",Kt+M_((cS?G:O)+ce)),iS="month"):4===oS&&(Hu("top_bar_vod",Kt+M_((cS?G:O)+re)),iS="all"),Bf("vod_periodNumber",oS)}function OS(e,t){return e.replace(t.code,GS(t))}function GS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function US(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function RS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function NS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Gl[a]||Gl[e];e=i?OS(e,i):RS(e),t[n]=e}return t.join(" ")}function VS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([US(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function DS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function JS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+r((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function C(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;a+=g)e=b(e/c);return b(a+(c+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,c,r,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return C(_)}function f(e){var t,n,a,i,o,s,d,l,c,r,u,_,f,m,h,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)h=l-r,m=g-r,p.push(w(E(r+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=a,a=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var FS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();