var t,n,i,e,a,o,s,d,l,r,p,c,u,_,f,h,v,m,g,y,b,w,A,k,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,Ae,ke,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,At,kt,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,An,kn,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ri,ci,ui,_i,fi,hi,mi="fglfgl27@gmail.com",pi="<br>",vi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',gi='<div class="about_text_title">',yi='<div class="about_text_title" style="text-align: left;">',bi='<div style="text-align: left;">',wi="",Ai="",ki="",Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="&nbsp;";function Ti(){wi=e+" (C)",Ai=n+" (D)",Ci=i+" (A)",ki=a+" (A)",l+=Zt,r+=Zt,I=ai+oi,Ei=gi+e+"</div>"+gi+Ce+"</div>"+pi+bi+vi+xe+pi+vi+(Pe+=Yt)+pi+vi+Te+pi+vi+ci+pi+vi+Le+pi+Be+pi+vi+Oe+pi+Pi+Pi+Pi+Ge+pi+vi+Ue+pi+"</div>"+pi+(Si=gi+Ae+"</div>"+bi+vi+nt+pi+vi+$e+pi+vi+et+pi+"</div>"+bi+vi+tt+pi+vi+it+pi+vi+at+pi+pi+gi+ke+"</div>"+bi+vi+ot+pi+vi+st+pi+vi+dt+pi+vi+lt+pi+vi+rt)+pi+pi+gi+we+"</div>",Mi=gi+be+"</div></div>",Ii=bi+pi+Re+pi+(Ql?pi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+pi+gi+Ne+"</div>"+mi+pi+pi+De+pi+Ve+pi+pi+yi+Je+"</div>"+bi+We+pi+vi+He+pi+vi+Fe+pi+vi+qe+pi+vi+ze+pi+vi+Xe+pi+vi+Ye+pi+vi+je+pi+Qe+pi+vi+Ze+pi+vi+Ke+pi+gi+we+"</div></div>",xi=ht+pi+vi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+pi+vi+pt+pi+vi+vt+pi+vi+gt+pi+vi+yt}function Li(){Lr=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",c="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",A="Type your authentication key...",k="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",Ae="Player Related:",ke="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ci="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",At="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+pi+"Chat: Connected."+pi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",kn=(An="From:"+pi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ri="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed"}var Bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ui="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ri=51,Ni=52,Di=179,Vi=37,Ji=38,Hi=39,Fi=40,qi=13,zi=49,Xi=8,Yi=13,ji=32,Wi=46,Qi=0,Zi=5,Ki=1e4,$i=0,ea=!1,ta=!1,na=!1,ia="",aa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",oa="elsu5d09k0xomu7cggx3qg5ybdwu7g",sa="https://id.twitch.tv/oauth2/token?";function da(e){kr.Users_Position=kr.Users_AddcodePosition,$i=e,La(),Tc(),_a()}function la(e,t,n,i){var a=new XMLHttpRequest,o=sa+"grant_type=refresh_token&client_id="+encodeURIComponent(Qr)+"&client_secret="+encodeURIComponent(oa)+"&refresh_token="+encodeURIComponent(Ka[e].refresh_token)+"&redirect_uri="+aa;a.open("POST",o,!0),a.timeout=Ki,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?ca(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ma(),i&&i()):ra(e,t,n,i))},a.send(null)}function ra(e,t,n,i){++t<5?la(e,t,n,i):i&&i()}function ca(e,t,n){var i=JSON.parse(e);ua(i.scope)?(Ka[t].access_token=i.access_token,Ka[t].refresh_token=i.refresh_token,go()):ma(),n&&n()}function ua(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function _a(){var e=sa+"grant_type=authorization_code&client_id="+encodeURIComponent(Qr)+"&client_secret="+encodeURIComponent(oa)+"&code="+encodeURIComponent($i)+"&redirect_uri="+aa,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Ki,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?pa(t.responseText):fa())},t.send(null)}function fa(){++Qi<Zi?_a():ha()}function ha(){Lc(),Hc(Tt),window.setTimeout(function(){Fc(),Ir=0,su(),kr.Main_Go=fr,window.location=aa},4e3),Ka[kr.Users_Position].access_token=0,Ka[kr.Users_Position].refresh_token=0,go()}function ma(){aM=!1,Lc(),Hc(Tt),Ka[kr.Users_Position].access_token=0,Ka[kr.Users_Position].refresh_token=0,go(),su(),window.setTimeout(Fc,4e3)}function pa(e){var t=JSON.parse(e);Ka[kr.Users_Position].access_token=t.access_token,Ka[kr.Users_Position].refresh_token=t.refresh_token,La(),va()}function va(){f_("https://api.twitch.tv/kraken?oauth_token="+Ka[kr.Users_Position].access_token,Ki,0,null,ga,ya)}function ga(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ka[kr.Users_Position].name)){if(go(),Ir=0,Lc(),aM=!1,kr.Main_Go=fr,su(),Hc(wt),_c)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=aa},3e3)}else Ka[kr.Users_Position].access_token=0,Ka[kr.Users_Position].refresh_token=0,Hc(Gn+Ka[kr.Users_Position].name),window.setTimeout(function(){Fc(),Ir=0,su(),kr.Main_Go=fr,window.location=aa},4e3)}function ya(){++Qi<Zi?(Ki+=500,va()):ha()}function ba(){La(),ea=!1,wa()}function wa(){var e="https://api.twitch.tv/kraken/users/"+Ka[kr.Users_Position].id+"/follows/channels/"+ia,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ki,t.setRequestHeader(Zr,Qr),t.setRequestHeader(Kr,tc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Aa():404===t.status?ka(t.responseText):Ca())},t.send(null)}function Aa(){ea=!0,na?Zp():rs()}function ka(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ea=!1,na?Zp():rs()):Ca()}function Ca(){++Qi<Zi?(Ki+=500,wa()):na?Zp():rs()}function Ea(){La(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ka[kr.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Zr,Qr),e.setRequestHeader(Kr,tc),e.setRequestHeader("Authorization","OAuth "+Ka[kr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ea=!0,void(na?Zp():rs());401===e.status||403===e.status?la(kr.Users_Position,0,Ea,null):Ia()}},e.send(null)}function Ia(){++Qi<Zi&&(Ki+=500,Ma())}function Sa(){La(),xa()}function xa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ka[kr.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Zr,Qr),e.setRequestHeader(Kr,tc),e.setRequestHeader("Authorization","OAuth "+Ka[kr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ea=!1,void(na?Zp():rs());401===e.status||403===e.status?la(kr.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++Qi<Zi&&(Ki+=500,xa())}function Ta(){La(),ta=!1,Ba()}function La(){Qi=0,Ki=1e4}function Ba(){var e,t="https://api.twitch.tv/kraken/users/"+Ka[kr.Users_Position].id+"/subscriptions/"+ia;if(_c){if(!(e=Android.mreadUrl(t,Ki,3,Ka[kr.Users_Position].access_token)))return void Oa();if(200===(e=JSON.parse(e)).status)ta=!0,rg();else if(422===e.status)ta=!1,lg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void lg();Oa()}else 401===e.status||403===e.status?la(kr.Users_Position,0,Ta,Ga):Oa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ki,e.setRequestHeader(Zr,Qr),e.setRequestHeader(Kr,tc),e.setRequestHeader("Authorization","OAuth "+Ka[kr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ta=!0,rg();else if(422===e.status)ta=!1,lg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void lg();Oa()}else 401===e.status||403===e.status?la(kr.Users_Position,0,Ta,Ga):Oa()},e.send(null)}function Oa(){++Qi<Zi?(Ki+=500,Ba()):Ga()}function Ga(){ta=!1,lg()}function Ua(e){La(),Ra(e,0)}function Ra(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+Ka[e].access_token;if(_c){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Da(e,t);200===(n=JSON.parse(n)).status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t))},n.send(null)}function Na(e,t){var n=JSON.parse(e);n.token.valid?ua(n.token.authorization.scopes)||ma():(La(),la(t,0,null,null))}function Da(e,t){++t<Zi&&Ra(e,t)}function Va(){La(),Ja()}function Ja(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ka[kr.Users_Position].name+"/follows/games/"+encodeURIComponent(kr.Main_gameSelected)+"?oauth_token="+Ka[kr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Zr,Qr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return zy=!0,void My();401===e.status||403===e.status?la(kr.Users_Position,0,Va,null):Ha()}},e.send(null)}function Ha(){++Qi<Zi&&(Ki+=500,Ja())}function Fa(){La(),qa()}function qa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ka[kr.Users_Position].name+"/follows/games/"+encodeURIComponent(kr.Main_gameSelected)+"?oauth_token="+Ka[kr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Zr,Qr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return zy=!1,void My();401===e.status||403===e.status?la(kr.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++Qi<Zi&&(Ki+=500,qa())}function Xa(){La(),Ya()}function Ya(){var e,t="https://api.twitch.tv/api/users/"+Ka[kr.Users_Position].name+"/follows/games/"+encodeURIComponent(kr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Zr,Qr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(zy=!0,void My()):404===e.status?(zy=!1,void My()):void ja()},e.send(null)}function ja(){++Qi<Zi?(Ki+=500,Ya()):(zy=!1,My())}var Wa=0,Qa=5,Za=3500,Ka=[],$a=null,eo=!1,to=!1;function no(){kr.Main_Go=tr,Mc("top_bar_user","icon_center_focus"),Fc(),ql.placeholder=k,Cc("add_user_scroll"),oo()}function io(){lo(!1),document.body.removeEventListener("keydown",ao),document.body.removeEventListener("keydown",ro),Ic("top_bar_user","icon_center_focus"),kc("add_user_scroll")}function ao(e){if(!eo&&!to&&kr.Main_Go===tr)switch(e.keyCode){case zi:Xc()?zc():Qc()?Wc():(0<Ka.length&&kr.Main_Go!==fr?kr.Main_Go=kr.Main_Before:kr.Main_Go=er,io(),au());break;case Ni:case Ri:case Di:case qi:oo()}}function oo(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",ro,!1),ql.placeholder=k,ql.focus(),to=!0}function so(){if(null!==ql){var e=ql.cloneNode(!0);ql.parentNode.replaceChild(e,ql),ql=document.getElementById("user_input")}}function lo(e){ql.blur(),so(),document.body.removeEventListener("keydown",ro),ql.placeholder=C+k,e&&document.body.addEventListener("keydown",ao,!1),to=!1}function ro(e){if(!eo&&kr.Main_Go===tr)switch(e.keyCode){case zi:Xc()?zc():Qc()?Wc():(0<Ka.length&&kr.Main_Go!==fr?kr.Main_Go=kr.Main_Before:kr.Main_Go=er,io(),au());break;case Wi:ql.value="";break;case Yi:case Fi:""!==ql.value&&null!==ql.value?bo($a=ql.value)?(Lc(),Hc(_+$a+ie),window.setTimeout(function(){Fc(),oo()},1500)):(Za=3500,eo=!(Wa=0),kc("add_user_scroll"),Tc(),co()):oo();break;case Xi:ql.value=ql.value.slice(0,-1);break;case ji:ql.value+=" "}}function co(){f_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($a),Za,2,null,uo,_o)}function uo(e){JSON.parse(e)._total?(ql.value="",document.body.removeEventListener("keydown",ao),po(e)):fo()}function _o(){++Wa<Qa?(Za+=500,co()):fo()}function fo(){$a=null,Lc(),Hc(te),window.setTimeout(function(){no()},1e3),eo=!1}function ho(){if(0<(Ka=r_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ka.length;e++)Ka[e].access_token&&Ua(e)}function mo(){return 0<Ka.length}function po(e){$a=JSON.parse(e).users[0],Ka.push({name:$a.name,id:$a._id,access_token:0,refresh_token:0}),go(),aM=!1,io(),sM(),eo=!1}function vo(e){var t=Ka.indexOf(Ka[e]);-1<t&&Ka.splice(t,1),0<Ka.length?(aM=!1,sM()):no(),go()}function go(){d_("AddUser_UsernameArray",JSON.stringify(Ka))}function yo(e){$a=Ka[0],Ka[0]=Ka[e],Ka[e]=$a,aM=!1,sM(),go(),kr.Users_Position=0}function bo(e){return-1!==Ka.indexOf(e)}function wo(){return 0<Ka.length}var Ao,ko=0,Co=0,Eo=!1,Mo=0,Io=0,So=5,xo=3500,Po=0,To=!1,Lo=!1,Bo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Oo=!1,Go="",Uo=null,Ro="",No="",Do="",Vo="",Jo="",Ho={},Fo=!1,qo=null,zo="";function Xo(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=cr,Fo&&!kr.Search_isSearching&&kr.Main_selectedChannel_id&&ps(),Go!==kr.Main_selectedChannel&&(Oo=!1),cu(),kr.Main_selectedChannelDisplayname=kr.Main_selectedChannelDisplayname.replace(j,""),xc("top_bar_user",kr.Main_selectedChannelDisplayname),xc("top_bar_game",Ut),document.body.addEventListener("keydown",vs,!1),na=!1,Oo?(pu(ko),Cc(Bo[10]),us(),_s(),su()):jo()}function Yo(){ru(),document.body.removeEventListener("keydown",vs),kc(Bo[10])}function jo(){mu("stream_table_channel_content"),kc(Bo[10]),qo=null,Tc(),Fc(),Go=kr.Main_selectedChannel,Vo="",Eo=To=Oo=!1,Ao=void(ko=Co=Mo=Po=0),Wo(),Qo()}function Wo(){$u=!0,Io=0,xo=3500}function Qo(){f_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ao?Ao:kr.Main_selectedChannel_id),xo,2,null,Zo,Ko)}function Zo(e){null!==JSON.parse(e).stream?(Uo=e,Wo(),ns()):Ao?(Uo=null,Wo(),ns()):(Wo(),$o())}function Ko(){++Io<So?(xo+=500,Qo()):(Uo=null,Wo(),ns())}function $o(){f_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(kr.Main_selectedChannel_id),xo,1,null,ts,es,!0)}function es(){++Io<So?(xo+=500,$o()):(Uo=null,Wo(),ns())}function ts(e){var t=JSON.parse(e);void 0!==(Ao=t.hosts[0].target_id)?(Wo(),Qo()):(Uo=null,Wo(),ns())}function ns(){f_("https://api.twitch.tv/kraken/channels/"+kr.Main_selectedChannel_id,bv,2,null,is,as)}function is(e){var t=JSON.parse(e);qo=(qo=t.video_banner)?qo.replace("1920x1080",nc):qo,zo=t.profile_banner,Ro=t.views,No=t.followers,Do=t.description,kr.Main_selectedChannelLogo=t.logo,os()}function as(){++Io<So?(xo+=500,ns()):(qo=null,zo=Ui,Do=No=Ro="",kr.Main_selectedChannelLogo=Oi,os())}function os(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Tr=document.createElement("tr")).className="follower_banner",Tr.innerHTML='<div id="'+Bo[0]+'x_0" class="follower_banner"><img id="'+Bo[1]+'x_0" alt="" class="stream_img_banner"></div>',n.appendChild(Tr),null!==Uo){var i=JSON.parse(Uo);if(null!==i.stream){var a=void 0!==Ao?kr.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(ss("0_"+t,o.channel.name,o.preview.template,CI.parse(o.channel.status),o.game,$c(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Dm(o.created_at)+" "+m+Zc(o.viewers)+J,Kc(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else To=!0}else To=!0;e.appendChild(ds("0_"+t,kr.Main_selectedChannelDisplayname,kr.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(ds("0_"+t,kr.Main_selectedChannelDisplayname,kr.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(yu(Bo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(ls("1_0",kr.Main_selectedChannelDisplayname,kr.Main_selectedChannelDisplayname,kr.Main_selectedChannelLogo)),(Tr=document.createElement("td")).setAttribute("id",Bo[8]+"x_x"),Tr.className="stream_cell",Tr.innerHTML='<div id="'+Bo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Bo[4]+'x_x" class="stream_channel_info">'+CI.parse(Do)+"</div></div>",e.appendChild(Tr),n.appendChild(e),cs()}function ss(e,t,n,i,a,o,s,d){return Vo=n.replace("{width}x{height}",nc),(Tr=document.createElement("td")).setAttribute("id",Bo[8]+e),Tr.setAttribute(oc,t),Tr.className="stream_cell",Tr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Bo[1]+e+'" alt="" class="stream_img"></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ao?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Pi+o+'</div><div id="'+Bo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Bo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Bo[6]+e+'"class="stream_info">'+s+"</div></div>",Tr}function ds(e,t,n,i){return(Tr=document.createElement("td")).setAttribute("id",Bo[8]+e),Tr.setAttribute(oc,t),Tr.className="stream_cell",Tr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Bo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Tr}function ls(e,t,n,i){return Jo=i,(Tr=document.createElement("td")).setAttribute("id",Bo[8]+e),Tr.setAttribute(oc,t),Tr.className="stream_cell",Tr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Bo[1]+e+'" alt="" class="stream_img_fallow"></div><div id="'+Bo[2]+e+'" class="stream_text_channel"><div id="'+Bo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+Zc(Ro)+V+'</div><div id="'+Bo[6]+e+'"class="stream_info" >'+Zc(No)+Dt+"</div></div>",Tr}function rs(){ea?(Sc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),xc(Bo[3]+"1_0",kr.Main_selectedChannelDisplayname+Mt)):(Sc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),mo()?xc(Bo[3]+"1_0",kr.Main_selectedChannelDisplayname+It):xc(Bo[3]+"1_0",kr.Main_selectedChannelDisplayname+Vt))}function cs(){Oo||(Oo=!0,""!==Vo&&mc(document.getElementById(Bo[1]+"0_0"),Vo,Gi),mc(document.getElementById(Bo[1]+"x_0"),zo,Ui),mc(document.getElementById(Bo[1]+"1_0"),Jo,Oi),_s(),su(),Cc(Bo[10]),Lc()),us(),$u=!1}function us(){Lo?rs():mo()?(ia=kr.Main_selectedChannel_id,na=!1,ba()):(ea=!1,rs())}function _s(){Mc(Bo[0]+ko+"_"+(ko?0:Co),ac),Mr&&fs(),Su()}function fs(){Hu(ko+"_"+(ko?0:Co),Bo)}function hs(){if(ko)mo()&&Ka[kr.Users_Position].access_token?(na=!1,ia=kr.Main_selectedChannel_id,ea?Sa():Ea()):(Hc(Bt),window.setTimeout(Fc,2e3));else{document.body.removeEventListener("keydown",vs),kc(Bo[10]);var e=To?1:0;Co===0-e?(kr.Play_selectedChannel=document.getElementById(Bo[8]+ko+"_"+Co).getAttribute(oc),kr.Play_selectedChannelDisplayname=document.getElementById(Bo[3]+ko+"_"+Co).textContent,-1!==kr.Play_selectedChannelDisplayname.indexOf(ne)?(kr.Play_isHost=!0,kr.Play_DisplaynameHost=kr.Play_selectedChannelDisplayname,kr.Play_selectedChannelDisplayname=kr.Play_selectedChannelDisplayname.split(ne)[1],kr.Play_selectedChannel_id=Ao):kr.Play_selectedChannel_id=kr.Main_selectedChannel_id,kr.Play_gameSelected=document.getElementById(Bo[5]+ko+"_"+Co).textContent.split(v)[1],zu(Ru)):Co===1-e?zu(Fs):Co===2-e&&(zg=Sy,zu(Qg))}}function ms(){Ho={"Main_values.Main_selectedChannel_id":kr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":kr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":kr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":kr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Lo,"Main_values.Main_BeforeChannel":kr.Main_BeforeChannel}}function ps(){kr.Main_selectedChannel_id=kr.Main_selectedChannel_id,kr.Main_selectedChannelLogo=kr.Main_selectedChannelLogo,kr.Main_selectedChannel=kr.Main_selectedChannel,kr.Main_selectedChannelDisplayname=kr.Main_selectedChannelDisplayname,Lo=Ho.ChannelContent_UserChannels,kr.Main_BeforeChannel=kr.Main_BeforeChannel,Fo=!(Ho={})}function vs(e){if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(fs(),t_(vs)),ok();break;case Vi:Co?ko||(fs(),--Co<0&&(Co=To?1:2),_s()):(fs(),dk(vs,!0));break;case Hi:ko||(fs(),(To?1:2)<++Co&&(Co=0),_s());break;case Ji:ko?(fs(),ko=0,_s()):(fs(),t_(vs));break;case Fi:ko||(fs(),ko=1,_s());break;case Ni:case Ri:case Di:case qi:hs()}}var gs=0,ys=0,bs=!1,ws=0,As={},ks=[],Cs=!1,Es=0,Ms=5,Is=3500,Ss=0,xs=0,Ps=0,Ts=!1,Ls=!1,Bs="",Os=!1,Gs=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Us=!1,Rs=!1,Ns="",Ds="",Vs="",Js="",Hs=0;function Fs(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=ur,!kr.Search_isSearching&&kr.Main_selectedChannel_id&&ps(),kr.Main_selectedChannel!==Ns&&(Us=!1),cu(),Ac("label_side_panel","icon-arrow-circle-left",I),xc("top_bar_user",kr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",ad,!1),Us?(pu(gs),xc("top_bar_game",Rs?G:O),Cc(Gs[10]),ed(),su()):zs()}function qs(){Us&&td(),ru(),document.body.removeEventListener("keydown",ad),kc(Gs[10]),Fc()}function zs(){Us&&td(),mu("stream_table_channel_vod"),kc(Gs[10]),xc("top_bar_game",Rs?G:O),Tc(),Fc(),Ns=kr.Main_selectedChannel,Os=Us=!1,$u=!(Ls=!(ks=[])),gs=ys=ws=xs=Ss=0,bs=!(As={}),Nc(),Xs(),Ys()}function Xs(){Cs=!0,Es=0,Is=3500}function Ys(){var e=ws+Ss;e&&xs-1<e&&(e=xs-Vr,bs=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(kr.Main_selectedChannel_id)+"/videos?limit="+Vr+"&broadcast_type="+(Rs?"highlight":"archive")+"&sort=time&offset="+e;_c&&!ws?m_(t,Is,2,null,Ws,js):p_(t,Is,2,null,Ws,js,!1)}function js(){++Es<Ms?(Is+=500,Ys()):(Cs=!1,ws?(bs=!0,Qs()):($u=!1,Lc(),Hc(P),t_(ad)))}function Ws(e){var t=JSON.parse(e),n=t.videos.length;xs=parseInt(t._total),n<Vr&&(bs=!0);var i=ws;Ts=!(ws+=n);var a=n/Jr;0<n%Jr&&a++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Os){Os=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p;(Tr=document.createElement("td")).setAttribute("id",Gs[8]+"y_0"),Tr.className="stream_cell",Tr.innerHTML='<div id="'+Gs[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Gs[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(Tr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Jr+m,d=document.createElement("tr"),o=0;o<Jr&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==qo?qo:Gi),c||As[r]?o--:(As[r]=1,d.appendChild(uI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",nc),l.channel.display_name,N+_u(l.created_at),CI.parse(l.title)+pi+Qt+v+l.game,Zc(l.views)+V,Kc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Rm(l.length),l.animated_preview_url],Gs)));for(;o<Jr;o++)bs&&!Ls&&(Ls=!0,ws=s*Jr+o),d.appendChild(yu(Gs[9]+s+"_"+o)),ks.push(Gs[9]+s+"_"+o);f.appendChild(d)}Qs()}function Qs(){if(Us?ed(!0):(Ts?(t_(ad),Hc(T+(Rs?G:O)+L+M)):(Us=!0,ed(),su()),Cc(Gs[10]),$u=!1,Lc()),0<ks.length&&!bs)return Xs(),void Zs();Cs=!(ks=[])}function Zs(){Jc(ks.length);var e=ws+Ss;e&&xs-1<e&&(e=xs-Wr,bs=!0),f_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(kr.Main_selectedChannel_id)+"/videos?limit="+Wr+"&broadcast_type="+(Rs?"highlight":"archive")+"&sort=time&offset="+e,Is,2,null,$s,Ks)}function Ks(){++Es<Ms?(Is+=500,Zs()):(bs=!0,ws-=ks.length,ks=[],Qs())}function $s(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(xs=parseInt(i._total);o<ks.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||As[n]?o--:(As[n]=1,fI(ks[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",nc),t.channel.display_name,N+_u(t.created_at),CI.parse(t.title)+pi+Qt+v+t.game,Zc(t.views)+V,Kc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Rm(t.length),t.animated_preview_url],Gs),d.push(o));for(o=d.length-1;-1<o;o--)ks.splice(d[o],1);Ss+=s,bs&&(ws-=ks.length,ks=[]),Qs()}function ed(e){gs<0?nd():(Bu(gs,ys,Gs,Jr,ws,e),mI(Gs,gs+"_"+ys),ws/Jr<gs+Hr&&!bs&&!Cs&&(Xs(),Ys()),Mr&&td())}function td(){window.clearInterval(rI),-1<gs&&ws?(Cc(Gs[1]+gs+"_"+ys),Hu(gs+"_"+ys,Gs)):id()}function nd(){Mc(Gs[0]+"y_0",ac)}function id(){Ic(Gs[0]+"y_0",ac)}function ad(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(td(),t_(ad)),ok();break;case Vi:if(ys){if(eu(gs,ys-1,Gs[0]))td(),ys--,ed();else for(t=Jr-1;-1<t;t--)if(eu(gs-1,t,Gs[0])){td(),gs--,ys=t,ed();break}}else td(),dk(ad,!0);break;case Hi:eu(gs,ys+1,Gs[0])?(td(),ys++,ed()):eu(gs+1,0,Gs[0])&&(td(),gs++,ys=0,ed());break;case Ji:if(-1===gs)td(),gs=0,t_(ad);else if(gs){for(t=0;t<Jr;t++)if(eu(gs-1,ys-t,Gs[0])){td(),gs--,ys-=t,ed();break}}else td(),gs=-1,nd();break;case Fi:if(-1!==gs||Ts){for(t=0;t<Jr;t++)if(eu(gs+1,ys-t,Gs[0])){td(),gs++,ys-=t,ed();break}}else gs=0,id(),ed();break;case Ni:case Ri:case Di:case qi:-1===gs?(d_("ChannelVod_highlight",(Rs=!Rs)?"true":"false"),zs()):Du(gs+"_"+ys,Gs,ad)}}var od,sd,dd,ld,rd,cd,ud=0,_d=10,fd=!1,hd=0,md=null,pd=!1,vd=0,gd={bbtv:{},ffz:{}},yd={};function bd(){qd(),kr.Play_ChatForceDisable?(Qd||ul(),pd=!1,zu(function(){hd=(new Date).getTime(),rd=kr.Play_selectedChannel_id,cd=kr.Play_selectedChannel,wd(hd,Cd)})):Dl()}function wd(e,t){ud=0,Ad(e,t)}function Ad(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+rd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);kd(e,t)}},i.send(null)}function kd(e,t){++ud<_d?Ad(e,t):sd=window.setTimeout(function(){Ad(e,t)},500)}function Cd(e,t){kl(e),Ed(),xd(),hd===t&&Gd()}function Ed(){gd.bbtv[rd]||(ud=0,Md())}function Md(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(cd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Sd(t.responseText):404===t.status?gd.bbtv[rd]=1:Id())},t.send(null)}function Id(){++ud<_d&&Md()}function Sd(e){Bd(JSON.parse(e)),gd.bbtv[rd]=1}function xd(){gd.ffz[rd]||(ud=0,Pd())}function Pd(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(cd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ld(t.responseText):404===t.status?gd.ffz[rd]=1:Td())},t.send(null)}function Td(){++ud<_d&&Pd()}function Ld(e){Od(JSON.parse(e)),gd.ffz[rd]=1}function Bd(t){t.emotes.forEach(function(e){yd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Od(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(yd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(yd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Gd(){Nd(),Ud()}function Ud(){(md=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){md.send("PASS blah\r\n"),md.send("NICK justinfan12345\r\n"),md.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),md.send("JOIN #"+cd+"\r\n")},md.onclose=function(){fd=!0},md.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":md.send("PONG "+t.params[0]);break;case"JOIN":pd=!0,Jd('&nbsp;<span class="message">'+pi+bn+kr.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Dd(t)}},dd=window.setTimeout(Rd,5e3)}function Rd(){pd?ld=window.setInterval(Hd,1e3):(md.close(1e3),Gd())}function Nd(){window.clearTimeout(dd)}function Dd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+al[i.charCodeAt(0)%ol]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Jd(t+='<span class="message">'+Vd(wI(a,o))+"</span>")}function Vd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=bI(e[t]):e[t]=e[t][0];return CI.parse(e.join(" "),!0,!0)}function Jd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,jd.appendChild(t),Hd(),100<++vd&&(vd=0,Jl())}function Hd(){jd.scrollTop=jd.scrollHeight}function Fd(){Nd(),window.clearTimeout(sd),window.clearTimeout(od),window.clearInterval(ld)}function qd(){Fd(),md&&md.close(1e3),hd=0,mu("chat_box"),pd=fd=!1}var zd,Xd,Yd,jd,Wd,Qd=!1,Zd=0,Kd=[],$d=[],el=10,tl=null,nl=0,il="",al=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],ol=al.length,sl=0,dl=!1,ll=0;function rl(){jd=document.getElementById("chat_box"),ul()}function cl(){Bl(),_c&&kr.Play_ChatForceDisable?(Qd||ul(),zu(function(){ll=(new Date).getTime(),rd=kr.Main_selectedChannel_id,cd=kr.Main_selectedChannel,wd(ll,Cl)})):Dl()}function ul(){Zd=0,Qd=!(yd={}),_l()}function _l(){p_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,hl,fl,!1)}function fl(){++Zd<el?_l():Qd=!1}function hl(e){AI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){kI(t.type,e.type,e.image_url_4x,null)})}),ml()}function ml(){Zd=0,pl()}function pl(){p_("https://api.betterttv.net/2/emotes",1e4,0,null,gl,vl,!1)}function vl(){++Zd<el?pl():Qd=!1}function gl(e){Bd(JSON.parse(e)),yl()}function yl(){Zd=0,bl()}function bl(){p_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,Al,wl,!1)}function wl(){++Zd<el?bl():Qd=!1}function Al(e){Od(JSON.parse(e)),Qd=!0}function kl(e){AI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){kI(t.type,e.type,e.image_url_4x,jd)})})}function Cl(e,t){kl(e),Ed(),xd(),ll===t&&El(t)}function El(e){Zd=0,ll===e&&Ml(e)}function Ml(e){var t="https://api.twitch.tv/v5/videos/"+kr.ChannelVod_vodId+"/comments?client_id="+Qr+(nl?"&content_offset_seconds="+parseInt(nl):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ll===e&&Sl(n.responseText,e));ll===e&&Il(e)}},n.send(null)}function Il(e){Zd++,ll===e&&(Zd<el?Ml(e):Xd=window.setTimeout(function(){Ml(e)},2500))}function Sl(e,t){e=JSON.parse(e);var n,i,a=null===tl;a&&(n="&nbsp;",n+='<span class="message">',n+=pi+bn+kr.Main_selectedChannelDisplayname+" "+il,xl(n+="</span>",0)),nl=0,tl=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+al[e.commenter.display_name.charCodeAt(0)%ol]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Vd([e.text])}),n+="</span>",a?xl(n,e.content_offset_seconds):void 0!==tl&&Pl(n,e.content_offset_seconds)}),a&&ll===t&&(Tl(t),void 0!==tl&&Gl(t))}function xl(e,t){Kd.push({time:t,message:e})}function Pl(e,t){$d.push({time:t,message:e})}function Tl(e){dl||ll!==e||(zd=window.setInterval(function(){Ol(e),jd.scrollTop=jd.scrollHeight},1e3))}function Ll(){dl||(window.clearTimeout(Wd),window.clearTimeout(Xd),window.clearTimeout(Yd),window.clearInterval(zd))}function Bl(){Ll(),ll=0,mu("chat_box"),dl=!1,tl=null,Kd=[],$d=[],sl=0}function Ol(e){var t;if(sl<Kd.length-1)for(var n=sl;n<Kd.length&&Kd[n].time<Hs+Android.gettime()/1e3;n++,sl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Kd[n].message,jd.appendChild(t);else if(Ll(),void 0!==tl)Kd=$d.slice(),sl=0,Tl(e),$d=[],ll===e&&Gl(e),Jl();else{var i="&nbsp;";i+='<span class="message">',i+=pi+pi+Cn+pi+pi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,jd.appendChild(t),dl=!0,jd.scrollTop=jd.scrollHeight,window.clearInterval(zd),zd=window.setInterval(function(){jd.scrollTop=jd.scrollHeight},1e3)}}function Gl(e){Zd=0,dl||ll!==e||Ul(e)}function Ul(e){var t="https://api.twitch.tv/v5/videos/"+kr.ChannelVod_vodId+"/comments?client_id="+Qr+(null!==tl?"&cursor="+tl:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(dl||ll!==e||Sl(n.responseText,e));dl||ll!==e||Rl(e)}},n.send(null)}function Rl(e){Zd++,ll===e&&(Zd<el?Ul(e):Yd=window.setTimeout(function(){Ul(e)},2500))}function Nl(){Bl(),Vl(ln+pi+rn)}function Dl(){Bl(),Vl($n)}function Vl(e){var t="&nbsp;";t+='<span class="message">',t+=pi+pi+pi+pi+pi+pi+pi+pi+pi+pi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,jd.appendChild(n)}function Jl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Hd()}var Hl,Fl,ql,zl,Xl,Yl,jl,Wl=!0,Ql=!1,Zl=!1,Kl=-1,$l=new Image,er=1,tr=2,nr=3,ir=4,ar=5,or=6,sr=7,dr=8,lr=9,rr=10,cr=11,ur=12,_r=13,fr=14,hr=15,mr=16,pr=17,vr=18,gr=19,yr=20,br=21,wr=22,Ar="",kr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:nr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Cr=!0,Er=!0,Mr=!1,Ir=0,Sr=0,xr=null,Pr=!0,Tr="",Lr=!1,Br="",Or=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Gr=[],Ur=0,Rr=!0,Nr=1.35,Dr=1.5,Vr=45,Jr=3,Hr=Math.floor(Vr/Jr/Dr),Fr=45,qr=5,zr=Math.floor(Fr/qr/Nr),Xr=48,Yr=6,jr=Math.floor(Xr/Yr/Dr),Wr=6,Qr="5seja5ptej058mxqy7gh5tcudjqtm9",Zr="Client-ID",Kr="Accept",$r="Authorization",ec="OAuth ",tc="application/vnd.twitchtv.v5+json",nc="528x297",ic="340x475",ac="stream_thumbnail_focused",oc="data_attribute",sc="1.0",dc=".21",lc="053119",rc=sc+dc+"-"+lc,cc="",uc=0,_c=0,fc="?"+Math.random(),hc="https://cors-anywhere.herokuapp.com/",mc=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function pc(){(Zl=c_("Main_isDebug",!1))&&Wl?vc():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){gc(window.navigator.userLanguage||window.navigator.language)}):gc(window.navigator.userLanguage||window.navigator.language)}function vc(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function gc(e){Fu(),zu(function(){try{_c=Android.getAndroid(),cc=Android.getversion()}catch(e){cc="1.0.0",_c=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Ql=Zl=!0,console.log("Main_isReleased: "+Wl),console.log("Main_isDebug: "+Zl),console.log("Main_isBrowser: "+Ql)}_c&&(document.body.addEventListener("keydown",y_,!1),document.body.addEventListener("keyup",b_,!1)),_A(),Li(),UA(),console.log("language is "+e),Ti(),-1!==window.location.href.indexOf("code")&&__(window.location.href),yc()})}function yc(){Xg(),bc(!0),Hl=document.getElementById("scrollbar"),du(),Ar=kr.Main_Go,zu(function(){rl(),im(),ho(),mo()&&(jl=window.setInterval(Wu,6e5)),document.body.addEventListener("keyup",Su,!1),Yg(),document.getElementById("side_panel").style.marginLeft="",fu(),wc(),Rs=c_("ChannelVod_highlight",!1),HM=c_("UserVod_highlight",!1),NM=l_("UserVod_TypeNumber",1),Og(),Fl=document.getElementById("search_input"),ql=document.getElementById("user_input"),gu(Gi),gu(Bi),gu(Oi),document.addEventListener("visibilitychange",Yu,!1),Xl=window.setInterval(ju,6e4),zg=Ly,Qg(),zl=window.setTimeout(nu,5e3),Cc("topbar"),jA=document.getElementById("feed_thumb_img")})}function bc(e){ju(),Ac("label_refresh","icon-refresh",t+":"+Yt),Sc("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Pi+_t+"</div>"),Ac("label_side_panel","icon-ellipsis",Rn),Ac("icon_feed_refresh","icon-refresh",t+":"+_i),xc("top_bar_live",f),xc("top_bar_user",e?_:i),xc("top_bar_featured",an),xc("top_bar_game",h),xc("top_bar_vod",Kt),xc("top_bar_clip",U),Sc("scene2_search_text",Pi+n),Sc("scene2_channel_text",Pi+Ut),Sc("scene2_game_text",Pi+Jt),xc("dialog_end_next_text",si),xc("dialog_end_replay_text",en),xc("dialog_end_vod_text",sn),xc("dialog_end_channel_text",Ut),xc("dialog_end_game_text",Jt),Sc("dialog_about_text",Mi+Ii),Gr=[de,le,re,ce],e?sA():(uA(),fu())}function wc(){xc("play_dialog_exit_text",H),xc("side_panel_search",n),xc("side_panel_settings",i),xc("side_panel_about",a),xc("side_panel_controls",e),xc("side_panel_exit",q),xc("side_panel_feed_settings",ui),xc("side_panel_feed_refresh",t),xc("side_panel_live",f),xc("side_panel_user",_),xc("side_panel_featured",an),xc("side_panel_games",h),xc("side_panel_videos",Kt),xc("side_panel_clips",U),xc("side_panel_hide",o),xc("side_panel_back",fi),xc("chanel_button",E),xc("game_button",h),xc("live_button",f),xc("exit_app_cancel",Y),xc("exit_app_close",z),xc("remove_cancel",Y),xc("remove_yes",Ht),xc("exit_app_minimize",X),xc("main_dialog_exit_text",F),Sc("dialog_controls_text",Ei),xc("dialog_vod_text",wn),Sc("dialog_vod_start_text",kn)}function Ac(e,t,n){Sc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Pi+n+"</div>")}function kc(e){document.getElementById(e).classList.add("hide")}function Cc(e){document.getElementById(e).classList.remove("hide")}function Ec(e){return-1===document.getElementById(e).className.indexOf("hide")}function Mc(e,t){document.getElementById(e).classList.add(t)}function Ic(e,t){document.getElementById(e).classList.remove(t)}function Sc(e,t){document.getElementById(e).innerHTML=t}function xc(e,t){document.getElementById(e).textContent=t}function Pc(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Tc(){pu(-1),_c?Android.mshowLoading(!0):Cc("dialog_loading")}function Lc(){_c?Android.mshowLoading(!1):kc("dialog_loading")}function Bc(){window.clearTimeout(xr)}function Oc(){xr=window.setTimeout(Uc,6e3)}function Gc(){Oc(),Cc("main_dialog_exit"),document.body.addEventListener("keydown",Qu,!1)}function Uc(){document.body.removeEventListener("keydown",Qu,!1),WA?(WA=!1,ou()):t_(YA),Bc(),kc("main_dialog_exit"),Sr=0,Rc()}function Rc(){Ic("exit_app_cancel","button_search_focused"),Ic("exit_app_minimize","button_search_focused"),Ic("exit_app_close","button_search_focused"),Mc(Sr?1===Sr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Nc(){mu("dialog_counter_text"),Vc(0,0,0)}function Dc(e,t,n,i){0<i?(xc("dialog_counter_text",t*n+(e+1)+"/"+i),Vc(t,n,i)):Nc()}function Vc(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=kr.Main_Go===ir||kr.Main_Go===gr||kr.Main_Go===yr||kr.Main_Go===ur||kr.Main_Go===wr||kr.Main_Go===pr||kr.Main_Go===vr||kr.Main_Go===_r,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Hl.style.top=o+"px",Pr&&(Pr=!1,Hl.style.backgroundColor="#777777")}else Hl.style.backgroundColor="#000000",Hl.style.top=i+"px",Pr=!0}function Jc(e){(Wr=12)/3<e&&(Wr=3*e),99<Wr&&(Wr=99)}function Hc(e){xc("dialog_warning_text",e),Cc("dialog_warning")}function Fc(){kc("dialog_warning")}function qc(){Wc(),Cc("dialog_about")}function zc(){kc("dialog_about")}function Xc(){return Ec("dialog_about")}function Yc(){Wc(),Fc(),lu(kr.Main_Go),Nc(),aA()}function jc(){zc(),Cc("dialog_controls")}function Wc(){kc("dialog_controls")}function Qc(){return Ec("dialog_controls")}function Zc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Kc(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function $c(e){return-1!==e.indexOf("live")?"":j}function eu(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function tu(){ju(),au(),document.body.addEventListener("keyup",Su,!1)}function nu(){for(var e,t=0;t<Or.length;t++)t<2?document.getElementById(Or[t]).style.opacity="0.5":-1===(e=document.getElementById(Or[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Mc("topbar","topbar_dim")}function iu(){for(var e=0;e<Or.length;e++)document.getElementById(Or[e]).style.opacity="1";Ic("topbar","topbar_dim")}function au(e){window.clearTimeout(zl),iu(),zu(function(){ou(e)})}function ou(e){Fc(),kr.Main_Go!==cr&&(kr.Main_BeforeChannelisSet=!1),kr.Main_Go!==ir&&(kr.Main_BeforeAgameisSet=!1),Nc(),kr.Main_Go===er?(zg=Ly,Qg()):kr.Main_Go===tr?no():kr.Main_Go===nr?(zg=Py,Qg()):kr.Main_Go===ir?(zg=Oy,Qg()):kr.Main_Go===dr?fw():kr.Main_Go===lr?Kb():kr.Main_Go===rr?Dw():kr.Main_Go===cr?Xo():kr.Main_Go===ur?Fs():kr.Main_Go===_r?(zg=Sy,Qg()):kr.Main_Go===fr?sM():kr.Main_Go===ar?BE():kr.Main_Go===or?cC():kr.Main_Go===sr?(zg=Ty,Qg()):kr.Main_Go===hr?Lk():kr.Main_Go===mr?Cb():kr.Main_Go===pr?(zg=Gy,Qg()):kr.Main_Go===vr?(zg=Iy,Qg()):kr.Main_Go===gr?(zg=Uy,Qg()):kr.Main_Go===yr?(zg=xy,Qg()):kr.Main_Go===br?(zg=By,Qg()):kr.Main_Go===wr&&FM(),zl=window.setTimeout(nu,3e3),e&&o_()}function su(){d_("Main_values",JSON.stringify(kr))}function du(){kr=Wg(kr,r_("Main_values",{}))}function lu(e){e===er?Zg():e===tr?io():e===nr?Zg():e===ir?Zg():e===dr?hw():e===lr?$b():e===rr?Vw():e===cr?Yo():e===ur?qs():e===_r?Zg():e===fr?dM():e===ar?OE():e===or?uC():e===sr?Zg():e===hr?Bk():e===mr?Eb():e===pr?Zg():e===vr?Zg():e===gr?Zg():e===yr?Zg():e===br?Zg():e===wr&&qM(),Ec("settings_scroll")&&oA()}function ru(){Ac("label_refresh","icon-refresh",t+":"+Yt),Ac("label_side_panel","icon-ellipsis",Rn),Ic("top_bar_user","icon_center_focus"),xc("top_bar_live",f),xc("top_bar_user",_),xc("top_bar_featured",an),xc("top_bar_game",h),xc("top_bar_vod",Kt),xc("top_bar_clip",U)}function cu(){Ac("label_side_panel","icon-arrow-circle-left",I),mu("top_bar_live"),mu("top_bar_game"),mu("top_bar_vod"),mu("top_bar_clip"),mu("top_bar_featured"),Mc("top_bar_user","icon_center_focus")}function uu(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function _u(e){return e=new Date(e),Lr?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function fu(){_c&&(rc="Android: "+cc+" Web: "+lc,hu(cc)&&Cc("label_update")),Sc("dialog_about_text",Mi+ye+rc+Ii)}function hu(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(sc)||parseInt(e[2])<parseInt(dc.split(".")[1])}function mu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function pu(e){Kl=e}function vu(e){var t=0;return Kl<e?t=-1:e<Kl&&(t=1),Kl=e,t}function gu(e){$l.src=e}function yu(e){return(Tr=document.createElement("td")).setAttribute("id",e),Tr.className="stream_cell",Tr}function bu(e,t,n){return(Tr=document.createElement("td")).setAttribute("id",t[4]+e),Tr.setAttribute(oc,n[0]),Tr.setAttribute("data-id",n[1]),Tr.className="stream_cell",Tr.innerHTML=Au(e,t,n),Tr}function wu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(oc,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=Au(a,n,t),i.setAttribute("id",n[4]+a)}function Au(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[2]+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function ku(e,t,n,i,a){return e<Jr&&gu(a[0]),(Tr=document.createElement("td")).setAttribute("id",i[8]+t),Tr.setAttribute(oc,JSON.stringify(n)),Tr.className="stream_cell",Tr.innerHTML=Eu(t,i,a),Tr}function Cu(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(oc,JSON.stringify(t)),a.innerHTML=Eu(o,i,n),a.setAttribute("id",i[8]+o)}function Eu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" alt="" class="stream_img" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+CI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Mu(e,t,n){return(Tr=document.createElement("td")).setAttribute("id",t[5]+e),Tr.setAttribute(oc,n[0]),Tr.className="stream_cell",Tr.innerHTML=Iu(e,t,n),Tr}function Iu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[1]+'" onerror="this.onerror=null;this.src=\''+Bi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Su(){Er=!0}function xu(){Cr=!0}function Pu(){Cr=!1,window.setTimeout(xu)}function Tu(){return!Cr||!Er}function Lu(e,t,n,i,a,o){Mc(n[0]+e+"_"+t,ac),Dc(t,e,i,a),vu(e)||o?1<e?eu(e+1,0,n[0])?Ju(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Su():Ju(n[6],.07*screen.height):Su()}function Bu(e,t,n,i,a,o){Mc(n[0]+e+"_"+t,ac),Dc(t,e,i,a),vu(e)||o?e?eu(e+1,0,n[0])&&Ju(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):Ju(n[10],.07*screen.height):Su()}function Ou(e,t,n,i,a){Mc(n[0]+e+"_"+t,ac),Dc(t,e,i,a),vu(e)?Ju(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Su()}function Gu(e,t){return null===document.getElementById(t+e)}function Uu(e,t,n){Gu(e,t[0])||(document.body.removeEventListener("keydown",n),kr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(oc)),kr.Play_selectedChannel_id=kr.Play_selectedChannel[1],kr.Play_selectedChannel=kr.Play_selectedChannel[0],kr.Play_isHost=kr.Main_Go===or&&!Qh,kr.Play_isHost?(kr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,kr.Play_selectedChannelDisplayname=kr.Play_DisplaynameHost.split(ne)[1]):kr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,kr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],kr.Main_Go===ir&&(kr.Main_OldgameSelected=kr.Main_gameSelected),Ru())}function Ru(){document.body.addEventListener("keydown",$p,!1),kc("scene1"),Cc("scene2"),sp(),_p(),xp(),mo()&&!EC&&GC&&cE(),zu(sm)}function Nu(e,t,n){Gu(e,t[0])||(document.body.removeEventListener("keydown",n),Jy=JSON.parse(document.getElementById(t[8]+e).getAttribute(oc)),j_=parseInt(Jy[1]),kr.Play_gameSelected=Jy[2],kr.Main_selectedChannel=Jy[3],kr.Main_selectedChannelDisplayname=Jy[4],kr.Main_selectedChannelLogo=Jy[5],kr.Main_selectedChannel_id=Jy[6],kr.ChannelVod_vodId=Jy[7],Hs=parseInt(Jy[8]),Vy=Jy[9],Fy=Jy[10],Ny=Jy[11],Jy=Jy[0],Hy=document.getElementById(t[4]+e).textContent,Dy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Lf,!1),kc("scene1"),Cc("scene2"),_p(),np(),Wm(),Km(),mo()&&!EC&&GC&&cE(),zu(tf))}function Du(e,t,n){Gu(e,t[0])||(document.body.removeEventListener("keydown",n),kr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(oc)),Ps=parseInt(kr.ChannelVod_vodId[1]),Bs=kr.ChannelVod_vodId[2],kr.Play_gameSelected=kr.ChannelVod_vodId[3],kr.Main_selectedChannel=kr.ChannelVod_vodId[4],jh=kr.ChannelVod_vodId[5],kr.ChannelVod_vodId=kr.ChannelVod_vodId[0].substr(1),kr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Vs=document.getElementById(t[4]+e).textContent,Js=document.getElementById(t[5]+e).textContent,Ds=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Vu())}function Vu(){document.body.addEventListener("keydown",qg,!1),kc("scene1"),Cc("scene2"),gg(),_p(),np(),Km(),Rv=!1,mo()&&!EC&&GC&&cE(),zu(qv)}function Ju(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Su,10)}function Hu(e,t){Er=!1,Ic(t[0]+e,ac)}function Fu(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(Zl&&console.log("Main_Checktylesheet reloading"),qu("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):Zl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function qu(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function zu(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Xu(){var e=(new Date).getTime()+uc;return e=new Date(e),(Lr?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Um(e.getHours())+":"+Um(e.getMinutes())}function Yu(){document.hidden||(ju(),window.setTimeout(ju,2e4))}function ju(){document.hidden||(xc("label_clock",Xu()),fc="?"+Math.random())}function Wu(){document.hidden||mo()&&window.setTimeout(function(){eE()||EC||(Wf=Ka[kr.Users_Position].name,JC())},5e3)}function Qu(e){switch(e.keyCode){case zi:Uc();break;case Hi:2<++Sr&&(Sr=0),Rc(),Bc(),Oc();break;case Vi:--Sr<0&&(Sr=2),Rc(),Bc(),Oc();break;case qi:_c&&Sr?1===Sr?(Uc(),Android.mclose(!1)):2===Sr&&Android.mclose(!0):Uc()}}pc();var Zu=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Ku=[er,fr,br,nr,pr,vr],$u=!1;function e_(e){if(!($u||zg.FirstLoad||Tu()))switch(e.keyCode){case zi:Qc()?(i_(),Wc()):Xc()?(i_(),zc()):kr.Main_Go===ir?(kr.Main_OldgameSelected=kr.Main_gameSelected,kr.Games_return?(kr.Main_Go=lr,kr.Main_gameSelected=kr.gameSelectedOld):(kr.Main_Go=kr.Main_BeforeAgame,kr.Main_BeforeAgame=er),gy(kr.Main_Go),n_(),ou()):kr.Main_Go===yr?(gy(ir),n_(),ou()):kr.Main_Go===sr?(gy(fr),n_(),ou()):kr.Main_Go===_r?(gy(cr),n_(),ou()):kr.Main_Go===gr?(gy(ir),n_(),ou()):kr.Main_Go===ar?(kr.Main_Go=fr,OE(),n_(),ou()):kr.Main_Go===or?(kr.Main_Go=fr,uC(),n_(),ou()):kr.Main_Go===wr?(kr.Main_Go=fr,qM(),n_(),ou()):kr.Main_Go===hr?(kr.Main_Go=fr,Bk(),n_(),ou()):kr.Main_Go===cr?(kr.Main_Go=kr.Main_BeforeChannel,kr.Main_BeforeChannel=er,Yo(),kr.Main_selectedChannel_id="",n_(),ou()):kr.Main_Go===ur?(kr.Main_Go=cr,qs(),n_(),ou()):kr.Main_Go===rr?(kr.Main_Go===kr.Main_BeforeSearch?kr.Main_Go=er:kr.Main_Go=kr.Main_BeforeSearch,Vw(),kr.Search_isSearching=!1,n_(),ou()):kr.Main_Go===lr?(kr.Main_Go===kr.Main_BeforeSearch?kr.Main_Go=er:kr.Main_Go=kr.Main_BeforeSearch,kr.Search_isSearching=!1,$b(),n_(),ou()):kr.Main_Go===mr?(kr.Main_Go===kr.Main_BeforeSearch?kr.Main_Go=er:kr.Main_Go=kr.Main_BeforeSearch,kr.Main_selectedChannel_id&&ps(),Eb(),kr.Search_isSearching=!1,n_(),ou()):(n_(),dk(e_));break;case Hi:if(kr.Search_isSearching||kr.Main_Go===cr||kr.Main_Go===ur||kr.Main_Go===_r||kr.Main_Go===rr||kr.Main_Go===lr||kr.Main_Go===mr)break;Ic(Zu[kr.Main_CenterLablesVectorPos],"icon_center_line"),kr.Main_CenterLablesVectorPos++,5<kr.Main_CenterLablesVectorPos&&(kr.Main_CenterLablesVectorPos=0),i_(),a_();break;case Vi:if(kr.Search_isSearching||kr.Main_Go===cr||kr.Main_Go===ur||kr.Main_Go===_r||kr.Main_Go===rr||kr.Main_Go===lr||kr.Main_Go===mr)break;Ic(Zu[kr.Main_CenterLablesVectorPos],"icon_center_line"),kr.Main_CenterLablesVectorPos--,kr.Main_CenterLablesVectorPos<0&&(kr.Main_CenterLablesVectorPos=5),i_(),a_();break;case Fi:Ic(Zu[kr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",e_),Mr=!1,ou();break;case qi:s_()}}function t_(e){window.clearTimeout(zl),iu(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",e_),document.body.addEventListener("keydown",e_,!1),i_()}function n_(){Ic(Zu[kr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",e_),Mr=!1}function i_(){Mr=!0,Mc(Zu[kr.Main_CenterLablesVectorPos],"icon_center_line")}function a_(){lu(kr.Main_Go),kr.Main_Go=Ku[kr.Main_CenterLablesVectorPos],kr.Main_Go!==fr||wo()?au(!0):(kr.Main_Go=tr,n_(),au())}function o_(){kr.Main_Go===er?(zg=Ly,document.body.removeEventListener("keydown",wy)):kr.Main_Go===fr?document.body.removeEventListener("keydown",AM):kr.Main_Go===ir?(zg=Oy,document.body.removeEventListener("keydown",wy)):kr.Main_Go===br?(zg=By,document.body.removeEventListener("keydown",wy)):kr.Main_Go===rr?document.body.removeEventListener("keydown",Kw):kr.Main_Go===lr?document.body.removeEventListener("keydown",rw):kr.Main_Go===mr?document.body.removeEventListener("keydown",Nb):kr.Main_Go===ur?document.body.removeEventListener("keydown",ad):kr.Main_Go===cr?document.body.removeEventListener("keydown",vs):kr.Main_Go===or?document.body.removeEventListener("keydown",kC):kr.Main_Go===wr?document.body.removeEventListener("keydown",dI):kr.Main_Go===hr?document.body.removeEventListener("keydown",Xk):kr.Main_Go===nr?(zg=Py,document.body.removeEventListener("keydown",wy)):kr.Main_Go===_r?(zg=Sy,document.body.removeEventListener("keydown",wy)):kr.Main_Go===pr?(zg=Gy,document.body.removeEventListener("keydown",wy)):kr.Main_Go===vr?(zg=Iy,document.body.removeEventListener("keydown",wy)):kr.Main_Go===yr?(zg=xy,document.body.removeEventListener("keydown",wy)):kr.Main_Go===sr?(zg=Ty,document.body.removeEventListener("keydown",wy)):kr.Main_Go===gr?(zg=Uy,document.body.removeEventListener("keydown",wy)):kr.Main_Go===ar&&document.body.removeEventListener("keydown",ZE)}function s_(){window.clearTimeout(zl),iu(),kr.Main_Go!==cr&&(kr.Main_BeforeChannelisSet=!1),kr.Main_Go!==ir&&(kr.Main_BeforeAgameisSet=!1),Nc(),kr.Main_Go===er?(zg=Ly,Kg()):kr.Main_Go===fr?lM():kr.Main_Go===br?(zg=By,Kg()):kr.Main_Go===ir?(zg=Oy,Kg()):kr.Main_Go===hr?Ok():kr.Main_Go===cr?jo():kr.Main_Go===ur?zs():kr.Main_Go===rr?Jw():kr.Main_Go===lr?ew():kr.Main_Go===mr?Mb():kr.Main_Go===nr?(zg=Py,Kg()):kr.Main_Go===sr?(zg=Ty).loadingData||zg.key_refresh():kr.Main_Go===pr?(zg=Gy,Kg()):kr.Main_Go===vr?(zg=Iy,Kg()):kr.Main_Go===yr?(zg=xy,Kg()):kr.Main_Go===_r?(zg=Sy,Kg()):kr.Main_Go===gr?(zg=Uy,Kg()):kr.Main_Go===ar?GE():kr.Main_Go===or?_C():kr.Main_Go===wr&&zM(),zl=window.setTimeout(nu,3e3)}function d_(e,t){localStorage.setItem(e,t)}function l_(e,t){return parseInt(localStorage.getItem(e))||t}function r_(e,t){return JSON.parse(localStorage.getItem(e))||t}function c_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function u_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function __(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Ir=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function f_(e,t,n,i,a,o,s){_c?m_(e,t,n,i,a,o):p_(e,t,n,i,a,o,s)}function h_(e,t,n,i,a,o,s,d){_c&&d?m_(e,t,n,i,a,o):p_(e,t,n,i,a,o,s)}function m_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function p_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?hc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Zr,Qr),1<n&&d.setRequestHeader(Kr,tc),2<n&&d.setRequestHeader($r,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function v_(e,t,n,i,a,o,s){_c?g_(e,t,n,i,a,o):p_(e,t,n,i,a,o,s)}function g_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function g_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?hc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Zr,Qr),1<n&&d.setRequestHeader(Kr,tc),2<n&&d.setRequestHeader($r,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function y_(e){e.keyCode===zi&&w_()}function b_(e){e.keyCode===zi&&A_()}function w_(){Yl=window.setTimeout(function(){Android.mclose(!0)},5e3)}function A_(){window.clearTimeout(Yl)}var k_=0,C_=null,E_=0,M_=!1,I_=0,S_=0,x_=!1,P_=0,T_=2e3,L_=5,B_="source",O_=B_,G_=0,U_=[],R_="",N_=!1,D_=0,V_=0,J_=1,H_=!1,F_=0,q_=!1,z_=!1,X_=2e3,Y_=[0,5],j_=0,W_=!1,Q_=!1,Z_=["next_button","back_button"],K_=0,$_=!1,ef=!0;function tf(){Xm(),xp(),pm(document.getElementById("stream_info_icon"),kr.Main_selectedChannelLogo),xc("stream_info_name",kr.Main_selectedChannelDisplayname),Sc("stream_info_title",Vy),Sc("stream_info_game",Ny+" "+Dy+" "+Fy),xc("stream_live_icon",Hy),xc("progress_bar_duration",Rm(j_)),Pg((Wh=Y_)[1]),Pc("stream_info_title"),kr.Play_isHost=!1,xc("progress_bar_current_time",Rm(0)),xc("stream_live_time",""),xc("stream_watching_time",""),H_=null!==kr.ChannelVod_vodId,il=Gt+".",H_?(nl=Hs,cl()):Nl(),Sc("pause_button",'<i class="pause_button3d icon-pause"></i>'),Cc("progress_pause_holder"),Pf(),Cc("scene_channel_panel_bottom"),E_=F_=0,window.clearInterval(C_),z_=!1,Jf=-13,D_=V_=0,G_=2,pf(),Rp(3),Ph=!1,Cp(),mo()?(na=!0,ia=kr.Main_selectedChannel_id,ba()):zm(),document.addEventListener("visibilitychange",uf,!1),M_=!1,x_=!(S_=I_=0),nf(),document.body.removeEventListener("keyup",Su)}function nf(){P_=0,T_=2e3,af()}function af(){f_("https://clips.twitch.tv/api/v2/clips/"+Jy+"/status",T_,1,null,sf,of,!0)}function of(){++P_<L_?(T_+=250,af()):(Ym(),Fp(3))}function sf(e){U_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)U_.length?U_.push({id:e[t].quality+"p"+df(e[t].frame_rate),url:e[t].source}):U_.push({id:e[t].quality+"p"+df(e[t].frame_rate)+" (source)",url:e[t].source});V_=J_,lf()}function df(e){return 40<e?60:""}function lf(){window.clearInterval(C_),R_=U_[G_=0].url,-1!==B_.indexOf("source")&&(B_="source");for(var e=0;e<If();e++){if(U_[e].id===B_){R_=U_[G_=e].url;break}-1!==U_[e].id.indexOf(B_)&&(R_=U_[G_=e].url)}O_=B_,Zl&&console.log("PlayClip_onPlayer:",'\n\n"'+R_+'"\n'),V_=J_,_c&&x_&&Android.startVideoOffset(R_,3,N_?-1:Android.gettime()),N_=!1,rf()}function rf(){rh&&!fp()&&up(),_c&&(E_=0,zh=1+X_/1e3,q_=!1,window.clearInterval(C_),C_=window.setInterval(_f,Xh))}function cf(e){xc("progress_bar_duration",Rm(j_=e/1e3)),Ef()}function uf(){document.hidden&&hf()}function _f(){_c&&(D_=Android.gettime()),j_<D_/1e3&&(_c&&Android.play(!1),Play_PannelEndStart(3)),x_&&k_===D_&&!Om()?++E_>zh&&(q_&&z_&&G_<If()-1?G_++:!q_&&z_&&F_++,navigator.onLine?1<F_?Bm(F_,3,ff):(Sf(),lf(),z_=!0):Lm(!1,3)):(E_=F_=0,z_=!1),k_=D_}function ff(e){if(!e){if(!(G_<If()-1))return void Lm(!1,3);G_++}F_=0,Sf(),lf(),z_=!0}function hf(){x_&&($_=!1,mf(),Km(),Hm())}function mf(){kf(),U_=[],window.clearInterval(C_),_c&&Android.stopVideo(3),x_=!1,Bl(),Fm(),nE(),document.body.removeEventListener("keydown",Lf),document.removeEventListener("visibilitychange",uf),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Hs=0}function pf(){var e,t=vf(1,0),n=vf(-1,zg.ColoumnsCount-1);Q_=W_=!1,t?(W_=!0,xc("next_button_text_name",(e=JSON.parse(document.getElementById(zg.ids[8]+t).getAttribute(oc)))[4]),Sc("next_button_text_title",e[9]),xc("end_next_button_text_name",e[4]),Sc("end_next_button_text_title",e[9]),gf(0,1)):gf(0,0),n?(Q_=!0,xc("back_button_text_name",(e=JSON.parse(document.getElementById(zg.ids[8]+n).getAttribute(oc)))[4]),Sc("back_button_text_title",e[9]),gf(1,1)):gf(1,0)}function vf(e,t){return eu(zg.posY,zg.posX+e,zg.ids[0])?zg.posY+"_"+(zg.posX+e):eu(zg.posY+e,t,zg.ids[0])?zg.posY+e+"_"+t:null}function gf(e,t){document.getElementById(Z_[e]).style.opacity=t}function yf(){K_?1===K_?bf():-1===K_&&wf():(H_&&kr.Play_ChatForceDisable&&(Om()?Tl(ll):Ll()),Pp()||kp(3))}function bf(){by(1,0),Af()}function wf(){by(-1,zg.ColoumnsCount-1),Af()}function Af(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",zu(function(){mf(),Nu(zg.posY+"_"+zg.posX,zg.ids,wy),e.style.transition=""})}function kf(){xv=!1,Sv=Pv=0,rp(),B_=O_,document.getElementById("scene_channel_panel").style.opacity="0",_c&&Ig(Android.gettime()/1e3,j_,!0),Sc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(nv)}function Cf(){Ef(),Gm(),nv=window.setInterval(Ef,1e3),Km(),wg(),Mf(),Sf(),document.getElementById("scene_channel_panel").style.opacity="1",xf()}function Ef(){_c&&Ig(Android.gettime()/1e3,j_,!xv)}function Mf(){for(var e=G_=0;e<If();e++){if(U_[e].id===B_){G_=e;break}-1!==U_[e].id.indexOf(B_)&&(G_=e)}}function If(){return U_.length}function Sf(){1===If()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):G_?G_===If()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(B_=U_[G_].id).indexOf("source")?xc("quality_name",B_.replace("source",ge)):xc("quality_name",B_)}function xf(){qf=window.setTimeout(kf,5e3+Nv)}function Pf(){document.getElementById("quality_name").style.width="16ch",xc("open_vod_text",H_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Tf(){H_?(kr.vodOffset=Hs,mf(),document.body.addEventListener("keydown",qg,!1),Cp(),zu(qv)):(Ph=!0,jm(ln),window.setTimeout(function(){Ph=!1,Wm()},2e3))}function Lf(e){if(V_!==J_)switch(e.keyCode){case zi:$m()?(Km(),hf()):Zm()}else switch(e.keyCode){case Vi:eE()?Qf&&!EC&&(_E(),Qf--,dE()):Yf&&!op()&&fp()?(Df++,bp()):op()?(rp(),2===Uv?(Mp(),5<++xh&&(xh=0),Ep()):Uv?1===Uv&&-1<K_&&(K_--,Q_||!K_?Ag():K_++):(Lg(-1,j_),Nv=2500),xf()):Pp()?(Gp(),Bp(),--Gh<(W_?-1:0)&&(Gh=3),Lp()):Cf();break;case Hi:eE()?Qf<PC-1&&!EC&&(_E(),Qf++,dE()):!Yf||op()||Pp()?op()?(rp(),2===Uv?(Mp(),--xh<0&&(xh=5),Ep()):Uv?1===Uv&&K_<1&&(K_++,W_||!K_?Ag():K_--):(Lg(1,j_),Nv=2500),xf()):Pp()?(Gp(),Bp(),3<++Gh&&(Gh=W_?-1:0),Lp()):Cf():d_("ChatEnable",(rh=fp()||Pp()?(_p(),!1):(up(),!0))?"true":"false");break;case Ji:Pp()?Gp():op()?(2===Uv&&1!==xh?(Uv--,Ag()):1===Uv?(Uv--,Ag()):0<G_&&1===xh&&(G_--,Sf()),rp(),xf()):eE()?eE()?sE():Cf():tE();break;case Fi:Pp()?Gp():op()?(Uv?1===Uv?(Uv++,Ag()):G_<If()-1&&1===xh&&(G_++,Sf()):(Uv++,Ag()),rp(),xf()):eE()?nE():Yf&&fp()?(4<++Ff?yp(!(Ff=1)):4===Ff&&yp(!0),vp(!0)):Cf();break;case qi:Pp()?Up(3):op()?Uv?1===Uv?yf():Hp(3):(rp(),xf(),Sv&&Sg()):eE()?(mf(),Uu(Qf,DC,$p)):Cf();break;case zi:op()?kf():eE()?nE():$m()?(Km(),hf()):Zm();break;case Ni:case Ri:case Di:H_&&!kr.Play_ChatForceDisable&&(Om()?Tl(ll):Ll()),Pp()||kp(3)}}var Bf,Of,Gf,Uf,Rf,Nf,Df=0,Vf=Df,Jf=-5,Hf=.55,Ff=3,qf=null,zf="source",Xf=zf,Yf=!0,jf=!1,Wf="",Qf=0,Zf=2e3,Kf=0,$f=1,eh=2,th=0,nh=null,ih=0,ah=0,oh=0,sh="",dh=[],lh=0,rh=!1,ch=null,uh=null,_h=null,fh="",hh=0,mh=5,ph=0,vh=5,gh=0,yh=!1,bh=null,wh=!1,Ah=0,kh=null,Ch=0,Eh=0,Mh=!1,Ih=!1,Sh=!1,xh=1,Ph=!1,Th=!1,Lh=1e4,Bh=2e3,Oh="",Gh=0,Uh=3,Rh=null,Nh="",Dh=0,Vh=0,Jh="",Hh=!0,Fh=!1,qh=!1,zh=7,Xh=1e3,Yh=0,jh="",Wh=[],Qh=!1,Zh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Kh=[0,0,0,1,2,2,2,1],$h=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],em=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],tm=1,nm=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function im(){Rf=document.getElementById("chat_container"),Nf=document.getElementById("inner_progress_bar"),Df=l_("ChatPositionsValue",0),Ff=l_("ChatSizeValue",3),rh=c_("ChatEnable",!1),Yf=c_("Play_isFullScreen",!0),vp(!1),gp(!1),om()}function am(e){e?void 0!==Bf&&(Df=Bf,Ff=Gf,(rh=Of)||_p(),vp(!1)):(Bf=Df,Of=rh,Gf=Ff,Df=0,up(),Ff=4,yp(rh=!0),vp(!1),jd&&(jd.scrollTop=jd.scrollHeight)),d_("Play_isFullScreen",Yf)}function om(){tm=hA("chat_font_size");for(var e=0;e<nm.length;e++)Ic("chat_inner_container",nm[e]);Mc("chat_inner_container",nm[tm])}function sm(){Xm(),Sc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Pi+f.toUpperCase()+"</div>"),mu("stream_info_title"),H_=!(Th=!1),pm(document.getElementById("stream_info_icon"),Oi),kr.Play_isHost?xc("stream_info_name",kr.Play_DisplaynameHost):xc("stream_info_name",kr.Play_selectedChannelDisplayname),gf(0,0),gf(1,0),kr.Play_WasPlaying=1,su(),jf=kr.Play_isHost,kr.Play_isHost=!1,Fh=!1,Cc("scene_channel_panel_bottom"),Vh=Dh=0,xc("stream_watching_time",g+Rm(0)),fh=Nm(0),xc("stream_live_time",y+fh),kc("progress_pause_holder"),Qh=!1,Rp(1),Jf=-5,Ch=Eh=Yh=0,window.clearInterval(kh),Ih=!1,Lh=3e3,Hh=!(ph=0),th=Kf,Sh=!(yh=!(oh=ah=ih=wh=0)),document.addEventListener("visibilitychange",lm,!1),cm(),vm(),document.body.removeEventListener("keyup",Su),nh=window.setInterval(fm,6e4)}function dm(e){jm(e)}function Play_CheckResume(){yh&&lm(),pv&&$v(),x_&&(hf(),window.clearInterval(C_))}function lm(){document.hidden?Pp()?(Km(),_p(),Vm()):(Fm(),Sh=!1,qd(),window.clearInterval(nh)):(yh=!0,np(),yh&&(Xm(),Lh=3e3,Fh=!(ph=0),Th?fm():cm(),th=Kf,gh=0,navigator.onLine?vm():Uf=window.setInterval(rm,100),nh=window.setInterval(fm,6e4)))}function rm(){(navigator.onLine||200<gh)&&(window.clearInterval(Uf),vm()),gh++}function cm(){p_("https://api.twitch.tv/kraken/streams/"+kr.Play_selectedChannel_id,Lh,2,null,um,_m,!1)}function um(e){null!==(e=JSON.parse(e)).stream&&(xc("stream_info_name",jf?kr.Play_DisplaynameHost:kr.Play_selectedChannelDisplayname),kr.Play_selectedChannel_id=e.stream.channel._id,Sc("stream_info_title",CI.parse(e.stream.channel.status,!1,!0)),kr.Play_gameSelected=e.stream.game,Oh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",xc("stream_info_game",v+kr.Play_gameSelected+m+Zc(e.stream.viewers)+" "+J+Oh),kr.Play_selectedChannelLogo=e.stream.channel.logo,Th=!0,pm(document.getElementById("stream_info_icon"),kr.Play_selectedChannelLogo),fh=e.stream.created_at,mo()?(na=!0,ia=kr.Play_selectedChannel_id,ba()):zm())}function _m(){ph<vh&&(Lh+=500,window.setTimeout(function(){yh&&cm()},750)),ph++}function fm(){p_("https://api.twitch.tv/kraken/streams/"+kr.Play_selectedChannel_id,3e3,2,null,hm,mm,!1)}function hm(e){null!==(e=JSON.parse(e)).stream&&(Sc("stream_info_title",CI.parse(e.stream.channel.status,!1,!0)),kr.Play_gameSelected=e.stream.game,xc("stream_info_game",v+kr.Play_gameSelected+m+Zc(e.stream.viewers)+" "+J+Oh),Th||pm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function mm(){Yh<vh?(window.setTimeout(function(){yh&&fm()},2500),Yh++):Yh=0}function pm(e,t){e.onerror=function(){this.onerror=null,this.src=Oi,Th=!1},e.src=t}function vm(){hh=0,Bh=2e3+(Fh?3e3:0),gm()}function gm(){var e,t;if(e=th===Kf?"https://api.twitch.tv/api/channels/"+kr.Play_selectedChannel+"/access_token"+(mo()&&Ka[kr.Users_Position].access_token?"?oauth_token="+Ka[kr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+kr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(ih.token)+"&sig="+ih.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",_c){if(!(t=Android.mreadUrl(e,Bh,1,null)))return void bm();200===(t=JSON.parse(t)).status?(hh=0,yh&&km(t.responseText)):403===t.status?wm():404===t.status?qp():bm()}else(t=new XMLHttpRequest).open("GET",hc+e,!0),t.timeout=Bh,t.setRequestHeader(Zr,Qr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(hh=0,yh&&km(t.responseText)):403===t.status?(ym(t),Ql?Am():wm()):404===t.status?(ym(t),Ql?Am():qp()):(ym(t),bm()))},t.send(null)}function ym(e){Zl&&(console.log(e.status),console.log(e.responseText))}function bm(){yh&&Hh&&(++hh<mh+(Fh?7:0)?(Bh+=250,Fh?window.setTimeout(gm,500):gm()):Ql?Am():qp())}function wm(){Ym(),jm(Vn),window.setTimeout(function(){yh&&qp()},4e3)}function Am(){dh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],th=eh,yh&&Im()}function km(e){th===Kf?(ih=JSON.parse(e),th=$f,vm()):th===$f&&(dh=Cm(ah=e),th=eh,yh&&Im())}function Cm(e){for(var t,n=[],i="",a=1,o=Mm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=Em(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function Em(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Mm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Im(){window.clearInterval(kh),sh=dh[lh=0].url,-1!==zf.indexOf("source")&&(zf="source");for(var e=0;e<pp();e++){if(dh[e].id===zf){sh=dh[lh=e].url;break}-1!==dh[e].id.indexOf(zf)&&(sh=dh[lh=e].url)}Xf=zf,th=eh,Zl&&console.log("Play_onPlayer:",'\n\n"'+sh+'"\n'),_c&&yh&&Android.startVideo(sh,1),Sm()}function Sm(){qh=!1,rh&&!fp()&&up(),Sh=!0,xm(),_c&&(Ch=0,zh=1+Zf/1e3,Mh=!1,window.clearInterval(kh),kh=window.setInterval(Pm,Xh))}function xm(){kr.Play_ChatForceDisable?bd():Dl()}function Pm(){var e=!Om();_c&&(Dh=Android.gettime()),yh&&Ah===Dh&&e?zh<++Ch&&(Mh&&Ih&&lh<pp()-1?lh++:!Mh&&Ih&&Eh++,navigator.onLine?1<Eh?Bm(Eh,1,Tm):(mp(),Im(),Ih=!0):Lm(!1,1)):(Ch=Eh=0,Ih=!1),Ah=Dh,e&&Vh++}function Tm(e){if(!e){if(!(lh<pp()-1))return void qp();lh++}Eh=0,mp(),Im(),Ih=!0}function Lm(e,t){kr.Play_isHost=e,Rp(t),Fp(t)}function Bm(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Lm(!1,t))},i.send(null)}function Om(){return!!_c&&!Android.getPlaybackState()}function Gm(){var e=Xu();xc("stream_clock",e),xc("label_clock",e)}function Um(e){return e<10?"0"+e:e}function Rm(e){var t,n,i;return t=Um(parseInt(e)%60),n=Um((e=Math.floor(e/60))%60),i=Um(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Nm(e){return Rm(parseInt(e/1e3))}function Dm(e){return Nm((new Date).getTime()-new Date(e).getTime())}function Vm(){yh&&(Jm(),kr.Play_WasPlaying=0,Hm())}function Jm(){_c&&Android.stopVideo(1),yh=!1,nE(),Bl(),Fm(),qm(),kr.Play_selectedChannel_id=""}function Hm(){Ig(0,0),Cc("scene1"),kc("scene2"),tu()}function Fm(){sp(),np(),Wm(),xp(),jh="",lh===pp()-1&&(Xf=dh[0].id),fv===Mg()-1&&(ov=_v[0].id),G_===If()-1&&(O_=U_[0].id)}function qm(){Sh=!1,document.body.removeEventListener("keydown",$p),document.removeEventListener("visibilitychange",lm),qd(),window.clearInterval(nh),window.clearInterval(kh),Ph=!1}function zm(){Sc("fallow_text",Pi+Lt),ea=!1}function Xm(){_c?Android.mshowLoading(!0):Cc("dialog_loading_play")}function Ym(){_c?Android.mshowLoading(!1):kc("dialog_loading_play")}function jm(e){xc("dialog_warning_play_text",e),Cc("dialog_warning_play")}function Wm(){kc("dialog_warning_play")}function Qm(){return Ec("dialog_warning_play")}function Zm(){$m()?Km():(Cc("play_dialog_exit"),ch=window.setTimeout(Zm,3e3))}function Km(){window.clearTimeout(ch),kc("play_dialog_exit")}function $m(){return Ec("play_dialog_exit")}function ep(){window.clearTimeout(uh)}function tp(){window.clearTimeout(_h)}function np(){ep(),tp(),kc("play_dialog_simple_pause")}function ip(){Ym(),Om()?ap()?(kc("play_dialog_simple_pause"),_h=window.setTimeout(ip,8e3)):(Cc("play_dialog_simple_pause"),uh=window.setTimeout(ip,1500)):np()}function ap(){return Ec("play_dialog_simple_pause")}function op(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function sp(){rp(),document.getElementById("scene_channel_panel").style.opacity="0",zf=Xf,window.clearInterval(nv)}function dp(){Cp(),hp(),mp(),lp(),nv=window.setInterval(lp,1e3),Gm(),Km(),document.getElementById("scene_channel_panel").style.opacity="1",cp()}function lp(){xc("stream_watching_time",g+Rm(Vh)),xc("stream_live_time",y+(-1===fh.indexOf("00:00")?Dm(fh):"00:00"))}function rp(){window.clearTimeout(qf),Nv=0}function cp(){qf=window.setTimeout(sp,5e3)}function up(){bp(),Cc("chat_container")}function _p(){kc("chat_container")}function fp(){return Ec("chat_container")}function hp(){for(var e=lh=0;e<pp();e++){if(dh[e].id===zf){lh=e;break}-1!==dh[e].id.indexOf(zf)&&(lh=e)}}function mp(){1===pp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):lh?lh===pp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(zf=dh[lh].id).indexOf("source")?xc("quality_name",zf.replace("source",ge)+dh[lh].band):xc("quality_name",zf+dh[lh].band)}function pp(){return dh.length}function vp(e){Rf.style.height=em[Ff-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=em[Ff-1].dialogTop+"%",bp(),Hd(),e&&wp(Nn+em[Ff-1].percentage),window.setTimeout(function(){jd&&(jd.scrollTop=jd.scrollHeight)},500),d_("ChatSizeValue",Ff)}function gp(e){Rf.style.backgroundColor="rgba(0, 0, 0, "+Hf+")",e&&wp(Dn+(100*Hf).toFixed(0)+"%")}function yp(e){Df=e?Kh[Vf=Df]:$h[Df][Vf]}function bp(){var e=4===Ff;Df<0?Df=e?2:7:(e?2:7)<Df&&(Df=0),Rf.style.top=(e?.2:Zh[Df].top+Zh[Df].sizeOffset[Ff-1])+"%",Rf.style.left=Zh[Df+(e?2:0)].left+"%",d_("ChatPositionsValue",Df)}function wp(e){window.clearTimeout(bh),xc("play_chat_dialog_text",e),Cc("play_chat_dialog"),bh=window.setTimeout(Ap,1e3)}function Ap(){kc("play_chat_dialog")}function kp(e){Om()?(np(),Sc("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(op()&&sp(),window.clearInterval(kh),kh=window.setInterval(Pm,Xh)):2===e?(op()&&gg(),window.clearInterval(Av),Av=window.setInterval(fg,Xh)):3===e&&(op()&&kf(),window.clearInterval(C_),C_=window.setInterval(_f,Xh)),_c&&Android.play(!0)):(window.clearInterval(kh),window.clearInterval(Av),window.clearInterval(C_),Sc("pause_button",'<i class="pause_button3d icon-play-1"></i>'),ip(),_c&&Android.play(!1))}function Cp(){Mp(),xh=1,Ep()}function Ep(){Mc("scene2_pannel_"+xh,"playbotton_focus")}function Mp(){Ic("scene2_pannel_"+xh,"playbotton_focus")}function Ip(e){sv=th=-1,V_=-1,nE(),_p(),sp(),kf(),gg(),Ph||Wm(),Ym(),Km(),3===e&&W_&&($_||ef)&&(Bp(),Gh=-1),Lp()}function Sp(){Cc("dialog_end_stream")}function xp(){kc("dialog_end_stream"),Gp(),Tp()}function Pp(){return Ec("dialog_end_stream")}function Tp(){Bp(),Gh=0,Lp()}function Lp(){Mc("dialog_end_"+Gh,"dialog_end_icons_focus")}function Bp(){Ic("dialog_end_"+Gh,"dialog_end_icons_focus")}function Op(e){1===e?Nh=kr.Play_selectedChannelDisplayname+" "+f:2===e?Nh=kr.Main_selectedChannelDisplayname+$t:3===e&&(Nh=kr.Main_selectedChannelDisplayname+Gt),Sc("dialog_end_stream_text",Nh+S+pi+(3===e&&W_&&($_||ef)?li:tn)+Uh+"..."),Pp()?(sv=th=eh,V_=J_,-1===--Uh?(Sc("dialog_end_stream_text",Nh+S+pi+tn+"0..."),Km(),_p(),1===e?Vm():2===e?mg():3===e&&(W_&&($_||ef)?bf():hf())):Rh=window.setTimeout(function(){Op(e)},1e3)):Rh=window.setTimeout(function(){Op(e)},50)}function Gp(){window.clearTimeout(Rh),Sc("dialog_end_stream_text",Nh+S+pi+nn)}function Up(e){var t=!0;-1===Gh&&W_?bf():Gh?1===Gh?kr.Play_isHost?(kr.Play_DisplaynameHost=kr.Play_selectedChannelDisplayname+ne,kr.Play_selectedChannel=Jh.target_login,kr.Play_selectedChannelDisplayname=Jh.target_display_name,kr.Play_DisplaynameHost=kr.Play_DisplaynameHost+kr.Play_selectedChannelDisplayname,Jm(),document.body.addEventListener("keydown",$p,!1),kr.Play_selectedChannel_id=Jh.target_id,zu(sm)):Tf():2===Gh?Np(e):3===Gh&&Vp(e):2===e?_v.length?(Cv=!(Jv=!0),cg(),np(),nl=Bv=0,cl()):(t=!1,jm(ei),window.setTimeout(function(){Wm()},2e3)):3===e&&(U_.length?(q_=!(N_=!0),lf(),np(),H_?(Bv=0,nl=Hs,cl()):Nl()):(t=!1,jm(ei),window.setTimeout(function(){Wm()},2e3))),1!==Gh&&3===Gh&&""===kr.Play_gameSelected&&(t=!1),t&&xp()}function Rp(e){e?1===e?(Bp(),Gh=2,Lp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Tp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Tp(),document.getElementById("dialog_end_-1").style.display=W_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",xc("dialog_end_vod_text",H_?sn:dn)):(Bp(),Gh=1,Lp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",xc("dialog_end_vod_text",un))}function Np(e){kr.Main_BeforeChannelisSet||kr.Main_Go===ur||kr.Main_Go===_r||(kr.Main_BeforeChannel=kr.Main_BeforeAgameisSet&&kr.Main_Go!==ir?kr.Main_BeforeAgame:kr.Main_Go,kr.Main_BeforeChannelisSet=!0),lu(kr.Main_Go),kr.Main_Go=cr,1===e?(kr.Main_selectedChannel_id=kr.Play_selectedChannel_id,kr.Main_selectedChannel=kr.Play_selectedChannel,kr.Main_selectedChannelDisplayname=kr.Play_selectedChannelDisplayname,Lo=ea,_p(),Vm()):2===e?mg():3===e&&hf()}function Dp(e){kr.Search_isSearching||(kr.Main_BeforeSearch=kr.Main_Go),lu(kr.Main_Go),kr.Main_Go=dr,1===e?(_p(),Vm()):2===e?mg():3===e&&hf()}function Vp(e){if(""===kr.Play_gameSelected)return Ph=!0,jm(Qn),void window.setTimeout(function(){Ph=!1,Wm()},2e3);kr.Main_BeforeAgameisSet||kr.Main_Go===gr||kr.Main_Go===yr||(kr.Main_BeforeAgame=kr.Main_BeforeChannelisSet&&kr.Main_Go!==cr&&kr.Main_Go!==ur&&kr.Main_Go!==_r?kr.Main_BeforeChannel:kr.Main_Go,kr.Main_BeforeAgameisSet=!0),lu(kr.Main_Go),kr.Main_Go=ir,kr.Main_gameSelected=kr.Play_gameSelected,_p(),1===e?Vm():2===e?mg():3===e&&hf()}function Jp(){mo()&&Ka[kr.Users_Position].access_token?ea?Sa():Ea():(jm(Bt),Ph=!0,window.setTimeout(function(){Wm(),Ph=!1},2e3))}function Hp(e){var t=document.getElementById("scene_channel_panel");2!==xh&&(t.style.transition="none",t.style.opacity="0"),zu(function(){xh?1===xh?(1===e?(Im(),sp()):2===e?(Cv=!1,cg(),gg()):3===e&&(q_=!1,lf(),kf()),np()):2===xh?(ia=1===e?kr.Play_selectedChannel_id:kr.Main_selectedChannel_id,Jp(),rp(),1===e?cp():2===e?kg():3===e&&xf()):3===xh?Vp(e):4===xh?Np(e):5===xh&&Dp(e):Tf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(kh),qp()):Fp(e)}function Fp(e){window.clearInterval(kh),window.clearInterval(C_),window.clearInterval(Av),Ip(e),Uh=3,Op(e),Sp()}function qp(){Xm(),th=-1,hh=0,Bh=2e3,qd(),window.clearInterval(nh),window.clearInterval(kh),""!==kr.Play_selectedChannel_id?jp():zp()}function zp(){p_("https://api.twitch.tv/kraken/users?login="+kr.Play_selectedChannel,Bh,2,null,Xp,Yp,!1)}function Xp(e){void 0!==(e=JSON.parse(e).users[0])?(kr.Play_selectedChannel_id=e._id,hh=0,Bh=2e3,jp()):Fp(1)}function Yp(){++hh<mh?(Bh+=250,zp()):Lm(!1,1)}function jp(){f_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(kr.Play_selectedChannel_id),Bh,1,null,Qp,Wp,!0)}function Wp(){++hh<mh?(Bh+=250,jp()):Lm(!1,1)}function Qp(e){void 0!==(Jh=JSON.parse(e).hosts[0]).target_login?(Ph=!0,jm(kr.Play_selectedChannelDisplayname+cn+ne+Jh.target_display_name),window.setTimeout(function(){Ph=!1},4e3),Rp(0),kr.Play_isHost=!0):(Rp(1),kr.Play_isHost=!1),Fp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?_g(t):3===e&&cf(t))}function Zp(){ea?(Sc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Sc("fallow_text",Pi+Mt)):(Sc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Sc("fallow_text",Pi+It))}function Kp(e){Pp()&&!$m()?(Gp(),Zm()):eE()?nE():op()&&!Dg()?e?gg():sp():Dg()&&$m()?(Ng(),pg(!1),Hm()):$m()?(Km(),_p(),e?mg():Vm()):(Qm()&&Wm(),Zm())}function $p(e){if(th!==eh)switch(e.keyCode){case zi:$m()?(Km(),_p(),Vm()):Zm()}else switch(e.keyCode){case Vi:eE()?Qf&&!EC&&(_E(),Qf--,dE()):Yf&&!op()&&fp()?(Df++,bp()):op()?(Mp(),5<++xh&&(xh=1),Ep(),rp(),cp()):Pp()?(Gp(),Bp(),--Gh<(kr.Play_isHost?1:2)&&(Gh=3),Lp()):dp();break;case Hi:eE()?Qf<PC-1&&!EC&&(_E(),Qf++,dE()):!Yf||op()||Pp()?op()?(Mp(),--xh<1&&(xh=5),Ep(),rp(),cp()):Pp()?(Gp(),Bp(),3<++Gh&&(Gh=kr.Play_isHost?1:2),Lp()):dp():d_("ChatEnable",(rh=fp()||Pp()?(_p(),!1):(up(),!0))?"true":"false");break;case Ji:op()?(0<lh&&1===xh&&(lh--,mp()),rp(),cp()):!eE()&&mo()?tE():Pp()?Gp():eE()&&sE();break;case Fi:op()?(lh<pp()-1&&1===xh&&(lh++,mp()),rp(),cp()):eE()?nE():Yf&&fp()?(4<++Ff?yp(!(Ff=1)):4===Ff&&yp(!0),vp(!0)):Pp()?Gp():dp();break;case qi:if(Pp())Up(1);else if(op())Hp(1);else if(eE()){var t=document.getElementById(DC[8]+Qf);null===t?iE():kr.Play_selectedChannel!==JSON.parse(t.getAttribute(oc))[0]?(Jm(),kr.Play_isHost=!1,Qh=!0,Uu(Qf,DC,$p)):iE()}else dp();break;case zi:Kp(!1);break;case Ni:case Ri:case Di:Pp()||kp(1)}}var ev,tv,nv,iv,av="source",ov=av,sv=0,dv=null,lv=0,rv=0,cv=0,uv="",_v=[],fv=0,hv=0,mv=5,pv=!1,vv=2e3,gv=0,yv=5,bv=1e4,wv=0,Av=null,kv=0,Cv=!1,Ev=0,Mv=!1,Iv=!1,Sv=0,xv=!1,Pv=0,Tv=2e3,Lv=!1,Bv=0,Ov={},Gv=0,Uv=0,Rv=!0,Nv=0,Dv=0,Vv=0,Jv=!1,Hv=[0,10,30,60,120,300,600,900,1200,1800],Fv=!1;function qv(){Xm(),xp(),Bv=0,xc("stream_live_time",""),xc("stream_watching_time",""),xc("progress_bar_current_time",Rm(0)),il=O+".",Sc("pause_button",'<i class="pause_button3d icon-pause"></i>'),kc("progress_pause_holder"),Dv=0,Pg((Wh=Hv)[1]),sv=Kf,H_=!0,Hs=0,kr.Play_isHost=!1,gf(0,0),gf(1,0),kr.vodOffset?(Xv(),Qv()):(Rv&&""!==kr.Main_selectedChannel_id?(pm(document.getElementById("stream_info_icon"),kr.Main_selectedChannelLogo),Ov["#"+kr.ChannelVod_vodId]||cl(),mo()?(ia=kr.Main_selectedChannel_id,na=!0,ba()):zm()):(Xv(),Yv()),xc("stream_info_name",kr.Main_selectedChannelDisplayname),Sc("stream_info_title",""),Sc("stream_info_game",Ds+" ["+Bs.toUpperCase()+"]"),xc("stream_live_icon",Vs),Pc("stream_info_game")),Ov["#"+kr.ChannelVod_vodId]&&!kr.vodOffset?(Ym(),Rg()):zv()}function zv(){window.setTimeout(function(){Cc("scene_channel_panel_bottom"),Cc("progress_pause_holder")},1e3),xc("progress_bar_duration",Rm(Ps)),kr.Play_WasPlaying=2,su(),iv=window.setInterval(tg,6e4),gu(jh),kv=Ev=0,window.clearInterval(Av),Ph=Lv=Mv=!(Jf=-13),xv=!1,cv=rv=lv=Pv=0,document.addEventListener("visibilitychange",$v,!1),Fv=!(pv=!(Iv=!1)),ng(),Rp(2),document.body.removeEventListener("keyup",Su)}function Xv(){gv=0,yv=5,bv=1e4}function Yv(){p_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(kr.Main_selectedChannel),bv,2,null,jv,Wv,!1)}function jv(e){void 0!==(e=JSON.parse(e).users[0])?(kr.Main_selectedChannelLogo=e.logo,kr.Main_selectedChannel_id=e._id,Ov["#"+kr.ChannelVod_vodId]||cl(),mo()?(ia=kr.Main_selectedChannel_id,na=!0,ba()):zm()):(kr.Main_selectedChannelLogo=Oi,kr.Main_selectedChannel_id=""),pm(document.getElementById("stream_info_icon"),kr.Main_selectedChannelLogo)}function Wv(){++gv<yv?(bv+=500,window.setTimeout(function(){pv&&Yv()},750)):tv=window.setTimeout(Yv,2500)}function Qv(){p_("https://api.twitch.tv/kraken/videos/"+kr.ChannelVod_vodId,bv,2,null,Kv,Zv,!1)}function Zv(){++gv<yv&&(bv+=2e3,Qv())}function Kv(e){e=JSON.parse(e),Sc("stream_info_title",CI.parse(e.title,!1,!0)),Sc("stream_info_game",Qt+v+e.game+" "+Zc(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),xc("stream_live_icon",N+_u(e.created_at)),xc("progress_bar_duration",Rm(Ps=parseInt(e.length))),Bv=1e3*kr.vodOffset,Ig(kr.vodOffset,Ps,!0),kr.Main_selectedChannelDisplayname=e.channel.display_name,xc("stream_info_name",kr.Main_selectedChannelDisplayname),kr.Main_selectedChannelLogo=e.channel.logo,pm(document.getElementById("stream_info_icon"),kr.Main_selectedChannelLogo),kr.Main_selectedChannel_id=e.channel._id,kr.Main_selectedChannel=e.channel.name,mo()?(na=!0,ia=kr.Main_selectedChannel_id,ba()):zm(),gu(e.increment_view_count_url)}function $v(){document.hidden?Pp()?(Km(),_p(),mg()):(tg(),Bg(),Ll(),Fm(),window.clearInterval(Av),window.clearInterval(iv)):(pv=!0,np(),pv&&(Xm(),gh=gh=0,navigator.onLine?ug():Uf=window.setInterval(eg,100),Tl(ll),Rp(2),iv=window.setInterval(tg,6e4)))}function eg(){(navigator.onLine||200<gh)&&(window.clearInterval(Uf),sv=Kf,ng()),gh++}function tg(){kr.vodOffset=_c?parseInt(Android.gettime()/1e3):0,su(),kr.vodOffset=0}function ng(){hv=0,Tv=2e3,ig()}function ig(){f_(sv===Kf?"https://api.twitch.tv/api/vods/"+kr.ChannelVod_vodId+"/access_token"+(mo()&&Ka[kr.Users_Position].access_token?"?oauth_token="+Ka[kr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+kr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(lv.token)+"&nauthsig="+lv.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Bh,1,null,sg,ag,!0)}function ag(){if(pv){var e;if(lv.token&&(e=JSON.parse(lv.token)),e&&0!==JSON.parse(lv.token).chansub.restricted_bitrates.length)return void dg();++hv<mv?(Tv+=250,ig()):Ql?og():(Ym(),Fp(2))}}function og(){_v=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],sv=eh,pv&&cg()}function sg(e){sv===Kf?(lv=JSON.parse(e),sv=$f,ng()):sv===$f&&(_v=Cm(rv=e),sv=eh,pv&&cg())}function dg(){mo()&&Ka[kr.Users_Position].access_token?(ia=kr.Main_selectedChannel_id,Ta()):(Ym(),jm(x+St),window.setTimeout(function(){pv&&mg()},4e3))}function lg(){Ym(),jm(x+xt),window.setTimeout(function(){pv&&mg()},4e3)}function rg(){Fv?(Ym(),jm(x+Pt),window.setTimeout(function(){pv&&mg()},4e3)):(Fv=!0,sv=Kf,ng())}function cg(){window.clearInterval(Av),uv=_v[fv=0].url,-1!==av.indexOf("source")&&(av="source");for(var e=0;e<Mg();e++){if(_v[e].id===av){uv=_v[fv=e].url;break}-1!==_v[e].id.indexOf(av)&&(uv=_v[fv=e].url)}ov=av,ug()}function ug(){Zl&&console.log("PlayVod_onPlayer:",'\n\n"'+uv+'"\n'),kr.vodOffset?(nl=kr.vodOffset,cl(),_c&&pv&&Android.startVideoOffset(uv,2,Jv?-1:1e3*kr.vodOffset),kr.vodOffset=0):_c&&pv&&Android.startVideoOffset(uv,2,Jv?-1:Android.gettime()),Jv=!1,rh&&!fp()&&up(),_c&&(kv=0,zh=3+vv/1e3,Cv=!1,window.clearInterval(Av),Av=window.setInterval(fg,Xh))}function _g(e){xc("progress_bar_duration",Rm(Ps=e/1e3)),bg()}function fg(){_c&&(Bv=Android.gettime()),Ps<Bv/1e3&&(_c&&Android.play(!1),Play_PannelEndStart(2)),pv&&wv===Bv&&!Om()?++kv>zh&&(Cv&&Mv&&fv<Mg()-1?fv++:!Cv&&Mv&&Ev++,navigator.onLine?1<Ev?Bm(Ev,2,hg):(Eg(),cg(),Mv=!0):Lm(!1,2)):(kv=Ev=0,Mv=!1),wv=Bv}function hg(e){if(!e){if(!(fv<Mg()-1))return void Lm(!1,2);fv++}Ev=0,Eg(),cg(),Mv=!0}function mg(){pv&&(_v=[],pg(!0),Hm())}function pg(e){e&&Bg(),_c&&Android.stopVideo(2),pv=!1,window.clearInterval(iv),window.clearInterval(tv),kr.Play_WasPlaying=0,Rv=!0,Bl(),nE(),Fm(),vg()}function vg(){document.body.removeEventListener("keydown",qg),document.removeEventListener("visibilitychange",$v),kr.vodOffset=0,window.clearInterval(dv),window.clearInterval(Av),Ps=0}function gg(){xv=!1,Sv=Pv=0,rp(),document.getElementById("scene_channel_panel").style.opacity="0",_c&&Ig(Android.gettime()/1e3,Ps,!0),Sc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",av=ov,window.clearInterval(nv)}function yg(e){bg(),Gm(),Km(),nv=window.setInterval(bg,1e3),e&&(wg(),Cg(),Eg(),kg()),document.getElementById("scene_channel_panel").style.opacity="1"}function bg(){_c&&Ig(Android.gettime()/1e3,Ps,!xv)}function wg(){Uv=1,K_=0,Ag()}function Ag(){Ic("pause_button","progress_bar_div_focus"),Ic("next_button","progress_bar_div_focus"),Ic("back_button","progress_bar_div_focus"),Ic("progress_bar_div","progress_bar_div_focus"),Uv?1===Uv?(K_?1===K_?Mc("next_button","progress_bar_div_focus"):-1===K_&&Mc("back_button","progress_bar_div_focus"):Mc("pause_button","progress_bar_div_focus"),Mp(),Sc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):2===Uv&&(Ep(),Sc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):(Mc("progress_bar_div","progress_bar_div_focus"),Mp(),Sv&&(Tg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function kg(){qf=window.setTimeout(gg,5e3+Nv)}function Cg(){for(var e=fv=0;e<Mg();e++){if(_v[e].id===av){fv=e;break}-1!==_v[e].id.indexOf(av)&&(fv=e)}}function Eg(){1===Mg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):fv?fv===Mg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(av=_v[fv].id).indexOf("source")?xc("quality_name",av.replace("source",ge)+_v[fv].band):xc("quality_name",av+_v[fv].band)}function Mg(){return _v.length}function Ig(e,t,n){xc("progress_bar_current_time",Rm(e)),n&&(Nf.style.width=e/t*100+"%")}function Sg(){np(),Pp()||(q_=Cv=!1,pv?(_c&&Android.startVideoOffset(uv,2,0<Vv?1e3*Vv:-1),nl=Vv):(nl=Hs,_c&&Android.startVideoOffset(R_,3,0<Vv?1e3*Vv:-1)),H_&&cl()),Sc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",xv=!1,Vv=Sv=Pv=0}function xg(){Dv=Pv=0,Pg(Wh[1])}function Pg(e){Sv&&!Uv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?xc("progress_bar_steps",Jn+e/60+Fn):xc("progress_bar_steps",e?Jn+e+Hn:Jn+Wh[1]+Hn)}function Tg(){xc("progress_bar_jump_to",ue+" ("+(Sv<0?"-":"")+Rm(Math.abs(Sv))+")"+_e+Rm(Vv))}function Lg(e,t){var n=_c?Android.gettime()/1e3:0;window.clearTimeout(ev),xv=!0,Pv<Wh.length-1&&Dv++%6==0&&Pv++,Sv+=Wh[Pv]*e,Vv=n+Sv,pv&&(Vv=10*Math.floor(Vv/10)),t<Vv?(Sv=t-n-Wh[1],Vv=n+Sv,Dv=Pv=0):Vv<0&&(Sv=0-n,Vv=Dv=Pv=0),Tg(),Nf.style.width=Vv/t*100+"%",Pg(Wh[Pv]*e),ev=window.setTimeout(xg,1e3)}function Bg(){var e=_c?parseInt(Android.gettime()/1e3):0,t="#"+kr.ChannelVod_vodId;300<e&&e<Ps-300?(Ov[t]&&delete Ov[t],Ov[t]=e,d_("PlayVod_VodIds",JSON.stringify(Ov))):Ps-300<e&&Ov[t]&&(delete Ov[t],d_("PlayVod_VodIds",JSON.stringify(Ov)))}function Og(){Ov=r_("PlayVod_VodIds",{});var e=Gg();250<e&&Ug(e-250)}function Gg(){var e=0;for(var t in Ov)Ov.hasOwnProperty(t)&&e++;return e}function Ug(e){var t=0;for(var n in Ov){if(!(t<e))break;delete Ov[n],t++}d_("PlayVod_VodIds",JSON.stringify(Ov))}function Rg(){kc("scene_channel_panel_bottom"),yg(!1),Sc("dialog_vod_saved_text",An+Nm(1e3*Ov["#"+kr.ChannelVod_vodId])),Cc("dialog_vod_start")}function Ng(){gg(),kc("dialog_vod_start"),Vg(),window.setTimeout(function(){Cc("scene_channel_panel_bottom")},1e3)}function Dg(){return Ec("dialog_vod_start")}function Vg(){Hg(),Gv=0,Jg()}function Jg(){Mc("dialog_vod_"+Gv,"dialog_end_icons_focus")}function Hg(){Ic("dialog_vod_"+Gv,"dialog_end_icons_focus")}function Fg(e){Ng(),e?(delete Ov["#"+kr.ChannelVod_vodId],kr.vodOffset=0,qv()):(kr.vodOffset=Ov["#"+kr.ChannelVod_vodId],Bv=1e3*kr.vodOffset,Ig(kr.vodOffset,Ps,!0),zv())}function qg(e){if(sv===eh||Dg())switch(e.keyCode){case Vi:eE()?Qf&&!EC&&(_E(),Qf--,dE()):Yf&&!op()&&fp()?(Df++,bp()):op()&&!Dg()?(rp(),2===Uv?(Mp(),5<++xh&&(xh=1),Ep()):Uv||(Lg(-1,Ps),Nv=2500),kg()):Dg()?(Hg(),Gv?Gv--:Gv++,Jg()):Pp()?(Gp(),Bp(),--Gh<0&&(Gh=3),1===Gh&&(Gh=0),Lp()):Dg()||yg(!0);break;case Hi:console.log(Uv),eE()?Qf<PC-1&&!EC&&(_E(),Qf++,dE()):!Yf||op()||Pp()?op()&&!Dg()?(rp(),2===Uv?(Mp(),--xh<1&&(xh=5),Ep()):Uv||(Lg(1,Ps),Nv=2500),kg()):Dg()?(Hg(),Gv?Gv--:Gv++,Jg()):Pp()?(Gp(),Bp(),3<++Gh&&(Gh=0),1===Gh&&(Gh=2),Lp()):Dg()||yg(!0):d_("ChatEnable",(rh=fp()||Pp()?(_p(),!1):(up(),!0))?"true":"false");break;case Ji:Pp()?Gp():op()&&!Dg()?(2===Uv&&1!==xh?(Uv--,Ag()):1===Uv?(Uv--,Ag()):0<fv&&1===xh&&(fv--,Eg()),rp(),kg()):eE()?eE()?sE():Dg()||yg(!0):tE();break;case Fi:Pp()?Gp():op()&&!Dg()?(Uv?1===Uv?(Uv++,Ag()):fv<Mg()-1&&1===xh&&(fv++,Eg()):(Uv++,Ag()),rp(),kg()):eE()?nE():Yf&&fp()?(4<++Ff?yp(!(Ff=1)):4===Ff&&yp(!0),vp(!0)):Dg()||yg(!0);break;case qi:Dg()?Fg(Gv):Pp()?Up(2):op()?Uv?1===Uv?(kr.Play_ChatForceDisable&&(Om()?Tl(ll):Ll()),Pp()||kp(2)):Hp(2):(rp(),kg(),Sv&&Sg()):eE()?(pg(!0),Uu(Qf,DC,$p)):yg(!0);break;case zi:Kp(!0);break;case Ni:case Ri:case Di:kr.Play_ChatForceDisable&&(Om()?Tl(ll):Ll()),Pp()||kp(2)}else switch(e.keyCode){case zi:$m()?(Km(),mg()):Zm()}}var zg={};function Xg(){console.log("InitScreens place holder")}function Yg(){Zy(),$y(),Ky(),tb(),nb(),ib(),ob(),sb(),jy(),Wy()}function jg(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Wg(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function Qg(){Ur=-1,kr.Main_Go=zg.screen,zg.label_init(),document.body.addEventListener("keydown",wy,!1),Cc(zg.ids[10]),zg.status?(pu(zg.posY),cy(!0),su()):Kg()}function Zg(){Ur=0,zg.label_exit(),document.body.removeEventListener("keydown",wy),kc(zg.ids[10]),Fc()}function Kg(){Tc(),mu(zg.table),Fc(),zg.cursor=null,zg.status=!1,zg.row=document.createElement("div"),zg.MaxOffset=0,zg.TopRowCreated=!1,zg.offset=0,zg.idObject={},zg.Cells=[],zg.FirstLoad=!0,zg.itemsCount=0,zg.posX=0,zg.posY=0,zg.row_id=0,zg.currY=0,zg.coloumn_id=0,zg.data=null,zg.data_cursor=0,zg.dataEnded=!1,Nc(),$g(),ey()}function $g(){zg.loadingData=!0,zg.loadingDataTry=0,zg.loadingDataTimeout=3500}function ey(){zg.set_url(),_c&&!zg.itemsCount?m_(zg.url,zg.loadingDataTimeout,2,null,ny,ty):p_(zg.url,zg.loadingDataTimeout,2,null,ny,ty,!1)}function ty(){zg.loadingDataTry++,zg.loadingDataTry<zg.loadingDataTryMax?(zg.loadingDataTimeout+=500,ey()):(zg.loadingData=!1,zg.itemsCount?zg.dataEnded=!0:(zg.FirstLoad=!1,Lc(),Hc(P),zg.key_exit()))}function ny(e){zg.concatenate(e)}function iy(){var e=zg.data.length-zg.data_cursor;if(e>zg.ItemsLimit?e=zg.ItemsLimit:zg.loadingData||(zg.dataEnded=!0),zg.HasSwitches&&!zg.TopRowCreated&&zg.addSwitches(),e){zg.row_id||(zg.row=document.createElement("div"),zg.row.id=this.ids[12]+zg.row_id);var t=Math.ceil(e/zg.ColoumnsCount),n=zg.row_id+t;for(zg.row_id;zg.row_id<n;){for(zg.coloumn_id===zg.ColoumnsCount&&(zg.row=document.createElement("div"),zg.row.id=this.ids[12]+zg.row_id,zg.coloumn_id=0),zg.coloumn_id;zg.coloumn_id<zg.ColoumnsCount&&zg.data_cursor<zg.data.length;zg.data_cursor++)zg.data[zg.data_cursor]&&zg.addCell(zg.data[zg.data_cursor]);if(zg.coloumn_id===zg.ColoumnsCount)zg.Cells[zg.row_id]=zg.row,zg.row_id++;else if(zg.data_cursor>=zg.data.length){""!==zg.row.innerHTML&&(zg.Cells[zg.row_id]=zg.row);break}}}zg.emptyContent=!e&&!zg.status,ry()}function ay(e,t){var n=e+"_"+t;return(Tr=document.createElement("div")).style.cssText=zg.ThumbCssText,n}function oy(e,t,n,i,a,o){var s=ay(e,t);return Tr.setAttribute("id",n[5]+s),Tr.setAttribute(oc,a),Tr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+zg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Tr}function sy(e,t,n,i,a,o,s,d,l,r,c,u,_,f,h,m){var p=ay(e,t);return Tr.setAttribute("id",n[8]+p),Tr.setAttribute(oc,JSON.stringify([c,r,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),Tr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+zg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+pi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Rm(r)+"</div></div></div></div>",Tr}function dy(e,t,n,i,a){var o=ay(e,t);return Tr.setAttribute("id",i[8]+o),Tr.setAttribute(oc,JSON.stringify(n)),Tr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+fc+'" onerror="this.onerror=null;this.src=\''+zg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+CI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",Tr}function ly(e,t,n,i,a){var o=ay(e,t);return Tr.setAttribute("id",i[8]+o),Tr.setAttribute(oc,JSON.stringify(n)),Tr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+zg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",Tr}function ry(){if(zg.status)Dc(zg.posX,zg.posY,zg.ColoumnsCount,zg.itemsCount);else{if(kr.Main_Go===ir&&Ey(),zg.emptyContent)Hc(zg.empty_str());else{zg.status=!0;for(var e=document.getElementById(zg.table),t=0;t<(zg.Cells.length<zg.visiblerows?zg.Cells.length:zg.visiblerows);t++)e.appendChild(zg.Cells[t])}Rr&&zg.status&&eA.restor_playback.defaultValue?kr.Play_WasPlaying?(lu(kr.Main_Go),kr.Main_Go=Ar,kr.vodOffset||(kr.vodOffset=1),Ps=kr.vodOffset+1,jm(qn),1===kr.Play_WasPlaying?Ru():Vu(),au(!0),window.setTimeout(function(){Ph||Wm()},2e3)):1!==Ar?(lu(kr.Main_Go),kr.Main_Go=Ar,Hu(zg.posY+"_"+zg.posX,zg.ids),au()):(kr.Never_run&&jc(),kr.Never_run=!1,cy(),su()):(cy(),su()),Rr=!1,zg.FirstLoad=!1,Lc()}}function cy(e){if(zg.emptyContent){if(!zg.HasSwitches)return void zg.key_exit();zg.posY=-1}if(zg.posY<0)return py(),void(zg.emptyContent||Dc(zg.posX,zg.posY+1,zg.ColoumnsCount,zg.itemsCount));_y(e),2<zg.posY&&zg.data_cursor+Ry>zg.data.length&&!zg.dataEnded&&!zg.loadingData?($g(),ey()):zg.posY+zg.ItemsReloadLimit>zg.itemsCount/zg.ColoumnsCount&&zg.data_cursor<zg.data.length&&zu(function(){zg.loadDataSuccess()}),Mr&&Hu(zg.posY+"_"+zg.posX,zg.ids)}function uy(e){return null!==document.getElementById(e)}function _y(e){if(zg.currY<zg.posY)1<zg.posY&&zg.Cells.length-1>=zg.posY+1&&(document.getElementById(zg.table).appendChild(zg.Cells[zg.posY+1]),uy(zg.ids[12]+(zg.posY-2))&&document.getElementById(zg.ids[12]+(zg.posY-2)).remove());else if(zg.currY>zg.posY&&zg.posY){var t=document.getElementById(zg.table);t.insertBefore(zg.Cells[zg.posY-1],t.childNodes[zg.HasSwitches?1:0]),uy(zg.ids[12]+(zg.posY+2))&&document.getElementById(zg.ids[12]+(zg.posY+2)).remove()}zg.currY=zg.posY,Mc(zg.ids[0]+zg.posY+"_"+zg.posX,ac),Dc(zg.posX,zg.posY,zg.ColoumnsCount,zg.itemsCount),zg.addFocus(zg.posY,zg.posX,zg.ids,e)}function fy(e,t,n,i){e<2&&vu(e)||i?e?eu(e+1,0,n[0])&&Ju(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):Ju(n[10],.07*screen.height):Su()}function hy(e,t,n,i){vu(e)||i?zg.posY<zg.Cells.length-1&&Ju(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):zg.Cells.length-1===e&&eu(e-1,t,n[0])?Ju(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Su()}function my(e,t){Hu(zg.posY+"_"+zg.posX,zg.ids),zg.HasAnimateThumb&&Cc(zg.ids[1]+zg.posY+"_"+zg.posX),zg.posY+=e,zg.posX=t,cy()}function py(){zg.posX>zg.SwitchesIcons.length-1?zg.posX=0:zg.posX<0&&(zg.posX=zg.SwitchesIcons.length-1),Mc(zg.ids[0]+"y_"+zg.posX,ac)}function vy(){zg.posX>zg.SwitchesIcons.length-1?zg.posX=0:zg.posX<0&&(zg.posX=zg.SwitchesIcons.length-1),Ic(zg.ids[0]+"y_"+zg.posX,ac)}function gy(e){Qc()?Wc():Xc()?zc():(e===zg.screen?kr.Main_Go=er:kr.Main_Go=e,Zg())}function yy(e){if(!zg.HasSwitches||zg.posY||-1!==e||zg.emptyContent){if(zg.HasSwitches&&-1===zg.posY&&eu(0,zg.posX,zg.ids[0]))zg.posY=0,cy(),vy();else for(var t=0;t<zg.ColoumnsCount;t++)if(eu(zg.posY+e,zg.posX-t,zg.ids[0]))return void my(e,zg.posX-t)}else Hu(zg.posY+"_"+zg.posX,zg.ids),zg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),Cc(zg.ids[1]+zg.posY+"_"+zg.posX)),zg.posY=-1,zg.posX>zg.SwitchesIcons.length-1&&(zg.posX=1),py()}function by(e,t){zg.HasSwitches&&-1===zg.posY?(zg.posY=-1,vy(),zg.posX++,py()):eu(zg.posY,zg.posX+e,zg.ids[0])?my(0,zg.posX+e):eu(zg.posY+e,t,zg.ids[0])&&my(e,t)}function wy(e){if(!zg.FirstLoad&&!Tu())switch(Pu(),e.keyCode){case zi:zg.loadingData||zg.key_exit();break;case Vi:if(zg.loadingData)break;zg.posX?by(-1,zg.ColoumnsCount-1):(kr.Main_Go===ir&&(kr.Main_OldgameSelected=kr.Main_gameSelected),zg.key_exit(!0),document.body.removeEventListener("keydown",wy),dk(wy,!0));break;case Hi:zg.dataEnded||zg.posX<zg.ColoumnsCount-1||zg.Cells.length-1>=zg.posY+2?by(1,0):cy(!0);break;case Ji:zg.HasSwitches?-1===zg.posY?zg.key_exit():yy(-1):zg.posY?yy(-1):zg.key_exit();break;case Fi:zg.dataEnded||zg.Cells.length-1>=zg.posY+2?yy(1):cy(!0);break;case Ni:case Ri:case Di:case qi:zg.key_play()}}function Ay(){zg.posX?1===zg.posX?(kr.Main_Go=yr,kr.Main_OldgameSelected=kr.Main_gameSelected,ky(),ou()):Cy():(kr.Main_Go=gr,kr.Main_OldgameSelected=kr.Main_gameSelected,ky(),ou())}function ky(){zg.status&&-1===zg.posY&&(vy(),zg.posY=0,zg.posX=0,Mc(zg.ids[0]+"0_"+zg.posX,ac)),document.body.removeEventListener("keydown",wy),kc(zg.ids[10])}function Cy(){mo()&&Ka[kr.Users_Position].access_token?zy?Fa():Va():(Hc(Bt),window.setTimeout(function(){zg.emptyContent&&kr.Main_Go===ir?Hc(T+Z):Fc()},2e3))}function Ey(){mo()?Xa():(zy=!1,My())}function My(){Sc(Oy.ids[3]+"y_2",zy?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Pi+Pi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Pi+Pi+(mo()?It:Lt))}zg.FirstLoad=!1;var Iy,Sy,xy,Py,Ty,Ly,By,Oy,Gy,Uy,Ry=100,Ny="",Dy="",Vy="",Jy="",Hy="",Fy="",qy=1,zy=!1,Xy={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:iy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){Qc()?Wc():Xc()?zc():(eu(this.posY,this.posX,this.ids[0])?Hu(this.posY+"_"+this.posX,this.ids):this.posY<0&&(vy(),this.posY=0),e||t_(wy)),ok()}},Yy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Vr,ItemsReloadLimit:Hr,ColoumnsCount:Jr,addFocus:function(e,t,n,i){this.AnimateThumb(this),fy(e,t,n,i)},img_404:Gi,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+p,Pi+Pi+c],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Kg(),d_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Kg()):Du(this.posY+"_"+this.posX,this.ids,wy)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),qy){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);cI.onload=function(){this.onload=null,kc(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},cI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function jy(){(Gy=Wg(Gy=Wg({ids:jg("Vod"),table:"stream_table_vod",screen:pr,highlightSTR:"Vod_highlight",highlight:c_("Vod_highlight",!1),periodPos:l_("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Ry,set_url:function(){this.offset&&this.offset+Ry>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Br?"&language="+Br:"")},label_init:function(){kr.Main_CenterLablesVectorPos=4,Mc("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){xc("top_bar_vod",Kt),Ic("top_bar_vod","icon_center_focus")},SetPeriod:function(){Sc("top_bar_vod",Kt+uu((this.highlight?G:O)+Gr[this.periodPos-1])),d_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(ly(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",nc),e.channel.display_name,N+_u(e.created_at),CI.parse(e.title)+pi+Qt+v+e.game,Zc(e.views)+V,Kc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Rm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Xy),Yy)).set_ThumbSize()}function Wy(){(Uy=Wg(Uy=Wg({ids:jg("AGameVod"),table:"stream_table_a_game_vod",screen:gr,highlightSTR:"AGameVod_highlight",highlight:c_("AGameVod_highlight",!1),periodPos:l_("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+Ry>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(kr.Main_gameSelected)+"&limit="+Ry+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Br?"&language="+Br:"")},OldgameSelected:"",label_init:function(){null===kr.Main_OldgameSelected&&(kr.Main_OldgameSelected=kr.Main_gameSelected),this.OldgameSelected!==kr.Main_gameSelected&&(this.status=!1),kr.Main_CenterLablesVectorPos=3,Mc("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=kr.Main_gameSelected,xc("top_bar_game",b),Ic("top_bar_game","icon_center_focus")},SetPeriod:function(){Sc("top_bar_game",b+uu((this.highlight?G:O)+Gr[this.periodPos-1])),d_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(ly(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",nc),e.channel.display_name,N+_u(e.created_at),CI.parse(e.title)+pi+Qt+v+e.game,Zc(e.views)+V,Kc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Rm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Xy),Yy)).set_ThumbSize()}var Qy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Vr,ItemsReloadLimit:Hr,ColoumnsCount:Jr,addFocus:fy,img_404:Gi,empty_str:function(){return T+W}};function Zy(){(Ly=Wg(Ly=Wg({ids:jg("Live"),table:"stream_table_live",screen:er,base_url:"https://api.twitch.tv/kraken/streams?limit="+Ry,set_url:function(){this.offset&&this.offset+Ry>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Br?"&broadcaster_language="+Br:"")},label_init:function(){kr.Main_CenterLablesVectorPos=0,Mc("top_bar_live","icon_center_focus")},label_exit:function(){Ic("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(dy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Dm(e.created_at)+" "+m+Zc(e.viewers)+J,Kc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Uu(this.posY+"_"+this.posX,this.ids,wy)}},Xy),Qy)).set_ThumbSize()}function Ky(){(Oy=Wg(Oy=Wg({ids:jg("AGame"),table:"stream_table_a_game",screen:ir,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Ry>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(kr.Main_gameSelected)+"&limit="+Ry+"&offset="+this.offset+(""!==Br?"&broadcaster_language="+Br:"")},label_init:function(){null===kr.Main_OldgameSelected&&(kr.Main_OldgameSelected=kr.Main_gameSelected),kr.Main_CenterLablesVectorPos=3,Mc("top_bar_game","icon_center_focus"),Ac("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt),xc("top_bar_user",_),kr.Main_OldgameSelected!==kr.Main_gameSelected&&(this.status=!1),kr.Search_isSearching&&(cu(),Sc("top_bar_user",n+uu(h+" '"+kr.Search_data+"'"))),Sc("top_bar_game",b+uu(f+": "+kr.Main_gameSelected))},label_exit:function(){kr.Main_OldgameSelected=kr.Main_gameSelected,Ac("label_side_panel","icon-ellipsis",Rn),Sc("top_bar_game",h),Ic("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+Kt,Pi+Pi+U,Pi+Pi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(dy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Dm(e.created_at)+" "+m+Zc(e.viewers)+J,Kc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Uu(this.posY+"_"+this.posX,this.ids,wy):Ay()}},Xy),Qy)).set_ThumbSize()}function $y(){(By=Wg(By=Wg({ids:jg("Featured"),table:"stream_table_featured",screen:br,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Ry,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(mo()&&Ka[kr.Users_Position].access_token?"&oauth_token="+Ka[kr.Users_Position].access_token:"")},label_init:function(){kr.Main_CenterLablesVectorPos=2,Mc("top_bar_featured","icon_center_focus")},label_exit:function(){Ic("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(dy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Dm(e.created_at)+" "+m+Zc(e.viewers)+J,Kc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Uu(this.posY+"_"+this.posX,this.ids,wy)}},Xy),Qy)).set_ThumbSize()}var eb={ThumbSize:32.65,ItemsLimit:Vr,TopRowCreated:!1,ItemsReloadLimit:Hr,ColoumnsCount:Jr,addFocus:fy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Gi,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+c,Pi+Pi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?($_=!0,vy(),this.posX=0,this.posY=0,Nu(this.posY+"_"+this.posX,this.ids,wy)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Kg())):Nu(this.posY+"_"+this.posX,this.ids,wy)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(sy(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,_u(e.created_at)],[CI.parse(e.title),v,e.game],Zc(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function tb(){(Iy=Wg(Iy=Wg({ids:jg("Clip"),table:"stream_table_clip",screen:vr,periodPos:l_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Ry,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Br?"&language="+Br:"")},SetPeriod:function(){Sc("top_bar_clip",U+uu(Gr[this.periodPos-1])),d_("Clip_periodPos",this.periodPos)},label_init:function(){kr.Main_CenterLablesVectorPos=5,this.SetPeriod(),Mc("top_bar_clip","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt)},label_exit:function(){ru(),Ic("top_bar_clip","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt)}},Xy),eb)).set_ThumbSize()}function nb(){(Sy=Wg(Sy=Wg({ids:jg("ChannelClip"),table:"stream_table_channel_clip",screen:_r,periodPos:l_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(kr.Main_selectedChannel)+"&limit="+Ry+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Sc("top_bar_game",U+Gr[this.periodPos-1]),d_("ChannelClip_periodPos",this.periodPos)},label_init:function(){kr.Main_CenterLablesVectorPos=1,!kr.Search_isSearching&&kr.Main_selectedChannel_id&&ps(),kr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),cu(),this.SetPeriod(),xc("top_bar_user",kr.Main_selectedChannelDisplayname),Ac("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=kr.Main_selectedChannel},label_exit:ru},Xy),eb)).set_ThumbSize()}function ib(){(xy=Wg(xy=Wg({ids:jg("AGameClip"),table:"stream_table_a_game_clip",screen:yr,periodPos:l_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(kr.Main_gameSelected)+"&limit="+Ry+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Br?"&language="+Br:"")},SetPeriod:function(){Sc("top_bar_game",b+uu(U+Gr[this.periodPos-1]+": "+kr.Main_gameSelected)),d_("AGameClip_periodPos",this.periodPos)},label_init:function(){kr.Main_CenterLablesVectorPos=3,this.SetPeriod(),Mc("top_bar_game","icon_center_focus"),Ac("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==kr.Main_gameSelected&&(this.status=!1),this.gameSelected=kr.Main_gameSelected},label_exit:function(){Ic("top_bar_game","icon_center_focus"),Sc("top_bar_game",h),Ac("label_side_panel","icon-ellipsis",Rn)}},Xy),eb)).set_ThumbSize()}var ab={ThumbSize:19.35,visiblerows:3,ItemsLimit:Fr,ItemsReloadLimit:zr,ColoumnsCount:qr,addFocus:hy,img_404:Bi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===sr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===sr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){kr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(oc),document.body.removeEventListener("keydown",wy),kr.Main_BeforeAgame=this.screen,kr.Main_Go=ir,kr.Main_BeforeAgameisSet=!0,Ur=0,document.body.removeEventListener("keydown",wy),kc(this.ids[10]),ou(),Hu(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===nr,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(oy(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",ic),n.name,t?Zc(e.channels)+" "+E+m+Zc(e.viewers)+J:"")),this.coloumn_id++)}};function ob(){(Py=Wg(Py=Wg({ids:jg("Game"),table:"stream_table_games",screen:nr,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Ry,set_url:function(){this.offset&&this.offset+Ry>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){kr.Main_CenterLablesVectorPos=3,Mc("top_bar_game","icon_center_focus")},label_exit:function(){Ic("top_bar_game","icon_center_focus")}},Xy),ab)).set_ThumbSize()}function sb(){(Ty=Wg(Ty=Wg({ids:jg("UserGames"),table:"stream_table_user_games",screen:sr,isLive:c_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Ry>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ka[kr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Ry+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+" "+(this.isLive?Z:zt))),Kg(),d_("user_Games_live",this.isLive?"true":"false"),aM&&_M()},label_init:function(){kr.Main_CenterLablesVectorPos=1,Ac("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Ac("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user","icon_center_focus"),this.OldUserName!==Ka[kr.Users_Position].name&&(this.status=!1),this.OldUserName=Ka[kr.Users_Position].name,Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){kr.Users_Position=0,Ic("top_bar_user","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt),xc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn)}},Xy),ab)).set_ThumbSize()}var db=0,lb=0,rb=!1,cb=0,ub={},_b=[],fb=!1,hb=0,mb=5,pb=3500,vb=0,gb=0,yb=!1,bb=!1,wb="",Ab=!1,kb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Cb(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=mr,kr.isLastSChannels=!0,kr.Search_isSearching=!0,wb!==kr.Search_data&&(bb=!1),cu(),Sc("top_bar_user",n+uu(E+" '"+kr.Search_data+"'")),document.body.addEventListener("keydown",Nb,!1),bb?(pu(db),Cc(kb[6]),Ub(),su()):Mb()}function Eb(){ru(),document.body.removeEventListener("keydown",Nb),kc(kb[6])}function Mb(){mu("stream_table_search_channel"),kc(kb[6]),Tc(),Fc(),wb=kr.Search_data,bb=!1,ub={},$u=!(cb=gb=vb=0),db=lb=0,rb=Ab=!(_b=[]),Nc(),Ib(),Sb()}function Ib(){fb=!0,hb=0,pb=3500}function Sb(){var e=cb+vb;e&&gb-1<e&&(e=gb-Xr,rb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(kr.Search_data)+"&limit="+Xr+"&offset="+e;_c&&!cb?m_(t,pb,2,null,Pb,xb):p_(t,pb,2,null,Pb,xb,!1)}function xb(){++hb<mb?(pb+=500,Sb()):(fb=!1,cb?(rb=!0,Lb()):($u=!1,Lc(),Hc(P)))}function Pb(e){var t=JSON.parse(e),n=t.channels.length;gb=parseInt(t._total),n<Xr&&(rb=!0);var i=cb;yb=!(cb+=n);var a=n/Yr;0<n%Yr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/Yr+_,d=document.createElement("tr"),o=0;o<Yr&&c<n;o++,c++)r=(l=t.channels[c])._id,ub[r]?o--:(ub[r]=1,d.appendChild(Tb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<Yr;o++)rb&&!Ab&&(Ab=!0,cb=s*Yr+o),d.appendChild(yu(kb[5]+s+"_"+o)),_b.push(kb[5]+s+"_"+o);u.appendChild(d)}Lb()}function Tb(e,t,n){return e<4&&gu(n[2]),bu(t,kb,n)}function Lb(){if(bb){if(0<_b.length&&!rb)return Ib(),void Bb();Ub(!0),_b=[]}else yb?Hc(d):(bb=!0,Ub(),su()),Cc(kb[6]),$u=!1,Lc();fb=!1}function Bb(){Jc(_b.length);var e=cb+vb;e&&gb-1<e&&(e=gb-Wr,rb=!0),f_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(kr.Search_data)+"&limit="+Wr+"&offset="+e,pb,2,null,Gb,Ob)}function Ob(){++hb<mb?(pb+=500,Bb()):(rb=!0,cb-=_b.length,_b=[],Lb())}function Gb(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(gb=parseInt(i._total),a<Wr&&(rb=!0);o<_b.length&&s<a;o++,s++)n=(t=i.channels[s])._id,ub[n]?o--:(ub[n]=1,wu(_b[o],[t.name,n,t.logo,t.display_name],kb),d.push(o));for(o=d.length-1;-1<o;o--)_b.splice(d[o],1);vb+=s,rb&&(cb-=_b.length,_b=[]),Lb()}function Ub(e){Lu(db,lb,kb,Yr,cb,e),cb/Yr<db+jr&&!rb&&!fb&&(Ib(),Sb()),Mr&&Rb()}function Rb(){cb&&Hu(db+"_"+lb,kb)}function Nb(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(Rb(),t_(Nb)),ok();break;case Vi:if(lb){if(eu(db,lb-1,kb[0]))Rb(),lb--,Ub();else for(t=Yr-1;-1<t;t--)if(eu(db-1,t,kb[0])){Rb(),db--,lb=t,Ub();break}}else Rb(),dk(Nb,!0);break;case Hi:eu(db,lb+1,kb[0])?(Rb(),lb++,Ub()):eu(db+1,0,kb[0])&&(Rb(),db++,lb=0,Ub());break;case Ji:if(db){for(t=0;t<Yr;t++)if(eu(db-1,lb-t,kb[0])){Rb(),db--,lb-=t,Ub();break}}else Rb(),t_(Nb);break;case Fi:for(t=0;t<Yr;t++)if(eu(db+1,lb-t,kb[0])){Rb(),db++,lb-=t,Ub();break}break;case Ni:case Ri:case Di:case qi:kr.Main_selectedChannel=document.getElementById(kb[4]+db+"_"+lb).getAttribute(oc),kr.Main_selectedChannel_id=document.getElementById(kb[4]+db+"_"+lb).getAttribute("data-id"),kr.Main_selectedChannelDisplayname=document.getElementById(kb[3]+db+"_"+lb).textContent,document.body.removeEventListener("keydown",Nb),kr.Main_BeforeChannel=mr,kr.Main_Go=cr,kr.Main_BeforeChannelisSet=!0,Lo=ea=!1,kc(kb[6]),au()}}var Db=!1,Vb=0,Jb=0,Hb=0,Fb=0,qb=5,zb=3500,Xb=0,Yb=0,jb=!1,Wb=!1,Qb="",Zb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Kb(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=lr,kr.Search_isSearching=!0,cu(),Qb!==kr.Search_data&&(Db=!1),Sc("top_bar_user",n+uu(h+" '"+kr.Search_data+"'")),document.body.addEventListener("keydown",rw,!1),Db?(pu(Vb),Cc(Zb[7]),dw(),su()):ew()}function $b(){kr.Search_isSearching||ru(),document.body.removeEventListener("keydown",rw),kr.Games_return=!1,kc(Zb[7])}function ew(){mu("stream_table_search_game"),kc(Zb[7]),Tc(),Fc(),Qb=kr.Search_data,Wb=Db=!1,Vb=Jb=Hb=Yb=Xb=0,Nc(),tw(),nw()}function tw(){$u=!0,Fb=0,zb=3500}function nw(){f_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(kr.Search_data),zb,2,null,aw,iw)}function iw(){++Fb<qb?(zb+=500,nw()):($u=!1,Hb?sw():(Lc(),Hc(P)))}function aw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Hb;jb=!(Hb+=n);var a=n/qr;0<n%qr&&a++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/qr+u,d=document.createElement("tr"),o=0;o<qr&&r<n;o++,r++)l=t.games[r],d.appendChild(ow(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",ic),""]));for(;o<qr;o++)Wb||(Wb=!0,Hb=s*qr+o),d.appendChild(yu(Zb[6]+s+"_"+o));c.appendChild(d)}sw()}function ow(e,t,n){return e<2&&gu(n[1]),Mu(t,Zb,n)}function sw(){Db||(jb?Hc(d):(Db=!0,dw(),su()),Lc()),Cc(Zb[7]),$u=!1,Dc(Jb,Vb,qr,Hb)}function dw(){Ou(Vb,Jb,Zb,qr,Hb),Mr&&lw()}function lw(){Hb&&Hu(Vb+"_"+Jb,Zb)}function rw(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(lw(),t_(rw)),ok();break;case Vi:if(Jb){if(eu(Vb,Jb-1,Zb[0]))lw(),Jb--,dw();else for(t=qr-1;-1<t;t--)if(eu(Vb-1,t,Zb[0])){lw(),Vb--,Jb=t,dw();break}}else lw(),dk(rw,!0);break;case Hi:eu(Vb,Jb+1,Zb[0])?(lw(),Jb++,dw()):eu(Vb+1,0,Zb[0])&&(lw(),Vb++,Jb=0,dw());break;case Ji:if(Vb){for(t=0;t<qr;t++)if(eu(Vb-1,Jb-t,Zb[0])){lw(),Vb--,Jb-=t,dw();break}}else lw(),t_(rw);break;case Fi:for(t=0;t<qr;t++)if(eu(Vb+1,Jb-t,Zb[0])){lw(),Vb++,Jb-=t,dw();break}break;case Ni:case Ri:case Di:case qi:kr.gameSelectedOld=kr.Main_gameSelected,$b(),kr.Main_gameSelected=document.getElementById(Zb[5]+Vb+"_"+Jb).getAttribute(oc),document.body.removeEventListener("keydown",rw),kr.Main_Go=ir,kr.Games_return=!0,au()}}var cw=0,uw=0,_w=!1;function fw(){Fc(),kc("label_refresh"),Ac("label_side_panel","icon-arrow-circle-left",I),xc("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Fl.placeholder=w,Mc("top_bar_user","icon_center_focus"),Cc("search_scroll"),uw=cw=0,pw(),gw()}function hw(){yw(!1),document.body.removeEventListener("keydown",vw),pw(),kr.Main_Go=kr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",xc("top_bar_user",_),Ic("top_bar_user","icon_center_focus"),Ac("label_side_panel","icon-ellipsis",Rn),Cc("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Fl.value="",kc("search_scroll")}function mw(){hw(),zu(function(){uw?1===uw?Kb():2===uw&&Dw():Cb()})}function pw(){Ic("chanel_button","button_search_focused"),Ic("game_button","button_search_focused"),Ic("live_button","button_search_focused"),cw&&(uw?1===uw?Mc("game_button","button_search_focused"):2===uw&&Mc("live_button","button_search_focused"):Mc("chanel_button","button_search_focused"))}function vw(e){if(!_w)switch(e.keyCode){case zi:Qc()?Wc():Xc()?zc():(hw(),au());break;case Vi:1===cw&&(--uw<0&&(uw=2),pw());break;case Hi:1===cw&&(2<++uw&&(uw=0),pw());break;case Ji:1===cw&&(cw=0,pw(),gw());break;case Fi:cw?1===cw&&(cw=0,pw(),gw()):(yw(!1),cw=1,pw());break;case Ni:case Ri:case Di:case qi:cw?""!==Fl.value&&null!==Fl.value?(kr.Search_data=Fl.value,Fl.value="",mw()):(Hc(s),window.setTimeout(function(){Fc()},1e3)):gw()}}function gw(){document.body.removeEventListener("keydown",vw),document.body.addEventListener("keydown",ww,!1),Fl.placeholder=w,Fl.focus(),_w=!0}function yw(e){Fl.blur(),bw(),document.body.removeEventListener("keydown",ww),Fl.placeholder=C+w,e&&document.body.addEventListener("keydown",vw,!1),_w=!1}function bw(){if(null!==Fl){var e=Fl.cloneNode(!0);Fl.parentNode.replaceChild(e,Fl),Fl=document.getElementById("search_input")}}function ww(e){switch(e.keyCode){case zi:Xc()?zc():Qc()?Wc():(hw(),au());break;case Wi:Fl.value="";break;case Yi:case Fi:yw(!0),cw=1,pw();break;case Xi:Fl.value=Fl.value.slice(0,-1);break;case ji:Fl.value+=" "}}var Aw=0,kw=0,Cw=!1,Ew=0,Mw={},Iw=[],Sw=!1,xw=0,Pw=5,Tw=3500,Lw=0,Bw=0,Ow=!1,Gw=!1,Uw=!1,Rw="",Nw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Dw(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=rr,kr.Search_isSearching=!0,cu(),Rw!==kr.Search_data&&(Gw=!1),Sc("top_bar_user",n+uu(f+" '"+kr.Search_data+"'")),document.body.addEventListener("keydown",Kw,!1),Gw?(pu(Aw),Cc(Nw[10]),Qw(),su()):Jw()}function Vw(){ru(),document.body.removeEventListener("keydown",Kw),kc(Nw[10])}function Jw(){mu("stream_table_search_live"),kc(Nw[10]),Tc(),Fc(),Rw=kr.Search_data,Gw=!1,$u=!(Uw=!(Iw=[])),Aw=kw=Ew=Bw=Lw=0,Cw=!(Mw={}),Nc(),Hw(),Fw()}function Hw(){Sw=!0,xw=0,Tw=3500}function Fw(){var e=Ew+Lw;e&&Bw-1<e&&(e=Bw-Vr,Cw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(kr.Search_data)+"&limit="+Vr+"&offset="+e;_c&&!Ew?m_(t,Tw,2,null,zw,qw):p_(t,Tw,2,null,zw,qw,!1)}function qw(){++xw<Pw?(Tw+=500,Fw()):(Sw=!1,Ew?(Cw=!0,Xw()):($u=!1,Lc(),Hc(P)))}function zw(e){var t=JSON.parse(e),n=t.streams.length;Bw=parseInt(t._total),n<Vr&&(Cw=!0);var i=Ew;Ow=!(Ew+=n);var a=n/Jr;0<n%Jr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Jr+_,d=document.createElement("tr"),o=0;o<Jr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,Mw[r]?o--:(Mw[r]=1,d.appendChild(ku(s,s+"_"+o,[l.channel.name,r],Nw,[l.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Dm(l.created_at)+" "+m+Zc(l.viewers)+J,Kc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Jr;o++)Cw&&!Uw&&(Uw=!0,Ew=s*Jr+o),d.appendChild(yu(Nw[9]+s+"_"+o)),Iw.push(Nw[9]+s+"_"+o);u.appendChild(d)}Xw()}function Xw(){if(Gw){if(0<Iw.length&&!Cw)return Hw(),void Yw();Qw(!0),Iw=[]}else Ow?Hc(d):(Gw=!0,Qw(),su()),Cc(Nw[10]),$u=!1,Lc();Sw=!1}function Yw(){Jc(Iw.length);var e=Ew+Lw;e&&Bw-1<e&&(e=Bw-Wr,Cw=!0),f_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(kr.Search_data)+"&limit="+Wr+"&offset="+e,Tw,2,null,Ww,jw)}function jw(){++xw<Pw?(Tw+=500,Yw()):(Cw=!0,Ew-=Iw.length,Iw=[],Xw())}function Ww(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Bw=parseInt(i._total),a<Wr&&(Cw=!0);o<Iw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,Mw[n]?o--:(Mw[n]=1,Cu(Iw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Dm(t.created_at)+" "+m+Zc(t.viewers)+J,Kc(t.video_height,t.average_fps,t.channel.broadcaster_language)],Nw),d.push(o));for(o=d.length-1;-1<o;o--)Iw.splice(d[o],1);Lw+=s,Cw&&(Ew-=Iw.length,Iw=[]),Xw()}function Qw(e){Bu(Aw,kw,Nw,Jr,Ew,e),Ew/Jr<Aw+Hr&&!Cw&&!Sw&&(Hw(),Fw()),Mr&&Zw()}function Zw(){Ew&&Hu(Aw+"_"+kw,Nw)}function Kw(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(Zw(),t_(Kw)),ok();break;case Vi:if(kw){if(eu(Aw,kw-1,Nw[0]))Zw(),kw--,Qw();else for(t=Jr-1;-1<t;t--)if(eu(Aw-1,t,Nw[0])){Zw(),Aw--,kw=t,Qw();break}}else Zw(),dk(Kw,!0);break;case Hi:eu(Aw,kw+1,Nw[0])?(Zw(),kw++,Qw()):eu(Aw+1,0,Nw[0])&&(Zw(),Aw++,kw=0,Qw());break;case Ji:if(Aw){for(t=0;t<Jr;t++)if(eu(Aw-1,kw-t,Nw[0])){Zw(),Aw--,kw-=t,Qw();break}}else Zw(),t_(Kw);break;case Fi:for(t=0;t<Jr;t++)if(eu(Aw+1,kw-t,Nw[0])){Zw(),Aw++,kw-=t,Qw();break}break;case Ni:case Ri:case Di:case qi:Uu(Aw+"_"+kw,Nw,Kw)}}var $w=0,eA={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:tA(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function tA(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Rm(t)),t-=900;for(e.push(Rm(0)),t=900,n=0;n<48;n++)e.push(Rm(t)),t+=900;return e}var nA=[],iA=0;function aA(){iu(),kc("label_side_panel"),Ac("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",CA,!1),xc("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Mc("top_bar_user","icon_center_focus"),Cc("settings_scroll"),pA($w=0),cA("content_lang",Yn,MA)}function oA(){document.body.removeEventListener("keydown",CA),Cc("label_side_panel"),vA(),xc("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ic("top_bar_user","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt),kc("settings_scroll")}function sA(){var e,t="";t+=dA("general",gn),e="content_lang",nA.push(e),eA[e].values=[jn],t+=rA(e,Yn,""),e="clock_offset",nA.push(e),t+=lA(e,zn),e="restor_playback",nA.push(e),eA[e].values=[T,Ht],t+=rA(e,Tn,Ln),e="videos_animation",nA.push(e),eA[e].values=[T,Ht],t+=lA(e,Un),e="clip_auto_play_next",nA.push(e),eA[e].values=[T,Ht],t+=lA(e,ri),t+=dA("play",_n),e="chat_font_size",nA.push(e),t+=rA(e,Bn,On),e="chat_brightness",nA.push(e),t+=lA(e,ii),e="force_disable_chat",nA.push(e),eA[e].values=[Ht,T],t+=rA(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",nA.push(e),t+=lA(e,mn),e="buffer_vod",nA.push(e),t+=lA(e,pn),e="buffer_clip",nA.push(e),Sc("settings_main",t+=lA(e,vn)),iA=nA.length,OA()}function dA(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function lA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+fA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function rA(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+fA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function cA(e,t,n){Sc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function uA(){var e="";for(e in xc("setting_title_general",gn),xc((e="clock_offset")+"_name",zn),xc((e="content_lang")+"_name",Yn),xc(e,fA(e)),eA[e].values=[jn],xc("setting_title_play",_n),xc("setting_title_buffers",fn),xc("setting_title_buffers_summary",hn),xc((e="buffer_live")+"_name",mn),xc((e="buffer_vod")+"_name",pn),xc((e="buffer_clip")+"_name",vn),cA(e="restor_playback",Tn,Ln),eA[e].values=[Ht,T],cA(e="chat_font_size",Bn,On),cA(e="force_disable_chat",ti,ni),eA[e].values=[Ht,T],xc((e="videos_animation")+"_name",Un),eA[e].values=[Ht,T],xc((e="clip_auto_play_next")+"_name",ri),eA[e].values=[T,Ht],xc((e="chat_brightness")+"_name",ii),eA)eA.hasOwnProperty(e)&&xc(e,fA(e));BA()}function _A(){for(var e in eA)eA[e].defaultValue=l_(e,eA[e].defaultValue),eA[e].defaultValue-=1,eA[e].defaultValue>mA(e)&&(eA[e].defaultValue=0);wA(0),AA(),Hf=(.05*hA("chat_brightness")).toFixed(2),qy=hA("videos_animation"),ef=hA("clip_auto_play_next"),kr.Play_ChatForceDisable=hA("force_disable_chat")}function fA(e){return eA[e].values[hA(e)]}function hA(e){return eA[e].defaultValue}function mA(e){return eA[e].values.length-1}function pA(e){var t=nA[$w];Mc(t,"settings_value_focus"),Mc(t+"_div","settings_div_focus"),yA(e),kA()}function vA(){var e=nA[$w];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ic(e,"settings_value_focus"),Ic(e+"_div","settings_div_focus")}function gA(e){var t=nA[e];d_(t,hA(t)+1),xc(t,fA(t)),yA(e),bA(e)}function yA(e){var t=nA[e];if(mA(t)){var n=hA(t),i=mA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function bA(e){"videos_animation"===(e=nA[e])?qy=hA("videos_animation"):"clip_auto_play_next"===e?ef=hA("clip_auto_play_next"):"buffer_live"===e?wA(1):"buffer_vod"===e?wA(2):"buffer_clip"===e?wA(3):"chat_brightness"===e?(Hf=(.05*hA("chat_brightness")).toFixed(2),gp(!1)):"force_disable_chat"===e?kr.Play_ChatForceDisable=hA("force_disable_chat"):"chat_font_size"===e?om():"clock_offset"===e&&(AA(),ju())}function wA(e){try{e?1===e?(Zf=1e3*fA("buffer_live"),_c&&Android.SetBuffer(1,Zf)):2===e?(vv=1e3*fA("buffer_vod"),_c&&Android.SetBuffer(2,vv)):3===e&&(X_=1e3*fA("buffer_clip"),_c&&Android.SetBuffer(3,X_)):(Zf=1e3*fA("buffer_live"),vv=1e3*fA("buffer_vod"),X_=1e3*fA("buffer_clip"),_c&&(Android.SetBuffer(1,Zf),Android.SetBuffer(2,vv),Android.SetBuffer(3,X_)))}catch(e){}}function AA(){var e=hA("clock_offset");uc=e<48?-9e5*(48-e):9e5*(e-48)}function kA(){var e=screen.height;4<$w?(e*=.09,e+=-1*document.getElementById(nA[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function CA(e){var t;switch(e.keyCode){case zi:Xc()?zc():Qc()?Wc():(oA(),au());break;case Vi:0<hA(t=nA[$w])&&(eA[t].defaultValue-=1,gA($w));break;case Hi:hA(t=nA[$w])<mA(t)&&(eA[t].defaultValue+=1,gA($w));break;case Ji:0<$w&&(vA(),pA(--$w));break;case Fi:$w<iA-1&&(vA(),pA(++$w));break;case qi:$w||PA()}}var EA=0,MA="",IA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},SA=[],xA=0;function PA(){iu(),document.body.removeEventListener("keydown",CA),kc("settings_main"),Cc("settings_lang"),zA(),xc("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",XA,!1),VA(EA=0),LA()}function TA(){document.body.removeEventListener("keydown",XA),document.body.addEventListener("keydown",CA,!1),kA(),Cc("settings_main"),kc("settings_lang"),xc("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",JA(),BA(),LA()}function LA(){""===Br&&(MA=Wn,IA.All.defaultValue=1,FA(0),Mc(SA[0],"strokedextraminired"),zA()),cA("content_lang",Yn,MA)}function BA(){if(Br="",!NA("All")){for(var e in IA)NA(e)&&(Br+=","+IA[e].set_values);Br=Br.slice(1)}MA=""===Br?Wn:Br.toUpperCase()}function OA(){var e="";for(var t in IA)SA.push(t),IA[t].values=[T,Ht],e+=GA(t,t);Sc("settings_lang",e),xA=SA.length}function GA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(NA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+RA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function UA(){for(var e in IA)IA[e].defaultValue=l_(e,IA[e].defaultValue),IA[e].defaultValue-=1;BA()}function RA(e){return IA[e].values[NA(e)]}function NA(e){return IA[e].defaultValue}function DA(e){return IA[e].values.length-1}function VA(e){var t=SA[EA];Mc(t,"settings_value_focus"),Mc(t+"_div","settings_div_focus"),qA(e),HA(t)}function JA(){var e=SA[EA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ic(e,"settings_value_focus"),Ic(e+"_div","settings_div_focus")}function HA(){var e=screen.height;7<EA?(e*=.093,e+=-1*document.getElementById(SA[EA-7]).offsetTop):e*=.077,EA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function FA(e){var t=SA[e];d_(t,NA(t)+1),xc(t,RA(t)),qA(e)}function qA(e){var t=SA[e],n=NA(t),i=DA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function zA(){for(var e in IA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=NA("All")?"none":"inline-block")}function XA(e){var t;switch(e.keyCode){case zi:TA();break;case Vi:0<NA(t=SA[EA])&&(IA[t].defaultValue-=1,FA(EA),Ic(SA[EA],"strokedextraminired"),-1!==t.indexOf("All")&&zA());break;case Hi:NA(t=SA[EA])<DA(t)&&(IA[t].defaultValue+=1,FA(EA),Mc(SA[EA],"strokedextraminired"),-1!==t.indexOf("All")&&zA());break;case Ji:0<EA&&(JA(),VA(--EA));break;case Fi:!NA("All")&&EA<xA-1&&(JA(),VA(++EA))}}var YA,jA,WA=!1,QA=0,ZA=0,KA=0;function $A(){Mc("side_panel_"+QA,"side_panel_text_focus")}function ek(){Ic("side_panel_"+QA,"side_panel_text_focus")}function tk(){Mc(VC[2]+ZA,"side_panel_feed_text_focus"),ck(),-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")&&nk()}function nk(){var e=JSON.parse(document.getElementById(VC[8]+ZA).getAttribute(oc));jA.onerror=function(){this.onerror=null,this.src=Gi},jA.src=e[2]+fc,Sc("feed_thum_name",e[3]),Sc("feed_thum_quality",e[7]),Sc("feed_thum_title",CI.parse(e[4])),Sc("feed_thum_game",e[5]),Sc("feed_thum_views",e[6]),Cc("side_panel_feed_thumb")}function ik(){Ic(VC[2]+ZA,"side_panel_feed_text_focus")}function ak(){QA?1===QA?Yc():2===QA?(document.body.addEventListener("keydown",YA,!1),qc()):3===QA?(document.body.addEventListener("keydown",YA,!1),jc()):4===QA?Gc(YA):5===QA?sk(er):6===QA?sk(wo()?fr:tr):7===QA?sk(br):8===QA?sk(nr):9===QA?sk(pr):10===QA&&sk(vr):kr.Main_Go!==dr?(kr.Search_isSearching||kr.Main_Go!==cr&&kr.Main_Go!==_r&&kr.Main_Go!==ur||ms(),kr.Search_isSearching||(kr.Main_BeforeSearch=kr.Main_Go),lu(kr.Main_Go),kr.Main_Go=dr,au()):document.body.addEventListener("keydown",YA,!1),rk()}function ok(){WA&&(WA=!1,ou())}function sk(e){e===kr.Main_Go?document.body.addEventListener("keydown",YA,!1):(kr.Main_Before=kr.Main_Go,kr.Main_Go=e,lu(kr.Main_Before),au())}function dk(e,t){Ic("side_panel","side_panel_hide"),YA=e,WA=t,document.body.removeEventListener("keydown",YA),lk()}function lk(){var e=mo();e&&(Wf!==Ka[kr.Users_Position].name&&(GC=!1),Wf=Ka[kr.Users_Position].name),e&&uE(0,DC[0])||(GC=!1),GC||EC||JC(),e?Ec("side_panel_feed_holder")?(document.body.addEventListener("keydown",uk,!1),null!==document.getElementById(VC[2]+ZA)&&tk()):document.body.addEventListener("keydown",_k,!1):(kc("side_panel_feed_holder"),Cc("side_panel_etc"),document.body.addEventListener("keydown",_k,!1))}function rk(){document.body.removeEventListener("keydown",uk),document.body.removeEventListener("keydown",_k),Mc("side_panel","side_panel_hide"),kc("side_panel_feed_thumb"),ek(),QA=0,$A()}function ck(){var e;4<ZA?(ZA<PC-6?(e=-1*document.getElementById(VC[8]+(ZA-4)).offsetTop,e+=document.getElementById(VC[8]+0).offsetTop):11<PC&&(e=-1*document.getElementById(VC[8]+(PC-11)).offsetTop,e+=document.getElementById(VC[8]+0).offsetTop),(KA+5<e||e<KA-5)&&(KA=e),document.getElementById("side_panel_feed_scroll").style.marginTop=KA+"px"):document.getElementById("side_panel_feed_scroll").style.marginTop=0}function uk(e){switch(e.keyCode){case zi:rk(),WA?(WA=!1,ou()):(document.body.addEventListener("keydown",YA,!1),i_());break;case Vi:document.body.removeEventListener("keydown",uk),document.body.addEventListener("keydown",_k,!1),kc("side_panel_feed_thumb"),kc("side_panel_feed_holder"),Cc("side_panel_etc");break;case Hi:sE();break;case Ji:ZA&&!EC&&(ik(),ZA--,tk());break;case Fi:ZA<PC-1&&!EC&&(ik(),ZA++,tk());break;case qi:rk(),kr.Play_isHost=!1,Qh=!0,zu(function(){Uu(ZA,VC,uk)})}}function _k(e){switch(e.keyCode){case zi:case Vi:rk(),WA?(WA=!1,ou()):(document.body.addEventListener("keydown",YA,!1),i_());break;case Hi:mo()?(document.body.removeEventListener("keydown",_k),document.body.addEventListener("keydown",uk,!1),kc("side_panel_etc"),Cc("side_panel_feed_holder"),Cc("side_panel_feed_thumb")):(Hc(hi),window.setTimeout(Fc,2e3));break;case Ji:QA&&(ek(),QA--,$A());break;case Fi:QA<10&&(ek(),QA++,$A());break;case qi:ak()}}var fk=0,hk=0,mk=!1,pk=0,vk=!1,gk=0,yk=5,bk=3500,wk=[],Ak=0,kk=0,Ck=!1,Ek=!1,Mk="",Ik=!1,Sk={},xk=[],Pk=0,Tk=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function Lk(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=hr,kr.isLastSChannels=!1,Ac("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user","icon_center_focus"),Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+K)),document.body.addEventListener("keydown",Xk,!1),Mk!==Ka[kr.Users_Position].name&&(Ek=!1),Ek?(pu(fk),Cc(Tk[6]),qk(),su()):Ok()}function Bk(){kr.Users_Position=0,Ic("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Xk),xc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn),kc(Tk[6])}function Ok(){mu("stream_table_user_channels"),kc(Tk[6]),Tc(),Fc(),Mk=Ka[kr.Users_Position].name,Ek=!1,Sk={},fk=hk=pk=Pk=Ak=kk=0,$u=!(Ik=mk=!(xk=[])),Nc(),wk=[],Gk(),Uk()}function Gk(){vk=!0,gk=0,bk=3500}function Uk(){var e=pk+kk;e&&Pk-1<e&&(e=Pk-Xr,mk=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[kr.Users_Position].id)+"/follows/channels?limit="+Xr+"&offset="+e+"&sortby=login&direction=asc";_c&&!pk?m_(t,bk,2,null,Nk,Rk):p_(t,bk,2,null,Nk,Rk,!1)}function Rk(){++gk<yk?(bk+=500,Uk()):(vk=!1,pk?(mk=!0,Vk()):($u=!1,Lc(),Hc(P),t_(Xk)))}function Nk(e){var t=JSON.parse(e),n=t.follows.length;Pk=parseInt(t._total),n<Xr&&(mk=!0);var i=pk;Ck=!(pk+=n);var a=n/Yr;0<n%Yr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/Yr+_,d=document.createElement("tr"),o=0;o<Yr&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,Sk[r]?o--:(Sk[r]=1,d.appendChild(Dk(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<Yr;o++)mk&&!Ik&&(Ik=!0,pk=s*Yr+o),d.appendChild(yu(Tk[5]+s+"_"+o)),xk.push(Tk[5]+s+"_"+o);u.appendChild(d)}Vk()}function Dk(e,t,n){return e<4&&gu(n[2]),bu(t,Tk,n)}function Vk(){if(Ek){if(0<xk.length&&!mk)return Gk(),void Jk();qk(!0),xk=[]}else Ck?(Hc(T+K),t_(Xk)):(Ek=!0,qk(),su()),Cc(Tk[6]),$u=!1,Lc();vk=!1}function Jk(){Jc(xk.length);var e=pk+kk;e&&Pk-1<e&&(e=Pk-Wr,mk=!0),f_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[kr.Users_Position].id)+"/follows/channels?limit="+Wr+"&offset="+Ak+"&sortby=login&direction=asc",bk,2,null,Fk,Hk)}function Hk(){++gk<yk?(bk+=500,Jk()):(mk=!0,pk-=xk.length,xk=[],Vk())}function Fk(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(Pk=parseInt(i._total),a<Wr&&(mk=!0);o<xk.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,Sk[n]?o--:(Sk[n]=1,wu(xk[o],[t.name,n,t.logo,t.display_name],Tk),d.push(o));for(o=d.length-1;-1<o;o--)xk.splice(d[o],1);kk+=s,mk&&(pk-=xk.length,xk=[]),Vk()}function qk(e){Lu(fk,hk,Tk,Yr,pk,e),pk/Yr<fk+jr&&!mk&&!vk&&(Gk(),Uk()),Mr&&zk()}function zk(){pk&&Hu(fk+"_"+hk,Tk)}function Xk(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(zk(),t_(Xk)),ok();break;case Vi:if(hk){if(eu(fk,hk-1,Tk[0]))zk(),hk--,qk();else for(t=Yr-1;-1<t;t--)if(eu(fk-1,t,Tk[0])){zk(),fk--,hk=t,qk();break}}else zk(),dk(Xk,!0);break;case Hi:eu(fk,hk+1,Tk[0])?(zk(),hk++,qk()):eu(fk+1,0,Tk[0])&&(zk(),fk++,hk=0,qk());break;case Ji:if(fk){for(t=0;t<Yr;t++)if(eu(fk-1,hk-t,Tk[0])){zk(),fk--,hk-=t,qk();break}}else zk(),t_(Xk);break;case Fi:for(t=0;t<Yr;t++)if(eu(fk+1,hk-t,Tk[0])){zk(),fk++,hk-=t,qk();break}break;case Ni:case Ri:case Di:case qi:if(Gu(fk+"_"+hk,Tk[0]))return;kr.Main_selectedChannel=document.getElementById(Tk[4]+fk+"_"+hk).getAttribute(oc),kr.Main_selectedChannel_id=document.getElementById(Tk[4]+fk+"_"+hk).getAttribute("data-id"),kr.Main_selectedChannelDisplayname=document.getElementById(Tk[3]+fk+"_"+hk).textContent,kr.Main_selectedChannelLogo=document.getElementById(Tk[1]+fk+"_"+hk).src,document.body.removeEventListener("keydown",Xk),kr.Main_BeforeChannel=hr,kr.Main_Go=cr,kr.Main_BeforeChannelisSet=!0,Lo=ea=!0,kc(Tk[6]),au()}}var Yk=0,jk=0,Wk=!1,Qk=0,Zk={},Kk=[],$k=!1,eC=0,tC=5,nC=3500,iC=0,aC=0,oC=!1,sC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],dC=!1,lC="",rC=!1;function cC(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=or,Ac("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user","icon_center_focus"),Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+Q)),document.body.addEventListener("keydown",kC,!1),lC!==Ka[kr.Users_Position].name&&(dC=!1),dC?(pu(Yk),Cc(sC[10]),wC(),su()):_C()}function uC(){kr.Users_Position=0,Ic("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",kC),xc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn),kc(sC[10])}function _C(){mu("stream_table_user_host"),kc(sC[10]),Tc(),Fc(),lC=Ka[kr.Users_Position].name,dC=!1,Zk={},$u=!(Qk=aC=iC=0),Yk=jk=0,Wk=rC=!(Kk=[]),Nc(),fC(),hC()}function fC(){$k=!0,eC=0,nC=3500}function hC(){var e=Qk+iC;e&&aC-1<e&&(e=aC-Vr,Wk=!0),h_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[kr.Users_Position].name)+"/followed/hosting?limit="+Vr+"&offset="+e,nC,2,null,pC,mC,!1,!Qk)}function mC(){++eC<tC?(nC+=500,hC()):($k=!1,Qk?(Wk=!0,vC()):($u=!1,Lc(),Hc(P),t_(kC)))}function pC(e){var t=JSON.parse(e),n=t.hosts.length;aC=parseInt(t._total),n<Vr&&(Wk=!0);var i=Qk;oC=!(Qk+=n);var a=n/Jr;0<n%Jr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Jr+_,d=document.createElement("tr"),o=0;o<Jr&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,Zk[r]?o--:(Zk[r]=1,d.appendChild(ku(s,s+"_"+o,[l.target.channel.name,l.target._id],sC,[l.target.preview_urls.template.replace("{width}x{height}",nc),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Zc(l.target.viewers)+J,""])));for(;o<Jr;o++)Wk&&!rC&&(rC=!0,Qk=s*Jr+o),d.appendChild(yu(sC[9]+s+"_"+o)),Kk.push(sC[9]+s+"_"+o);u.appendChild(d)}vC()}function vC(){if(dC){if(0<Kk.length&&!Wk)return fC(),void gC();wC(!0),Kk=[]}else oC?(Hc(T+Q),t_(kC)):(dC=!0,wC(),su()),Cc(sC[10]),$u=!1,Lc();$k=!1}function gC(){Jc(Kk.length);var e=Qk+iC;e&&aC-1<e&&(e=aC-Wr,Wk=!0),f_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[kr.Users_Position].name)+"/followed/hosting?limit="+Wr+"&offset="+e,nC,2,null,bC,yC)}function yC(){++eC<tC?(nC+=500,gC()):(Wk=!0,Qk-=Kk.length,Kk=[],vC())}function bC(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(aC=parseInt(i._total),a<Wr&&(Wk=!0);o<Kk.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,Zk[n]?o--:(Zk[n]=1,Cu(Kk[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",nc),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Zc(t.target.viewers)+J,""],sC),d.push(o));for(o=d.length-1;-1<o;o--)Kk.splice(d[o],1);iC+=s,Wk&&(Qk-=Kk.length,Kk=[]),vC()}function wC(e){Bu(Yk,jk,sC,Jr,Qk,e),Qk/Jr<Yk+Hr&&!Wk&&!$k&&(fC(),hC()),Mr&&AC()}function AC(){Qk&&Hu(Yk+"_"+jk,sC)}function kC(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(AC(),t_(kC)),ok();break;case Vi:if(jk){if(eu(Yk,jk-1,sC[0]))AC(),jk--,wC();else for(t=Jr-1;-1<t;t--)if(eu(Yk-1,t,sC[0])){AC(),Yk--,jk=t,wC();break}}else AC(),dk(kC,!0);break;case Hi:eu(Yk,jk+1,sC[0])?(AC(),jk++,wC()):eu(Yk+1,0,sC[0])&&(AC(),Yk++,jk=0,wC());break;case Ji:if(Yk){for(t=0;t<Jr;t++)if(eu(Yk-1,jk-t,sC[0])){AC(),Yk--,jk-=t,wC();break}}else AC(),t_(kC);break;case Fi:for(t=0;t<Jr;t++)if(eu(Yk+1,jk-t,sC[0])){AC(),Yk++,jk-=t,wC();break}break;case Ni:case Ri:case Di:case qi:Uu(Yk+"_"+jk,sC,kC)}}var CC,EC=!1,MC=0,IC=3500,SC=0,xC=5,PC=0,TC=!1,LC="",BC=0,OC={},GC=!1,UC=null,RC=null,NC=null,DC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],VC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function JC(){mo()&&(aE(),GC?(uE(Qf,DC[0])&&(UC=JSON.parse(document.getElementById(DC[8]+Qf).getAttribute(oc))[0]),uE(ZA,VC[0])&&(RC=JSON.parse(document.getElementById(VC[8]+ZA).getAttribute(oc))[0])):UC=RC=null,mu("user_feed_scroll"),kc("side_panel_feed_thumb"),KA=ZA=0,mu("side_panel_feed_scroll"),GC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",Cc("dialog_loading_feed"),Cc("dialog_loading_side_feed"),LC="",Qf=BC=PC=SC=0,OC={},zu(function(){FC(),HC()}))}function HC(){(NC=Ka[kr.Users_Position].access_token)?(NC=ec+NC,YC()):(FC(),NC=null,qC())}function FC(){EC=!0,MC=0,IC=3500}function qC(){p_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[kr.Users_Position].id)+"/follows/channels?limit=100&offset="+SC+"&sortby=created_at",IC,2,null,XC,zC,!1)}function zC(){++MC<xC?(IC+=500,qC()):(EC=!1,PC?(TC=!0,ZC()):(kc("dialog_loading_feed"),kc("dialog_loading_side_feed"),eE()&&(jm(P),window.setTimeout(function(){Wm()},2e3))))}function XC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===LC.indexOf(i)&&(LC+=i);SC+=n,FC(),qC()}else LC=LC.slice(0,-1),FC(),zu(YC)}function YC(){var e="https://api.twitch.tv/kraken/streams/";e+=NC?"followed?":"?channel="+encodeURIComponent(LC)+"&",jC(e+="limit=100&offset=0&stream_type=all")}function jC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=IC,t.setRequestHeader(Zr,Qr),t.setRequestHeader(Kr,tc),NC&&t.setRequestHeader($r,NC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?QC(t.responseText):!NC||401!==t.status&&403!==t.status?WC():la(kr.Users_Position,0,HC,HC))},t.send(null)}function WC(){++MC<xC?(IC+=500,YC()):(EC=!1,kc("dialog_loading_feed"),kc("dialog_loading_side_feed"),eE()&&(jm(P),window.setTimeout(function(){Wm()},2e3)))}function QC(e){var t=JSON.parse(e),n=t.streams.length;n<Vr&&(TC=!0),PC+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,OC[a]||(OC[a]=1,null!==UC&&UC===i.channel.name&&(Qf=d),o.appendChild(KC(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),null!==RC&&RC===i.channel.name&&(ZA=d),s.appendChild($C(d,[i.channel.name,a,i.preview.template.replace("{width}x{height}","800x450"),$c(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+Dm(i.created_at)+" "+m+Zc(i.viewers)+J,Kc(i.video_height,i.average_fps,i.channel.broadcaster_language)],[i.channel.logo,$c(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,Zc(i.viewers)])));ZC()}function ZC(){GC=!(EC=!1),zu(function(){kc("dialog_loading_feed"),kc("dialog_loading_side_feed"),dE(),tk()})}function KC(e,t,n){return(Tr=document.createElement("div")).setAttribute("id",DC[8]+e),Tr.setAttribute(oc,JSON.stringify(t)),Tr.className="user_feed_thumb",Tr.innerHTML='<div id="'+DC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+DC[1]+e+'" alt="" class="stream_img" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+DC[2]+e+'" class="stream_text2"><div id="'+DC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+DC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",Tr}function $C(e,t,n){return(Tr=document.createElement("div")).setAttribute("id",VC[8]+e),Tr.setAttribute(oc,JSON.stringify(t)),Tr.className="side_panel_feed",Tr.innerHTML='<div id="'+VC[0]+e+'"><img id="'+VC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" alt="" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"><div id="'+VC[2]+e+'" class="side_panel_feed_text"><div id="'+VC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+VC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+VC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",Tr}function eE(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function tE(){var e=mo();e&&(Wf!==Ka[kr.Users_Position].name&&(GC=!1),Wf=Ka[kr.Users_Position].name),e&&uE(0,DC[0])||(GC=!1),GC||EC||JC(),e&&(Ic("user_feed","user_feed_hide"),dE())}function nE(){Mc("user_feed","user_feed_hide")}function iE(){aE(),oE()}function aE(){window.clearTimeout(CC)}function oE(){eE()&&(CC=window.setTimeout(nE,5500))}function sE(){aE(),EC?window.setTimeout(function(){EC=!1},15e3):JC()}function dE(){iE(),uE(Qf,DC[0])&&(Mc(DC[0]+Qf,"feed_thumbnail_focused"),eE()?rE():Ec("scene2")&&cE())}function lE(){return Qf<3?2.5:uE(Qf+2,DC[0])?-1*document.getElementById(DC[8]+(Qf-2)).offsetLeft:uE(Qf+1,DC[0])?-1*document.getElementById(DC[8]+(Qf-3)).offsetLeft:-1*document.getElementById(DC[8]+(Qf-(3<Qf?4:3))).offsetLeft}function rE(){var e=lE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function cE(){var e=rE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function uE(e,t){return null!==document.getElementById(t+e)}function _E(){uE(Qf,DC[0])&&Ic(DC[0]+Qf,"feed_thumbnail_focused")}var fE=0,hE=0,mE=!1,pE=0,vE={},gE=[],yE=!1,bE=0,wE=5,AE=3500,kE=0,CE=0,EE=0,ME=!1,IE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],SE=!1,xE="",PE="",TE=!1,LE=null;function BE(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=ar,Ac("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user","icon_center_focus"),Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+W)),document.body.addEventListener("keydown",ZE,!1),PE!==Ka[kr.Users_Position].name&&(SE=!1),SE?(pu(fE),Cc(IE[10]),WE(),su()):GE()}function OE(){kr.Users_Position=0,Ic("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",ZE),xc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn),kc(IE[10])}function GE(){mu("stream_table_user_live"),kc(IE[10]),Tc(),Fc(),SE=!1,PE=Ka[kr.Users_Position].name,$u=!(TE=!(gE=[])),fE=hE=pE=CE=kE=EE=0,mE=!(vE={}),xE="",Nc(),RE(),UE()}function UE(){(LE=Ka[kr.Users_Position].access_token)?(LE=ec+LE,JE()):(LE=null,RE(),NE())}function RE(){yE=!0,bE=0,AE=3500}function NE(){f_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[kr.Users_Position].id)+"/follows/channels?limit=100&offset="+EE+"&sortby=created_at",AE,2,null,VE,DE)}function DE(){++bE<wE?(AE+=500,NE()):(yE=!1,pE?(mE=!0,zE()):($u=!1,Lc(),Hc(P),t_(ZE)))}function VE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===xE.indexOf(i)&&(xE+=i);EE+=n,RE(),NE()}else xE=xE.slice(0,-1),RE(),JE()}function JE(){var e=pE+kE;e&&CE-1<e&&(e=CE-Vr,mE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=LE?"followed?":"?channel="+encodeURIComponent(xE)+"&",HE(t+="limit="+Vr+"&offset="+e+"&stream_type=all",qE,FE,UE)}function HE(e,t,n,i){var a;if(_c&&!pE){if(!(a=Android.mreadUrl(e,AE,LE?3:2,LE)))return void WM();200===(a=JSON.parse(a)).status?t(a.responseText):!LE||401!==a.status&&403!==a.status?n():la(kr.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=AE,a.setRequestHeader(Zr,Qr),a.setRequestHeader(Kr,tc),LE&&a.setRequestHeader($r,LE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!LE||401!==a.status&&403!==a.status?n():la(kr.Users_Position,0,i,i))},a.send(null)}function FE(){++bE<wE?(AE+=500,JE()):(yE=!1,pE?(mE=!0,zE()):($u=!1,Lc(),Hc(P),t_(ZE)))}function qE(e){var t=JSON.parse(e),n=t.streams.length;CE=parseInt(t._total),n<Vr&&(mE=!0);var i=pE;ME=!(pE+=n);var a=n/Jr;0<n%Jr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Jr+_,d=document.createElement("tr"),o=0;o<Jr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,vE[r]?o--:(vE[r]=1,d.appendChild(ku(s,s+"_"+o,[l.channel.name,r],IE,[l.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Dm(l.created_at)+" "+m+Zc(l.viewers)+J,Kc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Jr;o++)mE&&!TE&&(TE=!0,pE=s*Jr+o),d.appendChild(yu(IE[9]+s+"_"+o)),gE.push(IE[9]+s+"_"+o);u.appendChild(d)}zE()}function zE(){if(SE){if(0<gE.length&&!mE)return RE(),void XE();WE(!0),gE=[]}else ME?(t_(ZE),Hc(T+W)):(SE=!0,WE(),su()),Cc(IE[10]),$u=!1,Lc();yE=!1}function XE(){Jc(gE.length);var e=pE+kE;e&&CE-1<e&&(e=CE-Wr,mE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=LE?"followed?":"?channel="+encodeURIComponent(xE)+"&",HE(t+="followed?limit=limit="+Wr+"&offset="+e+"&stream_type=all",jE,YE,XE)}function YE(){++bE<wE?(AE+=500,XE()):(mE=!0,pE-=gE.length,gE=[],zE())}function jE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(CE=parseInt(i._total),a<Wr&&(mE=!0);o<gE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,vE[n]?o--:(vE[n]=1,Cu(gE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",nc),$c(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Dm(t.created_at)+" "+m+Zc(t.viewers)+J,Kc(t.video_height,t.average_fps,t.channel.broadcaster_language)],IE),d.push(o));for(o=d.length-1;-1<o;o--)gE.splice(d[o],1);kE+=s,mE&&(pE-=gE.length,gE=[]),zE()}function WE(e){Bu(fE,hE,IE,Jr,pE,e),pE/Jr<fE+Hr&&!mE&&!yE&&(RE(),NE()),Mr&&QE()}function QE(){pE&&Hu(fE+"_"+hE,IE)}function ZE(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Qc()?Wc():Xc()?zc():(QE(),t_(ZE)),ok();break;case Vi:if(hE){if(eu(fE,hE-1,IE[0]))QE(),hE--,WE();else for(t=Jr-1;-1<t;t--)if(eu(fE-1,t,IE[0])){QE(),fE--,hE=t,WE();break}}else QE(),dk(ZE,!0);break;case Hi:eu(fE,hE+1,IE[0])?(QE(),hE++,WE()):eu(fE+1,0,IE[0])&&(QE(),fE++,hE=0,WE());break;case Ji:if(fE){for(t=0;t<Jr;t++)if(eu(fE-1,hE-t,IE[0])){QE(),fE--,hE-=t,WE();break}}else QE(),t_(ZE);break;case Fi:for(t=0;t<Jr;t++)if(eu(fE+1,hE-t,IE[0])){QE(),fE++,hE-=t,WE();break}break;case Ni:case Ri:case Di:case qi:Uu(fE+"_"+hE,IE,ZE)}}var KE=0,$E=0,eM=8,tM=0,nM=null,iM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],aM=!1,oM=!0;function sM(){return Ir?(dM(),void da(Ir)):wo()?(kr.Main_CenterLablesVectorPos=1,kr.Main_Go=fr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Fc(),Mc("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",AM,!1),void(aM?(pu(KE),Cc(iM[5]),fM(),su()):lM())):(kr.Main_Go=er,dM(),void au())}function dM(){kr.Users_Position=0,Ic("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",AM),kc(iM[5]),document.getElementById("screens_holder").style.top="0"}function lM(){mu("stream_table_user"),kc(iM[5]),Tc(),Fc(),$u=!(aM=!1),oM=!(KE=$E=0),zu(function(){rM()})}function rM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<Ka.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Tr=document.createElement("tr")).className="follower_header",Tr.innerHTML='<div class="follower_header">'+(o?"":oe)+Ka[o].name+R+"</div>",a.appendChild(i),a.appendChild(Tr),(e=document.createElement("tr")).appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,Ty.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(cM(o+"_"+t,kr.Main_selectedChannelDisplayname,Ka[o].access_token?wt:bt,"key",n)),a.appendChild(e);uM()}function cM(e,t,n,i,a){return(Tr=document.createElement("td")).setAttribute("id",iM[4]+e),Tr.setAttribute(oc,t),Tr.className="stream_cell",Tr.innerHTML='<div id="'+iM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+iM[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+iM[2]+e+'" class="stream_text"><div id="'+iM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Tr}function uM(){zu(function(){aM||(aM=!0,fM(),Lc(),su()),Cc(iM[5]),oM=$u=!1})}function _M(){for(var e=0;e<Ka.length;e++)xc(iM[3]+e+"_2",Ty.isLive?Z:zt)}function fM(){Mc(iM[0]+KE+"_"+$E,"stream_thumbnail_focused"),vu(KE)?1<KE?eu(KE+1,0,iM[0])&&Ju(iM[5],-1*document.getElementById(iM[4]+KE+"_"+$E).offsetTop+.42*screen.height):Ju(iM[5],screen.height/100*7):Su(),Mr&&hM()}function hM(){Er=!1,Ic(iM[0]+KE+"_"+$E,"stream_thumbnail_focused")}function mM(){return kr.Users_Position=KE,3!==$E||Ka[kr.Users_Position].access_token?7===$E&&Ka[kr.Users_Position].access_token?(Hc(wt),void window.setTimeout(Fc,1500)):(6!==$E&&7!==$E&&(kc(iM[5]),document.body.removeEventListener("keydown",AM),document.getElementById("screens_holder").style.top="0"),void zu(function(){$E?1===$E?cC():2===$E?(zg=Ty,Qg()):3===$E?FM():4===$E?Lk():5===$E?KE?yo(KE):(kr.Main_Before=fr,no()):6===$E?gM():7!==$E||Ka[kr.Users_Position].access_token||gM():BE()})):(Hc(In),void window.setTimeout(Fc,5e3))}function pM(){window.clearTimeout(nM)}function vM(){nM=window.setTimeout(yM,2e4)}function gM(){vM(),6===$E?Sc("main_dialog_remove",Ft+pi+Ka[kr.Users_Position].name+"?"):7===$E&&Sc("main_dialog_remove",ft+" "+Ka[kr.Users_Position].name+"?"),Cc("main_remove_dialog")}function yM(){pM(),kc("main_remove_dialog"),tM=0,wM()}function bM(){return Ec("main_remove_dialog")}function wM(){tM?(Ic("remove_cancel","button_search_focused"),Mc("remove_yes","button_search_focused")):(Mc("remove_cancel","button_search_focused"),Ic("remove_yes","button_search_focused"))}function AM(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:bM()?yM():Xc()?zc():Qc()?Wc():(hM(),t_(AM)),ok();break;case Vi:if(bM())--tM<0&&(tM=1),wM(),pM(),vM();else if($E)if(eu(KE,$E-1,iM[0]))hM(),$E--,fM();else if(eu(KE-1,0,iM[0])){for(t=eM-1;-1<t;t--)if(eu(KE-1,t,iM[0])){hM(),KE--,$E=t,fM();break}}else hM(),$E=eM-1,fM();else hM(),dk(AM,!0);break;case Hi:bM()?(1<++tM&&(tM=0),wM(),pM(),vM()):(eu(KE,$E+1,iM[0])?(hM(),$E++):(eu(KE+1,0,iM[0])?(hM(),KE++):hM(),$E=0),fM());break;case Ji:if(KE){for(t=0;t<eM;t++)if(eu(KE-1,$E-t,iM[0])){hM(),KE--,$E-=t,fM();break}}else hM(),t_(AM);break;case Fi:for(t=0;t<eM;t++)if(eu(KE+1,$E-t,iM[0])){hM(),KE++,$E-=t,fM();break}break;case Ni:case Ri:case Di:case qi:var n;if(bM()){if(6===$E)n=tM,yM(),n&&(document.body.removeEventListener("keydown",AM),dM(),vo(KE));else if(n=tM,yM(),n){kr.Users_AddcodePosition=kr.Users_Position,su();var i=aa,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Qr)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else mM()}}var kM=0,CM=0,EM=!1,MM=0,IM={},SM=[],xM=!1,PM=0,TM=5,LM=3500,BM=0,OM=0,GM=!1,UM=!1,RM="time",NM=2,DM=!1,VM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],JM=!1,HM=!1;function FM(){kr.Main_CenterLablesVectorPos=1,kr.Main_Go=wr,Mc("top_bar_user","icon_center_focus"),Ac("label_side_panel","icon-arrow-circle-left",I),Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+(HM?G:O))),document.body.addEventListener("keydown",dI,!1),JM?(pu(kM),Cc(VM[10]),lI(),iI(),su()):zM()}function qM(){kr.Users_Position=0,JM&&aI(),Ic("top_bar_user","icon_center_focus"),Ac("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",dI),xc("top_bar_user",_),kc(VM[10])}function zM(){JM&&aI(),mu("stream_table_user_vod"),kc(VM[10]),Tc(),lI(),Fc(),DM=JM=!1,$u=!(UM=!(SM=[])),kM=CM=MM=OM=BM=0,EM=!(IM={}),Nc(),YM()}function XM(){xM=!0,PM=0,LM=3500}function YM(){XM(),jM()}function jM(){var e=MM+BM;e&&OM-1<e&&(e=OM-Vr,EM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Vr+"&broadcast_type="+(HM?"highlight":"archive")+"&sort="+RM+"&offset="+e;if(_c&&!MM){if(!(t=Android.mreadUrl(n,LM,3,ec+Ka[kr.Users_Position].access_token)))return void WM();200===(t=JSON.parse(t)).status?ZM(t.responseText):401===t.status||403===t.status?la(kr.Users_Position,0,YM,QM):WM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=LM,t.setRequestHeader(Kr,tc),t.setRequestHeader(Zr,Qr),t.setRequestHeader($r,ec+Ka[kr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ZM(t.responseText):401===t.status||403===t.status?la(kr.Users_Position,0,YM,QM):WM())},t.send(null)}function WM(){++PM<TM?(LM+=500,jM()):QM()}function QM(){xM=!1,MM?(EM=!0,KM()):($u=!1,Lc(),Hc(P),t_(kC),Ka[kr.Users_Position].access_token||(qM(),kr.Main_Go=fr,qM(),n_(),ou()))}function ZM(e){var t=JSON.parse(e),n=t.videos.length;OM=parseInt(t._total),n<Vr&&(EM=!0);var i=MM;GM=!(MM+=n);var a=n/Jr;0<n%Jr&&a++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!DM){var _;for(DM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Pi+Pi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p,(Tr=document.createElement("td")).setAttribute("id",VM[8]+"y_"+f),Tr.className="stream_cell",Tr.innerHTML='<div id="'+VM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+VM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Tr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Jr+f,d=document.createElement("tr"),o=0;o<Jr&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||IM[r]?o--:(IM[r]=1,d.appendChild(uI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",nc),l.channel.display_name,N+_u(l.created_at),CI.parse(l.title)+pi+Qt+v+l.game,Zc(l.views)+V,Kc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Rm(l.length),l.animated_preview_url],VM)));for(;o<Jr;o++)EM&&!UM&&(UM=!0,MM=s*Jr+o),d.appendChild(yu(VM[9]+s+"_"+o)),SM.push(VM[9]+s+"_"+o);u.appendChild(d)}KM()}function KM(){JM?iI(!0):(GM?(Hc(T+(HM?G:O)+L+M),t_(dI)):(JM=!0,iI(),su()),Cc(VM[10]),$u=!1,Lc()),0<SM.length&&!EM?$M():xM=!(SM=[])}function $M(){XM(),eI()}function eI(){Jc(SM.length);var e=MM+BM;e&&OM-1<e&&(e=OM-Wr,EM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Wr+"&broadcast_type="+(HM?"highlight":"archive")+"&sort="+RM+"&offset="+e;if(_c){if(!(t=Android.mreadUrl(n,LM,3,ec+Ka[kr.Users_Position].access_token)))return void tI();if(200===(t=JSON.parse(t)).status)return void nI(t.responseText);401===t.status||403===t.status?la(kr.Users_Position,0,YM,QM):tI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=LM,t.setRequestHeader(Kr,tc),t.setRequestHeader(Zr,Qr),t.setRequestHeader($r,ec+Ka[kr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void nI(t.responseText);401===t.status||403===t.status?la(kr.Users_Position,0,YM,QM):tI()}},t.send(null)}function tI(){++PM<TM?(LM+=500,eI()):(EM=!0,MM-=SM.length,SM=[],KM())}function nI(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(OM=parseInt(i._total);o<SM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||IM[n]?o--:(IM[n]=1,fI(SM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",nc),t.channel.display_name,N+_u(t.created_at),CI.parse(t.title)+pi+Qt+v+t.game,Zc(t.views)+V,Kc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Rm(t.length),t.animated_preview_url],VM),d.push(o));for(o=d.length-1;-1<o;o--)SM.splice(d[o],1);BM+=s,EM&&(MM-=SM.length,SM=[]),KM()}function iI(e){kM<0?oI():(Bu(kM,CM,VM,Jr,MM,e),mI(VM,kM+"_"+CM),MM/Jr<kM+Hr&&!EM&&!xM&&YM(),Mr&&aI())}function aI(){window.clearInterval(rI),-1<kM&&MM?(Cc(VM[1]+kM+"_"+CM),Hu(kM+"_"+CM,VM)):sI()}function oI(){var e=1<CM?1:CM;Mc(VM[0]+"y_"+e,ac)}function sI(){var e=1<CM?1:CM;Ic(VM[0]+"y_"+e,ac)}function dI(e){var t;if(!$u&&!Tu())switch(Pu(),e.keyCode){case zi:Xc()?zc():Xc()?zc():Qc()?Wc():(aI(),t_(dI)),ok();break;case Vi:if(CM)if(-1===kM)sI(),--CM<0&&(CM=1),oI();else if(kM||CM){if(eu(kM,CM-1,VM[0]))aI(),CM--,iI();else for(t=Jr-1;-1<t;t--)if(eu(kM-1,t,VM[0])){aI(),kM--,CM=t,iI();break}}else aI(),sI(),kM=-1,CM=1,oI();else-1===kM?(kM=0,sI()):aI(),dk(dI,!0);break;case Hi:-1===kM?(sI(),1<++CM?(CM=0,GM?oI():(kM=0,iI())):oI()):eu(kM,CM+1,VM[0])?(aI(),CM++,iI()):eu(kM+1,0,VM[0])&&(aI(),kM++,CM=0,iI());break;case Ji:if(-1===kM)aI(),t_(dI),kM=0;else if(kM){for(t=0;t<Jr;t++)if(eu(kM-1,CM-t,VM[0])){aI(),kM--,CM-=t,iI();break}}else aI(),kM=-1,oI();break;case Fi:if(-1!==kM||GM){for(t=0;t<Jr;t++)if(eu(kM+1,CM-t,VM[0])){aI(),kM++,CM-=t,iI();break}}else kM=0,sI(),iI();break;case Ni:case Ri:case Di:case qi:-1===kM?(0===CM?d_("UserVod_highlight",(HM=!HM)?"true":"false"):1===NM?NM++:NM--,zM()):Du(kM+"_"+CM,VM,dI)}}function lI(){1===NM?(Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+" "+(HM?G:O)+En)),RM="time"):2===NM&&(Sc("top_bar_user",_+uu(Ka[kr.Users_Position].name+" "+(HM?G:O)+Mn)),RM="views"),d_("UserVod_TypeNumber",NM)}var rI,cI=new Image;function uI(e,t,n,i,a){return e<Jr&&gu(i[0]),_I(n,t,i,a)}function _I(e,t,n,i){return(Tr=document.createElement("td")).setAttribute("id",i[8]+t),Tr.setAttribute(oc,JSON.stringify(e)),Tr.className="stream_cell",Tr.innerHTML=hI(t,n,i),Tr}function fI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(oc,JSON.stringify(t)),a.innerHTML=hI(o,n,i),a.setAttribute("id",i[8]+o)}function hI(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" alt="" class="stream_img" src="'+t[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function mI(t,n){if(window.clearInterval(rI),qy){var i=document.getElementById(t[0]+n);cI.onload=function(){this.onload=null,kc(t[1]+n),i.style.backgroundSize="612px";var e=0;rI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},cI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function pI(e,t){return e.replace(t.code,vI(t))}function vI(e){return'<img class="emoticon" alt="" src="'+e["3x"]+'"/>'}function gI(e){return'<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function yI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function bI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=yd[i]||yd[e];e=a?pI(e,a):yI(e),t[n]=e}return t.join(" ")}function wI(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([gI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function AI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function kI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function A(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+c((e=e.replace(d,".")).split("."),t).join(".")}function k(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;i+=g)e=b(e/r);return b(i+(r+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,r,c,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&A("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&A("overflow"),h+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&A("overflow"),s*=c;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&A("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,r,c,u,_,f,h,m,p=[];for(_=(e=k(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&A("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&A("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)m=l-c,h=g-c,p.push(w(E(c+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:k,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=i,i=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var CI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();