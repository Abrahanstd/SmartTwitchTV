var t,n,i,e,a,o,s,d,l,r,p,c,u,_,f,h,v,m,g,y,b,w,k,A,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ri,ci,ui,_i,fi,hi,mi="fglfgl27@gmail.com",pi="<br>",vi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',gi='<div class="about_text_title">',yi='<div class="about_text_title" style="text-align: left;">',bi='<div style="text-align: left;">',wi="",ki="",Ai="",Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="&nbsp;";function Ti(){wi=e+" (C)",ki=n+" (D)",Ci=i+" (A)",Ai=a+" (A)",l+=Zt,r+=Zt,I=ai+oi,Ei=gi+e+"</div>"+gi+Ce+"</div>"+pi+bi+vi+xe+pi+vi+(Pe+=Yt)+pi+vi+Te+pi+vi+ci+pi+vi+Le+pi+Be+pi+vi+Oe+pi+Pi+Pi+Pi+Ge+pi+vi+Ue+pi+"</div>"+pi+(Si=gi+ke+"</div>"+bi+vi+nt+pi+vi+$e+pi+vi+et+pi+"</div>"+bi+vi+tt+pi+vi+it+pi+vi+at+pi+pi+gi+Ae+"</div>"+bi+vi+ot+pi+vi+st+pi+vi+dt+pi+vi+lt+pi+vi+rt)+pi+pi+gi+we+"</div>",Mi=gi+be+"</div></div>",Ii=bi+pi+Re+pi+(Ql?pi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+pi+gi+Ne+"</div>"+mi+pi+pi+De+pi+Ve+pi+pi+yi+Je+"</div>"+bi+We+pi+vi+He+pi+vi+Fe+pi+vi+qe+pi+vi+ze+pi+vi+Xe+pi+vi+Ye+pi+vi+je+pi+Qe+pi+vi+Ze+pi+vi+Ke+pi+gi+we+"</div></div>",xi=ht+pi+vi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+pi+vi+pt+pi+vi+vt+pi+vi+gt+pi+vi+yt}function Li(){Br=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",c="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ci="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+pi+"Chat: Connected."+pi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+pi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ri="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed"}var Bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ui="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ri=51,Ni=52,Di=179,Vi=37,Ji=38,Hi=39,Fi=40,qi=13,zi=49,Xi=8,Yi=13,ji=32,Wi=46,Qi=0,Zi=5,Ki=1e4,$i=0,ea=!1,ta=!1,na=!1,ia="",aa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",oa="elsu5d09k0xomu7cggx3qg5ybdwu7g",sa="https://id.twitch.tv/oauth2/token?";function da(e){Ar.Users_Position=Ar.Users_AddcodePosition,$i=e,La(),Lc(),_a()}function la(e,t,n,i){var a=new XMLHttpRequest,o=sa+"grant_type=refresh_token&client_id="+encodeURIComponent(Zr)+"&client_secret="+encodeURIComponent(oa)+"&refresh_token="+encodeURIComponent(Ka[e].refresh_token)+"&redirect_uri="+aa;a.open("POST",o,!0),a.timeout=Ki,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?ca(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ma(),i&&i()):ra(e,t,n,i))},a.send(null)}function ra(e,t,n,i){++t<5?la(e,t,n,i):i&&i()}function ca(e,t,n){var i=JSON.parse(e);ua(i.scope)?(Ka[t].access_token=i.access_token,Ka[t].refresh_token=i.refresh_token,go()):ma(),n&&n()}function ua(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function _a(){var e=sa+"grant_type=authorization_code&client_id="+encodeURIComponent(Zr)+"&client_secret="+encodeURIComponent(oa)+"&code="+encodeURIComponent($i)+"&redirect_uri="+aa,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Ki,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?pa(t.responseText):fa())},t.send(null)}function fa(){++Qi<Zi?_a():ha()}function ha(){Bc(),Fc(Tt),window.setTimeout(function(){qc(),Sr=0,du(),Ar.Main_Go=fr,window.location=aa},4e3),Ka[Ar.Users_Position].access_token=0,Ka[Ar.Users_Position].refresh_token=0,go()}function ma(){sM=!1,Bc(),Fc(Tt),Ka[Ar.Users_Position].access_token=0,Ka[Ar.Users_Position].refresh_token=0,go(),du(),window.setTimeout(qc,4e3)}function pa(e){var t=JSON.parse(e);Ka[Ar.Users_Position].access_token=t.access_token,Ka[Ar.Users_Position].refresh_token=t.refresh_token,La(),va()}function va(){v_("https://api.twitch.tv/kraken?oauth_token="+Ka[Ar.Users_Position].access_token,Ki,0,null,ga,ya)}function ga(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ka[Ar.Users_Position].name)){if(go(),Sr=0,Bc(),sM=!1,Ar.Main_Go=fr,du(),Fc(wt),fc)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=aa},3e3)}else Ka[Ar.Users_Position].access_token=0,Ka[Ar.Users_Position].refresh_token=0,Fc(Gn+Ka[Ar.Users_Position].name),window.setTimeout(function(){qc(),Sr=0,du(),Ar.Main_Go=fr,window.location=aa},4e3)}function ya(){++Qi<Zi?(Ki+=500,va()):ha()}function ba(){La(),ea=!1,wa()}function wa(){var e="https://api.twitch.tv/kraken/users/"+Ka[Ar.Users_Position].id+"/follows/channels/"+ia,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ki,t.setRequestHeader(Kr,Zr),t.setRequestHeader($r,nc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ka():404===t.status?Aa(t.responseText):Ca())},t.send(null)}function ka(){ea=!0,na?tv():rs()}function Aa(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ea=!1,na?tv():rs()):Ca()}function Ca(){++Qi<Zi?(Ki+=500,wa()):na?tv():rs()}function Ea(){La(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ka[Ar.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Kr,Zr),e.setRequestHeader($r,nc),e.setRequestHeader("Authorization","OAuth "+Ka[Ar.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ea=!0,void(na?tv():rs());401===e.status||403===e.status?la(Ar.Users_Position,0,Ea,null):Ia()}},e.send(null)}function Ia(){++Qi<Zi&&(Ki+=500,Ma())}function Sa(){La(),xa()}function xa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ka[Ar.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Kr,Zr),e.setRequestHeader($r,nc),e.setRequestHeader("Authorization","OAuth "+Ka[Ar.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ea=!1,void(na?tv():rs());401===e.status||403===e.status?la(Ar.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++Qi<Zi&&(Ki+=500,xa())}function Ta(){La(),ta=!1,Ba()}function La(){Qi=0,Ki=1e4}function Ba(){var e,t="https://api.twitch.tv/kraken/users/"+Ka[Ar.Users_Position].id+"/subscriptions/"+ia;if(fc){if(!(e=Android.mreadUrl(t,Ki,3,Ka[Ar.Users_Position].access_token)))return void Oa();if(200===(e=JSON.parse(e)).status)ta=!0,fg();else if(422===e.status)ta=!1,_g();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void _g();Oa()}else 401===e.status||403===e.status?la(Ar.Users_Position,0,Ta,Ga):Oa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ki,e.setRequestHeader(Kr,Zr),e.setRequestHeader($r,nc),e.setRequestHeader("Authorization","OAuth "+Ka[Ar.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ta=!0,fg();else if(422===e.status)ta=!1,_g();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void _g();Oa()}else 401===e.status||403===e.status?la(Ar.Users_Position,0,Ta,Ga):Oa()},e.send(null)}function Oa(){++Qi<Zi?(Ki+=500,Ba()):Ga()}function Ga(){ta=!1,_g()}function Ua(e){La(),Ra(e,0)}function Ra(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+Ka[e].access_token;if(fc){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Da(e,t);200===(n=JSON.parse(n)).status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t))},n.send(null)}function Na(e,t){var n=JSON.parse(e);n.token.valid?ua(n.token.authorization.scopes)||ma():(La(),la(t,0,null,null))}function Da(e,t){++t<Zi&&Ra(e,t)}function Va(){La(),Ja()}function Ja(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ka[Ar.Users_Position].name+"/follows/games/"+encodeURIComponent(Ar.Main_gameSelected)+"?oauth_token="+Ka[Ar.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Kr,Zr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wy=!0,void Py();401===e.status||403===e.status?la(Ar.Users_Position,0,Va,null):Ha()}},e.send(null)}function Ha(){++Qi<Zi&&(Ki+=500,Ja())}function Fa(){La(),qa()}function qa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ka[Ar.Users_Position].name+"/follows/games/"+encodeURIComponent(Ar.Main_gameSelected)+"?oauth_token="+Ka[Ar.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Kr,Zr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Wy=!1,void Py();401===e.status||403===e.status?la(Ar.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++Qi<Zi&&(Ki+=500,qa())}function Xa(){La(),Ya()}function Ya(){var e,t="https://api.twitch.tv/api/users/"+Ka[Ar.Users_Position].name+"/follows/games/"+encodeURIComponent(Ar.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Kr,Zr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Wy=!0,void Py()):404===e.status?(Wy=!1,void Py()):void ja()},e.send(null)}function ja(){++Qi<Zi?(Ki+=500,Ya()):(Wy=!1,Py())}var Wa=0,Qa=5,Za=3500,Ka=[],$a=null,eo=!1,to=!1;function no(){Ar.Main_Go=tr,Ic("top_bar_user","icon_center_focus"),qc(),ql.placeholder=A,Ec("add_user_scroll"),oo()}function io(){lo(!1),document.body.removeEventListener("keydown",ao),document.body.removeEventListener("keydown",ro),Sc("top_bar_user","icon_center_focus"),Cc("add_user_scroll")}function ao(e){if(!eo&&!to&&Ar.Main_Go===tr)switch(e.keyCode){case zi:Yc()?Xc():Zc()?Qc():(0<Ka.length&&Ar.Main_Go!==fr?Ar.Main_Go=Ar.Main_Before:Ar.Main_Go=er,io(),ou());break;case Ni:case Ri:case Di:case qi:oo()}}function oo(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",ro,!1),ql.placeholder=A,ql.focus(),to=!0}function so(){if(null!==ql){var e=ql.cloneNode(!0);ql.parentNode.replaceChild(e,ql),ql=document.getElementById("user_input")}}function lo(e){ql.blur(),so(),document.body.removeEventListener("keydown",ro),ql.placeholder=C+A,e&&document.body.addEventListener("keydown",ao,!1),to=!1}function ro(e){if(!eo&&Ar.Main_Go===tr)switch(e.keyCode){case zi:Yc()?Xc():Zc()?Qc():(0<Ka.length&&Ar.Main_Go!==fr?Ar.Main_Go=Ar.Main_Before:Ar.Main_Go=er,io(),ou());break;case Wi:ql.value="";break;case Yi:case Fi:""!==ql.value&&null!==ql.value?bo($a=ql.value)?(Bc(),Fc(_+$a+ie),window.setTimeout(function(){qc(),oo()},1500)):(Za=3500,eo=!(Wa=0),Cc("add_user_scroll"),Lc(),co()):oo();break;case Xi:ql.value=ql.value.slice(0,-1);break;case ji:ql.value+=" "}}function co(){v_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($a),Za,2,null,uo,_o)}function uo(e){JSON.parse(e)._total?(ql.value="",document.body.removeEventListener("keydown",ao),po(e)):fo()}function _o(){++Wa<Qa?(Za+=500,co()):fo()}function fo(){$a=null,Bc(),Fc(te),window.setTimeout(function(){no()},1e3),eo=!1}function ho(){if(0<(Ka=f_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ka.length;e++)Ka[e].access_token&&Ua(e)}function mo(){return 0<Ka.length}function po(e){$a=JSON.parse(e).users[0],Ka.push({name:$a.name,id:$a._id,access_token:0,refresh_token:0}),go(),sM=!1,io(),lM(),eo=!1}function vo(e){var t=Ka.indexOf(Ka[e]);-1<t&&Ka.splice(t,1),0<Ka.length?(sM=!1,lM()):no(),go()}function go(){u_("AddUser_UsernameArray",JSON.stringify(Ka))}function yo(e){$a=Ka[0],Ka[0]=Ka[e],Ka[e]=$a,sM=!1,lM(),go(),Ar.Users_Position=0}function bo(e){return-1!==Ka.indexOf(e)}function wo(){return 0<Ka.length}var ko,Ao=0,Co=0,Eo=!1,Mo=0,Io=0,So=5,xo=3500,Po=0,To=!1,Lo=!1,Bo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Oo=!1,Go="",Uo=null,Ro="",No="",Do="",Vo="",Jo="",Ho={},Fo=!1,qo=null,zo="";function Xo(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=cr,Fo&&!Ar.Search_isSearching&&Ar.Main_selectedChannel_id&&ps(),Go!==Ar.Main_selectedChannel&&(Oo=!1),uu(),Ar.Main_selectedChannelDisplayname=Ar.Main_selectedChannelDisplayname.replace(j,""),Pc("top_bar_user",Ar.Main_selectedChannelDisplayname),Pc("top_bar_game",Ut),document.body.addEventListener("keydown",vs,!1),na=!1,Oo?(bu(Ao),Ec(Bo[10]),us(),_s(),du()):jo()}function Yo(){cu(),document.body.removeEventListener("keydown",vs),Cc(Bo[10])}function jo(){pu("stream_table_channel_content"),Cc(Bo[10]),qo=null,Lc(),qc(),Go=Ar.Main_selectedChannel,Vo="",Eo=To=Oo=!1,ko=void(Ao=Co=Mo=Po=0),Wo(),Qo()}function Wo(){i_=!0,Io=0,xo=3500}function Qo(){v_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==ko?ko:Ar.Main_selectedChannel_id),xo,2,null,Zo,Ko)}function Zo(e){null!==JSON.parse(e).stream?(Uo=e,Wo(),ns()):ko?(Uo=null,Wo(),ns()):(Wo(),$o())}function Ko(){++Io<So?(xo+=500,Qo()):(Uo=null,Wo(),ns())}function $o(){v_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ar.Main_selectedChannel_id),xo,1,null,ts,es,!0)}function es(){++Io<So?(xo+=500,$o()):(Uo=null,Wo(),ns())}function ts(e){var t=JSON.parse(e);void 0!==(ko=t.hosts[0].target_id)?(Wo(),Qo()):(Uo=null,Wo(),ns())}function ns(){v_("https://api.twitch.tv/kraken/channels/"+Ar.Main_selectedChannel_id,Cv,2,null,is,as)}function is(e){var t=JSON.parse(e);qo=(qo=t.video_banner)?qo.replace("1920x1080",ic):qo,zo=t.profile_banner,Ro=t.views,No=t.followers,Do=t.description,Ar.Main_selectedChannelLogo=t.logo,os()}function as(){++Io<So?(xo+=500,ns()):(qo=null,zo=Ui,Do=No=Ro="",Ar.Main_selectedChannelLogo=Oi,os())}function os(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Lr=document.createElement("tr")).className="follower_banner",Lr.innerHTML='<div id="'+Bo[0]+'x_0" class="follower_banner"><img id="'+Bo[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Lr),null!==Uo){var i=JSON.parse(Uo);if(null!==i.stream){var a=void 0!==ko?Ar.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(ss("0_"+t,o.channel.name,o.preview.template,MI.parse(o.channel.status),o.game,eu(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Fm(o.created_at)+" "+m+Kc(o.viewers)+J,$c(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else To=!0}else To=!0;e.appendChild(ds("0_"+t,Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(ds("0_"+t,Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(Au(Bo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(ls("1_0",Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelLogo)),(Lr=document.createElement("td")).setAttribute("id",Bo[8]+"x_x"),Lr.className="stream_cell",Lr.innerHTML='<div id="'+Bo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Bo[4]+'x_x" class="stream_channel_info">'+MI.parse(Do)+"</div></div>",e.appendChild(Lr),n.appendChild(e),cs()}function ss(e,t,n,i,a,o,s,d){return Vo=n.replace("{width}x{height}",ic),(Lr=document.createElement("td")).setAttribute("id",Bo[8]+e),Lr.setAttribute(sc,t),Lr.className="stream_cell",Lr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Bo[1]+e+'" class="stream_img"></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==ko?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Pi+o+'</div><div id="'+Bo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Bo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Bo[6]+e+'"class="stream_info">'+s+"</div></div>",Lr}function ds(e,t,n,i){return(Lr=document.createElement("td")).setAttribute("id",Bo[8]+e),Lr.setAttribute(sc,t),Lr.className="stream_cell",Lr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Bo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Lr}function ls(e,t,n,i){return Jo=i,(Lr=document.createElement("td")).setAttribute("id",Bo[8]+e),Lr.setAttribute(sc,t),Lr.className="stream_cell",Lr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Bo[1]+e+'" class="stream_img_fallow"></div><div id="'+Bo[2]+e+'" class="stream_text_channel"><div id="'+Bo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+Kc(Ro)+V+'</div><div id="'+Bo[6]+e+'"class="stream_info" >'+Kc(No)+Dt+"</div></div>",Lr}function rs(){ea?(xc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Pc(Bo[3]+"1_0",Ar.Main_selectedChannelDisplayname+Mt)):(xc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),mo()?Pc(Bo[3]+"1_0",Ar.Main_selectedChannelDisplayname+It):Pc(Bo[3]+"1_0",Ar.Main_selectedChannelDisplayname+Vt))}function cs(){Oo||(Oo=!0,""!==Vo&&pc(document.getElementById(Bo[1]+"0_0"),Vo,Gi),pc(document.getElementById(Bo[1]+"x_0"),zo,Ui),pc(document.getElementById(Bo[1]+"1_0"),Jo,Oi),_s(),du(),Ec(Bo[10]),Bc()),us(),i_=!1}function us(){Lo?rs():mo()?(ia=Ar.Main_selectedChannel_id,na=!1,ba()):(ea=!1,rs())}function _s(){Ic(Bo[0]+Ao+"_"+(Ao?0:Co),oc),Mr&&fs(),Lu()}function fs(){Xu(Ao+"_"+(Ao?0:Co),Bo)}function hs(){if(Ao)mo()&&Ka[Ar.Users_Position].access_token?(na=!1,ia=Ar.Main_selectedChannel_id,ea?Sa():Ea()):(Fc(Bt),window.setTimeout(qc,2e3));else{document.body.removeEventListener("keydown",vs),Cc(Bo[10]);var e=To?1:0;Co===0-e?(Ar.Play_selectedChannel=document.getElementById(Bo[8]+Ao+"_"+Co).getAttribute(sc),Ar.Play_selectedChannelDisplayname=document.getElementById(Bo[3]+Ao+"_"+Co).textContent,-1!==Ar.Play_selectedChannelDisplayname.indexOf(ne)?(Ar.Play_isHost=!0,Ar.Play_DisplaynameHost=Ar.Play_selectedChannelDisplayname,Ar.Play_selectedChannelDisplayname=Ar.Play_selectedChannelDisplayname.split(ne)[1],Ar.Play_selectedChannel_id=ko):Ar.Play_selectedChannel_id=Ar.Main_selectedChannel_id,Ar.Play_gameSelected=document.getElementById(Bo[5]+Ao+"_"+Co).textContent.split(v)[1],Wu(Ju)):Co===1-e?Wu(Fs):Co===2-e&&(Wg=Ly,Wu(ey))}}function ms(){Ho={"Main_values.Main_selectedChannel_id":Ar.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Ar.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Ar.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Ar.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Lo,"Main_values.Main_BeforeChannel":Ar.Main_BeforeChannel}}function ps(){Ar.Main_selectedChannel_id=Ar.Main_selectedChannel_id,Ar.Main_selectedChannelLogo=Ar.Main_selectedChannelLogo,Ar.Main_selectedChannel=Ar.Main_selectedChannel,Ar.Main_selectedChannelDisplayname=Ar.Main_selectedChannelDisplayname,Lo=Ho.ChannelContent_UserChannels,Ar.Main_BeforeChannel=Ar.Main_BeforeChannel,Fo=!(Ho={})}function vs(e){if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(fs(),o_(vs)),lA();break;case Vi:Co?Ao||(fs(),--Co<0&&(Co=To?1:2),_s()):(fs(),cA(vs,!0));break;case Hi:Ao||(fs(),(To?1:2)<++Co&&(Co=0),_s());break;case Ji:Ao?(fs(),Ao=0,_s()):(fs(),o_(vs));break;case Fi:Ao||(fs(),Ao=1,_s());break;case Ni:case Ri:case Di:case qi:hs()}}var gs=0,ys=0,bs=!1,ws=0,ks={},As=[],Cs=!1,Es=0,Ms=5,Is=3500,Ss=0,xs=0,Ps=0,Ts=!1,Ls=!1,Bs="",Os=!1,Gs=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Us=!1,Rs=!1,Ns="",Ds="",Vs="",Js="",Hs=0;function Fs(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=ur,!Ar.Search_isSearching&&Ar.Main_selectedChannel_id&&ps(),Ar.Main_selectedChannel!==Ns&&(Us=!1),uu(),Ac("label_side_panel","icon-arrow-circle-left",I),Pc("top_bar_user",Ar.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",ad,!1),Us?(bu(gs),Pc("top_bar_game",Rs?G:O),Ec(Gs[10]),ed(),du()):zs()}function qs(){Us&&td(),cu(),document.body.removeEventListener("keydown",ad),Cc(Gs[10]),qc()}function zs(){Us&&td(),pu("stream_table_channel_vod"),Cc(Gs[10]),Pc("top_bar_game",Rs?G:O),Lc(),qc(),Ns=Ar.Main_selectedChannel,Os=Us=!1,i_=!(Ls=!(As=[])),gs=ys=ws=xs=Ss=0,bs=!(ks={}),Dc(),Xs(),Ys()}function Xs(){gu(),Cs=!0,Es=0,Is=3500}function Ys(){var e=ws+Ss;e&&xs-1<e&&(e=xs-Jr,bs=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ar.Main_selectedChannel_id)+"/videos?limit="+Jr+"&broadcast_type="+(Rs?"highlight":"archive")+"&sort=time&offset="+e;fc&&!ws?y_(t,Is,2,null,Ws,js):b_(t,Is,2,null,Ws,js,!1)}function js(){++Es<Ms?(Is+=500,Ys()):(Cs=!1,ws?(bs=!0,Qs()):(i_=!1,Bc(),Fc(P),o_(ad)))}function Ws(e){var t=JSON.parse(e),n=t.videos.length;xs=parseInt(t._total),n<Jr&&(bs=!0);var i=ws;Ts=!(ws+=n);var a=n/Hr;0<n%Hr&&a++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Os){Os=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p;(Lr=document.createElement("td")).setAttribute("id",Gs[8]+"y_0"),Lr.className="stream_cell",Lr.innerHTML='<div id="'+Gs[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Gs[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(Lr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Hr+m,d=document.createElement("tr"),o=0;o<Hr&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==qo?qo:Gi),c||ks[r]?o--:(ks[r]=1,d.appendChild(fI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",ic),l.channel.display_name,N+fu(l.created_at),MI.parse(l.title)+pi+Qt+v+l.game,Kc(l.views)+V,$c(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Jm(l.length),l.animated_preview_url],Gs)));for(;o<Hr;o++)bs&&!Ls&&(Ls=!0,ws=s*Hr+o),d.appendChild(Au(Gs[9]+s+"_"+o)),As.push(Gs[9]+s+"_"+o);f.appendChild(d)}Qs()}function Qs(){if(Us?(ed(!0),vu(null!==qo?qo:Gi)):(Ts?(o_(ad),Fc(T+(Rs?G:O)+L+M)):(Us=!0,vu(null!==qo?qo:Gi),ed(),du()),Ec(Gs[10]),i_=!1,Bc()),0<As.length&&!bs)return Xs(),void Zs();Cs=!(As=[])}function Zs(){Hc(As.length);var e=ws+Ss;e&&xs-1<e&&(e=xs-Qr,bs=!0),v_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ar.Main_selectedChannel_id)+"/videos?limit="+Qr+"&broadcast_type="+(Rs?"highlight":"archive")+"&sort=time&offset="+e,Is,2,null,$s,Ks)}function Ks(){++Es<Ms?(Is+=500,Zs()):(bs=!0,ws-=As.length,As=[],Qs())}function $s(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(xs=parseInt(i._total);o<As.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ks[n]?o--:(ks[n]=1,mI(As[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ic),t.channel.display_name,N+fu(t.created_at),MI.parse(t.title)+pi+Qt+v+t.game,Kc(t.views)+V,$c(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Jm(t.length),t.animated_preview_url],Gs),d.push(o));for(o=d.length-1;-1<o;o--)As.splice(d[o],1);Ss+=s,bs&&(ws-=As.length,As=[]),Qs()}function ed(e){gs<0?nd():(Ru(gs,ys,Gs,Hr,ws,e),vI(Gs,gs+"_"+ys),ws/Hr<gs+Fr&&!bs&&!Cs&&(Xs(),Ys()),Mr&&td())}function td(){window.clearInterval(uI),-1<gs&&ws?(Ec(Gs[1]+gs+"_"+ys),Xu(gs+"_"+ys,Gs)):id()}function nd(){Ic(Gs[0]+"y_0",oc)}function id(){Sc(Gs[0]+"y_0",oc)}function ad(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(td(),o_(ad)),lA();break;case Vi:if(ys){if(tu(gs,ys-1,Gs[0]))td(),ys--,ed();else for(t=Hr-1;-1<t;t--)if(tu(gs-1,t,Gs[0])){td(),gs--,ys=t,ed();break}}else td(),cA(ad,!0);break;case Hi:tu(gs,ys+1,Gs[0])?(td(),ys++,ed()):tu(gs+1,0,Gs[0])&&(td(),gs++,ys=0,ed());break;case Ji:if(-1===gs)td(),gs=0,o_(ad);else if(gs){for(t=0;t<Hr;t++)if(tu(gs-1,ys-t,Gs[0])){td(),gs--,ys-=t,ed();break}}else td(),gs=-1,nd();break;case Fi:if(-1!==gs||Ts){for(t=0;t<Hr;t++)if(tu(gs+1,ys-t,Gs[0])){td(),gs++,ys-=t,ed();break}}else gs=0,id(),ed();break;case Ni:case Ri:case Di:case qi:-1===gs?(u_("ChannelVod_highlight",(Rs=!Rs)?"true":"false"),zs()):Fu(gs+"_"+ys,Gs,ad)}}var od,sd,dd,ld,rd,cd,ud=0,_d=10,fd=!1,hd=0,md=null,pd=!1,vd=0,gd={bbtv:{},ffz:{}},yd={};function bd(){qd(),Ar.Play_ChatForceDisable?(Qd||ul(),pd=!1,Wu(function(){hd=(new Date).getTime(),rd=Ar.Play_selectedChannel_id,cd=Ar.Play_selectedChannel,wd(hd,Cd)})):Dl()}function wd(e,t){ud=0,kd(e,t)}function kd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+rd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);Ad(e,t)}},i.send(null)}function Ad(e,t){++ud<_d?kd(e,t):sd=window.setTimeout(function(){kd(e,t)},500)}function Cd(e,t){Al(e),Ed(),xd(),hd===t&&Gd()}function Ed(){gd.bbtv[rd]||(ud=0,Md())}function Md(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(cd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Sd(t.responseText):404===t.status?gd.bbtv[rd]=1:Id())},t.send(null)}function Id(){++ud<_d&&Md()}function Sd(e){Bd(JSON.parse(e)),gd.bbtv[rd]=1}function xd(){gd.ffz[rd]||(ud=0,Pd())}function Pd(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(cd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ld(t.responseText):404===t.status?gd.ffz[rd]=1:Td())},t.send(null)}function Td(){++ud<_d&&Pd()}function Ld(e){Od(JSON.parse(e)),gd.ffz[rd]=1}function Bd(t){t.emotes.forEach(function(e){yd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Od(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(yd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(yd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Gd(){Nd(),Ud()}function Ud(){(md=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){md.send("PASS blah\r\n"),md.send("NICK justinfan12345\r\n"),md.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),md.send("JOIN #"+cd+"\r\n")},md.onclose=function(){fd=!0},md.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":md.send("PONG "+t.params[0]);break;case"JOIN":pd=!0,Jd('&nbsp;<span class="message">'+pi+bn+Ar.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Dd(t)}},dd=window.setTimeout(Rd,5e3)}function Rd(){pd?ld=window.setInterval(Hd,1e3):(md.close(1e3),Gd())}function Nd(){window.clearTimeout(dd)}function Dd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+al[i.charCodeAt(0)%ol]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Jd(t+='<span class="message">'+Vd(AI(a,o))+"</span>")}function Vd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=kI(e[t]):e[t]=e[t][0];return MI.parse(e.join(" "),!0,!0)}function Jd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,jd.appendChild(t),Hd(),100<++vd&&(vd=0,Jl())}function Hd(){jd.scrollTop=jd.scrollHeight}function Fd(){Nd(),window.clearTimeout(sd),window.clearTimeout(od),window.clearInterval(ld)}function qd(){Fd(),md&&md.close(1e3),hd=0,pu("chat_box"),pd=fd=!1}var zd,Xd,Yd,jd,Wd,Qd=!1,Zd=0,Kd=[],$d=[],el=10,tl=null,nl=0,il="",al=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],ol=al.length,sl=0,dl=!1,ll=0;function rl(){jd=document.getElementById("chat_box"),ul()}function cl(){Bl(),fc&&Ar.Play_ChatForceDisable?(Qd||ul(),Wu(function(){ll=(new Date).getTime(),rd=Ar.Main_selectedChannel_id,cd=Ar.Main_selectedChannel,wd(ll,Cl)})):Dl()}function ul(){Zd=0,Qd=!(yd={}),_l()}function _l(){b_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,hl,fl,!1)}function fl(){++Zd<el?_l():Qd=!1}function hl(e){CI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){EI(t.type,e.type,e.image_url_4x,null)})}),ml()}function ml(){Zd=0,pl()}function pl(){b_("https://api.betterttv.net/2/emotes",1e4,0,null,gl,vl,!1)}function vl(){++Zd<el?pl():Qd=!1}function gl(e){Bd(JSON.parse(e)),yl()}function yl(){Zd=0,bl()}function bl(){b_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,kl,wl,!1)}function wl(){++Zd<el?bl():Qd=!1}function kl(e){Od(JSON.parse(e)),Qd=!0}function Al(e){CI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){EI(t.type,e.type,e.image_url_4x,jd)})})}function Cl(e,t){Al(e),Ed(),xd(),ll===t&&El(t)}function El(e){Zd=0,ll===e&&Ml(e)}function Ml(e){var t="https://api.twitch.tv/v5/videos/"+Ar.ChannelVod_vodId+"/comments?client_id="+Zr+(nl?"&content_offset_seconds="+parseInt(nl):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ll===e&&Sl(n.responseText,e));ll===e&&Il(e)}},n.send(null)}function Il(e){Zd++,ll===e&&(Zd<el?Ml(e):Xd=window.setTimeout(function(){Ml(e)},2500))}function Sl(e,t){e=JSON.parse(e);var n,i,a=null===tl;a&&(n="&nbsp;",n+='<span class="message">',n+=pi+bn+Ar.Main_selectedChannelDisplayname+" "+il,xl(n+="</span>",0)),nl=0,tl=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+al[e.commenter.display_name.charCodeAt(0)%ol]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Vd([e.text])}),n+="</span>",a?xl(n,e.content_offset_seconds):void 0!==tl&&Pl(n,e.content_offset_seconds)}),a&&ll===t&&(Tl(t),void 0!==tl&&Gl(t))}function xl(e,t){Kd.push({time:t,message:e})}function Pl(e,t){$d.push({time:t,message:e})}function Tl(e){dl||ll!==e||(zd=window.setInterval(function(){Ol(e),jd.scrollTop=jd.scrollHeight},1e3))}function Ll(){dl||(window.clearTimeout(Wd),window.clearTimeout(Xd),window.clearTimeout(Yd),window.clearInterval(zd))}function Bl(){Ll(),ll=0,pu("chat_box"),dl=!1,tl=null,Kd=[],$d=[],sl=0}function Ol(e){var t;if(sl<Kd.length-1)for(var n=sl;n<Kd.length&&Kd[n].time<Hs+Android.gettime()/1e3;n++,sl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Kd[n].message,jd.appendChild(t);else if(Ll(),void 0!==tl)Kd=$d.slice(),sl=0,Tl(e),$d=[],ll===e&&Gl(e),Jl();else{var i="&nbsp;";i+='<span class="message">',i+=pi+pi+Cn+pi+pi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,jd.appendChild(t),dl=!0,jd.scrollTop=jd.scrollHeight,window.clearInterval(zd),zd=window.setInterval(function(){jd.scrollTop=jd.scrollHeight},1e3)}}function Gl(e){Zd=0,dl||ll!==e||Ul(e)}function Ul(e){var t="https://api.twitch.tv/v5/videos/"+Ar.ChannelVod_vodId+"/comments?client_id="+Zr+(null!==tl?"&cursor="+tl:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(dl||ll!==e||Sl(n.responseText,e));dl||ll!==e||Rl(e)}},n.send(null)}function Rl(e){Zd++,ll===e&&(Zd<el?Ul(e):Yd=window.setTimeout(function(){Ul(e)},2500))}function Nl(){Bl(),Vl(ln+pi+rn)}function Dl(){Bl(),Vl($n)}function Vl(e){var t="&nbsp;";t+='<span class="message">',t+=pi+pi+pi+pi+pi+pi+pi+pi+pi+pi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,jd.appendChild(n)}function Jl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Hd()}var Hl,Fl,ql,zl,Xl,Yl,jl,Wl=!0,Ql=!1,Zl=!1,Kl=-1,$l=new Image,er=1,tr=2,nr=3,ir=4,ar=5,or=6,sr=7,dr=8,lr=9,rr=10,cr=11,ur=12,_r=13,fr=14,hr=15,mr=16,pr=17,vr=18,gr=19,yr=20,br=21,wr=22,kr="",Ar={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:nr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Cr=!0,Er=!0,Mr=!1,Ir=[],Sr=0,xr=0,Pr=null,Tr=!0,Lr="",Br=!1,Or="",Gr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Ur=[],Rr=0,Nr=!0,Dr=1.35,Vr=1.5,Jr=45,Hr=3,Fr=Math.floor(Jr/Hr/Vr),qr=45,zr=5,Xr=Math.floor(qr/zr/Dr),Yr=48,jr=6,Wr=Math.floor(Yr/jr/Vr),Qr=6,Zr="5seja5ptej058mxqy7gh5tcudjqtm9",Kr="Client-ID",$r="Accept",ec="Authorization",tc="OAuth ",nc="application/vnd.twitchtv.v5+json",ic="528x297",ac="340x475",oc="stream_thumbnail_focused",sc="data_attribute",dc="1.0",lc=".21",rc="053119",cc=dc+lc+"-"+rc,uc="",_c=0,fc=0,hc="?"+Math.random(),mc="https://cors-anywhere.herokuapp.com/",pc=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function vc(){(Zl=h_("Main_isDebug",!1))&&Wl?gc():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){yc(window.navigator.userLanguage||window.navigator.language)}):yc(window.navigator.userLanguage||window.navigator.language)}function gc(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function yc(e){Yu(),Wu(function(){try{fc=Android.getAndroid(),uc=Android.getversion()}catch(e){uc="1.0.0",fc=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Ql=Zl=!0,console.log("Main_isReleased: "+Wl),console.log("Main_isDebug: "+Zl),console.log("Main_isBrowser: "+Ql)}fc&&(document.body.addEventListener("keydown",A_,!1),document.body.addEventListener("keyup",C_,!1)),pk(),Li(),Vk(),console.log("language is "+e),Ti(),-1!==window.location.href.indexOf("code")&&p_(window.location.href),bc()})}function bc(){Qg(),wc(!0),Hl=document.getElementById("scrollbar"),lu(),kr=Ar.Main_Go,Wu(function(){rl(),dm(),ho(),mo()&&(jl=window.setInterval($u,6e5)),document.body.addEventListener("keyup",Lu,!1),Zg(),document.getElementById("side_panel").style.marginLeft="",hu(),kc(),Rs=h_("ChannelVod_highlight",!1),qM=h_("UserVod_highlight",!1),VM=__("UserVod_TypeNumber",1),Ng(),Fl=document.getElementById("search_input"),ql=document.getElementById("user_input"),ku(Gi),ku(Bi),ku(Oi),document.addEventListener("visibilitychange",Zu,!1),Xl=window.setInterval(Ku,6e4),Wg=Uy,ey(),zl=window.setTimeout(iu,5e3),Ec("topbar"),document.getElementById("scenefeed").style.display="block",Kk=document.getElementById("feed_thumb_img")})}function wc(e){Ku(),Ac("label_refresh","icon-refresh",t+":"+Yt),xc("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Pi+_t+"</div>"),Ac("label_side_panel","icon-ellipsis",Rn),Ac("icon_feed_refresh","icon-refresh",t+":"+_i),Pc("top_bar_live",f),Pc("top_bar_user",e?_:i),Pc("top_bar_featured",an),Pc("top_bar_game",h),Pc("top_bar_vod",Kt),Pc("top_bar_clip",U),xc("scene2_search_text",Pi+n),xc("scene2_channel_text",Pi+Ut),xc("scene2_game_text",Pi+Jt),Pc("dialog_end_next_text",si),Pc("dialog_end_replay_text",en),Pc("dialog_end_vod_text",sn),Pc("dialog_end_channel_text",Ut),Pc("dialog_end_game_text",Jt),xc("dialog_about_text",Mi+Ii),Ur=[de,le,re,ce],e?ck():(mk(),hu())}function kc(){Pc("play_dialog_exit_text",H),Pc("side_panel_search",n),Pc("side_panel_settings",i),Pc("side_panel_about",a),Pc("side_panel_controls",e),Pc("side_panel_exit",q),Pc("side_panel_feed_settings",ui),Pc("side_panel_feed_refresh",t),Pc("side_panel_live",f),Pc("side_panel_user",_),Pc("side_panel_featured",an),Pc("side_panel_games",h),Pc("side_panel_videos",Kt),Pc("side_panel_clips",U),Pc("side_panel_hide",o),Pc("side_panel_back",fi),Pc("chanel_button",E),Pc("game_button",h),Pc("live_button",f),Pc("exit_app_cancel",Y),Pc("exit_app_close",z),Pc("remove_cancel",Y),Pc("remove_yes",Ht),Pc("exit_app_minimize",X),Pc("main_dialog_exit_text",F),xc("dialog_controls_text",Ei),Pc("dialog_vod_text",wn),xc("dialog_vod_start_text",An)}function Ac(e,t,n){xc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Pi+n+"</div>")}function Cc(e){document.getElementById(e).classList.add("hide")}function Ec(e){document.getElementById(e).classList.remove("hide")}function Mc(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ic(e,t){document.getElementById(e).classList.add(t)}function Sc(e,t){document.getElementById(e).classList.remove(t)}function xc(e,t){document.getElementById(e).innerHTML=t}function Pc(e,t){document.getElementById(e).textContent=t}function Tc(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Lc(){bu(-1),fc?Android.mshowLoading(!0):Ec("dialog_loading")}function Bc(){fc?Android.mshowLoading(!1):Cc("dialog_loading")}function Oc(){window.clearTimeout(Pr)}function Gc(){Pr=window.setTimeout(Rc,6e3)}function Uc(){Gc(),Ec("main_dialog_exit"),document.body.addEventListener("keydown",e_,!1)}function Rc(){document.body.removeEventListener("keydown",e_,!1),$k?($k=!1,su()):o_(Zk),Oc(),Cc("main_dialog_exit"),xr=0,Nc()}function Nc(){Sc("exit_app_cancel","button_search_focused"),Sc("exit_app_minimize","button_search_focused"),Sc("exit_app_close","button_search_focused"),Ic(xr?1===xr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Dc(){pu("dialog_counter_text"),Jc(0,0,0)}function Vc(e,t,n,i){0<i?(Pc("dialog_counter_text",t*n+(e+1)+"/"+i),Jc(t,n,i)):Dc()}function Jc(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=Ar.Main_Go===ir||Ar.Main_Go===gr||Ar.Main_Go===yr||Ar.Main_Go===ur||Ar.Main_Go===wr||Ar.Main_Go===pr||Ar.Main_Go===vr||Ar.Main_Go===_r,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Hl.style.top=o+"px",Tr&&(Tr=!1,Hl.style.backgroundColor="#777777")}else Hl.style.backgroundColor="#000000",Hl.style.top=i+"px",Tr=!0}function Hc(e){(Qr=12)/3<e&&(Qr=3*e),99<Qr&&(Qr=99)}function Fc(e){Pc("dialog_warning_text",e),Ec("dialog_warning")}function qc(){Cc("dialog_warning")}function zc(){Qc(),Ec("dialog_about")}function Xc(){Cc("dialog_about")}function Yc(){return Mc("dialog_about")}function jc(){Qc(),qc(),ru(Ar.Main_Go),Dc(),lk()}function Wc(){Xc(),Ec("dialog_controls")}function Qc(){Cc("dialog_controls")}function Zc(){return Mc("dialog_controls")}function Kc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function $c(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function eu(e){return-1!==e.indexOf("live")?"":j}function tu(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function nu(){Ku(),ou(),document.body.addEventListener("keyup",Lu,!1)}function iu(){for(var e,t=0;t<Gr.length;t++)t<2?document.getElementById(Gr[t]).style.opacity="0.5":-1===(e=document.getElementById(Gr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ic("topbar","topbar_dim")}function au(){for(var e=0;e<Gr.length;e++)document.getElementById(Gr[e]).style.opacity="1";Sc("topbar","topbar_dim")}function ou(e){window.clearTimeout(zl),au(),Wu(function(){su(e)})}function su(e){qc(),Ar.Main_Go!==cr&&(Ar.Main_BeforeChannelisSet=!1),Ar.Main_Go!==ir&&(Ar.Main_BeforeAgameisSet=!1),Dc(),Ar.Main_Go===er?(Wg=Uy,ey()):Ar.Main_Go===tr?no():Ar.Main_Go===nr?(Wg=Oy,ey()):Ar.Main_Go===ir?(Wg=Ny,ey()):Ar.Main_Go===dr?vw():Ar.Main_Go===lr?nw():Ar.Main_Go===rr?Fw():Ar.Main_Go===cr?Xo():Ar.Main_Go===ur?Fs():Ar.Main_Go===_r?(Wg=Ly,ey()):Ar.Main_Go===fr?lM():Ar.Main_Go===ar?GE():Ar.Main_Go===or?fC():Ar.Main_Go===sr?(Wg=Gy,ey()):Ar.Main_Go===hr?GA():Ar.Main_Go===mr?Sb():Ar.Main_Go===pr?(Wg=Dy,ey()):Ar.Main_Go===vr?(Wg=Ty,ey()):Ar.Main_Go===gr?(Wg=Vy,ey()):Ar.Main_Go===yr?(Wg=By,ey()):Ar.Main_Go===br?(Wg=Ry,ey()):Ar.Main_Go===wr&&zM(),zl=window.setTimeout(iu,3e3),e&&r_()}function du(){u_("Main_values",JSON.stringify(Ar))}function lu(){Ar=$g(Ar,f_("Main_values",{}))}function ru(e){e===er?ty():e===tr?io():e===nr?ty():e===ir?ty():e===dr?gw():e===lr?iw():e===rr?qw():e===cr?Yo():e===ur?qs():e===_r?ty():e===fr?rM():e===ar?UE():e===or?hC():e===sr?ty():e===hr?UA():e===mr?xb():e===pr?ty():e===vr?ty():e===gr?ty():e===yr?ty():e===br?ty():e===wr&&XM(),Mc("settings_scroll")&&rk()}function cu(){Ac("label_refresh","icon-refresh",t+":"+Yt),Ac("label_side_panel","icon-ellipsis",Rn),Sc("top_bar_user","icon_center_focus"),Pc("top_bar_live",f),Pc("top_bar_user",_),Pc("top_bar_featured",an),Pc("top_bar_game",h),Pc("top_bar_vod",Kt),Pc("top_bar_clip",U)}function uu(){Ac("label_side_panel","icon-arrow-circle-left",I),pu("top_bar_live"),pu("top_bar_game"),pu("top_bar_vod"),pu("top_bar_clip"),pu("top_bar_featured"),Ic("top_bar_user","icon_center_focus")}function _u(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function fu(e){return e=new Date(e),Br?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function hu(){fc&&(cc="Android: "+uc+" Web: "+rc,mu(uc)&&Ec("label_update")),xc("dialog_about_text",Mi+ye+cc+Ii)}function mu(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(dc)||parseInt(e[2])<parseInt(lc.split(".")[1])}function pu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function vu(e){for(var t,n=0;n<Ir.length;n++)null!==(t=document.getElementById(Ir[n].id))&&pc(t,Ir[n].src+hc,e)}function gu(){Ir=[]}function yu(e,t){Ir.push({id:e,src:t})}function bu(e){Kl=e}function wu(e){var t=0;return Kl<e?t=-1:e<Kl&&(t=1),Kl=e,t}function ku(e){$l.src=e}function Au(e){return(Lr=document.createElement("td")).setAttribute("id",e),Lr.className="stream_cell",Lr}function Cu(e,t,n){return(Lr=document.createElement("td")).setAttribute("id",t[4]+e),Lr.setAttribute(sc,n[0]),Lr.setAttribute("data-id",n[1]),Lr.className="stream_cell",Lr.innerHTML=Mu(e,t,n),Lr}function Eu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(sc,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=Mu(a,n,t),i.setAttribute("id",n[4]+a)}function Mu(e,t,n){return yu(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function Iu(e,t,n,i,a){return e<Hr&&ku(a[0]),(Lr=document.createElement("td")).setAttribute("id",i[8]+t),Lr.setAttribute(sc,JSON.stringify(n)),Lr.className="stream_cell",Lr.innerHTML=xu(t,i,a),Lr}function Su(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(sc,JSON.stringify(t)),a.innerHTML=xu(o,i,n),a.setAttribute("id",i[8]+o)}function xu(e,t,n){return yu(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+MI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Pu(e,t,n){return(Lr=document.createElement("td")).setAttribute("id",t[5]+e),Lr.setAttribute(sc,n[0]),Lr.className="stream_cell",Lr.innerHTML=Tu(e,t,n),Lr}function Tu(e,t,n){return yu(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Lu(){Er=!0}function Bu(){Cr=!0}function Ou(){Cr=!1,window.setTimeout(Bu)}function Gu(){return!Cr||!Er}function Uu(e,t,n,i,a,o){Ic(n[0]+e+"_"+t,oc),Vc(t,e,i,a),wu(e)||o?1<e?tu(e+1,0,n[0])?zu(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Lu():zu(n[6],.07*screen.height):Lu()}function Ru(e,t,n,i,a,o){Ic(n[0]+e+"_"+t,oc),Vc(t,e,i,a),wu(e)||o?e?tu(e+1,0,n[0])&&zu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):zu(n[10],.07*screen.height):Lu()}function Nu(e,t,n,i,a){Ic(n[0]+e+"_"+t,oc),Vc(t,e,i,a),wu(e)?zu(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Lu()}function Du(e,t){return null===document.getElementById(t+e)}function Vu(e,t,n){Du(e,t[0])||(document.body.removeEventListener("keydown",n),Ar.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(sc)),Ar.Play_selectedChannel_id=Ar.Play_selectedChannel[1],Ar.Play_selectedChannel=Ar.Play_selectedChannel[0],Ar.Play_isHost=Ar.Main_Go===or&&!em,Ar.Play_isHost?(Ar.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Ar.Play_selectedChannelDisplayname=Ar.Play_DisplaynameHost.split(ne)[1]):Ar.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ar.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Ar.Main_Go===ir&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),Ju())}function Ju(){document.body.addEventListener("keydown",iv,!1),Cc("scene1"),Ec("scene2"),cp(),pp(),Bp(),mo()&&!SC&&NC&&_E(),Wu(cm)}function Hu(e,t,n){Du(e,t[0])||(document.body.removeEventListener("keydown",n),zy=JSON.parse(document.getElementById(t[8]+e).getAttribute(sc)),K_=parseInt(zy[1]),Ar.Play_gameSelected=zy[2],Ar.Main_selectedChannel=zy[3],Ar.Main_selectedChannelDisplayname=zy[4],Ar.Main_selectedChannelLogo=zy[5],Ar.Main_selectedChannel_id=zy[6],Ar.ChannelVod_vodId=zy[7],Hs=parseInt(zy[8]),qy=zy[9],Yy=zy[10],Hy=zy[11],zy=zy[0],Xy=document.getElementById(t[4]+e).textContent,Fy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Uf,!1),Cc("scene1"),Ec("scene2"),pp(),sp(),$m(),np(),mo()&&!SC&&NC&&_E(),Wu(sf))}function Fu(e,t,n){Du(e,t[0])||(document.body.removeEventListener("keydown",n),Ar.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(sc)),Ps=parseInt(Ar.ChannelVod_vodId[1]),Bs=Ar.ChannelVod_vodId[2],Ar.Play_gameSelected=Ar.ChannelVod_vodId[3],Ar.Main_selectedChannel=Ar.ChannelVod_vodId[4],Kh=Ar.ChannelVod_vodId[5],Ar.ChannelVod_vodId=Ar.ChannelVod_vodId[0].substr(1),Ar.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Vs=document.getElementById(t[4]+e).textContent,Js=document.getElementById(t[5]+e).textContent,Ds=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,qu())}function qu(){document.body.addEventListener("keydown",jg,!1),Cc("scene1"),Ec("scene2"),kg(),pp(),sp(),np(),Jv=!1,mo()&&!SC&&NC&&_E(),Wu(jv)}function zu(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Lu,10)}function Xu(e,t){Er=!1,Sc(t[0]+e,oc)}function Yu(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(Zl&&console.log("Main_Checktylesheet reloading"),ju("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):Zl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function ju(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Wu(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Qu(){var e=(new Date).getTime()+_c;return e=new Date(e),(Br?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Vm(e.getHours())+":"+Vm(e.getMinutes())}function Zu(){document.hidden||(Ku(),window.setTimeout(Ku,2e4))}function Ku(){document.hidden||(Pc("label_clock",Qu()),hc="?"+Math.random())}function $u(){document.hidden||mo()&&window.setTimeout(function(){nE()||SC||($f=Ka[Ar.Users_Position].name,FC())},5e3)}function e_(e){switch(e.keyCode){case zi:Rc();break;case Hi:2<++xr&&(xr=0),Nc(),Oc(),Gc();break;case Vi:--xr<0&&(xr=2),Nc(),Oc(),Gc();break;case qi:fc&&xr?1===xr?(Rc(),Android.mclose(!1)):2===xr&&Android.mclose(!0):Rc()}}vc();var t_=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],n_=[er,fr,br,nr,pr,vr],i_=!1;function a_(e){if(!(i_||Wg.FirstLoad||Gu()))switch(e.keyCode){case zi:Zc()?(d_(),Qc()):Yc()?(d_(),Xc()):Ar.Main_Go===ir?(Ar.Main_OldgameSelected=Ar.Main_gameSelected,Ar.Games_return?(Ar.Main_Go=lr,Ar.Main_gameSelected=Ar.gameSelectedOld):(Ar.Main_Go=Ar.Main_BeforeAgame,Ar.Main_BeforeAgame=er),ky(Ar.Main_Go),s_(),su()):Ar.Main_Go===yr?(ky(ir),s_(),su()):Ar.Main_Go===sr?(ky(fr),s_(),su()):Ar.Main_Go===_r?(ky(cr),s_(),su()):Ar.Main_Go===gr?(ky(ir),s_(),su()):Ar.Main_Go===ar?(Ar.Main_Go=fr,UE(),s_(),su()):Ar.Main_Go===or?(Ar.Main_Go=fr,hC(),s_(),su()):Ar.Main_Go===wr?(Ar.Main_Go=fr,XM(),s_(),su()):Ar.Main_Go===hr?(Ar.Main_Go=fr,UA(),s_(),su()):Ar.Main_Go===cr?(Ar.Main_Go=Ar.Main_BeforeChannel,Ar.Main_BeforeChannel=er,Yo(),Ar.Main_selectedChannel_id="",s_(),su()):Ar.Main_Go===ur?(Ar.Main_Go=cr,qs(),s_(),su()):Ar.Main_Go===rr?(Ar.Main_Go===Ar.Main_BeforeSearch?Ar.Main_Go=er:Ar.Main_Go=Ar.Main_BeforeSearch,qw(),Ar.Search_isSearching=!1,s_(),su()):Ar.Main_Go===lr?(Ar.Main_Go===Ar.Main_BeforeSearch?Ar.Main_Go=er:Ar.Main_Go=Ar.Main_BeforeSearch,Ar.Search_isSearching=!1,iw(),s_(),su()):Ar.Main_Go===mr?(Ar.Main_Go===Ar.Main_BeforeSearch?Ar.Main_Go=er:Ar.Main_Go=Ar.Main_BeforeSearch,Ar.Main_selectedChannel_id&&ps(),xb(),Ar.Search_isSearching=!1,s_(),su()):(s_(),cA(a_));break;case Hi:if(Ar.Search_isSearching||Ar.Main_Go===cr||Ar.Main_Go===ur||Ar.Main_Go===_r||Ar.Main_Go===rr||Ar.Main_Go===lr||Ar.Main_Go===mr)break;Sc(t_[Ar.Main_CenterLablesVectorPos],"icon_center_line"),Ar.Main_CenterLablesVectorPos++,5<Ar.Main_CenterLablesVectorPos&&(Ar.Main_CenterLablesVectorPos=0),d_(),l_();break;case Vi:if(Ar.Search_isSearching||Ar.Main_Go===cr||Ar.Main_Go===ur||Ar.Main_Go===_r||Ar.Main_Go===rr||Ar.Main_Go===lr||Ar.Main_Go===mr)break;Sc(t_[Ar.Main_CenterLablesVectorPos],"icon_center_line"),Ar.Main_CenterLablesVectorPos--,Ar.Main_CenterLablesVectorPos<0&&(Ar.Main_CenterLablesVectorPos=5),d_(),l_();break;case Fi:Sc(t_[Ar.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",a_),Mr=!1,su();break;case qi:c_()}}function o_(e){window.clearTimeout(zl),au(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",a_),document.body.addEventListener("keydown",a_,!1),d_()}function s_(){Sc(t_[Ar.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",a_),Mr=!1}function d_(){Mr=!0,Ic(t_[Ar.Main_CenterLablesVectorPos],"icon_center_line")}function l_(){ru(Ar.Main_Go),Ar.Main_Go=n_[Ar.Main_CenterLablesVectorPos],Ar.Main_Go!==fr||wo()?ou(!0):(Ar.Main_Go=tr,s_(),ou())}function r_(){Ar.Main_Go===er?(Wg=Uy,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===fr?document.body.removeEventListener("keydown",CM):Ar.Main_Go===ir?(Wg=Ny,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===br?(Wg=Ry,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===rr?document.body.removeEventListener("keydown",nk):Ar.Main_Go===lr?document.body.removeEventListener("keydown",fw):Ar.Main_Go===mr?document.body.removeEventListener("keydown",Hb):Ar.Main_Go===ur?document.body.removeEventListener("keydown",ad):Ar.Main_Go===cr?document.body.removeEventListener("keydown",vs):Ar.Main_Go===or?document.body.removeEventListener("keydown",MC):Ar.Main_Go===wr?document.body.removeEventListener("keydown",rI):Ar.Main_Go===hr?document.body.removeEventListener("keydown",WA):Ar.Main_Go===nr?(Wg=Oy,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===_r?(Wg=Ly,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===pr?(Wg=Dy,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===vr?(Wg=Ty,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===yr?(Wg=By,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===sr?(Wg=Gy,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===gr?(Wg=Vy,document.body.removeEventListener("keydown",Ey)):Ar.Main_Go===ar&&document.body.removeEventListener("keydown",$E)}function c_(){window.clearTimeout(zl),au(),Ar.Main_Go!==cr&&(Ar.Main_BeforeChannelisSet=!1),Ar.Main_Go!==ir&&(Ar.Main_BeforeAgameisSet=!1),Dc(),Ar.Main_Go===er?(Wg=Uy,ny()):Ar.Main_Go===fr?cM():Ar.Main_Go===br?(Wg=Ry,ny()):Ar.Main_Go===ir?(Wg=Ny,ny()):Ar.Main_Go===hr?RA():Ar.Main_Go===cr?jo():Ar.Main_Go===ur?zs():Ar.Main_Go===rr?zw():Ar.Main_Go===lr?aw():Ar.Main_Go===mr?Pb():Ar.Main_Go===nr?(Wg=Oy,ny()):Ar.Main_Go===sr?(Wg=Gy).loadingData||Wg.key_refresh():Ar.Main_Go===pr?(Wg=Dy,ny()):Ar.Main_Go===vr?(Wg=Ty,ny()):Ar.Main_Go===yr?(Wg=By,ny()):Ar.Main_Go===_r?(Wg=Ly,ny()):Ar.Main_Go===gr?(Wg=Vy,ny()):Ar.Main_Go===ar?RE():Ar.Main_Go===or?mC():Ar.Main_Go===wr&&YM(),zl=window.setTimeout(iu,3e3)}function u_(e,t){localStorage.setItem(e,t)}function __(e,t){return parseInt(localStorage.getItem(e))||t}function f_(e,t){return JSON.parse(localStorage.getItem(e))||t}function h_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function m_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function p_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Sr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function v_(e,t,n,i,a,o,s){fc?y_(e,t,n,i,a,o):b_(e,t,n,i,a,o,s)}function g_(e,t,n,i,a,o,s,d){fc&&d?y_(e,t,n,i,a,o):b_(e,t,n,i,a,o,s)}function y_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function b_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?mc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Kr,Zr),1<n&&d.setRequestHeader($r,nc),2<n&&d.setRequestHeader(ec,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function w_(e,t,n,i,a,o,s){fc?k_(e,t,n,i,a,o):b_(e,t,n,i,a,o,s)}function k_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function k_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?mc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Kr,Zr),1<n&&d.setRequestHeader($r,nc),2<n&&d.setRequestHeader(ec,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function A_(e){e.keyCode===zi&&E_()}function C_(e){e.keyCode===zi&&M_()}function E_(){Yl=window.setTimeout(function(){Android.mclose(!0)},5e3)}function M_(){window.clearTimeout(Yl)}var I_=0,S_=null,x_=0,P_=!1,T_=0,L_=0,B_=!1,O_=0,G_=2e3,U_=5,R_="source",N_=R_,D_=0,V_=[],J_="",H_=!1,F_=0,q_=0,z_=1,X_=!1,Y_=0,j_=!1,W_=!1,Q_=2e3,Z_=[0,5],K_=0,$_=!1,ef=!1,tf=["next_button","back_button"],nf=0,af=!1,of=!0;function sf(){Qm(),Bp(),bm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo),Pc("stream_info_name",Ar.Main_selectedChannelDisplayname),xc("stream_info_title",qy),xc("stream_info_game",Hy+" "+Fy+" "+Yy),Pc("stream_live_icon",Xy),Pc("progress_bar_duration",Jm(K_)),Og(($h=Z_)[1]),Tc("stream_info_title"),Ar.Play_isHost=!1,Pc("progress_bar_current_time",Jm(0)),Pc("stream_live_time",""),Pc("stream_watching_time",""),X_=null!==Ar.ChannelVod_vodId,il=Gt+".",X_?(nl=Hs,cl()):Nl(),xc("pause_button",'<i class="pause_button3d icon-pause"></i>'),Ec("progress_pause_holder"),Of(),Ec("scene_channel_panel_bottom"),x_=Y_=0,window.clearInterval(S_),W_=!1,zf=-13,F_=q_=0,D_=2,bf(),Jp(3),Oh=!1,Sp(),mo()?(na=!0,ia=Ar.Main_selectedChannel_id,ba()):Wm(),document.addEventListener("visibilitychange",mf,!1),P_=!1,B_=!(L_=T_=0),df(),document.body.removeEventListener("keyup",Lu)}function df(){O_=0,G_=2e3,lf()}function lf(){v_("https://clips.twitch.tv/api/v2/clips/"+zy+"/status",G_,1,null,cf,rf,!0)}function rf(){++O_<U_?(G_+=250,lf()):(Zm(),Yp(3))}function cf(e){V_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)V_.length?V_.push({id:e[t].quality+"p"+uf(e[t].frame_rate),url:e[t].source}):V_.push({id:e[t].quality+"p"+uf(e[t].frame_rate)+" (source)",url:e[t].source});q_=z_,_f()}function uf(e){return 40<e?60:""}function _f(){window.clearInterval(S_),J_=V_[D_=0].url,-1!==R_.indexOf("source")&&(R_="source");for(var e=0;e<Tf();e++){if(V_[e].id===R_){J_=V_[D_=e].url;break}-1!==V_[e].id.indexOf(R_)&&(J_=V_[D_=e].url)}N_=R_,Zl&&console.log("PlayClip_onPlayer:",'\n\n"'+J_+'"\n'),q_=z_,fc&&B_&&Android.startVideoOffset(J_,3,H_?-1:Android.gettime()),H_=!1,ff()}function ff(){fh&&!vp()&&mp(),fc&&(x_=0,Wh=1+Q_/1e3,j_=!1,window.clearInterval(S_),S_=window.setInterval(pf,Qh))}function hf(e){Pc("progress_bar_duration",Jm(K_=e/1e3)),xf()}function mf(){document.hidden&&gf()}function pf(){fc&&(F_=Android.gettime()),K_<F_/1e3&&(fc&&Android.play(!1),Play_PannelEndStart(3)),B_&&I_===F_&&!Nm()?++x_>Wh&&(j_&&W_&&D_<Tf()-1?D_++:!j_&&W_&&Y_++,navigator.onLine?1<Y_?Rm(Y_,3,vf):(Lf(),_f(),W_=!0):Um(!1,3)):(x_=Y_=0,W_=!1),I_=F_}function vf(e){if(!e){if(!(D_<Tf()-1))return void Um(!1,3);D_++}Y_=0,Lf(),_f(),W_=!0}function gf(){B_&&(af=!1,yf(),np(),Xm())}function yf(){If(),V_=[],window.clearInterval(S_),fc&&Android.stopVideo(3),B_=!1,Bl(),Ym(),aE(),document.body.removeEventListener("keydown",Uf),document.removeEventListener("visibilitychange",mf),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Hs=0}function bf(){var e,t=wf(1,0),n=wf(-1,Wg.ColoumnsCount-1);ef=$_=!1,t?($_=!0,Pc("next_button_text_name",(e=JSON.parse(document.getElementById(Wg.ids[8]+t).getAttribute(sc)))[4]),xc("next_button_text_title",e[9]),Pc("end_next_button_text_name",e[4]),xc("end_next_button_text_title",e[9]),kf(0,1)):kf(0,0),n?(ef=!0,Pc("back_button_text_name",(e=JSON.parse(document.getElementById(Wg.ids[8]+n).getAttribute(sc)))[4]),xc("back_button_text_title",e[9]),kf(1,1)):kf(1,0)}function wf(e,t){return tu(Wg.posY,Wg.posX+e,Wg.ids[0])?Wg.posY+"_"+(Wg.posX+e):tu(Wg.posY+e,t,Wg.ids[0])?Wg.posY+e+"_"+t:null}function kf(e,t){document.getElementById(tf[e]).style.opacity=t}function Af(){nf?1===nf?Cf():-1===nf&&Ef():(X_&&Ar.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(3))}function Cf(){Cy(1,0),Mf()}function Ef(){Cy(-1,Wg.ColoumnsCount-1),Mf()}function Mf(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",Wu(function(){yf(),Hu(Wg.posY+"_"+Wg.posX,Wg.ids,Ey),e.style.transition=""})}function If(){Bv=!1,Lv=Ov=0,fp(),R_=N_,document.getElementById("scene_channel_panel").style.opacity="0",fc&&Tg(Android.gettime()/1e3,K_,!0),xc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(sv)}function Sf(){xf(),Dm(),sv=window.setInterval(xf,1e3),np(),Eg(),Pf(),Lf(),document.getElementById("scene_channel_panel").style.opacity="1",Bf()}function xf(){fc&&Tg(Android.gettime()/1e3,K_,!Bv)}function Pf(){for(var e=D_=0;e<Tf();e++){if(V_[e].id===R_){D_=e;break}-1!==V_[e].id.indexOf(R_)&&(D_=e)}}function Tf(){return V_.length}function Lf(){1===Tf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):D_?D_===Tf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(R_=V_[D_].id).indexOf("source")?Pc("quality_name",R_.replace("source",ge)):Pc("quality_name",R_)}function Bf(){jf=window.setTimeout(If,5e3+Hv)}function Of(){document.getElementById("quality_name").style.width="16ch",Pc("open_vod_text",X_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Gf(){X_?(Ar.vodOffset=Hs,yf(),document.body.addEventListener("keydown",jg,!1),Sp(),Wu(jv)):(Oh=!0,Km(ln),window.setTimeout(function(){Oh=!1,$m()},2e3))}function Uf(e){if(q_!==z_)switch(e.keyCode){case zi:ip()?(np(),gf()):tp()}else switch(e.keyCode){case Vi:nE()?eh&&!SC&&(hE(),eh--,rE()):Zf&&!rp()&&vp()?(Ff++,Cp()):rp()?(fp(),2===Vv?(Pp(),5<++Bh&&(Bh=0),xp()):Vv?1===Vv&&-1<nf&&(nf--,ef||!nf?Mg():nf++):(Ug(-1,K_),Hv=2500),Bf()):Op()?(Dp(),Rp(),--Dh<($_?-1:0)&&(Dh=3),Up()):Sf();break;case Hi:nE()?eh<BC-1&&!SC&&(hE(),eh++,rE()):!Zf||rp()||Op()?rp()?(fp(),2===Vv?(Pp(),--Bh<0&&(Bh=5),xp()):Vv?1===Vv&&nf<1&&(nf++,$_||!nf?Mg():nf--):(Ug(1,K_),Hv=2500),Bf()):Op()?(Dp(),Rp(),3<++Dh&&(Dh=$_?-1:0),Up()):Sf():u_("ChatEnable",(fh=vp()||Op()?(pp(),!1):(mp(),!0))?"true":"false");break;case Ji:Op()?Dp():rp()?(2===Vv&&1!==Bh?(Vv--,Mg()):1===Vv?(Vv--,Mg()):0<D_&&1===Bh&&(D_--,Lf()),fp(),Bf()):nE()?nE()?lE():Sf():iE();break;case Fi:Op()?Dp():rp()?(Vv?1===Vv?(Vv++,Mg()):D_<Tf()-1&&1===Bh&&(D_++,Lf()):(Vv++,Mg()),fp(),Bf()):nE()?aE():Zf&&vp()?(4<++Yf?Ap(!(Yf=1)):4===Yf&&Ap(!0),wp(!0)):Sf();break;case qi:Op()?Vp(3):rp()?Vv?1===Vv?Af():Xp(3):(fp(),Bf(),Lv&&Lg()):nE()?(yf(),Vu(eh,JC,iv)):Sf();break;case zi:rp()?If():nE()?aE():ip()?(np(),gf()):tp();break;case Ni:case Ri:case Di:X_&&!Ar.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(3)}}var Rf,Nf,Df,Vf,Jf,Hf,Ff=0,qf=Ff,zf=-5,Xf=.55,Yf=3,jf=null,Wf="source",Qf=Wf,Zf=!0,Kf=!1,$f="",eh=0,th=2e3,nh=0,ih=1,ah=2,oh=0,sh=null,dh=0,lh=0,rh=0,ch="",uh=[],_h=0,fh=!1,hh=null,mh=null,ph=null,vh="",gh=0,yh=5,bh=0,wh=5,kh=0,Ah=!1,Ch=null,Eh=!1,Mh=0,Ih=null,Sh=0,xh=0,Ph=!1,Th=!1,Lh=!1,Bh=1,Oh=!1,Gh=!1,Uh=1e4,Rh=2e3,Nh="",Dh=0,Vh=3,Jh=null,Hh="",Fh=0,qh=0,zh="",Xh=!0,Yh=!1,jh=!1,Wh=7,Qh=1e3,Zh=0,Kh="",$h=[],em=!1,tm=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],nm=[0,0,0,1,2,2,2,1],im=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],am=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],om=1,sm=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function dm(){Jf=document.getElementById("chat_container"),Hf=document.getElementById("inner_progress_bar"),Ff=__("ChatPositionsValue",0),Yf=__("ChatSizeValue",3),fh=h_("ChatEnable",!1),Zf=h_("Play_isFullScreen",!0),wp(!1),kp(!1),rm()}function lm(e){e?void 0!==Rf&&(Ff=Rf,Yf=Df,(fh=Nf)||pp(),wp(!1)):(Rf=Ff,Nf=fh,Df=Yf,Ff=0,mp(),Yf=4,Ap(fh=!0),wp(!1),jd&&(jd.scrollTop=jd.scrollHeight)),u_("Play_isFullScreen",Zf)}function rm(){om=gk("chat_font_size");for(var e=0;e<sm.length;e++)Sc("chat_inner_container",sm[e]);Ic("chat_inner_container",sm[om])}function cm(){Qm(),xc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Pi+f.toUpperCase()+"</div>"),pu("stream_info_title"),X_=!(Gh=!1),bm(document.getElementById("stream_info_icon"),Oi),Ar.Play_isHost?Pc("stream_info_name",Ar.Play_DisplaynameHost):Pc("stream_info_name",Ar.Play_selectedChannelDisplayname),kf(0,0),kf(1,0),Ar.Play_WasPlaying=1,du(),Kf=Ar.Play_isHost,Ar.Play_isHost=!1,Yh=!1,Ec("scene_channel_panel_bottom"),qh=Fh=0,Pc("stream_watching_time",g+Jm(0)),vh=Hm(0),Pc("stream_live_time",y+vh),Cc("progress_pause_holder"),em=!1,Jp(1),zf=-5,Sh=xh=Zh=0,window.clearInterval(Ih),Th=!1,Uh=3e3,Xh=!(bh=0),oh=nh,Lh=!(Ah=!(rh=lh=dh=Eh=0)),document.addEventListener("visibilitychange",_m,!1),hm(),wm(),document.body.removeEventListener("keyup",Lu),sh=window.setInterval(vm,6e4)}function um(e){Km(e)}function Play_CheckResume(){Ah&&_m(),bv&&ig(),B_&&(gf(),window.clearInterval(S_))}function _m(){document.hidden?Op()?(np(),pp(),qm()):(Ym(),Lh=!1,qd(),window.clearInterval(sh)):(Ah=!0,sp(),Ah&&(Qm(),Uh=3e3,Yh=!(bh=0),Gh?vm():hm(),oh=nh,kh=0,navigator.onLine?wm():Vf=window.setInterval(fm,100),sh=window.setInterval(vm,6e4)))}function fm(){(navigator.onLine||200<kh)&&(window.clearInterval(Vf),wm()),kh++}function hm(){b_("https://api.twitch.tv/kraken/streams/"+Ar.Play_selectedChannel_id,Uh,2,null,mm,pm,!1)}function mm(e){null!==(e=JSON.parse(e)).stream&&(Pc("stream_info_name",Kf?Ar.Play_DisplaynameHost:Ar.Play_selectedChannelDisplayname),Ar.Play_selectedChannel_id=e.stream.channel._id,xc("stream_info_title",MI.parse(e.stream.channel.status,!1,!0)),Ar.Play_gameSelected=e.stream.game,Nh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Pc("stream_info_game",v+Ar.Play_gameSelected+m+Kc(e.stream.viewers)+" "+J+Nh),Ar.Play_selectedChannelLogo=e.stream.channel.logo,Gh=!0,bm(document.getElementById("stream_info_icon"),Ar.Play_selectedChannelLogo),vh=e.stream.created_at,mo()?(na=!0,ia=Ar.Play_selectedChannel_id,ba()):Wm())}function pm(){bh<wh&&(Uh+=500,window.setTimeout(function(){Ah&&hm()},750)),bh++}function vm(){b_("https://api.twitch.tv/kraken/streams/"+Ar.Play_selectedChannel_id,3e3,2,null,gm,ym,!1)}function gm(e){null!==(e=JSON.parse(e)).stream&&(xc("stream_info_title",MI.parse(e.stream.channel.status,!1,!0)),Ar.Play_gameSelected=e.stream.game,Pc("stream_info_game",v+Ar.Play_gameSelected+m+Kc(e.stream.viewers)+" "+J+Nh),Gh||bm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function ym(){Zh<wh?(window.setTimeout(function(){Ah&&vm()},2500),Zh++):Zh=0}function bm(e,t){e.onerror=function(){this.onerror=null,this.src=Oi,Gh=!1},e.src=t}function wm(){gh=0,Rh=2e3+(Yh?3e3:0),km()}function km(){var e,t;if(e=oh===nh?"https://api.twitch.tv/api/channels/"+Ar.Play_selectedChannel+"/access_token"+(mo()&&Ka[Ar.Users_Position].access_token?"?oauth_token="+Ka[Ar.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Ar.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(dh.token)+"&sig="+dh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",fc){if(!(t=Android.mreadUrl(e,Rh,1,null)))return void Cm();200===(t=JSON.parse(t)).status?(gh=0,Ah&&Im(t.responseText)):403===t.status?Em():404===t.status?jp():Cm()}else(t=new XMLHttpRequest).open("GET",mc+e,!0),t.timeout=Rh,t.setRequestHeader(Kr,Zr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(gh=0,Ah&&Im(t.responseText)):403===t.status?(Am(t),Ql?Mm():Em()):404===t.status?(Am(t),Ql?Mm():jp()):(Am(t),Cm()))},t.send(null)}function Am(e){Zl&&(console.log(e.status),console.log(e.responseText))}function Cm(){Ah&&Xh&&(++gh<yh+(Yh?7:0)?(Rh+=250,Yh?window.setTimeout(km,500):km()):Ql?Mm():jp())}function Em(){Zm(),Km(Vn),window.setTimeout(function(){Ah&&jp()},4e3)}function Mm(){uh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],oh=ah,Ah&&Tm()}function Im(e){oh===nh?(dh=JSON.parse(e),oh=ih,wm()):oh===ih&&(uh=Sm(lh=e),oh=ah,Ah&&Tm())}function Sm(e){for(var t,n=[],i="",a=1,o=Pm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=xm(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function xm(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Pm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Tm(){window.clearInterval(Ih),ch=uh[_h=0].url,-1!==Wf.indexOf("source")&&(Wf="source");for(var e=0;e<bp();e++){if(uh[e].id===Wf){ch=uh[_h=e].url;break}-1!==uh[e].id.indexOf(Wf)&&(ch=uh[_h=e].url)}Qf=Wf,oh=ah,Zl&&console.log("Play_onPlayer:",'\n\n"'+ch+'"\n'),fc&&Ah&&Android.startVideo(ch,1),Lm()}function Lm(){jh=!1,fh&&!vp()&&mp(),Lh=!0,Bm(),fc&&(Sh=0,Wh=1+th/1e3,Ph=!1,window.clearInterval(Ih),Ih=window.setInterval(Om,Qh))}function Bm(){Ar.Play_ChatForceDisable?bd():Dl()}function Om(){var e=!Nm();fc&&(Fh=Android.gettime()),Ah&&Mh===Fh&&e?Wh<++Sh&&(Ph&&Th&&_h<bp()-1?_h++:!Ph&&Th&&xh++,navigator.onLine?1<xh?Rm(xh,1,Gm):(yp(),Tm(),Th=!0):Um(!1,1)):(Sh=xh=0,Th=!1),Mh=Fh,e&&qh++}function Gm(e){if(!e){if(!(_h<bp()-1))return void jp();_h++}xh=0,yp(),Tm(),Th=!0}function Um(e,t){Ar.Play_isHost=e,Jp(t),Yp(t)}function Rm(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Um(!1,t))},i.send(null)}function Nm(){return!!fc&&!Android.getPlaybackState()}function Dm(){var e=Qu();Pc("stream_clock",e),Pc("label_clock",e)}function Vm(e){return e<10?"0"+e:e}function Jm(e){var t,n,i;return t=Vm(parseInt(e)%60),n=Vm((e=Math.floor(e/60))%60),i=Vm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Hm(e){return Jm(parseInt(e/1e3))}function Fm(e){return Hm((new Date).getTime()-new Date(e).getTime())}function qm(){Ah&&(zm(),Ar.Play_WasPlaying=0,Xm())}function zm(){fc&&Android.stopVideo(1),Ah=!1,aE(),Bl(),Ym(),jm(),Ar.Play_selectedChannel_id=""}function Xm(){Tg(0,0),Ec("scene1"),Cc("scene2"),nu()}function Ym(){cp(),sp(),$m(),Bp(),Kh="",_h===bp()-1&&(Qf=uh[0].id),vv===Pg()-1&&(rv=pv[0].id),D_===Tf()-1&&(N_=V_[0].id)}function jm(){Lh=!1,document.body.removeEventListener("keydown",iv),document.removeEventListener("visibilitychange",_m),qd(),window.clearInterval(sh),window.clearInterval(Ih),Oh=!1}function Wm(){xc("fallow_text",Pi+Lt),ea=!1}function Qm(){fc?Android.mshowLoading(!0):Ec("dialog_loading_play")}function Zm(){fc?Android.mshowLoading(!1):Cc("dialog_loading_play")}function Km(e){Pc("dialog_warning_play_text",e),Ec("dialog_warning_play")}function $m(){Cc("dialog_warning_play")}function ep(){return Mc("dialog_warning_play")}function tp(){ip()?np():(Ec("play_dialog_exit"),hh=window.setTimeout(tp,3e3))}function np(){window.clearTimeout(hh),Cc("play_dialog_exit")}function ip(){return Mc("play_dialog_exit")}function ap(){window.clearTimeout(mh)}function op(){window.clearTimeout(ph)}function sp(){ap(),op(),Cc("play_dialog_simple_pause")}function dp(){Zm(),Nm()?lp()?(Cc("play_dialog_simple_pause"),ph=window.setTimeout(dp,8e3)):(Ec("play_dialog_simple_pause"),mh=window.setTimeout(dp,1500)):sp()}function lp(){return Mc("play_dialog_simple_pause")}function rp(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function cp(){fp(),document.getElementById("scene_channel_panel").style.opacity="0",Wf=Qf,window.clearInterval(sv)}function up(){Sp(),gp(),yp(),_p(),sv=window.setInterval(_p,1e3),Dm(),np(),document.getElementById("scene_channel_panel").style.opacity="1",hp()}function _p(){Pc("stream_watching_time",g+Jm(qh)),Pc("stream_live_time",y+(-1===vh.indexOf("00:00")?Fm(vh):"00:00"))}function fp(){window.clearTimeout(jf),Hv=0}function hp(){jf=window.setTimeout(cp,5e3)}function mp(){Cp(),Ec("chat_container")}function pp(){Cc("chat_container")}function vp(){return Mc("chat_container")}function gp(){for(var e=_h=0;e<bp();e++){if(uh[e].id===Wf){_h=e;break}-1!==uh[e].id.indexOf(Wf)&&(_h=e)}}function yp(){1===bp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):_h?_h===bp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Wf=uh[_h].id).indexOf("source")?Pc("quality_name",Wf.replace("source",ge)+uh[_h].band):Pc("quality_name",Wf+uh[_h].band)}function bp(){return uh.length}function wp(e){Jf.style.height=am[Yf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=am[Yf-1].dialogTop+"%",Cp(),Hd(),e&&Ep(Nn+am[Yf-1].percentage),window.setTimeout(function(){jd&&(jd.scrollTop=jd.scrollHeight)},500),u_("ChatSizeValue",Yf)}function kp(e){Jf.style.backgroundColor="rgba(0, 0, 0, "+Xf+")",e&&Ep(Dn+(100*Xf).toFixed(0)+"%")}function Ap(e){Ff=e?nm[qf=Ff]:im[Ff][qf]}function Cp(){var e=4===Yf;Ff<0?Ff=e?2:7:(e?2:7)<Ff&&(Ff=0),Jf.style.top=(e?.2:tm[Ff].top+tm[Ff].sizeOffset[Yf-1])+"%",Jf.style.left=tm[Ff+(e?2:0)].left+"%",u_("ChatPositionsValue",Ff)}function Ep(e){window.clearTimeout(Ch),Pc("play_chat_dialog_text",e),Ec("play_chat_dialog"),Ch=window.setTimeout(Mp,1e3)}function Mp(){Cc("play_chat_dialog")}function Ip(e){Nm()?(sp(),xc("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(rp()&&cp(),window.clearInterval(Ih),Ih=window.setInterval(Om,Qh)):2===e?(rp()&&kg(),window.clearInterval(Mv),Mv=window.setInterval(vg,Qh)):3===e&&(rp()&&If(),window.clearInterval(S_),S_=window.setInterval(pf,Qh)),fc&&Android.play(!0)):(window.clearInterval(Ih),window.clearInterval(Mv),window.clearInterval(S_),xc("pause_button",'<i class="pause_button3d icon-play-1"></i>'),dp(),fc&&Android.play(!1))}function Sp(){Pp(),Bh=1,xp()}function xp(){Ic("scene2_pannel_"+Bh,"playbotton_focus")}function Pp(){Sc("scene2_pannel_"+Bh,"playbotton_focus")}function Tp(e){cv=oh=-1,q_=-1,aE(),pp(),cp(),If(),kg(),Oh||$m(),Zm(),np(),3===e&&$_&&(af||of)&&(Rp(),Dh=-1),Up()}function Lp(){Ec("dialog_end_stream")}function Bp(){Cc("dialog_end_stream"),Dp(),Gp()}function Op(){return Mc("dialog_end_stream")}function Gp(){Rp(),Dh=0,Up()}function Up(){Ic("dialog_end_"+Dh,"dialog_end_icons_focus")}function Rp(){Sc("dialog_end_"+Dh,"dialog_end_icons_focus")}function Np(e){1===e?Hh=Ar.Play_selectedChannelDisplayname+" "+f:2===e?Hh=Ar.Main_selectedChannelDisplayname+$t:3===e&&(Hh=Ar.Main_selectedChannelDisplayname+Gt),xc("dialog_end_stream_text",Hh+S+pi+(3===e&&$_&&(af||of)?li:tn)+Vh+"..."),Op()?(cv=oh=ah,q_=z_,-1===--Vh?(xc("dialog_end_stream_text",Hh+S+pi+tn+"0..."),np(),pp(),1===e?qm():2===e?yg():3===e&&($_&&(af||of)?Cf():gf())):Jh=window.setTimeout(function(){Np(e)},1e3)):Jh=window.setTimeout(function(){Np(e)},50)}function Dp(){window.clearTimeout(Jh),xc("dialog_end_stream_text",Hh+S+pi+nn)}function Vp(e){var t=!0;-1===Dh&&$_?Cf():Dh?1===Dh?Ar.Play_isHost?(Ar.Play_DisplaynameHost=Ar.Play_selectedChannelDisplayname+ne,Ar.Play_selectedChannel=zh.target_login,Ar.Play_selectedChannelDisplayname=zh.target_display_name,Ar.Play_DisplaynameHost=Ar.Play_DisplaynameHost+Ar.Play_selectedChannelDisplayname,zm(),document.body.addEventListener("keydown",iv,!1),Ar.Play_selectedChannel_id=zh.target_id,Wu(cm)):Gf():2===Dh?Hp(e):3===Dh&&qp(e):2===e?pv.length?(Sv=!(zv=!0),hg(),sp(),nl=Rv=0,cl()):(t=!1,Km(ei),window.setTimeout(function(){$m()},2e3)):3===e&&(V_.length?(j_=!(H_=!0),_f(),sp(),X_?(Rv=0,nl=Hs,cl()):Nl()):(t=!1,Km(ei),window.setTimeout(function(){$m()},2e3))),1!==Dh&&3===Dh&&""===Ar.Play_gameSelected&&(t=!1),t&&Bp()}function Jp(e){e?1===e?(Rp(),Dh=2,Up(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Gp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Gp(),document.getElementById("dialog_end_-1").style.display=$_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Pc("dialog_end_vod_text",X_?sn:dn)):(Rp(),Dh=1,Up(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Pc("dialog_end_vod_text",un))}function Hp(e){Ar.Main_BeforeChannelisSet||Ar.Main_Go===ur||Ar.Main_Go===_r||(Ar.Main_BeforeChannel=Ar.Main_BeforeAgameisSet&&Ar.Main_Go!==ir?Ar.Main_BeforeAgame:Ar.Main_Go,Ar.Main_BeforeChannelisSet=!0),ru(Ar.Main_Go),Ar.Main_Go=cr,1===e?(Ar.Main_selectedChannel_id=Ar.Play_selectedChannel_id,Ar.Main_selectedChannel=Ar.Play_selectedChannel,Ar.Main_selectedChannelDisplayname=Ar.Play_selectedChannelDisplayname,Lo=ea,pp(),qm()):2===e?yg():3===e&&gf()}function Fp(e){Ar.Search_isSearching||(Ar.Main_BeforeSearch=Ar.Main_Go),ru(Ar.Main_Go),Ar.Main_Go=dr,1===e?(pp(),qm()):2===e?yg():3===e&&gf()}function qp(e){if(""===Ar.Play_gameSelected)return Oh=!0,Km(Qn),void window.setTimeout(function(){Oh=!1,$m()},2e3);Ar.Main_BeforeAgameisSet||Ar.Main_Go===gr||Ar.Main_Go===yr||(Ar.Main_BeforeAgame=Ar.Main_BeforeChannelisSet&&Ar.Main_Go!==cr&&Ar.Main_Go!==ur&&Ar.Main_Go!==_r?Ar.Main_BeforeChannel:Ar.Main_Go,Ar.Main_BeforeAgameisSet=!0),ru(Ar.Main_Go),Ar.Main_Go=ir,Ar.Main_gameSelected=Ar.Play_gameSelected,pp(),1===e?qm():2===e?yg():3===e&&gf()}function zp(){mo()&&Ka[Ar.Users_Position].access_token?ea?Sa():Ea():(Km(Bt),Oh=!0,window.setTimeout(function(){$m(),Oh=!1},2e3))}function Xp(e){var t=document.getElementById("scene_channel_panel");2!==Bh&&(t.style.transition="none",t.style.opacity="0"),Wu(function(){Bh?1===Bh?(1===e?(Tm(),cp()):2===e?(Sv=!1,hg(),kg()):3===e&&(j_=!1,_f(),If()),sp()):2===Bh?(ia=1===e?Ar.Play_selectedChannel_id:Ar.Main_selectedChannel_id,zp(),fp(),1===e?hp():2===e?Ig():3===e&&Bf()):3===Bh?qp(e):4===Bh?Hp(e):5===Bh&&Fp(e):Gf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(Ih),jp()):Yp(e)}function Yp(e){window.clearInterval(Ih),window.clearInterval(S_),window.clearInterval(Mv),Tp(e),Vh=3,Np(e),Lp()}function jp(){Qm(),oh=-1,gh=0,Rh=2e3,qd(),window.clearInterval(sh),window.clearInterval(Ih),""!==Ar.Play_selectedChannel_id?Kp():Wp()}function Wp(){b_("https://api.twitch.tv/kraken/users?login="+Ar.Play_selectedChannel,Rh,2,null,Qp,Zp,!1)}function Qp(e){void 0!==(e=JSON.parse(e).users[0])?(Ar.Play_selectedChannel_id=e._id,gh=0,Rh=2e3,Kp()):Yp(1)}function Zp(){++gh<yh?(Rh+=250,Wp()):Um(!1,1)}function Kp(){v_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ar.Play_selectedChannel_id),Rh,1,null,ev,$p,!0)}function $p(){++gh<yh?(Rh+=250,Kp()):Um(!1,1)}function ev(e){void 0!==(zh=JSON.parse(e).hosts[0]).target_login?(Oh=!0,Km(Ar.Play_selectedChannelDisplayname+cn+ne+zh.target_display_name),window.setTimeout(function(){Oh=!1},4e3),Jp(0),Ar.Play_isHost=!0):(Jp(1),Ar.Play_isHost=!1),Yp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?pg(t):3===e&&hf(t))}function tv(){ea?(xc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),xc("fallow_text",Pi+Mt)):(xc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),xc("fallow_text",Pi+It))}function nv(e){Op()&&!ip()?(Dp(),tp()):nE()?aE():rp()&&!Fg()?e?kg():cp():Fg()&&ip()?(Hg(),bg(!1),Xm()):ip()?(np(),pp(),e?yg():qm()):(ep()&&$m(),tp())}function iv(e){if(oh!==ah)switch(e.keyCode){case zi:ip()?(np(),pp(),qm()):tp()}else switch(e.keyCode){case Vi:nE()?eh&&!SC&&(hE(),eh--,rE()):Zf&&!rp()&&vp()?(Ff++,Cp()):rp()?(Pp(),5<++Bh&&(Bh=1),xp(),fp(),hp()):Op()?(Dp(),Rp(),--Dh<(Ar.Play_isHost?1:2)&&(Dh=3),Up()):up();break;case Hi:nE()?eh<BC-1&&!SC&&(hE(),eh++,rE()):!Zf||rp()||Op()?rp()?(Pp(),--Bh<1&&(Bh=5),xp(),fp(),hp()):Op()?(Dp(),Rp(),3<++Dh&&(Dh=Ar.Play_isHost?1:2),Up()):up():u_("ChatEnable",(fh=vp()||Op()?(pp(),!1):(mp(),!0))?"true":"false");break;case Ji:rp()?(0<_h&&1===Bh&&(_h--,yp()),fp(),hp()):!nE()&&mo()?iE():Op()?Dp():nE()&&lE();break;case Fi:rp()?(_h<bp()-1&&1===Bh&&(_h++,yp()),fp(),hp()):nE()?aE():Zf&&vp()?(4<++Yf?Ap(!(Yf=1)):4===Yf&&Ap(!0),wp(!0)):Op()?Dp():up();break;case qi:if(Op())Vp(1);else if(rp())Xp(1);else if(nE()){var t=document.getElementById(JC[8]+eh);null===t?oE():Ar.Play_selectedChannel!==JSON.parse(t.getAttribute(sc))[0]?(zm(),Ar.Play_isHost=!1,em=!0,Vu(eh,JC,iv)):oE()}else up();break;case zi:nv(!1);break;case Ni:case Ri:case Di:Op()||Ip(1)}}var av,ov,sv,dv,lv="source",rv=lv,cv=0,uv=null,_v=0,fv=0,hv=0,mv="",pv=[],vv=0,gv=0,yv=5,bv=!1,wv=2e3,kv=0,Av=5,Cv=1e4,Ev=0,Mv=null,Iv=0,Sv=!1,xv=0,Pv=!1,Tv=!1,Lv=0,Bv=!1,Ov=0,Gv=2e3,Uv=!1,Rv=0,Nv={},Dv=0,Vv=0,Jv=!0,Hv=0,Fv=0,qv=0,zv=!1,Xv=[0,10,30,60,120,300,600,900,1200,1800],Yv=!1;function jv(){Qm(),Bp(),Rv=0,Pc("stream_live_time",""),Pc("stream_watching_time",""),Pc("progress_bar_current_time",Jm(0)),il=O+".",xc("pause_button",'<i class="pause_button3d icon-pause"></i>'),Cc("progress_pause_holder"),Fv=0,Og(($h=Xv)[1]),cv=nh,X_=!0,Hs=0,Ar.Play_isHost=!1,kf(0,0),kf(1,0),Ar.vodOffset?(Qv(),eg()):(Jv&&""!==Ar.Main_selectedChannel_id?(bm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo),Nv["#"+Ar.ChannelVod_vodId]||cl(),mo()?(ia=Ar.Main_selectedChannel_id,na=!0,ba()):Wm()):(Qv(),Zv()),Pc("stream_info_name",Ar.Main_selectedChannelDisplayname),xc("stream_info_title",""),xc("stream_info_game",Ds+" ["+Bs.toUpperCase()+"]"),Pc("stream_live_icon",Vs),Tc("stream_info_game")),Nv["#"+Ar.ChannelVod_vodId]&&!Ar.vodOffset?(Zm(),Jg()):Wv()}function Wv(){window.setTimeout(function(){Ec("scene_channel_panel_bottom"),Ec("progress_pause_holder")},1e3),Pc("progress_bar_duration",Jm(Ps)),Ar.Play_WasPlaying=2,du(),dv=window.setInterval(og,6e4),ku(Kh),Iv=xv=0,window.clearInterval(Mv),Oh=Uv=Pv=!(zf=-13),Bv=!1,hv=fv=_v=Ov=0,document.addEventListener("visibilitychange",ig,!1),Yv=!(bv=!(Tv=!1)),sg(),Jp(2),document.body.removeEventListener("keyup",Lu)}function Qv(){kv=0,Av=5,Cv=1e4}function Zv(){b_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ar.Main_selectedChannel),Cv,2,null,Kv,$v,!1)}function Kv(e){void 0!==(e=JSON.parse(e).users[0])?(Ar.Main_selectedChannelLogo=e.logo,Ar.Main_selectedChannel_id=e._id,Nv["#"+Ar.ChannelVod_vodId]||cl(),mo()?(ia=Ar.Main_selectedChannel_id,na=!0,ba()):Wm()):(Ar.Main_selectedChannelLogo=Oi,Ar.Main_selectedChannel_id=""),bm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo)}function $v(){++kv<Av?(Cv+=500,window.setTimeout(function(){bv&&Zv()},750)):ov=window.setTimeout(Zv,2500)}function eg(){b_("https://api.twitch.tv/kraken/videos/"+Ar.ChannelVod_vodId,Cv,2,null,ng,tg,!1)}function tg(){++kv<Av&&(Cv+=2e3,eg())}function ng(e){e=JSON.parse(e),xc("stream_info_title",MI.parse(e.title,!1,!0)),xc("stream_info_game",Qt+v+e.game+" "+Kc(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Pc("stream_live_icon",N+fu(e.created_at)),Pc("progress_bar_duration",Jm(Ps=parseInt(e.length))),Rv=1e3*Ar.vodOffset,Tg(Ar.vodOffset,Ps,!0),Ar.Main_selectedChannelDisplayname=e.channel.display_name,Pc("stream_info_name",Ar.Main_selectedChannelDisplayname),Ar.Main_selectedChannelLogo=e.channel.logo,bm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo),Ar.Main_selectedChannel_id=e.channel._id,Ar.Main_selectedChannel=e.channel.name,mo()?(na=!0,ia=Ar.Main_selectedChannel_id,ba()):Wm(),ku(e.increment_view_count_url)}function ig(){document.hidden?Op()?(np(),pp(),yg()):(og(),Rg(),Ll(),Ym(),window.clearInterval(Mv),window.clearInterval(dv)):(bv=!0,sp(),bv&&(Qm(),kh=kh=0,navigator.onLine?mg():Vf=window.setInterval(ag,100),Tl(ll),Jp(2),dv=window.setInterval(og,6e4)))}function ag(){(navigator.onLine||200<kh)&&(window.clearInterval(Vf),cv=nh,sg()),kh++}function og(){Ar.vodOffset=fc?parseInt(Android.gettime()/1e3):0,du(),Ar.vodOffset=0}function sg(){gv=0,Gv=2e3,dg()}function dg(){v_(cv===nh?"https://api.twitch.tv/api/vods/"+Ar.ChannelVod_vodId+"/access_token"+(mo()&&Ka[Ar.Users_Position].access_token?"?oauth_token="+Ka[Ar.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Ar.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(_v.token)+"&nauthsig="+_v.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Rh,1,null,cg,lg,!0)}function lg(){if(bv){var e;if(_v.token&&(e=JSON.parse(_v.token)),e&&0!==JSON.parse(_v.token).chansub.restricted_bitrates.length)return void ug();++gv<yv?(Gv+=250,dg()):Ql?rg():(Zm(),Yp(2))}}function rg(){pv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],cv=ah,bv&&hg()}function cg(e){cv===nh?(_v=JSON.parse(e),cv=ih,sg()):cv===ih&&(pv=Sm(fv=e),cv=ah,bv&&hg())}function ug(){mo()&&Ka[Ar.Users_Position].access_token?(ia=Ar.Main_selectedChannel_id,Ta()):(Zm(),Km(x+St),window.setTimeout(function(){bv&&yg()},4e3))}function _g(){Zm(),Km(x+xt),window.setTimeout(function(){bv&&yg()},4e3)}function fg(){Yv?(Zm(),Km(x+Pt),window.setTimeout(function(){bv&&yg()},4e3)):(Yv=!0,cv=nh,sg())}function hg(){window.clearInterval(Mv),mv=pv[vv=0].url,-1!==lv.indexOf("source")&&(lv="source");for(var e=0;e<Pg();e++){if(pv[e].id===lv){mv=pv[vv=e].url;break}-1!==pv[e].id.indexOf(lv)&&(mv=pv[vv=e].url)}rv=lv,mg()}function mg(){Zl&&console.log("PlayVod_onPlayer:",'\n\n"'+mv+'"\n'),Ar.vodOffset?(nl=Ar.vodOffset,cl(),fc&&bv&&Android.startVideoOffset(mv,2,zv?-1:1e3*Ar.vodOffset),Ar.vodOffset=0):fc&&bv&&Android.startVideoOffset(mv,2,zv?-1:Android.gettime()),zv=!1,fh&&!vp()&&mp(),fc&&(Iv=0,Wh=3+wv/1e3,Sv=!1,window.clearInterval(Mv),Mv=window.setInterval(vg,Qh))}function pg(e){Pc("progress_bar_duration",Jm(Ps=e/1e3)),Cg()}function vg(){fc&&(Rv=Android.gettime()),Ps<Rv/1e3&&(fc&&Android.play(!1),Play_PannelEndStart(2)),bv&&Ev===Rv&&!Nm()?++Iv>Wh&&(Sv&&Pv&&vv<Pg()-1?vv++:!Sv&&Pv&&xv++,navigator.onLine?1<xv?Rm(xv,2,gg):(xg(),hg(),Pv=!0):Um(!1,2)):(Iv=xv=0,Pv=!1),Ev=Rv}function gg(e){if(!e){if(!(vv<Pg()-1))return void Um(!1,2);vv++}xv=0,xg(),hg(),Pv=!0}function yg(){bv&&(pv=[],bg(!0),Xm())}function bg(e){e&&Rg(),fc&&Android.stopVideo(2),bv=!1,window.clearInterval(dv),window.clearInterval(ov),Ar.Play_WasPlaying=0,Jv=!0,Bl(),aE(),Ym(),wg()}function wg(){document.body.removeEventListener("keydown",jg),document.removeEventListener("visibilitychange",ig),Ar.vodOffset=0,window.clearInterval(uv),window.clearInterval(Mv),Ps=0}function kg(){Bv=!1,Lv=Ov=0,fp(),document.getElementById("scene_channel_panel").style.opacity="0",fc&&Tg(Android.gettime()/1e3,Ps,!0),xc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",lv=rv,window.clearInterval(sv)}function Ag(e){Cg(),Dm(),np(),sv=window.setInterval(Cg,1e3),e&&(Eg(),Sg(),xg(),Ig()),document.getElementById("scene_channel_panel").style.opacity="1"}function Cg(){fc&&Tg(Android.gettime()/1e3,Ps,!Bv)}function Eg(){Vv=1,nf=0,Mg()}function Mg(){Sc("pause_button","progress_bar_div_focus"),Sc("next_button","progress_bar_div_focus"),Sc("back_button","progress_bar_div_focus"),Sc("progress_bar_div","progress_bar_div_focus"),Vv?1===Vv?(nf?1===nf?Ic("next_button","progress_bar_div_focus"):-1===nf&&Ic("back_button","progress_bar_div_focus"):Ic("pause_button","progress_bar_div_focus"),Pp(),xc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):2===Vv&&(xp(),xc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):(Ic("progress_bar_div","progress_bar_div_focus"),Pp(),Lv&&(Gg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Ig(){jf=window.setTimeout(kg,5e3+Hv)}function Sg(){for(var e=vv=0;e<Pg();e++){if(pv[e].id===lv){vv=e;break}-1!==pv[e].id.indexOf(lv)&&(vv=e)}}function xg(){1===Pg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):vv?vv===Pg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(lv=pv[vv].id).indexOf("source")?Pc("quality_name",lv.replace("source",ge)+pv[vv].band):Pc("quality_name",lv+pv[vv].band)}function Pg(){return pv.length}function Tg(e,t,n){Pc("progress_bar_current_time",Jm(e)),n&&(Hf.style.width=e/t*100+"%")}function Lg(){sp(),Op()||(j_=Sv=!1,bv?(fc&&Android.startVideoOffset(mv,2,0<qv?1e3*qv:-1),nl=qv):(nl=Hs,fc&&Android.startVideoOffset(J_,3,0<qv?1e3*qv:-1)),X_&&cl()),xc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",Bv=!1,qv=Lv=Ov=0}function Bg(){Fv=Ov=0,Og($h[1])}function Og(e){Lv&&!Vv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Pc("progress_bar_steps",Jn+e/60+Fn):Pc("progress_bar_steps",e?Jn+e+Hn:Jn+$h[1]+Hn)}function Gg(){Pc("progress_bar_jump_to",ue+" ("+(Lv<0?"-":"")+Jm(Math.abs(Lv))+")"+_e+Jm(qv))}function Ug(e,t){var n=fc?Android.gettime()/1e3:0;window.clearTimeout(av),Bv=!0,Ov<$h.length-1&&Fv++%6==0&&Ov++,Lv+=$h[Ov]*e,qv=n+Lv,bv&&(qv=10*Math.floor(qv/10)),t<qv?(Lv=t-n-$h[1],qv=n+Lv,Fv=Ov=0):qv<0&&(Lv=0-n,qv=Fv=Ov=0),Gg(),Hf.style.width=qv/t*100+"%",Og($h[Ov]*e),av=window.setTimeout(Bg,1e3)}function Rg(){var e=fc?parseInt(Android.gettime()/1e3):0,t="#"+Ar.ChannelVod_vodId;300<e&&e<Ps-300?(Nv[t]&&delete Nv[t],Nv[t]=e,u_("PlayVod_VodIds",JSON.stringify(Nv))):Ps-300<e&&Nv[t]&&(delete Nv[t],u_("PlayVod_VodIds",JSON.stringify(Nv)))}function Ng(){Nv=f_("PlayVod_VodIds",{});var e=Dg();250<e&&Vg(e-250)}function Dg(){var e=0;for(var t in Nv)Nv.hasOwnProperty(t)&&e++;return e}function Vg(e){var t=0;for(var n in Nv){if(!(t<e))break;delete Nv[n],t++}u_("PlayVod_VodIds",JSON.stringify(Nv))}function Jg(){Cc("scene_channel_panel_bottom"),Ag(!1),xc("dialog_vod_saved_text",kn+Hm(1e3*Nv["#"+Ar.ChannelVod_vodId])),Ec("dialog_vod_start")}function Hg(){kg(),Cc("dialog_vod_start"),qg(),window.setTimeout(function(){Ec("scene_channel_panel_bottom")},1e3)}function Fg(){return Mc("dialog_vod_start")}function qg(){Xg(),Dv=0,zg()}function zg(){Ic("dialog_vod_"+Dv,"dialog_end_icons_focus")}function Xg(){Sc("dialog_vod_"+Dv,"dialog_end_icons_focus")}function Yg(e){Hg(),e?(delete Nv["#"+Ar.ChannelVod_vodId],Ar.vodOffset=0,jv()):(Ar.vodOffset=Nv["#"+Ar.ChannelVod_vodId],Rv=1e3*Ar.vodOffset,Tg(Ar.vodOffset,Ps,!0),Wv())}function jg(e){if(cv===ah||Fg())switch(e.keyCode){case Vi:nE()?eh&&!SC&&(hE(),eh--,rE()):Zf&&!rp()&&vp()?(Ff++,Cp()):rp()&&!Fg()?(fp(),2===Vv?(Pp(),5<++Bh&&(Bh=1),xp()):Vv||(Ug(-1,Ps),Hv=2500),Ig()):Fg()?(Xg(),Dv?Dv--:Dv++,zg()):Op()?(Dp(),Rp(),--Dh<0&&(Dh=3),1===Dh&&(Dh=0),Up()):Fg()||Ag(!0);break;case Hi:console.log(Vv),nE()?eh<BC-1&&!SC&&(hE(),eh++,rE()):!Zf||rp()||Op()?rp()&&!Fg()?(fp(),2===Vv?(Pp(),--Bh<1&&(Bh=5),xp()):Vv||(Ug(1,Ps),Hv=2500),Ig()):Fg()?(Xg(),Dv?Dv--:Dv++,zg()):Op()?(Dp(),Rp(),3<++Dh&&(Dh=0),1===Dh&&(Dh=2),Up()):Fg()||Ag(!0):u_("ChatEnable",(fh=vp()||Op()?(pp(),!1):(mp(),!0))?"true":"false");break;case Ji:Op()?Dp():rp()&&!Fg()?(2===Vv&&1!==Bh?(Vv--,Mg()):1===Vv?(Vv--,Mg()):0<vv&&1===Bh&&(vv--,xg()),fp(),Ig()):nE()?nE()?lE():Fg()||Ag(!0):iE();break;case Fi:Op()?Dp():rp()&&!Fg()?(Vv?1===Vv?(Vv++,Mg()):vv<Pg()-1&&1===Bh&&(vv++,xg()):(Vv++,Mg()),fp(),Ig()):nE()?aE():Zf&&vp()?(4<++Yf?Ap(!(Yf=1)):4===Yf&&Ap(!0),wp(!0)):Fg()||Ag(!0);break;case qi:Fg()?Yg(Dv):Op()?Vp(2):rp()?Vv?1===Vv?(Ar.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(2)):Xp(2):(fp(),Ig(),Lv&&Lg()):nE()?(bg(!0),Vu(eh,JC,iv)):Ag(!0);break;case zi:nv(!0);break;case Ni:case Ri:case Di:Ar.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(2)}else switch(e.keyCode){case zi:ip()?(np(),yg()):tp()}}var Wg={};function Qg(){console.log("InitScreens place holder")}function Zg(){tb(),ib(),nb(),ob(),sb(),db(),rb(),cb(),Ky(),$y()}function Kg(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function $g(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function ey(){Rr=-1,Ar.Main_Go=Wg.screen,Wg.label_init(),document.body.addEventListener("keydown",Ey,!1),Ec(Wg.ids[10]),Wg.status?(bu(Wg.posY),hy(!0),du()):ny()}function ty(){Rr=0,Wg.label_exit(),document.body.removeEventListener("keydown",Ey),Cc(Wg.ids[10]),qc()}function ny(){Lc(),pu(Wg.table),qc(),Wg.cursor=null,Wg.status=!1,Wg.row=document.createElement("div"),Wg.MaxOffset=0,Wg.TopRowCreated=!1,Wg.offset=0,Wg.idObject={},Wg.Cells=[],Wg.FirstLoad=!0,Wg.itemsCount=0,Wg.posX=0,Wg.posY=0,Wg.row_id=0,Wg.currY=0,Wg.coloumn_id=0,Wg.data=null,Wg.data_cursor=0,Wg.dataEnded=!1,Dc(),iy(),ay()}function iy(){Wg.loadingData=!0,Wg.loadingDataTry=0,Wg.loadingDataTimeout=3500}function ay(){Wg.set_url(),fc&&!Wg.itemsCount?y_(Wg.url,Wg.loadingDataTimeout,2,null,sy,oy):b_(Wg.url,Wg.loadingDataTimeout,2,null,sy,oy,!1)}function oy(){Wg.loadingDataTry++,Wg.loadingDataTry<Wg.loadingDataTryMax?(Wg.loadingDataTimeout+=500,ay()):(Wg.loadingData=!1,Wg.itemsCount?Wg.dataEnded=!0:(Wg.FirstLoad=!1,Bc(),Fc(P),Wg.key_exit()))}function sy(e){Wg.concatenate(e)}function dy(){var e=Wg.data.length-Wg.data_cursor;if(e>Wg.ItemsLimit?e=Wg.ItemsLimit:Wg.loadingData||(Wg.dataEnded=!0),Wg.HasSwitches&&!Wg.TopRowCreated&&Wg.addSwitches(),e){Wg.row_id||(Wg.row=document.createElement("div"),Wg.row.id=this.ids[12]+Wg.row_id);var t=Math.ceil(e/Wg.ColoumnsCount),n=Wg.row_id+t;for(Wg.row_id;Wg.row_id<n;){for(Wg.coloumn_id===Wg.ColoumnsCount&&(Wg.row=document.createElement("div"),Wg.row.id=this.ids[12]+Wg.row_id,Wg.coloumn_id=0),Wg.coloumn_id;Wg.coloumn_id<Wg.ColoumnsCount&&Wg.data_cursor<Wg.data.length;Wg.data_cursor++)Wg.data[Wg.data_cursor]&&Wg.addCell(Wg.data[Wg.data_cursor]);if(Wg.coloumn_id===Wg.ColoumnsCount)Wg.Cells[Wg.row_id]=Wg.row,Wg.row_id++;else if(Wg.data_cursor>=Wg.data.length){""!==Wg.row.innerHTML&&(Wg.Cells[Wg.row_id]=Wg.row);break}}}Wg.emptyContent=!e&&!Wg.status,fy()}function ly(e,t){var n=e+"_"+t;return(Lr=document.createElement("div")).style.cssText=Wg.ThumbCssText,n}function ry(e,t,n,i,a,o){var s=ly(e,t);return Lr.setAttribute("id",n[5]+s),Lr.setAttribute(sc,a),Lr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+i+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Lr}function cy(e,t,n,i,a,o,s,d,l,r,c,u,_,f,h,m){var p=ly(e,t);return Lr.setAttribute("id",n[8]+p),Lr.setAttribute(sc,JSON.stringify([c,r,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),Lr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+i+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+pi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Jm(r)+"</div></div></div></div>",Lr}function uy(e,t,n,i,a){var o=ly(e,t);return Lr.setAttribute("id",i[8]+o),Lr.setAttribute(sc,JSON.stringify(n)),Lr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" src="'+a[0]+hc+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+MI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",Lr}function _y(e,t,n,i,a){var o=ly(e,t);return Lr.setAttribute("id",i[8]+o),Lr.setAttribute(sc,JSON.stringify(n)),Lr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",Lr}function fy(){if(Wg.status)Vc(Wg.posX,Wg.posY,Wg.ColoumnsCount,Wg.itemsCount);else{if(Ar.Main_Go===ir&&xy(),Wg.emptyContent)Fc(Wg.empty_str());else{Wg.status=!0;for(var e=document.getElementById(Wg.table),t=0;t<(Wg.Cells.length<Wg.visiblerows?Wg.Cells.length:Wg.visiblerows);t++)e.appendChild(Wg.Cells[t])}Nr&&Wg.status&&ak.restor_playback.defaultValue?Ar.Play_WasPlaying?(ru(Ar.Main_Go),Ar.Main_Go=kr,Ar.vodOffset||(Ar.vodOffset=1),Ps=Ar.vodOffset+1,Km(qn),1===Ar.Play_WasPlaying?Ju():qu(),ou(!0),window.setTimeout(function(){Oh||$m()},2e3)):1!==kr?(ru(Ar.Main_Go),Ar.Main_Go=kr,Xu(Wg.posY+"_"+Wg.posX,Wg.ids),ou()):(Ar.Never_run&&Wc(),Ar.Never_run=!1,hy(),du()):(hy(),du()),Nr=!1,Wg.FirstLoad=!1,Bc()}}function hy(e){if(Wg.emptyContent){if(!Wg.HasSwitches)return void Wg.key_exit();Wg.posY=-1}if(Wg.posY<0)return by(),void(Wg.emptyContent||Vc(Wg.posX,Wg.posY+1,Wg.ColoumnsCount,Wg.itemsCount));py(e),2<Wg.posY&&Wg.data_cursor+Jy>Wg.data.length&&!Wg.dataEnded&&!Wg.loadingData?(iy(),ay()):Wg.posY+Wg.ItemsReloadLimit>Wg.itemsCount/Wg.ColoumnsCount&&Wg.data_cursor<Wg.data.length&&Wu(function(){Wg.loadDataSuccess()}),Mr&&Xu(Wg.posY+"_"+Wg.posX,Wg.ids)}function my(e){return null!==document.getElementById(e)}function py(e){if(Wg.currY<Wg.posY)1<Wg.posY&&Wg.Cells.length-1>=Wg.posY+1&&(document.getElementById(Wg.table).appendChild(Wg.Cells[Wg.posY+1]),my(Wg.ids[12]+(Wg.posY-2))&&document.getElementById(Wg.ids[12]+(Wg.posY-2)).remove());else if(Wg.currY>Wg.posY&&Wg.posY){var t=document.getElementById(Wg.table);t.insertBefore(Wg.Cells[Wg.posY-1],t.childNodes[Wg.HasSwitches?1:0]),my(Wg.ids[12]+(Wg.posY+2))&&document.getElementById(Wg.ids[12]+(Wg.posY+2)).remove()}Wg.currY=Wg.posY,Ic(Wg.ids[0]+Wg.posY+"_"+Wg.posX,oc),Vc(Wg.posX,Wg.posY,Wg.ColoumnsCount,Wg.itemsCount),Wg.addFocus(Wg.posY,Wg.posX,Wg.ids,e)}function vy(e,t,n,i){e<2&&wu(e)||i?e?tu(e+1,0,n[0])&&zu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):zu(n[10],.07*screen.height):Lu()}function gy(e,t,n,i){wu(e)||i?Wg.posY<Wg.Cells.length-1&&zu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Wg.Cells.length-1===e&&tu(e-1,t,n[0])?zu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Lu()}function yy(e,t){Xu(Wg.posY+"_"+Wg.posX,Wg.ids),Wg.HasAnimateThumb&&Ec(Wg.ids[1]+Wg.posY+"_"+Wg.posX),Wg.posY+=e,Wg.posX=t,hy()}function by(){Wg.posX>Wg.SwitchesIcons.length-1?Wg.posX=0:Wg.posX<0&&(Wg.posX=Wg.SwitchesIcons.length-1),Ic(Wg.ids[0]+"y_"+Wg.posX,oc)}function wy(){Wg.posX>Wg.SwitchesIcons.length-1?Wg.posX=0:Wg.posX<0&&(Wg.posX=Wg.SwitchesIcons.length-1),Sc(Wg.ids[0]+"y_"+Wg.posX,oc)}function ky(e){Zc()?Qc():Yc()?Xc():(e===Wg.screen?Ar.Main_Go=er:Ar.Main_Go=e,ty())}function Ay(e){if(!Wg.HasSwitches||Wg.posY||-1!==e||Wg.emptyContent){if(Wg.HasSwitches&&-1===Wg.posY&&tu(0,Wg.posX,Wg.ids[0]))Wg.posY=0,hy(),wy();else for(var t=0;t<Wg.ColoumnsCount;t++)if(tu(Wg.posY+e,Wg.posX-t,Wg.ids[0]))return void yy(e,Wg.posX-t)}else Xu(Wg.posY+"_"+Wg.posX,Wg.ids),Wg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),Ec(Wg.ids[1]+Wg.posY+"_"+Wg.posX)),Wg.posY=-1,Wg.posX>Wg.SwitchesIcons.length-1&&(Wg.posX=1),by()}function Cy(e,t){Wg.HasSwitches&&-1===Wg.posY?(Wg.posY=-1,wy(),Wg.posX++,by()):tu(Wg.posY,Wg.posX+e,Wg.ids[0])?yy(0,Wg.posX+e):tu(Wg.posY+e,t,Wg.ids[0])&&yy(e,t)}function Ey(e){if(!Wg.FirstLoad&&!Gu())switch(Ou(),e.keyCode){case zi:Wg.loadingData||Wg.key_exit();break;case Vi:if(Wg.loadingData)break;Wg.posX?Cy(-1,Wg.ColoumnsCount-1):(Ar.Main_Go===ir&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),Wg.key_exit(!0),document.body.removeEventListener("keydown",Ey),cA(Ey,!0));break;case Hi:Wg.dataEnded||Wg.posX<Wg.ColoumnsCount-1||Wg.Cells.length-1>=Wg.posY+2?Cy(1,0):hy(!0);break;case Ji:Wg.HasSwitches?-1===Wg.posY?Wg.key_exit():Ay(-1):Wg.posY?Ay(-1):Wg.key_exit();break;case Fi:Wg.dataEnded||Wg.Cells.length-1>=Wg.posY+2?Ay(1):hy(!0);break;case Ni:case Ri:case Di:case qi:Wg.key_play()}}function My(){Wg.posX?1===Wg.posX?(Ar.Main_Go=yr,Ar.Main_OldgameSelected=Ar.Main_gameSelected,Iy(),su()):Sy():(Ar.Main_Go=gr,Ar.Main_OldgameSelected=Ar.Main_gameSelected,Iy(),su())}function Iy(){Wg.status&&-1===Wg.posY&&(wy(),Wg.posY=0,Wg.posX=0,Ic(Wg.ids[0]+"0_"+Wg.posX,oc)),document.body.removeEventListener("keydown",Ey),Cc(Wg.ids[10])}function Sy(){mo()&&Ka[Ar.Users_Position].access_token?Wy?Fa():Va():(Fc(Bt),window.setTimeout(function(){Wg.emptyContent&&Ar.Main_Go===ir?Fc(T+Z):qc()},2e3))}function xy(){mo()?Xa():(Wy=!1,Py())}function Py(){xc(Ny.ids[3]+"y_2",Wy?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Pi+Pi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Pi+Pi+(mo()?It:Lt))}Wg.FirstLoad=!1;var Ty,Ly,By,Oy,Gy,Uy,Ry,Ny,Dy,Vy,Jy=100,Hy="",Fy="",qy="",zy="",Xy="",Yy="",jy=1,Wy=!1,Qy={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:dy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){Zc()?Qc():Yc()?Xc():(tu(this.posY,this.posX,this.ids[0])?Xu(this.posY+"_"+this.posX,this.ids):this.posY<0&&(wy(),this.posY=0),e||o_(Ey)),lA()}},Zy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Jr,ItemsReloadLimit:Fr,ColoumnsCount:Hr,addFocus:function(e,t,n,i){this.AnimateThumb(this),vy(e,t,n,i)},img_404:Gi,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+p,Pi+Pi+c],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),ny(),u_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ny()):Fu(this.posY+"_"+this.posX,this.ids,Ey)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),jy){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);_I.onload=function(){this.onload=null,Cc(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},_I.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function Ky(){(Dy=$g(Dy=$g({ids:Kg("Vod"),table:"stream_table_vod",screen:pr,highlightSTR:"Vod_highlight",highlight:h_("Vod_highlight",!1),periodPos:__("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Jy,set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Or?"&language="+Or:"")},label_init:function(){Ar.Main_CenterLablesVectorPos=4,Ic("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){Pc("top_bar_vod",Kt),Sc("top_bar_vod","icon_center_focus")},SetPeriod:function(){xc("top_bar_vod",Kt+_u((this.highlight?G:O)+Ur[this.periodPos-1])),u_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(_y(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",ic),e.channel.display_name,N+fu(e.created_at),MI.parse(e.title)+pi+Qt+v+e.game,Kc(e.views)+V,$c(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Jm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Qy),Zy)).set_ThumbSize()}function $y(){(Vy=$g(Vy=$g({ids:Kg("AGameVod"),table:"stream_table_a_game_vod",screen:gr,highlightSTR:"AGameVod_highlight",highlight:h_("AGameVod_highlight",!1),periodPos:__("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ar.Main_gameSelected)+"&limit="+Jy+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Or?"&language="+Or:"")},OldgameSelected:"",label_init:function(){null===Ar.Main_OldgameSelected&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),this.OldgameSelected!==Ar.Main_gameSelected&&(this.status=!1),Ar.Main_CenterLablesVectorPos=3,Ic("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=Ar.Main_gameSelected,Pc("top_bar_game",b),Sc("top_bar_game","icon_center_focus")},SetPeriod:function(){xc("top_bar_game",b+_u((this.highlight?G:O)+Ur[this.periodPos-1])),u_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(_y(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",ic),e.channel.display_name,N+fu(e.created_at),MI.parse(e.title)+pi+Qt+v+e.game,Kc(e.views)+V,$c(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Jm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Qy),Zy)).set_ThumbSize()}var eb={ThumbSize:32.65,visiblerows:3,ItemsLimit:Jr,ItemsReloadLimit:Fr,ColoumnsCount:Hr,addFocus:vy,img_404:Gi,empty_str:function(){return T+W}};function tb(){(Uy=$g(Uy=$g({ids:Kg("Live"),table:"stream_table_live",screen:er,base_url:"https://api.twitch.tv/kraken/streams?limit="+Jy,set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Or?"&broadcaster_language="+Or:"")},label_init:function(){Ar.Main_CenterLablesVectorPos=0,Ic("top_bar_live","icon_center_focus")},label_exit:function(){Sc("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(uy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fm(e.created_at)+" "+m+Kc(e.viewers)+J,$c(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Vu(this.posY+"_"+this.posX,this.ids,Ey)}},Qy),eb)).set_ThumbSize()}function nb(){(Ny=$g(Ny=$g({ids:Kg("AGame"),table:"stream_table_a_game",screen:ir,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ar.Main_gameSelected)+"&limit="+Jy+"&offset="+this.offset+(""!==Or?"&broadcaster_language="+Or:"")},label_init:function(){null===Ar.Main_OldgameSelected&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),Ar.Main_CenterLablesVectorPos=3,Ic("top_bar_game","icon_center_focus"),Ac("label_side_panel","icon-arrow-circle-left",I),Sc("top_bar_user","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt),Pc("top_bar_user",_),Ar.Main_OldgameSelected!==Ar.Main_gameSelected&&(this.status=!1),Ar.Search_isSearching&&(uu(),xc("top_bar_user",n+_u(h+" '"+Ar.Search_data+"'"))),xc("top_bar_game",b+_u(f+": "+Ar.Main_gameSelected))},label_exit:function(){Ar.Main_OldgameSelected=Ar.Main_gameSelected,Ac("label_side_panel","icon-ellipsis",Rn),xc("top_bar_game",h),Sc("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+Kt,Pi+Pi+U,Pi+Pi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(uy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fm(e.created_at)+" "+m+Kc(e.viewers)+J,$c(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Vu(this.posY+"_"+this.posX,this.ids,Ey):My()}},Qy),eb)).set_ThumbSize()}function ib(){(Ry=$g(Ry=$g({ids:Kg("Featured"),table:"stream_table_featured",screen:br,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Jy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(mo()&&Ka[Ar.Users_Position].access_token?"&oauth_token="+Ka[Ar.Users_Position].access_token:"")},label_init:function(){Ar.Main_CenterLablesVectorPos=2,Ic("top_bar_featured","icon_center_focus")},label_exit:function(){Sc("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(uy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fm(e.created_at)+" "+m+Kc(e.viewers)+J,$c(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Vu(this.posY+"_"+this.posX,this.ids,Ey)}},Qy),eb)).set_ThumbSize()}var ab={ThumbSize:32.65,ItemsLimit:Jr,TopRowCreated:!1,ItemsReloadLimit:Fr,ColoumnsCount:Hr,addFocus:vy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Gi,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+c,Pi+Pi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(af=!0,wy(),this.posX=0,this.posY=0,Hu(this.posY+"_"+this.posX,this.ids,Ey)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ny())):Hu(this.posY+"_"+this.posX,this.ids,Ey)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(cy(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,fu(e.created_at)],[MI.parse(e.title),v,e.game],Kc(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function ob(){(Ty=$g(Ty=$g({ids:Kg("Clip"),table:"stream_table_clip",screen:vr,periodPos:__("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Jy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Or?"&language="+Or:"")},SetPeriod:function(){xc("top_bar_clip",U+_u(Ur[this.periodPos-1])),u_("Clip_periodPos",this.periodPos)},label_init:function(){Ar.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ic("top_bar_clip","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt)},label_exit:function(){cu(),Sc("top_bar_clip","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt)}},Qy),ab)).set_ThumbSize()}function sb(){(Ly=$g(Ly=$g({ids:Kg("ChannelClip"),table:"stream_table_channel_clip",screen:_r,periodPos:__("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ar.Main_selectedChannel)+"&limit="+Jy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){xc("top_bar_game",U+Ur[this.periodPos-1]),u_("ChannelClip_periodPos",this.periodPos)},label_init:function(){Ar.Main_CenterLablesVectorPos=1,!Ar.Search_isSearching&&Ar.Main_selectedChannel_id&&ps(),Ar.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),uu(),this.SetPeriod(),Pc("top_bar_user",Ar.Main_selectedChannelDisplayname),Ac("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Ar.Main_selectedChannel},label_exit:cu},Qy),ab)).set_ThumbSize()}function db(){(By=$g(By=$g({ids:Kg("AGameClip"),table:"stream_table_a_game_clip",screen:yr,periodPos:__("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ar.Main_gameSelected)+"&limit="+Jy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Or?"&language="+Or:"")},SetPeriod:function(){xc("top_bar_game",b+_u(U+Ur[this.periodPos-1]+": "+Ar.Main_gameSelected)),u_("AGameClip_periodPos",this.periodPos)},label_init:function(){Ar.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ic("top_bar_game","icon_center_focus"),Ac("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Ar.Main_gameSelected&&(this.status=!1),this.gameSelected=Ar.Main_gameSelected},label_exit:function(){Sc("top_bar_game","icon_center_focus"),xc("top_bar_game",h),Ac("label_side_panel","icon-ellipsis",Rn)}},Qy),ab)).set_ThumbSize()}var lb={ThumbSize:19.35,visiblerows:3,ItemsLimit:qr,ItemsReloadLimit:Xr,ColoumnsCount:zr,addFocus:gy,img_404:Bi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===sr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===sr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Ar.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(sc),document.body.removeEventListener("keydown",Ey),Ar.Main_BeforeAgame=this.screen,Ar.Main_Go=ir,Ar.Main_BeforeAgameisSet=!0,Rr=0,document.body.removeEventListener("keydown",Ey),Cc(this.ids[10]),su(),Xu(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===nr,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(ry(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",ac),n.name,t?Kc(e.channels)+" "+E+m+Kc(e.viewers)+J:"")),this.coloumn_id++)}};function rb(){(Oy=$g(Oy=$g({ids:Kg("Game"),table:"stream_table_games",screen:nr,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Jy,set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Ar.Main_CenterLablesVectorPos=3,Ic("top_bar_game","icon_center_focus")},label_exit:function(){Sc("top_bar_game","icon_center_focus")}},Qy),lb)).set_ThumbSize()}function cb(){(Gy=$g(Gy=$g({ids:Kg("UserGames"),table:"stream_table_user_games",screen:sr,isLive:h_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ka[Ar.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Jy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+" "+(this.isLive?Z:zt))),ny(),u_("user_Games_live",this.isLive?"true":"false"),sM&&hM()},label_init:function(){Ar.Main_CenterLablesVectorPos=1,Ac("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Ac("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user","icon_center_focus"),this.OldUserName!==Ka[Ar.Users_Position].name&&(this.status=!1),this.OldUserName=Ka[Ar.Users_Position].name,xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Ar.Users_Position=0,Sc("top_bar_user","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt),Pc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn)}},Qy),lb)).set_ThumbSize()}var ub=0,_b=0,fb=!1,hb=0,mb={},pb=[],vb=!1,gb=0,yb=5,bb=3500,wb=0,kb=0,Ab=!1,Cb=!1,Eb="",Mb=!1,Ib=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Sb(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=mr,Ar.isLastSChannels=!0,Ar.Search_isSearching=!0,Eb!==Ar.Search_data&&(Cb=!1),uu(),xc("top_bar_user",n+_u(E+" '"+Ar.Search_data+"'")),document.body.addEventListener("keydown",Hb,!1),Cb?(bu(ub),Ec(Ib[6]),Vb(),du()):Pb()}function xb(){cu(),document.body.removeEventListener("keydown",Hb),Cc(Ib[6])}function Pb(){pu("stream_table_search_channel"),Cc(Ib[6]),Lc(),qc(),Eb=Ar.Search_data,Cb=!1,mb={},i_=!(hb=kb=wb=0),ub=_b=0,fb=Mb=!(pb=[]),Dc(),Tb(),Lb()}function Tb(){gu(),vb=!0,gb=0,bb=3500}function Lb(){var e=hb+wb;e&&kb-1<e&&(e=kb-Yr,fb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ar.Search_data)+"&limit="+Yr+"&offset="+e;fc&&!hb?y_(t,bb,2,null,Ob,Bb):b_(t,bb,2,null,Ob,Bb,!1)}function Bb(){++gb<yb?(bb+=500,Lb()):(vb=!1,hb?(fb=!0,Ub()):(i_=!1,Bc(),Fc(P)))}function Ob(e){var t=JSON.parse(e),n=t.channels.length;kb=parseInt(t._total),n<Yr&&(fb=!0);var i=hb;Ab=!(hb+=n);var a=n/jr;0<n%jr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/jr+_,d=document.createElement("tr"),o=0;o<jr&&c<n;o++,c++)r=(l=t.channels[c])._id,mb[r]?o--:(mb[r]=1,d.appendChild(Gb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<jr;o++)fb&&!Mb&&(Mb=!0,hb=s*jr+o),d.appendChild(Au(Ib[5]+s+"_"+o)),pb.push(Ib[5]+s+"_"+o);u.appendChild(d)}Ub()}function Gb(e,t,n){return e<4&&ku(n[2]),Cu(t,Ib,n)}function Ub(){if(Cb){if(vu(Oi),0<pb.length&&!fb)return Tb(),void Rb();Vb(!0),pb=[]}else Ab?Fc(d):(Cb=!0,vu(Oi),Vb(),du()),Ec(Ib[6]),i_=!1,Bc();vb=!1}function Rb(){Hc(pb.length);var e=hb+wb;e&&kb-1<e&&(e=kb-Qr,fb=!0),v_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ar.Search_data)+"&limit="+Qr+"&offset="+e,bb,2,null,Db,Nb)}function Nb(){++gb<yb?(bb+=500,Rb()):(fb=!0,hb-=pb.length,pb=[],Ub())}function Db(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(kb=parseInt(i._total),a<Qr&&(fb=!0);o<pb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,mb[n]?o--:(mb[n]=1,Eu(pb[o],[t.name,n,t.logo,t.display_name],Ib),d.push(o));for(o=d.length-1;-1<o;o--)pb.splice(d[o],1);wb+=s,fb&&(hb-=pb.length,pb=[]),Ub()}function Vb(e){Uu(ub,_b,Ib,jr,hb,e),hb/jr<ub+Wr&&!fb&&!vb&&(Tb(),Lb()),Mr&&Jb()}function Jb(){hb&&Xu(ub+"_"+_b,Ib)}function Hb(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(Jb(),o_(Hb)),lA();break;case Vi:if(_b){if(tu(ub,_b-1,Ib[0]))Jb(),_b--,Vb();else for(t=jr-1;-1<t;t--)if(tu(ub-1,t,Ib[0])){Jb(),ub--,_b=t,Vb();break}}else Jb(),cA(Hb,!0);break;case Hi:tu(ub,_b+1,Ib[0])?(Jb(),_b++,Vb()):tu(ub+1,0,Ib[0])&&(Jb(),ub++,_b=0,Vb());break;case Ji:if(ub){for(t=0;t<jr;t++)if(tu(ub-1,_b-t,Ib[0])){Jb(),ub--,_b-=t,Vb();break}}else Jb(),o_(Hb);break;case Fi:for(t=0;t<jr;t++)if(tu(ub+1,_b-t,Ib[0])){Jb(),ub++,_b-=t,Vb();break}break;case Ni:case Ri:case Di:case qi:Ar.Main_selectedChannel=document.getElementById(Ib[4]+ub+"_"+_b).getAttribute(sc),Ar.Main_selectedChannel_id=document.getElementById(Ib[4]+ub+"_"+_b).getAttribute("data-id"),Ar.Main_selectedChannelDisplayname=document.getElementById(Ib[3]+ub+"_"+_b).textContent,document.body.removeEventListener("keydown",Hb),Ar.Main_BeforeChannel=mr,Ar.Main_Go=cr,Ar.Main_BeforeChannelisSet=!0,Lo=ea=!1,Cc(Ib[6]),ou()}}var Fb=!1,qb=0,zb=0,Xb=0,Yb=0,jb=5,Wb=3500,Qb=0,Zb=0,Kb=!1,$b=!1,ew="",tw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function nw(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=lr,Ar.Search_isSearching=!0,uu(),ew!==Ar.Search_data&&(Fb=!1),xc("top_bar_user",n+_u(h+" '"+Ar.Search_data+"'")),document.body.addEventListener("keydown",fw,!1),Fb?(bu(qb),Ec(tw[7]),uw(),du()):aw()}function iw(){Ar.Search_isSearching||cu(),document.body.removeEventListener("keydown",fw),Ar.Games_return=!1,Cc(tw[7])}function aw(){pu("stream_table_search_game"),Cc(tw[7]),Lc(),qc(),ew=Ar.Search_data,$b=Fb=!1,qb=zb=Xb=Zb=Qb=0,Dc(),ow(),sw()}function ow(){gu(),i_=!0,Yb=0,Wb=3500}function sw(){v_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Ar.Search_data),Wb,2,null,lw,dw)}function dw(){++Yb<jb?(Wb+=500,sw()):(i_=!1,Xb?cw():(Bc(),Fc(P)))}function lw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Xb;Kb=!(Xb+=n);var a=n/zr;0<n%zr&&a++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/zr+u,d=document.createElement("tr"),o=0;o<zr&&r<n;o++,r++)l=t.games[r],d.appendChild(rw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",ac),""]));for(;o<zr;o++)$b||($b=!0,Xb=s*zr+o),d.appendChild(Au(tw[6]+s+"_"+o));c.appendChild(d)}cw()}function rw(e,t,n){return e<2&&ku(n[1]),Pu(t,tw,n)}function cw(){Fb||(Kb?Fc(d):(Fb=!0,vu(Gi),uw(),du()),Bc()),Ec(tw[7]),i_=!1,Vc(zb,qb,zr,Xb)}function uw(){Nu(qb,zb,tw,zr,Xb),Mr&&_w()}function _w(){Xb&&Xu(qb+"_"+zb,tw)}function fw(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(_w(),o_(fw)),lA();break;case Vi:if(zb){if(tu(qb,zb-1,tw[0]))_w(),zb--,uw();else for(t=zr-1;-1<t;t--)if(tu(qb-1,t,tw[0])){_w(),qb--,zb=t,uw();break}}else _w(),cA(fw,!0);break;case Hi:tu(qb,zb+1,tw[0])?(_w(),zb++,uw()):tu(qb+1,0,tw[0])&&(_w(),qb++,zb=0,uw());break;case Ji:if(qb){for(t=0;t<zr;t++)if(tu(qb-1,zb-t,tw[0])){_w(),qb--,zb-=t,uw();break}}else _w(),o_(fw);break;case Fi:for(t=0;t<zr;t++)if(tu(qb+1,zb-t,tw[0])){_w(),qb++,zb-=t,uw();break}break;case Ni:case Ri:case Di:case qi:Ar.gameSelectedOld=Ar.Main_gameSelected,iw(),Ar.Main_gameSelected=document.getElementById(tw[5]+qb+"_"+zb).getAttribute(sc),document.body.removeEventListener("keydown",fw),Ar.Main_Go=ir,Ar.Games_return=!0,ou()}}var hw=0,mw=0,pw=!1;function vw(){qc(),Cc("label_refresh"),Ac("label_side_panel","icon-arrow-circle-left",I),Pc("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Fl.placeholder=w,Ic("top_bar_user","icon_center_focus"),Ec("search_scroll"),mw=hw=0,bw(),kw()}function gw(){Aw(!1),document.body.removeEventListener("keydown",ww),bw(),Ar.Main_Go=Ar.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Pc("top_bar_user",_),Sc("top_bar_user","icon_center_focus"),Ac("label_side_panel","icon-ellipsis",Rn),Ec("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Fl.value="",Cc("search_scroll")}function yw(){gw(),Wu(function(){mw?1===mw?nw():2===mw&&Fw():Sb()})}function bw(){Sc("chanel_button","button_search_focused"),Sc("game_button","button_search_focused"),Sc("live_button","button_search_focused"),hw&&(mw?1===mw?Ic("game_button","button_search_focused"):2===mw&&Ic("live_button","button_search_focused"):Ic("chanel_button","button_search_focused"))}function ww(e){if(!pw)switch(e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(gw(),ou());break;case Vi:1===hw&&(--mw<0&&(mw=2),bw());break;case Hi:1===hw&&(2<++mw&&(mw=0),bw());break;case Ji:1===hw&&(hw=0,bw(),kw());break;case Fi:hw?1===hw&&(hw=0,bw(),kw()):(Aw(!1),hw=1,bw());break;case Ni:case Ri:case Di:case qi:hw?""!==Fl.value&&null!==Fl.value?(Ar.Search_data=Fl.value,Fl.value="",yw()):(Fc(s),window.setTimeout(function(){qc()},1e3)):kw()}}function kw(){document.body.removeEventListener("keydown",ww),document.body.addEventListener("keydown",Ew,!1),Fl.placeholder=w,Fl.focus(),pw=!0}function Aw(e){Fl.blur(),Cw(),document.body.removeEventListener("keydown",Ew),Fl.placeholder=C+w,e&&document.body.addEventListener("keydown",ww,!1),pw=!1}function Cw(){if(null!==Fl){var e=Fl.cloneNode(!0);Fl.parentNode.replaceChild(e,Fl),Fl=document.getElementById("search_input")}}function Ew(e){switch(e.keyCode){case zi:Yc()?Xc():Zc()?Qc():(gw(),ou());break;case Wi:Fl.value="";break;case Yi:case Fi:Aw(!0),hw=1,bw();break;case Xi:Fl.value=Fl.value.slice(0,-1);break;case ji:Fl.value+=" "}}var Mw=0,Iw=0,Sw=!1,xw=0,Pw={},Tw=[],Lw=!1,Bw=0,Ow=5,Gw=3500,Uw=0,Rw=0,Nw=!1,Dw=!1,Vw=!1,Jw="",Hw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Fw(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=rr,Ar.Search_isSearching=!0,uu(),Jw!==Ar.Search_data&&(Dw=!1),xc("top_bar_user",n+_u(f+" '"+Ar.Search_data+"'")),document.body.addEventListener("keydown",nk,!1),Dw?(bu(Mw),Ec(Hw[10]),ek(),du()):zw()}function qw(){cu(),document.body.removeEventListener("keydown",nk),Cc(Hw[10])}function zw(){pu("stream_table_search_live"),Cc(Hw[10]),Lc(),qc(),Jw=Ar.Search_data,Dw=!1,i_=!(Vw=!(Tw=[])),Mw=Iw=xw=Rw=Uw=0,Sw=!(Pw={}),Dc(),Xw(),Yw()}function Xw(){gu(),Lw=!0,Bw=0,Gw=3500}function Yw(){var e=xw+Uw;e&&Rw-1<e&&(e=Rw-Jr,Sw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ar.Search_data)+"&limit="+Jr+"&offset="+e;fc&&!xw?y_(t,Gw,2,null,Ww,jw):b_(t,Gw,2,null,Ww,jw,!1)}function jw(){++Bw<Ow?(Gw+=500,Yw()):(Lw=!1,xw?(Sw=!0,Qw()):(i_=!1,Bc(),Fc(P)))}function Ww(e){var t=JSON.parse(e),n=t.streams.length;Rw=parseInt(t._total),n<Jr&&(Sw=!0);var i=xw;Nw=!(xw+=n);var a=n/Hr;0<n%Hr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Hr+_,d=document.createElement("tr"),o=0;o<Hr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,Pw[r]?o--:(Pw[r]=1,d.appendChild(Iu(s,s+"_"+o,[l.channel.name,r],Hw,[l.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Fm(l.created_at)+" "+m+Kc(l.viewers)+J,$c(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Hr;o++)Sw&&!Vw&&(Vw=!0,xw=s*Hr+o),d.appendChild(Au(Hw[9]+s+"_"+o)),Tw.push(Hw[9]+s+"_"+o);u.appendChild(d)}Qw()}function Qw(){if(Dw){if(vu(Gi),0<Tw.length&&!Sw)return Xw(),void Zw();ek(!0),Tw=[]}else Nw?Fc(d):(Dw=!0,vu(Gi),ek(),du()),Ec(Hw[10]),i_=!1,Bc();Lw=!1}function Zw(){Hc(Tw.length);var e=xw+Uw;e&&Rw-1<e&&(e=Rw-Qr,Sw=!0),v_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ar.Search_data)+"&limit="+Qr+"&offset="+e,Gw,2,null,$w,Kw)}function Kw(){++Bw<Ow?(Gw+=500,Zw()):(Sw=!0,xw-=Tw.length,Tw=[],Qw())}function $w(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Rw=parseInt(i._total),a<Qr&&(Sw=!0);o<Tw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,Pw[n]?o--:(Pw[n]=1,Su(Tw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fm(t.created_at)+" "+m+Kc(t.viewers)+J,$c(t.video_height,t.average_fps,t.channel.broadcaster_language)],Hw),d.push(o));for(o=d.length-1;-1<o;o--)Tw.splice(d[o],1);Uw+=s,Sw&&(xw-=Tw.length,Tw=[]),Qw()}function ek(e){Ru(Mw,Iw,Hw,Hr,xw,e),xw/Hr<Mw+Fr&&!Sw&&!Lw&&(Xw(),Yw()),Mr&&tk()}function tk(){xw&&Xu(Mw+"_"+Iw,Hw)}function nk(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(tk(),o_(nk)),lA();break;case Vi:if(Iw){if(tu(Mw,Iw-1,Hw[0]))tk(),Iw--,ek();else for(t=Hr-1;-1<t;t--)if(tu(Mw-1,t,Hw[0])){tk(),Mw--,Iw=t,ek();break}}else tk(),cA(nk,!0);break;case Hi:tu(Mw,Iw+1,Hw[0])?(tk(),Iw++,ek()):tu(Mw+1,0,Hw[0])&&(tk(),Mw++,Iw=0,ek());break;case Ji:if(Mw){for(t=0;t<Hr;t++)if(tu(Mw-1,Iw-t,Hw[0])){tk(),Mw--,Iw-=t,ek();break}}else tk(),o_(nk);break;case Fi:for(t=0;t<Hr;t++)if(tu(Mw+1,Iw-t,Hw[0])){tk(),Mw++,Iw-=t,ek();break}break;case Ni:case Ri:case Di:case qi:Vu(Mw+"_"+Iw,Hw,nk)}}var ik=0,ak={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:ok(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function ok(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Jm(t)),t-=900;for(e.push(Jm(0)),t=900,n=0;n<48;n++)e.push(Jm(t)),t+=900;return e}var sk=[],dk=0;function lk(){au(),Cc("label_side_panel"),Ac("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",Sk,!1),Pc("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ic("top_bar_user","icon_center_focus"),Ec("settings_scroll"),bk(ik=0),hk("content_lang",Yn,Pk)}function rk(){document.body.removeEventListener("keydown",Sk),Ec("label_side_panel"),wk(),Pc("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Sc("top_bar_user","icon_center_focus"),Ac("label_refresh","icon-refresh",t+Yt),Cc("settings_scroll")}function ck(){var e,t="";t+=uk("general",gn),e="content_lang",sk.push(e),ak[e].values=[jn],t+=fk(e,Yn,""),e="clock_offset",sk.push(e),t+=_k(e,zn),e="restor_playback",sk.push(e),ak[e].values=[T,Ht],t+=fk(e,Tn,Ln),e="videos_animation",sk.push(e),ak[e].values=[T,Ht],t+=_k(e,Un),e="clip_auto_play_next",sk.push(e),ak[e].values=[T,Ht],t+=_k(e,ri),t+=uk("play",_n),e="chat_font_size",sk.push(e),t+=fk(e,Bn,On),e="chat_brightness",sk.push(e),t+=_k(e,ii),e="force_disable_chat",sk.push(e),ak[e].values=[Ht,T],t+=fk(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",sk.push(e),t+=_k(e,mn),e="buffer_vod",sk.push(e),t+=_k(e,pn),e="buffer_clip",sk.push(e),xc("settings_main",t+=_k(e,vn)),dk=sk.length,Nk()}function uk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function _k(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function fk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function hk(e,t,n){xc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function mk(){var e="";for(e in Pc("setting_title_general",gn),Pc((e="clock_offset")+"_name",zn),Pc((e="content_lang")+"_name",Yn),Pc(e,vk(e)),ak[e].values=[jn],Pc("setting_title_play",_n),Pc("setting_title_buffers",fn),Pc("setting_title_buffers_summary",hn),Pc((e="buffer_live")+"_name",mn),Pc((e="buffer_vod")+"_name",pn),Pc((e="buffer_clip")+"_name",vn),hk(e="restor_playback",Tn,Ln),ak[e].values=[Ht,T],hk(e="chat_font_size",Bn,On),hk(e="force_disable_chat",ti,ni),ak[e].values=[Ht,T],Pc((e="videos_animation")+"_name",Un),ak[e].values=[Ht,T],Pc((e="clip_auto_play_next")+"_name",ri),ak[e].values=[T,Ht],Pc((e="chat_brightness")+"_name",ii),ak)ak.hasOwnProperty(e)&&Pc(e,vk(e));Rk()}function pk(){for(var e in ak)ak[e].defaultValue=__(e,ak[e].defaultValue),ak[e].defaultValue-=1,ak[e].defaultValue>yk(e)&&(ak[e].defaultValue=0);Ek(0),Mk(),Xf=(.05*gk("chat_brightness")).toFixed(2),jy=gk("videos_animation"),of=gk("clip_auto_play_next"),Ar.Play_ChatForceDisable=gk("force_disable_chat")}function vk(e){return ak[e].values[gk(e)]}function gk(e){return ak[e].defaultValue}function yk(e){return ak[e].values.length-1}function bk(e){var t=sk[ik];Ic(t,"settings_value_focus"),Ic(t+"_div","settings_div_focus"),Ak(e),Ik()}function wk(){var e=sk[ik];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Sc(e,"settings_value_focus"),Sc(e+"_div","settings_div_focus")}function kk(e){var t=sk[e];u_(t,gk(t)+1),Pc(t,vk(t)),Ak(e),Ck(e)}function Ak(e){var t=sk[e];if(yk(t)){var n=gk(t),i=yk(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function Ck(e){"videos_animation"===(e=sk[e])?jy=gk("videos_animation"):"clip_auto_play_next"===e?of=gk("clip_auto_play_next"):"buffer_live"===e?Ek(1):"buffer_vod"===e?Ek(2):"buffer_clip"===e?Ek(3):"chat_brightness"===e?(Xf=(.05*gk("chat_brightness")).toFixed(2),kp(!1)):"force_disable_chat"===e?Ar.Play_ChatForceDisable=gk("force_disable_chat"):"chat_font_size"===e?rm():"clock_offset"===e&&(Mk(),Ku())}function Ek(e){try{e?1===e?(th=1e3*vk("buffer_live"),fc&&Android.SetBuffer(1,th)):2===e?(wv=1e3*vk("buffer_vod"),fc&&Android.SetBuffer(2,wv)):3===e&&(Q_=1e3*vk("buffer_clip"),fc&&Android.SetBuffer(3,Q_)):(th=1e3*vk("buffer_live"),wv=1e3*vk("buffer_vod"),Q_=1e3*vk("buffer_clip"),fc&&(Android.SetBuffer(1,th),Android.SetBuffer(2,wv),Android.SetBuffer(3,Q_)))}catch(e){}}function Mk(){var e=gk("clock_offset");_c=e<48?-9e5*(48-e):9e5*(e-48)}function Ik(){var e=screen.height;4<ik?(e*=.09,e+=-1*document.getElementById(sk[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function Sk(e){var t;switch(e.keyCode){case zi:Yc()?Xc():Zc()?Qc():(rk(),ou());break;case Vi:0<gk(t=sk[ik])&&(ak[t].defaultValue-=1,kk(ik));break;case Hi:gk(t=sk[ik])<yk(t)&&(ak[t].defaultValue+=1,kk(ik));break;case Ji:0<ik&&(wk(),bk(--ik));break;case Fi:ik<dk-1&&(wk(),bk(++ik));break;case qi:ik||Ok()}}var xk=0,Pk="",Tk={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},Lk=[],Bk=0;function Ok(){au(),document.body.removeEventListener("keydown",Sk),Cc("settings_main"),Ec("settings_lang"),Wk(),Pc("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",Qk,!1),qk(xk=0),Uk()}function Gk(){document.body.removeEventListener("keydown",Qk),document.body.addEventListener("keydown",Sk,!1),Ik(),Ec("settings_main"),Cc("settings_lang"),Pc("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",zk(),Rk(),Uk()}function Uk(){""===Or&&(Pk=Wn,Tk.All.defaultValue=1,Yk(0),Ic(Lk[0],"strokedextraminired"),Wk()),hk("content_lang",Yn,Pk)}function Rk(){if(Or="",!Hk("All")){for(var e in Tk)Hk(e)&&(Or+=","+Tk[e].set_values);Or=Or.slice(1)}Pk=""===Or?Wn:Or.toUpperCase()}function Nk(){var e="";for(var t in Tk)Lk.push(t),Tk[t].values=[T,Ht],e+=Dk(t,t);xc("settings_lang",e),Bk=Lk.length}function Dk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(Hk(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+Jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Vk(){for(var e in Tk)Tk[e].defaultValue=__(e,Tk[e].defaultValue),Tk[e].defaultValue-=1;Rk()}function Jk(e){return Tk[e].values[Hk(e)]}function Hk(e){return Tk[e].defaultValue}function Fk(e){return Tk[e].values.length-1}function qk(e){var t=Lk[xk];Ic(t,"settings_value_focus"),Ic(t+"_div","settings_div_focus"),jk(e),Xk(t)}function zk(){var e=Lk[xk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Sc(e,"settings_value_focus"),Sc(e+"_div","settings_div_focus")}function Xk(){var e=screen.height;7<xk?(e*=.093,e+=-1*document.getElementById(Lk[xk-7]).offsetTop):e*=.077,xk<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function Yk(e){var t=Lk[e];u_(t,Hk(t)+1),Pc(t,Jk(t)),jk(e)}function jk(e){var t=Lk[e],n=Hk(t),i=Fk(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function Wk(){for(var e in Tk)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=Hk("All")?"none":"inline-block")}function Qk(e){var t;switch(e.keyCode){case zi:Gk();break;case Vi:0<Hk(t=Lk[xk])&&(Tk[t].defaultValue-=1,Yk(xk),Sc(Lk[xk],"strokedextraminired"),-1!==t.indexOf("All")&&Wk());break;case Hi:Hk(t=Lk[xk])<Fk(t)&&(Tk[t].defaultValue+=1,Yk(xk),Ic(Lk[xk],"strokedextraminired"),-1!==t.indexOf("All")&&Wk());break;case Ji:0<xk&&(zk(),qk(--xk));break;case Fi:!Hk("All")&&xk<Bk-1&&(zk(),qk(++xk))}}var Zk,Kk,$k=!1,eA=0,tA=0;function nA(){Ic("side_panel_"+eA,"side_panel_text_focus")}function iA(){Sc("side_panel_"+eA,"side_panel_text_focus")}function aA(){Ic(HC[2]+tA,"side_panel_feed_text_focus"),fA(),-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")&&oA()}function oA(){var e=JSON.parse(document.getElementById(HC[8]+tA).getAttribute(sc));Kk.onerror=function(){this.onerror=null,this.src=Gi},Kk.src=e[2]+hc,xc("feed_thum_name",e[3]),xc("feed_thum_quality",e[7]),xc("feed_thum_title",e[4]),xc("feed_thum_game",e[5]),xc("feed_thum_views",e[6]),Ec("side_panel_feed_thumb")}function sA(){Sc(HC[2]+tA,"side_panel_feed_text_focus")}function dA(){eA?1===eA?jc():2===eA?(document.body.addEventListener("keydown",Zk,!1),zc()):3===eA?(document.body.addEventListener("keydown",Zk,!1),Wc()):4===eA?Uc(Zk):5===eA?rA(er):6===eA?rA(wo()?fr:tr):7===eA?rA(br):8===eA?rA(nr):9===eA?rA(pr):10===eA&&rA(vr):Ar.Main_Go!==dr?(Ar.Search_isSearching||Ar.Main_Go!==cr&&Ar.Main_Go!==_r&&Ar.Main_Go!==ur||ms(),Ar.Search_isSearching||(Ar.Main_BeforeSearch=Ar.Main_Go),ru(Ar.Main_Go),Ar.Main_Go=dr,ou()):document.body.addEventListener("keydown",Zk,!1),_A()}function lA(){$k&&($k=!1,su())}function rA(e){e===Ar.Main_Go?document.body.addEventListener("keydown",Zk,!1):(Ar.Main_Before=Ar.Main_Go,Ar.Main_Go=e,ru(Ar.Main_Before),ou())}function cA(e,t){Sc("side_panel","side_panel_hide"),Zk=e,$k=t,document.body.removeEventListener("keydown",Zk),uA()}function uA(){var e=mo();e&&($f!==Ka[Ar.Users_Position].name&&(NC=!1),$f=Ka[Ar.Users_Position].name),e&&fE(0,JC[0])||(NC=!1),NC||SC||FC(),e?Mc("side_panel_feed_holder")?(document.body.addEventListener("keydown",hA,!1),null!==document.getElementById(HC[2]+tA)&&aA()):document.body.addEventListener("keydown",mA,!1):(Cc("side_panel_feed_holder"),Ec("side_panel_etc"),document.body.addEventListener("keydown",mA,!1))}function _A(){document.body.removeEventListener("keydown",hA),document.body.removeEventListener("keydown",mA),Ic("side_panel","side_panel_hide"),Cc("side_panel_feed_thumb"),iA(),eA=0,nA()}function fA(){if(4<tA){if(tA<BC-6){var e=-1*document.getElementById(HC[8]+(tA-4)).offsetTop;e+=document.getElementById(HC[8]+0).offsetTop,document.getElementById("side_panel_feed_scroll").style.marginTop=e+"px"}}else document.getElementById("side_panel_feed_scroll").style.marginTop=0}function hA(e){switch(e.keyCode){case zi:_A(),$k?($k=!1,su()):(document.body.addEventListener("keydown",Zk,!1),d_());break;case Vi:document.body.removeEventListener("keydown",hA),document.body.addEventListener("keydown",mA,!1),Cc("side_panel_feed_thumb"),Cc("side_panel_feed_holder"),Ec("side_panel_etc");break;case Hi:lE();break;case Ji:tA&&!SC&&(sA(),tA--,aA());break;case Fi:tA<BC-1&&!SC&&(sA(),tA++,aA());break;case qi:_A(),Ar.Play_isHost=!1,em=!0,Wu(function(){Vu(tA,HC,hA)})}}function mA(e){switch(e.keyCode){case zi:case Vi:_A(),$k?($k=!1,su()):(document.body.addEventListener("keydown",Zk,!1),d_());break;case Hi:mo()?(document.body.removeEventListener("keydown",mA),document.body.addEventListener("keydown",hA,!1),Cc("side_panel_etc"),Ec("side_panel_feed_holder"),Ec("side_panel_feed_thumb")):(Fc(hi),window.setTimeout(qc,2e3));break;case Ji:eA&&(iA(),eA--,nA());break;case Fi:eA<10&&(iA(),eA++,nA());break;case qi:dA()}}var pA=0,vA=0,gA=!1,yA=0,bA=!1,wA=0,kA=5,AA=3500,CA=[],EA=0,MA=0,IA=!1,SA=!1,xA="",PA=!1,TA={},LA=[],BA=0,OA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function GA(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=hr,Ar.isLastSChannels=!1,Ac("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user","icon_center_focus"),xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+K)),document.body.addEventListener("keydown",WA,!1),xA!==Ka[Ar.Users_Position].name&&(SA=!1),SA?(bu(pA),Ec(OA[6]),YA(),du()):RA()}function UA(){Ar.Users_Position=0,Sc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",WA),Pc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn),Cc(OA[6])}function RA(){pu("stream_table_user_channels"),Cc(OA[6]),Lc(),qc(),xA=Ka[Ar.Users_Position].name,SA=!1,TA={},pA=vA=yA=BA=EA=MA=0,i_=!(PA=gA=!(LA=[])),Dc(),CA=[],NA(),DA()}function NA(){gu(),bA=!0,wA=0,AA=3500}function DA(){var e=yA+MA;e&&BA-1<e&&(e=BA-Yr,gA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ar.Users_Position].id)+"/follows/channels?limit="+Yr+"&offset="+e+"&sortby=login&direction=asc";fc&&!yA?y_(t,AA,2,null,JA,VA):b_(t,AA,2,null,JA,VA,!1)}function VA(){++wA<kA?(AA+=500,DA()):(bA=!1,yA?(gA=!0,FA()):(i_=!1,Bc(),Fc(P),o_(WA)))}function JA(e){var t=JSON.parse(e),n=t.follows.length;BA=parseInt(t._total),n<Yr&&(gA=!0);var i=yA;IA=!(yA+=n);var a=n/jr;0<n%jr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/jr+_,d=document.createElement("tr"),o=0;o<jr&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,TA[r]?o--:(TA[r]=1,d.appendChild(HA(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<jr;o++)gA&&!PA&&(PA=!0,yA=s*jr+o),d.appendChild(Au(OA[5]+s+"_"+o)),LA.push(OA[5]+s+"_"+o);u.appendChild(d)}FA()}function HA(e,t,n){return e<4&&ku(n[2]),Cu(t,OA,n)}function FA(){if(SA){if(vu(Oi),0<LA.length&&!gA)return NA(),void qA();YA(!0),LA=[]}else IA?(Fc(T+K),o_(WA)):(SA=!0,vu(Oi),YA(),du()),Ec(OA[6]),i_=!1,Bc();bA=!1}function qA(){Hc(LA.length);var e=yA+MA;e&&BA-1<e&&(e=BA-Qr,gA=!0),v_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ar.Users_Position].id)+"/follows/channels?limit="+Qr+"&offset="+EA+"&sortby=login&direction=asc",AA,2,null,XA,zA)}function zA(){++wA<kA?(AA+=500,qA()):(gA=!0,yA-=LA.length,LA=[],FA())}function XA(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(BA=parseInt(i._total),a<Qr&&(gA=!0);o<LA.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,TA[n]?o--:(TA[n]=1,Eu(LA[o],[t.name,n,t.logo,t.display_name],OA),d.push(o));for(o=d.length-1;-1<o;o--)LA.splice(d[o],1);MA+=s,gA&&(yA-=LA.length,LA=[]),FA()}function YA(e){Uu(pA,vA,OA,jr,yA,e),yA/jr<pA+Wr&&!gA&&!bA&&(NA(),DA()),Mr&&jA()}function jA(){yA&&Xu(pA+"_"+vA,OA)}function WA(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(jA(),o_(WA)),lA();break;case Vi:if(vA){if(tu(pA,vA-1,OA[0]))jA(),vA--,YA();else for(t=jr-1;-1<t;t--)if(tu(pA-1,t,OA[0])){jA(),pA--,vA=t,YA();break}}else jA(),cA(WA,!0);break;case Hi:tu(pA,vA+1,OA[0])?(jA(),vA++,YA()):tu(pA+1,0,OA[0])&&(jA(),pA++,vA=0,YA());break;case Ji:if(pA){for(t=0;t<jr;t++)if(tu(pA-1,vA-t,OA[0])){jA(),pA--,vA-=t,YA();break}}else jA(),o_(WA);break;case Fi:for(t=0;t<jr;t++)if(tu(pA+1,vA-t,OA[0])){jA(),pA++,vA-=t,YA();break}break;case Ni:case Ri:case Di:case qi:if(Du(pA+"_"+vA,OA[0]))return;Ar.Main_selectedChannel=document.getElementById(OA[4]+pA+"_"+vA).getAttribute(sc),Ar.Main_selectedChannel_id=document.getElementById(OA[4]+pA+"_"+vA).getAttribute("data-id"),Ar.Main_selectedChannelDisplayname=document.getElementById(OA[3]+pA+"_"+vA).textContent,Ar.Main_selectedChannelLogo=document.getElementById(OA[1]+pA+"_"+vA).src,document.body.removeEventListener("keydown",WA),Ar.Main_BeforeChannel=hr,Ar.Main_Go=cr,Ar.Main_BeforeChannelisSet=!0,Lo=ea=!0,Cc(OA[6]),ou()}}var QA=0,ZA=0,KA=!1,$A=0,eC={},tC=[],nC=!1,iC=0,aC=5,oC=3500,sC=0,dC=0,lC=!1,rC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],cC=!1,uC="",_C=!1;function fC(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=or,Ac("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user","icon_center_focus"),xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+Q)),document.body.addEventListener("keydown",MC,!1),uC!==Ka[Ar.Users_Position].name&&(cC=!1),cC?(bu(QA),Ec(rC[10]),CC(),du()):mC()}function hC(){Ar.Users_Position=0,Sc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",MC),Pc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn),Cc(rC[10])}function mC(){pu("stream_table_user_host"),Cc(rC[10]),Lc(),qc(),uC=Ka[Ar.Users_Position].name,cC=!1,eC={},i_=!($A=dC=sC=0),QA=ZA=0,KA=_C=!(tC=[]),Dc(),pC(),vC()}function pC(){gu(),nC=!0,iC=0,oC=3500}function vC(){var e=$A+sC;e&&dC-1<e&&(e=dC-Jr,KA=!0),g_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[Ar.Users_Position].name)+"/followed/hosting?limit="+Jr+"&offset="+e,oC,2,null,yC,gC,!1,!$A)}function gC(){++iC<aC?(oC+=500,vC()):(nC=!1,$A?(KA=!0,bC()):(i_=!1,Bc(),Fc(P),o_(MC)))}function yC(e){var t=JSON.parse(e),n=t.hosts.length;dC=parseInt(t._total),n<Jr&&(KA=!0);var i=$A;lC=!($A+=n);var a=n/Hr;0<n%Hr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Hr+_,d=document.createElement("tr"),o=0;o<Hr&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,eC[r]?o--:(eC[r]=1,d.appendChild(Iu(s,s+"_"+o,[l.target.channel.name,l.target._id],rC,[l.target.preview_urls.template.replace("{width}x{height}",ic),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Kc(l.target.viewers)+J,""])));for(;o<Hr;o++)KA&&!_C&&(_C=!0,$A=s*Hr+o),d.appendChild(Au(rC[9]+s+"_"+o)),tC.push(rC[9]+s+"_"+o);u.appendChild(d)}bC()}function bC(){if(cC){if(vu(Gi),0<tC.length&&!KA)return pC(),void wC();CC(!0),tC=[]}else lC?(Fc(T+Q),o_(MC)):(cC=!0,CC(),vu(Gi),du()),Ec(rC[10]),i_=!1,Bc();nC=!1}function wC(){Hc(tC.length);var e=$A+sC;e&&dC-1<e&&(e=dC-Qr,KA=!0),v_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[Ar.Users_Position].name)+"/followed/hosting?limit="+Qr+"&offset="+e,oC,2,null,AC,kC)}function kC(){++iC<aC?(oC+=500,wC()):(KA=!0,$A-=tC.length,tC=[],bC())}function AC(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(dC=parseInt(i._total),a<Qr&&(KA=!0);o<tC.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,eC[n]?o--:(eC[n]=1,Su(tC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",ic),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Kc(t.target.viewers)+J,""],rC),d.push(o));for(o=d.length-1;-1<o;o--)tC.splice(d[o],1);sC+=s,KA&&($A-=tC.length,tC=[]),bC()}function CC(e){Ru(QA,ZA,rC,Hr,$A,e),$A/Hr<QA+Fr&&!KA&&!nC&&(pC(),vC()),Mr&&EC()}function EC(){$A&&Xu(QA+"_"+ZA,rC)}function MC(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(EC(),o_(MC)),lA();break;case Vi:if(ZA){if(tu(QA,ZA-1,rC[0]))EC(),ZA--,CC();else for(t=Hr-1;-1<t;t--)if(tu(QA-1,t,rC[0])){EC(),QA--,ZA=t,CC();break}}else EC(),cA(MC,!0);break;case Hi:tu(QA,ZA+1,rC[0])?(EC(),ZA++,CC()):tu(QA+1,0,rC[0])&&(EC(),QA++,ZA=0,CC());break;case Ji:if(QA){for(t=0;t<Hr;t++)if(tu(QA-1,ZA-t,rC[0])){EC(),QA--,ZA-=t,CC();break}}else EC(),o_(MC);break;case Fi:for(t=0;t<Hr;t++)if(tu(QA+1,ZA-t,rC[0])){EC(),QA++,ZA-=t,CC();break}break;case Ni:case Ri:case Di:case qi:Vu(QA+"_"+ZA,rC,MC)}}var IC,SC=!1,xC=0,PC=3500,TC=0,LC=5,BC=0,OC=!1,GC="",UC=0,RC={},NC=!1,DC=null,VC=null,JC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],HC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function FC(){mo()&&(sE(),NC?fE(eh,JC[0])&&(DC=JSON.parse(document.getElementById(JC[8]+eh).getAttribute(sc))[0]):DC=null,pu("user_feed_scroll"),Cc("side_panel_feed_thumb"),tA=0,pu("side_panel_feed_scroll"),NC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Ec("dialog_loading_feed"),Ec("dialog_loading_side_feed"),GC="",eh=UC=BC=TC=0,RC={},Wu(function(){zC(),qC()}))}function qC(){(VC=Ka[Ar.Users_Position].access_token)?(VC=tc+VC,WC()):(zC(),VC=null,XC())}function zC(){SC=!0,xC=0,PC=3500}function XC(){b_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ar.Users_Position].id)+"/follows/channels?limit=100&offset="+TC+"&sortby=created_at",PC,2,null,jC,YC,!1)}function YC(){++xC<LC?(PC+=500,XC()):(SC=!1,BC?(OC=!0,$C()):(Cc("dialog_loading_feed"),Cc("dialog_loading_side_feed"),nE()&&(Km(P),window.setTimeout(function(){$m()},2e3))))}function jC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===GC.indexOf(i)&&(GC+=i);TC+=n,zC(),XC()}else GC=GC.slice(0,-1),zC(),Wu(WC)}function WC(){var e="https://api.twitch.tv/kraken/streams/";e+=VC?"followed?":"?channel="+encodeURIComponent(GC)+"&",QC(e+="limit=100&offset=0&stream_type=all")}function QC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=PC,t.setRequestHeader(Kr,Zr),t.setRequestHeader($r,nc),VC&&t.setRequestHeader(ec,VC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?KC(t.responseText):!VC||401!==t.status&&403!==t.status?ZC():la(Ar.Users_Position,0,qC,qC))},t.send(null)}function ZC(){++xC<LC?(PC+=500,WC()):(SC=!1,Cc("dialog_loading_feed"),Cc("dialog_loading_side_feed"),nE()&&(Km(P),window.setTimeout(function(){$m()},2e3)))}function KC(e){var t=JSON.parse(e),n=t.streams.length;n<Jr&&(OC=!0),BC+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,RC[a]||(RC[a]=1,null!==DC&&DC===i.channel.name&&(eh=d),o.appendChild(eE(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),s.appendChild(tE(d,[i.channel.name,a,i.preview.template.replace("{width}x{height}","800x450"),eu(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+Fm(i.created_at)+" "+m+Kc(i.viewers)+J,$c(i.video_height,i.average_fps,i.channel.broadcaster_language)],[i.channel.logo,eu(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,Kc(i.viewers)])));$C()}function $C(){NC=!(SC=!1),Wu(function(){Cc("dialog_loading_feed"),Cc("dialog_loading_side_feed"),rE(),aA()})}function eE(e,t,n){return(Lr=document.createElement("div")).setAttribute("id",JC[8]+e),Lr.setAttribute(sc,JSON.stringify(t)),Lr.className="user_feed_thumb",Lr.innerHTML='<div id="'+JC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+JC[1]+e+'" class="stream_img" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+JC[2]+e+'" class="stream_text2"><div id="'+JC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+JC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",Lr}function tE(e,t,n){return(Lr=document.createElement("div")).setAttribute("id",HC[8]+e),Lr.setAttribute(sc,JSON.stringify(t)),Lr.className="side_panel_feed",Lr.innerHTML='<div id="'+HC[0]+e+'"><img id="'+HC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"><div id="'+HC[2]+e+'" class="side_panel_feed_text"><div id="'+HC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+HC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+HC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",Lr}function nE(){return Mc("user_feed")}function iE(){var e=mo();e&&($f!==Ka[Ar.Users_Position].name&&(NC=!1),$f=Ka[Ar.Users_Position].name),e&&fE(0,JC[0])||(NC=!1),NC||SC||FC(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Ec("user_feed"),rE())}function aE(){Cc("user_feed")}function oE(){sE(),dE()}function sE(){window.clearTimeout(IC)}function dE(){nE()&&(IC=window.setTimeout(aE,5500))}function lE(){sE(),SC?window.setTimeout(function(){SC=!1},15e3):FC()}function rE(){oE(),fE(eh,JC[0])&&(Ic(JC[0]+eh,"feed_thumbnail_focused"),nE()?uE():Mc("scene2")&&_E())}function cE(){return eh<3?2.5:fE(eh+2,JC[0])?-1*document.getElementById(JC[8]+(eh-2)).offsetLeft:fE(eh+1,JC[0])?-1*document.getElementById(JC[8]+(eh-3)).offsetLeft:-1*document.getElementById(JC[8]+(eh-(3<eh?4:3))).offsetLeft}function uE(){var e=cE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function _E(){document.getElementById("user_feed").style.bottom="-1000%",Ec("user_feed");var e=uE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Cc("user_feed")}function fE(e,t){return null!==document.getElementById(t+e)}function hE(){fE(eh,JC[0])&&Sc(JC[0]+eh,"feed_thumbnail_focused")}var mE=0,pE=0,vE=!1,gE=0,yE={},bE=[],wE=!1,kE=0,AE=5,CE=3500,EE=0,ME=0,IE=0,SE=!1,xE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],PE=!1,TE="",LE="",BE=!1,OE=null;function GE(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=ar,Ac("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user","icon_center_focus"),xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+W)),document.body.addEventListener("keydown",$E,!1),LE!==Ka[Ar.Users_Position].name&&(PE=!1),PE?(bu(mE),Ec(xE[10]),ZE(),du()):RE()}function UE(){Ar.Users_Position=0,Sc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",$E),Pc("top_bar_user",_),Ac("label_side_panel","icon-ellipsis",Rn),Cc(xE[10])}function RE(){pu("stream_table_user_live"),Cc(xE[10]),Lc(),qc(),PE=!1,LE=Ka[Ar.Users_Position].name,i_=!(BE=!(bE=[])),mE=pE=gE=ME=EE=IE=0,vE=!(yE={}),TE="",Dc(),DE(),NE()}function NE(){(OE=Ka[Ar.Users_Position].access_token)?(OE=tc+OE,FE()):(OE=null,DE(),VE())}function DE(){gu(),wE=!0,kE=0,CE=3500}function VE(){v_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ar.Users_Position].id)+"/follows/channels?limit=100&offset="+IE+"&sortby=created_at",CE,2,null,HE,JE)}function JE(){++kE<AE?(CE+=500,VE()):(wE=!1,gE?(vE=!0,YE()):(i_=!1,Bc(),Fc(P),o_($E)))}function HE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===TE.indexOf(i)&&(TE+=i);IE+=n,DE(),VE()}else TE=TE.slice(0,-1),DE(),FE()}function FE(){var e=gE+EE;e&&ME-1<e&&(e=ME-Jr,vE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=OE?"followed?":"?channel="+encodeURIComponent(TE)+"&",qE(t+="limit="+Jr+"&offset="+e+"&stream_type=all",XE,zE,NE)}function qE(e,t,n,i){var a;if(fc&&!gE){if(!(a=Android.mreadUrl(e,CE,OE?3:2,OE)))return void ZM();200===(a=JSON.parse(a)).status?t(a.responseText):!OE||401!==a.status&&403!==a.status?n():la(Ar.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=CE,a.setRequestHeader(Kr,Zr),a.setRequestHeader($r,nc),OE&&a.setRequestHeader(ec,OE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!OE||401!==a.status&&403!==a.status?n():la(Ar.Users_Position,0,i,i))},a.send(null)}function zE(){++kE<AE?(CE+=500,FE()):(wE=!1,gE?(vE=!0,YE()):(i_=!1,Bc(),Fc(P),o_($E)))}function XE(e){var t=JSON.parse(e),n=t.streams.length;ME=parseInt(t._total),n<Jr&&(vE=!0);var i=gE;SE=!(gE+=n);var a=n/Hr;0<n%Hr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Hr+_,d=document.createElement("tr"),o=0;o<Hr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,yE[r]?o--:(yE[r]=1,d.appendChild(Iu(s,s+"_"+o,[l.channel.name,r],xE,[l.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Fm(l.created_at)+" "+m+Kc(l.viewers)+J,$c(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Hr;o++)vE&&!BE&&(BE=!0,gE=s*Hr+o),d.appendChild(Au(xE[9]+s+"_"+o)),bE.push(xE[9]+s+"_"+o);u.appendChild(d)}YE()}function YE(){if(PE){if(vu(Gi),0<bE.length&&!vE)return DE(),void jE();ZE(!0),bE=[]}else SE?(o_($E),Fc(T+W)):(PE=!0,ZE(),vu(Gi),du()),Ec(xE[10]),i_=!1,Bc();wE=!1}function jE(){Hc(bE.length);var e=gE+EE;e&&ME-1<e&&(e=ME-Qr,vE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=OE?"followed?":"?channel="+encodeURIComponent(TE)+"&",qE(t+="followed?limit=limit="+Qr+"&offset="+e+"&stream_type=all",QE,WE,jE)}function WE(){++kE<AE?(CE+=500,jE()):(vE=!0,gE-=bE.length,bE=[],YE())}function QE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(ME=parseInt(i._total),a<Qr&&(vE=!0);o<bE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,yE[n]?o--:(yE[n]=1,Su(bE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ic),eu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fm(t.created_at)+" "+m+Kc(t.viewers)+J,$c(t.video_height,t.average_fps,t.channel.broadcaster_language)],xE),d.push(o));for(o=d.length-1;-1<o;o--)bE.splice(d[o],1);EE+=s,vE&&(gE-=bE.length,bE=[]),YE()}function ZE(e){Ru(mE,pE,xE,Hr,gE,e),gE/Hr<mE+Fr&&!vE&&!wE&&(DE(),VE()),Mr&&KE()}function KE(){gE&&Xu(mE+"_"+pE,xE)}function $E(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zc()?Qc():Yc()?Xc():(KE(),o_($E)),lA();break;case Vi:if(pE){if(tu(mE,pE-1,xE[0]))KE(),pE--,ZE();else for(t=Hr-1;-1<t;t--)if(tu(mE-1,t,xE[0])){KE(),mE--,pE=t,ZE();break}}else KE(),cA($E,!0);break;case Hi:tu(mE,pE+1,xE[0])?(KE(),pE++,ZE()):tu(mE+1,0,xE[0])&&(KE(),mE++,pE=0,ZE());break;case Ji:if(mE){for(t=0;t<Hr;t++)if(tu(mE-1,pE-t,xE[0])){KE(),mE--,pE-=t,ZE();break}}else KE(),o_($E);break;case Fi:for(t=0;t<Hr;t++)if(tu(mE+1,pE-t,xE[0])){KE(),mE++,pE-=t,ZE();break}break;case Ni:case Ri:case Di:case qi:Vu(mE+"_"+pE,xE,$E)}}var eM=0,tM=0,nM=8,iM=0,aM=null,oM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],sM=!1,dM=!0;function lM(){return Sr?(rM(),void da(Sr)):wo()?(Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=fr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",qc(),Ic("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",CM,!1),void(sM?(bu(eM),Ec(oM[5]),mM(),du()):cM())):(Ar.Main_Go=er,rM(),void ou())}function rM(){Ar.Users_Position=0,Sc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",CM),Cc(oM[5]),document.getElementById("screens_holder").style.top="0"}function cM(){pu("stream_table_user"),Cc(oM[5]),Lc(),qc(),i_=!(sM=!1),dM=!(eM=tM=0),Wu(function(){uM()})}function uM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<Ka.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Lr=document.createElement("tr")).className="follower_header",Lr.innerHTML='<div class="follower_header">'+(o?"":oe)+Ka[o].name+R+"</div>",a.appendChild(i),a.appendChild(Lr),(e=document.createElement("tr")).appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,Gy.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(_M(o+"_"+t,Ar.Main_selectedChannelDisplayname,Ka[o].access_token?wt:bt,"key",n)),a.appendChild(e);fM()}function _M(e,t,n,i,a){return(Lr=document.createElement("td")).setAttribute("id",oM[4]+e),Lr.setAttribute(sc,t),Lr.className="stream_cell",Lr.innerHTML='<div id="'+oM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+oM[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+oM[2]+e+'" class="stream_text"><div id="'+oM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Lr}function fM(){Wu(function(){sM||(sM=!0,mM(),Bc(),du()),Ec(oM[5]),dM=i_=!1})}function hM(){for(var e=0;e<Ka.length;e++)Pc(oM[3]+e+"_2",Gy.isLive?Z:zt)}function mM(){Ic(oM[0]+eM+"_"+tM,"stream_thumbnail_focused"),wu(eM)?1<eM?tu(eM+1,0,oM[0])&&zu(oM[5],-1*document.getElementById(oM[4]+eM+"_"+tM).offsetTop+.42*screen.height):zu(oM[5],screen.height/100*7):Lu(),Mr&&pM()}function pM(){Er=!1,Sc(oM[0]+eM+"_"+tM,"stream_thumbnail_focused")}function vM(){return Ar.Users_Position=eM,3!==tM||Ka[Ar.Users_Position].access_token?7===tM&&Ka[Ar.Users_Position].access_token?(Fc(wt),void window.setTimeout(qc,1500)):(6!==tM&&7!==tM&&(Cc(oM[5]),document.body.removeEventListener("keydown",CM),document.getElementById("screens_holder").style.top="0"),void Wu(function(){tM?1===tM?fC():2===tM?(Wg=Gy,ey()):3===tM?zM():4===tM?GA():5===tM?eM?yo(eM):(Ar.Main_Before=fr,no()):6===tM?bM():7!==tM||Ka[Ar.Users_Position].access_token||bM():GE()})):(Fc(In),void window.setTimeout(qc,5e3))}function gM(){window.clearTimeout(aM)}function yM(){aM=window.setTimeout(wM,2e4)}function bM(){yM(),6===tM?xc("main_dialog_remove",Ft+pi+Ka[Ar.Users_Position].name+"?"):7===tM&&xc("main_dialog_remove",ft+" "+Ka[Ar.Users_Position].name+"?"),Ec("main_remove_dialog")}function wM(){gM(),Cc("main_remove_dialog"),iM=0,AM()}function kM(){return Mc("main_remove_dialog")}function AM(){iM?(Sc("remove_cancel","button_search_focused"),Ic("remove_yes","button_search_focused")):(Ic("remove_cancel","button_search_focused"),Sc("remove_yes","button_search_focused"))}function CM(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:kM()?wM():Yc()?Xc():Zc()?Qc():(pM(),o_(CM)),lA();break;case Vi:if(kM())--iM<0&&(iM=1),AM(),gM(),yM();else if(tM)if(tu(eM,tM-1,oM[0]))pM(),tM--,mM();else if(tu(eM-1,0,oM[0])){for(t=nM-1;-1<t;t--)if(tu(eM-1,t,oM[0])){pM(),eM--,tM=t,mM();break}}else pM(),tM=nM-1,mM();else pM(),cA(CM,!0);break;case Hi:kM()?(1<++iM&&(iM=0),AM(),gM(),yM()):(tu(eM,tM+1,oM[0])?(pM(),tM++):(tu(eM+1,0,oM[0])?(pM(),eM++):pM(),tM=0),mM());break;case Ji:if(eM){for(t=0;t<nM;t++)if(tu(eM-1,tM-t,oM[0])){pM(),eM--,tM-=t,mM();break}}else pM(),o_(CM);break;case Fi:for(t=0;t<nM;t++)if(tu(eM+1,tM-t,oM[0])){pM(),eM++,tM-=t,mM();break}break;case Ni:case Ri:case Di:case qi:var n;if(kM()){if(6===tM)n=iM,wM(),n&&(document.body.removeEventListener("keydown",CM),rM(),vo(eM));else if(n=iM,wM(),n){Ar.Users_AddcodePosition=Ar.Users_Position,du();var i=aa,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Zr)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else vM()}}var EM=0,MM=0,IM=!1,SM=0,xM={},PM=[],TM=!1,LM=0,BM=5,OM=3500,GM=0,UM=0,RM=!1,NM=!1,DM="time",VM=2,JM=!1,HM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],FM=!1,qM=!1;function zM(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=wr,Ic("top_bar_user","icon_center_focus"),Ac("label_side_panel","icon-arrow-circle-left",I),xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+(qM?G:O))),document.body.addEventListener("keydown",rI,!1),FM?(bu(EM),Ec(HM[10]),cI(),oI(),du()):YM()}function XM(){Ar.Users_Position=0,FM&&sI(),Sc("top_bar_user","icon_center_focus"),Ac("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",rI),Pc("top_bar_user",_),Cc(HM[10])}function YM(){FM&&sI(),pu("stream_table_user_vod"),Cc(HM[10]),Lc(),cI(),qc(),JM=FM=!1,i_=!(NM=!(PM=[])),EM=MM=SM=UM=GM=0,IM=!(xM={}),Dc(),WM()}function jM(){gu(),TM=!0,LM=0,OM=3500}function WM(){jM(),QM()}function QM(){var e=SM+GM;e&&UM-1<e&&(e=UM-Jr,IM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Jr+"&broadcast_type="+(qM?"highlight":"archive")+"&sort="+DM+"&offset="+e;if(fc&&!SM){if(!(t=Android.mreadUrl(n,OM,3,tc+Ka[Ar.Users_Position].access_token)))return void ZM();200===(t=JSON.parse(t)).status?$M(t.responseText):401===t.status||403===t.status?la(Ar.Users_Position,0,WM,KM):ZM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=OM,t.setRequestHeader($r,nc),t.setRequestHeader(Kr,Zr),t.setRequestHeader(ec,tc+Ka[Ar.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?$M(t.responseText):401===t.status||403===t.status?la(Ar.Users_Position,0,WM,KM):ZM())},t.send(null)}function ZM(){++LM<BM?(OM+=500,QM()):KM()}function KM(){TM=!1,SM?(IM=!0,eI()):(i_=!1,Bc(),Fc(P),o_(MC),Ka[Ar.Users_Position].access_token||(XM(),Ar.Main_Go=fr,XM(),s_(),su()))}function $M(e){var t=JSON.parse(e),n=t.videos.length;UM=parseInt(t._total),n<Jr&&(IM=!0);var i=SM;RM=!(SM+=n);var a=n/Hr;0<n%Hr&&a++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!JM){var _;for(JM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Pi+Pi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p,(Lr=document.createElement("td")).setAttribute("id",HM[8]+"y_"+f),Lr.className="stream_cell",Lr.innerHTML='<div id="'+HM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+HM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Lr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Hr+f,d=document.createElement("tr"),o=0;o<Hr&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||xM[r]?o--:(xM[r]=1,d.appendChild(fI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ic),l.channel.display_name,N+fu(l.created_at),MI.parse(l.title)+pi+Qt+v+l.game,Kc(l.views)+V,$c(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Jm(l.length),l.animated_preview_url],HM)));for(;o<Hr;o++)IM&&!NM&&(NM=!0,SM=s*Hr+o),d.appendChild(Au(HM[9]+s+"_"+o)),PM.push(HM[9]+s+"_"+o);u.appendChild(d)}eI()}function eI(){FM?(vu(Gi),oI(!0)):(RM?(Fc(T+(qM?G:O)+L+M),o_(rI)):(FM=!0,oI(),vu(Gi),du()),Ec(HM[10]),i_=!1,Bc()),0<PM.length&&!IM?tI():TM=!(PM=[])}function tI(){jM(),nI()}function nI(){Hc(PM.length);var e=SM+GM;e&&UM-1<e&&(e=UM-Qr,IM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Qr+"&broadcast_type="+(qM?"highlight":"archive")+"&sort="+DM+"&offset="+e;if(fc){if(!(t=Android.mreadUrl(n,OM,3,tc+Ka[Ar.Users_Position].access_token)))return void iI();if(200===(t=JSON.parse(t)).status)return void aI(t.responseText);401===t.status||403===t.status?la(Ar.Users_Position,0,WM,KM):iI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=OM,t.setRequestHeader($r,nc),t.setRequestHeader(Kr,Zr),t.setRequestHeader(ec,tc+Ka[Ar.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void aI(t.responseText);401===t.status||403===t.status?la(Ar.Users_Position,0,WM,KM):iI()}},t.send(null)}function iI(){++LM<BM?(OM+=500,nI()):(IM=!0,SM-=PM.length,PM=[],eI())}function aI(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(UM=parseInt(i._total);o<PM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||xM[n]?o--:(xM[n]=1,mI(PM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ic),t.channel.display_name,N+fu(t.created_at),MI.parse(t.title)+pi+Qt+v+t.game,Kc(t.views)+V,$c(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Jm(t.length),t.animated_preview_url],HM),d.push(o));for(o=d.length-1;-1<o;o--)PM.splice(d[o],1);GM+=s,IM&&(SM-=PM.length,PM=[]),eI()}function oI(e){EM<0?dI():(Ru(EM,MM,HM,Hr,SM,e),vI(HM,EM+"_"+MM),SM/Hr<EM+Fr&&!IM&&!TM&&WM(),Mr&&sI())}function sI(){window.clearInterval(uI),-1<EM&&SM?(Ec(HM[1]+EM+"_"+MM),Xu(EM+"_"+MM,HM)):lI()}function dI(){var e=1<MM?1:MM;Ic(HM[0]+"y_"+e,oc)}function lI(){var e=1<MM?1:MM;Sc(HM[0]+"y_"+e,oc)}function rI(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Yc()?Xc():Yc()?Xc():Zc()?Qc():(sI(),o_(rI)),lA();break;case Vi:if(MM)if(-1===EM)lI(),--MM<0&&(MM=1),dI();else if(EM||MM){if(tu(EM,MM-1,HM[0]))sI(),MM--,oI();else for(t=Hr-1;-1<t;t--)if(tu(EM-1,t,HM[0])){sI(),EM--,MM=t,oI();break}}else sI(),lI(),EM=-1,MM=1,dI();else-1===EM?(EM=0,lI()):sI(),cA(rI,!0);break;case Hi:-1===EM?(lI(),1<++MM?(MM=0,RM?dI():(EM=0,oI())):dI()):tu(EM,MM+1,HM[0])?(sI(),MM++,oI()):tu(EM+1,0,HM[0])&&(sI(),EM++,MM=0,oI());break;case Ji:if(-1===EM)sI(),o_(rI),EM=0;else if(EM){for(t=0;t<Hr;t++)if(tu(EM-1,MM-t,HM[0])){sI(),EM--,MM-=t,oI();break}}else sI(),EM=-1,dI();break;case Fi:if(-1!==EM||RM){for(t=0;t<Hr;t++)if(tu(EM+1,MM-t,HM[0])){sI(),EM++,MM-=t,oI();break}}else EM=0,lI(),oI();break;case Ni:case Ri:case Di:case qi:-1===EM?(0===MM?u_("UserVod_highlight",(qM=!qM)?"true":"false"):1===VM?VM++:VM--,YM()):Fu(EM+"_"+MM,HM,rI)}}function cI(){1===VM?(xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+" "+(qM?G:O)+En)),DM="time"):2===VM&&(xc("top_bar_user",_+_u(Ka[Ar.Users_Position].name+" "+(qM?G:O)+Mn)),DM="views"),u_("UserVod_TypeNumber",VM)}var uI,_I=new Image;function fI(e,t,n,i,a){return e<Hr&&ku(i[0]),hI(n,t,i,a)}function hI(e,t,n,i){return(Lr=document.createElement("td")).setAttribute("id",i[8]+t),Lr.setAttribute(sc,JSON.stringify(e)),Lr.className="stream_cell",Lr.innerHTML=pI(t,n,i),Lr}function mI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(sc,JSON.stringify(t)),a.innerHTML=pI(o,n,i),a.setAttribute("id",i[8]+o)}function pI(e,t,n){return yu(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function vI(t,n){if(window.clearInterval(uI),jy){var i=document.getElementById(t[0]+n);_I.onload=function(){this.onload=null,Cc(t[1]+n),i.style.backgroundSize="612px";var e=0;uI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},_I.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function gI(e,t){return e.replace(t.code,yI(t))}function yI(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function bI(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function wI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=yd[i]||yd[e];e=a?gI(e,a):wI(e),t[n]=e}return t.join(" ")}function AI(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([bI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function CI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function EI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+c((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;i+=g)e=b(e/r);return b(i+(r+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,r,c,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&k("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&k("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&k("overflow"),h+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&k("overflow"),s*=c;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&k("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,r,c,u,_,f,h,m,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)m=l-c,h=g-c,p.push(w(E(c+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=i,i=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var MI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();