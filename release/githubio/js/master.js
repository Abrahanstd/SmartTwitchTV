var t,n,a,e,i,o,s,d,l,c,p,m,r,u,_,f,v,h,g,y,b,w,k,C,A,M,E,I,S,P,x,L,T,B,O,G,U,R,N,F,V,D,J,H,q,z,X,j,W,Y,Z,Q,K,$,ee,te,ne,ae,ie,oe,se,de,le,ce,re,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Ae,Me,Ee,Ie,Se,Pe,xe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Fe,Ve,De,Je,He,qe,ze,Xe,je,We,Ye,Ze,Qe,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,ct,rt,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,At,Mt,Et,It,St,Pt,xt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Ft,Vt,Dt,Jt,Ht,qt,zt,Xt,jt,Wt,Yt,Zt,Qt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,An,Mn,En,In,Sn,Pn,xn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Fn,Vn,Dn,Jn,Hn,qn,zn,Xn,jn,Wn,Yn,Zn,Qn,Kn,$n,ea,ta,na,aa,ia,oa,sa="fglfgl27@gmail.com",da="<br>",la='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ca='<div class="about_text_title">',ra='<div class="about_text_title" style="text-align: left;">',ua='<div style="text-align: left;">',_a="",fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="&nbsp;";function ka(){_a=e+" (C)",fa=n+" (D)",ha=a+" (A)",ma=i+" (A)",l+=Qt,c+=Qt,I=ia+oa,pa=ca+e+"</div>"+ca+Ae+"</div>"+da+ua+la+Pe+da+la+(xe+=jt)+da+la+Le+da+la+Te+da+Be+da+la+Oe+da+wa+wa+wa+Ge+da+la+Ue+da+"</div>"+da+(ya=ca+ke+"</div>"+ua+la+nt+da+la+$e+da+la+et+da+"</div>"+ua+la+tt+da+la+at+da+la+it+da+da+ca+Ce+"</div>"+ua+la+ot+da+la+st+da+la+dt+da+la+lt+da+la+ct)+da+da+ca+we+"</div>",va=ca+be+"</div></div>",ga=ua+da+Re+da+(nr?da+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Qn+"</div>":"")+"</div>"+da+ca+Ne+"</div>"+sa+da+da+Fe+da+Ve+da+da+ra+De+"</div>"+ua+Ye+da+la+Je+da+la+He+da+la+qe+da+la+ze+da+la+Xe+da+la+je+da+la+We+da+Ze+da+la+Qe+da+la+Ke+da+ca+we+"</div></div>",ba=mt+da+la+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+da+la+pt+da+la+vt+da+la+gt+da+la+yt}function Ca(){Fr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",r="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",C="Type your user name...",A="Press Enter or Select key to, ",M="Channels",E="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",P="This video is only available to subscribers.",x="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",F="Duration ",V=" Views",D=" Viewers",J="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",W="Not Live | ",Y=" Channels Live",Z=" Hosts Live",Q=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ce="Chat Related:",Ae="General Related:",Me="Update",Ee="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",Pe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",xe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Qn="This version of the app is for test in a browser only!",Ne="Developer information:",Fe="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",De="This application uses following dependencies:",Je="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ye="Web:",Ze="Android:",Qe="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",Ct="Key test return OK",At="You try to add a key for user ",Mt=" but this key is for user ",Et=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",Pt=" And you are not a sub of this channel",xt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Ft=" Followers",Vt=", Can't fallow or unfallow ",Dt="Game content",Jt="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Wt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zt="Started ",Qt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+da+"Chat: Connected."+da+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",Cn=(kn="From:"+da)+"Start",An="Chat: The Chat has ended!",Mn=": Most recent",En=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",Pn="Enable",xn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Fn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Jn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Wn="Press enter to change",Yn="All",Zn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness "}var Aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ia=51,Sa=52,Pa=179,xa=37,La=38,Ta=39,Ba=40,Oa=13,Ga=49,Ua=8,Ra=13,Na=32,Fa=46,Va=0,Da=5,Ja=1e4,Ha=0,qa=!1,za=!1,Xa=!1,ja=!1,Wa="",Ya="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",Qa="https://id.twitch.tv/oauth2/token?";function Ka(e){Pr.Users_Position=Pr.Users_AddcodePosition,Ha=e,wi(),Ru(),ni()}function $a(e,t,n,a){var i=new XMLHttpRequest,o=Qa+"grant_type=refresh_token&client_id="+encodeURIComponent(iu)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Vi[e].refresh_token)+"&redirect_uri="+Ya;i.open("POST",o,!0),i.timeout=Ja,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?ti(i.responseText,e,n):ei(e,t,n,a))},i.send(null)}function ei(e,t,n,a){++t<10?$a(e,t,n):a&&a()}function ti(e,t,n){var a=JSON.parse(e);Vi[t].access_token=a.access_token,Vi[t].refresh_token=a.refresh_token,oo(),n&&n()}function ni(){var e=new XMLHttpRequest,t=Qa+"grant_type=authorization_code&client_id="+encodeURIComponent(iu)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(Ha)+"&redirect_uri="+Ya;e.open("POST",t,!0),e.timeout=Ja,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?oi(e.responseText):ai())},e.send(null)}function ai(){++Va<Da?ni():ii()}function ii(){Nu(),Wu(Lt),window.setTimeout(function(){Yu(),Or=0,__(),Pr.Main_Go=yr,window.location=Ya},4e3),Vi[Pr.Users_Position].access_token=0,Vi[Pr.Users_Position].refresh_token=0}function oi(e){var t=JSON.parse(e);Vi[Pr.Users_Position].access_token=t.access_token,Vi[Pr.Users_Position].refresh_token=t.refresh_token,wi(),si()}function si(){xf("https://api.twitch.tv/kraken?oauth_token="+Vi[Pr.Users_Position].access_token,Ja,0,null,di,li)}function di(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Vi[Pr.Users_Position].name)){if(oo(),Or=0,Nu(),qa=lE=!1,Pr.Main_Go=yr,__(),Wu(wt),yu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Ya},3e3)}else Vi[Pr.Users_Position].access_token=0,Vi[Pr.Users_Position].refresh_token=0,qa=!1,Wu(Gn+Vi[Pr.Users_Position].name),window.setTimeout(function(){Yu(),Or=0,__(),Pr.Main_Go=yr,window.location=Ya},4e3)}function li(){++Va<Da?(Ja+=500,si()):ii()}function ci(){wi(),za=!1,ri()}function ri(){var e="https://api.twitch.tv/kraken/users/"+Vi[Pr.Users_Position].id+"/follows/channels/"+Wa,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ja,t.setRequestHeader(ou,iu),t.setRequestHeader(su,cu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ui():404===t.status?_i(t.responseText):fi())},t.send(null)}function ui(){qa=!(za=!0),ja?Xv():yd()}function _i(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(qa=za=!1,ja?Xv():yd()):fi()}function fi(){++Va<Da?(Ja+=500,ri()):(qa=!1,ja?Xv():yd())}function mi(){wi(),hi()}function hi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Vi[Pr.Users_Position].id+"/follows/channels/"+Wa,!0),e.timeout=Ja,e.setRequestHeader(ou,iu),e.setRequestHeader(su,cu),e.setRequestHeader("Authorization","OAuth "+Vi[Pr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return za=!(qa=!1),void(ja?Xv():yd());401===e.status||403===e.status?$a(Pr.Users_Position,0,mi,null):pi()}},e.send(null)}function pi(){++Va<Da&&(Ja+=500,hi())}function vi(){wi(),gi()}function gi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Vi[Pr.Users_Position].id+"/follows/channels/"+Wa,!0),e.timeout=Ja,e.setRequestHeader(ou,iu),e.setRequestHeader(su,cu),e.setRequestHeader("Authorization","OAuth "+Vi[Pr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return qa=za=!1,void(ja?Xv():yd());401===e.status||403===e.status?$a(Pr.Users_Position,0,vi,null):yi()}},e.send(null)}function yi(){++Va<Da&&(Ja+=500,gi())}function bi(){wi(),Xa=!1,ki()}function wi(){Ja=1e4,qa=!(Va=0)}function ki(){var e,t="https://api.twitch.tv/kraken/users/"+Vi[Pr.Users_Position].id+"/subscriptions/"+Wa;if(yu){if(!(e=Android.mreadUrl(t,Ja,3,Vi[Pr.Users_Position].access_token)))return void Ci();if(200===(e=JSON.parse(e)).status)qa=!(Xa=!0),iy();else if(422===e.status)qa=Xa=!1,ay();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return qa=Xa=!1,void ay();Ci()}else 401===e.status||403===e.status?$a(Pr.Users_Position,0,bi,Ai):Ci()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ja,e.setRequestHeader(ou,iu),e.setRequestHeader(su,cu),e.setRequestHeader("Authorization","OAuth "+Vi[Pr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)qa=!(Xa=!0),iy();else if(422===e.status)qa=Xa=!1,ay();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return qa=Xa=!1,void ay();Ci()}else 401===e.status||403===e.status?$a(Pr.Users_Position,0,bi,Ai):Ci()},e.send(null)}function Ci(){++Va<Da?(Ja+=500,ki()):Ai()}function Ai(){qa=Xa=!1,ay()}function Mi(e){wi(),Ei(e,0)}function Ei(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Vi[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?qa=!1:(wi(),$a(e,0,null,null)));400===a.status?(wi(),$a(e,0,null,null)):Ii(e,t)}},a.send(null)}function Ii(e,t){++t<Da&&Ei(e,t)}function Si(){wi(),Pi()}function Pi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Vi[Pr.Users_Position].name+"/follows/games/"+encodeURIComponent(Pr.Main_gameSelected)+"?oauth_token="+Vi[Pr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(ou,iu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Eo=!0,void No();401===e.status||403===e.status?$a(Pr.Users_Position,0,Si,null):xi()}},e.send(null)}function xi(){++Va<Da&&(Ja+=500,Pi())}function Li(){wi(),Ti()}function Ti(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Vi[Pr.Users_Position].name+"/follows/games/"+encodeURIComponent(Pr.Main_gameSelected)+"?oauth_token="+Vi[Pr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(ou,iu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Eo=!1,void No();401===e.status||403===e.status?$a(Pr.Users_Position,0,Li,null):Bi()}},e.send(null)}function Bi(){++Va<Da&&(Ja+=500,Ti())}function Oi(){wi(),Gi()}function Gi(){var e,t="https://api.twitch.tv/api/users/"+Vi[Pr.Users_Position].name+"/follows/games/"+encodeURIComponent(Pr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(ou,iu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Eo=!0,void No()):404===e.status?(Eo=!1,void No()):void Ui()},e.send(null)}function Ui(){++Va<Da?(Ja+=500,Gi()):(Eo=!1,No())}var Ri=0,Ni=5,Fi=3500,Vi=[],Di=null,Ji=!1,Hi=!1;function qi(){Pr.Main_Go=dr,Bu("top_bar_user","icon_center_focus"),Yu(),Zc.placeholder=C,Lu("add_user_scroll"),ji()}function zi(){Yi(!1),document.body.removeEventListener("keydown",Xi),document.body.removeEventListener("keydown",Zi),Ou("top_bar_user","icon_center_focus"),xu("add_user_scroll")}function Xi(e){if(!Ji&&!Hi&&Pr.Main_Go===dr)switch(e.keyCode){case Ga:Ku()?Qu():n_()?t_():(0<Vi.length&&Pr.Main_Go!==yr?Pr.Main_Go=Pr.Main_Before:Pr.Main_Go=sr,zi(),r_());break;case Sa:case Ia:case Pa:case Oa:ji()}}function ji(){document.body.removeEventListener("keydown",Xi),document.body.addEventListener("keydown",Zi,!1),Zc.placeholder=C,Zc.focus(),Hi=!0}function Wi(){if(null!==Zc){var e=Zc.cloneNode(!0);Zc.parentNode.replaceChild(e,Zc),Zc=document.getElementById("user_input")}}function Yi(e){Zc.blur(),Wi(),document.body.removeEventListener("keydown",Zi),Zc.placeholder=A+C,e&&document.body.addEventListener("keydown",Xi,!1),Hi=!1}function Zi(e){if(!Ji&&Pr.Main_Go===dr)switch(e.keyCode){case Ga:Ku()?Qu():n_()?t_():(0<Vi.length&&Pr.Main_Go!==yr?Pr.Main_Go=Pr.Main_Before:Pr.Main_Go=sr,zi(),r_());break;case Fa:Zc.value="";break;case Ra:case Ba:""!==Zc.value&&null!==Zc.value?lo(Di=Zc.value)?(Nu(),Wu(u+Di+ae),window.setTimeout(function(){Yu(),ji()},1500)):(Fi=3500,Ji=!(Ri=0),xu("add_user_scroll"),Ru(),Qi()):ji();break;case Ua:Zc.value=Zc.value.slice(0,-1);break;case Na:Zc.value+=" "}}function Qi(){xf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Di),Fi,2,null,Ki,$i)}function Ki(e){JSON.parse(e)._total?(Zc.value="",document.body.removeEventListener("keydown",Xi),ao(e)):eo()}function $i(){++Ri<Ni?(Fi+=500,Qi()):eo()}function eo(){Di=null,Nu(),Wu(te),window.setTimeout(function(){qi()},1e3),Ji=!1}function to(){if(0<(Vi=Ef("AddUser_UsernameArray",[])).length)for(var e=0;e<Vi.length;e++)Vi[e].access_token&&Mi(e)}function no(){return 0<Vi.length}function ao(e){Di=JSON.parse(e).users[0],Vi.push({name:Di.name,id:Di._id,access_token:0,refresh_token:0}),oo(),lE=!1,zi(),rE(),Ji=!1}function io(e){var t=Vi.indexOf(Vi[e]);-1<t&&Vi.splice(t,1),0<Vi.length?(lE=!1,rE()):qi(),oo()}function oo(){Af("AddUser_UsernameArray",JSON.stringify(Vi))}function so(e){Di=Vi[0],Vi[0]=Vi[e],Vi[e]=Di,lE=!1,rE(),oo()}function lo(e){return-1!==Vi.indexOf(e)}function co(){return 0<Vi.length}var ro=0,uo=0,_o=!1,fo=0,mo={},ho=[],po=!1,vo=0,go=5,yo=3500,bo=0,wo=0,ko=!1,Co=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Ao=!1,Mo=!1,Eo=!1,Io=!1,So=!1;function Po(){Pr.Main_CenterLablesVectorPos=3,Pr.Main_Go=cr,document.body.addEventListener("keydown",Yo,!1),Bu("top_bar_game","icon_center_focus"),Pu("label_side_panel","icon-arrow-circle-left",I),Pr.Search_isSearching&&(p_(),Gu("top_bar_user",n+v_(f+" '"+Pr.Search_data+"'"))),Gu("top_bar_game",b+v_(_+": "+Pr.Main_gameSelected)),Pr.Main_OldgameSelected===Pr.Main_gameSelected&&Ao?(M_(ro),Lu(Co[10]),zo(),__()):Lo()}function xo(){Ao&&-1===ro&&(Wo(),uo=ro=0,Bu(Co[0]+"0_"+uo,_u)),Pu("label_side_panel","icon-ellipsis",Rn),Gu("top_bar_game",f),document.body.removeEventListener("keydown",Yo),Ou("top_bar_game","icon_center_focus"),xu(Co[10])}function Lo(){null===Pr.Main_OldgameSelected&&(Pr.Main_OldgameSelected=Pr.Main_gameSelected),w_("stream_table_a_game"),xu(Co[10]),Ru(),Yu(),So=Ao=!1,mo={},pf=!(fo=wo=bo=0),ro=uo=0,_o=Mo=!(ho=[]),qu(),To(),Bo()}function To(){C_(),po=!0,vo=0,yo=3500}function Bo(){var e=fo+bo;e&&wo-1<e&&(e=wo-Wr,_o=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Pr.Main_gameSelected)+"&limit="+Wr+"&offset="+e+(""!==Vr?"&broadcaster_language="+Vr:"");yu&&!fo?Tf(t,yo,2,null,Go,Oo):Bf(t,yo,2,null,Go,Oo,!1)}function Oo(){++vo<go?(yo+=500,Bo()):(po=!1,fo?(_o=!0,Uo()):(pf=!1,Nu(),Wu(x)))}function Go(e){var t=JSON.parse(e),n=t.streams.length;wo=parseInt(t._total),n<Wr&&(_o=!0);var a=fo;ko=!(fo+=n);var i=n/Yr;0<n%Yr&&i++;var o,s,d,l,c,r,u=0,_=document.getElementById("stream_table_a_game");if(!So){var f;for(So=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+wa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+Kt,(Nr=document.createElement("td")).setAttribute("id",Co[8]+"y_"+l),Nr.className="stream_cell",Nr.innerHTML='<div id="'+Co[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Co[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Nr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/Yr+l,d=document.createElement("tr"),o=0;o<Yr&&u<n;o++,u++)r=(c=t.streams[u]).channel._id,mo[r]?o--:(mo[r]=1,d.appendChild(T_(s,s+"_"+o,[c.channel.name,r],Co,[c.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,y+Op(c.created_at)+" "+h+a_(c.viewers)+D,i_(c.video_height,c.average_fps,c.channel.broadcaster_language)])));for(;o<Yr;o++)_o&&!Mo&&(Mo=!0,fo=s*Yr+o),d.appendChild(S_(Co[9]+s+"_"+o)),ho.push(Co[9]+s+"_"+o);_.appendChild(d)}Uo()}function Uo(){if(Ao){if(k_(Ea),0<ho.length&&!_o)return To(),void Jo();zo(!0),ho=[]}else Ro(),ko?(Wu(L+Q),ro=-1,jo()):(Ao=!0,k_(Ea),zo(),__()),Lu(Co[10]),pf=!1,Nu();po=!1}function Ro(){Io?(Eo=!0,No()):no()?Oi():(Eo=!1,No())}function No(){Gu(Co[3]+"y_2",Eo?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+wa+wa+Et:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+wa+wa+(no()?It:Tt))}function Fo(){no()&&Vi[Pr.Users_Position].access_token?Eo?Li():Si():(Wu(Bt),window.setTimeout(function(){ko&&Pr.Main_Go===cr?Wu(L+Q):Yu()},2e3))}function Vo(){uo?1===uo?(Pr.Main_Go=Mr,Pr.Main_OldgameSelected=Pr.Main_gameSelected,Do(),u_()):Fo():(Pr.Main_Go=Ar,Pr.Main_OldgameSelected=Pr.Main_gameSelected,Do(),u_())}function Do(){Ao&&-1===ro&&(Wo(),uo=ro=0,Bu(Co[0]+"0_"+uo,_u)),document.body.removeEventListener("keydown",Yo),xu(Co[10])}function Jo(){ju(ho.length);var e=fo+bo;e&&wo-1<e&&(e=wo-au,_o=!0),xf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Pr.Main_gameSelected)+"&limit="+au+"&offset="+e+(""!==Vr?"&broadcaster_language="+Vr:""),yo,2,null,qo,Ho)}function Ho(){++vo<go?(yo+=500,Jo()):(_o=!0,fo-=ho.length,ho=[],Uo())}function qo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(wo=parseInt(a._total),i<au&&(_o=!0);o<ho.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,mo[n]?o--:(mo[n]=1,B_(ho[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Op(t.created_at)+" "+h+a_(t.viewers)+D,i_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Co),d.push(o));for(o=d.length-1;-1<o;o--)ho.splice(d[o],1);bo+=s,_o&&(fo-=ho.length,ho=[]),Uo()}function zo(e){ro<0?jo():(J_(ro,uo,Co,Yr,fo,e),fo/Yr<ro+Zr&&!_o&&!po&&(To(),Bo()),Tr&&Xo())}function Xo(){-1<ro&&fo?Q_(ro+"_"+uo,Co):Wo()}function jo(){Bu(Co[0]+"y_"+uo,_u)}function Wo(){Ou(Co[0]+"y_"+uo,_u)}function Yo(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(Pr.Main_OldgameSelected=Pr.Main_gameSelected,Xo(),Wo(),gf(Yo));break;case xa:if(-1===ro)Wo(),--uo<0&&(uo=2),jo();else if(ro||uo){if(s_(ro,uo-1,Co[0]))Xo(),uo--,zo();else for(t=Yr-1;-1<t;t--)if(s_(ro-1,t,Co[0])){Xo(),ro--,uo=t,zo();break}}else Xo(),Wo(),ro=-1,uo=2,jo();break;case Ta:-1===ro?(Wo(),2<++uo?(uo=0,ko?jo():(ro=0,zo())):jo()):s_(ro,uo+1,Co[0])?(Xo(),uo++,zo()):s_(ro+1,0,Co[0])&&(Xo(),ro++,uo=0,zo());break;case La:if(-1!==ro||ko)if(ro){for(t=0;t<Yr;t++)if(s_(ro-1,uo-t,Co[0])){Xo(),ro--,uo-=t,zo();break}}else Xo(),ro=-1,jo();else ro=0,Wo(),zo();break;case Ba:if(-1!==ro||ko){for(t=0;t<Yr;t++)if(s_(ro+1,uo-t,Co[0])){Xo(),ro++,uo-=t,zo();break}}else ro=0,Wo(),zo();break;case Sa:case Ia:case Pa:case Oa:-1!==ro?z_(ro+"_"+uo,Co,Yo):Vo()}}var Zo=0,Qo=0,Ko=!1,$o=0,es={},ts=[],ns=!1,as=0,is=5,os=3500,ss=0,ds=0,ls=!1,cs=!1,rs="week",us=2,_s=!1,fs=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],ms=!1,hs=!1,ps="";function vs(){Pr.Main_CenterLablesVectorPos=3,Pr.Main_Go=Ar,Bu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ts,!1),Pu("label_side_panel","icon-arrow-circle-left",I),ps===Pr.Main_gameSelected&&ms?(M_(Zo),Lu(fs[10]),Bs(),Ss(),__()):ys()}function gs(){ms&&Ps(),document.body.removeEventListener("keydown",Ts),Ou("top_bar_game","icon_center_focus"),Gu("top_bar_game",f),Pu("label_side_panel","icon-ellipsis",Rn),xu(fs[10])}function ys(){ms&&Ps(),w_("stream_table_a_game_vod"),xu(fs[10]),Ru(),Bs(),ps=Pr.Main_gameSelected,Yu(),_s=ms=!1,pf=!(cs=!(ts=[])),Zo=Qo=$o=ds=ss=0,Ko=!(es={}),qu(),bs(),ws()}function bs(){C_(),ns=!0,as=0,os=3500}function ws(){var e=$o+ss;e&&ds-1<e&&(e=ds-Wr,Ko=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Pr.Main_gameSelected)+"&limit="+Wr+"&broadcast_type="+(hs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+rs+(""!==Vr?"&language="+Vr:"");yu&&!$o?Tf(t,os,2,null,Cs,ks):Bf(t,os,2,null,Cs,ks,!1)}function ks(){++as<is?(os+=500,ws()):(ns=!1,$o?(Ko=!0,As()):(pf=!1,Nu(),Wu(x)))}function Cs(e){var t=JSON.parse(e),n=t.vods.length;ds=parseInt(t._total),n<Wr&&(Ko=!0);var a=$o;ls=!($o+=n);var i=n/Yr;0<n%Yr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_a_game_vod");if(!_s){var _;for(_s=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Nr=document.createElement("td")).setAttribute("id",fs[8]+"y_"+f),Nr.className="stream_cell",Nr.innerHTML='<div id="'+fs[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+fs[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Nr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Yr+f,d=document.createElement("tr"),o=0;o<Yr&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||es[c]?o--:(es[c]=1,d.appendChild(HI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ru),l.channel.display_name,N+g_(l.created_at),_S.parse(l.title)+da+Zt+v+l.game,a_(l.views)+V,i_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Tp(l.length),l.animated_preview_url],fs)));for(;o<Yr;o++)Ko&&!cs&&(cs=!0,$o=s*Yr+o),d.appendChild(S_(fs[9]+s+"_"+o)),ts.push(fs[9]+s+"_"+o);u.appendChild(d)}As()}function As(){if(ms?k_(Ea):(ls?Wu(L+(hs?G:O)+T+E):(ms=!0,k_(Ea),Ss(),__()),Lu(fs[10]),pf=!1,Nu()),0<ts.length&&!Ko)return bs(),void Ms();Ss(!0),ns=!(ts=[])}function Ms(){ju(ts.length);var e=$o+ss;e&&ds-1<e&&(e=ds-au,Ko=!0),xf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Pr.Main_gameSelected)+"&limit="+au+"&broadcast_type="+(hs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+rs+(""!==Vr?"&language="+Vr:""),os,2,null,Is,Es)}function Es(){++as<is?(os+=500,Ms()):(Ko=!0,ts=[],As())}function Is(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(ds=parseInt(a._total);o<ts.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||es[n]?o--:(es[n]=1,zI(ts[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ru),t.channel.display_name,N+g_(t.created_at),_S.parse(t.title)+da+Zt+v+t.game,a_(t.views)+V,i_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Tp(t.length),t.animated_preview_url],fs),d.push(o));for(o=d.length-1;-1<o;o--)ts.splice(d[o],1);ss+=s,Ko&&($o-=ts.length,ts=[]),As()}function Ss(e){Zo<0?xs():(J_(Zo,Qo,fs,Yr,$o,e),tS(fs,Zo+"_"+Qo),$o/Yr<Zo+Zr&&!Ko&&!ns&&(bs(),ws()),Tr&&Ps())}function Ps(){window.clearInterval(fI),-1<Zo&&$o?(Lu(fs[1]+Zo+"_"+Qo),Q_(Zo+"_"+Qo,fs)):Ls()}function xs(){var e=1<Qo?1:Qo;Bu(fs[0]+"y_"+e,_u)}function Ls(){var e=1<Qo?1:Qo;Ou(fs[0]+"y_"+e,_u)}function Ts(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(Ps(),gf(Ts));break;case xa:if(-1===Zo)Ls(),--Qo<0&&(Qo=1),xs();else if(Zo||Qo){if(s_(Zo,Qo-1,fs[0]))Ps(),Qo--,Ss();else for(t=Yr-1;-1<t;t--)if(s_(Zo-1,t,fs[0])){Ps(),Zo--,Qo=t,Ss();break}}else Ps(),Ls(),Zo=-1,Qo=1,xs();break;case Ta:-1===Zo?(Ls(),1<++Qo?(Qo=0,ls?xs():(Zo=0,Ss())):xs()):s_(Zo,Qo+1,fs[0])?(Ps(),Qo++,Ss()):s_(Zo+1,0,fs[0])&&(Ps(),Zo++,Qo=0,Ss());break;case La:if(-1!==Zo||ls)if(Zo){for(t=0;t<Yr;t++)if(s_(Zo-1,Qo-t,fs[0])){Ps(),Zo--,Qo-=t,Ss();break}}else Ps(),Zo=-1,xs();else Zo=0,Ls(),Ss();break;case Ba:if(-1!==Zo||ls){for(t=0;t<Yr;t++)if(s_(Zo+1,Qo-t,fs[0])){Ps(),Zo++,Qo-=t,Ss();break}}else Zo=0,Ls(),Ss();break;case Sa:case Ia:case Pa:case Oa:-1===Zo?(0===Qo?Af("AGameVod_highlight",(hs=!hs)?"true":"false"):4<++us&&(us=1),ys()):W_(Zo+"_"+Qo,fs,Ts)}}function Bs(){1===us?(Gu("top_bar_game",b+v_((hs?G:O)+de+": "+Pr.Main_gameSelected)),rs="day"):2===us?(Gu("top_bar_game",b+v_((hs?G:O)+le+": "+Pr.Main_gameSelected)),rs="week"):3===us?(Gu("top_bar_game",b+v_((hs?G:O)+ce+": "+Pr.Main_gameSelected)),rs="month"):4===us&&(Gu("top_bar_game",b+v_((hs?G:O)+re+": "+Pr.Main_gameSelected)),rs="all"),Af("AGameVod_periodNumber",us)}var Os,Gs=0,Us=0,Rs=!1,Ns=0,Fs=0,Vs=5,Ds=3500,Js=0,Hs=!1,qs=!1,zs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Xs=!1,js="",Ws=null,Ys="",Zs="",Qs="",Ks="",$s="",ed={},td=!1;function nd(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=pr,td&&!Pr.Search_isSearching&&Pr.Main_selectedChannel_id&&Ed(),js!==Pr.Main_selectedChannel&&(Xs=!1),p_(),Pr.Main_selectedChannelDisplayname=Pr.Main_selectedChannelDisplayname.replace(W,""),Uu("top_bar_user",Pr.Main_selectedChannelDisplayname),Uu("top_bar_game",Ut),document.body.addEventListener("keydown",Id,!1),ja=!1,Xs?(M_(Gs),Lu(zs[10]),wd(),kd(),__()):id()}function ad(){h_(),document.body.removeEventListener("keydown",Id),xu(zs[10])}function id(){w_("stream_table_channel_content"),xu(zs[10]),Ru(),Yu(),js=Pr.Main_selectedChannel,Ks="",Rs=Hs=Xs=!1,Os=void(Gs=Us=Ns=Js=0),od(),sd()}function od(){pf=!0,Fs=0,Ds=3500}function sd(){xf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Os?Os:Pr.Main_selectedChannel_id),Ds,2,null,dd,ld)}function dd(e){null!==JSON.parse(e).stream?(Ws=e,od(),_d()):Os?(Ws=null,od(),_d()):(od(),cd())}function ld(){++Fs<Vs?(Ds+=500,sd()):(Ws=null,od(),_d())}function cd(){xf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Pr.Main_selectedChannel_id),Ds,1,null,ud,rd,!0)}function rd(){++Fs<Vs?(Ds+=500,cd()):(Ws=null,od(),_d())}function ud(e){var t=JSON.parse(e);void 0!==(Os=t.hosts[0].target_id)?(od(),sd()):(Ws=null,od(),_d())}function _d(){xf("https://api.twitch.tv/kraken/channels/"+Pr.Main_selectedChannel_id,hg,2,null,fd,md)}function fd(e){var t=JSON.parse(e);Ys=t.views,Zs=t.followers,Qs=t.description,Pr.Main_selectedChannelLogo=t.logo,hd()}function md(){++Fs<Vs?(Ds+=500,_d()):(Qs=Zs=Ys="",Pr.Main_selectedChannelLogo=Ma,hd())}function hd(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0,a=document.getElementById("stream_table_channel_content");if((Nr=document.createElement("tr")).className="follower_header",Nr.innerHTML='<div class="follower_header">'+_S.parse(Qs)+"</div>",a.appendChild(t),a.appendChild(Nr),null!==Ws){var i=JSON.parse(Ws);if(null!==i.stream){var o=void 0!==Os?Pr.Main_selectedChannelDisplayname+ne:"",s=i.stream;e.appendChild(pd("0_"+n,s.channel.name,s.preview.template,_S.parse(s.channel.status),s.game,o_(JSON.stringify(s.stream_type))+o+s.channel.display_name,y+Op(s.created_at)+" "+h+a_(s.viewers)+D,i_(s.video_height,s.average_fps,s.channel.broadcaster_language))),n++}else Hs=!0}else Hs=!0;e.appendChild(vd("0_"+n,Pr.Main_selectedChannelDisplayname,Pr.Main_selectedChannelDisplayname+O,"movie-play")),n++,e.appendChild(vd("0_"+n,Pr.Main_selectedChannelDisplayname,Pr.Main_selectedChannelDisplayname+U,"movie")),n<2&&(n++,e.appendChild(S_(zs[9]+"0_"+n))),a.appendChild(e),(e=document.createElement("tr")).appendChild(gd("1_0",Pr.Main_selectedChannelDisplayname,Pr.Main_selectedChannelDisplayname,Pr.Main_selectedChannelLogo)),a.appendChild(e),bd()}function pd(e,t,n,a,i,o,s,d){return Ks=n.replace("{width}x{height}",ru),(Nr=document.createElement("td")).setAttribute("id",zs[8]+e),Nr.setAttribute(fu,t),Nr.className="stream_cell",Nr.innerHTML='<div id="'+zs[0]+e+'" class="stream_thumbnail_video" ><img id="'+zs[1]+e+'" class="stream_img"></div><div id="'+zs[2]+e+'" class="stream_text"><div id="'+zs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Os?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+wa+o+'</div><div id="'+zs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+zs[4]+e+'"class="stream_info">'+a+'</div><div id="'+zs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+zs[6]+e+'"class="stream_info">'+s+"</div></div>",Nr}function vd(e,t,n,a){return(Nr=document.createElement("td")).setAttribute("id",zs[8]+e),Nr.setAttribute(fu,t),Nr.className="stream_cell",Nr.innerHTML='<div id="'+zs[0]+e+'" class="stream_thumbnail_video" ><div id="'+zs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+zs[2]+e+'" class="stream_text"><div id="'+zs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Nr}function gd(e,t,n,a){return $s=a,(Nr=document.createElement("td")).setAttribute("id",zs[8]+e),Nr.setAttribute(fu,t),Nr.className="stream_cell",Nr.innerHTML='<div id="'+zs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+zs[1]+e+'" class="stream_img_fallow"></div><div id="'+zs[2]+e+'" class="stream_text"><div id="'+zs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+zs[5]+e+'"class="stream_info">'+a_(Ys)+V+'</div><div id="'+zs[6]+e+'"class="stream_info" >'+a_(Zs)+Ft+"</div></div>",Nr}function yd(){za?(Gu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Uu(zs[3]+"1_0",Pr.Main_selectedChannelDisplayname+Et)):(Gu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),no()?Uu(zs[3]+"1_0",Pr.Main_selectedChannelDisplayname+It):Uu(zs[3]+"1_0",Pr.Main_selectedChannelDisplayname+Vt))}function bd(){Xs||(Xs=!0,""!==Ks&&ku(document.getElementById(zs[1]+"0_0"),Ks,Ea),ku(document.getElementById(zs[1]+"1_0"),$s,Ma),kd(),__(),Lu(zs[10]),Nu()),wd(),pf=!1}function wd(){qs?yd():no()?(Wa=Pr.Main_selectedChannel_id,ja=!1,ci()):(za=!1,yd())}function kd(){Bu(zs[0]+Gs+"_"+(Gs?0:Us),_u),Tr&&Cd(),R_()}function Cd(){Q_(Gs+"_"+(Gs?0:Us),zs)}function Ad(){if(Gs)no()&&Vi[Pr.Users_Position].access_token?(ja=!1,Wa=Pr.Main_selectedChannel_id,za?vi():mi()):(Wu(Bt),window.setTimeout(Yu,2e3));else{document.body.removeEventListener("keydown",Id),xu(zs[10]);var e=Hs?1:0;Us===0-e?(Pr.Play_selectedChannel=document.getElementById(zs[8]+Gs+"_"+Us).getAttribute(fu),Pr.Play_selectedChannelDisplayname=document.getElementById(zs[3]+Gs+"_"+Us).textContent,-1!==Pr.Play_selectedChannelDisplayname.indexOf(ne)?(Pr.Play_isHost=!0,Pr.Play_DisplaynameHost=Pr.Play_selectedChannelDisplayname,Pr.Play_selectedChannelDisplayname=Pr.Play_selectedChannelDisplayname.split(ne)[1],Pr.Play_selectedChannel_id=Os):Pr.Play_selectedChannel_id=Pr.Main_selectedChannel_id,Pr.Play_gameSelected=document.getElementById(zs[5]+Gs+"_"+Us).textContent.split(v)[1],ef(X_)):Us===1-e?ef(el):Us===2-e&&(Fy=_b,ef(qy))}}function Md(){ed={"Main_values.Main_selectedChannel_id":Pr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Pr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Pr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Pr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:qs,"Main_values.Main_BeforeChannel":Pr.Main_BeforeChannel}}function Ed(){Pr.Main_selectedChannel_id=Pr.Main_selectedChannel_id,Pr.Main_selectedChannelLogo=Pr.Main_selectedChannelLogo,Pr.Main_selectedChannel=Pr.Main_selectedChannel,Pr.Main_selectedChannelDisplayname=Pr.Main_selectedChannelDisplayname,qs=ed.ChannelContent_UserChannels,Pr.Main_BeforeChannel=Pr.Main_BeforeChannel,td=!(ed={})}function Id(e){if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(Cd(),gf(Id));break;case xa:Gs||(Cd(),--Us<0&&(Us=Hs?1:2),kd());break;case Ta:Gs||(Cd(),(Hs?1:2)<++Us&&(Us=0),kd());break;case La:case Ba:Cd(),Gs=Gs?0:1,kd();break;case Sa:case Ia:case Pa:case Oa:Ad()}}var Sd=0,Pd=0,xd=!1,Ld=0,Td={},Bd=[],Od=!1,Gd=0,Ud=5,Rd=3500,Nd=0,Fd=0,Vd=0,Dd=!1,Jd=!1,Hd="",qd=!1,zd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Xd=!1,jd=!1,Wd="",Yd="",Zd="",Qd="",Kd="",$d=0;function el(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=vr,!Pr.Search_isSearching&&Pr.Main_selectedChannel_id&&Ed(),Pr.Main_selectedChannel!==Wd&&(Xd=!1),p_(),Pu("label_side_panel","icon-arrow-circle-left",I),Uu("top_bar_user",Pr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",hl,!1),Xd?(M_(Sd),Uu("top_bar_game",jd?G:O),Lu(zd[10]),ul(),__()):nl()}function tl(){Xd&&_l(),h_(),document.body.removeEventListener("keydown",hl),xu(zd[10])}function nl(){Xd&&_l(),w_("stream_table_channel_vod"),xu(zd[10]),Uu("top_bar_game",jd?G:O),Ru(),Yu(),Wd=Pr.Main_selectedChannel,qd=Xd=!1,pf=!(Jd=!(Bd=[])),Sd=Pd=Ld=Fd=Nd=0,xd=!(Td={}),qu(),al(),il()}function al(){C_(),Od=!0,Gd=0,Rd=3500}function il(){var e=Ld+Nd;e&&Fd-1<e&&(e=Fd-Wr,xd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Pr.Main_selectedChannel_id)+"/videos?limit="+Wr+"&broadcast_type="+(jd?"highlight":"archive")+"&sort=time&offset="+e;yu&&!Ld?Tf(t,Rd,2,null,sl,ol):Bf(t,Rd,2,null,sl,ol,!1)}function ol(){++Gd<Ud?(Rd+=500,il()):(Od=!1,Ld?(xd=!0,dl()):(pf=!1,Nu(),Wu(x)))}function sl(e){var t=JSON.parse(e),n=t.videos.length;Fd=parseInt(t._total),n<Wr&&(xd=!0);var a=Ld;Dd=!(Ld+=n);var i=n/Yr;0<n%Yr&&i++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!qd){qd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p;(Nr=document.createElement("td")).setAttribute("id",zd[8]+"y_0"),Nr.className="stream_cell",Nr.innerHTML='<div id="'+zd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+zd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Nr),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/Yr+h,d=document.createElement("tr"),o=0;o<Yr&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=Ea),r||Td[c]?o--:(Td[c]=1,d.appendChild(HI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",ru),_S.parse(l.title),N+g_(l.created_at),Zt+v+l.game,a_(l.views)+V,i_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Tp(l.length),l.animated_preview_url],zd)));for(;o<Yr;o++)xd&&!Jd&&(Jd=!0,Ld=s*Yr+o),d.appendChild(S_(zd[9]+s+"_"+o)),Bd.push(zd[9]+s+"_"+o);f.appendChild(d)}dl()}function dl(){if(Xd?(ul(!0),k_(Ea)):(Dd?Wu(L+(jd?G:O)+T+E):(Xd=!0,k_(Ea),ul(),__()),Lu(zd[10]),pf=!1,Nu()),0<Bd.length&&!xd)return al(),void ll();Od=!(Bd=[])}function ll(){ju(Bd.length);var e=Ld+Nd;e&&Fd-1<e&&(e=Fd-au,xd=!0),xf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Pr.Main_selectedChannel_id)+"/videos?limit="+au+"&broadcast_type="+(jd?"highlight":"archive")+"&sort=time&offset="+e,Rd,2,null,rl,cl)}function cl(){++Gd<Ud?(Rd+=500,ll()):(xd=!0,Ld-=Bd.length,Bd=[],dl())}function rl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Fd=parseInt(a._total);o<Bd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Td[n]?o--:(Td[n]=1,zI(Bd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ru),_S.parse(t.title),N+g_(t.created_at),Zt+v+t.game,a_(t.views)+V,i_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Tp(t.length),t.animated_preview_url],zd),d.push(o));for(o=d.length-1;-1<o;o--)Bd.splice(d[o],1);Nd+=s,xd&&(Ld-=Bd.length,Bd=[]),dl()}function ul(e){Sd<0?fl():(J_(Sd,Pd,zd,Yr,Ld,e),tS(zd,Sd+"_"+Pd),Ld/Yr<Sd+Zr&&!xd&&!Od&&(al(),il()),Tr&&_l())}function _l(){window.clearInterval(fI),-1<Sd&&Ld?(Lu(zd[1]+Sd+"_"+Pd),Q_(Sd+"_"+Pd,zd)):ml()}function fl(){Bu(zd[0]+"y_0",_u)}function ml(){Ou(zd[0]+"y_0",_u)}function hl(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(_l(),gf(hl));break;case xa:if(s_(Sd,Pd-1,zd[0]))_l(),Pd--,ul();else for(t=Yr-1;-1<t;t--)if(s_(Sd-1,t,zd[0])){_l(),Sd--,Pd=t,ul();break}break;case Ta:s_(Sd,Pd+1,zd[0])?(_l(),Pd++,ul()):s_(Sd+1,0,zd[0])&&(_l(),Sd++,Pd=0,ul());break;case La:if(-1!==Sd||Dd)if(Sd){for(t=0;t<Yr;t++)if(s_(Sd-1,Pd-t,zd[0])){_l(),Sd--,Pd-=t,ul();break}}else _l(),Sd=-1,fl();else Sd=0,ml(),ul();break;case Ba:if(-1!==Sd||Dd){for(t=0;t<Yr;t++)if(s_(Sd+1,Pd-t,zd[0])){_l(),Sd++,Pd-=t,ul();break}}else Sd=0,ml(),ul();break;case Sa:case Ia:case Pa:case Oa:-1===Sd?(Af("ChannelVod_highlight",(jd=!jd)?"true":"false"),nl()):W_(Sd+"_"+Pd,zd,hl)}}var pl,vl,gl,yl,bl=0,wl=10,kl=!1,Cl=0,Al=null,Ml=!1,El=0,Il={},Sl={};function Pl(){Wl(),Pr.Play_ChatForceDisable?(ec||hc(),Ml=!1,ef(function(){xl(Cl=(new Date).getTime())})):zc()}function xl(e){bl=0,Ll(e)}function Ll(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Pr.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Cl===e&&Bl(n.responseText,e));Cl===e&&Tl(e)}},n.send(null)}function Tl(e){bl++,Cl===e&&(bl<wl?Ll(e):vl=window.setTimeout(function(){Ll(e)},1e3))}function Bl(e,t){rS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){uS(t.type,e.type,e.image_url_4x,Kl)})}),Il[Pr.Play_selectedChannel_id]?Cl===t&&Fl():Ol(t)}function Ol(e){bl=0,Gl(e)}function Gl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Pr.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Cl===e&&Rl(n.responseText,e):404===n.status?(Il[Pr.Play_selectedChannel_id]=1,Cl===e&&Fl()):Cl===e&&Ul(e))},n.send(null)}function Ul(e){bl++,Cl===e&&(bl<wl?Gl(e):Cl===e&&Fl())}function Rl(e,t){Nl(JSON.parse(e)),Il[Pr.Play_selectedChannel_id]=1,Cl===t&&Fl()}function Nl(t){t.emotes.forEach(function(e){Sl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Fl(){Jl(),Vl()}function Vl(){(Al=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Al.send("PASS blah\r\n"),Al.send("NICK justinfan12345\r\n"),Al.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Al.send("JOIN #"+Pr.Play_selectedChannel+"\r\n")},Al.onclose=function(){kl=!0},Al.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Al.send("PONG "+t.params[0]);break;case"JOIN":Ml=!0,zl('&nbsp;<span class="message">'+da+bn+Pr.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":Hl(t)}},gl=window.setTimeout(Dl,5e3)}function Dl(){Ml?yl=window.setInterval(Xl,1e3):(Al.close(1e3),Fl())}function Jl(){window.clearTimeout(gl)}function Hl(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+lc[a.charCodeAt(0)%cc]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),zl(t+='<span class="message">'+ql(cS(i,o))+"</span>")}function ql(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=lS(e[t]):e[t]=e[t][0];return _S.parse(e.join(" "),!0,!0)}function zl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,Kl.appendChild(t),Xl(),100<++El&&(El=0,jc())}function Xl(){Kl.scrollTop=Kl.scrollHeight}function jl(){Jl(),window.clearTimeout(vl),window.clearTimeout(pl),window.clearInterval(yl)}function Wl(){jl(),Al&&Al.close(1e3),Cl=0,w_("chat_box"),Ml=kl=!1}var Yl,Zl,Ql,Kl,$l,ec=!1,tc=0,nc=[],ac=[],ic=10,oc=null,sc=0,dc="",lc=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],cc=lc.length,rc=0,uc=!1,_c=0;function fc(){Kl=document.getElementById("chat_box"),hc()}function mc(){Fc(),yu&&Pr.Play_ChatForceDisable?(ec||hc(),ef(function(){Cc(_c=(new Date).getTime())})):zc()}function hc(){tc=0,ec=!(Sl={}),pc()}function pc(){Bf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,gc,vc,!1)}function vc(){++tc<ic?pc():ec=!1}function gc(e){rS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){uS(t.type,e.type,e.image_url_4x,null)})}),yc()}function yc(){tc=0,bc()}function bc(){Bf("https://api.betterttv.net/2/emotes",1e4,0,null,kc,wc,!1)}function wc(){++tc<ic?bc():ec=!1}function kc(e){Nl(JSON.parse(e)),ec=!0}function Cc(e){tc=0,Ac(e)}function Ac(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Pr.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(_c===e&&Ec(n.responseText,e));_c===e&&Mc(e)}},n.send(null)}function Mc(e){tc++,_c===e&&(tc<ic?Ac(e):$l=window.setTimeout(function(){Ac(e)},1e3))}function Ec(e,t){rS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){uS(t.type,e.type,e.image_url_4x,Kl)})}),_c===t&&Lc(t),Il[Pr.Main_selectedChannel_id]?_c===t&&Lc(t):Ic(t)}function Ic(e){tc=0,Sc(e)}function Sc(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Pr.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?_c===e&&xc(n.responseText,e):404===n.status?(Il[Pr.Main_selectedChannel_id]=1,_c===e&&Lc()):_c===e&&Pc(e))},n.send(null)}function Pc(e){tc++,_c===e&&(tc<ic?Sc(e):_c===e&&Lc())}function xc(e,t){Nl(JSON.parse(e)),Il[Pr.Main_selectedChannel_id]=1,_c===t&&Lc()}function Lc(e){tc=0,_c===e&&Tc(e)}function Tc(e){var t="https://api.twitch.tv/v5/videos/"+Pr.ChannelVod_vodId+"/comments?client_id="+iu+(sc?"&content_offset_seconds="+parseInt(sc):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(_c===e&&Oc(n.responseText,e));_c===e&&Bc(e)}},n.send(null)}function Bc(e){tc++,_c===e&&(tc<ic?Tc(e):Zl=window.setTimeout(function(){Tc(e)},2500))}function Oc(e,t){e=JSON.parse(e);var n,a,i=null===oc;i&&(n="&nbsp;",n+='<span class="message">',n+=da+bn+Pr.Main_selectedChannelDisplayname+" "+dc,Gc(n+="</span>",0)),sc=0,oc=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+lc[e.commenter.display_name.charCodeAt(0)%cc]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=ql([e.text])}),n+="</span>",i?Gc(n,e.content_offset_seconds):void 0!==oc&&Uc(n,e.content_offset_seconds)}),i&&_c===t&&(Rc(t),void 0!==oc&&Dc(t))}function Gc(e,t){nc.push({time:t,message:e})}function Uc(e,t){ac.push({time:t,message:e})}function Rc(e){uc||_c!==e||(Yl=window.setInterval(function(){Vc(e),Kl.scrollTop=Kl.scrollHeight},1e3))}function Nc(){uc||(window.clearTimeout($l),window.clearTimeout(Zl),window.clearTimeout(Ql),window.clearInterval(Yl))}function Fc(){Nc(),_c=0,w_("chat_box"),uc=!1,oc=null,nc=[],ac=[],rc=0}function Vc(e){var t;if(rc<nc.length-1)for(var n=rc;n<nc.length&&nc[n].time<$d+Android.gettime()/1e3;n++,rc++)(t=document.createElement("div")).className="chat_line",t.innerHTML=nc[n].message,Kl.appendChild(t);else if(Nc(),void 0!==oc)nc=ac.slice(),rc=0,Rc(e),ac=[],_c===e&&Dc(e),jc();else{var a="&nbsp;";a+='<span class="message">',a+=da+da+An+da+da,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,Kl.appendChild(t),uc=!0,Kl.scrollTop=Kl.scrollHeight,window.clearInterval(Yl),Yl=window.setInterval(function(){Kl.scrollTop=Kl.scrollHeight},1e3)}}function Dc(e){tc=0,uc||_c!==e||Jc(e)}function Jc(e){var t="https://api.twitch.tv/v5/videos/"+Pr.ChannelVod_vodId+"/comments?client_id="+iu+(null!==oc?"&cursor="+oc:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(uc||_c!==e||Oc(n.responseText,e));uc||_c!==e||Hc(e)}},n.send(null)}function Hc(e){tc++,_c===e&&(tc<ic?Jc(e):Ql=window.setTimeout(function(){Jc(e)},2500))}function qc(){Fc(),Xc(ln+da+cn)}function zc(){Fc(),Xc($n)}function Xc(e){var t="&nbsp;";t+='<span class="message">',t+=da+da+da+da+da+da+da+da+da+da,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Kl.appendChild(n)}function jc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Xl()}var Wc,Yc,Zc,Qc,Kc,$c,er,tr=!0,nr=!1,ar=!1,ir=-1,or=new Image,sr=1,dr=2,lr=3,cr=4,rr=5,ur=6,_r=7,fr=8,mr=9,hr=10,pr=11,vr=12,gr=13,yr=14,br=15,wr=16,kr=17,Cr=18,Ar=19,Mr=20,Er=21,Ir=22,Sr="",Pr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:lr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},xr=!0,Lr=!0,Tr=!1,Br=[],Or=0,Gr=0,Ur=null,Rr=!0,Nr="",Fr=!1,Vr="",Dr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Jr=[],Hr=0,qr=!0,zr=0,Xr=1.35,jr=1.5,Wr=45,Yr=3,Zr=Math.floor(Wr/Yr/jr),Qr=45,Kr=5,$r=Math.floor(Qr/Kr/Xr),eu=48,tu=6,nu=Math.floor(eu/tu/jr),au=6,iu="5seja5ptej058mxqy7gh5tcudjqtm9",ou="Client-ID",su="Accept",du="Authorization",lu="OAuth ",cu="application/vnd.twitchtv.v5+json",ru="528x297",uu="340x475",_u="stream_thumbnail_focused",fu="data_attribute",mu="1.0",hu=".18",pu="050319",vu=mu+hu+"-"+pu,gu=0,yu=0,bu="?"+Math.random(),wu="https://cors-anywhere.herokuapp.com/",ku=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Cu(){(ar=If("Main_isDebug",!1))&&tr?Au():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Mu(window.navigator.userLanguage||window.navigator.language)}):Mu(window.navigator.userLanguage||window.navigator.language)}function Au(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Mu(e){K_(),ef(function(){try{yu=Android.getAndroid()}catch(e){yu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",nr=ar=!0,console.log("Main_isReleased: "+tr),console.log("Main_isDebug: "+ar),console.log("Main_isBrowser: "+nr)}Dk(),Ca(),rC(),console.log("language is "+e),ka(),-1!==window.location.href.indexOf("code")&&Pf(window.location.href),Eu()})}function Eu(){Vy(),Iu(!0),Wc=document.getElementById("scrollbar"),f_(),Sr=Pr.Main_Go,ef(function(){fc(),Kh(),to(),no()&&(er=window.setInterval(of,6e5),of()),document.body.addEventListener("keyup",R_,!1),Dy(),document.getElementById("side_panel").style.marginLeft="",y_(),Su(),BI=If("Vod_highlight",!1),jd=If("ChannelVod_highlight",!1),hs=If("AGameVod_highlight",!1),XE=If("UserVod_highlight",!1),PI=Mf("vod_periodNumber",2),us=Mf("AGameVod_periodNumber",2),JE=Mf("UserVod_TypeNumber",1),Sy(),Yc=document.getElementById("search_input"),Zc=document.getElementById("user_input"),I_(Ea),I_(Aa),I_(Ma),document.addEventListener("visibilitychange",nf,!1),Kc=window.setInterval(af,6e4),Fy=pb,qy(),Qc=window.setTimeout(l_,5e3),Lu("topbar")})}function Iu(e){af(),Pu("label_refresh","icon-refresh",t+jt),Gu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+wa+_t+"</div>"),Pu("label_side_panel","icon-ellipsis",Rn),Pu("icon_feed_refresh","icon-refresh",t+" Press up"),Uu("top_bar_live",_),Uu("top_bar_user",e?u:a),Uu("top_bar_featured",an),Uu("top_bar_game",f),Uu("top_bar_vod",Kt),Uu("top_bar_clip",U),Gu("scene2_search_text",wa+n),Gu("scene2_channel_text",wa+Ut),Gu("scene2_game_text",wa+Dt),Uu("dialog_end_replay_text",en),Uu("dialog_end_vod_text",sn),Uu("dialog_end_channel_text",Ut),Uu("dialog_end_game_text",Dt),Gu("dialog_about_text",va+ga),Jr=[de,le,ce,re],e?Gk():(Vk(),y_())}function Su(){Uu("play_dialog_exit_text",J),Uu("side_panel_search",n),Uu("side_panel_settings",a),Uu("side_panel_about",i),Uu("side_panel_controls",e),Uu("side_panel_exit",q),Uu("side_panel_live",_),Uu("side_panel_user",u),Uu("side_panel_featured",an),Uu("side_panel_games",f),Uu("side_panel_videos",Kt),Uu("side_panel_clips",U),Uu("side_panel_hide",o),Uu("chanel_button",M),Uu("game_button",f),Uu("live_button",_),Uu("exit_app_cancel",j),Uu("exit_app_close",z),Uu("remove_cancel",j),Uu("remove_yes",Jt),Uu("exit_app_minimize",X),Uu("main_dialog_exit_text",H),Gu("dialog_controls_text",pa),Uu("dialog_vod_text",wn),Gu("dialog_vod_start_text",Cn)}function Pu(e,t,n){Gu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+wa+n+"</div>")}function xu(e){document.getElementById(e).classList.add("hide")}function Lu(e){document.getElementById(e).classList.remove("hide")}function Tu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Bu(e,t){document.getElementById(e).classList.add(t)}function Ou(e,t){document.getElementById(e).classList.remove(t)}function Gu(e,t){document.getElementById(e).innerHTML=t}function Uu(e,t){document.getElementById(e).textContent=t}function Ru(){M_(-1),yu?Android.mshowLoading(!0):Lu("dialog_loading")}function Nu(){yu?Android.mshowLoading(!1):xu("dialog_loading")}function Fu(){window.clearTimeout(Ur)}function Vu(){Ur=window.setTimeout(Ju,6e3)}function Du(){Vu(),Lu("main_dialog_exit"),document.body.addEventListener("keydown",ff,!1)}function Ju(){document.body.removeEventListener("keydown",ff,!1),gf($c),Fu(),xu("main_dialog_exit"),Gr=0,Hu()}function Hu(){Ou("exit_app_cancel","button_search_focused"),Ou("exit_app_minimize","button_search_focused"),Ou("exit_app_close","button_search_focused"),Bu(Gr?1===Gr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function qu(){w_("dialog_counter_text"),Xu(0,0,0)}function zu(e,t,n,a){0<a?(Uu("dialog_counter_text",t*n+(e+1)+"/"+a),Xu(t,n,a)):qu()}function Xu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Pr.Main_Go===cr||Pr.Main_Go===Ar||Pr.Main_Go===Mr||Pr.Main_Go===vr||Pr.Main_Go===Ir||Pr.Main_Go===kr||Pr.Main_Go===Cr||Pr.Main_Go===gr,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Wc.style.top=o+"px",Rr&&(Rr=!1,Wc.style.backgroundColor="#777777")}else Wc.style.backgroundColor="#000000",Wc.style.top=a+"px",Rr=!0}function ju(e){(au=12)/3<e&&(au=3*e),99<au&&(au=99)}function Wu(e){Uu("dialog_warning_text",e),Lu("dialog_warning")}function Yu(){xu("dialog_warning")}function Zu(){t_(),Lu("dialog_about")}function Qu(){xu("dialog_about")}function Ku(){return Tu("dialog_about")}function $u(){t_(),Yu(),m_(Pr.Main_Go),qu(),Bk()}function e_(){Qu(),Lu("dialog_controls")}function t_(){xu("dialog_controls")}function n_(){return Tu("dialog_controls")}function a_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function i_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function o_(e){return-1!==e.indexOf("live")?"":W}function s_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function d_(){af(),r_(),document.body.addEventListener("keyup",R_,!1)}function l_(){for(var e,t=0;t<Dr.length;t++)t<2?document.getElementById(Dr[t]).style.opacity="0.5":-1===(e=document.getElementById(Dr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Bu("topbar","topbar_dim")}function c_(){for(var e=0;e<Dr.length;e++)document.getElementById(Dr[e]).style.opacity="1";Ou("topbar","topbar_dim")}function r_(e){window.clearTimeout(Qc),c_(),ef(function(){u_(e)})}function u_(e){Pr.Main_Go!==pr&&(Pr.Main_BeforeChannelisSet=!1),Pr.Main_Go!==cr&&(Pr.Main_BeforeAgameisSet=!1),qu(),Pr.Main_Go===sr?(Fy=pb,qy()):Pr.Main_Go===dr?qi():Pr.Main_Go===lr?(Fy=mb,qy()):Pr.Main_Go===cr?Po():Pr.Main_Go===fr?Jw():Pr.Main_Go===mr?Iw():Pr.Main_Go===hr?mk():Pr.Main_Go===pr?nd():Pr.Main_Go===vr?el():Pr.Main_Go===gr?(Fy=_b,qy()):Pr.Main_Go===yr?rE():Pr.Main_Go===rr?FM():Pr.Main_Go===ur?gA():Pr.Main_Go===_r?(Fy=hb,qy()):Pr.Main_Go===br?VC():Pr.Main_Go===wr?$b():Pr.Main_Go===kr?UI():Pr.Main_Go===Cr?(Fy=ub,qy()):Pr.Main_Go===Ar?vs():Pr.Main_Go===Mr?(Fy=fb,qy()):Pr.Main_Go===Er?(Fy=vb,qy()):Pr.Main_Go===Ir&&jE(),Qc=window.setTimeout(l_,3e3),e&&kf()}function __(){Af("Main_values",JSON.stringify(Pr))}function f_(){Pr=Hy(Pr,Ef("Main_values",{}))}function m_(e){e===sr?zy():e===dr?zi():e===lr?zy():e===cr?xo():e===fr?Hw():e===mr?Sw():e===hr?hk():e===pr?ad():e===vr?tl():e===gr?zy():e===yr?uE():e===rr?VM():e===ur?yA():e===_r?zy():e===br?DC():e===wr?ew():e===kr?RI():e===Cr?zy():e===Ar?gs():e===Mr?zy():e===Er?zy():e===Ir&&WE(),Tu("settings_scroll")&&Ok()}function h_(){Pu("label_refresh","icon-refresh",t+jt),Pu("label_side_panel","icon-ellipsis",Rn),Ou("top_bar_user","icon_center_focus"),Uu("top_bar_live",_),Uu("top_bar_user",u),Uu("top_bar_featured",an),Uu("top_bar_game",f),Uu("top_bar_vod",Kt),Uu("top_bar_clip",U)}function p_(){Pu("label_side_panel","icon-arrow-circle-left",I),w_("top_bar_live"),w_("top_bar_game"),w_("top_bar_vod"),w_("top_bar_clip"),w_("top_bar_featured"),Bu("top_bar_user","icon_center_focus")}function v_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function g_(e){return e=new Date(e),Fr?e.getDate()+" "+Wt[e.getMonth()]+" "+e.getFullYear():Wt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function y_(){if(yu)try{var e=Android.getversion();vu="Android: "+e+" Web: "+pu,b_(e)&&Lu("label_update")}catch(e){}Gu("dialog_about_text",va+ye+vu+ga)}function b_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(mu)||parseInt(e[2])<parseInt(hu.split(".")[1])}function w_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function k_(e){for(var t,n=0;n<Br.length;n++)null!==(t=document.getElementById(Br[n].id))&&ku(t,Br[n].src+bu,e)}function C_(){Br=[]}function A_(e,t){Br.push({id:e,src:t})}function M_(e){ir=e}function E_(e){var t=0;return ir<e?t=-1:e<ir&&(t=1),ir=e,t}function I_(e){or.src=e}function S_(e){return(Nr=document.createElement("td")).setAttribute("id",e),Nr.className="stream_cell",Nr}function P_(e,t,n){return(Nr=document.createElement("td")).setAttribute("id",t[4]+e),Nr.setAttribute(fu,n[0]),Nr.setAttribute("data-id",n[1]),Nr.className="stream_cell",Nr.innerHTML=L_(e,t,n),Nr}function x_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(fu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=L_(i,n,t),a.setAttribute("id",n[4]+i)}function L_(e,t,n){return A_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function T_(e,t,n,a,i){return e<Yr&&I_(i[0]),(Nr=document.createElement("td")).setAttribute("id",a[8]+t),Nr.setAttribute(fu,JSON.stringify(n)),Nr.className="stream_cell",Nr.innerHTML=O_(t,a,i),Nr}function B_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(fu,JSON.stringify(t)),i.innerHTML=O_(o,a,n),i.setAttribute("id",a[8]+o)}function O_(e,t,n){return A_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+_S.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function G_(e,t,n){return(Nr=document.createElement("td")).setAttribute("id",t[5]+e),Nr.setAttribute(fu,n[0]),Nr.className="stream_cell",Nr.innerHTML=U_(e,t,n),Nr}function U_(e,t,n){return A_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function R_(){Lr=!0}function N_(){xr=!0}function F_(){xr=!1,window.setTimeout(N_)}function V_(){return!xr||!Lr}function D_(e,t,n,a,i,o){Bu(n[0]+e+"_"+t,_u),zu(t,e,a,i),E_(e)||o?1<e?s_(e+1,0,n[0])?Z_(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):R_():Z_(n[6],.07*screen.height):R_()}function J_(e,t,n,a,i,o){Bu(n[0]+e+"_"+t,_u),zu(t,e,a,i),E_(e)||o?e?s_(e+1,0,n[0])&&Z_(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):Z_(n[10],.07*screen.height):R_()}function H_(e,t,n,a,i){Bu(n[0]+e+"_"+t,_u),zu(t,e,a,i),E_(e)?Z_(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):R_()}function q_(e,t){return null===document.getElementById(t+e)}function z_(e,t,n){q_(e,t[0])||(document.body.removeEventListener("keydown",n),Pr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(fu)),Pr.Play_selectedChannel_id=Pr.Play_selectedChannel[1],Pr.Play_selectedChannel=Pr.Play_selectedChannel[0],Pr.Main_Go===ur?(Pr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Pr.Play_selectedChannelDisplayname=Pr.Play_DisplaynameHost.split(ne)[1],Pr.Play_isHost=!0):Pr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Pr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Pr.Main_Go===cr&&(Pr.Main_OldgameSelected=Pr.Main_gameSelected),X_())}function X_(){document.body.addEventListener("keydown",Wv,!1),xu("scene1"),Lu("scene2"),tv(),dv(),Av(),no()&&!BA&&HA&&pM(),ef(tp)}function j_(e,t,n){q_(e,t[0])||(document.body.removeEventListener("keydown",n),kb=JSON.parse(document.getElementById(t[8]+e).getAttribute(fu)),om=parseInt(kb[1]),Pr.Play_gameSelected=kb[2],Pr.Main_selectedChannel=kb[3],Pr.Main_selectedChannelDisplayname=kb[4],Pr.Main_selectedChannelLogo=kb[5],Pr.Main_selectedChannel_id=kb[6],Pr.ChannelVod_vodId=kb[7],$d=parseInt(kb[8]),wb=kb[9],Ab=kb[10],yb=kb[11],kb=kb[0],Cb=document.getElementById(t[4]+e).textContent,bb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Sm,!1),xu("scene1"),Lu("scene2"),dv(),Qp(),qp(),jp(),no()&&!BA&&HA&&pM(),ef(sm))}function W_(e,t,n){q_(e,t[0])||(document.body.removeEventListener("keydown",n),Pr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(fu)),Vd=parseInt(Pr.ChannelVod_vodId[1]),Hd=Pr.ChannelVod_vodId[2],Pr.Play_gameSelected=Pr.ChannelVod_vodId[3],Pr.Main_selectedChannel=Pr.ChannelVod_vodId[4],qh=Pr.ChannelVod_vodId[5],Pr.ChannelVod_vodId=Pr.ChannelVod_vodId[0].substr(1),Pr.Main_Go===vr?Yd=document.getElementById(t[3]+e).innerHTML:(Yd="",Pr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),Qd=document.getElementById(t[4]+e).textContent,Kd=document.getElementById(t[5]+e).textContent,Zd=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,Y_())}function Y_(){document.body.addEventListener("keydown",Ny,!1),xu("scene1"),Lu("scene2"),_y(),dv(),Qp(),jp(),Tg=!1,no()&&!BA&&HA&&pM(),ef(Fg)}function Z_(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(R_,10)}function Q_(e,t){Lr=!1,Ou(t[0]+e,_u)}function K_(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(ar&&console.log("Main_Checktylesheet reloading"),$_("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):ar&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function $_(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function ef(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function tf(){var e=(new Date).getTime()+gu;return e=new Date(e),(Fr?Yt[e.getDay()]+" "+e.getDate()+" "+Wt[e.getMonth()]:Yt[e.getDay()]+" "+Wt[e.getMonth()]+" "+e.getDate())+" "+Lp(e.getHours())+":"+Lp(e.getMinutes())}function nf(){document.hidden||(af(),window.setTimeout(af,2e4))}function af(){document.hidden||(Uu("label_clock",tf()),bu="?"+Math.random())}function of(){document.hidden||no()&&window.setTimeout(function(){sM()||BA||(zm=Vi[Pr.Users_Position].name,WA())},5e3)}function sf(){Bu("side_panel_"+zr,"side_panel_text_focus")}function df(){Ou("side_panel_"+zr,"side_panel_text_focus")}function lf(){zr?1===zr?$u():2===zr?(document.body.addEventListener("keydown",$c,!1),Zu()):3===zr?(document.body.addEventListener("keydown",$c,!1),e_()):4===zr?Du($c):5===zr?cf(sr):6===zr?cf(co()?yr:dr):7===zr?cf(Er):8===zr?cf(lr):9===zr?cf(kr):10===zr&&cf(Cr):Pr.Main_Go!==fr?(Pr.Search_isSearching||Pr.Main_Go!==pr&&Pr.Main_Go!==gr&&Pr.Main_Go!==vr||Md(),Pr.Main_BeforeSearch=Pr.Main_Go,Pr.Main_Go=fr,m_(Pr.Main_BeforeSearch),r_()):document.body.addEventListener("keydown",$c,!1),uf()}function cf(e){e===Pr.Main_Go?document.body.addEventListener("keydown",$c,!1):(Pr.Main_Before=Pr.Main_Go,Pr.Main_Go=e,m_(Pr.Main_Before),r_())}function rf(e){$c=e,document.body.removeEventListener("keydown",$c),document.body.addEventListener("keydown",_f,!1),Ou("side_panel","side_panel_hide")}function uf(){document.body.removeEventListener("keydown",_f),Bu("side_panel","side_panel_hide"),df(),zr=0,sf()}function _f(e){switch(e.keyCode){case Ga:case xa:document.body.addEventListener("keydown",$c,!1),uf(),bf();break;case La:zr&&(df(),zr--,sf());break;case Ba:zr<10&&(df(),zr++,sf());break;case Oa:lf()}}function ff(e){switch(e.keyCode){case Ga:Ju();break;case Ta:2<++Gr&&(Gr=0),Hu(),Fu(),Vu();break;case xa:--Gr<0&&(Gr=2),Hu(),Fu(),Vu();break;case Oa:Gr?yu&&1===Gr?Android.mclose(!1):yu&&2===Gr&&Android.mclose(!0):Ju()}}Cu();var mf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],hf=[sr,yr,Er,lr,kr,Cr],pf=!1;function vf(e){if(!(pf||Fy.FirstLoad||V_()))switch(e.keyCode){case Ga:n_()?(bf(),t_()):Ku()?(bf(),Qu()):Pr.Main_Go===cr?(Pr.Main_OldgameSelected=Pr.Main_gameSelected,Pr.Games_return?(Pr.Main_Go=mr,Pr.Main_gameSelected=Pr.gameSelectedOld):(Pr.Main_Go=Pr.Main_BeforeAgame,Pr.Main_BeforeAgame=sr),xo(),yf(),u_()):Pr.Main_Go===Mr?(db(cr),yf(),u_()):Pr.Main_Go===_r?(db(yr),yf(),u_()):Pr.Main_Go===gr?(db(pr),yf(),u_()):Pr.Main_Go===Ar?(Pr.Main_Go=cr,gs(),yf(),u_()):Pr.Main_Go===rr?(Pr.Main_Go=yr,VM(),yf(),u_()):Pr.Main_Go===ur?(Pr.Main_Go=yr,yA(),yf(),u_()):Pr.Main_Go===Ir?(Pr.Main_Go=yr,WE(),yf(),u_()):Pr.Main_Go===br?(Pr.Main_Go=yr,DC(),yf(),u_()):Pr.Main_Go===pr?(Pr.Main_Go=Pr.Main_BeforeChannel,Pr.Main_BeforeChannel=sr,ad(),Pr.Main_selectedChannel_id="",yf(),u_()):Pr.Main_Go===vr?(Pr.Main_Go=pr,tl(),yf(),u_()):Pr.Main_Go===hr?(Pr.Main_Go===Pr.Main_BeforeSearch?Pr.Main_Go=sr:Pr.Main_Go=Pr.Main_BeforeSearch,hk(),Pr.Search_isSearching=!1,yf(),u_()):Pr.Main_Go===mr?(Pr.Main_Go===Pr.Main_BeforeSearch?Pr.Main_Go=sr:Pr.Main_Go=Pr.Main_BeforeSearch,Pr.Search_isSearching=!1,Sw(),yf(),u_()):Pr.Main_Go===wr?(Pr.Main_Go===Pr.Main_BeforeSearch?Pr.Main_Go=sr:Pr.Main_Go=Pr.Main_BeforeSearch,Pr.Main_selectedChannel_id&&Ed(),ew(),Pr.Search_isSearching=!1,yf(),u_()):(yf(),rf(vf));break;case Ta:if(Pr.Search_isSearching||Pr.Main_Go===pr||Pr.Main_Go===vr||Pr.Main_Go===gr||Pr.Main_Go===hr||Pr.Main_Go===mr||Pr.Main_Go===wr)break;Ou(mf[Pr.Main_CenterLablesVectorPos],"icon_center_line"),Pr.Main_CenterLablesVectorPos++,5<Pr.Main_CenterLablesVectorPos&&(Pr.Main_CenterLablesVectorPos=0),bf(),wf();break;case xa:if(Pr.Search_isSearching||Pr.Main_Go===pr||Pr.Main_Go===vr||Pr.Main_Go===gr||Pr.Main_Go===hr||Pr.Main_Go===mr||Pr.Main_Go===wr)break;Ou(mf[Pr.Main_CenterLablesVectorPos],"icon_center_line"),Pr.Main_CenterLablesVectorPos--,Pr.Main_CenterLablesVectorPos<0&&(Pr.Main_CenterLablesVectorPos=5),bf(),wf();break;case Ba:Ou(mf[Pr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",vf),Tr=!1,u_();break;case Oa:Cf()}}function gf(e){window.clearTimeout(Qc),c_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",vf),document.body.addEventListener("keydown",vf,!1),bf()}function yf(){Ou(mf[Pr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",vf),Tr=!1}function bf(){Tr=!0,Bu(mf[Pr.Main_CenterLablesVectorPos],"icon_center_line")}function wf(){m_(Pr.Main_Go),Pr.Main_Go=hf[Pr.Main_CenterLablesVectorPos],Pr.Main_Go!==yr||co()?r_(!0):(Pr.Main_Go=dr,yf(),r_())}function kf(){Pr.Main_Go===sr?(Fy=pb,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===yr?document.body.removeEventListener("keydown",EE):Pr.Main_Go===cr?document.body.removeEventListener("keydown",Yo):Pr.Main_Go===Er?(Fy=vb,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===hr?document.body.removeEventListener("keydown",Ik):Pr.Main_Go===mr?document.body.removeEventListener("keydown",Nw):Pr.Main_Go===wr?document.body.removeEventListener("keydown",fw):Pr.Main_Go===vr?document.body.removeEventListener("keydown",hl):Pr.Main_Go===pr?document.body.removeEventListener("keydown",Id):Pr.Main_Go===ur?document.body.removeEventListener("keydown",LA):Pr.Main_Go===Ir?document.body.removeEventListener("keydown",uI):Pr.Main_Go===br?document.body.removeEventListener("keydown",eA):Pr.Main_Go===lr?(Fy=mb,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===gr?(Fy=_b,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===kr?document.body.removeEventListener("keydown",nS):Pr.Main_Go===Cr?(Fy=ub,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===Mr?(Fy=fb,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===_r?(Fy=hb,document.body.removeEventListener("keydown",rb)):Pr.Main_Go===Ar?document.body.removeEventListener("keydown",Ts):Pr.Main_Go===rr&&document.body.removeEventListener("keydown",tE)}function Cf(){window.clearTimeout(Qc),c_(),Pr.Main_Go!==pr&&(Pr.Main_BeforeChannelisSet=!1),Pr.Main_Go!==cr&&(Pr.Main_BeforeAgameisSet=!1),qu(),Pr.Main_Go===sr?(Fy=pb,Xy()):Pr.Main_Go===yr?_E():Pr.Main_Go===Er?(Fy=vb,Xy()):Pr.Main_Go===cr?Lo():Pr.Main_Go===br?JC():Pr.Main_Go===pr?id():Pr.Main_Go===vr?nl():Pr.Main_Go===hr?pk():Pr.Main_Go===mr?Pw():Pr.Main_Go===wr?tw():Pr.Main_Go===lr?(Fy=mb,Xy()):Pr.Main_Go===_r?(Fy=hb).loadingData||Fy.key_refresh():Pr.Main_Go===kr?NI():Pr.Main_Go===Cr?(Fy=ub,Xy()):Pr.Main_Go===Mr?(Fy=fb,Xy()):Pr.Main_Go===gr?(Fy=_b,Xy()):Pr.Main_Go===Ar?ys():Pr.Main_Go===rr?DM():Pr.Main_Go===ur?bA():Pr.Main_Go===Ir&&YE(),Qc=window.setTimeout(l_,3e3)}function Af(e,t){localStorage.setItem(e,t)}function Mf(e,t){return parseInt(localStorage.getItem(e))||t}function Ef(e,t){return JSON.parse(localStorage.getItem(e))||t}function If(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Sf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Pf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Or=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function xf(e,t,n,a,i,o,s){yu?Tf(e,t,n,a,i,o):Bf(e,t,n,a,i,o,s)}function Lf(e,t,n,a,i,o,s,d){yu&&d?Tf(e,t,n,a,i,o):Bf(e,t,n,a,i,o,s)}function Tf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Bf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?wu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(ou,iu),1<n&&d.setRequestHeader(su,cu),2<n&&d.setRequestHeader(du,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Of=0,Gf=null,Uf=0,Rf=!1,Nf=0,Ff=0,Vf=!1,Df=0,Jf=2e3,Hf=5,qf="source",zf=qf,Xf=0,jf=[],Wf="",Yf=!1,Zf=0,Qf=0,Kf=1,$f=!1,em=0,tm=!1,nm=!1,am=2e3,im=[0,5],om=0;function sm(){Dp(),Av(),up(document.getElementById("stream_info_icon"),Pr.Main_selectedChannelLogo),Uu("stream_info_name",Pr.Main_selectedChannelDisplayname),Gu("stream_info_title",wb),Gu("stream_info_game",yb+", "+bb+", "+Ab),Uu("stream_live_icon",Cb),Uu("progress_bar_duration",Tp(om)),Ay((zh=im)[1]),Pr.Play_isHost=!1,Uu("progress_bar_current_time",Tp(0)),Uu("stream_live_time",""),Uu("stream_watching_time",""),$f=null!==Pr.ChannelVod_vodId,dc=Gt+".",$f?(sc=$d,mc()):qc(),Gu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Lu("progress_pause_holder"),Em(),Lu("scene_channel_panel_bottom"),Uf=em=0,window.clearInterval(Gf),nm=!1,Rm=-13,Zf=Qf=0,Xf=2,Tv(3),Eh=!1,yv(),no()?(ja=!0,Wa=Pr.Main_selectedChannel_id,ci()):Vp(),document.addEventListener("visibilitychange",mm,!1),Rf=!1,Vf=!(Ff=Nf=0),dm(),document.body.removeEventListener("keyup",R_)}function dm(){Df=0,Jf=2e3,lm()}function lm(){xf("https://clips.twitch.tv/api/v2/clips/"+kb+"/status",Jf,1,null,rm,cm,!0)}function cm(){++Df<Hf?(Jf+=250,lm()):(Jp(),Nv(3))}function rm(e){jf=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)jf.length?jf.push({id:e[t].quality+"p"+um(e[t].frame_rate),url:e[t].source}):jf.push({id:e[t].quality+"p"+um(e[t].frame_rate)+" (source)",url:e[t].source});Qf=Kf,_m()}function um(e){return 40<e?60:""}function _m(){window.clearInterval(Gf),Wf=jf[Xf=0].url,-1!==qf.indexOf("source")&&(qf="source");for(var e=0;e<Cm();e++){if(jf[e].id===qf){Wf=jf[Xf=e].url;break}-1!==jf[e].id.indexOf(qf)&&(Wf=jf[Xf=e].url)}zf=qf,ar&&console.log("PlayClip_onPlayer:",'\n\n"'+Wf+'"\n'),Qf=Kf,yu&&Vf&&Android.startVideoOffset(Wf,3,Yf?-1:Android.gettime()),Yf=!1,fm()}function fm(){oh&&!lv()&&sv(),yu&&(Uf=0,Dh=1+am/1e3,tm=!1,window.clearInterval(Gf),Gf=window.setInterval(hm,Jh))}function mm(){document.hidden&&vm()}function hm(){yu&&(Zf=Android.gettime()),Vf&&Of===Zf&&!Pp()?++Uf>Dh&&(tm&&nm&&Xf<Cm()-1?Xf++:!tm&&nm&&em++,navigator.onLine?1<em?Sp(em,3,pm):(Am(),_m(),nm=!0):Ip(!1,3)):(Uf=em=0,nm=!1),Of=Zf}function pm(e){if(!e){if(!(Xf<Cm()-1))return void Ip(!1,3);Xf++}em=0,Am(),_m(),nm=!0}function vm(){Vf&&(jf=[],gm(),jp(),Rp())}function gm(){window.clearInterval(Gf),yu&&Android.stopVideo(3),Vf=!1,Fc(),Np(),lM(),document.body.removeEventListener("keydown",Sm),document.removeEventListener("visibilitychange",mm),ym(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",$d=0}function ym(){Ag=!1,Cg=Mg=0,iv(),qf=zf,document.getElementById("scene_channel_panel").style.opacity="0",yu&&wy(Android.gettime()/1e3,om,!0),Gu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Qv)}function bm(){wm(),xp(),Qv=window.setInterval(wm,1e3),jp(),hy(),km(),Am(),document.getElementById("scene_channel_panel").style.opacity="1",Mm()}function wm(){yu&&wy(Android.gettime()/1e3,om,!Ag)}function km(){for(var e=Xf=0;e<Cm();e++){if(jf[e].id===qf){Xf=e;break}-1!==jf[e].id.indexOf(qf)&&(Xf=e)}}function Cm(){return jf.length}function Am(){1===Cm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Xf?Xf===Cm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(qf=jf[Xf].id).indexOf("source")?Uu("quality_name",qf.replace("source",ge)):Uu("quality_name",qf)}function Mm(){Vm=window.setTimeout(ym,5e3+Bg)}function Em(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Uu("open_vod_text",$f?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Im(){$f?(Pr.vodOffset=$d,gm(),document.body.addEventListener("keydown",Ny,!1),yv(),ef(Fg)):(Eh=!0,Hp(ln),window.setTimeout(function(){Eh=!1,qp()},2e3))}function Sm(e){if(Qf!==Kf)switch(e.keyCode){case Ga:Wp()?(jp(),vm()):Xp()}else switch(e.keyCode){case xa:sM()?Xm&&!BA&&(gM(),Xm--,fM()):Hm&&!ev()&&lv()?(Gm++,hv()):ev()?(iv(),Lg?(wv(),5<++Mh&&(Mh=0),bv()):(Ey(-1,om),Bg=2500),Mm()):Mv()?(xv(),Sv(),--Lh<0&&(Lh=3),Iv()):bm();break;case Ta:sM()?Xm<NA-1&&!BA&&(gM(),Xm++,fM()):!Hm||ev()||Mv()?ev()?(iv(),Lg?(wv(),--Mh<0&&(Mh=5),bv()):(Ey(1,om),Bg=2500),Mm()):Mv()?(xv(),Sv(),3<++Lh&&(Lh=0),Iv()):bm():Af("ChatEnable",(oh=lv()||Mv()?(dv(),!1):(sv(),!0))?"true":"false");break;case La:Mv()?xv():ev()?(2===Lg&&1!==Mh?(Lg--,py()):1===Lg?(Lg--,py()):0<Xf&&1===Mh&&(Xf--,Am()),iv(),Mm()):sM()?sM()?_M():bm():dM();break;case Ba:Mv()?xv():ev()?(Lg?1===Lg?(Lg++,py()):Xf<Cm()-1&&1===Mh&&(Xf++,Am()):(Lg++,py()),iv(),Mm()):sM()?lM():Hm&&lv()?(4<++Fm?mv(!(Fm=1)):4===Fm&&mv(!0),_v(!0)):bm();break;case Oa:Mv()?Lv(3):ev()?Lg?1===Lg?($f&&Pr.Play_ChatForceDisable&&(Pp()?Rc(_c):Nc()),Mv()||gv(3)):Rv(3):(iv(),Mm(),Cg&&ky()):sM()?(gm(),z_(Xm,jA,Wv)):bm();break;case Ga:ev()?ym():sM()?lM():Wp()?(jp(),vm()):Xp();break;case Sa:case Ia:case Pa:$f&&!Pr.Play_ChatForceDisable&&(Pp()?Rc(_c):Nc()),Mv()||gv(3)}}var Pm,xm,Lm,Tm,Bm,Om,Gm=0,Um=Gm,Rm=-5,Nm=.55,Fm=3,Vm=null,Dm="source",Jm=Dm,Hm=!0,qm=!1,zm="",Xm=0,jm=2e3,Wm=0,Ym=1,Zm=2,Qm=0,Km=null,$m=0,eh=0,th=0,nh="",ah=[],ih=0,oh=!1,sh=null,dh=null,lh=null,ch="",rh=0,uh=5,_h=0,fh=5,mh=0,hh=!1,ph=null,vh=!1,gh=0,yh=null,bh=0,wh=0,kh=!1,Ch=!1,Ah=!1,Mh=1,Eh=!1,Ih=!1,Sh=1e4,Ph=2e3,xh="",Lh=0,Th=3,Bh=null,Oh="",Gh=0,Uh=0,Rh="",Nh=!0,Fh=!1,Vh=!1,Dh=7,Jh=1e3,Hh=0,qh="",zh=[],Xh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],jh=[0,0,0,1,2,2,2,1],Wh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Yh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Zh=1,Qh=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Kh(){Bm=document.getElementById("chat_container"),Om=document.getElementById("inner_progress_bar"),Gm=Mf("ChatPositionsValue",0),Fm=Mf("ChatSizeValue",3),oh=If("ChatEnable",!1),Hm=If("Play_isFullScreen",!0),_v(!1),fv(!1),ep()}function $h(e){e?void 0!==Pm&&(Gm=Pm,Fm=Lm,(oh=xm)||dv(),_v(!1)):(Pm=Gm,xm=oh,Lm=Fm,Gm=0,sv(),Fm=4,mv(oh=!0),_v(!1),Kl&&(Kl.scrollTop=Kl.scrollHeight)),Af("Play_isFullScreen",Hm)}function ep(){Zh=Hk("chat_font_size");for(var e=0;e<Qh.length;e++)Ou("chat_inner_container",Qh[e]);Bu("chat_inner_container",Qh[Zh])}function tp(){Dp(),Gu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+wa+_.toUpperCase()+"</div>"),w_("stream_info_title"),$f=!(Ih=!1),up(document.getElementById("stream_info_icon"),Ma),Pr.Play_isHost?Uu("stream_info_name",Pr.Play_DisplaynameHost):Uu("stream_info_name",Pr.Play_selectedChannelDisplayname),Pr.Play_WasPlaying=1,__(),qm=Pr.Play_isHost,Pr.Play_isHost=!1,Fh=!1,Lu("scene_channel_panel_bottom"),Uh=Gh=0,Uu("stream_watching_time",g+Tp(0)),ch=Bp(0),Uu("stream_live_time",y+ch),xu("progress_pause_holder"),Tv(1),Rm=-5,bh=wh=Hh=0,window.clearInterval(yh),Ch=!1,Sh=3e3,Nh=!(_h=0),Qm=Wm,Ah=!(hh=!(th=eh=$m=vh=0)),document.addEventListener("visibilitychange",ap,!1),op(),_p(),document.body.removeEventListener("keyup",R_),Km=window.setInterval(lp,6e4)}function np(e){Hp(e)}function Play_CheckResume(){hh&&ap(),ug&&Wg(),Vf&&(vm(),window.clearInterval(Gf))}function ap(){document.hidden?Mv()?(jp(),dv(),Gp()):(Np(),Ah=!1,Wl(),window.clearInterval(Km)):(hh=!0,Qp(),hh&&(Dp(),Sh=3e3,Fh=!(_h=0),Ih?lp():op(),Qm=Wm,mh=0,navigator.onLine?_p():Tm=window.setInterval(ip,100),Km=window.setInterval(lp,6e4)))}function ip(){(navigator.onLine||200<mh)&&(window.clearInterval(Tm),_p()),mh++}function op(){Bf("https://api.twitch.tv/kraken/streams/"+Pr.Play_selectedChannel_id,Sh,2,null,sp,dp,!1)}function sp(e){null!==(e=JSON.parse(e)).stream&&(Uu("stream_info_name",qm?Pr.Play_DisplaynameHost:Pr.Play_selectedChannelDisplayname),Pr.Play_selectedChannel_id=e.stream.channel._id,Gu("stream_info_title",_S.parse(e.stream.channel.status)),Pr.Play_gameSelected=e.stream.game,xh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Uu("stream_info_game",v+Pr.Play_gameSelected+h+a_(e.stream.viewers)+" "+D+xh),Pr.Play_selectedChannelLogo=e.stream.channel.logo,Ih=!0,up(document.getElementById("stream_info_icon"),Pr.Play_selectedChannelLogo),ch=e.stream.created_at,no()?(ja=!0,Wa=Pr.Play_selectedChannel_id,ci()):Vp())}function dp(){_h<fh&&(Sh+=500,window.setTimeout(function(){hh&&op()},750)),_h++}function lp(){Bf("https://api.twitch.tv/kraken/streams/"+Pr.Play_selectedChannel_id,3e3,2,null,cp,rp,!1)}function cp(e){null!==(e=JSON.parse(e)).stream&&(Gu("stream_info_title",_S.parse(e.stream.channel.status)),Pr.Play_gameSelected=e.stream.game,Uu("stream_info_game",v+Pr.Play_gameSelected+h+a_(e.stream.viewers)+" "+D+xh),Ih||up(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function rp(){Hh<fh?(window.setTimeout(function(){hh&&lp()},2500),Hh++):Hh=0}function up(e,t){e.onerror=function(){this.src=Ma,Ih=!1},e.src=t}function _p(){rh=0,Ph=2e3+(Fh?3e3:0),fp()}function fp(){var e,t;if(e=Qm===Wm?"https://api.twitch.tv/api/channels/"+Pr.Play_selectedChannel+"/access_token"+(no()&&Vi[Pr.Users_Position].access_token?"?oauth_token="+Vi[Pr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Pr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent($m.token)+"&sig="+$m.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",yu){if(!(t=Android.mreadUrl(e,Ph,1,null)))return void hp();200===(t=JSON.parse(t)).status?(rh=0,hh&&gp(t.responseText)):403===t.status?pp():404===t.status?Fv():hp()}else(t=new XMLHttpRequest).open("GET",wu+e,!0),t.timeout=Ph,t.setRequestHeader(ou,iu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(rh=0,hh&&gp(t.responseText)):403===t.status?(mp(t),nr?vp():pp()):404===t.status?(mp(t),nr?vp():Fv()):(mp(t),hp()))},t.send(null)}function mp(e){ar&&(console.log(e.status),console.log(e.responseText))}function hp(){hh&&Nh&&(++rh<uh+(Fh?8:0)?(Ph+=250,Fh?window.setTimeout(fp,500):fp()):nr?vp():Fv())}function pp(){Jp(),Hp(Vn),window.setTimeout(function(){hh&&Fv()},4e3)}function vp(){ah=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Qm=Zm,hh&&kp()}function gp(e){Qm===Wm?($m=JSON.parse(e),Qm=Ym,_p()):Qm===Ym&&(ah=yp(eh=e),Qm=Zm,hh&&kp())}function yp(e){for(var t,n=[],a="",i=1,o=wp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=bp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function bp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function wp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function kp(){window.clearInterval(yh),nh=ah[ih=0].url,-1!==Dm.indexOf("source")&&(Dm="source");for(var e=0;e<uv();e++){if(ah[e].id===Dm){nh=ah[ih=e].url;break}-1!==ah[e].id.indexOf(Dm)&&(nh=ah[ih=e].url)}Jm=Dm,Qm=Zm,ar&&console.log("Play_onPlayer:",'\n\n"'+nh+'"\n'),yu&&hh&&Android.startVideo(nh,1),Cp()}function Cp(){Vh=!1,oh&&!lv()&&sv(),Ah=!0,Ap(),yu&&(bh=0,Dh=1+jm/1e3,kh=!1,window.clearInterval(yh),yh=window.setInterval(Mp,Jh))}function Ap(){Pr.Play_ChatForceDisable?Pl():zc()}function Mp(){var e=!Pp();yu&&(Gh=Android.gettime()),hh&&gh===Gh&&e?Dh<++bh&&(kh&&Ch&&ih<uv()-1?ih++:!kh&&Ch&&wh++,navigator.onLine?1<wh?Sp(wh,1,Ep):(rv(),kp(),Ch=!0):Ip(!1,1)):(bh=wh=0,Ch=!1),gh=Gh,e&&Uh++}function Ep(e){if(!e){if(!(ih<uv()-1))return void Fv();ih++}wh=0,rv(),kp(),Ch=!0}function Ip(e,t){Pr.Play_isHost=e,Tv(t),Nv(t)}function Sp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Ip(!1,t))},a.send(null)}function Pp(){return!!yu&&!Android.getPlaybackState()}function xp(){var e=tf();Uu("stream_clock",e),Uu("label_clock",e)}function Lp(e){return e<10?"0"+e:e}function Tp(e){var t,n,a;return t=Lp(parseInt(e)%60),n=Lp((e=Math.floor(e/60))%60),a=Lp(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Bp(e){return Tp(parseInt(e/1e3))}function Op(e){return Bp((new Date).getTime()-new Date(e).getTime())}function Gp(){hh&&(Up(),Pr.Play_WasPlaying=0,Rp())}function Up(){yu&&Android.stopVideo(1),hh=!1,lM(),Fc(),Np(),Fp(),Pr.Play_selectedChannel_id=""}function Rp(){wy(0,0),Lu("scene1"),xu("scene2"),d_()}function Np(){tv(),Qp(),qp(),Av(),qh="",ih===uv()-1&&(Jm=ah[0].id),lg===by()-1&&(eg=dg[0].id),Xf===Cm()-1&&(zf=jf[0].id)}function Fp(){Ah=!1,document.body.removeEventListener("keydown",Wv),document.removeEventListener("visibilitychange",ap),Wl(),window.clearInterval(Km),window.clearInterval(yh),Eh=!1}function Vp(){Gu("fallow_text",wa+Tt),za=!1}function Dp(){yu?Android.mshowLoading(!0):Lu("dialog_loading_play")}function Jp(){yu?Android.mshowLoading(!1):xu("dialog_loading_play")}function Hp(e){Uu("dialog_warning_play_text",e),Lu("dialog_warning_play")}function qp(){xu("dialog_warning_play")}function zp(){return Tu("dialog_warning_play")}function Xp(){Wp()?jp():(Lu("play_dialog_exit"),sh=window.setTimeout(Xp,3e3))}function jp(){window.clearTimeout(sh),xu("play_dialog_exit")}function Wp(){return Tu("play_dialog_exit")}function Yp(){window.clearTimeout(dh)}function Zp(){window.clearTimeout(lh)}function Qp(){Yp(),Zp(),xu("play_dialog_simple_pause")}function Kp(){Pp()?$p()?(xu("play_dialog_simple_pause"),lh=window.setTimeout(Kp,8e3)):(Lu("play_dialog_simple_pause"),dh=window.setTimeout(Kp,1500)):Qp()}function $p(){return Tu("play_dialog_simple_pause")}function ev(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function tv(){iv(),document.getElementById("scene_channel_panel").style.opacity="0",Dm=Jm,window.clearInterval(Qv)}function nv(){yv(),cv(),rv(),av(),Qv=window.setInterval(av,1e3),xp(),jp(),document.getElementById("scene_channel_panel").style.opacity="1",ov()}function av(){Uu("stream_watching_time",g+Tp(Uh)),Uu("stream_live_time",y+(-1===ch.indexOf("00:00")?Op(ch):"00:00"))}function iv(){window.clearTimeout(Vm),Bg=0}function ov(){Vm=window.setTimeout(tv,5e3)}function sv(){hv(),Lu("chat_container")}function dv(){xu("chat_container")}function lv(){return Tu("chat_container")}function cv(){for(var e=ih=0;e<uv();e++){if(ah[e].id===Dm){ih=e;break}-1!==ah[e].id.indexOf(Dm)&&(ih=e)}}function rv(){1===uv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):ih?ih===uv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Dm=ah[ih].id).indexOf("source")?Uu("quality_name",Dm.replace("source",ge)+ah[ih].band):Uu("quality_name",Dm+ah[ih].band)}function uv(){return ah.length}function _v(e){Bm.style.height=Yh[Fm-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Yh[Fm-1].dialogTop+"%",hv(),Xl(),e&&pv(Nn+Yh[Fm-1].percentage),window.setTimeout(function(){Kl&&(Kl.scrollTop=Kl.scrollHeight)},500),Af("ChatSizeValue",Fm)}function fv(e){Bm.style.backgroundColor="rgba(0, 0, 0, "+Nm+")",e&&pv(Fn+(100*Nm).toFixed(0)+"%")}function mv(e){Gm=e?jh[Um=Gm]:Wh[Gm][Um]}function hv(){var e=4===Fm;Gm<0?Gm=e?2:7:(e?2:7)<Gm&&(Gm=0),Bm.style.top=(e?.2:Xh[Gm].top+Xh[Gm].sizeOffset[Fm-1])+"%",Bm.style.left=Xh[Gm+(e?2:0)].left+"%",Af("ChatPositionsValue",Gm)}function pv(e){window.clearTimeout(ph),Uu("play_chat_dialog_text",e),Lu("play_chat_dialog"),ph=window.setTimeout(vv,1e3)}function vv(){xu("play_chat_dialog")}function gv(e){Pp()?(Qp(),yu&&Android.play(!0),Gu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(ev()&&tv(),window.clearInterval(yh),yh=window.setInterval(Mp,Jh)):2===e?(ev()&&_y(),window.clearInterval(vg),vg=window.setInterval(dy,Jh)):3===e&&(ev()&&ym(),window.clearInterval(Gf),Gf=window.setInterval(hm,Jh))):(window.clearInterval(yh),window.clearInterval(vg),window.clearInterval(Gf),Gu("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),yu&&Android.play(!1),Kp())}function yv(){wv(),Mh=1,bv()}function bv(){Bu("scene2_pannel_"+Mh,"playbotton_focus")}function wv(){Ou("scene2_pannel_"+Mh,"playbotton_focus")}function kv(){tg=Qm=-1,Qf=-1,dv(),tv(),ym(),_y(),Eh||qp(),Jp(),jp(),Iv()}function Cv(){Lu("dialog_end_stream")}function Av(){xu("dialog_end_stream"),xv(),Ev()}function Mv(){return Tu("dialog_end_stream")}function Ev(){Sv(),Lh=0,Iv()}function Iv(){Bu("dialog_end_"+Lh,"dialog_end_icons_focus")}function Sv(){Ou("dialog_end_"+Lh,"dialog_end_icons_focus")}function Pv(e){1===e?Oh=Pr.Play_selectedChannelDisplayname+" "+_:2===e?Oh=Pr.Main_selectedChannelDisplayname+$t:3===e&&(Oh=Pr.Main_selectedChannelDisplayname+Gt),Gu("dialog_end_stream_text",Oh+S+da+tn+Th+"..."),Mv()?(tg=Qm=Zm,Qf=Kf,-1===--Th?(Gu("dialog_end_stream_text",Oh+S+da+tn+"0..."),jp(),dv(),1===e?Gp():2===e?cy():3===e&&vm()):Bh=window.setTimeout(function(){Pv(e)},1e3)):Bh=window.setTimeout(function(){Pv(e)},50)}function xv(){window.clearTimeout(Bh),Gu("dialog_end_stream_text",Oh+S+da+nn)}function Lv(e){var t=!0;Lh?1===Lh?Pr.Play_isHost?(Pr.Play_DisplaynameHost=Pr.Play_selectedChannelDisplayname+ne,Pr.Play_selectedChannel=Rh.target_login,Pr.Play_selectedChannelDisplayname=Rh.target_display_name,Pr.Play_DisplaynameHost=Pr.Play_DisplaynameHost+Pr.Play_selectedChannelDisplayname,Up(),document.body.addEventListener("keydown",Wv,!1),Pr.Play_selectedChannel_id=Rh.target_id,ef(tp)):Im():2===Lh?Bv(e):3===Lh&&Gv(e):2===e?dg.length?(yg=!(Ug=!0),oy(),Qp(),sc=Sg=0,mc()):(t=!1,Hp(ea),window.setTimeout(function(){qp()},2e3)):3===e&&(jf.length?(tm=!(Yf=!0),_m(),Qp(),$f?(Sg=0,sc=$d,mc()):qc()):(t=!1,Hp(ea),window.setTimeout(function(){qp()},2e3))),1!==Lh&&3===Lh&&""===Pr.Play_gameSelected&&(t=!1),t&&Av()}function Tv(e){e?1===e?(Sv(),Lh=2,Iv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Ev(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Ev(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Uu("dialog_end_vod_text",$f?sn:dn)):(Sv(),Lh=1,Iv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Uu("dialog_end_vod_text",un))}function Bv(e){Pr.Main_BeforeChannelisSet||Pr.Main_Go===vr||Pr.Main_Go===gr||(Pr.Main_BeforeChannel=Pr.Main_BeforeAgameisSet&&Pr.Main_Go!==cr?Pr.Main_BeforeAgame:Pr.Main_Go,Pr.Main_BeforeChannelisSet=!0),m_(Pr.Main_Go),Pr.Main_Go=pr,1===e?(Pr.Main_selectedChannel_id=Pr.Play_selectedChannel_id,Pr.Main_selectedChannel=Pr.Play_selectedChannel,Pr.Main_selectedChannelDisplayname=Pr.Play_selectedChannelDisplayname,qs=za,dv(),Gp()):2===e?cy():3===e&&vm()}function Ov(e){Pr.Search_isSearching||(Pr.Main_BeforeSearch=Pr.Main_Go),m_(Pr.Main_Go),Pr.Main_Go=fr,1===e?(dv(),Gp()):2===e?cy():3===e&&vm()}function Gv(e){if(""===Pr.Play_gameSelected)return Eh=!0,Hp(Zn),void window.setTimeout(function(){Eh=!1,qp()},2e3);Pr.Main_BeforeAgameisSet||Pr.Main_Go===Ar||Pr.Main_Go===Mr||(Pr.Main_BeforeAgame=Pr.Main_BeforeChannelisSet&&Pr.Main_Go!==pr&&Pr.Main_Go!==vr&&Pr.Main_Go!==gr?Pr.Main_BeforeChannel:Pr.Main_Go,Pr.Main_BeforeAgameisSet=!0),m_(Pr.Main_Go),Pr.Main_Go=cr,Io=!1,Pr.Main_gameSelected=Pr.Play_gameSelected,dv(),1===e?Gp():2===e?cy():3===e&&vm()}function Uv(){no()&&Vi[Pr.Users_Position].access_token?za?vi():mi():(Hp(Bt),Eh=!0,window.setTimeout(function(){qp(),Eh=!1},2e3))}function Rv(e){Mh?1===Mh?(1===e?(kp(),tv()):2===e?(yg=!1,oy(),_y()):3===e&&(tm=!1,_m(),ym()),Qp()):2===Mh?(Wa=1===e?Pr.Play_selectedChannel_id:Pr.Main_selectedChannel_id,Uv(),iv(),1===e?ov():2===e?vy():3===e&&Mm()):3===Mh?Gv(e):4===Mh?Bv(e):5===Mh&&Ov(e):Im()}function Play_PannelEndStart(e){1===e?(window.clearInterval(yh),Fv()):Nv(e)}function Nv(e){window.clearInterval(yh),window.clearInterval(Gf),window.clearInterval(vg),kv(),Th=3,Pv(e),Cv(e)}function Fv(){Dp(),Qm=-1,rh=0,Ph=2e3,Wl(),window.clearInterval(Km),window.clearInterval(yh),""!==Pr.Play_selectedChannel_id?Hv():Vv()}function Vv(){Bf("https://api.twitch.tv/kraken/users?login="+Pr.Play_selectedChannel,Ph,2,null,Dv,Jv,!1)}function Dv(e){void 0!==(e=JSON.parse(e).users[0])?(Pr.Play_selectedChannel_id=e._id,rh=0,Ph=2e3,Hv()):Nv(1)}function Jv(){++rh<uh?(Ph+=250,Vv()):Ip(!1,1)}function Hv(){xf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Pr.Play_selectedChannel_id),Ph,1,null,zv,qv,!0)}function qv(){++rh<uh?(Ph+=250,Hv()):Ip(!1,1)}function zv(e){void 0!==(Rh=JSON.parse(e).hosts[0]).target_login?(Eh=!0,Hp(Pr.Play_selectedChannelDisplayname+rn+ne+Rh.target_display_name),window.setTimeout(function(){Eh=!1},4e3),Tv(0),Pr.Play_isHost=!0):(Tv(1),Pr.Play_isHost=!1),Nv(1)}function Xv(){za?(Gu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Gu("fallow_text",wa+Et)):(Gu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Gu("fallow_text",wa+It))}function jv(e){Mv()&&!Wp()?(xv(),Xp()):sM()?lM():ev()&&!By()?e?_y():tv():By()&&Wp()?(Ty(),ry(!1),Rp()):Wp()?(jp(),dv(),e?cy():Gp()):(zp()&&qp(),Xp())}function Wv(e){if(Qm!==Zm)switch(e.keyCode){case Ga:Wp()?(jp(),dv(),Gp()):Xp()}else switch(e.keyCode){case xa:sM()?Xm&&!BA&&(gM(),Xm--,fM()):Hm&&!ev()&&lv()?(Gm++,hv()):ev()?(wv(),5<++Mh&&(Mh=1),bv(),iv(),ov()):Mv()?(xv(),Sv(),--Lh<(Pr.Play_isHost?1:2)&&(Lh=3),Iv()):nv();break;case Ta:sM()?Xm<NA-1&&!BA&&(gM(),Xm++,fM()):!Hm||ev()||Mv()?ev()?(wv(),--Mh<1&&(Mh=5),bv(),iv(),ov()):Mv()?(xv(),Sv(),3<++Lh&&(Lh=Pr.Play_isHost?1:2),Iv()):nv():Af("ChatEnable",(oh=lv()||Mv()?(dv(),!1):(sv(),!0))?"true":"false");break;case La:ev()?(0<ih&&1===Mh&&(ih--,rv()),iv(),ov()):!sM()&&no()?dM():Mv()?xv():sM()&&_M();break;case Ba:ev()?(ih<uv()-1&&1===Mh&&(ih++,rv()),iv(),ov()):sM()?lM():Hm&&lv()?(4<++Fm?mv(!(Fm=1)):4===Fm&&mv(!0),_v(!0)):Mv()?xv():nv();break;case Oa:if(Mv())Lv(1);else if(ev())Rv(1);else if(sM()){var t=document.getElementById(jA[8]+Xm);null===t?cM():Pr.Play_selectedChannel!==JSON.parse(t.getAttribute(fu))[0]?(Up(),z_(Xm,jA,Wv)):cM()}else nv();break;case Ga:jv(!1);break;case Sa:case Ia:case Pa:Mv()||gv(1)}}var Yv,Zv,Qv,Kv,$v="source",eg=$v,tg=0,ng=null,ag=0,ig=0,og=0,sg="",dg=[],lg=0,cg=0,rg=5,ug=!1,_g=2e3,fg=0,mg=5,hg=1e4,pg=0,vg=null,gg=0,yg=!1,bg=0,wg=!1,kg=!1,Cg=0,Ag=!1,Mg=0,Eg=2e3,Ig=!1,Sg=0,Pg={},xg=0,Lg=0,Tg=!0,Bg=0,Og=0,Gg=0,Ug=!1,Rg=[0,10,30,60,120,300,600,900,1200,1800],Ng=!1;function Fg(){Dp(),Av(),Sg=0,Uu("stream_live_time",""),Uu("stream_watching_time",""),Uu("progress_bar_current_time",Tp(0)),dc=O+".",Gu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),xu("progress_pause_holder"),Og=0,Ay((zh=Rg)[1]),tg=Wm,$f=!0,$d=0,Pr.Play_isHost=!1,Pr.vodOffset?(Dg(),zg()):(Tg&&""!==Pr.Main_selectedChannel_id?(up(document.getElementById("stream_info_icon"),Pr.Main_selectedChannelLogo),Pg["#"+Pr.ChannelVod_vodId]||mc(),no()?(Wa=Pr.Main_selectedChannel_id,ja=!0,ci()):Vp()):(Dg(),Jg()),Uu("stream_info_name",Pr.Main_selectedChannelDisplayname),Gu("stream_info_title",Yd),Gu("stream_info_game",Zd+" ["+Hd.toUpperCase()+"]"),Uu("stream_live_icon",Qd)),Pg["#"+Pr.ChannelVod_vodId]&&!Pr.vodOffset?(Jp(),Ly()):Vg()}function Vg(){window.setTimeout(function(){Lu("scene_channel_panel_bottom"),Gu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Lu("progress_pause_holder")},1e3),Uu("progress_bar_duration",Tp(Vd)),Pr.Play_WasPlaying=2,__(),Kv=window.setInterval(Zg,6e4),I_(qh),gg=bg=0,window.clearInterval(vg),Eh=Ig=wg=!(Rm=-13),Ag=!1,og=ig=ag=Mg=0,document.addEventListener("visibilitychange",Wg,!1),Ng=!(ug=!(kg=!1)),Qg(),Tv(2),document.body.removeEventListener("keyup",R_)}function Dg(){fg=0,mg=5,hg=1e4}function Jg(){Bf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Pr.Main_selectedChannel),hg,2,null,Hg,qg,!1)}function Hg(e){void 0!==(e=JSON.parse(e).users[0])?(Pr.Main_selectedChannelLogo=e.logo,Pr.Main_selectedChannel_id=e._id,Pg["#"+Pr.ChannelVod_vodId]||mc(),no()?(Wa=Pr.Main_selectedChannel_id,ja=!0,ci()):Vp()):(Pr.Main_selectedChannelLogo=Ma,Pr.Main_selectedChannel_id=""),up(document.getElementById("stream_info_icon"),Pr.Main_selectedChannelLogo)}function qg(){++fg<mg?(hg+=500,window.setTimeout(function(){ug&&Jg()},750)):Zv=window.setTimeout(Jg,2500)}function zg(){Bf("https://api.twitch.tv/kraken/videos/"+Pr.ChannelVod_vodId,hg,2,null,jg,Xg,!1)}function Xg(){++fg<mg&&(hg+=2e3,zg())}function jg(e){e=JSON.parse(e),Gu("stream_info_title",_S.parse(e.title)),Gu("stream_info_game",Zt+v+e.game+", "+a_(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Uu("stream_live_icon",N+g_(e.created_at)),Uu("progress_bar_duration",Tp(Vd=parseInt(e.length))),Sg=1e3*Pr.vodOffset,wy(Pr.vodOffset,Vd,!0),Pr.Main_selectedChannelDisplayname=e.channel.display_name,Uu("stream_info_name",Pr.Main_selectedChannelDisplayname),Pr.Main_selectedChannelLogo=e.channel.logo,up(document.getElementById("stream_info_icon"),Pr.Main_selectedChannelLogo),Pr.Main_selectedChannel_id=e.channel._id,Pr.Main_selectedChannel=e.channel.name,no()?(ja=!0,Wa=Pr.Main_selectedChannel_id,ci()):Vp(),I_(e.increment_view_count_url)}function Wg(){document.hidden?Mv()?(jp(),dv(),cy()):(Zg(),Iy(),Nc(),Np(),window.clearInterval(vg),window.clearInterval(Kv)):(ug=!0,Qp(),ug&&(Dp(),mh=mh=0,navigator.onLine?sy():Tm=window.setInterval(Yg,100),Rc(_c),Tv(2),Kv=window.setInterval(Zg,6e4)))}function Yg(){(navigator.onLine||200<mh)&&(window.clearInterval(Tm),tg=Wm,Qg()),mh++}function Zg(){Pr.vodOffset=yu?parseInt(Android.gettime()/1e3):0,__(),Pr.vodOffset=0}function Qg(){cg=0,Eg=2e3,Kg()}function Kg(){xf(tg===Wm?"https://api.twitch.tv/api/vods/"+Pr.ChannelVod_vodId+"/access_token"+(no()&&Vi[Pr.Users_Position].access_token?"?oauth_token="+Vi[Pr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Pr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(ag.token)+"&nauthsig="+ag.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Ph,1,null,ty,$g,!0)}function $g(){if(ug){var e;if(ag.token&&(e=JSON.parse(ag.token)),e&&0!==JSON.parse(ag.token).chansub.restricted_bitrates.length)return void ny();++cg<rg?(Eg+=250,Kg()):nr?ey():(Jp(),Nv(2))}}function ey(){dg=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],tg=Zm,ug&&oy()}function ty(e){tg===Wm?(ag=JSON.parse(e),tg=Ym,Qg()):tg===Ym&&(dg=yp(ig=e),tg=Zm,ug&&oy())}function ny(){no()&&Vi[Pr.Users_Position].access_token?(Wa=Pr.Main_selectedChannel_id,bi()):(Jp(),Hp(P+St),window.setTimeout(function(){ug&&cy()},4e3))}function ay(){Jp(),Hp(P+Pt),window.setTimeout(function(){ug&&cy()},4e3)}function iy(){Ng?(Jp(),Hp(P+xt),window.setTimeout(function(){ug&&cy()},4e3)):(Ng=!0,tg=Wm,Qg())}function oy(){window.clearInterval(vg),sg=dg[lg=0].url,-1!==$v.indexOf("source")&&($v="source");for(var e=0;e<by();e++){if(dg[e].id===$v){sg=dg[lg=e].url;break}-1!==dg[e].id.indexOf($v)&&(sg=dg[lg=e].url)}eg=$v,sy()}function sy(){ar&&console.log("PlayVod_onPlayer:",'\n\n"'+sg+'"\n'),Pr.vodOffset?(sc=Pr.vodOffset,mc(),yu&&ug&&Android.startVideoOffset(sg,2,Ug?-1:1e3*Pr.vodOffset),Pr.vodOffset=0):yu&&ug&&Android.startVideoOffset(sg,2,Ug?-1:Android.gettime()),Ug=!1,oh&&!lv()&&sv(),yu&&(gg=0,Dh=3+_g/1e3,yg=!1,window.clearInterval(vg),vg=window.setInterval(dy,Jh))}function dy(){yu&&(Sg=Android.gettime()),ug&&pg===Sg&&!Pp()?++gg>Dh&&(yg&&wg&&lg<by()-1?lg++:!yg&&wg&&bg++,navigator.onLine?1<bg?Sp(bg,2,ly):(yy(),oy(),wg=!0):Ip(!1,2)):(gg=bg=0,wg=!1),pg=Sg}function ly(e){if(!e){if(!(lg<by()-1))return void Ip(!1,2);lg++}bg=0,yy(),oy(),wg=!0}function cy(){ug&&(dg=[],ry(!0),Rp())}function ry(e){e&&Iy(),yu&&Android.stopVideo(2),ug=!1,window.clearInterval(Kv),window.clearInterval(Zv),Pr.Play_WasPlaying=0,Tg=!0,Fc(),lM(),Np(),uy()}function uy(){document.body.removeEventListener("keydown",Ny),document.removeEventListener("visibilitychange",Wg),Pr.vodOffset=0,window.clearInterval(ng),window.clearInterval(vg),Vd=0}function _y(){Ag=!1,Cg=Mg=0,iv(),document.getElementById("scene_channel_panel").style.opacity="0",yu&&wy(Android.gettime()/1e3,Vd,!0),Gu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",$v=eg,window.clearInterval(Qv)}function fy(e){my(),xp(),jp(),Qv=window.setInterval(my,1e3),e&&(hy(),gy(),yy(),vy()),document.getElementById("scene_channel_panel").style.opacity="1"}function my(){yu&&wy(Android.gettime()/1e3,Vd,!Ag)}function hy(){Lg=Pp()?1:0,py()}function py(){Lg?1===Lg?(Bu("pause_button","progress_bar_div_focus"),Ou("progress_bar_div","progress_bar_div_focus"),wv(),Gu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):2===Lg&&(Ou("pause_button","progress_bar_div_focus"),Ou("progress_bar_div","progress_bar_div_focus"),bv(),Gu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):(Ou("pause_button","progress_bar_div_focus"),Bu("progress_bar_div","progress_bar_div_focus"),wv(),Cg&&(My(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function vy(){Vm=window.setTimeout(_y,5e3+Bg)}function gy(){for(var e=lg=0;e<by();e++){if(dg[e].id===$v){lg=e;break}-1!==dg[e].id.indexOf($v)&&(lg=e)}}function yy(){1===by()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):lg?lg===by()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==($v=dg[lg].id).indexOf("source")?Uu("quality_name",$v.replace("source",ge)+dg[lg].band):Uu("quality_name",$v+dg[lg].band)}function by(){return dg.length}function wy(e,t,n){Uu("progress_bar_current_time",Tp(e)),n&&(Om.style.width=e/t*100+"%")}function ky(){Qp(),Mv()||(tm=yg=!1,ug?(yu&&Android.startVideoOffset(sg,2,0<Gg?1e3*Gg:-1),sc=Gg):(sc=$d,yu&&Android.startVideoOffset(Wf,3,0<Gg?1e3*Gg:-1)),$f&&mc()),Gu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",Ag=!1,Gg=Cg=Mg=0}function Cy(){Og=Mg=0,Ay(zh[1])}function Ay(e){Cg&&!Lg&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Uu("progress_bar_steps",Dn+e/60+Hn):Uu("progress_bar_steps",e?Dn+e+Jn:Dn+zh[1]+Jn)}function My(){Uu("progress_bar_jump_to",ue+" ("+(Cg<0?"-":"")+Tp(Math.abs(Cg))+")"+_e+Tp(Gg))}function Ey(e,t){var n=yu?Android.gettime()/1e3:0;window.clearTimeout(Yv),Ag=!0,Mg<zh.length-1&&Og++%6==0&&Mg++,Cg+=zh[Mg]*e,Gg=n+Cg,ug&&(Gg=10*Math.floor(Gg/10)),t<Gg?(Cg=t-n-zh[1],Gg=n+Cg,Og=Mg=0):Gg<0&&(Cg=0-n,Gg=Og=Mg=0),My(),Om.style.width=Gg/t*100+"%",Ay(zh[Mg]*e),Yv=window.setTimeout(Cy,1e3)}function Iy(){var e=yu?parseInt(Android.gettime()/1e3):0,t="#"+Pr.ChannelVod_vodId;300<e&&e<Vd-300?(Pg[t]&&delete Pg[t],Pg[t]=e,Af("PlayVod_VodIds",JSON.stringify(Pg))):Vd-300<e&&Pg[t]&&(delete Pg[t],Af("PlayVod_VodIds",JSON.stringify(Pg)))}function Sy(){Pg=Ef("PlayVod_VodIds",{});var e=Py();250<e&&xy(e-250)}function Py(){var e=0;for(var t in Pg)Pg.hasOwnProperty(t)&&e++;return e}function xy(e){var t=0;for(var n in Pg){if(!(t<e))break;delete Pg[n],t++}Af("PlayVod_VodIds",JSON.stringify(Pg))}function Ly(){xu("scene_channel_panel_bottom"),fy(!1),Gu("dialog_vod_saved_text",kn+Bp(1e3*Pg["#"+Pr.ChannelVod_vodId])),Lu("dialog_vod_start")}function Ty(){_y(),xu("dialog_vod_start"),Oy(),window.setTimeout(function(){Lu("scene_channel_panel_bottom")},1e3)}function By(){return Tu("dialog_vod_start")}function Oy(){Uy(),xg=0,Gy()}function Gy(){Bu("dialog_vod_"+xg,"dialog_end_icons_focus")}function Uy(){Ou("dialog_vod_"+xg,"dialog_end_icons_focus")}function Ry(e){Ty(),e?(delete Pg["#"+Pr.ChannelVod_vodId],Pr.vodOffset=0,Fg()):(Pr.vodOffset=Pg["#"+Pr.ChannelVod_vodId],Sg=1e3*Pr.vodOffset,wy(Pr.vodOffset,Vd,!0),Vg())}function Ny(e){if(tg===Zm||By())switch(e.keyCode){case xa:sM()?Xm&&!BA&&(gM(),Xm--,fM()):Hm&&!ev()&&lv()?(Gm++,hv()):ev()&&!By()?(iv(),Lg?(wv(),5<++Mh&&(Mh=1),bv()):(Ey(-1,Vd),Bg=2500),vy()):By()?(Uy(),xg?xg--:xg++,Gy()):Mv()?(xv(),Sv(),--Lh<0&&(Lh=3),1===Lh&&(Lh=0),Iv()):By()||fy(!0);break;case Ta:sM()?Xm<NA-1&&!BA&&(gM(),Xm++,fM()):!Hm||ev()||Mv()?ev()&&!By()?(iv(),Lg?(wv(),--Mh<1&&(Mh=5),bv()):(Ey(1,Vd),Bg=2500),vy()):By()?(Uy(),xg?xg--:xg++,Gy()):Mv()?(xv(),Sv(),3<++Lh&&(Lh=0),1===Lh&&(Lh=2),Iv()):By()||fy(!0):Af("ChatEnable",(oh=lv()||Mv()?(dv(),!1):(sv(),!0))?"true":"false");break;case La:Mv()?xv():ev()&&!By()?(2===Lg&&1!==Mh?(Lg--,py()):1===Lg?(Lg--,py()):0<lg&&1===Mh&&(lg--,yy()),iv(),vy()):sM()?sM()?_M():By()||fy(!0):dM();break;case Ba:Mv()?xv():ev()&&!By()?(Lg?1===Lg?(Lg++,py()):lg<by()-1&&1===Mh&&(lg++,yy()):(Lg++,py()),iv(),vy()):sM()?lM():Hm&&lv()?(4<++Fm?mv(!(Fm=1)):4===Fm&&mv(!0),_v(!0)):By()||fy(!0);break;case Oa:By()?Ry(xg):Mv()?Lv(2):ev()?Lg?1===Lg?(Pr.Play_ChatForceDisable&&(Pp()?Rc(_c):Nc()),Mv()||gv(2)):Rv(2):(iv(),vy(),Cg&&ky()):sM()?(ry(!0),z_(Xm,jA,Wv)):fy(!0);break;case Ga:jv(!0);break;case Sa:case Ia:case Pa:Pr.Play_ChatForceDisable&&(Pp()?Rc(_c):Nc()),Mv()||gv(2)}else switch(e.keyCode){case Ga:Wp()?(jp(),cy()):Xp()}}var Fy={};function Vy(){console.log("InitScreens place holder")}function Dy(){Ib(),Sb(),xb(),Lb(),Tb(),Ob(),Gb()}function Jy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Hy(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function qy(){Hr=-1,Pr.Main_Go=Fy.screen,Fy.label_init(),document.body.addEventListener("keydown",rb,!1),Fy.status?(Lu(Fy.ids[10]),M_(Fy.posY),ab(),__()):Xy()}function zy(){Hr=0,Fy.label_exit(),document.body.removeEventListener("keydown",rb),xu(Fy.ids[10])}function Xy(){Ru(),w_(Fy.table),Yu(),Fy.cursor=null,Fy.status=!1,Fy.row=document.createElement("div"),Fy.MaxOffset=0,Fy.TopRowCreated=!1,Fy.offset=0,Fy.idObject={},Fy.FirstLoad=!0,Fy.itemsCount=0,Fy.posX=0,Fy.posY=0,Fy.row_id=0,Fy.coloumn_id=0,Fy.data=null,Fy.data_cursor=0,Fy.dataEnded=!1,qu(),jy(),Wy()}function jy(){Fy.loadingData=!0,Fy.loadingDataTry=0,Fy.loadingDataTimeout=3500}function Wy(){Fy.set_url(),yu&&!Fy.itemsCount?Tf(Fy.url,Fy.loadingDataTimeout,2,null,Zy,Yy):Bf(Fy.url,Fy.loadingDataTimeout,2,null,Zy,Yy,!1)}function Yy(){Fy.loadingDataTry++,Fy.loadingDataTry<Fy.loadingDataTryMax?(Fy.loadingDataTimeout+=500,Wy()):(Fy.loadingData=!1,Fy.itemsCount?Fy.dataEnded=!0:(Fy.FirstLoad=!1,Nu(),Wu(x),Fy.key_exit()))}function Zy(e){Fy.concatenate(e)}function Qy(){var e=Fy.data.length-Fy.data_cursor;e>Fy.ItemsLimit?e=Fy.ItemsLimit:Fy.loadingData||(Fy.dataEnded=!0);var t=document.getElementById(Fy.table);if(Fy.HasSwitches&&!Fy.TopRowCreated){Fy.TopRowCreated=!0,Fy.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m;(Nr=document.createElement("div")).setAttribute("id",Fy.ids[8]+"y_0"),Nr.className="stream_cell_period",Nr.innerHTML='<div id="'+Fy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Fy.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",Fy.row.appendChild(Nr),t.appendChild(Fy.row)}if(e){var a=Math.ceil(e/Fy.ColoumnsCount),i=Fy.row_id+a;for(Fy.row_id;Fy.row_id<i;){for(Fy.coloumn_id===Fy.ColoumnsCount&&(Fy.row=document.createElement("div"),Fy.coloumn_id=0),Fy.coloumn_id;Fy.coloumn_id<Fy.ColoumnsCount&&Fy.data_cursor<Fy.data.length;Fy.data_cursor++)Fy.data[Fy.data_cursor]&&Fy.addCell(Fy.data[Fy.data_cursor]);if(t.appendChild(Fy.row),Fy.coloumn_id===Fy.ColoumnsCount)Fy.row_id++;else if(Fy.data_cursor>=Fy.data.length)break}}Fy.emptyContent=!e&&!Fy.status,nb()}function Ky(e,t,n,a){var i=e+"_"+t;return A_(n[1]+i,a),e<Fy.ColoumnsCount&&I_(a),(Nr=document.createElement("div")).style.cssText=Fy.ThumbCssText,i}function $y(e,t,n,a,i,o){var s=Ky(e,t,n,a);return Nr.setAttribute("id",n[5]+s),Nr.setAttribute(fu,i),Nr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Nr}function eb(e,t,n,a,i,o,s,d,l,c,r,u,_,f,m,h){var p=Ky(e,t,n,a);return Nr.setAttribute("id",n[8]+p),Nr.setAttribute(fu,JSON.stringify([r,c,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Nr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+da+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+F+Tp(c)+"</div></div></div></div>",Nr}function tb(e,t,n,a,i){var o=Ky(e,t,a,i[0]);return Nr.setAttribute("id",a[8]+o),Nr.setAttribute(fu,JSON.stringify(n)),Nr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+_S.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Nr}function nb(){Fy.status?(k_(Fy.img_404),zu(Fy.posX,Fy.posY,Fy.ColoumnsCount,Fy.itemsCount)):(Fy.emptyContent?Wu(Fy.empty_str()):(Fy.status=!0,k_(Fy.img_404)),qr&&Fy.status&&Pk.restor_playback.defaultValue?Pr.Play_WasPlaying?(m_(Pr.Main_Go),Pr.Main_Go=Sr,Pr.vodOffset||(Pr.vodOffset=1),Vd=Pr.vodOffset+1,Hp(qn),1===Pr.Play_WasPlaying?X_():Y_(),r_(!0),window.setTimeout(function(){Eh||qp()},2e3)):1!==Sr?(m_(Pr.Main_Go),Pr.Main_Go=Sr,Q_(Fy.posY+"_"+Fy.posX,Fy.ids),r_()):(Pr.Never_run&&e_(),Pr.Never_run=!1,ab(),__()):(ab(),__()),qr=!1,Fy.FirstLoad=!1,Nu())}function ab(){if(Fy.emptyContent){if(!Fy.HasSwitches)return void Fy.key_exit();Fy.posY=-1}Fy.posY<0?ob():(Fy.addFocus(Fy.posY,Fy.posX,Fy.ids,Fy.ColoumnsCount,Fy.itemsCount),2<Fy.posY&&Fy.data_cursor+gb>Fy.data.length&&!Fy.dataEnded&&!Fy.loadingData?(jy(),Wy()):Fy.posY+Fy.ItemsReloadLimit>Fy.itemsCount/Fy.ColoumnsCount&&Fy.data_cursor<Fy.data.length&&(C_(),ef(function(){Fy.loadDataSuccess()})),Tr&&Q_(Fy.posY+"_"+Fy.posX,Fy.ids))}function ib(e,t){Q_(Fy.posY+"_"+Fy.posX,Fy.ids),Fy.posY+=e,Fy.posX=t,ab()}function ob(){Bu(Fy.ids[0]+"y_0",_u)}function sb(){Ou(Fy.ids[0]+"y_0",_u)}function db(e){n_()?t_():Ku()?Qu():(e===Fy.screen?Pr.Main_Go=sr:Pr.Main_Go=e,zy())}function lb(e){if(!Fy.HasSwitches||Fy.posY||-1!==e||Fy.emptyContent){if(Fy.HasSwitches&&-1===Fy.posY&&s_(0,Fy.posX,Fy.ids[0]))Fy.posY=0,ab(),sb();else for(var t=0;t<Fy.ColoumnsCount;t++)if(s_(Fy.posY+e,Fy.posX-t,Fy.ids[0]))return void ib(e,Fy.posX-t)}else Q_(Fy.posY+"_"+Fy.posX,Fy.ids),Fy.posY=-1,ob()}function cb(e,t){s_(Fy.posY,Fy.posX+e,Fy.ids[0])?ib(0,Fy.posX+e):s_(Fy.posY+e,t,Fy.ids[0])&&ib(e,t)}function rb(e){if(!Fy.FirstLoad&&!V_())switch(F_(),e.keyCode){case Ga:Fy.key_exit();break;case xa:cb(-1,Fy.ColoumnsCount-1);break;case Ta:cb(1,0);break;case La:lb(-1);break;case Ba:lb(1);break;case Sa:case Ia:case Pa:case Oa:Fy.key_play()}}Fy.FirstLoad=!1;var ub,_b,fb,mb,hb,pb,vb,gb=100,yb="",bb="",wb="",kb="",Cb="",Ab="",Mb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Qy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){n_()?t_():Ku()?Qu():(this.itemsCount&&Q_(this.posY+"_"+this.posX,this.ids),gf(rb))}},Eb={ThumbSize:32.65,ItemsLimit:Wr,ItemsReloadLimit:Zr,ColoumnsCount:Yr,addFocus:J_,img_404:Ea,empty_str:function(){return L+Y},key_play:function(){z_(this.posY+"_"+this.posX,this.ids,rb)}};function Ib(){(pb=Hy(pb=Hy({ids:Jy("Live"),table:"stream_table_live",screen:sr,base_url:"https://api.twitch.tv/kraken/streams?limit="+gb,set_url:function(){this.offset&&this.offset+gb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Vr?"&broadcaster_language="+Vr:"")},label_init:function(){Pr.Main_CenterLablesVectorPos=0,Bu("top_bar_live","icon_center_focus")},label_exit:function(){Ou("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(tb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Op(e.created_at)+" "+h+a_(e.viewers)+D,i_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Mb),Eb)).set_ThumbSize()}function Sb(){(vb=Hy(vb=Hy({ids:Jy("Featured"),table:"stream_table_featured",screen:Er,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+gb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(no()&&Vi[Pr.Users_Position].access_token?"&oauth_token="+Vi[Pr.Users_Position].access_token:"")},label_init:function(){Pr.Main_CenterLablesVectorPos=2,Bu("top_bar_featured","icon_center_focus")},label_exit:function(){Ou("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(tb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Op(e.created_at)+" "+h+a_(e.viewers)+D,i_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Mb),Eb)).set_ThumbSize()}var Pb={ThumbSize:32.65,ItemsLimit:Wr,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:Zr,ColoumnsCount:Yr,addFocus:J_,cursor:null,period:["day","week","month","all"],img_404:Ea,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Xy()):j_(this.posY+"_"+this.posX,this.ids,rb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(eb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,g_(e.created_at)],[_S.parse(e.title),v,e.game],a_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function xb(){(ub=Hy(ub=Hy({ids:Jy("Clip"),table:"stream_table_clip",screen:Cr,periodPos:Mf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+gb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Vr?"&language="+Vr:"")},SetPeriod:function(){Gu("top_bar_clip",U+v_(Jr[this.periodPos-1])),Af("Clip_periodPos",this.periodPos)},label_init:function(){Pr.Main_CenterLablesVectorPos=5,this.SetPeriod(),Bu("top_bar_clip","icon_center_focus"),Pu("label_refresh","icon-refresh",t+jt)},label_exit:function(){h_(),Ou("top_bar_clip","icon_center_focus"),Pu("label_refresh","icon-refresh",t+jt)}},Mb),Pb)).set_ThumbSize()}function Lb(){(_b=Hy(_b=Hy({ids:Jy("ChannelClip"),table:"stream_table_channel_clip",screen:gr,periodPos:Mf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Pr.Main_selectedChannel)+"&limit="+gb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Gu("top_bar_game",U+Jr[this.periodPos-1]),Af("ChannelClip_periodPos",this.periodPos)},label_init:function(){Pr.Main_CenterLablesVectorPos=1,!Pr.Search_isSearching&&Pr.Main_selectedChannel_id&&Ed(),Pr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),p_(),this.SetPeriod(),Uu("top_bar_user",Pr.Main_selectedChannelDisplayname),Pu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Pr.Main_selectedChannel,Lu(this.ids[10])},label_exit:h_},Mb),Pb)).set_ThumbSize()}function Tb(){(fb=Hy(fb=Hy({ids:Jy("AGameClip"),table:"stream_table_a_game_clip",screen:Mr,periodPos:Mf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Pr.Main_gameSelected)+"&limit="+gb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Vr?"&language="+Vr:"")},SetPeriod:function(){Gu("top_bar_game",b+v_(U+Jr[this.periodPos-1]+": "+Pr.Main_gameSelected)),Af("AGameClip_periodPos",this.periodPos)},label_init:function(){Pr.Main_CenterLablesVectorPos=3,this.SetPeriod(),Bu("top_bar_game","icon_center_focus"),Pu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Pr.Main_gameSelected&&(this.status=!1),this.gameSelected=Pr.Main_gameSelected},label_exit:function(){Ou("top_bar_game","icon_center_focus"),Gu("top_bar_game",f),Pu("label_side_panel","icon-ellipsis",Rn)}},Mb),Pb)).set_ThumbSize()}var Bb={ThumbSize:19.35,ItemsLimit:Qr,ItemsReloadLimit:$r,ColoumnsCount:Kr,addFocus:H_,img_404:Aa,empty_str:function(){return L+Q},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===_r?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===_r?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Pr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(fu),document.body.removeEventListener("keydown",rb),Pr.Main_BeforeAgame=this.screen,Pr.Main_Go=cr,Pr.Main_BeforeAgameisSet=!0,Io=!1,Hr=0,document.body.removeEventListener("keydown",rb),xu(this.ids[10]),u_(),Q_(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===lr,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild($y(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",uu),n.name,t?a_(e.channels)+" "+M+h+a_(e.viewers)+D:"")),this.coloumn_id++)}};function Ob(){(mb=Hy(mb=Hy({ids:Jy("Game"),table:"stream_table_games",screen:lr,base_url:"https://api.twitch.tv/kraken/games/top?limit="+gb,set_url:function(){this.offset&&this.offset+gb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Pr.Main_CenterLablesVectorPos=3,Bu("top_bar_game","icon_center_focus")},label_exit:function(){Ou("top_bar_game","icon_center_focus")}},Mb),Bb)).set_ThumbSize()}function Gb(){(hb=Hy(hb=Hy({ids:Jy("UserGames"),table:"stream_table_user_games",screen:_r,isLive:If("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+gb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Vi[Pr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+gb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+" "+(this.isLive?Q:zt))),Xy(),Af("user_Games_live",this.isLive?"true":"false"),lE&&pE()},label_init:function(){Pr.Main_CenterLablesVectorPos=1,Pu("label_refresh","icon-refresh",Xt+Q+"/"+zt+":"+jt),Pu("label_side_panel","icon-arrow-circle-left",I),Bu("top_bar_user","icon_center_focus"),this.OldUserName!==Vi[Pr.Users_Position].name&&(this.status=!1),this.OldUserName=Vi[Pr.Users_Position].name,Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+" "+(this.isLive?Q:zt)))},label_exit:function(){Pr.Users_Position=0,Ou("top_bar_user","icon_center_focus"),Pu("label_refresh","icon-refresh",t+jt),Uu("top_bar_user",u),Pu("label_side_panel","icon-ellipsis",Rn)}},Mb),Bb)).set_ThumbSize()}var Ub=0,Rb=0,Nb=!1,Fb=0,Vb={},Db=[],Jb=!1,Hb=0,qb=5,zb=3500,Xb=0,jb=0,Wb=!1,Yb=!1,Zb="",Qb=!1,Kb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function $b(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=wr,Pr.isLastSChannels=!0,Pr.Search_isSearching=!0,Zb!==Pr.Search_data&&(Yb=!1),p_(),Gu("top_bar_user",n+v_(M+" '"+Pr.Search_data+"'")),document.body.addEventListener("keydown",fw,!1),Yb?(M_(Ub),Lu(Kb[6]),uw(),__()):tw()}function ew(){h_(),document.body.removeEventListener("keydown",fw),xu(Kb[6])}function tw(){w_("stream_table_search_channel"),xu(Kb[6]),Ru(),Yu(),Zb=Pr.Search_data,Yb=!1,Vb={},pf=!(Fb=jb=Xb=0),Ub=Rb=0,Nb=Qb=!(Db=[]),qu(),nw(),aw()}function nw(){C_(),Jb=!0,Hb=0,zb=3500}function aw(){var e=Fb+Xb;e&&jb-1<e&&(e=jb-eu,Nb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Pr.Search_data)+"&limit="+eu+"&offset="+e;yu&&!Fb?Tf(t,zb,2,null,ow,iw):Bf(t,zb,2,null,ow,iw,!1)}function iw(){++Hb<qb?(zb+=500,aw()):(Jb=!1,Fb?(Nb=!0,dw()):(pf=!1,Nu(),Wu(x)))}function ow(e){var t=JSON.parse(e),n=t.channels.length;jb=parseInt(t._total),n<eu&&(Nb=!0);var a=Fb;Wb=!(Fb+=n);var i=n/tu;0<n%tu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/tu+_,d=document.createElement("tr"),o=0;o<tu&&r<n;o++,r++)c=(l=t.channels[r])._id,Vb[c]?o--:(Vb[c]=1,d.appendChild(sw(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<tu;o++)Nb&&!Qb&&(Qb=!0,Fb=s*tu+o),d.appendChild(S_(Kb[5]+s+"_"+o)),Db.push(Kb[5]+s+"_"+o);u.appendChild(d)}dw()}function sw(e,t,n){return e<4&&I_(n[2]),P_(t,Kb,n)}function dw(){if(Yb){if(k_(Ma),0<Db.length&&!Nb)return nw(),void lw();uw(!0),Db=[]}else Wb?Wu(d):(Yb=!0,k_(Ma),uw(),__()),Lu(Kb[6]),pf=!1,Nu();Jb=!1}function lw(){ju(Db.length);var e=Fb+Xb;e&&jb-1<e&&(e=jb-au,Nb=!0),xf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Pr.Search_data)+"&limit="+au+"&offset="+e,zb,2,null,rw,cw)}function cw(){++Hb<qb?(zb+=500,lw()):(Nb=!0,Fb-=Db.length,Db=[],dw())}function rw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(jb=parseInt(a._total),i<au&&(Nb=!0);o<Db.length&&s<i;o++,s++)n=(t=a.channels[s])._id,Vb[n]?o--:(Vb[n]=1,x_(Db[o],[t.name,n,t.logo,t.display_name],Kb),d.push(o));for(o=d.length-1;-1<o;o--)Db.splice(d[o],1);Xb+=s,Nb&&(Fb-=Db.length,Db=[]),dw()}function uw(e){D_(Ub,Rb,Kb,tu,Fb,e),Fb/tu<Ub+nu&&!Nb&&!Jb&&(nw(),aw()),Tr&&_w()}function _w(){Fb&&Q_(Ub+"_"+Rb,Kb)}function fw(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(_w(),gf(fw));break;case xa:if(s_(Ub,Rb-1,Kb[0]))_w(),Rb--,uw();else for(t=tu-1;-1<t;t--)if(s_(Ub-1,t,Kb[0])){_w(),Ub--,Rb=t,uw();break}break;case Ta:s_(Ub,Rb+1,Kb[0])?(_w(),Rb++,uw()):s_(Ub+1,0,Kb[0])&&(_w(),Ub++,Rb=0,uw());break;case La:for(t=0;t<tu;t++)if(s_(Ub-1,Rb-t,Kb[0])){_w(),Ub--,Rb-=t,uw();break}break;case Ba:for(t=0;t<tu;t++)if(s_(Ub+1,Rb-t,Kb[0])){_w(),Ub++,Rb-=t,uw();break}break;case Sa:case Ia:case Pa:case Oa:Pr.Main_selectedChannel=document.getElementById(Kb[4]+Ub+"_"+Rb).getAttribute(fu),Pr.Main_selectedChannel_id=document.getElementById(Kb[4]+Ub+"_"+Rb).getAttribute("data-id"),Pr.Main_selectedChannelDisplayname=document.getElementById(Kb[3]+Ub+"_"+Rb).textContent,document.body.removeEventListener("keydown",fw),Pr.Main_BeforeChannel=wr,Pr.Main_Go=pr,Pr.Main_BeforeChannelisSet=!0,qs=za=!1,xu(Kb[6]),r_()}}var mw=!1,hw=0,pw=0,vw=0,gw=0,yw=5,bw=3500,ww=0,kw=0,Cw=!1,Aw=!1,Mw="",Ew=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Iw(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=mr,Pr.Search_isSearching=!0,p_(),Mw!==Pr.Search_data&&(mw=!1),Gu("top_bar_user",n+v_(f+" '"+Pr.Search_data+"'")),document.body.addEventListener("keydown",Nw,!1),mw?(M_(hw),Lu(Ew[7]),Uw(),__()):Pw()}function Sw(){Pr.Search_isSearching||h_(),document.body.removeEventListener("keydown",Nw),Pr.Games_return=!1,xu(Ew[7])}function Pw(){w_("stream_table_search_game"),xu(Ew[7]),Ru(),Yu(),Mw=Pr.Search_data,Aw=mw=!1,hw=pw=vw=kw=ww=0,qu(),xw(),Lw()}function xw(){C_(),pf=!0,gw=0,bw=3500}function Lw(){xf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Pr.Search_data),bw,2,null,Bw,Tw)}function Tw(){++gw<yw?(bw+=500,Lw()):(pf=!1,vw?Gw():(Nu(),Wu(x)))}function Bw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=vw;Cw=!(vw+=n);var i=n/Kr;0<n%Kr&&i++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/Kr+u,d=document.createElement("tr"),o=0;o<Kr&&c<n;o++,c++)l=t.games[c],d.appendChild(Ow(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",uu),""]));for(;o<Kr;o++)Aw||(Aw=!0,vw=s*Kr+o),d.appendChild(S_(Ew[6]+s+"_"+o));r.appendChild(d)}Gw()}function Ow(e,t,n){return e<2&&I_(n[1]),G_(t,Ew,n)}function Gw(){mw||(Cw?Wu(d):(mw=!0,k_(Ea),Uw(),__()),Nu()),Lu(Ew[7]),pf=!1,zu(pw,hw,Kr,vw)}function Uw(){H_(hw,pw,Ew,Kr,vw),Tr&&Rw()}function Rw(){vw&&Q_(hw+"_"+pw,Ew)}function Nw(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(Rw(),gf(Nw));break;case xa:if(s_(hw,pw-1,Ew[0]))Rw(),pw--,Uw();else for(t=Kr-1;-1<t;t--)if(s_(hw-1,t,Ew[0])){Rw(),hw--,pw=t,Uw();break}break;case Ta:s_(hw,pw+1,Ew[0])?(Rw(),pw++,Uw()):s_(hw+1,0,Ew[0])&&(Rw(),hw++,pw=0,Uw());break;case La:for(t=0;t<Kr;t++)if(s_(hw-1,pw-t,Ew[0])){Rw(),hw--,pw-=t,Uw();break}break;case Ba:for(t=0;t<Kr;t++)if(s_(hw+1,pw-t,Ew[0])){Rw(),hw++,pw-=t,Uw();break}break;case Sa:case Ia:case Pa:case Oa:Pr.gameSelectedOld=Pr.Main_gameSelected,Sw(),Pr.Main_gameSelected=document.getElementById(Ew[5]+hw+"_"+pw).getAttribute(fu),document.body.removeEventListener("keydown",Nw),Pr.Main_Go=cr,Pr.Games_return=!0,r_()}}var Fw=0,Vw=0,Dw=!1;function Jw(){Yu(),xu("label_refresh"),Pu("label_side_panel","icon-arrow-circle-left",I),Uu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Yc.placeholder=w,Bu("top_bar_user","icon_center_focus"),Lu("search_scroll"),Vw=Fw=0,zw(),jw()}function Hw(){Ww(!1),document.body.removeEventListener("keydown",Xw),zw(),Pr.Main_Go=Pr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Uu("top_bar_user",u),Ou("top_bar_user","icon_center_focus"),Pu("label_side_panel","icon-ellipsis",Rn),Lu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Yc.value="",xu("search_scroll")}function qw(){Hw(),ef(function(){Vw?1===Vw?Iw():2===Vw&&mk():$b()})}function zw(){Ou("chanel_button","button_search_focused"),Ou("game_button","button_search_focused"),Ou("live_button","button_search_focused"),Fw&&(Vw?1===Vw?Bu("game_button","button_search_focused"):2===Vw&&Bu("live_button","button_search_focused"):Bu("chanel_button","button_search_focused"))}function Xw(e){if(!Dw)switch(e.keyCode){case Ga:n_()?t_():Ku()?Qu():(Hw(),r_());break;case xa:1===Fw&&(--Vw<0&&(Vw=2),zw());break;case Ta:1===Fw&&(2<++Vw&&(Vw=0),zw());break;case La:1===Fw&&(Fw=0,zw(),jw());break;case Ba:Fw?1===Fw&&(Fw=0,zw(),jw()):(Ww(!1),Fw=1,zw());break;case Sa:case Ia:case Pa:case Oa:Fw?""!==Yc.value&&null!==Yc.value?(Pr.Search_data=Yc.value,Yc.value="",qw()):(Wu(s),window.setTimeout(function(){Yu()},1e3)):jw()}}function jw(){document.body.removeEventListener("keydown",Xw),document.body.addEventListener("keydown",Zw,!1),Yc.placeholder=w,Yc.focus(),Dw=!0}function Ww(e){Yc.blur(),Yw(),document.body.removeEventListener("keydown",Zw),Yc.placeholder=A+w,e&&document.body.addEventListener("keydown",Xw,!1),Dw=!1}function Yw(){if(null!==Yc){var e=Yc.cloneNode(!0);Yc.parentNode.replaceChild(e,Yc),Yc=document.getElementById("search_input")}}function Zw(e){switch(e.keyCode){case Ga:Ku()?Qu():n_()?t_():(Hw(),r_());break;case Fa:Yc.value="";break;case Ra:case Ba:Ww(!0),Fw=1,zw();break;case Ua:Yc.value=Yc.value.slice(0,-1);break;case Na:Yc.value+=" "}}var Qw=0,Kw=0,$w=!1,ek=0,tk={},nk=[],ak=!1,ik=0,ok=5,sk=3500,dk=0,lk=0,ck=!1,rk=!1,uk=!1,_k="",fk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function mk(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=hr,Pr.Search_isSearching=!0,p_(),_k!==Pr.Search_data&&(rk=!1),Gu("top_bar_user",n+v_(_+" '"+Pr.Search_data+"'")),document.body.addEventListener("keydown",Ik,!1),rk?(M_(Qw),Lu(fk[10]),Mk(),__()):pk()}function hk(){h_(),document.body.removeEventListener("keydown",Ik),xu(fk[10])}function pk(){w_("stream_table_search_live"),xu(fk[10]),Ru(),Yu(),_k=Pr.Search_data,rk=!1,pf=!(uk=!(nk=[])),Qw=Kw=ek=lk=dk=0,$w=!(tk={}),qu(),vk(),gk()}function vk(){C_(),ak=!0,ik=0,sk=3500}function gk(){var e=ek+dk;e&&lk-1<e&&(e=lk-Wr,$w=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Pr.Search_data)+"&limit="+Wr+"&offset="+e;yu&&!ek?Tf(t,sk,2,null,bk,yk):Bf(t,sk,2,null,bk,yk,!1)}function yk(){++ik<ok?(sk+=500,gk()):(ak=!1,ek?($w=!0,wk()):(pf=!1,Nu(),Wu(x)))}function bk(e){var t=JSON.parse(e),n=t.streams.length;lk=parseInt(t._total),n<Wr&&($w=!0);var a=ek;ck=!(ek+=n);var i=n/Yr;0<n%Yr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/Yr+_,d=document.createElement("tr"),o=0;o<Yr&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,tk[c]?o--:(tk[c]=1,d.appendChild(T_(s,s+"_"+o,[l.channel.name,c],fk,[l.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Op(l.created_at)+" "+h+a_(l.viewers)+D,i_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Yr;o++)$w&&!uk&&(uk=!0,ek=s*Yr+o),d.appendChild(S_(fk[9]+s+"_"+o)),nk.push(fk[9]+s+"_"+o);u.appendChild(d)}wk()}function wk(){if(rk){if(k_(Ea),0<nk.length&&!$w)return vk(),void kk();Mk(!0),nk=[]}else ck?Wu(d):(rk=!0,k_(Ea),Mk(),__()),Lu(fk[10]),pf=!1,Nu();ak=!1}function kk(){ju(nk.length);var e=ek+dk;e&&lk-1<e&&(e=lk-au,$w=!0),xf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Pr.Search_data)+"&limit="+au+"&offset="+e,sk,2,null,Ak,Ck)}function Ck(){++ik<ok?(sk+=500,kk()):($w=!0,ek-=nk.length,nk=[],wk())}function Ak(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(lk=parseInt(a._total),i<au&&($w=!0);o<nk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,tk[n]?o--:(tk[n]=1,B_(nk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Op(t.created_at)+" "+h+a_(t.viewers)+D,i_(t.video_height,t.average_fps,t.channel.broadcaster_language)],fk),d.push(o));for(o=d.length-1;-1<o;o--)nk.splice(d[o],1);dk+=s,$w&&(ek-=nk.length,nk=[]),wk()}function Mk(e){J_(Qw,Kw,fk,Yr,ek,e),ek/Yr<Qw+Zr&&!$w&&!ak&&(vk(),gk()),Tr&&Ek()}function Ek(){ek&&Q_(Qw+"_"+Kw,fk)}function Ik(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(Ek(),gf(Ik));break;case xa:if(s_(Qw,Kw-1,fk[0]))Ek(),Kw--,Mk();else for(t=Yr-1;-1<t;t--)if(s_(Qw-1,t,fk[0])){Ek(),Qw--,Kw=t,Mk();break}break;case Ta:s_(Qw,Kw+1,fk[0])?(Ek(),Kw++,Mk()):s_(Qw+1,0,fk[0])&&(Ek(),Qw++,Kw=0,Mk());break;case La:for(t=0;t<Yr;t++)if(s_(Qw-1,Kw-t,fk[0])){Ek(),Qw--,Kw-=t,Mk();break}break;case Ba:for(t=0;t<Yr;t++)if(s_(Qw+1,Kw-t,fk[0])){Ek(),Qw++,Kw-=t,Mk();break}break;case Sa:case Ia:case Pa:case Oa:z_(Qw+"_"+Kw,fk,Ik)}}var Sk=0,Pk={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:xk(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function xk(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Tp(t)),t-=900;for(e.push(Tp(0)),t=900,n=0;n<48;n++)e.push(Tp(t)),t+=900;return e}var Lk=[],Tk=0;function Bk(){c_(),xu("label_side_panel"),Pu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",Kk,!1),Uu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Bu("top_bar_user","icon_center_focus"),Lu("settings_scroll"),zk(Sk=0),Fk("content_lang",jn,eC)}function Ok(){document.body.removeEventListener("keydown",Kk),Lu("label_side_panel"),Xk(),Uu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ou("top_bar_user","icon_center_focus"),Pu("label_refresh","icon-refresh",t+jt),xu("settings_scroll")}function Gk(){var e,t="";t+=Uk("general",gn),e="content_lang",Lk.push(e),Pk[e].values=[Wn],t+=Nk(e,jn,""),e="clock_offset",Lk.push(e),t+=Rk(e,zn),e="restor_playback",Lk.push(e),Pk[e].values=[xn,Pn],t+=Nk(e,Ln,Tn),e="videos_animation",Lk.push(e),Pk[e].values=[xn,Pn],t+=Rk(e,Un),t+=Uk("play",_n),e="chat_font_size",Lk.push(e),t+=Nk(e,Bn,On),e="chat_brightness",Lk.push(e),t+=Rk(e,aa),e="force_disable_chat",Lk.push(e),Pk[e].values=[Jt,L],t+=Nk(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",Lk.push(e),t+=Rk(e,hn),e="buffer_vod",Lk.push(e),t+=Rk(e,pn),e="buffer_clip",Lk.push(e),Gu("settings_main",t+=Rk(e,vn)),Tk=Lk.length,lC()}function Uk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Rk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+Jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Nk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+Jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Fk(e,t,n){Gu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function Vk(){var e="";for(e in Uu("setting_title_general",gn),Uu((e="clock_offset")+"_name",zn),Uu((e="content_lang")+"_name",jn),Uu(e,Jk(e)),Pk[e].values=[Wn],Uu("setting_title_play",_n),Uu("setting_title_buffers",fn),Uu("setting_title_buffers_summary",mn),Uu((e="buffer_live")+"_name",hn),Uu((e="buffer_vod")+"_name",pn),Uu((e="buffer_clip")+"_name",vn),Fk(e="restor_playback",Ln,Tn),Pk[e].values=[xn,Pn],Fk(e="chat_font_size",Bn,On),Fk(e="force_disable_chat",ta,na),Pk[e].values=[xn,Pn],Uu((e="videos_animation")+"_name",Un),Pk[e].values=[xn,Pn],Uu((e="chat_brightness")+"_name",aa),Pk)Pk.hasOwnProperty(e)&&Uu(e,Jk(e));dC()}function Dk(){for(var e in Pk)Pk[e].defaultValue=Mf(e,Pk[e].defaultValue),Pk[e].defaultValue-=1,Pk[e].defaultValue>qk(e)&&(Pk[e].defaultValue=0);Zk(0),Qk(),Nm=(.05*Hk("chat_brightness")).toFixed(2),OI=Hk("videos_animation"),Pr.Play_ChatForceDisable=Hk("force_disable_chat")}function Jk(e){return Pk[e].values[Hk(e)]}function Hk(e){return Pk[e].defaultValue}function qk(e){return Pk[e].values.length-1}function zk(e){var t=Lk[Sk];Bu(t,"settings_value_focus"),Bu(t+"_div","settings_div_focus"),Wk(e)}function Xk(){var e=Lk[Sk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ou(e,"settings_value_focus"),Ou(e+"_div","settings_div_focus")}function jk(e){var t=Lk[e];Af(t,Hk(t)+1),Uu(t,Jk(t)),Wk(e),Yk(e)}function Wk(e){var t=Lk[e];if(qk(t)){var n=Hk(t),a=qk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function Yk(e){"videos_animation"===(e=Lk[e])?OI=Hk("videos_animation"):"buffer_live"===e?Zk(1):"buffer_vod"===e?Zk(2):"buffer_clip"===e?Zk(3):"chat_brightness"===e?(Nm=(.05*Hk("chat_brightness")).toFixed(2),fv(!1)):"force_disable_chat"===e?Pr.Play_ChatForceDisable=Hk("force_disable_chat"):"chat_font_size"===e?ep():"clock_offset"===e&&(Qk(),af())}function Zk(e){try{e?1===e?(jm=1e3*Jk("buffer_live"),yu&&Android.SetBuffer(1,jm)):2===e?(_g=1e3*Jk("buffer_vod"),yu&&Android.SetBuffer(2,_g)):3===e&&(am=1e3*Jk("buffer_clip"),yu&&Android.SetBuffer(3,am)):(jm=1e3*Jk("buffer_live"),_g=1e3*Jk("buffer_vod"),am=1e3*Jk("buffer_clip"),yu&&(Android.SetBuffer(1,jm),Android.SetBuffer(2,_g),Android.SetBuffer(3,am)))}catch(e){}}function Qk(){var e=Hk("clock_offset");gu=e<48?-9e5*(48-e):9e5*(e-48)}function Kk(e){var t;switch(e.keyCode){case Ga:Ku()?Qu():n_()?t_():(Ok(),r_());break;case xa:0<Hk(t=Lk[Sk])&&(Pk[t].defaultValue-=1,jk(Sk));break;case Ta:Hk(t=Lk[Sk])<qk(t)&&(Pk[t].defaultValue+=1,jk(Sk));break;case La:0<Sk&&(Xk(),zk(--Sk));break;case Ba:Sk<Tk-1&&(Xk(),zk(++Sk));break;case Oa:Sk||iC()}}var $k=0,eC="",tC={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},nC=[],aC=0;function iC(){c_(),document.body.removeEventListener("keydown",Kk),xu("settings_main"),Lu("settings_lang"),yC(),Uu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",bC,!1),mC($k=0),sC()}function oC(){document.body.removeEventListener("keydown",bC),document.body.addEventListener("keydown",Kk,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Lu("settings_main"),xu("settings_lang"),Uu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",hC(),dC(),sC()}function sC(){""===Vr&&(eC=Yn,tC.All.defaultValue=1,vC(0),Bu(nC[0],"strokedextraminired"),yC()),Fk("content_lang",jn,eC)}function dC(){if(Vr="",!_C("All")){for(var e in tC)_C(e)&&(Vr+=","+tC[e].set_values);Vr=Vr.slice(1)}eC=""===Vr?Yn:Vr.toUpperCase()}function lC(){var e="";for(var t in tC)nC.push(t),tC[t].values=[L,Jt],e+=cC(t,t);Gu("settings_lang",e),aC=nC.length}function cC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(_C(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+uC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function rC(){for(var e in tC)tC[e].defaultValue=Mf(e,tC[e].defaultValue),tC[e].defaultValue-=1;dC()}function uC(e){return tC[e].values[_C(e)]}function _C(e){return tC[e].defaultValue}function fC(e){return tC[e].values.length-1}function mC(e){var t=nC[$k];Bu(t,"settings_value_focus"),Bu(t+"_div","settings_div_focus"),gC(e),pC(t)}function hC(){var e=nC[$k];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ou(e,"settings_value_focus"),Ou(e+"_div","settings_div_focus")}function pC(){var e=screen.height;7<$k?(e*=.093,e+=-1*document.getElementById(nC[$k-7]).offsetTop):e*=.077,$k<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function vC(e){var t=nC[e];Af(t,_C(t)+1),Uu(t,uC(t)),gC(e)}function gC(e){var t=nC[e],n=_C(t),a=fC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function yC(){for(var e in tC)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=_C("All")?"none":"inline-block")}function bC(e){var t;switch(e.keyCode){case Ga:oC();break;case xa:0<_C(t=nC[$k])&&(tC[t].defaultValue-=1,vC($k),Ou(nC[$k],"strokedextraminired"),-1!==t.indexOf("All")&&yC());break;case Ta:_C(t=nC[$k])<fC(t)&&(tC[t].defaultValue+=1,vC($k),Bu(nC[$k],"strokedextraminired"),-1!==t.indexOf("All")&&yC());break;case La:0<$k&&(hC(),mC(--$k));break;case Ba:!_C("All")&&$k<aC-1&&(hC(),mC(++$k))}}var wC=0,kC=0,CC=!1,AC=0,MC=!1,EC=0,IC=5,SC=3500,PC=[],xC=0,LC=0,TC=!1,BC=!1,OC="",GC=!1,UC={},RC=[],NC=0,FC=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function VC(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=br,Pr.isLastSChannels=!1,Pu("label_side_panel","icon-arrow-circle-left",I),Bu("top_bar_user","icon_center_focus"),Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+K)),document.body.addEventListener("keydown",eA,!1),OC!==Vi[Pr.Users_Position].name&&(BC=!1),BC?(M_(wC),Lu(FC[6]),KC(),__()):JC()}function DC(){Pr.Users_Position=0,Ou("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",eA),Uu("top_bar_user",u),Pu("label_side_panel","icon-ellipsis",Rn),xu(FC[6])}function JC(){w_("stream_table_user_channels"),xu(FC[6]),Ru(),Yu(),OC=Vi[Pr.Users_Position].name,BC=!1,UC={},wC=kC=AC=NC=xC=LC=0,pf=!(GC=CC=!(RC=[])),qu(),PC=[],HC(),qC()}function HC(){C_(),MC=!0,EC=0,SC=3500}function qC(){var e=AC+LC;e&&NC-1<e&&(e=NC-eu,CC=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Vi[Pr.Users_Position].id)+"/follows/channels?limit="+eu+"&offset="+e+"&sortby=login&direction=asc";yu&&!AC?Tf(t,SC,2,null,XC,zC):Bf(t,SC,2,null,XC,zC,!1)}function zC(){++EC<IC?(SC+=500,qC()):(MC=!1,AC?(CC=!0,WC()):(pf=!1,Nu(),Wu(x)))}function XC(e){var t=JSON.parse(e),n=t.follows.length;NC=parseInt(t._total),n<eu&&(CC=!0);var a=AC;TC=!(AC+=n);var i=n/tu;0<n%tu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/tu+_,d=document.createElement("tr"),o=0;o<tu&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,UC[c]?o--:(UC[c]=1,d.appendChild(jC(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<tu;o++)CC&&!GC&&(GC=!0,AC=s*tu+o),d.appendChild(S_(FC[5]+s+"_"+o)),RC.push(FC[5]+s+"_"+o);u.appendChild(d)}WC()}function jC(e,t,n){return e<4&&I_(n[2]),P_(t,FC,n)}function WC(){if(BC){if(k_(Ma),0<RC.length&&!CC)return HC(),void YC();KC(!0),RC=[]}else TC?Wu(L+K):(BC=!0,k_(Ma),KC(),__()),Lu(FC[6]),pf=!1,Nu();MC=!1}function YC(){ju(RC.length);var e=AC+LC;e&&NC-1<e&&(e=NC-au,CC=!0),xf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Vi[Pr.Users_Position].id)+"/follows/channels?limit="+au+"&offset="+xC+"&sortby=login&direction=asc",SC,2,null,QC,ZC)}function ZC(){++EC<IC?(SC+=500,YC()):(CC=!0,AC-=RC.length,RC=[],WC())}function QC(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(NC=parseInt(a._total),i<au&&(CC=!0);o<RC.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,UC[n]?o--:(UC[n]=1,x_(RC[o],[t.name,n,t.logo,t.display_name],FC),d.push(o));for(o=d.length-1;-1<o;o--)RC.splice(d[o],1);LC+=s,CC&&(AC-=RC.length,RC=[]),WC()}function KC(e){D_(wC,kC,FC,tu,AC,e),AC/tu<wC+nu&&!CC&&!MC&&(HC(),qC()),Tr&&$C()}function $C(){AC&&Q_(wC+"_"+kC,FC)}function eA(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():($C(),gf(eA));break;case xa:if(s_(wC,kC-1,FC[0]))$C(),kC--,KC();else for(t=tu-1;-1<t;t--)if(s_(wC-1,t,FC[0])){$C(),wC--,kC=t,KC();break}break;case Ta:s_(wC,kC+1,FC[0])?($C(),kC++,KC()):s_(wC+1,0,FC[0])&&($C(),wC++,kC=0,KC());break;case La:for(t=0;t<tu;t++)if(s_(wC-1,kC-t,FC[0])){$C(),wC--,kC-=t,KC();break}break;case Ba:for(t=0;t<tu;t++)if(s_(wC+1,kC-t,FC[0])){$C(),wC++,kC-=t,KC();break}break;case Sa:case Ia:case Pa:case Oa:Pr.Main_selectedChannel=document.getElementById(FC[4]+wC+"_"+kC).getAttribute(fu),Pr.Main_selectedChannel_id=document.getElementById(FC[4]+wC+"_"+kC).getAttribute("data-id"),Pr.Main_selectedChannelDisplayname=document.getElementById(FC[3]+wC+"_"+kC).textContent,Pr.Main_selectedChannelLogo=document.getElementById(FC[1]+wC+"_"+kC).src,document.body.removeEventListener("keydown",eA),Pr.Main_BeforeChannel=br,Pr.Main_Go=pr,Pr.Main_BeforeChannelisSet=!0,qs=za=!0,xu(FC[6]),r_()}}var tA=0,nA=0,aA=!1,iA=0,oA={},sA=[],dA=!1,lA=0,cA=5,rA=3500,uA=0,_A=0,fA=!1,mA=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],hA=!1,pA="",vA=!1;function gA(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=ur,Pu("label_side_panel","icon-arrow-circle-left",I),Bu("top_bar_user","icon_center_focus"),Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+Z)),document.body.addEventListener("keydown",LA,!1),pA!==Vi[Pr.Users_Position].name&&(hA=!1),hA?(M_(tA),Lu(mA[10]),PA(),__()):bA()}function yA(){Pr.Users_Position=0,Ou("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",LA),Uu("top_bar_user",u),Pu("label_side_panel","icon-ellipsis",Rn),xu(mA[10])}function bA(){w_("stream_table_user_host"),xu(mA[10]),Ru(),Yu(),pA=Vi[Pr.Users_Position].name,hA=!1,oA={},pf=!(iA=_A=uA=0),tA=nA=0,aA=vA=!(sA=[]),qu(),wA(),kA()}function wA(){C_(),dA=!0,lA=0,rA=3500}function kA(){var e=iA+uA;e&&_A-1<e&&(e=_A-Wr,aA=!0),Lf("https://api.twitch.tv/api/users/"+encodeURIComponent(Vi[Pr.Users_Position].name)+"/followed/hosting?limit="+Wr+"&offset="+e,rA,2,null,AA,CA,!1,!iA)}function CA(){++lA<cA?(rA+=500,kA()):(dA=!1,iA?(aA=!0,MA()):(pf=!1,Nu(),Wu(x)))}function AA(e){var t=JSON.parse(e),n=t.hosts.length;_A=parseInt(t._total),n<Wr&&(aA=!0);var a=iA;fA=!(iA+=n);var i=n/Yr;0<n%Yr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/Yr+_,d=document.createElement("tr"),o=0;o<Yr&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,oA[c]?o--:(oA[c]=1,d.appendChild(T_(s,s+"_"+o,[l.target.channel.name,l.target._id],mA,[l.target.preview_urls.template.replace("{width}x{height}",ru),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+a_(l.target.viewers)+D,""])));for(;o<Yr;o++)aA&&!vA&&(vA=!0,iA=s*Yr+o),d.appendChild(S_(mA[9]+s+"_"+o)),sA.push(mA[9]+s+"_"+o);u.appendChild(d)}MA()}function MA(){if(hA){if(k_(Ea),0<sA.length&&!aA)return wA(),void EA();PA(!0),sA=[]}else fA?Wu(L+Z):(hA=!0,PA(),k_(Ea),__()),Lu(mA[10]),pf=!1,Nu();dA=!1}function EA(){ju(sA.length);var e=iA+uA;e&&_A-1<e&&(e=_A-au,aA=!0),xf("https://api.twitch.tv/api/users/"+encodeURIComponent(Vi[Pr.Users_Position].name)+"/followed/hosting?limit="+au+"&offset="+e,rA,2,null,SA,IA)}function IA(){++lA<cA?(rA+=500,EA()):(aA=!0,iA-=sA.length,sA=[],MA())}function SA(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(_A=parseInt(a._total),i<au&&(aA=!0);o<sA.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,oA[n]?o--:(oA[n]=1,B_(sA[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",ru),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+a_(t.target.viewers)+D,""],mA),d.push(o));for(o=d.length-1;-1<o;o--)sA.splice(d[o],1);uA+=s,aA&&(iA-=sA.length,sA=[]),MA()}function PA(e){J_(tA,nA,mA,Yr,iA,e),iA/Yr<tA+Zr&&!aA&&!dA&&(wA(),kA()),Tr&&xA()}function xA(){iA&&Q_(tA+"_"+nA,mA)}function LA(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(xA(),gf(LA));break;case xa:if(s_(tA,nA-1,mA[0]))xA(),nA--,PA();else for(t=Yr-1;-1<t;t--)if(s_(tA-1,t,mA[0])){xA(),tA--,nA=t,PA();break}break;case Ta:s_(tA,nA+1,mA[0])?(xA(),nA++,PA()):s_(tA+1,0,mA[0])&&(xA(),tA++,nA=0,PA());break;case La:for(t=0;t<Yr;t++)if(s_(tA-1,nA-t,mA[0])){xA(),tA--,nA-=t,PA();break}break;case Ba:for(t=0;t<Yr;t++)if(s_(tA+1,nA-t,mA[0])){xA(),tA++,nA-=t,PA();break}break;case Sa:case Ia:case Pa:case Oa:z_(tA+"_"+nA,mA,LA)}}var TA,BA=!1,OA=0,GA=3500,UA=0,RA=5,NA=0,FA=!1,VA="",DA=0,JA={},HA=!1,qA=[],zA=null,XA=null,jA=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function WA(){no()&&(rM(),HA?vM(Xm,jA[0])&&(zA=JSON.parse(document.getElementById(jA[8]+Xm).getAttribute(fu))[0]):zA=null,w_("user_feed_scroll"),HA=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Lu("dialog_loading_feed"),VA="",Xm=DA=NA=UA=0,JA={},qA=[],XA=Vi[Pr.Users_Position].access_token,ef(function(){QA(),XA?(XA=lu+XA,tM()):(XA=null,KA())}))}function YA(e){for(var t,n=0;n<qA.length;n++)null!==(t=document.getElementById(qA[n].id))&&ku(t,qA[n].src+bu,e)}function ZA(e,t){qA.push({id:e,src:t})}function QA(){BA=!0,OA=0,GA=3500}function KA(){Bf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Vi[Pr.Users_Position].id)+"/follows/channels?limit=100&offset="+UA+"&sortby=created_at",GA,2,null,eM,$A,!1)}function $A(){++OA<RA?(GA+=500,KA()):(BA=!1,NA?(FA=!0,iM()):(xu("dialog_loading_feed"),sM()&&(Hp(x),window.setTimeout(function(){qp()},2e3))))}function eM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===VA.indexOf(a)&&(VA+=a);UA+=n,QA(),KA()}else VA=VA.slice(0,-1),QA(),ef(tM)}function tM(){var e="https://api.twitch.tv/kraken/streams/";e+=XA?"followed?":"?channel="+encodeURIComponent(VA)+"&",Bf(e+="limit=100&offset=0&stream_type=all",GA,XA?3:2,XA,aM,nM,!1)}function nM(){++OA<RA?(GA+=500,tM()):(BA=!1,xu("dialog_loading_feed"),sM()&&(Hp(x),window.setTimeout(function(){qp()},2e3)))}function aM(e){var t=JSON.parse(e),n=t.streams.length;n<Wr&&(FA=!0),NA+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,JA[i]||(JA[i]=1,null!==zA&&zA===a.channel.name&&(Xm=s),o.appendChild(oM(s,[a.channel.name,i],jA,[a.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+Op(a.created_at)+" "+h+a_(a.viewers)+D,i_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));iM()}function iM(){HA=!(BA=!1),YA(Ea),ef(function(){xu("dialog_loading_feed"),fM()})}function oM(e,t,n,a){return ZA(n[1]+e,a[0]),(Nr=document.createElement("div")).setAttribute("id",n[8]+e),Nr.setAttribute(fu,JSON.stringify(t)),Nr.className="user_feed_thumb",Nr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Nr}function sM(){return Tu("user_feed")}function dM(){var e=no();e&&(zm!==Vi[Pr.Users_Position].name&&(HA=!1),zm=Vi[Pr.Users_Position].name),e&&vM(0,jA[0])||(HA=!1),HA||BA||WA(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Lu("user_feed"),fM())}function lM(){xu("user_feed")}function cM(){rM(),uM()}function rM(){window.clearTimeout(TA)}function uM(){sM()&&(TA=window.setTimeout(lM,5500))}function _M(){rM(),BA?window.setTimeout(function(){BA=!1},15e3):WA()}function fM(){cM(),vM(Xm,jA[0])&&(Bu(jA[0]+Xm,"feed_thumbnail_focused"),sM()?hM():Tu("scene2")&&pM())}function mM(){return Xm<3?2.5:vM(Xm+2,jA[0])?-1*document.getElementById(jA[8]+(Xm-2)).offsetLeft:vM(Xm+1,jA[0])?-1*document.getElementById(jA[8]+(Xm-3)).offsetLeft:-1*document.getElementById(jA[8]+(Xm-(3<Xm?4:3))).offsetLeft}function hM(){var e=mM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function pM(){document.getElementById("user_feed").style.bottom="-1000%",Lu("user_feed");var e=hM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",xu("user_feed")}function vM(e,t){return null!==document.getElementById(t+e)}function gM(){vM(Xm,jA[0])&&Ou(jA[0]+Xm,"feed_thumbnail_focused")}var yM=0,bM=0,wM=!1,kM=0,CM={},AM=[],MM=!1,EM=0,IM=5,SM=3500,PM=0,xM=0,LM=0,TM=!1,BM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],OM=!1,GM="",UM="",RM=!1,NM=null;function FM(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=rr,Pu("label_side_panel","icon-arrow-circle-left",I),Bu("top_bar_user","icon_center_focus"),Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+Y)),document.body.addEventListener("keydown",tE,!1),UM!==Vi[Pr.Users_Position].name&&(OM=!1),OM?(M_(yM),Lu(BM[10]),$M(),__()):DM()}function VM(){Pr.Users_Position=0,Ou("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",tE),Uu("top_bar_user",u),Pu("label_side_panel","icon-ellipsis",Rn),xu(BM[10])}function DM(){w_("stream_table_user_live"),xu(BM[10]),Ru(),Yu(),OM=!1,UM=Vi[Pr.Users_Position].name,pf=!(RM=!(AM=[])),yM=bM=kM=xM=PM=LM=0,wM=!(CM={}),GM="",qu(),JM(),(NM=Vi[Pr.Users_Position].access_token)?(NM=lu+NM,XM()):(NM=null,HM())}function JM(){C_(),MM=!0,EM=0,SM=3500}function HM(){xf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Vi[Pr.Users_Position].id)+"/follows/channels?limit=100&offset="+LM+"&sortby=created_at",SM,2,null,zM,qM)}function qM(){++EM<IM?(SM+=500,HM()):(MM=!1,kM?(wM=!0,YM()):(pf=!1,Nu(),Wu(x),gf(tE)))}function zM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===GM.indexOf(a)&&(GM+=a);LM+=n,JM(),HM()}else GM=GM.slice(0,-1),JM(),XM()}function XM(){var e=kM+PM;e&&xM-1<e&&(e=xM-Wr,wM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=NM?"followed?":"?channel="+encodeURIComponent(GM)+"&",Lf(t+="limit="+Wr+"&offset="+e+"&stream_type=all",SM,NM?3:2,NM,WM,jM,!1,!kM)}function jM(){++EM<IM?(SM+=500,XM()):(MM=!1,kM?(wM=!0,YM()):(pf=!1,Nu(),Wu(x),gf(tE)))}function WM(e){var t=JSON.parse(e),n=t.streams.length;xM=parseInt(t._total),n<Wr&&(wM=!0);var a=kM;TM=!(kM+=n);var i=n/Yr;0<n%Yr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/Yr+_,d=document.createElement("tr"),o=0;o<Yr&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,CM[c]?o--:(CM[c]=1,d.appendChild(T_(s,s+"_"+o,[l.channel.name,c],BM,[l.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Op(l.created_at)+" "+h+a_(l.viewers)+D,i_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Yr;o++)wM&&!RM&&(RM=!0,kM=s*Yr+o),d.appendChild(S_(BM[9]+s+"_"+o)),AM.push(BM[9]+s+"_"+o);u.appendChild(d)}YM()}function YM(){if(OM){if(k_(Ea),0<AM.length&&!wM)return JM(),void ZM();$M(!0),AM=[]}else TM?Wu(L+Y):(OM=!0,$M(),k_(Ea),__()),Lu(BM[10]),pf=!1,Nu();MM=!1}function ZM(){ju(AM.length);var e=kM+PM;e&&xM-1<e&&(e=xM-au,wM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=NM?"followed?":"?channel="+encodeURIComponent(GM)+"&",Lf(t+="followed?limit=limit="+au+"&offset="+e+"&stream_type=all",SM,NM?3:2,NM,KM,QM,!1,!kM)}function QM(){++EM<IM?(SM+=500,ZM()):(wM=!0,kM-=AM.length,AM=[],YM())}function KM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(xM=parseInt(a._total),i<au&&(wM=!0);o<AM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,CM[n]?o--:(CM[n]=1,B_(AM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ru),o_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Op(t.created_at)+" "+h+a_(t.viewers)+D,i_(t.video_height,t.average_fps,t.channel.broadcaster_language)],BM),d.push(o));for(o=d.length-1;-1<o;o--)AM.splice(d[o],1);PM+=s,wM&&(kM-=AM.length,AM=[]),YM()}function $M(e){J_(yM,bM,BM,Yr,kM,e),kM/Yr<yM+Zr&&!wM&&!MM&&(JM(),HM()),Tr&&eE()}function eE(){kM&&Q_(yM+"_"+bM,BM)}function tE(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(eE(),gf(tE));break;case xa:if(s_(yM,bM-1,BM[0]))eE(),bM--,$M();else for(t=Yr-1;-1<t;t--)if(s_(yM-1,t,BM[0])){eE(),yM--,bM=t,$M();break}break;case Ta:s_(yM,bM+1,BM[0])?(eE(),bM++,$M()):s_(yM+1,0,BM[0])&&(eE(),yM++,bM=0,$M());break;case La:for(t=0;t<Yr;t++)if(s_(yM-1,bM-t,BM[0])){eE(),yM--,bM-=t,$M();break}break;case Ba:for(t=0;t<Yr;t++)if(s_(yM+1,bM-t,BM[0])){eE(),yM++,bM-=t,$M();break}break;case Sa:case Ia:case Pa:case Oa:z_(yM+"_"+bM,BM,tE)}}var nE=0,aE=0,iE=8,oE=0,sE=null,dE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],lE=!1,cE=!0;function rE(){return Or?(uE(),void Ka(Or)):co()?(Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=yr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Yu(),Bu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",EE,!1),void(lE?(M_(nE),Lu(dE[5]),vE(),__()):_E())):(Pr.Main_Go=sr,uE(),void r_())}function uE(){Pr.Users_Position=0,Ou("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",EE),xu(dE[5]),document.getElementById("screens_holder").style.top="0"}function _E(){w_("stream_table_user"),xu(dE[5]),Ru(),Yu(),pf=!(lE=!1),cE=!(nE=aE=0),ef(function(){fE()})}function fE(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Vi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Nr=document.createElement("tr")).className="follower_header",Nr.innerHTML='<div class="follower_header">'+(o?"":oe)+Vi[o].name+R+"</div>",i.appendChild(a),i.appendChild(Nr),(e=document.createElement("tr")).appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,Y,"play",n)),t++,e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,hb.isLive?Q:zt,"gamepad",n)),t++,e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(mE(o+"_"+t,Pr.Main_selectedChannelDisplayname,Vi[o].access_token?wt:bt,"key",n)),i.appendChild(e);hE()}function mE(e,t,n,a,i){return(Nr=document.createElement("td")).setAttribute("id",dE[4]+e),Nr.setAttribute(fu,t),Nr.className="stream_cell",Nr.innerHTML='<div id="'+dE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+dE[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+dE[2]+e+'" class="stream_text"><div id="'+dE[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",Nr}function hE(){ef(function(){lE||(lE=!0,vE(),Nu(),__()),Lu(dE[5]),cE=pf=!1})}function pE(){for(var e=0;e<Vi.length;e++)Uu(dE[3]+e+"_2",hb.isLive?Q:zt)}function vE(){Bu(dE[0]+nE+"_"+aE,"stream_thumbnail_focused"),E_(nE)?1<nE?s_(nE+1,0,dE[0])&&Z_(dE[5],-1*document.getElementById(dE[4]+nE+"_"+aE).offsetTop+500):Z_(dE[5],screen.height/100*7):R_(),Tr&&gE()}function gE(){Lr=!1,Ou(dE[0]+nE+"_"+aE,"stream_thumbnail_focused")}function yE(){return Pr.Users_Position=nE,3!==aE||Vi[Pr.Users_Position].access_token?7===aE&&Vi[Pr.Users_Position].access_token?(Wu(wt),void window.setTimeout(Yu,1500)):(6!==aE&&7!==aE&&(xu(dE[5]),document.body.removeEventListener("keydown",EE),document.getElementById("screens_holder").style.top="0"),void ef(function(){aE?1===aE?gA():2===aE?(Fy=hb,qy()):3===aE?jE():4===aE?VC():5===aE?nE?so(nE):(Pr.Main_Before=yr,qi()):6===aE?kE():7!==aE||Vi[Pr.Users_Position].access_token||kE():FM()})):(Wu(In),void window.setTimeout(Yu,5e3))}function bE(){window.clearTimeout(sE)}function wE(){sE=window.setTimeout(CE,2e4)}function kE(){wE(),6===aE?Gu("main_dialog_remove",Ht+da+Vi[Pr.Users_Position].name+"?"):7===aE&&Gu("main_dialog_remove",ft+" "+Vi[Pr.Users_Position].name+"?"),Lu("main_remove_dialog")}function CE(){bE(),xu("main_remove_dialog"),oE=0,ME()}function AE(){return Tu("main_remove_dialog")}function ME(){oE?(Ou("remove_cancel","button_search_focused"),Bu("remove_yes","button_search_focused")):(Bu("remove_cancel","button_search_focused"),Ou("remove_yes","button_search_focused"))}function EE(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:AE()?CE():Ku()?Qu():n_()?t_():(gE(),gf(EE));break;case xa:if(AE())--oE<0&&(oE=1),ME(),bE(),wE();else if(s_(nE,aE-1,dE[0]))gE(),aE--,vE();else if(s_(nE-1,0,dE[0])){for(t=iE-1;-1<t;t--)if(s_(nE-1,t,dE[0])){gE(),nE--,aE=t,vE();break}}else gE(),aE=iE-1,vE();break;case Ta:AE()?(1<++oE&&(oE=0),ME(),bE(),wE()):(s_(nE,aE+1,dE[0])?(gE(),aE++):(s_(nE+1,0,dE[0])?(gE(),nE++):gE(),aE=0),vE());break;case La:for(t=0;t<iE;t++)if(s_(nE-1,aE-t,dE[0])){gE(),nE--,aE-=t,vE();break}break;case Ba:for(t=0;t<iE;t++)if(s_(nE+1,aE-t,dE[0])){gE(),nE++,aE-=t,vE();break}break;case Sa:case Ia:case Pa:case Oa:var n;if(AE()){if(6===aE)n=oE,CE(),n&&(document.body.removeEventListener("keydown",EE),uE(),io(nE));else if(n=oE,CE(),n){Pr.Users_AddcodePosition=Pr.Users_Position,__();var a=Ya,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(iu)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else yE()}}var IE=0,SE=0,PE=!1,xE=0,LE={},TE=[],BE=!1,OE=0,GE=5,UE=3500,RE=0,NE=0,FE=!1,VE=!1,DE="time",JE=2,HE=!1,qE=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],zE=!1,XE=!1;function jE(){Pr.Main_CenterLablesVectorPos=1,Pr.Main_Go=Ir,Bu("top_bar_user","icon_center_focus"),Pu("label_side_panel","icon-arrow-circle-left",I),Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+(XE?G:O))),document.body.addEventListener("keydown",uI,!1),zE?(M_(IE),Lu(qE[10]),_I(),dI(),__()):YE()}function WE(){Pr.Users_Position=0,zE&&lI(),Ou("top_bar_user","icon_center_focus"),Pu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",uI),Uu("top_bar_user",u),xu(qE[10])}function YE(){zE&&lI(),w_("stream_table_user_vod"),xu(qE[10]),Ru(),_I(),Yu(),HE=zE=!1,pf=!(VE=!(TE=[])),IE=SE=xE=NE=RE=0,PE=!(LE={}),qu(),QE()}function ZE(){C_(),BE=!0,OE=0,UE=3500}function QE(){ZE(),KE()}function KE(){var e=xE+RE;e&&NE-1<e&&(e=NE-Wr,PE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Wr+"&broadcast_type="+(XE?"highlight":"archive")+"&sort="+DE+"&offset="+e;if(yu&&!xE){if(!(t=Android.mreadUrl(n,UE,3,lu+Vi[Pr.Users_Position].access_token)))return void $E();if(200===(t=JSON.parse(t)).status)return void tI(t.responseText);401===t.status||403===t.status?$a(Pr.Users_Position,0,QE,eI):$E()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=UE,t.setRequestHeader(su,cu),t.setRequestHeader(ou,iu),t.setRequestHeader(du,lu+Vi[Pr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void tI(t.responseText);401===t.status||403===t.status?$a(Pr.Users_Position,0,QE,eI):$E()}},t.send(null)}function $E(){++OE<GE?(UE+=500,KE()):eI()}function eI(){BE=!1,xE?(PE=!0,nI()):(pf=!1,Nu(),Wu(x))}function tI(e){var t=JSON.parse(e),n=t.videos.length;NE=parseInt(t._total),n<Wr&&(PE=!0);var a=xE;FE=!(xE+=n);var i=n/Yr;0<n%Yr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!HE){var _;for(HE=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Nr=document.createElement("td")).setAttribute("id",qE[8]+"y_"+f),Nr.className="stream_cell",Nr.innerHTML='<div id="'+qE[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+qE[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Nr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Yr+f,d=document.createElement("tr"),o=0;o<Yr&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||LE[c]?o--:(LE[c]=1,d.appendChild(HI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ru),l.channel.display_name,N+g_(l.created_at),_S.parse(l.title)+da+Zt+v+l.game,a_(l.views)+V,i_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Tp(l.length),l.animated_preview_url],qE)));for(;o<Yr;o++)PE&&!VE&&(VE=!0,xE=s*Yr+o),d.appendChild(S_(qE[9]+s+"_"+o)),TE.push(qE[9]+s+"_"+o);u.appendChild(d)}nI()}function nI(){zE?(k_(Ea),dI(!0)):(FE?Wu(L+(XE?G:O)+T+E):(zE=!0,dI(),k_(Ea),__()),Lu(qE[10]),pf=!1,Nu()),0<TE.length&&!PE?aI():BE=!(TE=[])}function aI(){ZE(),iI()}function iI(){ju(TE.length);var e=xE+RE;e&&NE-1<e&&(e=NE-au,PE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+au+"&broadcast_type="+(XE?"highlight":"archive")+"&sort="+DE+"&offset="+e;if(yu){if(!(t=Android.mreadUrl(n,UE,3,lu+Vi[Pr.Users_Position].access_token)))return void oI();if(200===(t=JSON.parse(t)).status)return void sI(t.responseText);401===t.status||403===t.status?$a(Pr.Users_Position,0,QE,eI):oI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=UE,t.setRequestHeader(su,cu),t.setRequestHeader(ou,iu),t.setRequestHeader(du,lu+Vi[Pr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void sI(t.responseText);401===t.status||403===t.status?$a(Pr.Users_Position,0,QE,eI):oI()}},t.send(null)}function oI(){++OE<GE?(UE+=500,iI()):(PE=!0,xE-=TE.length,TE=[],nI())}function sI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(NE=parseInt(a._total);o<TE.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||LE[n]?o--:(LE[n]=1,zI(TE[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ru),t.channel.display_name,N+g_(t.created_at),_S.parse(t.title)+da+Zt+v+t.game,a_(t.views)+V,i_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Tp(t.length),t.animated_preview_url],qE),d.push(o));for(o=d.length-1;-1<o;o--)TE.splice(d[o],1);RE+=s,PE&&(xE-=TE.length,TE=[]),nI()}function dI(e){IE<0?cI():(J_(IE,SE,qE,Yr,xE,e),tS(qE,IE+"_"+SE),xE/Yr<IE+Zr&&!PE&&!BE&&QE(),Tr&&lI())}function lI(){window.clearInterval(fI),-1<IE&&xE?(Lu(qE[1]+IE+"_"+SE),Q_(IE+"_"+SE,qE)):rI()}function cI(){var e=1<SE?1:SE;Bu(qE[0]+"y_"+e,_u)}function rI(){var e=1<SE?1:SE;Ou(qE[0]+"y_"+e,_u)}function uI(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:Ku()?Qu():Ku()?Qu():n_()?t_():(lI(),gf(uI));break;case xa:if(-1===IE)rI(),--SE<0&&(SE=1),cI();else if(IE||SE){if(s_(IE,SE-1,qE[0]))lI(),SE--,dI();else for(t=Yr-1;-1<t;t--)if(s_(IE-1,t,qE[0])){lI(),IE--,SE=t,dI();break}}else lI(),rI(),IE=-1,SE=1,cI();break;case Ta:-1===IE?(rI(),1<++SE?(SE=0,FE?cI():(IE=0,dI())):cI()):s_(IE,SE+1,qE[0])?(lI(),SE++,dI()):s_(IE+1,0,qE[0])&&(lI(),IE++,SE=0,dI());break;case La:if(-1!==IE||FE)if(IE){for(t=0;t<Yr;t++)if(s_(IE-1,SE-t,qE[0])){lI(),IE--,SE-=t,dI();break}}else lI(),IE=-1,cI();else IE=0,rI(),dI();break;case Ba:if(-1!==IE||FE){for(t=0;t<Yr;t++)if(s_(IE+1,SE-t,qE[0])){lI(),IE++,SE-=t,dI();break}}else IE=0,rI(),dI();break;case Sa:case Ia:case Pa:case Oa:-1===IE?(0===SE?Af("UserVod_highlight",(XE=!XE)?"true":"false"):1===JE?JE++:JE--,YE()):W_(IE+"_"+SE,qE,uI)}}function _I(){1===JE?(Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+" "+(XE?G:O)+Mn)),DE="time"):2===JE&&(Gu("top_bar_user",u+v_(Vi[Pr.Users_Position].name+" "+(XE?G:O)+En)),DE="views"),Af("UserVod_TypeNumber",JE)}var fI,mI=0,hI=0,pI=!1,vI=0,gI={},yI=[],bI=!1,wI=0,kI=5,CI=3500,AI=0,MI=0,EI=!1,II=!1,SI="week",PI=2,xI=!1,LI=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],TI=!1,BI=!1,OI=1,GI=new Image;function UI(){Pr.Main_CenterLablesVectorPos=4,Pr.Main_Go=kr,Bu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",nS,!1),TI?(M_(mI),Lu(LI[10]),aS(),QI(),__()):NI()}function RI(){TI&&KI(),h_(),document.body.removeEventListener("keydown",nS),Ou("top_bar_vod","icon_center_focus"),Uu("top_bar_vod",Kt),xu(LI[10])}function NI(){TI&&KI(),w_("stream_table_vod"),xu(LI[10]),Ru(),aS(),Yu(),xI=TI=!1,pf=!(II=!(yI=[])),mI=hI=vI=MI=AI=0,pI=!(gI={}),qu(),FI(),VI()}function FI(){C_(),bI=!0,wI=0,CI=3500}function VI(){var e=vI+AI;e&&MI-1<e&&(e=MI-Wr,pI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+Wr+"&broadcast_type="+(BI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+SI+(""!==Vr?"&language="+Vr:"");yu&&!vI?Tf(t,CI,2,null,JI,DI):Bf(t,CI,2,null,JI,DI,!1)}function DI(){++wI<kI?(CI+=500,VI()):(bI=!1,vI?(pI=!0,jI()):(pf=!1,Nu(),Wu(x)))}function JI(e){var t=JSON.parse(e),n=t.vods.length;MI=parseInt(t._total),n<Wr&&(pI=!0);var a=vI;EI=!(vI+=n);var i=n/Yr;0<n%Yr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_vod");if(!xI){var _;for(xI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Nr=document.createElement("td")).setAttribute("id",LI[8]+"y_"+f),Nr.className="stream_cell",Nr.innerHTML='<div id="'+LI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+LI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Nr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Yr+f,d=document.createElement("tr"),o=0;o<Yr&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||gI[c]?o--:(gI[c]=1,d.appendChild(HI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ru),l.channel.display_name,N+g_(l.created_at),_S.parse(l.title)+da+Zt+v+l.game,a_(l.views)+V,i_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Tp(l.length),l.animated_preview_url],LI)));for(;o<Yr;o++)pI&&!II&&(II=!0,vI=s*Yr+o),d.appendChild(S_(LI[9]+s+"_"+o)),yI.push(LI[9]+s+"_"+o);u.appendChild(d)}jI()}function HI(e,t,n,a,i){return e<Yr&&I_(a[0]),qI(n,t,a,i)}function qI(e,t,n,a){return(Nr=document.createElement("td")).setAttribute("id",a[8]+t),Nr.setAttribute(fu,JSON.stringify(e)),Nr.className="stream_cell",Nr.innerHTML=XI(t,n,a),Nr}function zI(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(fu,JSON.stringify(t)),i.innerHTML=XI(o,n,a),i.setAttribute("id",a[8]+o)}function XI(e,t,n){return A_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function jI(){if(TI?(k_(Ea),QI(!0)):(EI?Wu(L+(BI?G:O)+T+E):(TI=!0,QI(),k_(Ea),__()),Lu(LI[10]),pf=!1,Nu()),0<yI.length&&!pI)return FI(),void WI();bI=!(yI=[])}function WI(){ju(yI.length);var e=vI+AI;e&&MI-1<e&&(e=MI-au,pI=!0),xf("https://api.twitch.tv/kraken/videos/top?limit="+au+"&broadcast_type="+(BI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+SI+(""!==Vr?"&language="+Vr:""),CI,2,null,ZI,YI)}function YI(){++wI<kI?(CI+=500,WI()):(pI=!0,vI-=yI.length,yI=[],jI())}function ZI(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(MI=parseInt(a._total);o<yI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||gI[n]?o--:(gI[n]=1,zI(yI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ru),t.channel.display_name,N+g_(t.created_at),_S.parse(t.title)+da+Zt+v+t.game,a_(t.views)+V,i_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Tp(t.length),t.animated_preview_url],LI),d.push(o));for(o=d.length-1;-1<o;o--)yI.splice(d[o],1);AI+=s,pI&&(vI-=yI.length,yI=[]),jI()}function QI(e){mI<0?$I():(J_(mI,hI,LI,Yr,vI,e),tS(LI,mI+"_"+hI),vI/Yr<mI+Zr&&!pI&&!bI&&(FI(),VI()),Tr&&KI())}function KI(){window.clearInterval(fI),-1<mI&&vI?(Lu(LI[1]+mI+"_"+hI),Q_(mI+"_"+hI,LI)):eS()}function $I(){var e=1<hI?1:hI;Bu(LI[0]+"y_"+e,_u)}function eS(){var e=1<hI?1:hI;Ou(LI[0]+"y_"+e,_u)}function tS(t,n){if(OI){var a=document.getElementById(t[0]+n);GI.onload=function(){xu(t[1]+n),a.style.backgroundSize="612px";var e=0;fI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},GI.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function nS(e){var t;if(!pf&&!V_())switch(F_(),e.keyCode){case Ga:n_()?t_():Ku()?Qu():(KI(),gf(nS));break;case xa:if(-1===mI)eS(),--hI<0&&(hI=1),$I();else if(mI||hI){if(s_(mI,hI-1,LI[0]))KI(),hI--,QI();else for(t=Yr-1;-1<t;t--)if(s_(mI-1,t,LI[0])){KI(),mI--,hI=t,QI();break}}else KI(),eS(),mI=-1,hI=1,$I();break;case Ta:-1===mI?(eS(),1<++hI?(hI=0,EI?$I():(mI=0,QI())):$I()):s_(mI,hI+1,LI[0])?(KI(),hI++,QI()):s_(mI+1,0,LI[0])&&(KI(),mI++,hI=0,QI());break;case La:if(-1!==mI||EI)if(mI){for(t=0;t<Yr;t++)if(s_(mI-1,hI-t,LI[0])){KI(),mI--,hI-=t,QI();break}}else KI(),mI=-1,$I();else mI=0,eS(),QI();break;case Ba:if(-1!==mI||EI){for(t=0;t<Yr;t++)if(s_(mI+1,hI-t,LI[0])){KI(),mI++,hI-=t,QI();break}}else mI=0,eS(),QI();break;case Sa:case Ia:case Pa:case Oa:-1===mI?(0===hI?Af("Vod_highlight",(BI=!BI)?"true":"false"):4<++PI&&(PI=1),NI()):W_(mI+"_"+hI,LI,nS)}}function aS(){1===PI?(Gu("top_bar_vod",Kt+v_((BI?G:O)+de)),SI="day"):2===PI?(Gu("top_bar_vod",Kt+v_((BI?G:O)+le)),SI="week"):3===PI?(Gu("top_bar_vod",Kt+v_((BI?G:O)+ce)),SI="month"):4===PI&&(Gu("top_bar_vod",Kt+v_((BI?G:O)+re)),SI="all"),Af("vod_periodNumber",PI)}function iS(e,t){return e.replace(t.code,oS(t))}function oS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function sS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function dS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Sl[a]||Sl[e];e=i?iS(e,i):dS(e),t[n]=e}return t.join(" ")}function cS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([sS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function rS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function uS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+r((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function A(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function M(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function E(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;a+=g)e=b(e/c);return b(a+(c+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,c,r,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=E(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return A(_)}function f(e){var t,n,a,i,o,s,d,l,c,r,u,_,f,m,h,p=[];for(_=(e=C(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)h=l-r,m=g-r,p.push(w(M(r+h%m,0))),l=b(h/m);p.push(w(M(l,0))),o=E(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:C,encode:A},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=a,a=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var _S=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();