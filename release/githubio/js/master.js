var t,n,i,e,a,o,s,d,l,r,p,c,u,_,f,h,v,m,g,y,b,w,A,k,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,Ae,ke,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,At,kt,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,An,kn,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ri,ci,ui,_i,fi,hi,mi,pi,vi,gi="fglfgl27@gmail.com",yi="<br>",bi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',wi='<div class="about_text_title">',Ai='<div class="about_text_title" style="text-align: left;">',ki='<div style="text-align: left;">',Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="",Ti="",Li="",Bi="&nbsp;";function Oi(){Ci=e+" (C)",Ei=n+" (D)",Ii=i+" (A)",Mi=a+" (A)",l+=Zt,r+=Zt,I=ai+oi,Si=wi+e+"</div>"+wi+Ce+"</div>"+yi+ki+bi+xe+yi+bi+(Pe+=Yt)+yi+bi+Te+yi+bi+ci+yi+bi+Le+yi+Be+yi+bi+Oe+yi+Bi+Bi+Bi+Ge+yi+bi+Ue+yi+"</div>"+yi+(Ti=wi+Ae+"</div>"+ki+bi+nt+yi+bi+$e+yi+bi+et+yi+"</div>"+ki+bi+tt+yi+bi+it+yi+bi+at+yi+yi+wi+ke+"</div>"+ki+bi+ot+yi+bi+st+yi+bi+dt+yi+bi+lt+yi+bi+rt)+yi+yi+wi+we+"</div>",xi=wi+be+"</div></div>",Pi=ki+yi+Re+yi+(Ql?yi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+yi+wi+Ne+"</div>"+gi+yi+yi+De+yi+Ve+yi+yi+Ai+Je+"</div>"+ki+We+yi+bi+He+yi+bi+Fe+yi+bi+qe+yi+bi+ze+yi+bi+Xe+yi+bi+Ye+yi+bi+je+yi+Qe+yi+bi+Ze+yi+bi+Ke+yi+wi+we+"</div></div>",Li=ht+yi+bi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+yi+bi+pt+yi+bi+vt+yi+bi+gt+yi+bi+yt}function Gi(){Tr=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",c="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",A="Type your authentication key...",k="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",Ae="Player Related:",ke="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ci="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",At="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+yi+"Chat: Connected."+yi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",kn=(An="From:"+yi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ri="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed",mi="End dialog",pi="Set the time that will take for the stream/video/clip end dialog take action",vi="Disable the timer"}var Ui="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ni="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Di="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Vi=51,Ji=52,Hi=179,Fi=37,qi=38,zi=39,Xi=40,Yi=13,ji=49,Wi=8,Qi=13,Zi=32,Ki=46,$i=0,ea=5,ta=1e4,na=0,ia=!1,aa=!1,oa=!1,sa="",da="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",la="elsu5d09k0xomu7cggx3qg5ybdwu7g",ra="https://id.twitch.tv/oauth2/token?";function ca(e){Ar.Users_Position=Ar.Users_AddcodePosition,na=e,Ga(),xc(),ma()}function ua(e,t,n,i){var a=new XMLHttpRequest,o=ra+"grant_type=refresh_token&client_id="+encodeURIComponent(Wr)+"&client_secret="+encodeURIComponent(la)+"&refresh_token="+encodeURIComponent(to[e].refresh_token)+"&redirect_uri="+da;a.open("POST",o,!0),a.timeout=ta,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?fa(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ga(),i&&i()):_a(e,t,n,i))},a.send(null)}function _a(e,t,n,i){++t<5?ua(e,t,n,i):i&&i()}function fa(e,t,n){var i=JSON.parse(e);ha(i.scope)?(to[t].access_token=i.access_token,to[t].refresh_token=i.refresh_token,wo()):ga(),n&&n()}function ha(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function ma(){var e=ra+"grant_type=authorization_code&client_id="+encodeURIComponent(Wr)+"&client_secret="+encodeURIComponent(la)+"&code="+encodeURIComponent(na)+"&redirect_uri="+da,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=ta,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?ya(t.responseText):pa())},t.send(null)}function pa(){++$i<ea?ma():va()}function va(){Pc(),Vc(Tt),window.setTimeout(function(){Jc(),Mr=0,au(),Ar.Main_Go=_r,window.location=da},4e3),to[Ar.Users_Position].access_token=0,to[Ar.Users_Position].refresh_token=0,wo()}function ga(){eM=!1,Pc(),Vc(Tt),to[Ar.Users_Position].access_token=0,to[Ar.Users_Position].refresh_token=0,wo(),au(),window.setTimeout(Jc,4e3)}function ya(e){var t=JSON.parse(e);to[Ar.Users_Position].access_token=t.access_token,to[Ar.Users_Position].refresh_token=t.refresh_token,Ga(),ba()}function ba(){c_("https://api.twitch.tv/kraken?oauth_token="+to[Ar.Users_Position].access_token,ta,0,null,wa,Aa)}function wa(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(to[Ar.Users_Position].name)){if(wo(),Mr=0,Pc(),eM=!1,Ar.Main_Go=_r,au(),Vc(wt),uc)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=da},3e3)}else to[Ar.Users_Position].access_token=0,to[Ar.Users_Position].refresh_token=0,Vc(Gn+to[Ar.Users_Position].name),window.setTimeout(function(){Jc(),Mr=0,au(),Ar.Main_Go=_r,window.location=da},4e3)}function Aa(){++$i<ea?(ta+=500,ba()):va()}function ka(){Ga(),ia=!1,Ca()}function Ca(){var e="https://api.twitch.tv/kraken/users/"+to[Ar.Users_Position].id+"/follows/channels/"+sa,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=ta,t.setRequestHeader(Qr,Wr),t.setRequestHeader(Zr,ec),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ea():404===t.status?Ma(t.responseText):Ia())},t.send(null)}function Ea(){ia=!0,oa?zp():cs()}function Ma(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ia=!1,oa?zp():cs()):Ia()}function Ia(){++$i<ea?(ta+=500,Ca()):oa?zp():cs()}function Sa(){Ga(),xa()}function xa(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+to[Ar.Users_Position].id+"/follows/channels/"+sa,!0),e.timeout=ta,e.setRequestHeader(Qr,Wr),e.setRequestHeader(Zr,ec),e.setRequestHeader("Authorization","OAuth "+to[Ar.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ia=!0,void(oa?zp():cs());401===e.status||403===e.status?ua(Ar.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++$i<ea&&(ta+=500,xa())}function Ta(){Ga(),La()}function La(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+to[Ar.Users_Position].id+"/follows/channels/"+sa,!0),e.timeout=ta,e.setRequestHeader(Qr,Wr),e.setRequestHeader(Zr,ec),e.setRequestHeader("Authorization","OAuth "+to[Ar.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ia=!1,void(oa?zp():cs());401===e.status||403===e.status?ua(Ar.Users_Position,0,Ta,null):Ba()}},e.send(null)}function Ba(){++$i<ea&&(ta+=500,La())}function Oa(){Ga(),aa=!1,Ua()}function Ga(){$i=0,ta=1e4}function Ua(){var e,t="https://api.twitch.tv/kraken/users/"+to[Ar.Users_Position].id+"/subscriptions/"+sa;if(uc){if(!(e=Android.mreadUrl(t,ta,3,to[Ar.Users_Position].access_token)))return void Ra();if(200===(e=JSON.parse(e)).status)aa=!0,ig();else if(422===e.status)aa=!1,ng();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return aa=!1,void ng();Ra()}else 401===e.status||403===e.status?ua(Ar.Users_Position,0,Oa,Na):Ra()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=ta,e.setRequestHeader(Qr,Wr),e.setRequestHeader(Zr,ec),e.setRequestHeader("Authorization","OAuth "+to[Ar.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)aa=!0,ig();else if(422===e.status)aa=!1,ng();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return aa=!1,void ng();Ra()}else 401===e.status||403===e.status?ua(Ar.Users_Position,0,Oa,Na):Ra()},e.send(null)}function Ra(){++$i<ea?(ta+=500,Ua()):Na()}function Na(){aa=!1,ng()}function Da(e){Ga(),Va(e,0)}function Va(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+to[e].access_token;if(uc){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Ha(e,t);200===(n=JSON.parse(n)).status?Ja(n.responseText,e):400===n.status?(Ga(),ua(e,0,null,null)):Ha(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ja(n.responseText,e):400===n.status?(Ga(),ua(e,0,null,null)):Ha(e,t))},n.send(null)}function Ja(e,t){var n=JSON.parse(e);n.token.valid?ha(n.token.authorization.scopes)||ga():(Ga(),ua(t,0,null,null))}function Ha(e,t){++t<ea&&Va(e,t)}function Fa(){Ga(),qa()}function qa(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+to[Ar.Users_Position].name+"/follows/games/"+encodeURIComponent(Ar.Main_gameSelected)+"?oauth_token="+to[Ar.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Qr,Wr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Dy=!0,void by();401===e.status||403===e.status?ua(Ar.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++$i<ea&&(ta+=500,qa())}function Xa(){Ga(),Ya()}function Ya(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+to[Ar.Users_Position].name+"/follows/games/"+encodeURIComponent(Ar.Main_gameSelected)+"?oauth_token="+to[Ar.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Qr,Wr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Dy=!1,void by();401===e.status||403===e.status?ua(Ar.Users_Position,0,Xa,null):ja()}},e.send(null)}function ja(){++$i<ea&&(ta+=500,Ya())}function Wa(){Ga(),Qa()}function Qa(){var e,t="https://api.twitch.tv/api/users/"+to[Ar.Users_Position].name+"/follows/games/"+encodeURIComponent(Ar.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Qr,Wr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Dy=!0,void by()):404===e.status?(Dy=!1,void by()):void Za()},e.send(null)}function Za(){++$i<ea?(ta+=500,Qa()):(Dy=!1,by())}var Ka=0,$a=5,eo=3500,to=[],no=null,io=!1,ao=!1;function oo(){Ar.Main_Go=er,Cc("top_bar_user","icon_center_focus"),Jc(),zl.placeholder=k,Ac("add_user_scroll"),ro()}function so(){uo(!1),document.body.removeEventListener("keydown",lo),document.body.removeEventListener("keydown",_o),Ec("top_bar_user","icon_center_focus"),wc("add_user_scroll")}function lo(e){if(!io&&!ao&&Ar.Main_Go===er)switch(e.keyCode){case ji:qc()?Fc():jc()?Yc():(0<to.length&&Ar.Main_Go!==_r?Ar.Main_Go=Ar.Main_Before:Ar.Main_Go=$l,so(),nu());break;case Ji:case Vi:case Hi:case Yi:ro()}}function ro(){document.body.removeEventListener("keydown",lo),document.body.addEventListener("keydown",_o,!1),zl.placeholder=k,zl.focus(),ao=!0}function co(){if(null!==zl){var e=zl.cloneNode(!0);zl.parentNode.replaceChild(e,zl),zl=document.getElementById("user_input")}}function uo(e){zl.blur(),co(),document.body.removeEventListener("keydown",_o),zl.placeholder=C+k,e&&document.body.addEventListener("keydown",lo,!1),ao=!1}function _o(e){if(!io&&Ar.Main_Go===er)switch(e.keyCode){case ji:qc()?Fc():jc()?Yc():(0<to.length&&Ar.Main_Go!==_r?Ar.Main_Go=Ar.Main_Before:Ar.Main_Go=$l,so(),nu());break;case Ki:zl.value="";break;case Qi:case Xi:""!==zl.value&&null!==zl.value?ko(no=zl.value)?(Pc(),Vc(_+no+ie),window.setTimeout(function(){Jc(),ro()},1500)):(eo=3500,io=!(Ka=0),wc("add_user_scroll"),xc(),fo()):ro();break;case Wi:zl.value=zl.value.slice(0,-1);break;case Zi:zl.value+=" "}}function fo(){c_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(no),eo,2,null,ho,mo)}function ho(e){JSON.parse(e)._total?(zl.value="",document.body.removeEventListener("keydown",lo),yo(e)):po()}function mo(){++Ka<$a?(eo+=500,fo()):po()}function po(){no=null,Pc(),Vc(te),window.setTimeout(function(){oo()},1e3),io=!1}function vo(){if(0<(to=s_("AddUser_UsernameArray",[])).length)for(var e=0;e<to.length;e++)to[e].access_token&&Da(e)}function go(){return 0<to.length}function yo(e){no=JSON.parse(e).users[0],to.push({name:no.name,id:no._id,access_token:0,refresh_token:0}),wo(),eM=!1,so(),nM(),io=!1}function bo(e){var t=to.indexOf(to[e]);-1<t&&to.splice(t,1),0<to.length?(eM=!1,nM()):oo(),wo()}function wo(){a_("AddUser_UsernameArray",JSON.stringify(to))}function Ao(e){no=to[0],to[0]=to[e],to[e]=no,eM=!1,nM(),wo(),Ar.Users_Position=0}function ko(e){return-1!==to.indexOf(e)}function Co(){return 0<to.length}var Eo,Mo=0,Io=0,So=!1,xo=0,Po=0,To=5,Lo=3500,Bo=0,Oo=!1,Go=!1,Uo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ro=!1,No="",Do=null,Vo="",Jo="",Ho="",Fo={},qo=!1,zo=null,Xo="";function Yo(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=rr,qo&&!Ar.Search_isSearching&&Ar.Main_selectedChannel_id&&vs(),No!==Ar.Main_selectedChannel&&(Ro=!1),lu(),Ar.Main_selectedChannelDisplayname=Ar.Main_selectedChannelDisplayname.replace(j,""),Ic("top_bar_user",Ar.Main_selectedChannelDisplayname),Ic("top_bar_game",Ut),document.body.addEventListener("keydown",gs,!1),oa=!1,Ro?(hu(Mo),Ac(Uo[10]),_s(),fs(),au()):Wo()}function jo(){du(),document.body.removeEventListener("keydown",gs),wc(Uo[10])}function Wo(){fu("stream_table_channel_content"),wc(Uo[10]),zo=null,xc(),Jc(),No=Ar.Main_selectedChannel,So=Oo=Ro=!1,Eo=void(Mo=Io=xo=Bo=0),Qo(),Zo()}function Qo(){Qu=!0,Po=0,Lo=3500}function Zo(){c_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Eo?Eo:Ar.Main_selectedChannel_id),Lo,2,null,Ko,$o)}function Ko(e){null!==JSON.parse(e).stream?(Do=e,Qo(),is()):Eo?(Do=null,Qo(),is()):(Qo(),es())}function $o(){++Po<To?(Lo+=500,Zo()):(Do=null,Qo(),is())}function es(){c_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ar.Main_selectedChannel_id),Lo,1,null,ns,ts,!0)}function ts(){++Po<To?(Lo+=500,es()):(Do=null,Qo(),is())}function ns(e){var t=JSON.parse(e);void 0!==(Eo=t.hosts[0].target_id)?(Qo(),Zo()):(Do=null,Qo(),is())}function is(){c_("https://api.twitch.tv/kraken/channels/"+Ar.Main_selectedChannel_id,hv,2,null,as,os)}function as(e){var t=JSON.parse(e);zo=(zo=t.video_banner)?zo.replace("1920x1080",tc):zo,Xo=t.profile_banner,Vo=t.views,Jo=t.followers,Ho=t.description,Ar.Main_selectedChannelLogo=t.logo,ss()}function os(){++Po<To?(Lo+=500,is()):(zo=null,Xo=Di,Ho=Jo=Vo="",Ar.Main_selectedChannelLogo=Ri,ss())}function ss(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Pr=document.createElement("tr")).className="follower_banner",Pr.innerHTML='<div id="'+Uo[0]+'x_0" class="follower_banner"><img id="'+Uo[1]+'x_0" alt="" class="stream_img_banner"src="'+Xo+'" onerror="this.onerror=null;this.src=\''+Di+"'\"></div>",n.appendChild(Pr),null!==Do){var i=JSON.parse(Do);if(null!==i.stream){var a=void 0!==Eo?Ar.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(ds("0_"+t,o.channel.name,o.preview.template,bI.parse(o.channel.status),o.game,Zc(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Bm(o.created_at)+" "+m+Wc(o.viewers)+J,Qc(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Oo=!0}else Oo=!0;e.appendChild(ls("0_"+t,Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(ls("0_"+t,Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(pu(Uo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(rs("1_0",Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelDisplayname,Ar.Main_selectedChannelLogo)),(Pr=document.createElement("td")).setAttribute("id",Uo[8]+"x_x"),Pr.className="stream_cell",Pr.innerHTML='<div id="'+Uo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Uo[4]+'x_x" class="stream_channel_info">'+bI.parse(Ho)+"</div></div>",e.appendChild(Pr),n.appendChild(e),us()}function ds(e,t,n,i,a,o,s,d){return(Pr=document.createElement("td")).setAttribute("id",Uo[8]+e),Pr.setAttribute(ac,t),Pr.className="stream_cell",Pr.innerHTML='<div id="'+Uo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Uo[1]+e+'" alt="" class="stream_img"src="'+n.replace("{width}x{height}",tc)+_c+'" onerror="this.onerror=null;this.src=\''+Ni+'\'"></div><div id="'+Uo[2]+e+'" class="stream_text"><div id="'+Uo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Eo?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Bi+o+'</div><div id="'+Uo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Uo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Uo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Uo[6]+e+'"class="stream_info">'+s+"</div></div>",Pr}function ls(e,t,n,i){return(Pr=document.createElement("td")).setAttribute("id",Uo[8]+e),Pr.setAttribute(ac,t),Pr.className="stream_cell",Pr.innerHTML='<div id="'+Uo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Uo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Uo[2]+e+'" class="stream_text"><div id="'+Uo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Pr}function rs(e,t,n,i){return(Pr=document.createElement("td")).setAttribute("id",Uo[8]+e),Pr.setAttribute(ac,t),Pr.className="stream_cell",Pr.innerHTML='<div id="'+Uo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Uo[1]+e+'" alt="" class="stream_img_fallow"src="'+i+'" onerror="this.onerror=null;this.src=\''+Ri+'\'"></div><div id="'+Uo[2]+e+'" class="stream_text_channel"><div id="'+Uo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Uo[5]+e+'"class="stream_info">'+Wc(Vo)+V+'</div><div id="'+Uo[6]+e+'"class="stream_info" >'+Wc(Jo)+Dt+"</div></div>",Pr}function cs(){ia?(Mc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Ic(Uo[3]+"1_0",Ar.Main_selectedChannelDisplayname+Mt)):(Mc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),go()?Ic(Uo[3]+"1_0",Ar.Main_selectedChannelDisplayname+It):Ic(Uo[3]+"1_0",Ar.Main_selectedChannelDisplayname+Vt))}function us(){Ro||(Ro=!0,fs(),au(),Ac(Uo[10]),Pc()),_s(),Qu=!1}function _s(){Go?cs():go()?(sa=Ar.Main_selectedChannel_id,oa=!1,ka()):(ia=!1,cs())}function fs(){Cc(Uo[0]+Mo+"_"+(Mo?0:Io),ic),Er&&hs(),Eu()}function hs(){Du(Mo+"_"+(Mo?0:Io),Uo)}function ms(){if(Mo)go()&&to[Ar.Users_Position].access_token?(oa=!1,sa=Ar.Main_selectedChannel_id,ia?Ta():Sa()):(Vc(Bt),window.setTimeout(Jc,2e3));else{document.body.removeEventListener("keydown",gs),wc(Uo[10]);var e=Oo?1:0;Io===0-e?(Ar.Play_selectedChannel=document.getElementById(Uo[8]+Mo+"_"+Io).getAttribute(ac),Ar.Play_selectedChannelDisplayname=document.getElementById(Uo[3]+Mo+"_"+Io).textContent,-1!==Ar.Play_selectedChannelDisplayname.indexOf(ne)?(Ar.Play_isHost=!0,Ar.Play_DisplaynameHost=Ar.Play_selectedChannelDisplayname,Ar.Play_selectedChannelDisplayname=Ar.Play_selectedChannelDisplayname.split(ne)[1],Ar.Play_selectedChannel_id=Eo):Ar.Play_selectedChannel_id=Ar.Main_selectedChannel_id,Ar.Play_gameSelected=document.getElementById(Uo[5]+Mo+"_"+Io).textContent.split(v)[1],Hu(Ou)):Io===1-e?Hu(qs):Io===2-e&&(Dg=Ay,Hu(qg))}}function ps(){Fo={"Main_values.Main_selectedChannel_id":Ar.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Ar.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Ar.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Ar.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Go,"Main_values.Main_BeforeChannel":Ar.Main_BeforeChannel}}function vs(){Ar.Main_selectedChannel_id=Ar.Main_selectedChannel_id,Ar.Main_selectedChannelLogo=Ar.Main_selectedChannelLogo,Ar.Main_selectedChannel=Ar.Main_selectedChannel,Ar.Main_selectedChannelDisplayname=Ar.Main_selectedChannelDisplayname,Go=Fo.ChannelContent_UserChannels,Ar.Main_BeforeChannel=Ar.Main_BeforeChannel,qo=!(Fo={})}function gs(e){if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(hs(),Ku(gs)),nk();break;case Fi:Io?Mo||(hs(),--Io<0&&(Io=Oo?1:2),fs()):(hs(),ak(gs,!0));break;case zi:Mo||(hs(),(Oo?1:2)<++Io&&(Io=0),fs());break;case qi:Mo?(hs(),Mo=0,fs()):(hs(),Ku(gs));break;case Xi:Mo||(hs(),Mo=1,fs());break;case Ji:case Vi:case Hi:case Yi:ms()}}var ys=0,bs=0,ws=!1,As=0,ks={},Cs=[],Es=!1,Ms=0,Is=5,Ss=3500,xs=0,Ps=0,Ts=0,Ls=!1,Bs=!1,Os="",Gs=!1,Us=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Rs=!1,Ns=!1,Ds="",Vs="",Js="",Hs="",Fs=0;function qs(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=cr,!Ar.Search_isSearching&&Ar.Main_selectedChannel_id&&vs(),Ar.Main_selectedChannel!==Ds&&(Rs=!1),lu(),bc("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user",Ar.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",od,!1),Rs?(hu(ys),Ic("top_bar_game",Ns?G:O),Ac(Us[10]),td(),au()):Xs()}function zs(){Rs&&nd(),du(),document.body.removeEventListener("keydown",od),wc(Us[10]),Jc()}function Xs(){Rs&&nd(),fu("stream_table_channel_vod"),wc(Us[10]),Ic("top_bar_game",Ns?G:O),xc(),Jc(),Ds=Ar.Main_selectedChannel,Gs=Rs=!1,Qu=!(Bs=!(Cs=[])),ys=bs=As=Ps=xs=0,ws=!(ks={}),Uc(),Ys(),js()}function Ys(){Es=!0,Ms=0,Ss=3500}function js(){var e=As+xs;e&&Ps-1<e&&(e=Ps-Dr,ws=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ar.Main_selectedChannel_id)+"/videos?limit="+Dr+"&broadcast_type="+(Ns?"highlight":"archive")+"&sort=time&offset="+e;uc&&!As?__(t,Ss,2,null,Qs,Ws):f_(t,Ss,2,null,Qs,Ws,!1)}function Ws(){++Ms<Is?(Ss+=500,js()):(Es=!1,As?(ws=!0,Zs()):(Qu=!1,Pc(),Vc(P),Ku(od)))}function Qs(e){var t=JSON.parse(e),n=t.videos.length;Ps=parseInt(t._total),n<Dr&&(ws=!0);var i=As;Ls=!(As+=n);var a=n/Vr;0<n%Vr&&a++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Gs){Gs=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Bi+Bi+p;(Pr=document.createElement("td")).setAttribute("id",Us[8]+"y_0"),Pr.className="stream_cell",Pr.innerHTML='<div id="'+Us[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Us[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(Pr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Vr+m,d=document.createElement("tr"),o=0;o<Vr&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==zo?zo:Ni),c||ks[r]?o--:(ks[r]=1,d.appendChild(dI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",tc),l.channel.display_name,N+cu(l.created_at),bI.parse(l.title)+yi+Qt+v+l.game,Wc(l.views)+V,Qc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Tm(l.length),l.animated_preview_url],Us)));for(;o<Vr;o++)ws&&!Bs&&(Bs=!0,As=s*Vr+o),d.appendChild(pu(Us[9]+s+"_"+o)),Cs.push(Us[9]+s+"_"+o);f.appendChild(d)}Zs()}function Zs(){if(Rs?td(!0):(Ls?(Ku(od),Vc(T+(Ns?G:O)+L+M)):(Rs=!0,td(),au()),Ac(Us[10]),Qu=!1,Pc()),0<Cs.length&&!ws)return Ys(),void Ks();Es=!(Cs=[])}function Ks(){Dc(Cs.length);var e=As+xs;e&&Ps-1<e&&(e=Ps-jr,ws=!0),c_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ar.Main_selectedChannel_id)+"/videos?limit="+jr+"&broadcast_type="+(Ns?"highlight":"archive")+"&sort=time&offset="+e,Ss,2,null,ed,$s)}function $s(){++Ms<Is?(Ss+=500,Ks()):(ws=!0,As-=Cs.length,Cs=[],Zs())}function ed(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(Ps=parseInt(i._total);o<Cs.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ks[n]?o--:(ks[n]=1,rI(Cs[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",tc),t.channel.display_name,N+cu(t.created_at),bI.parse(t.title)+yi+Qt+v+t.game,Wc(t.views)+V,Qc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Tm(t.length),t.animated_preview_url],Us),d.push(o));for(o=d.length-1;-1<o;o--)Cs.splice(d[o],1);xs+=s,ws&&(As-=Cs.length,Cs=[]),Zs()}function td(e){ys<0?id():(Pu(ys,bs,Us,Vr,As,e),uI(Us,ys+"_"+bs),As/Vr<ys+Jr&&!ws&&!Es&&(Ys(),js()),Er&&nd())}function nd(){window.clearInterval(oI),-1<ys&&As?(Ac(Us[1]+ys+"_"+bs),Du(ys+"_"+bs,Us)):ad()}function id(){Cc(Us[0]+"y_0",ic)}function ad(){Ec(Us[0]+"y_0",ic)}function od(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(nd(),Ku(od)),nk();break;case Fi:if(bs){if(Kc(ys,bs-1,Us[0]))nd(),bs--,td();else for(t=Vr-1;-1<t;t--)if(Kc(ys-1,t,Us[0])){nd(),ys--,bs=t,td();break}}else nd(),ak(od,!0);break;case zi:Kc(ys,bs+1,Us[0])?(nd(),bs++,td()):Kc(ys+1,0,Us[0])&&(nd(),ys++,bs=0,td());break;case qi:if(-1===ys)nd(),ys=0,Ku(od);else if(ys){for(t=0;t<Vr;t++)if(Kc(ys-1,bs-t,Us[0])){nd(),ys--,bs-=t,td();break}}else nd(),ys=-1,id();break;case Xi:if(-1!==ys||Ls){for(t=0;t<Vr;t++)if(Kc(ys+1,bs-t,Us[0])){nd(),ys++,bs-=t,td();break}}else ys=0,ad(),td();break;case Ji:case Vi:case Hi:case Yi:-1===ys?(a_("ChannelVod_highlight",(Ns=!Ns)?"true":"false"),Xs()):Uu(ys+"_"+bs,Us,od)}}var sd,dd,ld,rd,cd,ud,_d=0,fd=10,hd=!1,md=0,pd=null,vd=!1,gd=0,yd={bbtv:{},ffz:{}},bd={};function wd(){zd(),Ar.Play_ChatForceDisable?(Zd||_l(),vd=!1,Hu(function(){md=(new Date).getTime(),cd=Ar.Play_selectedChannel_id,ud=Ar.Play_selectedChannel,Ad(md,Ed)})):Vl()}function Ad(e,t){_d=0,kd(e,t)}function kd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+cd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);Cd(e,t)}},i.send(null)}function Cd(e,t){++_d<fd?kd(e,t):dd=window.setTimeout(function(){kd(e,t)},500)}function Ed(e,t){Cl(e),Md(),Pd(),md===t&&Ud()}function Md(){yd.bbtv[cd]||(_d=0,Id())}function Id(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(ud),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?xd(t.responseText):404===t.status?yd.bbtv[cd]=1:Sd())},t.send(null)}function Sd(){++_d<fd&&Id()}function xd(e){Od(JSON.parse(e)),yd.bbtv[cd]=1}function Pd(){yd.ffz[cd]||(_d=0,Td())}function Td(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(ud),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Bd(t.responseText):404===t.status?yd.ffz[cd]=1:Ld())},t.send(null)}function Ld(){++_d<fd&&Td()}function Bd(e){Gd(JSON.parse(e)),yd.ffz[cd]=1}function Od(t){t.emotes.forEach(function(e){bd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Gd(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(bd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(bd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Ud(){Dd(),Rd()}function Rd(){(pd=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){pd.send("PASS blah\r\n"),pd.send("NICK justinfan12345\r\n"),pd.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),pd.send("JOIN #"+ud+"\r\n")},pd.onclose=function(){hd=!0},pd.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":pd.send("PONG "+t.params[0]);break;case"JOIN":vd=!0,Hd('&nbsp;<span class="message">'+yi+bn+Ar.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Vd(t)}},ld=window.setTimeout(Nd,5e3)}function Nd(){vd?rd=window.setInterval(Fd,1e3):(pd.close(1e3),Ud())}function Dd(){window.clearTimeout(ld)}function Vd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+ol[i.charCodeAt(0)%sl]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Hd(t+='<span class="message">'+Jd(vI(a,o))+"</span>")}function Jd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=pI(e[t]):e[t]=e[t][0];return bI.parse(e.join(" "),!0,!0)}function Hd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,Wd.appendChild(t),Fd(),100<++gd&&(gd=0,Hl())}function Fd(){Wd.scrollTop=Wd.scrollHeight}function qd(){Dd(),window.clearTimeout(dd),window.clearTimeout(sd),window.clearInterval(rd)}function zd(){qd(),pd&&pd.close(1e3),md=0,fu("chat_box"),vd=hd=!1}var Xd,Yd,jd,Wd,Qd,Zd=!1,Kd=0,$d=[],el=[],tl=10,nl=null,il=0,al="",ol=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],sl=ol.length,dl=0,ll=!1,rl=0;function cl(){Wd=document.getElementById("chat_box"),_l()}function ul(){Ol(),uc&&Ar.Play_ChatForceDisable?(Zd||_l(),Hu(function(){rl=(new Date).getTime(),cd=Ar.Main_selectedChannel_id,ud=Ar.Main_selectedChannel,Ad(rl,El)})):Vl()}function _l(){Kd=0,Zd=!(bd={}),fl()}function fl(){f_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,ml,hl,!1)}function hl(){++Kd<tl?fl():Zd=!1}function ml(e){gI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){yI(t.type,e.type,e.image_url_4x,null)})}),pl()}function pl(){Kd=0,vl()}function vl(){f_("https://api.betterttv.net/2/emotes",1e4,0,null,yl,gl,!1)}function gl(){++Kd<tl?vl():Zd=!1}function yl(e){Od(JSON.parse(e)),bl()}function bl(){Kd=0,wl()}function wl(){f_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,kl,Al,!1)}function Al(){++Kd<tl?wl():Zd=!1}function kl(e){Gd(JSON.parse(e)),Zd=!0}function Cl(e){gI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){yI(t.type,e.type,e.image_url_4x,Wd)})})}function El(e,t){Cl(e),Md(),Pd(),rl===t&&Ml(t)}function Ml(e){Kd=0,rl===e&&Il(e)}function Il(e){var t="https://api.twitch.tv/v5/videos/"+Ar.ChannelVod_vodId+"/comments?client_id="+Wr+(il?"&content_offset_seconds="+parseInt(il):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(rl===e&&xl(n.responseText,e));rl===e&&Sl(e)}},n.send(null)}function Sl(e){Kd++,rl===e&&(Kd<tl?Il(e):Yd=window.setTimeout(function(){Il(e)},2500))}function xl(e,t){e=JSON.parse(e);var n,i,a=null===nl;a&&(n="&nbsp;",n+='<span class="message">',n+=yi+bn+Ar.Main_selectedChannelDisplayname+" "+al,Pl(n+="</span>",0)),il=0,nl=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+ol[e.commenter.display_name.charCodeAt(0)%sl]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Jd([e.text])}),n+="</span>",a?Pl(n,e.content_offset_seconds):void 0!==nl&&Tl(n,e.content_offset_seconds)}),a&&rl===t&&(Ll(t),void 0!==nl&&Ul(t))}function Pl(e,t){$d.push({time:t,message:e})}function Tl(e,t){el.push({time:t,message:e})}function Ll(e){ll||rl!==e||(Xd=window.setInterval(function(){Gl(e),Wd.scrollTop=Wd.scrollHeight},1e3))}function Bl(){ll||(window.clearTimeout(Qd),window.clearTimeout(Yd),window.clearTimeout(jd),window.clearInterval(Xd))}function Ol(){Bl(),rl=0,fu("chat_box"),ll=!1,nl=null,$d=[],el=[],dl=0}function Gl(e){var t;if(dl<$d.length-1)for(var n=dl;n<$d.length&&$d[n].time<Fs+Android.gettime()/1e3;n++,dl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=$d[n].message,Wd.appendChild(t);else if(Bl(),void 0!==nl)$d=el.slice(),dl=0,Ll(e),el=[],rl===e&&Ul(e),Hl();else{var i="&nbsp;";i+='<span class="message">',i+=yi+yi+Cn+yi+yi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Wd.appendChild(t),ll=!0,Wd.scrollTop=Wd.scrollHeight,window.clearInterval(Xd),Xd=window.setInterval(function(){Wd.scrollTop=Wd.scrollHeight},1e3)}}function Ul(e){Kd=0,ll||rl!==e||Rl(e)}function Rl(e){var t="https://api.twitch.tv/v5/videos/"+Ar.ChannelVod_vodId+"/comments?client_id="+Wr+(null!==nl?"&cursor="+nl:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ll||rl!==e||xl(n.responseText,e));ll||rl!==e||Nl(e)}},n.send(null)}function Nl(e){Kd++,rl===e&&(Kd<tl?Rl(e):jd=window.setTimeout(function(){Rl(e)},2500))}function Dl(){Ol(),Jl(ln+yi+rn)}function Vl(){Ol(),Jl($n)}function Jl(e){var t="&nbsp;";t+='<span class="message">',t+=yi+yi+yi+yi+yi+yi+yi+yi+yi+yi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Wd.appendChild(n)}function Hl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Fd()}var Fl,ql,zl,Xl,Yl,jl,Wl=!0,Ql=!1,Zl=!1,Kl=-1,$l=1,er=2,tr=3,nr=4,ir=5,ar=6,or=7,sr=8,dr=9,lr=10,rr=11,cr=12,ur=13,_r=14,fr=15,hr=16,mr=17,pr=18,vr=19,gr=20,yr=21,br=22,wr="",Ar={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:tr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},kr=!0,Cr=!0,Er=!1,Mr=0,Ir=0,Sr=null,xr=!0,Pr="",Tr=!1,Lr="",Br=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Or=[],Gr=0,Ur=!0,Rr=1.35,Nr=1.5,Dr=45,Vr=3,Jr=Math.floor(Dr/Vr/Nr),Hr=45,Fr=5,qr=Math.floor(Hr/Fr/Rr),zr=48,Xr=6,Yr=Math.floor(zr/Xr/Nr),jr=6,Wr="5seja5ptej058mxqy7gh5tcudjqtm9",Qr="Client-ID",Zr="Accept",Kr="Authorization",$r="OAuth ",ec="application/vnd.twitchtv.v5+json",tc="528x297",nc="340x475",ic="stream_thumbnail_focused",ac="data_attribute",oc="1.0",sc=".24",dc="060619",lc=oc+sc+"-"+dc,rc="",cc=0,uc=0,_c="?"+Math.random(),fc="https://cors-anywhere.herokuapp.com/";function hc(){(Zl=d_("Main_isDebug",!1))&&Wl?mc():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){pc(window.navigator.userLanguage||window.navigator.language)}):pc(window.navigator.userLanguage||window.navigator.language)}function mc(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function pc(e){Vu(),Hu(function(){try{uc=Android.getAndroid(),rc=Android.getversion()}catch(e){rc="1.0.0",uc=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Ql=Zl=!0,console.log("Main_isReleased: "+Wl),console.log("Main_isDebug: "+Zl),console.log("Main_isBrowser: "+Ql)}sA(),Gi(),PA(),console.log("language is "+e),Oi(),-1!==window.location.href.indexOf("code")&&r_(window.location.href),vc()})}function vc(){Vg(),gc(!0),Fl=document.getElementById("scrollbar"),ou(),wr=Ar.Main_Go,Hu(function(){cl(),Zh(),vo(),go()&&(jl=window.setInterval(Xu,6e5)),document.body.addEventListener("keyup",Eu,!1),Jg(),document.getElementById("side_panel").style.marginLeft="",uu(),yc(),Ns=d_("ChannelVod_highlight",!1),NM=d_("UserVod_highlight",!1),OM=o_("UserVod_TypeNumber",1),Sg(),ql=document.getElementById("search_input"),zl=document.getElementById("user_input"),document.addEventListener("visibilitychange",qu,!1),Yl=window.setInterval(zu,6e4),Dg=My,qg(),Xl=window.setTimeout(eu,5e3),Ac("topbar"),HA=document.getElementById("feed_thumb_img")})}function gc(e){zu(),bc("label_refresh","icon-refresh",t+":"+Yt),Mc("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Bi+_t+"</div>"),bc("label_side_panel","icon-ellipsis",Rn),bc("icon_feed_refresh","icon-refresh",t+":"+_i),Ic("top_bar_live",f),Ic("top_bar_user",e?_:i),Ic("top_bar_featured",an),Ic("top_bar_game",h),Ic("top_bar_vod",Kt),Ic("top_bar_clip",U),Mc("scene2_search_text",Bi+n),Mc("scene2_channel_text",Bi+Ut),Mc("scene2_game_text",Bi+Jt),Ic("dialog_end_next_text",si),Ic("dialog_end_replay_text",en),Ic("dialog_end_vod_text",sn),Ic("dialog_end_channel_text",Ut),Ic("dialog_end_game_text",Jt),Mc("dialog_about_text",xi+Pi),Or=[de,le,re,ce],e?eA():(oA(),uu())}function yc(){Ic("play_dialog_exit_text",H),Ic("side_panel_search",n),Ic("side_panel_settings",i),Ic("side_panel_about",a),Ic("side_panel_controls",e),Ic("side_panel_exit",q),Ic("side_panel_feed_settings",ui),Ic("side_panel_feed_refresh",t),Ic("side_panel_live",f),Ic("side_panel_user",_),Ic("side_panel_featured",an),Ic("side_panel_games",h),Ic("side_panel_videos",Kt),Ic("side_panel_clips",U),Ic("side_panel_hide",o),Ic("side_panel_back",fi),Ic("chanel_button",E),Ic("game_button",h),Ic("live_button",f),Ic("exit_app_cancel",Y),Ic("exit_app_close",z),Ic("remove_cancel",Y),Ic("remove_yes",Ht),Ic("exit_app_minimize",X),Ic("main_dialog_exit_text",F),Mc("dialog_controls_text",Si),Ic("dialog_vod_text",wn),Mc("dialog_vod_start_text",kn)}function bc(e,t,n){Mc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Bi+n+"</div>")}function wc(e){document.getElementById(e).classList.add("hide")}function Ac(e){document.getElementById(e).classList.remove("hide")}function kc(e){return-1===document.getElementById(e).className.indexOf("hide")}function Cc(e,t){document.getElementById(e).classList.add(t)}function Ec(e,t){document.getElementById(e).classList.remove(t)}function Mc(e,t){document.getElementById(e).innerHTML=t}function Ic(e,t){document.getElementById(e).textContent=t}function Sc(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function xc(){hu(-1),uc?Android.mshowLoading(!0):Ac("dialog_loading")}function Pc(){uc?Android.mshowLoading(!1):wc("dialog_loading")}function Tc(){window.clearTimeout(Sr)}function Lc(){Sr=window.setTimeout(Oc,6e3)}function Bc(){Lc(),Ac("main_dialog_exit"),document.body.addEventListener("keydown",Yu,!1)}function Oc(){document.body.removeEventListener("keydown",Yu,!1),FA?(FA=!1,iu()):Ku(JA),Tc(),wc("main_dialog_exit"),Ir=0,Gc()}function Gc(){Ec("exit_app_cancel","button_search_focused"),Ec("exit_app_minimize","button_search_focused"),Ec("exit_app_close","button_search_focused"),Cc(Ir?1===Ir?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Uc(){fu("dialog_counter_text"),Nc(0,0,0)}function Rc(e,t,n,i){0<i?(Ic("dialog_counter_text",t*n+(e+1)+"/"+i),Nc(t,n,i)):Uc()}function Nc(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=Ar.Main_Go===nr||Ar.Main_Go===vr||Ar.Main_Go===gr||Ar.Main_Go===cr||Ar.Main_Go===br||Ar.Main_Go===mr||Ar.Main_Go===pr||Ar.Main_Go===ur,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Fl.style.top=o+"px",xr&&(xr=!1,Fl.style.backgroundColor="#777777")}else Fl.style.backgroundColor="#000000",Fl.style.top=i+"px",xr=!0}function Dc(e){(jr=12)/3<e&&(jr=3*e),99<jr&&(jr=99)}function Vc(e){Ic("dialog_warning_text",e),Ac("dialog_warning")}function Jc(){wc("dialog_warning")}function Hc(){Yc(),Ac("dialog_about")}function Fc(){wc("dialog_about")}function qc(){return kc("dialog_about")}function zc(){Yc(),Jc(),su(Ar.Main_Go),Uc(),Kw()}function Xc(){Fc(),Ac("dialog_controls")}function Yc(){wc("dialog_controls")}function jc(){return kc("dialog_controls")}function Wc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Qc(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function Zc(e){return-1!==e.indexOf("live")?"":j}function Kc(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function $c(){zu(),nu(),document.body.addEventListener("keyup",Eu,!1)}function eu(){for(var e,t=0;t<Br.length;t++)t<2?document.getElementById(Br[t]).style.opacity="0.5":-1===(e=document.getElementById(Br[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Cc("topbar","topbar_dim")}function tu(){for(var e=0;e<Br.length;e++)document.getElementById(Br[e]).style.opacity="1";Ec("topbar","topbar_dim")}function nu(e){window.clearTimeout(Xl),tu(),Hu(function(){iu(e)})}function iu(e){Jc(),Ar.Main_Go!==rr&&(Ar.Main_BeforeChannelisSet=!1),Ar.Main_Go!==nr&&(Ar.Main_BeforeAgameisSet=!1),Uc(),Ar.Main_Go===$l?(Dg=My,qg()):Ar.Main_Go===er?oo():Ar.Main_Go===tr?(Dg=Cy,qg()):Ar.Main_Go===nr?(Dg=Sy,qg()):Ar.Main_Go===sr?dw():Ar.Main_Go===dr?Xb():Ar.Main_Go===lr?Bw():Ar.Main_Go===rr?Yo():Ar.Main_Go===cr?qs():Ar.Main_Go===ur?(Dg=Ay,qg()):Ar.Main_Go===_r?nM():Ar.Main_Go===ir?xE():Ar.Main_Go===ar?dC():Ar.Main_Go===or?(Dg=Ey,qg()):Ar.Main_Go===fr?xk():Ar.Main_Go===hr?gb():Ar.Main_Go===mr?(Dg=xy,qg()):Ar.Main_Go===pr?(Dg=wy,qg()):Ar.Main_Go===vr?(Dg=Py,qg()):Ar.Main_Go===gr?(Dg=ky,qg()):Ar.Main_Go===yr?(Dg=Iy,qg()):Ar.Main_Go===br&&DM(),Xl=window.setTimeout(eu,3e3),e&&n_()}function au(){a_("Main_values",JSON.stringify(Ar))}function ou(){Ar=Fg(Ar,s_("Main_values",{}))}function su(e){e===$l?zg():e===er?so():e===tr?zg():e===nr?zg():e===sr?lw():e===dr?Yb():e===lr?Ow():e===rr?jo():e===cr?zs():e===ur?zg():e===_r?iM():e===ir?PE():e===ar?lC():e===or?zg():e===fr?Pk():e===hr?yb():e===mr?zg():e===pr?zg():e===vr?zg():e===gr?zg():e===yr?zg():e===br&&VM(),kc("settings_scroll")&&$w()}function du(){bc("label_refresh","icon-refresh",t+":"+Yt),bc("label_side_panel","icon-ellipsis",Rn),Ec("top_bar_user","icon_center_focus"),Ic("top_bar_live",f),Ic("top_bar_user",_),Ic("top_bar_featured",an),Ic("top_bar_game",h),Ic("top_bar_vod",Kt),Ic("top_bar_clip",U)}function lu(){bc("label_side_panel","icon-arrow-circle-left",I),fu("top_bar_live"),fu("top_bar_game"),fu("top_bar_vod"),fu("top_bar_clip"),fu("top_bar_featured"),Cc("top_bar_user","icon_center_focus")}function ru(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function cu(e){return e=new Date(e),Tr?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function uu(){uc&&(lc="Android: "+rc+" Web: "+dc,_u(rc)&&Ac("label_update")),Mc("dialog_about_text",xi+ye+lc+Pi)}function _u(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(oc)||parseInt(e[2])<parseInt(sc.split(".")[1])}function fu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function hu(e){Kl=e}function mu(e){var t=0;return Kl<e?t=-1:e<Kl&&(t=1),Kl=e,t}function pu(e){return(Pr=document.createElement("td")).setAttribute("id",e),Pr.className="stream_cell",Pr}function vu(e,t,n){return(Pr=document.createElement("td")).setAttribute("id",t[4]+e),Pr.setAttribute(ac,n[0]),Pr.setAttribute("data-id",n[1]),Pr.className="stream_cell",Pr.innerHTML=yu(e,t,n),Pr}function gu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(ac,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=yu(a,n,t),i.setAttribute("id",n[4]+a)}function yu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[2]+'" onerror="this.onerror=null;this.src=\''+Ri+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function bu(e,t,n,i,a){return(Pr=document.createElement("td")).setAttribute("id",i[8]+t),Pr.setAttribute(ac,JSON.stringify(n)),Pr.className="stream_cell",Pr.innerHTML=Au(t,i,a),Pr}function wu(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(ac,JSON.stringify(t)),a.innerHTML=Au(o,i,n),a.setAttribute("id",i[8]+o)}function Au(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" alt="" class="stream_img" src="'+n[0]+_c+'" onerror="this.onerror=null;this.src=\''+Ni+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+bI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function ku(e,t,n){return(Pr=document.createElement("td")).setAttribute("id",t[5]+e),Pr.setAttribute(ac,n[0]),Pr.className="stream_cell",Pr.innerHTML=Cu(e,t,n),Pr}function Cu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[1]+'" onerror="this.onerror=null;this.src=\''+Ui+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Eu(){Cr=!0}function Mu(){kr=!0}function Iu(){kr=!1,window.setTimeout(Mu)}function Su(){return!kr||!Cr}function xu(e,t,n,i,a,o){Cc(n[0]+e+"_"+t,ic),Rc(t,e,i,a),mu(e)||o?1<e?Kc(e+1,0,n[0])?Nu(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Eu():Nu(n[6],.07*screen.height):Eu()}function Pu(e,t,n,i,a,o){Cc(n[0]+e+"_"+t,ic),Rc(t,e,i,a),mu(e)||o?e?Kc(e+1,0,n[0])&&Nu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):Nu(n[10],.07*screen.height):Eu()}function Tu(e,t,n,i,a){Cc(n[0]+e+"_"+t,ic),Rc(t,e,i,a),mu(e)?Nu(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Eu()}function Lu(e,t){return null===document.getElementById(t+e)}function Bu(e,t,n){Lu(e,t[0])||(document.body.removeEventListener("keydown",n),Ar.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(ac)),Ar.Play_selectedChannel_id=Ar.Play_selectedChannel[1],Ar.Play_selectedChannel=Ar.Play_selectedChannel[0],Ar.Play_isHost=Ar.Main_Go===ar&&!qh,Ar.Play_isHost?(Ar.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Ar.Play_selectedChannelDisplayname=Ar.Play_DisplaynameHost.split(ne)[1]):Ar.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ar.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Ar.Main_Go===nr&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),Ou())}function Ou(){document.body.addEventListener("keydown",Yp,!1),wc("scene1"),Ac("scene2"),ep(),sp(),kp(),go()&&!AC&&PC&&sE(),Hu(em)}function Gu(e,t,n){Lu(e,t[0])||(document.body.removeEventListener("keydown",n),Gy=JSON.parse(document.getElementById(t[8]+e).getAttribute(ac)),J_=parseInt(Gy[1]),Ar.Play_gameSelected=Gy[2],Ar.Main_selectedChannel=Gy[3],Ar.Main_selectedChannelDisplayname=Gy[4],Ar.Main_selectedChannelLogo=Gy[5],Ar.Main_selectedChannel_id=Gy[6],Ar.ChannelVod_vodId=Gy[7],Fs=parseInt(Gy[8]),Oy=Gy[9],Ry=Gy[10],Ly=Gy[11],Gy=Gy[0],Uy=document.getElementById(t[4]+e).textContent,By=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Ef,!1),wc("scene1"),Ac("scene2"),sp(),Qm(),Fm(),Xm(),go()&&!AC&&PC&&sE(),Hu(j_))}function Uu(e,t,n){Lu(e,t[0])||(document.body.removeEventListener("keydown",n),Ar.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(ac)),Ts=parseInt(Ar.ChannelVod_vodId[1]),Os=Ar.ChannelVod_vodId[2],Ar.Play_gameSelected=Ar.ChannelVod_vodId[3],Ar.Main_selectedChannel=Ar.ChannelVod_vodId[4],Hh=Ar.ChannelVod_vodId[5],Ar.ChannelVod_vodId=Ar.ChannelVod_vodId[0].substr(1),Ar.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Js=document.getElementById(t[4]+e).textContent,Hs=document.getElementById(t[5]+e).textContent,Vs=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Ru())}function Ru(){document.body.addEventListener("keydown",Ng,!1),wc("scene1"),Ac("scene2"),_g(),sp(),Qm(),Xm(),Tv=!1,go()&&!AC&&PC&&sE(),Hu(Nv)}function Nu(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Eu,10)}function Du(e,t){Cr=!1,Ec(t[0]+e,ic)}function Vu(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(Zl&&console.log("Main_Checktylesheet reloading"),Ju("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):Zl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function Ju(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Hu(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Fu(){var e=(new Date).getTime()+cc;return e=new Date(e),(Tr?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Pm(e.getHours())+":"+Pm(e.getMinutes())}function qu(){document.hidden||(zu(),window.setTimeout(zu,2e4))}function zu(){document.hidden||(Ic("label_clock",Fu()),_c="?"+Math.random())}function Xu(){go()&&window.setTimeout(function(){document.hidden||QC()||QA()||AC||(Hf=to[Ar.Users_Position].name,UC())},15e3)}function Yu(e){switch(e.keyCode){case ji:Oc();break;case zi:2<++Ir&&(Ir=0),Gc(),Tc(),Lc();break;case Fi:--Ir<0&&(Ir=2),Gc(),Tc(),Lc();break;case Yi:uc&&Ir?1===Ir?(Oc(),Android.mclose(!1)):2===Ir&&Android.mclose(!0):Oc()}}hc();var ju=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Wu=[$l,_r,yr,tr,mr,pr],Qu=!1;function Zu(e){if(!(Qu||Dg.FirstLoad||Su()))switch(e.keyCode){case ji:jc()?(e_(),Yc()):qc()?(e_(),Fc()):Ar.Main_Go===nr?(Ar.Main_OldgameSelected=Ar.Main_gameSelected,Ar.Games_return?(Ar.Main_Go=dr,Ar.Main_gameSelected=Ar.gameSelectedOld):(Ar.Main_Go=Ar.Main_BeforeAgame,Ar.Main_BeforeAgame=$l),_y(Ar.Main_Go),$u(),iu()):Ar.Main_Go===gr?(_y(nr),$u(),iu()):Ar.Main_Go===or?(_y(_r),$u(),iu()):Ar.Main_Go===ur?(_y(rr),$u(),iu()):Ar.Main_Go===vr?(_y(nr),$u(),iu()):Ar.Main_Go===ir?(Ar.Main_Go=_r,PE(),$u(),iu()):Ar.Main_Go===ar?(Ar.Main_Go=_r,lC(),$u(),iu()):Ar.Main_Go===br?(Ar.Main_Go=_r,VM(),$u(),iu()):Ar.Main_Go===fr?(Ar.Main_Go=_r,Pk(),$u(),iu()):Ar.Main_Go===rr?(Ar.Main_Go=Ar.Main_BeforeChannel,Ar.Main_BeforeChannel=$l,jo(),Ar.Main_selectedChannel_id="",$u(),iu()):Ar.Main_Go===cr?(Ar.Main_Go=rr,zs(),$u(),iu()):Ar.Main_Go===lr?(Ar.Main_Go===Ar.Main_BeforeSearch?Ar.Main_Go=$l:Ar.Main_Go=Ar.Main_BeforeSearch,Ow(),Ar.Search_isSearching=!1,$u(),iu()):Ar.Main_Go===dr?(Ar.Main_Go===Ar.Main_BeforeSearch?Ar.Main_Go=$l:Ar.Main_Go=Ar.Main_BeforeSearch,Ar.Search_isSearching=!1,Yb(),$u(),iu()):Ar.Main_Go===hr?(Ar.Main_Go===Ar.Main_BeforeSearch?Ar.Main_Go=$l:Ar.Main_Go=Ar.Main_BeforeSearch,Ar.Main_selectedChannel_id&&vs(),yb(),Ar.Search_isSearching=!1,$u(),iu()):($u(),ak(Zu));break;case zi:if(Ar.Search_isSearching||Ar.Main_Go===rr||Ar.Main_Go===cr||Ar.Main_Go===ur||Ar.Main_Go===lr||Ar.Main_Go===dr||Ar.Main_Go===hr)break;Ec(ju[Ar.Main_CenterLablesVectorPos],"icon_center_line"),Ar.Main_CenterLablesVectorPos++,5<Ar.Main_CenterLablesVectorPos&&(Ar.Main_CenterLablesVectorPos=0),e_(),t_();break;case Fi:if(Ar.Search_isSearching||Ar.Main_Go===rr||Ar.Main_Go===cr||Ar.Main_Go===ur||Ar.Main_Go===lr||Ar.Main_Go===dr||Ar.Main_Go===hr)break;Ec(ju[Ar.Main_CenterLablesVectorPos],"icon_center_line"),Ar.Main_CenterLablesVectorPos--,Ar.Main_CenterLablesVectorPos<0&&(Ar.Main_CenterLablesVectorPos=5),e_(),t_();break;case Xi:Ec(ju[Ar.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Zu),Er=!1,iu();break;case Yi:i_()}}function Ku(e){window.clearTimeout(Xl),tu(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Zu),document.body.addEventListener("keydown",Zu,!1),e_()}function $u(){Ec(ju[Ar.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Zu),Er=!1}function e_(){Er=!0,Cc(ju[Ar.Main_CenterLablesVectorPos],"icon_center_line")}function t_(){su(Ar.Main_Go),Ar.Main_Go=Wu[Ar.Main_CenterLablesVectorPos],Ar.Main_Go!==_r||Co()?nu(!0):(Ar.Main_Go=er,$u(),nu())}function n_(){Ar.Main_Go===$l?(Dg=My,document.body.removeEventListener("keydown",my)):Ar.Main_Go===_r?document.body.removeEventListener("keydown",gM):Ar.Main_Go===nr?(Dg=Sy,document.body.removeEventListener("keydown",my)):Ar.Main_Go===yr?(Dg=Iy,document.body.removeEventListener("keydown",my)):Ar.Main_Go===lr?document.body.removeEventListener("keydown",Xw):Ar.Main_Go===dr?document.body.removeEventListener("keydown",iw):Ar.Main_Go===hr?document.body.removeEventListener("keydown",Lb):Ar.Main_Go===cr?document.body.removeEventListener("keydown",od):Ar.Main_Go===rr?document.body.removeEventListener("keydown",gs):Ar.Main_Go===ar?document.body.removeEventListener("keydown",bC):Ar.Main_Go===br?document.body.removeEventListener("keydown",iI):Ar.Main_Go===fr?document.body.removeEventListener("keydown",Fk):Ar.Main_Go===tr?(Dg=Cy,document.body.removeEventListener("keydown",my)):Ar.Main_Go===ur?(Dg=Ay,document.body.removeEventListener("keydown",my)):Ar.Main_Go===mr?(Dg=xy,document.body.removeEventListener("keydown",my)):Ar.Main_Go===pr?(Dg=wy,document.body.removeEventListener("keydown",my)):Ar.Main_Go===gr?(Dg=ky,document.body.removeEventListener("keydown",my)):Ar.Main_Go===or?(Dg=Ey,document.body.removeEventListener("keydown",my)):Ar.Main_Go===vr?(Dg=Py,document.body.removeEventListener("keydown",my)):Ar.Main_Go===ir&&document.body.removeEventListener("keydown",YE)}function i_(){window.clearTimeout(Xl),tu(),Ar.Main_Go!==rr&&(Ar.Main_BeforeChannelisSet=!1),Ar.Main_Go!==nr&&(Ar.Main_BeforeAgameisSet=!1),Uc(),Ar.Main_Go===$l?(Dg=My,Xg()):Ar.Main_Go===_r?aM():Ar.Main_Go===yr?(Dg=Iy,Xg()):Ar.Main_Go===nr?(Dg=Sy,Xg()):Ar.Main_Go===fr?Tk():Ar.Main_Go===rr?Wo():Ar.Main_Go===cr?Xs():Ar.Main_Go===lr?Gw():Ar.Main_Go===dr?jb():Ar.Main_Go===hr?bb():Ar.Main_Go===tr?(Dg=Cy,Xg()):Ar.Main_Go===or?(Dg=Ey).loadingData||Dg.key_refresh():Ar.Main_Go===mr?(Dg=xy,Xg()):Ar.Main_Go===pr?(Dg=wy,Xg()):Ar.Main_Go===gr?(Dg=ky,Xg()):Ar.Main_Go===ur?(Dg=Ay,Xg()):Ar.Main_Go===vr?(Dg=Py,Xg()):Ar.Main_Go===ir?TE():Ar.Main_Go===ar?rC():Ar.Main_Go===br&&JM(),Xl=window.setTimeout(eu,3e3)}function a_(e,t){localStorage.setItem(e,t)}function o_(e,t){return parseInt(localStorage.getItem(e))||t}function s_(e,t){return JSON.parse(localStorage.getItem(e))||t}function d_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function l_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function r_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Mr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function c_(e,t,n,i,a,o,s){uc?__(e,t,n,i,a,o):f_(e,t,n,i,a,o,s)}function u_(e,t,n,i,a,o,s,d){uc&&d?__(e,t,n,i,a,o):f_(e,t,n,i,a,o,s)}function __(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function f_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?fc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Qr,Wr),1<n&&d.setRequestHeader(Zr,ec),2<n&&d.setRequestHeader(Kr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function h_(e,t,n,i,a,o,s){uc?m_(e,t,n,i,a,o):f_(e,t,n,i,a,o,s)}function m_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function m_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?fc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Qr,Wr),1<n&&d.setRequestHeader(Zr,ec),2<n&&d.setRequestHeader(Kr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}var p_=0,v_=null,g_=0,y_=!1,b_=0,w_=0,A_=!1,k_=0,C_=2e3,E_=5,M_="source",I_=M_,S_=0,x_=[],P_="",T_=!1,L_=0,B_=0,O_=1,G_=!1,U_=0,R_=!1,N_=!1,D_=2e3,V_=[0,5],J_=0,H_=!1,F_=!1,q_=["next_button","back_button"],z_=0,X_=!1,Y_=!0;function j_(){Vm(),kp(),cm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo),Ic("stream_info_name",Ar.Main_selectedChannelDisplayname),Mc("stream_info_title",Oy),Mc("stream_info_game",Ly+" "+By+" "+Ry),Ic("stream_live_icon",Uy),Ic("progress_bar_duration",Tm(J_)),Cg((Fh=V_)[1]),Sc("stream_info_title"),Ar.Play_isHost=!1,Ic("progress_bar_current_time",Tm(0)),Ic("stream_live_time",""),Ic("stream_watching_time",""),G_=null!==Ar.ChannelVod_vodId,al=Gt+".",G_?(il=Fs,ul()):Dl(),Mc("pause_button",'<i class="pause_button3d icon-pause"></i>'),Ac("progress_pause_holder"),kf(),Ac("scene_channel_panel_bottom"),g_=U_=0,window.clearInterval(v_),N_=!1,Of=-13,L_=B_=0,S_=2,rf(),Tp(3),kh=!1,gp(),go()?(oa=!0,sa=Ar.Main_selectedChannel_id,ka()):Dm(),document.addEventListener("visibilitychange",af,!1),y_=!1,A_=!(w_=b_=0),W_(),document.body.removeEventListener("keyup",Eu)}function W_(){k_=0,C_=2e3,Q_()}function Q_(){c_("https://clips.twitch.tv/api/v2/clips/"+Gy+"/status",C_,1,null,K_,Z_,!0)}function Z_(){++k_<E_?(C_+=250,Q_()):(Jm(),Rp(3))}function K_(e){x_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)x_.length?x_.push({id:e[t].quality+"p"+$_(e[t].frame_rate),url:e[t].source}):x_.push({id:e[t].quality+"p"+$_(e[t].frame_rate)+" (source)",url:e[t].source});B_=O_,ef()}function $_(e){return 40<e?60:""}function ef(){window.clearInterval(v_),P_=x_[S_=0].url,-1!==M_.indexOf("source")&&(M_="source");for(var e=0;e<bf();e++){if(x_[e].id===M_){P_=x_[S_=e].url;break}-1!==x_[e].id.indexOf(M_)&&(P_=x_[S_=e].url)}I_=M_,Zl&&console.log("PlayClip_onPlayer:",'\n\n"'+P_+'"\n'),B_=O_,uc&&A_&&Android.startVideoOffset(P_,3,T_?-1:Android.gettime()),T_=!1,tf()}function tf(){nh&&!dp()&&op(),uc&&(g_=0,Dh=1+D_/1e3,R_=!1,window.clearInterval(v_),v_=window.setInterval(of,Vh))}function nf(e){Ic("progress_bar_duration",Tm(J_=e/1e3)),gf()}function af(){document.hidden&&df()}function of(){uc&&(L_=Android.gettime()),J_<L_/1e3&&(uc&&Android.play(!1),Play_PannelEndStart(3)),A_&&p_===L_&&!Sm()?++g_>Dh&&(R_&&N_&&S_<bf()-1?S_++:!R_&&N_&&U_++,navigator.onLine?1<U_?Im(U_,3,sf):(wf(),ef(),N_=!0):Mm(!1,3)):(g_=U_=0,N_=!1),p_=L_}function sf(e){if(!e){if(!(S_<bf()-1))return void Mm(!1,3);S_++}U_=0,wf(),ef(),N_=!0}function df(){A_&&(X_=!1,lf(),Xm(),Um())}function lf(){pf(),x_=[],window.clearInterval(v_),uc&&Android.stopVideo(3),A_=!1,Ol(),Rm(),KC(),document.body.removeEventListener("keydown",Ef),document.removeEventListener("visibilitychange",af),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Fs=0}function rf(){var e,t=cf(1,0),n=cf(-1,Dg.ColoumnsCount-1);F_=H_=!1,t?(H_=!0,Ic("next_button_text_name",(e=JSON.parse(document.getElementById(Dg.ids[8]+t).getAttribute(ac)))[4]),Mc("next_button_text_title",e[9]),Ic("end_next_button_text_name",e[4]),Mc("end_next_button_text_title",e[9]),uf(0,1)):uf(0,0),n?(F_=!0,Ic("back_button_text_name",(e=JSON.parse(document.getElementById(Dg.ids[8]+n).getAttribute(ac)))[4]),Mc("back_button_text_title",e[9]),uf(1,1)):uf(1,0)}function cf(e,t){return Kc(Dg.posY,Dg.posX+e,Dg.ids[0])?Dg.posY+"_"+(Dg.posX+e):Kc(Dg.posY+e,t,Dg.ids[0])?Dg.posY+e+"_"+t:null}function uf(e,t){document.getElementById(q_[e]).style.opacity=t}function _f(){z_?1===z_?ff():-1===z_&&hf():(G_&&Ar.Play_ChatForceDisable&&(Sm()?Ll(rl):Bl()),Cp()||vp(3))}function ff(){hy(1,0),mf()}function hf(){hy(-1,Dg.ColoumnsCount-1),mf()}function mf(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",Hu(function(){lf(),Gu(Dg.posY+"_"+Dg.posX,Dg.ids,my),e.style.transition=""})}function pf(){kv=!1,Av=Cv=0,ip(),M_=I_,document.getElementById("scene_channel_panel").style.opacity="0",uc&&wg(Android.gettime()/1e3,J_,!0),Mc("progress_bar_jump_to",Bi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Qp)}function vf(){gf(),xm(),Qp=window.setInterval(gf,1e3),Xm(),mg(),yf(),wf(),document.getElementById("scene_channel_panel").style.opacity="1",Af()}function gf(){uc&&wg(Android.gettime()/1e3,J_,!kv)}function yf(){for(var e=S_=0;e<bf();e++){if(x_[e].id===M_){S_=e;break}-1!==x_[e].id.indexOf(M_)&&(S_=e)}}function bf(){return x_.length}function wf(){1===bf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):S_?S_===bf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(M_=x_[S_].id).indexOf("source")?Ic("quality_name",M_.replace("source",ge)):Ic("quality_name",M_)}function Af(){Rf=window.setTimeout(pf,5e3+Lv)}function kf(){document.getElementById("quality_name").style.width="16ch",Ic("open_vod_text",G_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Cf(){G_?(Ar.vodOffset=Fs,lf(),document.body.addEventListener("keydown",Ng,!1),gp(),Hu(Nv)):(kh=!0,Hm(ln),window.setTimeout(function(){kh=!1,Fm()},2e3))}function Ef(e){if(B_!==O_)switch(e.keyCode){case ji:Ym()?(Xm(),df()):zm()}else switch(e.keyCode){case Fi:QC()?Ff&&!AC&&(lE(),Ff--,iE()):Vf&&!$m()&&dp()?(Lf++,hp()):$m()?(ip(),2===Pv?(bp(),5<++Ah&&(Ah=0),yp()):Pv?1===Pv&&-1<z_&&(z_--,F_||!z_?pg():z_++):(Mg(-1,J_),Lv=2500),Af()):Cp()?(xp(),Ip(),--Sh<(H_?-1:0)&&(Sh=3),Mp()):vf();break;case zi:QC()?Ff<YC()-1&&!AC&&(lE(),Ff++,iE()):!Vf||$m()||Cp()?$m()?(ip(),2===Pv?(bp(),--Ah<0&&(Ah=5),yp()):Pv?1===Pv&&z_<1&&(z_++,H_||!z_?pg():z_--):(Mg(1,J_),Lv=2500),Af()):Cp()?(xp(),Ip(),3<++Sh&&(Sh=H_?-1:0),Mp()):vf():a_("ChatEnable",(nh=dp()||Cp()?(sp(),!1):(op(),!0))?"true":"false");break;case qi:Cp()?xp():$m()?(2===Pv&&1!==Ah?(Pv--,pg()):1===Pv?(Pv--,pg()):0<S_&&1===Ah&&(S_--,wf()),ip(),Af()):QC()?QC()?nE():vf():ZC();break;case Xi:Cp()?xp():$m()?(Pv?1===Pv?(Pv++,pg()):S_<bf()-1&&1===Ah&&(S_++,wf()):(Pv++,pg()),ip(),Af()):QC()?KC():Vf&&dp()?(4<++Uf?fp(!(Uf=1)):4===Uf&&fp(!0),up(!0)):vf();break;case Yi:Cp()?Pp(3):$m()?Pv?1===Pv?_f():Up(3):(ip(),Af(),Av&&Ag()):QC()?(lf(),Bu(Ff,OC,Yp)):vf();break;case ji:$m()?pf():QC()?KC():Ym()?(Xm(),df()):zm();break;case Ji:case Vi:case Hi:G_&&!Ar.Play_ChatForceDisable&&(Sm()?Ll(rl):Bl()),Cp()||vp(3)}}var Mf,If,Sf,xf,Pf,Tf,Lf=0,Bf=Lf,Of=-5,Gf=.55,Uf=3,Rf=null,Nf="source",Df=Nf,Vf=!0,Jf=!1,Hf="",Ff=0,qf=2e3,zf=0,Xf=1,Yf=2,jf=0,Wf=null,Qf=0,Zf=0,Kf=0,$f="",eh=[],th=0,nh=!1,ih=null,ah=null,oh=null,sh="",dh=0,lh=5,rh=0,ch=5,uh=0,_h=!1,fh=null,hh=!1,mh=0,ph=null,vh=0,gh=0,yh=!1,bh=!1,wh=!1,Ah=1,kh=!1,Ch=!1,Eh=1e4,Mh=2e3,Ih="",Sh=0,xh=3,Ph=3,Th=null,Lh="",Bh=0,Oh=0,Gh="",Uh=!0,Rh=!1,Nh=!1,Dh=7,Vh=1e3,Jh=0,Hh="",Fh=[],qh=!1,zh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Xh=[0,0,0,1,2,2,2,1],Yh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],jh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Wh=1,Qh=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Zh(){Pf=document.getElementById("chat_container"),Tf=document.getElementById("inner_progress_bar"),Lf=o_("ChatPositionsValue",0),Uf=o_("ChatSizeValue",3),nh=d_("ChatEnable",!1),Vf=d_("Play_isFullScreen",!0),up(!1),_p(!1),$h()}function Kh(e){e?void 0!==Mf&&(Lf=Mf,Uf=Sf,(nh=If)||sp(),up(!1)):(Mf=Lf,If=nh,Sf=Uf,Lf=0,op(),Uf=4,fp(nh=!0),up(!1),Wd&&(Wd.scrollTop=Wd.scrollHeight)),a_("Play_isFullScreen",Vf)}function $h(){Wh=lA("chat_font_size");for(var e=0;e<Qh.length;e++)Ec("chat_inner_container",Qh[e]);Cc("chat_inner_container",Qh[Wh])}function em(){Vm(),Mc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Bi+f.toUpperCase()+"</div>"),fu("stream_info_title"),G_=!(Ch=!1),cm(document.getElementById("stream_info_icon"),Ri),Ar.Play_isHost?Ic("stream_info_name",Ar.Play_DisplaynameHost):Ic("stream_info_name",Ar.Play_selectedChannelDisplayname),uf(0,0),uf(1,0),Ar.Play_WasPlaying=1,au(),Jf=Ar.Play_isHost,Ar.Play_isHost=!1,Rh=!1,Ac("scene_channel_panel_bottom"),Oh=Bh=0,Ic("stream_watching_time",g+Tm(0)),sh=Lm(0),Ic("stream_live_time",y+sh),wc("progress_pause_holder"),qh=!1,Tp(1),Of=-5,vh=gh=Jh=0,window.clearInterval(ph),bh=!1,Eh=3e3,Uh=!(rh=0),jf=zf,wh=!(_h=!(Kf=Zf=Qf=hh=0)),document.addEventListener("visibilitychange",nm,!1),am(),um(),document.body.removeEventListener("keyup",Eu),Wf=window.setInterval(dm,6e4)}function tm(e){Hm(e)}function Play_CheckResume(){_h&&nm(),cv&&Yv(),A_&&(df(),window.clearInterval(v_))}function nm(){document.hidden?Cp()?(Xm(),sp(),Om()):(Rm(),wh=!1,zd(),window.clearInterval(Wf)):(_h=!0,Qm(),_h&&(Vm(),Eh=3e3,Rh=!(rh=0),Ch?dm():am(),jf=zf,uh=0,navigator.onLine?um():xf=window.setInterval(im,100),Wf=window.setInterval(dm,6e4)))}function im(){(navigator.onLine||200<uh)&&(window.clearInterval(xf),um()),uh++}function am(){f_("https://api.twitch.tv/kraken/streams/"+Ar.Play_selectedChannel_id,Eh,2,null,om,sm,!1)}function om(e){null!==(e=JSON.parse(e)).stream&&(Ic("stream_info_name",Jf?Ar.Play_DisplaynameHost:Ar.Play_selectedChannelDisplayname),Ar.Play_selectedChannel_id=e.stream.channel._id,Mc("stream_info_title",bI.parse(e.stream.channel.status,!1,!0)),Ar.Play_gameSelected=e.stream.game,Ih=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Ic("stream_info_game",v+Ar.Play_gameSelected+m+Wc(e.stream.viewers)+" "+J+Ih),Ar.Play_selectedChannelLogo=e.stream.channel.logo,Ch=!0,cm(document.getElementById("stream_info_icon"),Ar.Play_selectedChannelLogo),sh=e.stream.created_at,go()?(oa=!0,sa=Ar.Play_selectedChannel_id,ka()):Dm())}function sm(){rh<ch&&(Eh+=500,window.setTimeout(function(){_h&&am()},750)),rh++}function dm(){f_("https://api.twitch.tv/kraken/streams/"+Ar.Play_selectedChannel_id,3e3,2,null,lm,rm,!1)}function lm(e){null!==(e=JSON.parse(e)).stream&&(Mc("stream_info_title",bI.parse(e.stream.channel.status,!1,!0)),Ar.Play_gameSelected=e.stream.game,Ic("stream_info_game",v+Ar.Play_gameSelected+m+Wc(e.stream.viewers)+" "+J+Ih),Ch||cm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function rm(){Jh<ch?(window.setTimeout(function(){_h&&dm()},2500),Jh++):Jh=0}function cm(e,t){e.onerror=function(){this.onerror=null,this.src=Ri,Ch=!1},e.src=t}function um(){dh=0,Mh=2e3+(Rh?3e3:0),_m()}function _m(){var e,t;if(e=jf===zf?"https://api.twitch.tv/api/channels/"+Ar.Play_selectedChannel+"/access_token"+(go()&&to[Ar.Users_Position].access_token?"?oauth_token="+to[Ar.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Ar.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Qf.token)+"&sig="+Qf.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",uc){if(!(t=Android.mreadUrl(e,Mh,1,null)))return void hm();200===(t=JSON.parse(t)).status?(dh=0,_h&&vm(t.responseText)):403===t.status?mm():404===t.status?Np():hm()}else(t=new XMLHttpRequest).open("GET",fc+e,!0),t.timeout=Mh,t.setRequestHeader(Qr,Wr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(dh=0,_h&&vm(t.responseText)):403===t.status?(fm(t),Ql?pm():mm()):404===t.status?(fm(t),Ql?pm():Np()):(fm(t),hm()))},t.send(null)}function fm(e){Zl&&(console.log(e.status),console.log(e.responseText))}function hm(){_h&&Uh&&(++dh<lh+(Rh?7:0)?(Mh+=250,Rh?window.setTimeout(_m,500):_m()):Ql?pm():Np())}function mm(){Jm(),Hm(Vn),window.setTimeout(function(){_h&&Np()},4e3)}function pm(){eh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],jf=Yf,_h&&wm()}function vm(e){jf===zf?(Qf=JSON.parse(e),jf=Xf,um()):jf===Xf&&(eh=gm(Zf=e),jf=Yf,_h&&wm())}function gm(e){for(var t,n=[],i="",a=1,o=bm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=ym(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function ym(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function bm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function wm(){window.clearInterval(ph),$f=eh[th=0].url,-1!==Nf.indexOf("source")&&(Nf="source");for(var e=0;e<cp();e++){if(eh[e].id===Nf){$f=eh[th=e].url;break}-1!==eh[e].id.indexOf(Nf)&&($f=eh[th=e].url)}Df=Nf,jf=Yf,Zl&&console.log("Play_onPlayer:",'\n\n"'+$f+'"\n'),uc&&_h&&Android.startVideo($f,1),Am()}function Am(){Nh=!1,nh&&!dp()&&op(),wh=!0,km(),uc&&(vh=0,Dh=1+qf/1e3,yh=!1,window.clearInterval(ph),ph=window.setInterval(Cm,Vh))}function km(){Ar.Play_ChatForceDisable?wd():Vl()}function Cm(){var e=!Sm();uc&&(Bh=Android.gettime()),_h&&mh===Bh&&e?Dh<++vh&&(yh&&bh&&th<cp()-1?th++:!yh&&bh&&gh++,navigator.onLine?1<gh?Im(gh,1,Em):(rp(),wm(),bh=!0):Mm(!1,1)):(vh=gh=0,bh=!1),mh=Bh,e&&Oh++}function Em(e){if(!e){if(!(th<cp()-1))return void Np();th++}gh=0,rp(),wm(),bh=!0}function Mm(e,t){Ar.Play_isHost=e,Tp(t),Rp(t)}function Im(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Mm(!1,t))},i.send(null)}function Sm(){return!!uc&&!Android.getPlaybackState()}function xm(){var e=Fu();Ic("stream_clock",e),Ic("label_clock",e)}function Pm(e){return e<10?"0"+e:e}function Tm(e){var t,n,i;return t=Pm(parseInt(e)%60),n=Pm((e=Math.floor(e/60))%60),i=Pm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Lm(e){return Tm(parseInt(e/1e3))}function Bm(e){return Lm((new Date).getTime()-new Date(e).getTime())}function Om(){_h&&(Gm(),Ar.Play_WasPlaying=0,Um())}function Gm(){uc&&Android.stopVideo(1),_h=!1,KC(),Ol(),Rm(),Nm(),Ar.Play_selectedChannel_id=""}function Um(){wg(0,0),Ac("scene1"),wc("scene2"),$c()}function Rm(){ep(),Qm(),Fm(),kp(),Hh="",th===cp()-1&&(Df=eh[0].id),dv===bg()-1&&($p=sv[0].id),S_===bf()-1&&(I_=x_[0].id)}function Nm(){wh=!1,document.body.removeEventListener("keydown",Yp),document.removeEventListener("visibilitychange",nm),zd(),window.clearInterval(Wf),window.clearInterval(ph),kh=!1}function Dm(){Mc("fallow_text",Bi+Lt),ia=!1}function Vm(){uc?Android.mshowLoading(!0):Ac("dialog_loading_play")}function Jm(){uc?Android.mshowLoading(!1):wc("dialog_loading_play")}function Hm(e){Ic("dialog_warning_play_text",e),Ac("dialog_warning_play")}function Fm(){wc("dialog_warning_play")}function qm(){return kc("dialog_warning_play")}function zm(){Ym()?Xm():(Ac("play_dialog_exit"),ih=window.setTimeout(zm,3e3))}function Xm(){window.clearTimeout(ih),wc("play_dialog_exit")}function Ym(){return kc("play_dialog_exit")}function jm(){window.clearTimeout(ah)}function Wm(){window.clearTimeout(oh)}function Qm(){jm(),Wm(),wc("play_dialog_simple_pause")}function Zm(){Jm(),Sm()?Km()?(wc("play_dialog_simple_pause"),oh=window.setTimeout(Zm,8e3)):(Ac("play_dialog_simple_pause"),ah=window.setTimeout(Zm,1500)):Qm()}function Km(){return kc("play_dialog_simple_pause")}function $m(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function ep(){ip(),document.getElementById("scene_channel_panel").style.opacity="0",Nf=Df,window.clearInterval(Qp)}function tp(){gp(),lp(),rp(),np(),Qp=window.setInterval(np,1e3),xm(),Xm(),document.getElementById("scene_channel_panel").style.opacity="1",ap()}function np(){Ic("stream_watching_time",g+Tm(Oh)),Ic("stream_live_time",y+(-1===sh.indexOf("00:00")?Bm(sh):"00:00"))}function ip(){window.clearTimeout(Rf),Lv=0}function ap(){Rf=window.setTimeout(ep,5e3)}function op(){hp(),Ac("chat_container")}function sp(){wc("chat_container")}function dp(){return kc("chat_container")}function lp(){for(var e=th=0;e<cp();e++){if(eh[e].id===Nf){th=e;break}-1!==eh[e].id.indexOf(Nf)&&(th=e)}}function rp(){1===cp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):th?th===cp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Nf=eh[th].id).indexOf("source")?Ic("quality_name",Nf.replace("source",ge)+eh[th].band):Ic("quality_name",Nf+eh[th].band)}function cp(){return eh.length}function up(e){Pf.style.height=jh[Uf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=jh[Uf-1].dialogTop+"%",hp(),Fd(),e&&mp(Nn+jh[Uf-1].percentage),window.setTimeout(function(){Wd&&(Wd.scrollTop=Wd.scrollHeight)},500),a_("ChatSizeValue",Uf)}function _p(e){Pf.style.backgroundColor="rgba(0, 0, 0, "+Gf+")",e&&mp(Dn+(100*Gf).toFixed(0)+"%")}function fp(e){Lf=e?Xh[Bf=Lf]:Yh[Lf][Bf]}function hp(){var e=4===Uf;Lf<0?Lf=e?2:7:(e?2:7)<Lf&&(Lf=0),Pf.style.top=(e?.2:zh[Lf].top+zh[Lf].sizeOffset[Uf-1])+"%",Pf.style.left=zh[Lf+(e?2:0)].left+"%",a_("ChatPositionsValue",Lf)}function mp(e){window.clearTimeout(fh),Ic("play_chat_dialog_text",e),Ac("play_chat_dialog"),fh=window.setTimeout(pp,1e3)}function pp(){wc("play_chat_dialog")}function vp(e){Sm()?(Qm(),Mc("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?($m()&&ep(),window.clearInterval(ph),ph=window.setInterval(Cm,Vh)):2===e?($m()&&_g(),window.clearInterval(pv),pv=window.setInterval(dg,Vh)):3===e&&($m()&&pf(),window.clearInterval(v_),v_=window.setInterval(of,Vh)),uc&&Android.play(!0)):(window.clearInterval(ph),window.clearInterval(pv),window.clearInterval(v_),Mc("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Zm(),uc&&Android.play(!1))}function gp(){bp(),Ah=1,yp()}function yp(){Cc("scene2_pannel_"+Ah,"playbotton_focus")}function bp(){Ec("scene2_pannel_"+Ah,"playbotton_focus")}function wp(e){ev=jf=-1,B_=-1,KC(),sp(),ep(),pf(),_g(),kh||Fm(),Jm(),Xm(),3===e&&H_&&(X_||Y_)&&(Ip(),Sh=-1),Mp()}function Ap(){Ac("dialog_end_stream")}function kp(){wc("dialog_end_stream"),xp(),Ep()}function Cp(){return kc("dialog_end_stream")}function Ep(){Ip(),Sh=0,Mp()}function Mp(){Cc("dialog_end_"+Sh,"dialog_end_icons_focus")}function Ip(){Ec("dialog_end_"+Sh,"dialog_end_icons_focus")}function Sp(e){if(1===e?Lh=Ar.Play_selectedChannelDisplayname+" "+f:2===e?Lh=Ar.Main_selectedChannelDisplayname+$t:3===e&&(Lh=Ar.Main_selectedChannelDisplayname+Gt),-2===xh)return ev=jf=Yf,B_=O_,void xp();Mc("dialog_end_stream_text",Lh+S+yi+(3===e&&H_&&(X_||Y_)?li:tn)+xh+"..."),Cp()?(ev=jf=Yf,B_=O_,-1===--xh?(Mc("dialog_end_stream_text",Lh+S+yi+tn+"0..."),Xm(),sp(),1===e?Om():2===e?rg():3===e&&(H_&&(X_||Y_)?ff():df())):Th=window.setTimeout(function(){Sp(e)},1e3)):Th=window.setTimeout(function(){Sp(e)},50)}function xp(){window.clearTimeout(Th),Mc("dialog_end_stream_text",Lh+S+yi+nn)}function Pp(e){var t=!0;-1===Sh&&H_?ff():Sh?1===Sh?Ar.Play_isHost?(Ar.Play_DisplaynameHost=Ar.Play_selectedChannelDisplayname+ne,Ar.Play_selectedChannel=Gh.target_login,Ar.Play_selectedChannelDisplayname=Gh.target_display_name,Ar.Play_DisplaynameHost=Ar.Play_DisplaynameHost+Ar.Play_selectedChannelDisplayname,Gm(),document.body.addEventListener("keydown",Yp,!1),Ar.Play_selectedChannel_id=Gh.target_id,Hu(em)):Cf():2===Sh?Lp(e):3===Sh&&Op(e):2===e?sv.length?(gv=!(Gv=!0),ag(),Qm(),il=Iv=0,ul()):(t=!1,Hm(ei),window.setTimeout(function(){Fm()},2e3)):3===e&&(x_.length?(R_=!(T_=!0),ef(),Qm(),G_?(Iv=0,il=Fs,ul()):Dl()):(t=!1,Hm(ei),window.setTimeout(function(){Fm()},2e3))),1!==Sh&&3===Sh&&""===Ar.Play_gameSelected&&(t=!1),t&&kp()}function Tp(e){e?1===e?(Ip(),Sh=2,Mp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Ep(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Ep(),document.getElementById("dialog_end_-1").style.display=H_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Ic("dialog_end_vod_text",G_?sn:dn)):(Ip(),Sh=1,Mp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Ic("dialog_end_vod_text",un))}function Lp(e){Ar.Main_BeforeChannelisSet||Ar.Main_Go===cr||Ar.Main_Go===ur||(Ar.Main_BeforeChannel=Ar.Main_BeforeAgameisSet&&Ar.Main_Go!==nr?Ar.Main_BeforeAgame:Ar.Main_Go,Ar.Main_BeforeChannelisSet=!0),su(Ar.Main_Go),Ar.Main_Go=rr,1===e?(Ar.Main_selectedChannel_id=Ar.Play_selectedChannel_id,Ar.Main_selectedChannel=Ar.Play_selectedChannel,Ar.Main_selectedChannelDisplayname=Ar.Play_selectedChannelDisplayname,Go=ia,sp(),Om()):2===e?rg():3===e&&df()}function Bp(e){Ar.Search_isSearching||(Ar.Main_BeforeSearch=Ar.Main_Go),su(Ar.Main_Go),Ar.Main_Go=sr,1===e?(sp(),Om()):2===e?rg():3===e&&df()}function Op(e){if(""===Ar.Play_gameSelected)return kh=!0,Hm(Qn),void window.setTimeout(function(){kh=!1,Fm()},2e3);Ar.Main_BeforeAgameisSet||Ar.Main_Go===vr||Ar.Main_Go===gr||(Ar.Main_BeforeAgame=Ar.Main_BeforeChannelisSet&&Ar.Main_Go!==rr&&Ar.Main_Go!==cr&&Ar.Main_Go!==ur?Ar.Main_BeforeChannel:Ar.Main_Go,Ar.Main_BeforeAgameisSet=!0),su(Ar.Main_Go),Ar.Main_Go=nr,Ar.Main_gameSelected=Ar.Play_gameSelected,sp(),1===e?Om():2===e?rg():3===e&&df()}function Gp(){go()&&to[Ar.Users_Position].access_token?ia?Ta():Sa():(Hm(Bt),kh=!0,window.setTimeout(function(){Fm(),kh=!1},2e3))}function Up(e){var t=document.getElementById("scene_channel_panel");2!==Ah&&(t.style.transition="none",t.style.opacity="0"),Hu(function(){Ah?1===Ah?(1===e?(wm(),ep()):2===e?(gv=!1,ag(),_g()):3===e&&(R_=!1,ef(),pf()),Qm()):2===Ah?(sa=1===e?Ar.Play_selectedChannel_id:Ar.Main_selectedChannel_id,Gp(),ip(),1===e?ap():2===e?vg():3===e&&Af()):3===Ah?Op(e):4===Ah?Lp(e):5===Ah&&Bp(e):Cf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(ph),Np()):Rp(e)}function Rp(e){window.clearInterval(ph),window.clearInterval(v_),window.clearInterval(pv),wp(e),xh=Ph||-2,Sp(e),Ap()}function Np(){Vm(),jf=-1,dh=0,Mh=2e3,zd(),window.clearInterval(Wf),window.clearInterval(ph),""!==Ar.Play_selectedChannel_id?Hp():Dp()}function Dp(){f_("https://api.twitch.tv/kraken/users?login="+Ar.Play_selectedChannel,Mh,2,null,Vp,Jp,!1)}function Vp(e){void 0!==(e=JSON.parse(e).users[0])?(Ar.Play_selectedChannel_id=e._id,dh=0,Mh=2e3,Hp()):Rp(1)}function Jp(){++dh<lh?(Mh+=250,Dp()):Mm(!1,1)}function Hp(){c_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ar.Play_selectedChannel_id),Mh,1,null,qp,Fp,!0)}function Fp(){++dh<lh?(Mh+=250,Hp()):Mm(!1,1)}function qp(e){void 0!==(Gh=JSON.parse(e).hosts[0]).target_login?(kh=!0,Hm(Ar.Play_selectedChannelDisplayname+cn+ne+Gh.target_display_name),window.setTimeout(function(){kh=!1},4e3),Tp(0),Ar.Play_isHost=!0):(Tp(1),Ar.Play_isHost=!1),Rp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?sg(t):3===e&&nf(t))}function zp(){ia?(Mc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Mc("fallow_text",Bi+Mt)):(Mc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Mc("fallow_text",Bi+It))}function Xp(e){Cp()&&!Ym()?(xp(),zm()):QC()?KC():$m()&&!Bg()?e?_g():ep():Bg()&&Ym()?(Lg(),cg(!1),Um()):Ym()?(Xm(),sp(),e?rg():Om()):(qm()&&Fm(),zm())}function Yp(e){if(jf!==Yf)switch(e.keyCode){case ji:Ym()?(Xm(),sp(),Om()):zm()}else switch(e.keyCode){case Fi:QC()?Ff&&!AC&&(lE(),Ff--,iE()):Vf&&!$m()&&dp()?(Lf++,hp()):$m()?(bp(),5<++Ah&&(Ah=1),yp(),ip(),ap()):Cp()?(xp(),Ip(),--Sh<(Ar.Play_isHost?1:2)&&(Sh=3),Mp()):tp();break;case zi:QC()?Ff<YC()-1&&!AC&&(lE(),Ff++,iE()):!Vf||$m()||Cp()?$m()?(bp(),--Ah<1&&(Ah=5),yp(),ip(),ap()):Cp()?(xp(),Ip(),3<++Sh&&(Sh=Ar.Play_isHost?1:2),Mp()):tp():a_("ChatEnable",(nh=dp()||Cp()?(sp(),!1):(op(),!0))?"true":"false");break;case qi:$m()?(0<th&&1===Ah&&(th--,rp()),ip(),ap()):!QC()&&go()?ZC():Cp()?xp():QC()&&nE();break;case Xi:$m()?(th<cp()-1&&1===Ah&&(th++,rp()),ip(),ap()):QC()?KC():Vf&&dp()?(4<++Uf?fp(!(Uf=1)):4===Uf&&fp(!0),up(!0)):Cp()?xp():tp();break;case Yi:if(Cp())Pp(1);else if($m())Up(1);else if(QC()){var t=document.getElementById(OC[8]+Ff);null===t?$C():Ar.Play_selectedChannel!==JSON.parse(t.getAttribute(ac))[0]?(Gm(),Ar.Play_isHost=!1,qh=!0,Bu(Ff,OC,Yp)):$C()}else tp();break;case ji:Xp(!1);break;case Ji:case Vi:case Hi:Cp()||vp(1)}}var jp,Wp,Qp,Zp,Kp="source",$p=Kp,ev=0,tv=null,nv=0,iv=0,av=0,ov="",sv=[],dv=0,lv=0,rv=5,cv=!1,uv=2e3,_v=0,fv=5,hv=1e4,mv=0,pv=null,vv=0,gv=!1,yv=0,bv=!1,wv=!1,Av=0,kv=!1,Cv=0,Ev=2e3,Mv=!1,Iv=0,Sv={},xv=0,Pv=0,Tv=!0,Lv=0,Bv=0,Ov=0,Gv=!1,Uv=[0,10,30,60,120,300,600,900,1200,1800],Rv=!1;function Nv(){Vm(),kp(),Iv=0,Ic("stream_live_time",""),Ic("stream_watching_time",""),Ic("progress_bar_current_time",Tm(0)),al=O+".",Mc("pause_button",'<i class="pause_button3d icon-pause"></i>'),wc("progress_pause_holder"),Bv=0,Cg((Fh=Uv)[1]),ev=zf,G_=!0,Fs=0,Ar.Play_isHost=!1,uf(0,0),uf(1,0),Ar.vodOffset?(Vv(),qv()):(Tv&&""!==Ar.Main_selectedChannel_id?(cm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo),Sv["#"+Ar.ChannelVod_vodId]||ul(),go()?(sa=Ar.Main_selectedChannel_id,oa=!0,ka()):Dm()):(Vv(),Jv()),Ic("stream_info_name",Ar.Main_selectedChannelDisplayname),Mc("stream_info_title",""),Mc("stream_info_game",Vs+" ["+Os.toUpperCase()+"]"),Ic("stream_live_icon",Js),Sc("stream_info_game")),Sv["#"+Ar.ChannelVod_vodId]&&!Ar.vodOffset?(Jm(),Tg()):Dv()}function Dv(){window.setTimeout(function(){Ac("scene_channel_panel_bottom"),Ac("progress_pause_holder")},1e3),Ic("progress_bar_duration",Tm(Ts)),Ar.Play_WasPlaying=2,au(),Zp=window.setInterval(Wv,6e4),(new Image).src=Hh,vv=yv=0,window.clearInterval(pv),kh=Mv=bv=!(Of=-13),kv=!1,av=iv=nv=Cv=0,document.addEventListener("visibilitychange",Yv,!1),Rv=!(cv=!(wv=!1)),Qv(),Tp(2),document.body.removeEventListener("keyup",Eu)}function Vv(){_v=0,fv=5,hv=1e4}function Jv(){f_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ar.Main_selectedChannel),hv,2,null,Hv,Fv,!1)}function Hv(e){void 0!==(e=JSON.parse(e).users[0])?(Ar.Main_selectedChannelLogo=e.logo,Ar.Main_selectedChannel_id=e._id,Sv["#"+Ar.ChannelVod_vodId]||ul(),go()?(sa=Ar.Main_selectedChannel_id,oa=!0,ka()):Dm()):(Ar.Main_selectedChannelLogo=Ri,Ar.Main_selectedChannel_id=""),cm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo)}function Fv(){++_v<fv?(hv+=500,window.setTimeout(function(){cv&&Jv()},750)):Wp=window.setTimeout(Jv,2500)}function qv(){f_("https://api.twitch.tv/kraken/videos/"+Ar.ChannelVod_vodId,hv,2,null,Xv,zv,!1)}function zv(){++_v<fv&&(hv+=2e3,qv())}function Xv(e){e=JSON.parse(e),Mc("stream_info_title",bI.parse(e.title,!1,!0)),Mc("stream_info_game",Qt+v+e.game+" "+Wc(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Ic("stream_live_icon",N+cu(e.created_at)),Ic("progress_bar_duration",Tm(Ts=parseInt(e.length))),Iv=1e3*Ar.vodOffset,wg(Ar.vodOffset,Ts,!0),Ar.Main_selectedChannelDisplayname=e.channel.display_name,Ic("stream_info_name",Ar.Main_selectedChannelDisplayname),Ar.Main_selectedChannelLogo=e.channel.logo,cm(document.getElementById("stream_info_icon"),Ar.Main_selectedChannelLogo),Ar.Main_selectedChannel_id=e.channel._id,Ar.Main_selectedChannel=e.channel.name,go()?(oa=!0,sa=Ar.Main_selectedChannel_id,ka()):Dm(),(new Image).src=e.increment_view_count_url}function Yv(){document.hidden?Cp()?(Xm(),sp(),rg()):(Wv(),Ig(),Bl(),Rm(),window.clearInterval(pv),window.clearInterval(Zp)):(cv=!0,Qm(),cv&&(Vm(),uh=uh=0,navigator.onLine?og():xf=window.setInterval(jv,100),Ll(rl),Tp(2),Zp=window.setInterval(Wv,6e4)))}function jv(){(navigator.onLine||200<uh)&&(window.clearInterval(xf),ev=zf,Qv()),uh++}function Wv(){Ar.vodOffset=uc?parseInt(Android.gettime()/1e3):0,au(),Ar.vodOffset=0}function Qv(){lv=0,Ev=2e3,Zv()}function Zv(){c_(ev===zf?"https://api.twitch.tv/api/vods/"+Ar.ChannelVod_vodId+"/access_token"+(go()&&to[Ar.Users_Position].access_token?"?oauth_token="+to[Ar.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Ar.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(nv.token)+"&nauthsig="+nv.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Mh,1,null,eg,Kv,!0)}function Kv(){if(cv){var e;if(nv.token&&(e=JSON.parse(nv.token)),e&&0!==JSON.parse(nv.token).chansub.restricted_bitrates.length)return void tg();++lv<rv?(Ev+=250,Zv()):Ql?$v():(Jm(),Rp(2))}}function $v(){sv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],ev=Yf,cv&&ag()}function eg(e){ev===zf?(nv=JSON.parse(e),ev=Xf,Qv()):ev===Xf&&(sv=gm(iv=e),ev=Yf,cv&&ag())}function tg(){go()&&to[Ar.Users_Position].access_token?(sa=Ar.Main_selectedChannel_id,Oa()):(Jm(),Hm(x+St),window.setTimeout(function(){cv&&rg()},4e3))}function ng(){Jm(),Hm(x+xt),window.setTimeout(function(){cv&&rg()},4e3)}function ig(){Rv?(Jm(),Hm(x+Pt),window.setTimeout(function(){cv&&rg()},4e3)):(Rv=!0,ev=zf,Qv())}function ag(){window.clearInterval(pv),ov=sv[dv=0].url,-1!==Kp.indexOf("source")&&(Kp="source");for(var e=0;e<bg();e++){if(sv[e].id===Kp){ov=sv[dv=e].url;break}-1!==sv[e].id.indexOf(Kp)&&(ov=sv[dv=e].url)}$p=Kp,og()}function og(){Zl&&console.log("PlayVod_onPlayer:",'\n\n"'+ov+'"\n'),Ar.vodOffset?(il=Ar.vodOffset,ul(),uc&&cv&&Android.startVideoOffset(ov,2,Gv?-1:1e3*Ar.vodOffset),Ar.vodOffset=0):uc&&cv&&Android.startVideoOffset(ov,2,Gv?-1:Android.gettime()),Gv=!1,nh&&!dp()&&op(),uc&&(vv=0,Dh=3+uv/1e3,gv=!1,window.clearInterval(pv),pv=window.setInterval(dg,Vh))}function sg(e){Ic("progress_bar_duration",Tm(Ts=e/1e3)),hg()}function dg(){uc&&(Iv=Android.gettime()),Ts<Iv/1e3&&(uc&&Android.play(!1),Play_PannelEndStart(2)),cv&&mv===Iv&&!Sm()?++vv>Dh&&(gv&&bv&&dv<bg()-1?dv++:!gv&&bv&&yv++,navigator.onLine?1<yv?Im(yv,2,lg):(yg(),ag(),bv=!0):Mm(!1,2)):(vv=yv=0,bv=!1),mv=Iv}function lg(e){if(!e){if(!(dv<bg()-1))return void Mm(!1,2);dv++}yv=0,yg(),ag(),bv=!0}function rg(){cv&&(sv=[],cg(!0),Um())}function cg(e){e&&Ig(),uc&&Android.stopVideo(2),cv=!1,window.clearInterval(Zp),window.clearInterval(Wp),Ar.Play_WasPlaying=0,Tv=!0,Ol(),KC(),Rm(),ug()}function ug(){document.body.removeEventListener("keydown",Ng),document.removeEventListener("visibilitychange",Yv),Ar.vodOffset=0,window.clearInterval(tv),window.clearInterval(pv),Ts=0}function _g(){kv=!1,Av=Cv=0,ip(),document.getElementById("scene_channel_panel").style.opacity="0",uc&&wg(Android.gettime()/1e3,Ts,!0),Mc("progress_bar_jump_to",Bi),document.getElementById("progress_bar_steps").style.display="none",Kp=$p,window.clearInterval(Qp)}function fg(e){hg(),xm(),Xm(),Qp=window.setInterval(hg,1e3),e&&(mg(),gg(),yg(),vg()),document.getElementById("scene_channel_panel").style.opacity="1"}function hg(){uc&&wg(Android.gettime()/1e3,Ts,!kv)}function mg(){Pv=1,z_=0,pg()}function pg(){Ec("pause_button","progress_bar_div_focus"),Ec("next_button","progress_bar_div_focus"),Ec("back_button","progress_bar_div_focus"),Ec("progress_bar_div","progress_bar_div_focus"),Pv?1===Pv?(z_?1===z_?Cc("next_button","progress_bar_div_focus"):-1===z_&&Cc("back_button","progress_bar_div_focus"):Cc("pause_button","progress_bar_div_focus"),bp(),Mc("progress_bar_jump_to",Bi),document.getElementById("progress_bar_steps").style.display="none"):2===Pv&&(yp(),Mc("progress_bar_jump_to",Bi),document.getElementById("progress_bar_steps").style.display="none"):(Cc("progress_bar_div","progress_bar_div_focus"),bp(),Av&&(Eg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function vg(){Rf=window.setTimeout(_g,5e3+Lv)}function gg(){for(var e=dv=0;e<bg();e++){if(sv[e].id===Kp){dv=e;break}-1!==sv[e].id.indexOf(Kp)&&(dv=e)}}function yg(){1===bg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):dv?dv===bg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Kp=sv[dv].id).indexOf("source")?Ic("quality_name",Kp.replace("source",ge)+sv[dv].band):Ic("quality_name",Kp+sv[dv].band)}function bg(){return sv.length}function wg(e,t,n){Ic("progress_bar_current_time",Tm(e)),n&&(Tf.style.width=e/t*100+"%")}function Ag(){Qm(),Cp()||(R_=gv=!1,cv?(uc&&Android.startVideoOffset(ov,2,0<Ov?1e3*Ov:-1),il=Ov):(il=Fs,uc&&Android.startVideoOffset(P_,3,0<Ov?1e3*Ov:-1)),G_&&ul()),Mc("progress_bar_jump_to",Bi),document.getElementById("progress_bar_steps").style.display="none",Mc("pause_button",'<i class="pause_button3d icon-pause"></i>'),kv=!1,Ov=Av=Cv=0}function kg(){Bv=Cv=0,Cg(Fh[1])}function Cg(e){Av&&!Pv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Ic("progress_bar_steps",Jn+e/60+Fn):Ic("progress_bar_steps",e?Jn+e+Hn:Jn+Fh[1]+Hn)}function Eg(){Ic("progress_bar_jump_to",ue+" ("+(Av<0?"-":"")+Tm(Math.abs(Av))+")"+_e+Tm(Ov))}function Mg(e,t){var n=uc?Android.gettime()/1e3:0;window.clearTimeout(jp),kv=!0,Cv<Fh.length-1&&Bv++%6==0&&Cv++,Av+=Fh[Cv]*e,Ov=n+Av,cv&&(Ov=10*Math.floor(Ov/10)),t<Ov?(Av=t-n-Fh[1],Ov=n+Av,Bv=Cv=0):Ov<0&&(Av=0-n,Ov=Bv=Cv=0),Eg(),Tf.style.width=Ov/t*100+"%",Cg(Fh[Cv]*e),jp=window.setTimeout(kg,1e3)}function Ig(){var e=uc?parseInt(Android.gettime()/1e3):0,t="#"+Ar.ChannelVod_vodId;300<e&&e<Ts-300?(Sv[t]&&delete Sv[t],Sv[t]=e,a_("PlayVod_VodIds",JSON.stringify(Sv))):Ts-300<e&&Sv[t]&&(delete Sv[t],a_("PlayVod_VodIds",JSON.stringify(Sv)))}function Sg(){Sv=s_("PlayVod_VodIds",{});var e=xg();250<e&&Pg(e-250)}function xg(){var e=0;for(var t in Sv)Sv.hasOwnProperty(t)&&e++;return e}function Pg(e){var t=0;for(var n in Sv){if(!(t<e))break;delete Sv[n],t++}a_("PlayVod_VodIds",JSON.stringify(Sv))}function Tg(){wc("scene_channel_panel_bottom"),fg(!1),Mc("dialog_vod_saved_text",An+Lm(1e3*Sv["#"+Ar.ChannelVod_vodId])),Ac("dialog_vod_start")}function Lg(){_g(),wc("dialog_vod_start"),Og(),window.setTimeout(function(){Ac("scene_channel_panel_bottom")},1e3)}function Bg(){return kc("dialog_vod_start")}function Og(){Ug(),xv=0,Gg()}function Gg(){Cc("dialog_vod_"+xv,"dialog_end_icons_focus")}function Ug(){Ec("dialog_vod_"+xv,"dialog_end_icons_focus")}function Rg(e){Lg(),e?(delete Sv["#"+Ar.ChannelVod_vodId],Ar.vodOffset=0,Nv()):(Ar.vodOffset=Sv["#"+Ar.ChannelVod_vodId],Iv=1e3*Ar.vodOffset,wg(Ar.vodOffset,Ts,!0),Dv())}function Ng(e){if(ev===Yf||Bg())switch(e.keyCode){case Fi:QC()?Ff&&!AC&&(lE(),Ff--,iE()):Vf&&!$m()&&dp()?(Lf++,hp()):$m()&&!Bg()?(ip(),2===Pv?(bp(),5<++Ah&&(Ah=1),yp()):Pv||(Mg(-1,Ts),Lv=2500),vg()):Bg()?(Ug(),xv?xv--:xv++,Gg()):Cp()?(xp(),Ip(),--Sh<0&&(Sh=3),1===Sh&&(Sh=0),Mp()):Bg()||fg(!0);break;case zi:console.log(Pv),QC()?Ff<YC()-1&&!AC&&(lE(),Ff++,iE()):!Vf||$m()||Cp()?$m()&&!Bg()?(ip(),2===Pv?(bp(),--Ah<1&&(Ah=5),yp()):Pv||(Mg(1,Ts),Lv=2500),vg()):Bg()?(Ug(),xv?xv--:xv++,Gg()):Cp()?(xp(),Ip(),3<++Sh&&(Sh=0),1===Sh&&(Sh=2),Mp()):Bg()||fg(!0):a_("ChatEnable",(nh=dp()||Cp()?(sp(),!1):(op(),!0))?"true":"false");break;case qi:Cp()?xp():$m()&&!Bg()?(2===Pv&&1!==Ah?(Pv--,pg()):1===Pv?(Pv--,pg()):0<dv&&1===Ah&&(dv--,yg()),ip(),vg()):QC()?QC()?nE():Bg()||fg(!0):ZC();break;case Xi:Cp()?xp():$m()&&!Bg()?(Pv?1===Pv?(Pv++,pg()):dv<bg()-1&&1===Ah&&(dv++,yg()):(Pv++,pg()),ip(),vg()):QC()?KC():Vf&&dp()?(4<++Uf?fp(!(Uf=1)):4===Uf&&fp(!0),up(!0)):Bg()||fg(!0);break;case Yi:Bg()?Rg(xv):Cp()?Pp(2):$m()?Pv?1===Pv?(Ar.Play_ChatForceDisable&&(Sm()?Ll(rl):Bl()),Cp()||vp(2)):Up(2):(ip(),vg(),Av&&Ag()):QC()?(cg(!0),Bu(Ff,OC,Yp)):fg(!0);break;case ji:Xp(!0);break;case Ji:case Vi:case Hi:Ar.Play_ChatForceDisable&&(Sm()?Ll(rl):Bl()),Cp()||vp(2)}else switch(e.keyCode){case ji:Ym()?(Xm(),rg()):zm()}}var Dg={};function Vg(){console.log("InitScreens place holder")}function Jg(){zy(),Yy(),Xy(),Wy(),Qy(),Zy(),$y(),eb(),Hy(),Fy()}function Hg(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Fg(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function qg(){Gr=-1,Ar.Main_Go=Dg.screen,Dg.label_init(),document.body.addEventListener("keydown",my,!1),Ac(Dg.ids[10]),Dg.status?(hu(Dg.posY),ay(!0),au()):Xg()}function zg(){Gr=0,Dg.label_exit(),document.body.removeEventListener("keydown",my),wc(Dg.ids[10]),Jc()}function Xg(){xc(),fu(Dg.table),Jc(),Dg.cursor=null,Dg.status=!1,Dg.row=document.createElement("div"),Dg.MaxOffset=0,Dg.TopRowCreated=!1,Dg.offset=0,Dg.idObject={},Dg.Cells=[],Dg.FirstLoad=!0,Dg.itemsCount=0,Dg.posX=0,Dg.posY=0,Dg.row_id=0,Dg.currY=0,Dg.coloumn_id=0,Dg.data=null,Dg.data_cursor=0,Dg.dataEnded=!1,Uc(),Yg(),jg()}function Yg(){Dg.loadingData=!0,Dg.loadingDataTry=0,Dg.loadingDataTimeout=3500}function jg(){Dg.set_url(),uc&&!Dg.itemsCount?__(Dg.url,Dg.loadingDataTimeout,2,null,Qg,Wg):f_(Dg.url,Dg.loadingDataTimeout,2,null,Qg,Wg,!1)}function Wg(){Dg.loadingDataTry++,Dg.loadingDataTry<Dg.loadingDataTryMax?(Dg.loadingDataTimeout+=500,jg()):(Dg.loadingData=!1,Dg.itemsCount?Dg.dataEnded=!0:(Dg.FirstLoad=!1,Pc(),Vc(P),Dg.key_exit()))}function Qg(e){Dg.concatenate(e)}function Zg(){var e=Dg.data.length-Dg.data_cursor;if(e>Dg.ItemsLimit?e=Dg.ItemsLimit:Dg.loadingData||(Dg.dataEnded=!0),Dg.HasSwitches&&!Dg.TopRowCreated&&Dg.addSwitches(),e){Dg.row_id||(Dg.row=document.createElement("div"),Dg.row.id=this.ids[12]+Dg.row_id);var t=Math.ceil(e/Dg.ColoumnsCount),n=Dg.row_id+t;for(Dg.row_id;Dg.row_id<n;){for(Dg.coloumn_id===Dg.ColoumnsCount&&(Dg.row=document.createElement("div"),Dg.row.id=this.ids[12]+Dg.row_id,Dg.coloumn_id=0),Dg.coloumn_id;Dg.coloumn_id<Dg.ColoumnsCount&&Dg.data_cursor<Dg.data.length;Dg.data_cursor++)Dg.data[Dg.data_cursor]&&Dg.addCell(Dg.data[Dg.data_cursor]);if(Dg.coloumn_id===Dg.ColoumnsCount)Dg.Cells[Dg.row_id]=Dg.row,Dg.row_id++;else if(Dg.data_cursor>=Dg.data.length){""!==Dg.row.innerHTML&&(Dg.Cells[Dg.row_id]=Dg.row);break}}}Dg.emptyContent=!e&&!Dg.status,iy()}function Kg(e,t,n){e<Dg.visiblerows&&((new Image).src=n);var i=e+"_"+t;return(Pr=document.createElement("div")).style.cssText=Dg.ThumbCssText,i}function $g(e,t,n,i,a,o){var s=Kg(e,t,i);return Pr.setAttribute("id",n[5]+s),Pr.setAttribute(ac,a),Pr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Dg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Pr}function ey(e,t,n,i,a,o,s,d,l,r,c,u,_,f,h,m){var p=Kg(e,t,i);return Pr.setAttribute("id",n[8]+p),Pr.setAttribute(ac,JSON.stringify([c,r,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),Pr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Dg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+yi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Tm(r)+"</div></div></div></div>",Pr}function ty(e,t,n,i,a){var o=a[0]+_c,s=Kg(e,t,o);return Pr.setAttribute("id",i[8]+s),Pr.setAttribute(ac,JSON.stringify(n)),Pr.innerHTML='<div id="'+i[0]+s+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+s+'" class="stream_img" alt="" src="'+o+'" onerror="this.onerror=null;this.src=\''+Dg.img_404+'\'"></div><div id="'+i[2]+s+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+s+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+s+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+s+'"class="stream_info">'+bI.parse(a[2])+'</div><div id="'+i[5]+s+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+s+'"class="stream_info">'+a[4]+"</div></div></div>",Pr}function ny(e,t,n,i,a){var o=Kg(e,t,a[0]);return e<Dg.visiblerows&&((new Image).src=a[7]),Pr.setAttribute("id",i[8]+o),Pr.setAttribute(ac,JSON.stringify(n)),Pr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+Dg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",Pr}function iy(){if(Dg.status)Rc(Dg.posX,Dg.posY,Dg.ColoumnsCount,Dg.itemsCount);else{if(Ar.Main_Go===nr&&yy(),Dg.emptyContent)Vc(Dg.empty_str());else{Dg.status=!0;for(var e=document.getElementById(Dg.table),t=0;t<(Dg.Cells.length<Dg.visiblerows?Dg.Cells.length:Dg.visiblerows);t++)e.appendChild(Dg.Cells[t])}Ur&&Dg.status&&jw.restor_playback.defaultValue?Ar.Play_WasPlaying?(su(Ar.Main_Go),Ar.Main_Go=wr,Ar.vodOffset||(Ar.vodOffset=1),Ts=Ar.vodOffset+1,Hm(qn),1===Ar.Play_WasPlaying?Ou():Ru(),nu(!0),window.setTimeout(function(){kh||Fm()},2e3)):1!==wr?(su(Ar.Main_Go),Ar.Main_Go=wr,Du(Dg.posY+"_"+Dg.posX,Dg.ids),nu()):(Ar.Never_run&&Xc(),Ar.Never_run=!1,ay(),au()):(ay(),au()),Ur=!1,Dg.FirstLoad=!1,Pc()}}function ay(e){if(Dg.emptyContent){if(!Dg.HasSwitches)return void Dg.key_exit();Dg.posY=-1}if(Dg.posY<0)return cy(),void(Dg.emptyContent||Rc(Dg.posX,Dg.posY+1,Dg.ColoumnsCount,Dg.itemsCount));sy(e),2<Dg.posY&&Dg.data_cursor+Ty>Dg.data.length&&!Dg.dataEnded&&!Dg.loadingData?(Yg(),jg()):Dg.posY+Dg.ItemsReloadLimit>Dg.itemsCount/Dg.ColoumnsCount&&Dg.data_cursor<Dg.data.length&&Hu(function(){Dg.loadDataSuccess()}),Er&&Du(Dg.posY+"_"+Dg.posX,Dg.ids)}function oy(e){return null!==document.getElementById(e)}function sy(e){if(Dg.currY<Dg.posY)1<Dg.posY&&Dg.Cells.length-1>=Dg.posY+1&&(document.getElementById(Dg.table).appendChild(Dg.Cells[Dg.posY+1]),oy(Dg.ids[12]+(Dg.posY-2))&&document.getElementById(Dg.ids[12]+(Dg.posY-2)).remove());else if(Dg.currY>Dg.posY&&Dg.posY){var t=document.getElementById(Dg.table);t.insertBefore(Dg.Cells[Dg.posY-1],t.childNodes[Dg.HasSwitches?1:0]),oy(Dg.ids[12]+(Dg.posY+2))&&document.getElementById(Dg.ids[12]+(Dg.posY+2)).remove()}Dg.currY=Dg.posY,Cc(Dg.ids[0]+Dg.posY+"_"+Dg.posX,ic),Rc(Dg.posX,Dg.posY,Dg.ColoumnsCount,Dg.itemsCount),Dg.addFocus(Dg.posY,Dg.posX,Dg.ids,e)}function dy(e,t,n,i){e<2&&mu(e)||i?e?Kc(e+1,0,n[0])&&Nu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):Nu(n[10],.07*screen.height):Eu()}function ly(e,t,n,i){mu(e)||i?Dg.posY<Dg.Cells.length-1&&Nu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Dg.Cells.length-1===e&&Kc(e-1,t,n[0])?Nu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Eu()}function ry(e,t){Du(Dg.posY+"_"+Dg.posX,Dg.ids),Dg.HasAnimateThumb&&Ac(Dg.ids[1]+Dg.posY+"_"+Dg.posX),Dg.posY+=e,Dg.posX=t,ay()}function cy(){Dg.posX>Dg.SwitchesIcons.length-1?Dg.posX=0:Dg.posX<0&&(Dg.posX=Dg.SwitchesIcons.length-1),Cc(Dg.ids[0]+"y_"+Dg.posX,ic)}function uy(){Dg.posX>Dg.SwitchesIcons.length-1?Dg.posX=0:Dg.posX<0&&(Dg.posX=Dg.SwitchesIcons.length-1),Ec(Dg.ids[0]+"y_"+Dg.posX,ic)}function _y(e){jc()?Yc():qc()?Fc():(e===Dg.screen?Ar.Main_Go=$l:Ar.Main_Go=e,zg())}function fy(e){if(!Dg.HasSwitches||Dg.posY||-1!==e||Dg.emptyContent){if(Dg.HasSwitches&&-1===Dg.posY&&Kc(0,Dg.posX,Dg.ids[0]))Dg.posY=0,ay(),uy();else for(var t=0;t<Dg.ColoumnsCount;t++)if(Kc(Dg.posY+e,Dg.posX-t,Dg.ids[0]))return void ry(e,Dg.posX-t)}else Du(Dg.posY+"_"+Dg.posX,Dg.ids),Dg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),Ac(Dg.ids[1]+Dg.posY+"_"+Dg.posX)),Dg.posY=-1,Dg.posX>Dg.SwitchesIcons.length-1&&(Dg.posX=1),cy()}function hy(e,t){Dg.HasSwitches&&-1===Dg.posY?(Dg.posY=-1,uy(),Dg.posX++,cy()):Kc(Dg.posY,Dg.posX+e,Dg.ids[0])?ry(0,Dg.posX+e):Kc(Dg.posY+e,t,Dg.ids[0])&&ry(e,t)}function my(e){if(!Dg.FirstLoad&&!Su())switch(Iu(),e.keyCode){case ji:Dg.loadingData||Dg.key_exit();break;case Fi:if(Dg.loadingData)break;Dg.posX?hy(-1,Dg.ColoumnsCount-1):(Ar.Main_Go===nr&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),Dg.key_exit(!0),document.body.removeEventListener("keydown",my),ak(my,!0));break;case zi:Dg.dataEnded||Dg.posX<Dg.ColoumnsCount-1||Dg.Cells.length-1>=Dg.posY+2?hy(1,0):ay(!0);break;case qi:Dg.HasSwitches?-1===Dg.posY?Dg.key_exit():fy(-1):Dg.posY?fy(-1):Dg.key_exit();break;case Xi:Dg.dataEnded||Dg.Cells.length-1>=Dg.posY+2?fy(1):ay(!0);break;case Ji:case Vi:case Hi:case Yi:Dg.key_play()}}function py(){Dg.posX?1===Dg.posX?(Ar.Main_Go=gr,Ar.Main_OldgameSelected=Ar.Main_gameSelected,vy(),iu()):gy():(Ar.Main_Go=vr,Ar.Main_OldgameSelected=Ar.Main_gameSelected,vy(),iu())}function vy(){Dg.status&&-1===Dg.posY&&(uy(),Dg.posY=0,Dg.posX=0,Cc(Dg.ids[0]+"0_"+Dg.posX,ic)),document.body.removeEventListener("keydown",my),wc(Dg.ids[10])}function gy(){go()&&to[Ar.Users_Position].access_token?Dy?Xa():Fa():(Vc(Bt),window.setTimeout(function(){Dg.emptyContent&&Ar.Main_Go===nr?Vc(T+Z):Jc()},2e3))}function yy(){go()?Wa():(Dy=!1,by())}function by(){Mc(Sy.ids[3]+"y_2",Dy?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Bi+Bi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Bi+Bi+(go()?It:Lt))}Dg.FirstLoad=!1;var wy,Ay,ky,Cy,Ey,My,Iy,Sy,xy,Py,Ty=100,Ly="",By="",Oy="",Gy="",Uy="",Ry="",Ny=1,Dy=!1,Vy={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Zg,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){jc()?Yc():qc()?Fc():(Kc(this.posY,this.posX,this.ids[0])?Du(this.posY+"_"+this.posX,this.ids):this.posY<0&&(uy(),this.posY=0),e||Ku(my)),nk()}},Jy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Dr,ItemsReloadLimit:Jr,ColoumnsCount:Vr,addFocus:function(e,t,n,i){this.AnimateThumb(this),dy(e,t,n,i)},img_404:Ni,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Bi+Bi+p,Bi+Bi+c],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Xg(),a_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Xg()):Uu(this.posY+"_"+this.posX,this.ids,my)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),Ny){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);sI.onload=function(){this.onload=null,wc(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},sI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function Hy(){(xy=Fg(xy=Fg({ids:Hg("Vod"),table:"stream_table_vod",screen:mr,highlightSTR:"Vod_highlight",highlight:d_("Vod_highlight",!1),periodPos:o_("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Ty,set_url:function(){this.offset&&this.offset+Ty>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Lr?"&language="+Lr:"")},label_init:function(){Ar.Main_CenterLablesVectorPos=4,Cc("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){Ic("top_bar_vod",Kt),Ec("top_bar_vod","icon_center_focus")},SetPeriod:function(){Mc("top_bar_vod",Kt+ru((this.highlight?G:O)+Or[this.periodPos-1])),a_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(ny(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",tc),e.channel.display_name,N+cu(e.created_at),bI.parse(e.title)+yi+Qt+v+e.game,Wc(e.views)+V,Qc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Tm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Vy),Jy)).set_ThumbSize()}function Fy(){(Py=Fg(Py=Fg({ids:Hg("AGameVod"),table:"stream_table_a_game_vod",screen:vr,highlightSTR:"AGameVod_highlight",highlight:d_("AGameVod_highlight",!1),periodPos:o_("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+Ty>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ar.Main_gameSelected)+"&limit="+Ty+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Lr?"&language="+Lr:"")},OldgameSelected:"",label_init:function(){null===Ar.Main_OldgameSelected&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),this.OldgameSelected!==Ar.Main_gameSelected&&(this.status=!1),Ar.Main_CenterLablesVectorPos=3,Cc("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=Ar.Main_gameSelected,Ic("top_bar_game",b),Ec("top_bar_game","icon_center_focus")},SetPeriod:function(){Mc("top_bar_game",b+ru((this.highlight?G:O)+Or[this.periodPos-1])),a_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(ny(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",tc),e.channel.display_name,N+cu(e.created_at),bI.parse(e.title)+yi+Qt+v+e.game,Wc(e.views)+V,Qc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Tm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Vy),Jy)).set_ThumbSize()}var qy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Dr,ItemsReloadLimit:Jr,ColoumnsCount:Vr,addFocus:dy,img_404:Ni,empty_str:function(){return T+W}};function zy(){(My=Fg(My=Fg({ids:Hg("Live"),table:"stream_table_live",screen:$l,base_url:"https://api.twitch.tv/kraken/streams?limit="+Ty,set_url:function(){this.offset&&this.offset+Ty>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Lr?"&broadcaster_language="+Lr:"")},label_init:function(){Ar.Main_CenterLablesVectorPos=0,Cc("top_bar_live","icon_center_focus")},label_exit:function(){Ec("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ty(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Bm(e.created_at)+" "+m+Wc(e.viewers)+J,Qc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Bu(this.posY+"_"+this.posX,this.ids,my)}},Vy),qy)).set_ThumbSize()}function Xy(){(Sy=Fg(Sy=Fg({ids:Hg("AGame"),table:"stream_table_a_game",screen:nr,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Ty>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ar.Main_gameSelected)+"&limit="+Ty+"&offset="+this.offset+(""!==Lr?"&broadcaster_language="+Lr:"")},label_init:function(){null===Ar.Main_OldgameSelected&&(Ar.Main_OldgameSelected=Ar.Main_gameSelected),Ar.Main_CenterLablesVectorPos=3,Cc("top_bar_game","icon_center_focus"),bc("label_side_panel","icon-arrow-circle-left",I),Ec("top_bar_user","icon_center_focus"),bc("label_refresh","icon-refresh",t+Yt),Ic("top_bar_user",_),Ar.Main_OldgameSelected!==Ar.Main_gameSelected&&(this.status=!1),Ar.Search_isSearching&&(lu(),Mc("top_bar_user",n+ru(h+" '"+Ar.Search_data+"'"))),Mc("top_bar_game",b+ru(f+": "+Ar.Main_gameSelected))},label_exit:function(){Ar.Main_OldgameSelected=Ar.Main_gameSelected,bc("label_side_panel","icon-ellipsis",Rn),Mc("top_bar_game",h),Ec("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Bi+Bi+Kt,Bi+Bi+U,Bi+Bi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ty(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Bm(e.created_at)+" "+m+Wc(e.viewers)+J,Qc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Bu(this.posY+"_"+this.posX,this.ids,my):py()}},Vy),qy)).set_ThumbSize()}function Yy(){(Iy=Fg(Iy=Fg({ids:Hg("Featured"),table:"stream_table_featured",screen:yr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Ty,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(go()&&to[Ar.Users_Position].access_token?"&oauth_token="+to[Ar.Users_Position].access_token:"")},label_init:function(){Ar.Main_CenterLablesVectorPos=2,Cc("top_bar_featured","icon_center_focus")},label_exit:function(){Ec("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ty(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Bm(e.created_at)+" "+m+Wc(e.viewers)+J,Qc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Bu(this.posY+"_"+this.posX,this.ids,my)}},Vy),qy)).set_ThumbSize()}var jy={ThumbSize:32.65,ItemsLimit:Dr,TopRowCreated:!1,ItemsReloadLimit:Jr,ColoumnsCount:Vr,addFocus:dy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Ni,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Bi+Bi+c,Bi+Bi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(X_=!0,uy(),this.posX=0,this.posY=0,Gu(this.posY+"_"+this.posX,this.ids,my)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Xg())):Gu(this.posY+"_"+this.posX,this.ids,my)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(ey(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,cu(e.created_at)],[bI.parse(e.title),v,e.game],Wc(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Wy(){(wy=Fg(wy=Fg({ids:Hg("Clip"),table:"stream_table_clip",screen:pr,periodPos:o_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Ty,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Lr?"&language="+Lr:"")},SetPeriod:function(){Mc("top_bar_clip",U+ru(Or[this.periodPos-1])),a_("Clip_periodPos",this.periodPos)},label_init:function(){Ar.Main_CenterLablesVectorPos=5,this.SetPeriod(),Cc("top_bar_clip","icon_center_focus"),bc("label_refresh","icon-refresh",t+Yt)},label_exit:function(){du(),Ec("top_bar_clip","icon_center_focus"),bc("label_refresh","icon-refresh",t+Yt)}},Vy),jy)).set_ThumbSize()}function Qy(){(Ay=Fg(Ay=Fg({ids:Hg("ChannelClip"),table:"stream_table_channel_clip",screen:ur,periodPos:o_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ar.Main_selectedChannel)+"&limit="+Ty+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Mc("top_bar_game",U+Or[this.periodPos-1]),a_("ChannelClip_periodPos",this.periodPos)},label_init:function(){Ar.Main_CenterLablesVectorPos=1,!Ar.Search_isSearching&&Ar.Main_selectedChannel_id&&vs(),Ar.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),lu(),this.SetPeriod(),Ic("top_bar_user",Ar.Main_selectedChannelDisplayname),bc("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Ar.Main_selectedChannel},label_exit:du},Vy),jy)).set_ThumbSize()}function Zy(){(ky=Fg(ky=Fg({ids:Hg("AGameClip"),table:"stream_table_a_game_clip",screen:gr,periodPos:o_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ar.Main_gameSelected)+"&limit="+Ty+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Lr?"&language="+Lr:"")},SetPeriod:function(){Mc("top_bar_game",b+ru(U+Or[this.periodPos-1]+": "+Ar.Main_gameSelected)),a_("AGameClip_periodPos",this.periodPos)},label_init:function(){Ar.Main_CenterLablesVectorPos=3,this.SetPeriod(),Cc("top_bar_game","icon_center_focus"),bc("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Ar.Main_gameSelected&&(this.status=!1),this.gameSelected=Ar.Main_gameSelected},label_exit:function(){Ec("top_bar_game","icon_center_focus"),Mc("top_bar_game",h),bc("label_side_panel","icon-ellipsis",Rn)}},Vy),jy)).set_ThumbSize()}var Ky={ThumbSize:19.35,visiblerows:3,ItemsLimit:Hr,ItemsReloadLimit:qr,ColoumnsCount:Fr,addFocus:ly,img_404:Ui,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===or?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===or?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Ar.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(ac),document.body.removeEventListener("keydown",my),Ar.Main_BeforeAgame=this.screen,Ar.Main_Go=nr,Ar.Main_BeforeAgameisSet=!0,Gr=0,document.body.removeEventListener("keydown",my),wc(this.ids[10]),iu(),Du(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===tr,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild($g(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",nc),n.name,t?Wc(e.channels)+" "+E+m+Wc(e.viewers)+J:"")),this.coloumn_id++)}};function $y(){(Cy=Fg(Cy=Fg({ids:Hg("Game"),table:"stream_table_games",screen:tr,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Ty,set_url:function(){this.offset&&this.offset+Ty>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Ar.Main_CenterLablesVectorPos=3,Cc("top_bar_game","icon_center_focus")},label_exit:function(){Ec("top_bar_game","icon_center_focus")}},Vy),Ky)).set_ThumbSize()}function eb(){(Ey=Fg(Ey=Fg({ids:Hg("UserGames"),table:"stream_table_user_games",screen:or,isLive:d_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Ty>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(to[Ar.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Ty+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+" "+(this.isLive?Z:zt))),Xg(),a_("user_Games_live",this.isLive?"true":"false"),eM&&lM()},label_init:function(){Ar.Main_CenterLablesVectorPos=1,bc("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),bc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user","icon_center_focus"),this.OldUserName!==to[Ar.Users_Position].name&&(this.status=!1),this.OldUserName=to[Ar.Users_Position].name,Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Ar.Users_Position=0,Ec("top_bar_user","icon_center_focus"),bc("label_refresh","icon-refresh",t+Yt),Ic("top_bar_user",_),bc("label_side_panel","icon-ellipsis",Rn)}},Vy),Ky)).set_ThumbSize()}var tb=0,nb=0,ib=!1,ab=0,ob={},sb=[],db=!1,lb=0,rb=5,cb=3500,ub=0,_b=0,fb=!1,hb=!1,mb="",pb=!1,vb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function gb(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=hr,Ar.isLastSChannels=!0,Ar.Search_isSearching=!0,mb!==Ar.Search_data&&(hb=!1),lu(),Mc("top_bar_user",n+ru(E+" '"+Ar.Search_data+"'")),document.body.addEventListener("keydown",Lb,!1),hb?(hu(tb),Ac(vb[6]),Pb(),au()):bb()}function yb(){du(),document.body.removeEventListener("keydown",Lb),wc(vb[6])}function bb(){fu("stream_table_search_channel"),wc(vb[6]),xc(),Jc(),mb=Ar.Search_data,hb=!1,ob={},Qu=!(ab=_b=ub=0),tb=nb=0,ib=pb=!(sb=[]),Uc(),wb(),Ab()}function wb(){db=!0,lb=0,cb=3500}function Ab(){var e=ab+ub;e&&_b-1<e&&(e=_b-zr,ib=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ar.Search_data)+"&limit="+zr+"&offset="+e;uc&&!ab?__(t,cb,2,null,Cb,kb):f_(t,cb,2,null,Cb,kb,!1)}function kb(){++lb<rb?(cb+=500,Ab()):(db=!1,ab?(ib=!0,Mb()):(Qu=!1,Pc(),Vc(P)))}function Cb(e){var t=JSON.parse(e),n=t.channels.length;_b=parseInt(t._total),n<zr&&(ib=!0);var i=ab;fb=!(ab+=n);var a=n/Xr;0<n%Xr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/Xr+_,d=document.createElement("tr"),o=0;o<Xr&&c<n;o++,c++)r=(l=t.channels[c])._id,ob[r]?o--:(ob[r]=1,d.appendChild(Eb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<Xr;o++)ib&&!pb&&(pb=!0,ab=s*Xr+o),d.appendChild(pu(vb[5]+s+"_"+o)),sb.push(vb[5]+s+"_"+o);u.appendChild(d)}Mb()}function Eb(e,t,n){return vu(t,vb,n)}function Mb(){if(hb){if(0<sb.length&&!ib)return wb(),void Ib();Pb(!0),sb=[]}else fb?Vc(d):(hb=!0,Pb(),au()),Ac(vb[6]),Qu=!1,Pc();db=!1}function Ib(){Dc(sb.length);var e=ab+ub;e&&_b-1<e&&(e=_b-jr,ib=!0),c_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ar.Search_data)+"&limit="+jr+"&offset="+e,cb,2,null,xb,Sb)}function Sb(){++lb<rb?(cb+=500,Ib()):(ib=!0,ab-=sb.length,sb=[],Mb())}function xb(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(_b=parseInt(i._total),a<jr&&(ib=!0);o<sb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,ob[n]?o--:(ob[n]=1,gu(sb[o],[t.name,n,t.logo,t.display_name],vb),d.push(o));for(o=d.length-1;-1<o;o--)sb.splice(d[o],1);ub+=s,ib&&(ab-=sb.length,sb=[]),Mb()}function Pb(e){xu(tb,nb,vb,Xr,ab,e),ab/Xr<tb+Yr&&!ib&&!db&&(wb(),Ab()),Er&&Tb()}function Tb(){ab&&Du(tb+"_"+nb,vb)}function Lb(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(Tb(),Ku(Lb)),nk();break;case Fi:if(nb){if(Kc(tb,nb-1,vb[0]))Tb(),nb--,Pb();else for(t=Xr-1;-1<t;t--)if(Kc(tb-1,t,vb[0])){Tb(),tb--,nb=t,Pb();break}}else Tb(),ak(Lb,!0);break;case zi:Kc(tb,nb+1,vb[0])?(Tb(),nb++,Pb()):Kc(tb+1,0,vb[0])&&(Tb(),tb++,nb=0,Pb());break;case qi:if(tb){for(t=0;t<Xr;t++)if(Kc(tb-1,nb-t,vb[0])){Tb(),tb--,nb-=t,Pb();break}}else Tb(),Ku(Lb);break;case Xi:for(t=0;t<Xr;t++)if(Kc(tb+1,nb-t,vb[0])){Tb(),tb++,nb-=t,Pb();break}break;case Ji:case Vi:case Hi:case Yi:Ar.Main_selectedChannel=document.getElementById(vb[4]+tb+"_"+nb).getAttribute(ac),Ar.Main_selectedChannel_id=document.getElementById(vb[4]+tb+"_"+nb).getAttribute("data-id"),Ar.Main_selectedChannelDisplayname=document.getElementById(vb[3]+tb+"_"+nb).textContent,document.body.removeEventListener("keydown",Lb),Ar.Main_BeforeChannel=hr,Ar.Main_Go=rr,Ar.Main_BeforeChannelisSet=!0,Go=ia=!1,wc(vb[6]),nu()}}var Bb=!1,Ob=0,Gb=0,Ub=0,Rb=0,Nb=5,Db=3500,Vb=0,Jb=0,Hb=!1,Fb=!1,qb="",zb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Xb(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=dr,Ar.Search_isSearching=!0,lu(),qb!==Ar.Search_data&&(Bb=!1),Mc("top_bar_user",n+ru(h+" '"+Ar.Search_data+"'")),document.body.addEventListener("keydown",iw,!1),Bb?(hu(Ob),Ac(zb[7]),tw(),au()):jb()}function Yb(){Ar.Search_isSearching||du(),document.body.removeEventListener("keydown",iw),Ar.Games_return=!1,wc(zb[7])}function jb(){fu("stream_table_search_game"),wc(zb[7]),xc(),Jc(),qb=Ar.Search_data,Fb=Bb=!1,Ob=Gb=Ub=Jb=Vb=0,Uc(),Wb(),Qb()}function Wb(){Qu=!0,Rb=0,Db=3500}function Qb(){c_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Ar.Search_data),Db,2,null,Kb,Zb)}function Zb(){++Rb<Nb?(Db+=500,Qb()):(Qu=!1,Ub?ew():(Pc(),Vc(P)))}function Kb(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Ub;Hb=!(Ub+=n);var a=n/Fr;0<n%Fr&&a++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/Fr+u,d=document.createElement("tr"),o=0;o<Fr&&r<n;o++,r++)l=t.games[r],d.appendChild($b(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",nc),""]));for(;o<Fr;o++)Fb||(Fb=!0,Ub=s*Fr+o),d.appendChild(pu(zb[6]+s+"_"+o));c.appendChild(d)}ew()}function $b(e,t,n){return ku(t,zb,n)}function ew(){Bb||(Hb?Vc(d):(Bb=!0,tw(),au()),Pc()),Ac(zb[7]),Qu=!1,Rc(Gb,Ob,Fr,Ub)}function tw(){Tu(Ob,Gb,zb,Fr,Ub),Er&&nw()}function nw(){Ub&&Du(Ob+"_"+Gb,zb)}function iw(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(nw(),Ku(iw)),nk();break;case Fi:if(Gb){if(Kc(Ob,Gb-1,zb[0]))nw(),Gb--,tw();else for(t=Fr-1;-1<t;t--)if(Kc(Ob-1,t,zb[0])){nw(),Ob--,Gb=t,tw();break}}else nw(),ak(iw,!0);break;case zi:Kc(Ob,Gb+1,zb[0])?(nw(),Gb++,tw()):Kc(Ob+1,0,zb[0])&&(nw(),Ob++,Gb=0,tw());break;case qi:if(Ob){for(t=0;t<Fr;t++)if(Kc(Ob-1,Gb-t,zb[0])){nw(),Ob--,Gb-=t,tw();break}}else nw(),Ku(iw);break;case Xi:for(t=0;t<Fr;t++)if(Kc(Ob+1,Gb-t,zb[0])){nw(),Ob++,Gb-=t,tw();break}break;case Ji:case Vi:case Hi:case Yi:Ar.gameSelectedOld=Ar.Main_gameSelected,Yb(),Ar.Main_gameSelected=document.getElementById(zb[5]+Ob+"_"+Gb).getAttribute(ac),document.body.removeEventListener("keydown",iw),Ar.Main_Go=nr,Ar.Games_return=!0,nu()}}var aw=0,ow=0,sw=!1;function dw(){Jc(),wc("label_refresh"),bc("label_side_panel","icon-arrow-circle-left",I),Ic("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",ql.placeholder=w,Cc("top_bar_user","icon_center_focus"),Ac("search_scroll"),ow=aw=0,cw(),_w()}function lw(){fw(!1),document.body.removeEventListener("keydown",uw),cw(),Ar.Main_Go=Ar.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Ic("top_bar_user",_),Ec("top_bar_user","icon_center_focus"),bc("label_side_panel","icon-ellipsis",Rn),Ac("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",ql.value="",wc("search_scroll")}function rw(){lw(),Hu(function(){ow?1===ow?Xb():2===ow&&Bw():gb()})}function cw(){Ec("chanel_button","button_search_focused"),Ec("game_button","button_search_focused"),Ec("live_button","button_search_focused"),aw&&(ow?1===ow?Cc("game_button","button_search_focused"):2===ow&&Cc("live_button","button_search_focused"):Cc("chanel_button","button_search_focused"))}function uw(e){if(!sw)switch(e.keyCode){case ji:jc()?Yc():qc()?Fc():(lw(),nu());break;case Fi:1===aw&&(--ow<0&&(ow=2),cw());break;case zi:1===aw&&(2<++ow&&(ow=0),cw());break;case qi:1===aw&&(aw=0,cw(),_w());break;case Xi:aw?1===aw&&(aw=0,cw(),_w()):(fw(!1),aw=1,cw());break;case Ji:case Vi:case Hi:case Yi:aw?""!==ql.value&&null!==ql.value?(Ar.Search_data=ql.value,ql.value="",rw()):(Vc(s),window.setTimeout(function(){Jc()},1e3)):_w()}}function _w(){document.body.removeEventListener("keydown",uw),document.body.addEventListener("keydown",mw,!1),ql.placeholder=w,ql.focus(),sw=!0}function fw(e){ql.blur(),hw(),document.body.removeEventListener("keydown",mw),ql.placeholder=C+w,e&&document.body.addEventListener("keydown",uw,!1),sw=!1}function hw(){if(null!==ql){var e=ql.cloneNode(!0);ql.parentNode.replaceChild(e,ql),ql=document.getElementById("search_input")}}function mw(e){switch(e.keyCode){case ji:qc()?Fc():jc()?Yc():(lw(),nu());break;case Ki:ql.value="";break;case Qi:case Xi:fw(!0),aw=1,cw();break;case Wi:ql.value=ql.value.slice(0,-1);break;case Zi:ql.value+=" "}}var pw=0,vw=0,gw=!1,yw=0,bw={},ww=[],Aw=!1,kw=0,Cw=5,Ew=3500,Mw=0,Iw=0,Sw=!1,xw=!1,Pw=!1,Tw="",Lw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Bw(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=lr,Ar.Search_isSearching=!0,lu(),Tw!==Ar.Search_data&&(xw=!1),Mc("top_bar_user",n+ru(f+" '"+Ar.Search_data+"'")),document.body.addEventListener("keydown",Xw,!1),xw?(hu(pw),Ac(Lw[10]),qw(),au()):Gw()}function Ow(){du(),document.body.removeEventListener("keydown",Xw),wc(Lw[10])}function Gw(){fu("stream_table_search_live"),wc(Lw[10]),xc(),Jc(),Tw=Ar.Search_data,xw=!1,Qu=!(Pw=!(ww=[])),pw=vw=yw=Iw=Mw=0,gw=!(bw={}),Uc(),Uw(),Rw()}function Uw(){Aw=!0,kw=0,Ew=3500}function Rw(){var e=yw+Mw;e&&Iw-1<e&&(e=Iw-Dr,gw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ar.Search_data)+"&limit="+Dr+"&offset="+e;uc&&!yw?__(t,Ew,2,null,Dw,Nw):f_(t,Ew,2,null,Dw,Nw,!1)}function Nw(){++kw<Cw?(Ew+=500,Rw()):(Aw=!1,yw?(gw=!0,Vw()):(Qu=!1,Pc(),Vc(P)))}function Dw(e){var t=JSON.parse(e),n=t.streams.length;Iw=parseInt(t._total),n<Dr&&(gw=!0);var i=yw;Sw=!(yw+=n);var a=n/Vr;0<n%Vr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Vr+_,d=document.createElement("tr"),o=0;o<Vr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,bw[r]?o--:(bw[r]=1,d.appendChild(bu(s,s+"_"+o,[l.channel.name,r],Lw,[l.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Bm(l.created_at)+" "+m+Wc(l.viewers)+J,Qc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Vr;o++)gw&&!Pw&&(Pw=!0,yw=s*Vr+o),d.appendChild(pu(Lw[9]+s+"_"+o)),ww.push(Lw[9]+s+"_"+o);u.appendChild(d)}Vw()}function Vw(){if(xw){if(0<ww.length&&!gw)return Uw(),void Jw();qw(!0),ww=[]}else Sw?Vc(d):(xw=!0,qw(),au()),Ac(Lw[10]),Qu=!1,Pc();Aw=!1}function Jw(){Dc(ww.length);var e=yw+Mw;e&&Iw-1<e&&(e=Iw-jr,gw=!0),c_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ar.Search_data)+"&limit="+jr+"&offset="+e,Ew,2,null,Fw,Hw)}function Hw(){++kw<Cw?(Ew+=500,Jw()):(gw=!0,yw-=ww.length,ww=[],Vw())}function Fw(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Iw=parseInt(i._total),a<jr&&(gw=!0);o<ww.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,bw[n]?o--:(bw[n]=1,wu(ww[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Bm(t.created_at)+" "+m+Wc(t.viewers)+J,Qc(t.video_height,t.average_fps,t.channel.broadcaster_language)],Lw),d.push(o));for(o=d.length-1;-1<o;o--)ww.splice(d[o],1);Mw+=s,gw&&(yw-=ww.length,ww=[]),Vw()}function qw(e){Pu(pw,vw,Lw,Vr,yw,e),yw/Vr<pw+Jr&&!gw&&!Aw&&(Uw(),Rw()),Er&&zw()}function zw(){yw&&Du(pw+"_"+vw,Lw)}function Xw(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(zw(),Ku(Xw)),nk();break;case Fi:if(vw){if(Kc(pw,vw-1,Lw[0]))zw(),vw--,qw();else for(t=Vr-1;-1<t;t--)if(Kc(pw-1,t,Lw[0])){zw(),pw--,vw=t,qw();break}}else zw(),ak(Xw,!0);break;case zi:Kc(pw,vw+1,Lw[0])?(zw(),vw++,qw()):Kc(pw+1,0,Lw[0])&&(zw(),pw++,vw=0,qw());break;case qi:if(pw){for(t=0;t<Vr;t++)if(Kc(pw-1,vw-t,Lw[0])){zw(),pw--,vw-=t,qw();break}}else zw(),Ku(Xw);break;case Xi:for(t=0;t<Vr;t++)if(Kc(pw+1,vw-t,Lw[0])){zw(),pw++,vw-=t,qw();break}break;case Ji:case Vi:case Hi:case Yi:Bu(pw+"_"+vw,Lw,Xw)}}var Yw=0,jw={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},end_dialog_counter:{values:["disable",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:Ww(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Ww(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Tm(t)),t-=900;for(e.push(Tm(0)),t=900,n=0;n<48;n++)e.push(Tm(t)),t+=900;return e}var Qw=[],Zw=0;function Kw(){tu(),wc("label_side_panel"),bc("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",gA,!1),Ic("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Cc("top_bar_user","icon_center_focus"),Ac("settings_scroll"),cA(Yw=0),aA("content_lang",Yn,bA)}function $w(){document.body.removeEventListener("keydown",gA),Ac("label_side_panel"),uA(),Ic("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ec("top_bar_user","icon_center_focus"),bc("label_refresh","icon-refresh",t+Yt),wc("settings_scroll")}function eA(){var e,t="";t+=tA("general",gn),e="content_lang",Qw.push(e),jw[e].values=[jn],t+=iA(e,Yn,""),e="clock_offset",Qw.push(e),t+=nA(e,zn),e="restor_playback",Qw.push(e),jw[e].values=[T,Ht],t+=iA(e,Tn,Ln),e="videos_animation",Qw.push(e),jw[e].values=[T,Ht],t+=nA(e,Un),e="clip_auto_play_next",Qw.push(e),jw[e].values=[T,Ht],t+=nA(e,ri),t+=tA("play",_n),e="chat_font_size",Qw.push(e),t+=iA(e,Bn,On),e="chat_brightness",Qw.push(e),t+=nA(e,ii),e="force_disable_chat",Qw.push(e),jw[e].values=[Ht,T],t+=iA(e,ti,ni),e="end_dialog_counter",Qw.push(e),jw[e].values[0]=vi,t+=iA(e,mi,pi),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",Qw.push(e),t+=nA(e,mn),e="buffer_vod",Qw.push(e),t+=nA(e,pn),e="buffer_clip",Qw.push(e),Mc("settings_main",t+=nA(e,vn)),Zw=Qw.length,SA()}function tA(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function nA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+dA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function iA(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+dA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function aA(e,t,n){Mc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function oA(){var e="";for(e in Ic("setting_title_general",gn),Ic((e="clock_offset")+"_name",zn),Ic((e="content_lang")+"_name",Yn),Ic(e,dA(e)),jw[e].values=[jn],Ic("setting_title_play",_n),Ic("setting_title_buffers",fn),Ic("setting_title_buffers_summary",hn),Ic((e="buffer_live")+"_name",mn),Ic((e="buffer_vod")+"_name",pn),Ic((e="buffer_clip")+"_name",vn),aA(e="restor_playback",Tn,Ln),jw[e].values=[Ht,T],aA(e="chat_font_size",Bn,On),aA(e="end_dialog_counter",mi,pi),jw[e].values[0]=vi,aA(e="force_disable_chat",ti,ni),jw[e].values=[Ht,T],Ic((e="videos_animation")+"_name",Un),jw[e].values=[Ht,T],Ic((e="clip_auto_play_next")+"_name",ri),jw[e].values=[T,Ht],Ic((e="chat_brightness")+"_name",ii),jw)jw.hasOwnProperty(e)&&Ic(e,dA(e));IA()}function sA(){for(var e in jw)jw[e].defaultValue=o_(e,jw[e].defaultValue),jw[e].defaultValue-=1,jw[e].defaultValue>rA(e)&&(jw[e].defaultValue=0);mA(0),pA(),Gf=(.05*lA("chat_brightness")).toFixed(2),Ny=lA("videos_animation"),Y_=lA("clip_auto_play_next"),Ar.Play_ChatForceDisable=lA("force_disable_chat"),Ph=lA("end_dialog_counter")}function dA(e){return jw[e].values[lA(e)]}function lA(e){return jw[e].defaultValue}function rA(e){return jw[e].values.length-1}function cA(e){var t=Qw[Yw];Cc(t,"settings_value_focus"),Cc(t+"_div","settings_div_focus"),fA(e),vA()}function uA(){var e=Qw[Yw];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ec(e,"settings_value_focus"),Ec(e+"_div","settings_div_focus")}function _A(e){var t=Qw[e];a_(t,lA(t)+1),Ic(t,dA(t)),fA(e),hA(e)}function fA(e){var t=Qw[e];if(rA(t)){var n=lA(t),i=rA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function hA(e){"videos_animation"===(e=Qw[e])?Ny=lA("videos_animation"):"clip_auto_play_next"===e?Y_=lA("clip_auto_play_next"):"buffer_live"===e?mA(1):"buffer_vod"===e?mA(2):"buffer_clip"===e?mA(3):"end_dialog_counter"===e?Ph=lA("end_dialog_counter"):"chat_brightness"===e?(Gf=(.05*lA("chat_brightness")).toFixed(2),_p(!1)):"force_disable_chat"===e?Ar.Play_ChatForceDisable=lA("force_disable_chat"):"chat_font_size"===e?$h():"clock_offset"===e&&(pA(),zu())}function mA(e){try{e?1===e?(qf=1e3*dA("buffer_live"),uc&&Android.SetBuffer(1,qf)):2===e?(uv=1e3*dA("buffer_vod"),uc&&Android.SetBuffer(2,uv)):3===e&&(D_=1e3*dA("buffer_clip"),uc&&Android.SetBuffer(3,D_)):(qf=1e3*dA("buffer_live"),uv=1e3*dA("buffer_vod"),D_=1e3*dA("buffer_clip"),uc&&(Android.SetBuffer(1,qf),Android.SetBuffer(2,uv),Android.SetBuffer(3,D_)))}catch(e){}}function pA(){var e=lA("clock_offset");cc=e<48?-9e5*(48-e):9e5*(e-48)}function vA(){var e=screen.height;4<Yw?(e*=.09,e+=-1*document.getElementById(Qw[1]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function gA(e){var t;switch(e.keyCode){case ji:qc()?Fc():jc()?Yc():($w(),nu());break;case Fi:0<lA(t=Qw[Yw])&&(jw[t].defaultValue-=1,_A(Yw));break;case zi:lA(t=Qw[Yw])<rA(t)&&(jw[t].defaultValue+=1,_A(Yw));break;case qi:0<Yw&&(uA(),cA(--Yw));break;case Xi:Yw<Zw-1&&(uA(),cA(++Yw));break;case Yi:Yw||CA()}}var yA=0,bA="",wA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},AA=[],kA=0;function CA(){tu(),document.body.removeEventListener("keydown",gA),wc("settings_main"),Ac("settings_lang"),DA(),Ic("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",VA,!1),OA(yA=0),MA()}function EA(){document.body.removeEventListener("keydown",VA),document.body.addEventListener("keydown",gA,!1),vA(),Ac("settings_main"),wc("settings_lang"),Ic("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",GA(),IA(),MA()}function MA(){""===Lr&&(bA=Wn,wA.All.defaultValue=1,RA(0),Cc(AA[0],"strokedextraminired"),DA()),aA("content_lang",Yn,bA)}function IA(){if(Lr="",!LA("All")){for(var e in wA)LA(e)&&(Lr+=","+wA[e].set_values);Lr=Lr.slice(1)}bA=""===Lr?Wn:Lr.toUpperCase()}function SA(){var e="";for(var t in wA)AA.push(t),wA[t].values=[T,Ht],e+=xA(t,t);Mc("settings_lang",e),kA=AA.length}function xA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(LA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+TA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function PA(){for(var e in wA)wA[e].defaultValue=o_(e,wA[e].defaultValue),wA[e].defaultValue-=1;IA()}function TA(e){return wA[e].values[LA(e)]}function LA(e){return wA[e].defaultValue}function BA(e){return wA[e].values.length-1}function OA(e){var t=AA[yA];Cc(t,"settings_value_focus"),Cc(t+"_div","settings_div_focus"),NA(e),UA(t)}function GA(){var e=AA[yA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ec(e,"settings_value_focus"),Ec(e+"_div","settings_div_focus")}function UA(){var e=screen.height;7<yA?(e*=.093,e+=-1*document.getElementById(AA[yA-7]).offsetTop):e*=.077,yA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function RA(e){var t=AA[e];a_(t,LA(t)+1),Ic(t,TA(t)),NA(e)}function NA(e){var t=AA[e],n=LA(t),i=BA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function DA(){for(var e in wA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=LA("All")?"none":"inline-block")}function VA(e){var t;switch(e.keyCode){case ji:EA();break;case Fi:0<LA(t=AA[yA])&&(wA[t].defaultValue-=1,RA(yA),Ec(AA[yA],"strokedextraminired"),-1!==t.indexOf("All")&&DA());break;case zi:LA(t=AA[yA])<BA(t)&&(wA[t].defaultValue+=1,RA(yA),Cc(AA[yA],"strokedextraminired"),-1!==t.indexOf("All")&&DA());break;case qi:0<yA&&(GA(),OA(--yA));break;case Xi:!LA("All")&&yA<kA-1&&(GA(),OA(++yA))}}var JA,HA,FA=!1,qA=0,zA=0,XA=0;function YA(){Cc("side_panel_"+qA,"side_panel_text_focus")}function jA(){Ec("side_panel_"+qA,"side_panel_text_focus")}function WA(){Cc(GC[2]+zA,"side_panel_feed_text_focus"),dk(),QA()&&KA()}function QA(){return-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")}function ZA(){Ec(GC[2]+zA,"side_panel_feed_text_focus")}function KA(){var e=JSON.parse(document.getElementById(GC[8]+zA).getAttribute(ac));HA.onerror=function(){this.onerror=null,this.src=Ni},HA.src=e[2]+_c,Mc("feed_thum_name",e[3]),Mc("feed_thum_quality",e[7]),Mc("feed_thum_title",bI.parse(e[4])),Mc("feed_thum_game",e[5]),Mc("feed_thum_views",e[6]),Ac("side_panel_feed_thumb")}function $A(){for(var e,t=0;t<ek();t++)null!==(e=document.getElementById(GC[8]+t))&&((new Image).src=JSON.parse(e.getAttribute(ac))[2]+_c)}function ek(){return document.getElementById("side_panel_feed_scroll").getElementsByClassName("side_panel_feed").length}function tk(){qA?1===qA?(FA=!1,zc()):2===qA?(document.body.addEventListener("keydown",JA,!1),Hc()):3===qA?(document.body.addEventListener("keydown",JA,!1),Xc()):4===qA?Bc(JA):5===qA?ik($l):6===qA?ik(Co()?_r:er):7===qA?ik(yr):8===qA?ik(tr):9===qA?ik(mr):10===qA&&ik(pr):(FA=!1,Ar.Main_Go!==sr?(Ar.Search_isSearching||Ar.Main_Go!==rr&&Ar.Main_Go!==ur&&Ar.Main_Go!==cr||ps(),Ar.Search_isSearching||(Ar.Main_BeforeSearch=Ar.Main_Go),su(Ar.Main_Go),Ar.Main_Go=sr,nu()):document.body.addEventListener("keydown",JA,!1)),sk()}function nk(){FA&&(FA=!1,iu())}function ik(e){FA=!1,e===Ar.Main_Go?document.body.addEventListener("keydown",JA,!1):(Ar.Main_Before=Ar.Main_Go,Ar.Main_Go=e,su(Ar.Main_Before),nu())}function ak(e,t){Ec("side_panel","side_panel_hide"),JA=e,FA=t,document.body.removeEventListener("keydown",JA),ok()}function ok(){var e=go();e&&(Hf!==to[Ar.Users_Position].name&&(PC=!1),Hf=to[Ar.Users_Position].name),e&&dE(0,OC[0])||(PC=!1),PC||AC||UC(),e?kc("side_panel_feed_holder")?(document.body.addEventListener("keydown",lk,!1),null!==document.getElementById(GC[2]+zA)&&($A(),WA())):document.body.addEventListener("keydown",rk,!1):(wc("side_panel_feed_holder"),Ac("side_panel_etc"),document.body.addEventListener("keydown",rk,!1))}function sk(){document.body.removeEventListener("keydown",lk),document.body.removeEventListener("keydown",rk),Cc("side_panel","side_panel_hide"),wc("side_panel_feed_thumb"),jA(),qA=0,YA()}function dk(){var e,t=ek();4<zA?(zA<t-6?(e=-1*document.getElementById(GC[8]+(zA-4)).offsetTop,e+=document.getElementById(GC[8]+0).offsetTop):11<t&&(e=-1*document.getElementById(GC[8]+(t-11)).offsetTop,e+=document.getElementById(GC[8]+0).offsetTop),(XA+5<e||e<XA-5)&&(XA=e),document.getElementById("side_panel_feed_scroll").style.marginTop=XA+"px"):document.getElementById("side_panel_feed_scroll").style.marginTop=0}function lk(e){switch(e.keyCode){case ji:sk(),FA?(FA=!1,iu()):(document.body.addEventListener("keydown",JA,!1),e_());break;case Fi:document.body.removeEventListener("keydown",lk),document.body.addEventListener("keydown",rk,!1),wc("side_panel_feed_thumb"),wc("side_panel_feed_holder"),Ac("side_panel_etc");break;case zi:nE();break;case qi:zA&&!AC&&(ZA(),zA--,WA());break;case Xi:zA<ek()-1&&!AC&&(ZA(),zA++,WA());break;case Yi:sk(),Ar.Play_isHost=!1,FA=!(qh=!0),Hu(function(){Bu(zA,GC,lk)})}}function rk(e){switch(e.keyCode){case ji:case Fi:sk(),FA?(FA=!1,iu()):(document.body.addEventListener("keydown",JA,!1),e_());break;case zi:go()?(document.body.removeEventListener("keydown",rk),document.body.addEventListener("keydown",lk,!1),wc("side_panel_etc"),Ac("side_panel_feed_holder"),Ac("side_panel_feed_thumb")):(Vc(hi),window.setTimeout(Jc,2e3));break;case qi:qA&&(jA(),qA--,YA());break;case Xi:qA<10&&(jA(),qA++,YA());break;case Yi:tk()}}var ck=0,uk=0,_k=!1,fk=0,hk=!1,mk=0,pk=5,vk=3500,gk=[],yk=0,bk=0,wk=!1,Ak=!1,kk="",Ck=!1,Ek={},Mk=[],Ik=0,Sk=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function xk(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=fr,Ar.isLastSChannels=!1,bc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user","icon_center_focus"),Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+K)),document.body.addEventListener("keydown",Fk,!1),kk!==to[Ar.Users_Position].name&&(Ak=!1),Ak?(hu(ck),Ac(Sk[6]),Jk(),au()):Tk()}function Pk(){Ar.Users_Position=0,Ec("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Fk),Ic("top_bar_user",_),bc("label_side_panel","icon-ellipsis",Rn),wc(Sk[6])}function Tk(){fu("stream_table_user_channels"),wc(Sk[6]),xc(),Jc(),kk=to[Ar.Users_Position].name,Ak=!1,Ek={},ck=uk=fk=Ik=yk=bk=0,Qu=!(Ck=_k=!(Mk=[])),Uc(),gk=[],Lk(),Bk()}function Lk(){hk=!0,mk=0,vk=3500}function Bk(){var e=fk+bk;e&&Ik-1<e&&(e=Ik-zr,_k=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(to[Ar.Users_Position].id)+"/follows/channels?limit="+zr+"&offset="+e+"&sortby=login&direction=asc";uc&&!fk?__(t,vk,2,null,Gk,Ok):f_(t,vk,2,null,Gk,Ok,!1)}function Ok(){++mk<pk?(vk+=500,Bk()):(hk=!1,fk?(_k=!0,Rk()):(Qu=!1,Pc(),Vc(P),Ku(Fk)))}function Gk(e){var t=JSON.parse(e),n=t.follows.length;Ik=parseInt(t._total),n<zr&&(_k=!0);var i=fk;wk=!(fk+=n);var a=n/Xr;0<n%Xr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/Xr+_,d=document.createElement("tr"),o=0;o<Xr&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,Ek[r]?o--:(Ek[r]=1,d.appendChild(Uk(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<Xr;o++)_k&&!Ck&&(Ck=!0,fk=s*Xr+o),d.appendChild(pu(Sk[5]+s+"_"+o)),Mk.push(Sk[5]+s+"_"+o);u.appendChild(d)}Rk()}function Uk(e,t,n){return vu(t,Sk,n)}function Rk(){if(Ak){if(0<Mk.length&&!_k)return Lk(),void Nk();Jk(!0),Mk=[]}else wk?(Vc(T+K),Ku(Fk)):(Ak=!0,Jk(),au()),Ac(Sk[6]),Qu=!1,Pc();hk=!1}function Nk(){Dc(Mk.length);var e=fk+bk;e&&Ik-1<e&&(e=Ik-jr,_k=!0),c_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(to[Ar.Users_Position].id)+"/follows/channels?limit="+jr+"&offset="+yk+"&sortby=login&direction=asc",vk,2,null,Vk,Dk)}function Dk(){++mk<pk?(vk+=500,Nk()):(_k=!0,fk-=Mk.length,Mk=[],Rk())}function Vk(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(Ik=parseInt(i._total),a<jr&&(_k=!0);o<Mk.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,Ek[n]?o--:(Ek[n]=1,gu(Mk[o],[t.name,n,t.logo,t.display_name],Sk),d.push(o));for(o=d.length-1;-1<o;o--)Mk.splice(d[o],1);bk+=s,_k&&(fk-=Mk.length,Mk=[]),Rk()}function Jk(e){xu(ck,uk,Sk,Xr,fk,e),fk/Xr<ck+Yr&&!_k&&!hk&&(Lk(),Bk()),Er&&Hk()}function Hk(){fk&&Du(ck+"_"+uk,Sk)}function Fk(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(Hk(),Ku(Fk)),nk();break;case Fi:if(uk){if(Kc(ck,uk-1,Sk[0]))Hk(),uk--,Jk();else for(t=Xr-1;-1<t;t--)if(Kc(ck-1,t,Sk[0])){Hk(),ck--,uk=t,Jk();break}}else Hk(),ak(Fk,!0);break;case zi:Kc(ck,uk+1,Sk[0])?(Hk(),uk++,Jk()):Kc(ck+1,0,Sk[0])&&(Hk(),ck++,uk=0,Jk());break;case qi:if(ck){for(t=0;t<Xr;t++)if(Kc(ck-1,uk-t,Sk[0])){Hk(),ck--,uk-=t,Jk();break}}else Hk(),Ku(Fk);break;case Xi:for(t=0;t<Xr;t++)if(Kc(ck+1,uk-t,Sk[0])){Hk(),ck++,uk-=t,Jk();break}break;case Ji:case Vi:case Hi:case Yi:if(Lu(ck+"_"+uk,Sk[0]))return;Ar.Main_selectedChannel=document.getElementById(Sk[4]+ck+"_"+uk).getAttribute(ac),Ar.Main_selectedChannel_id=document.getElementById(Sk[4]+ck+"_"+uk).getAttribute("data-id"),Ar.Main_selectedChannelDisplayname=document.getElementById(Sk[3]+ck+"_"+uk).textContent,Ar.Main_selectedChannelLogo=document.getElementById(Sk[1]+ck+"_"+uk).src,document.body.removeEventListener("keydown",Fk),Ar.Main_BeforeChannel=fr,Ar.Main_Go=rr,Ar.Main_BeforeChannelisSet=!0,Go=ia=!0,wc(Sk[6]),nu()}}var qk=0,zk=0,Xk=!1,Yk=0,jk={},Wk=[],Qk=!1,Zk=0,Kk=5,$k=3500,eC=0,tC=0,nC=!1,iC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],aC=!1,oC="",sC=!1;function dC(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=ar,bc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user","icon_center_focus"),Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+Q)),document.body.addEventListener("keydown",bC,!1),oC!==to[Ar.Users_Position].name&&(aC=!1),aC?(hu(qk),Ac(iC[10]),gC(),au()):rC()}function lC(){Ar.Users_Position=0,Ec("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",bC),Ic("top_bar_user",_),bc("label_side_panel","icon-ellipsis",Rn),wc(iC[10])}function rC(){fu("stream_table_user_host"),wc(iC[10]),xc(),Jc(),oC=to[Ar.Users_Position].name,aC=!1,jk={},Qu=!(Yk=tC=eC=0),qk=zk=0,Xk=sC=!(Wk=[]),Uc(),cC(),uC()}function cC(){Qk=!0,Zk=0,$k=3500}function uC(){var e=Yk+eC;e&&tC-1<e&&(e=tC-Dr,Xk=!0),u_("https://api.twitch.tv/api/users/"+encodeURIComponent(to[Ar.Users_Position].name)+"/followed/hosting?limit="+Dr+"&offset="+e,$k,2,null,fC,_C,!1,!Yk)}function _C(){++Zk<Kk?($k+=500,uC()):(Qk=!1,Yk?(Xk=!0,hC()):(Qu=!1,Pc(),Vc(P),Ku(bC)))}function fC(e){var t=JSON.parse(e),n=t.hosts.length;tC=parseInt(t._total),n<Dr&&(Xk=!0);var i=Yk;nC=!(Yk+=n);var a=n/Vr;0<n%Vr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Vr+_,d=document.createElement("tr"),o=0;o<Vr&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,jk[r]?o--:(jk[r]=1,d.appendChild(bu(s,s+"_"+o,[l.target.channel.name,l.target._id],iC,[l.target.preview_urls.template.replace("{width}x{height}",tc),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Wc(l.target.viewers)+J,""])));for(;o<Vr;o++)Xk&&!sC&&(sC=!0,Yk=s*Vr+o),d.appendChild(pu(iC[9]+s+"_"+o)),Wk.push(iC[9]+s+"_"+o);u.appendChild(d)}hC()}function hC(){if(aC){if(0<Wk.length&&!Xk)return cC(),void mC();gC(!0),Wk=[]}else nC?(Vc(T+Q),Ku(bC)):(aC=!0,gC(),au()),Ac(iC[10]),Qu=!1,Pc();Qk=!1}function mC(){Dc(Wk.length);var e=Yk+eC;e&&tC-1<e&&(e=tC-jr,Xk=!0),c_("https://api.twitch.tv/api/users/"+encodeURIComponent(to[Ar.Users_Position].name)+"/followed/hosting?limit="+jr+"&offset="+e,$k,2,null,vC,pC)}function pC(){++Zk<Kk?($k+=500,mC()):(Xk=!0,Yk-=Wk.length,Wk=[],hC())}function vC(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(tC=parseInt(i._total),a<jr&&(Xk=!0);o<Wk.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,jk[n]?o--:(jk[n]=1,wu(Wk[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",tc),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Wc(t.target.viewers)+J,""],iC),d.push(o));for(o=d.length-1;-1<o;o--)Wk.splice(d[o],1);eC+=s,Xk&&(Yk-=Wk.length,Wk=[]),hC()}function gC(e){Pu(qk,zk,iC,Vr,Yk,e),Yk/Vr<qk+Jr&&!Xk&&!Qk&&(cC(),uC()),Er&&yC()}function yC(){Yk&&Du(qk+"_"+zk,iC)}function bC(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(yC(),Ku(bC)),nk();break;case Fi:if(zk){if(Kc(qk,zk-1,iC[0]))yC(),zk--,gC();else for(t=Vr-1;-1<t;t--)if(Kc(qk-1,t,iC[0])){yC(),qk--,zk=t,gC();break}}else yC(),ak(bC,!0);break;case zi:Kc(qk,zk+1,iC[0])?(yC(),zk++,gC()):Kc(qk+1,0,iC[0])&&(yC(),qk++,zk=0,gC());break;case qi:if(qk){for(t=0;t<Vr;t++)if(Kc(qk-1,zk-t,iC[0])){yC(),qk--,zk-=t,gC();break}}else yC(),Ku(bC);break;case Xi:for(t=0;t<Vr;t++)if(Kc(qk+1,zk-t,iC[0])){yC(),qk++,zk-=t,gC();break}break;case Ji:case Vi:case Hi:case Yi:Bu(qk+"_"+zk,iC,bC)}}var wC,AC=!1,kC=0,CC=3500,EC=0,MC=5,IC=!1,SC="",xC={},PC=!1,TC=null,LC=null,BC=null,OC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],GC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function UC(){go()&&(eE(),PC?(dE(Ff,OC[0])&&(TC=JSON.parse(document.getElementById(OC[8]+Ff).getAttribute(ac))[0]),dE(zA,GC[0])&&(LC=JSON.parse(document.getElementById(GC[8]+zA).getAttribute(ac))[0])):TC=LC=null,fu("user_feed_scroll"),wc("side_panel_feed_thumb"),XA=zA=0,fu("side_panel_feed_scroll"),PC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",Ac("dialog_loading_feed"),Ac("dialog_loading_side_feed"),SC="",Ff=EC=0,xC={},Hu(function(){NC(),RC()}))}function RC(){(BC=to[Ar.Users_Position].access_token)?(BC=$r+BC,HC()):(NC(),BC=null,DC())}function NC(){AC=!0,kC=0,CC=3500}function DC(){f_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(to[Ar.Users_Position].id)+"/follows/channels?limit=100&offset="+EC+"&sortby=created_at",CC,2,null,JC,VC,!1)}function VC(){++kC<MC?(CC+=500,DC()):(AC=!1,YC()?(IC=!0,XC()):(wc("dialog_loading_feed"),wc("dialog_loading_side_feed"),QC()&&(Hm(P),window.setTimeout(function(){Fm()},2e3))))}function JC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===SC.indexOf(i)&&(SC+=i);EC+=n,NC(),DC()}else SC=SC.slice(0,-1),NC(),Hu(HC)}function HC(){var e="https://api.twitch.tv/kraken/streams/";e+=BC?"followed?":"?channel="+encodeURIComponent(SC)+"&",FC(e+="limit=100&offset=0&stream_type=all")}function FC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=CC,t.setRequestHeader(Qr,Wr),t.setRequestHeader(Zr,ec),BC&&t.setRequestHeader(Kr,BC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?zC(t.responseText):!BC||401!==t.status&&403!==t.status?qC():ua(Ar.Users_Position,0,RC,RC))},t.send(null)}function qC(){++kC<MC?(CC+=500,HC()):(AC=!1,wc("dialog_loading_feed"),wc("dialog_loading_side_feed"),QC()&&(Hm(P),window.setTimeout(function(){Fm()},2e3)))}function zC(e){var t=JSON.parse(e),n=t.streams.length;n<Dr&&(IC=!0);for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,xC[a]||(xC[a]=1,null!==TC&&TC===i.channel.name&&(Ff=d),o.appendChild(jC(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),null!==LC&&LC===i.channel.name&&(zA=d),s.appendChild(WC(d,[i.channel.name,a,i.preview.template.replace("{width}x{height}","1280x720"),Zc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+Bm(i.created_at)+" "+m+Wc(i.viewers)+J,Qc(i.video_height,i.average_fps,i.channel.broadcaster_language)],[i.channel.logo,Zc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,Wc(i.viewers)])));XC()}function XC(){PC=!(AC=!1),Hu(function(){wc("dialog_loading_feed"),wc("dialog_loading_side_feed"),iE(),$A(),WA()})}function YC(){return document.getElementById("user_feed_scroll").getElementsByClassName("user_feed_thumb").length}function jC(e,t,n){return(Pr=document.createElement("div")).setAttribute("id",OC[8]+e),Pr.setAttribute(ac,JSON.stringify(t)),Pr.className="user_feed_thumb",Pr.innerHTML='<div id="'+OC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+OC[1]+e+'" alt="" class="stream_img" src="'+n[0]+_c+'" onerror="this.onerror=null;this.src=\''+Ni+'\'"></div><div id="'+OC[2]+e+'" class="stream_text2"><div id="'+OC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+OC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",Pr}function WC(e,t,n){return(Pr=document.createElement("div")).setAttribute("id",GC[8]+e),Pr.setAttribute(ac,JSON.stringify(t)),Pr.className="side_panel_feed",Pr.innerHTML='<div id="'+GC[0]+e+'"><img id="'+GC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" alt="" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Ni+'\'"><div id="'+GC[2]+e+'" class="side_panel_feed_text"><div id="'+GC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+GC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+GC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",Pr}function QC(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function ZC(){var e=go();e&&(Hf!==to[Ar.Users_Position].name&&(PC=!1),Hf=to[Ar.Users_Position].name),e&&dE(0,OC[0])||(PC=!1),PC||AC||UC(),e&&(Ec("user_feed","user_feed_hide"),iE())}function KC(){Cc("user_feed","user_feed_hide")}function $C(){eE(),tE()}function eE(){window.clearTimeout(wC)}function tE(){QC()&&(wC=window.setTimeout(KC,5500))}function nE(){eE(),AC?window.setTimeout(function(){AC=!1},15e3):UC()}function iE(){$C(),dE(Ff,OC[0])&&(Cc(OC[0]+Ff,"feed_thumbnail_focused"),QC()?oE():kc("scene2")&&sE())}function aE(){return Ff<3?2.5:dE(Ff+2,OC[0])?-1*document.getElementById(OC[8]+(Ff-2)).offsetLeft:dE(Ff+1,OC[0])?-1*document.getElementById(OC[8]+(Ff-3)).offsetLeft:-1*document.getElementById(OC[8]+(Ff-(3<Ff?4:3))).offsetLeft}function oE(){var e=aE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function sE(){var e=oE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function dE(e,t){return null!==document.getElementById(t+e)}function lE(){dE(Ff,OC[0])&&Ec(OC[0]+Ff,"feed_thumbnail_focused")}var rE=0,cE=0,uE=!1,_E=0,fE={},hE=[],mE=!1,pE=0,vE=5,gE=3500,yE=0,bE=0,wE=0,AE=!1,kE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],CE=!1,EE="",ME="",IE=!1,SE=null;function xE(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=ir,bc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user","icon_center_focus"),Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+W)),document.body.addEventListener("keydown",YE,!1),ME!==to[Ar.Users_Position].name&&(CE=!1),CE?(hu(rE),Ac(kE[10]),zE(),au()):TE()}function PE(){Ar.Users_Position=0,Ec("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",YE),Ic("top_bar_user",_),bc("label_side_panel","icon-ellipsis",Rn),wc(kE[10])}function TE(){fu("stream_table_user_live"),wc(kE[10]),xc(),Jc(),CE=!1,ME=to[Ar.Users_Position].name,Qu=!(IE=!(hE=[])),rE=cE=_E=bE=yE=wE=0,uE=!(fE={}),EE="",Uc(),BE(),LE()}function LE(){(SE=to[Ar.Users_Position].access_token)?(SE=$r+SE,RE()):(SE=null,BE(),OE())}function BE(){mE=!0,pE=0,gE=3500}function OE(){c_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(to[Ar.Users_Position].id)+"/follows/channels?limit=100&offset="+wE+"&sortby=created_at",gE,2,null,UE,GE)}function GE(){++pE<vE?(gE+=500,OE()):(mE=!1,_E?(uE=!0,JE()):(Qu=!1,Pc(),Vc(P),Ku(YE)))}function UE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===EE.indexOf(i)&&(EE+=i);wE+=n,BE(),OE()}else EE=EE.slice(0,-1),BE(),RE()}function RE(){var e=_E+yE;e&&bE-1<e&&(e=bE-Dr,uE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=SE?"followed?":"?channel="+encodeURIComponent(EE)+"&",NE(t+="limit="+Dr+"&offset="+e+"&stream_type=all",VE,DE,LE)}function NE(e,t,n,i){var a;if(uc&&!_E){if(!(a=Android.mreadUrl(e,gE,SE?3:2,SE)))return void zM();200===(a=JSON.parse(a)).status?t(a.responseText):!SE||401!==a.status&&403!==a.status?n():ua(Ar.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=gE,a.setRequestHeader(Qr,Wr),a.setRequestHeader(Zr,ec),SE&&a.setRequestHeader(Kr,SE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!SE||401!==a.status&&403!==a.status?n():ua(Ar.Users_Position,0,i,i))},a.send(null)}function DE(){++pE<vE?(gE+=500,RE()):(mE=!1,_E?(uE=!0,JE()):(Qu=!1,Pc(),Vc(P),Ku(YE)))}function VE(e){var t=JSON.parse(e),n=t.streams.length;bE=parseInt(t._total),n<Dr&&(uE=!0);var i=_E;AE=!(_E+=n);var a=n/Vr;0<n%Vr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Vr+_,d=document.createElement("tr"),o=0;o<Vr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,fE[r]?o--:(fE[r]=1,d.appendChild(bu(s,s+"_"+o,[l.channel.name,r],kE,[l.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Bm(l.created_at)+" "+m+Wc(l.viewers)+J,Qc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Vr;o++)uE&&!IE&&(IE=!0,_E=s*Vr+o),d.appendChild(pu(kE[9]+s+"_"+o)),hE.push(kE[9]+s+"_"+o);u.appendChild(d)}JE()}function JE(){if(CE){if(0<hE.length&&!uE)return BE(),void HE();zE(!0),hE=[]}else AE?(Ku(YE),Vc(T+W)):(CE=!0,zE(),au()),Ac(kE[10]),Qu=!1,Pc();mE=!1}function HE(){Dc(hE.length);var e=_E+yE;e&&bE-1<e&&(e=bE-jr,uE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=SE?"followed?":"?channel="+encodeURIComponent(EE)+"&",NE(t+="followed?limit=limit="+jr+"&offset="+e+"&stream_type=all",qE,FE,HE)}function FE(){++pE<vE?(gE+=500,HE()):(uE=!0,_E-=hE.length,hE=[],JE())}function qE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(bE=parseInt(i._total),a<jr&&(uE=!0);o<hE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,fE[n]?o--:(fE[n]=1,wu(hE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",tc),Zc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Bm(t.created_at)+" "+m+Wc(t.viewers)+J,Qc(t.video_height,t.average_fps,t.channel.broadcaster_language)],kE),d.push(o));for(o=d.length-1;-1<o;o--)hE.splice(d[o],1);yE+=s,uE&&(_E-=hE.length,hE=[]),JE()}function zE(e){Pu(rE,cE,kE,Vr,_E,e),_E/Vr<rE+Jr&&!uE&&!mE&&(BE(),OE()),Er&&XE()}function XE(){_E&&Du(rE+"_"+cE,kE)}function YE(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:jc()?Yc():qc()?Fc():(XE(),Ku(YE)),nk();break;case Fi:if(cE){if(Kc(rE,cE-1,kE[0]))XE(),cE--,zE();else for(t=Vr-1;-1<t;t--)if(Kc(rE-1,t,kE[0])){XE(),rE--,cE=t,zE();break}}else XE(),ak(YE,!0);break;case zi:Kc(rE,cE+1,kE[0])?(XE(),cE++,zE()):Kc(rE+1,0,kE[0])&&(XE(),rE++,cE=0,zE());break;case qi:if(rE){for(t=0;t<Vr;t++)if(Kc(rE-1,cE-t,kE[0])){XE(),rE--,cE-=t,zE();break}}else XE(),Ku(YE);break;case Xi:for(t=0;t<Vr;t++)if(Kc(rE+1,cE-t,kE[0])){XE(),rE++,cE-=t,zE();break}break;case Ji:case Vi:case Hi:case Yi:Bu(rE+"_"+cE,kE,YE)}}var jE=0,WE=0,QE=8,ZE=0,KE=null,$E=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],eM=!1,tM=!0;function nM(){return Mr?(iM(),void ca(Mr)):Co()?(Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=_r,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Jc(),Cc("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",gM,!1),void(eM?(hu(jE),Ac($E[5]),rM(),au()):aM())):(Ar.Main_Go=$l,iM(),void nu())}function iM(){Ar.Users_Position=0,Ec("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",gM),wc($E[5]),document.getElementById("screens_holder").style.top="0"}function aM(){fu("stream_table_user"),wc($E[5]),xc(),Jc(),Qu=!(eM=!1),tM=!(jE=WE=0),Hu(function(){oM()})}function oM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<to.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Pr=document.createElement("tr")).className="follower_header",Pr.innerHTML='<div class="follower_header">'+(o?"":oe)+to[o].name+R+"</div>",a.appendChild(i),a.appendChild(Pr),(e=document.createElement("tr")).appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,Ey.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(sM(o+"_"+t,Ar.Main_selectedChannelDisplayname,to[o].access_token?wt:bt,"key",n)),a.appendChild(e);dM()}function sM(e,t,n,i,a){return(Pr=document.createElement("td")).setAttribute("id",$E[4]+e),Pr.setAttribute(ac,t),Pr.className="stream_cell",Pr.innerHTML='<div id="'+$E[0]+e+'" class="stream_thumbnail_channel" ><div id="'+$E[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+$E[2]+e+'" class="stream_text"><div id="'+$E[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Pr}function dM(){Hu(function(){eM||(eM=!0,rM(),Pc(),au()),Ac($E[5]),tM=Qu=!1})}function lM(){for(var e=0;e<to.length;e++)Ic($E[3]+e+"_2",Ey.isLive?Z:zt)}function rM(){Cc($E[0]+jE+"_"+WE,"stream_thumbnail_focused"),mu(jE)?1<jE?Kc(jE+1,0,$E[0])&&Nu($E[5],-1*document.getElementById($E[4]+jE+"_"+WE).offsetTop+.42*screen.height):Nu($E[5],screen.height/100*7):Eu(),Er&&cM()}function cM(){Cr=!1,Ec($E[0]+jE+"_"+WE,"stream_thumbnail_focused")}function uM(){return Ar.Users_Position=jE,3!==WE||to[Ar.Users_Position].access_token?7===WE&&to[Ar.Users_Position].access_token?(Vc(wt),void window.setTimeout(Jc,1500)):(6!==WE&&7!==WE&&(wc($E[5]),document.body.removeEventListener("keydown",gM),document.getElementById("screens_holder").style.top="0"),void Hu(function(){WE?1===WE?dC():2===WE?(Dg=Ey,qg()):3===WE?DM():4===WE?xk():5===WE?jE?Ao(jE):(Ar.Main_Before=_r,oo()):6===WE?hM():7!==WE||to[Ar.Users_Position].access_token||hM():xE()})):(Vc(In),void window.setTimeout(Jc,5e3))}function _M(){window.clearTimeout(KE)}function fM(){KE=window.setTimeout(mM,2e4)}function hM(){fM(),6===WE?Mc("main_dialog_remove",Ft+yi+to[Ar.Users_Position].name+"?"):7===WE&&Mc("main_dialog_remove",ft+" "+to[Ar.Users_Position].name+"?"),Ac("main_remove_dialog")}function mM(){_M(),wc("main_remove_dialog"),ZE=0,vM()}function pM(){return kc("main_remove_dialog")}function vM(){ZE?(Ec("remove_cancel","button_search_focused"),Cc("remove_yes","button_search_focused")):(Cc("remove_cancel","button_search_focused"),Ec("remove_yes","button_search_focused"))}function gM(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:pM()?mM():qc()?Fc():jc()?Yc():(cM(),Ku(gM)),nk();break;case Fi:if(pM())--ZE<0&&(ZE=1),vM(),_M(),fM();else if(WE)if(Kc(jE,WE-1,$E[0]))cM(),WE--,rM();else if(Kc(jE-1,0,$E[0])){for(t=QE-1;-1<t;t--)if(Kc(jE-1,t,$E[0])){cM(),jE--,WE=t,rM();break}}else cM(),WE=QE-1,rM();else cM(),ak(gM,!0);break;case zi:pM()?(1<++ZE&&(ZE=0),vM(),_M(),fM()):(Kc(jE,WE+1,$E[0])?(cM(),WE++):(Kc(jE+1,0,$E[0])?(cM(),jE++):cM(),WE=0),rM());break;case qi:if(jE){for(t=0;t<QE;t++)if(Kc(jE-1,WE-t,$E[0])){cM(),jE--,WE-=t,rM();break}}else cM(),Ku(gM);break;case Xi:for(t=0;t<QE;t++)if(Kc(jE+1,WE-t,$E[0])){cM(),jE++,WE-=t,rM();break}break;case Ji:case Vi:case Hi:case Yi:var n;if(pM()){if(6===WE)n=ZE,mM(),n&&(document.body.removeEventListener("keydown",gM),iM(),bo(jE));else if(n=ZE,mM(),n){Ar.Users_AddcodePosition=Ar.Users_Position,au();var i=da,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Wr)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else uM()}}var yM=0,bM=0,wM=!1,AM=0,kM={},CM=[],EM=!1,MM=0,IM=5,SM=3500,xM=0,PM=0,TM=!1,LM=!1,BM="time",OM=2,GM=!1,UM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],RM=!1,NM=!1;function DM(){Ar.Main_CenterLablesVectorPos=1,Ar.Main_Go=br,Cc("top_bar_user","icon_center_focus"),bc("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+(NM?G:O))),document.body.addEventListener("keydown",iI,!1),RM?(hu(yM),Ac(UM[10]),aI(),$M(),au()):JM()}function VM(){Ar.Users_Position=0,RM&&eI(),Ec("top_bar_user","icon_center_focus"),bc("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",iI),Ic("top_bar_user",_),wc(UM[10])}function JM(){RM&&eI(),fu("stream_table_user_vod"),wc(UM[10]),xc(),aI(),Jc(),GM=RM=!1,Qu=!(LM=!(CM=[])),yM=bM=AM=PM=xM=0,wM=!(kM={}),Uc(),FM()}function HM(){EM=!0,MM=0,SM=3500}function FM(){HM(),qM()}function qM(){var e=AM+xM;e&&PM-1<e&&(e=PM-Dr,wM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Dr+"&broadcast_type="+(NM?"highlight":"archive")+"&sort="+BM+"&offset="+e;if(uc&&!AM){if(!(t=Android.mreadUrl(n,SM,3,$r+to[Ar.Users_Position].access_token)))return void zM();200===(t=JSON.parse(t)).status?YM(t.responseText):401===t.status||403===t.status?ua(Ar.Users_Position,0,FM,XM):zM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=SM,t.setRequestHeader(Zr,ec),t.setRequestHeader(Qr,Wr),t.setRequestHeader(Kr,$r+to[Ar.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?YM(t.responseText):401===t.status||403===t.status?ua(Ar.Users_Position,0,FM,XM):zM())},t.send(null)}function zM(){++MM<IM?(SM+=500,qM()):XM()}function XM(){EM=!1,AM?(wM=!0,jM()):(Qu=!1,Pc(),Vc(P),Ku(bC),to[Ar.Users_Position].access_token||(VM(),Ar.Main_Go=_r,VM(),$u(),iu()))}function YM(e){var t=JSON.parse(e),n=t.videos.length;PM=parseInt(t._total),n<Dr&&(wM=!0);var i=AM;TM=!(AM+=n);var a=n/Vr;0<n%Vr&&a++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!GM){var _;for(GM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Bi+Bi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Bi+Bi+p,(Pr=document.createElement("td")).setAttribute("id",UM[8]+"y_"+f),Pr.className="stream_cell",Pr.innerHTML='<div id="'+UM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+UM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Pr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Vr+f,d=document.createElement("tr"),o=0;o<Vr&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||kM[r]?o--:(kM[r]=1,d.appendChild(dI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",tc),l.channel.display_name,N+cu(l.created_at),bI.parse(l.title)+yi+Qt+v+l.game,Wc(l.views)+V,Qc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Tm(l.length),l.animated_preview_url],UM)));for(;o<Vr;o++)wM&&!LM&&(LM=!0,AM=s*Vr+o),d.appendChild(pu(UM[9]+s+"_"+o)),CM.push(UM[9]+s+"_"+o);u.appendChild(d)}jM()}function jM(){RM?$M(!0):(TM?(Vc(T+(NM?G:O)+L+M),Ku(iI)):(RM=!0,$M(),au()),Ac(UM[10]),Qu=!1,Pc()),0<CM.length&&!wM?WM():EM=!(CM=[])}function WM(){HM(),QM()}function QM(){Dc(CM.length);var e=AM+xM;e&&PM-1<e&&(e=PM-jr,wM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+jr+"&broadcast_type="+(NM?"highlight":"archive")+"&sort="+BM+"&offset="+e;if(uc){if(!(t=Android.mreadUrl(n,SM,3,$r+to[Ar.Users_Position].access_token)))return void ZM();if(200===(t=JSON.parse(t)).status)return void KM(t.responseText);401===t.status||403===t.status?ua(Ar.Users_Position,0,FM,XM):ZM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=SM,t.setRequestHeader(Zr,ec),t.setRequestHeader(Qr,Wr),t.setRequestHeader(Kr,$r+to[Ar.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void KM(t.responseText);401===t.status||403===t.status?ua(Ar.Users_Position,0,FM,XM):ZM()}},t.send(null)}function ZM(){++MM<IM?(SM+=500,QM()):(wM=!0,AM-=CM.length,CM=[],jM())}function KM(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(PM=parseInt(i._total);o<CM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||kM[n]?o--:(kM[n]=1,rI(CM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",tc),t.channel.display_name,N+cu(t.created_at),bI.parse(t.title)+yi+Qt+v+t.game,Wc(t.views)+V,Qc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Tm(t.length),t.animated_preview_url],UM),d.push(o));for(o=d.length-1;-1<o;o--)CM.splice(d[o],1);xM+=s,wM&&(AM-=CM.length,CM=[]),jM()}function $M(e){yM<0?tI():(Pu(yM,bM,UM,Vr,AM,e),uI(UM,yM+"_"+bM),AM/Vr<yM+Jr&&!wM&&!EM&&FM(),Er&&eI())}function eI(){window.clearInterval(oI),-1<yM&&AM?(Ac(UM[1]+yM+"_"+bM),Du(yM+"_"+bM,UM)):nI()}function tI(){var e=1<bM?1:bM;Cc(UM[0]+"y_"+e,ic)}function nI(){var e=1<bM?1:bM;Ec(UM[0]+"y_"+e,ic)}function iI(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case ji:qc()?Fc():qc()?Fc():jc()?Yc():(eI(),Ku(iI)),nk();break;case Fi:if(bM)if(-1===yM)nI(),--bM<0&&(bM=1),tI();else if(yM||bM){if(Kc(yM,bM-1,UM[0]))eI(),bM--,$M();else for(t=Vr-1;-1<t;t--)if(Kc(yM-1,t,UM[0])){eI(),yM--,bM=t,$M();break}}else eI(),nI(),yM=-1,bM=1,tI();else-1===yM?(yM=0,nI()):eI(),ak(iI,!0);break;case zi:-1===yM?(nI(),1<++bM?(bM=0,TM?tI():(yM=0,$M())):tI()):Kc(yM,bM+1,UM[0])?(eI(),bM++,$M()):Kc(yM+1,0,UM[0])&&(eI(),yM++,bM=0,$M());break;case qi:if(-1===yM)eI(),Ku(iI),yM=0;else if(yM){for(t=0;t<Vr;t++)if(Kc(yM-1,bM-t,UM[0])){eI(),yM--,bM-=t,$M();break}}else eI(),yM=-1,tI();break;case Xi:if(-1!==yM||TM){for(t=0;t<Vr;t++)if(Kc(yM+1,bM-t,UM[0])){eI(),yM++,bM-=t,$M();break}}else yM=0,nI(),$M();break;case Ji:case Vi:case Hi:case Yi:-1===yM?(0===bM?a_("UserVod_highlight",(NM=!NM)?"true":"false"):1===OM?OM++:OM--,JM()):Uu(yM+"_"+bM,UM,iI)}}function aI(){1===OM?(Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+" "+(NM?G:O)+En)),BM="time"):2===OM&&(Mc("top_bar_user",_+ru(to[Ar.Users_Position].name+" "+(NM?G:O)+Mn)),BM="views"),a_("UserVod_TypeNumber",OM)}var oI,sI=new Image;function dI(e,t,n,i,a){return lI(n,t,i,a)}function lI(e,t,n,i){return(Pr=document.createElement("td")).setAttribute("id",i[8]+t),Pr.setAttribute(ac,JSON.stringify(e)),Pr.className="stream_cell",Pr.innerHTML=cI(t,n,i),Pr}function rI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(ac,JSON.stringify(t)),a.innerHTML=cI(o,n,i),a.setAttribute("id",i[8]+o)}function cI(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" alt="" class="stream_img" src="'+t[0]+'" onerror="this.onerror=null;this.src=\''+Ni+'\'"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function uI(t,n){if(window.clearInterval(oI),Ny){var i=document.getElementById(t[0]+n);sI.onload=function(){this.onload=null,wc(t[1]+n),i.style.backgroundSize="612px";var e=0;oI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},sI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function _I(e,t){return e.replace(t.code,fI(t))}function fI(e){return'<img class="emoticon" alt="" src="'+e["3x"]+'"/>'}function hI(e){return'<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function mI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=bd[i]||bd[e];e=a?_I(e,a):mI(e),t[n]=e}return t.join(" ")}function vI(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([hI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function gI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function yI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function A(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+c((e=e.replace(d,".")).split("."),t).join(".")}function k(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;i+=g)e=b(e/r);return b(i+(r+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,r,c,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&A("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&A("overflow"),h+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&A("overflow"),s*=c;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&A("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,r,c,u,_,f,h,m,p=[];for(_=(e=k(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&A("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&A("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)m=l-c,h=g-c,p.push(w(E(c+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:k,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=i,i=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var bI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();