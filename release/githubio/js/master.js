var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,C,M,E,S,I,P,x,L,T,B,G,O,U,A,N,H,F,D,R,q,V,J,z,X,j,Y,W,K,Z,$,Q,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Me,Ee,Se,Ie,Pe,xe,Le,Te,Be,Ge,Oe,Ue,Ae,Ne,He,Fe,De,Re,qe,Ve,Je,ze,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,Mt,Et,St,It,Pt,xt,Lt,Tt,Bt,Gt,Ot,Ut,At,Nt,Ht,Ft,Dt,Rt,qt,Vt,Jt,zt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,Mn,En,Sn,In,Pn,xn,Ln,Tn,Bn,Gn,On,Un,An,Nn,Hn,Fn,Dn,Rn,qn,Vn,Jn,zn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ea,ta,na="fglfgl27@gmail.com",aa="<br>",ia='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',oa='<div class="about_text_title">',sa='<div class="about_text_title" style="text-align: left;">',da='<div style="text-align: left;">',la="",ra="",ca="",ua="",_a="",fa="",ma="",ha="",pa="",va="",ga="&nbsp;",ya="",ba='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+ga;function wa(){la=e+" (C)",ra=n+" (D)",ua=a+" (A)",ca=i+" (A)",l+=Kt,r+=Kt,_a=oa+e+"</div>"+oa+Ee+"</div>"+aa+da+ia+Le+aa+ia+(Te+=An)+aa+ia+Be+aa+ia+Ge+aa+Oe+aa+ia+Ue+aa+ga+ga+ga+Ae+aa+ia+Ne+aa+"</div>"+aa+(ha=oa+Ce+"</div>"+da+ia+$e+aa+ia+We+aa+ia+Ke+aa+"</div>"+da+ia+Ze+aa+ia+Qe+aa+ia+et+aa+aa+oa+Me+"</div>"+da+ia+tt+aa+ia+nt+aa+ia+at+aa+ia+it+aa+ia+ot)+aa+aa+oa+ke+"</div>",fa=oa+ba+we+"</div></div>",ma=da+aa+He+aa+(ur?"":aa+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Wn+"</div>")+"</div>"+aa+oa+Fe+"</div>"+na+aa+aa+De+aa+Re+aa+aa+sa+qe+"</div>"+da+ia+Ve+aa+ia+Je+aa+ia+ze+aa+ia+Xe+aa+ia+je+aa+ia+Ye+aa+oa+ke+"</div></div>",pa=oa+Se+"</div>"+rt+aa,ya=aa+oa+ct+"</div>"+da+ia+ut+aa+aa+oa+ya+"</div>"+aa+aa+ke+"</div>",va=ft+aa+ia+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+aa+ia+ht+aa+ia+pt+aa+ia+vt+aa+ia+gt}function ka(){jr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",C="Type your authentication key...",M="Type your user name...",E="Press Enter or Select key to, ",S="Channels",I="Channel",P="Back to previously screen: Back key twice",x=" has ended",L="This video is only available to subscribers.",T="Connection failed, unable to load content hit refresh to try again",B="No",G=" for this ",O="Connection failed, unable to load video content exiting...",U=" Past Broadcast",A=" Highlight",N=" Clips",H=" Content",F="Streamed on ",D="Duration ",R=" Views",q=" Viewers",V="Click again to exit!",J="Do you wanna to exit Twitch?",z="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ae=" hosting ",ie=" already set",oe="Make First",se="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",de="Add a Twitch user to display it's Followed Channels content here",le=" (24h)",re=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Ce="Player Related:",Me="Chat Related:",Ee="General Related:",Se="Update",Ie="Current installed version ",Pe=" latest available version ",xe="This are the none players related controls, the player can show it's own controls.",Le="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Te="Refresh screen content: ",Be="Exit the application: from side pannel click exit",Ge=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Ue="Start a search: from side pannel click search",Ae="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ne="About this application: from side pannel click about",He="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Wn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",Fe="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Re="github.com/fgl27/SmartTwitchTV",qe="This application uses following dependencies:",Ve="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Je="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",ze="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",Ke="Close the video: press back key twice",Ze="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",$e="Show user live channels feed: D-pad up",Qe="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",et="Force refresh a video (in case it freezes): Change video quality to the same",tt="Show or hide the Chat : D-pad right",nt="Change Chat position : D-pad left",at="Change Chat size : D-pad up",it="Change Chat background brightness: Change in side panel settings",ot="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",st='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',dt="Chat and video (Side by side): Color button red (A)",Qn="Force disable the chat",ea="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",lt="There is a update available, check it in the app github releases ",ya="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",rt="A update is available, and the app can't self update this version ",ct="Major changes:",ut="Improves how the app runs in the background",_t='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',ft=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",ht='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',pt="Login to Twitch.TV using the user name you are trying to add a key for",vt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",gt="The web page will update and show a key code, the key only has lower case letters and nubers.",yt=" Add Authentication key",bt="Key added OK",wt="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Mt=" but this key is for user ",Et=" Following",St=" Follow",It=" And you have not set a authentication key the app can't check yours sub status.",Pt=" And you are not a sub of this channel",xt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",On="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Gt="Restart the",Ot=" Clip",Ut="Channel content",At="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Ht=" Followers",Ft=", Can't fallow or unfallow ",Dt="Game content",Rt="Yes",qt="Are you sure you want to remove the user ",Vt="Press Up to ",Jt="Followed Games",zt="Change between",Xt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wt="Started ",Kt=" (PG Up/Down)",Zt="Videos",$t=" Video",Qt="Replay",en="exiting in ",tn='press "Return" to exit',nn="Featured",an="Created at ",on="Open the Broadcast",sn="No Broadcast",dn="There is no Past Broadcast for this clip",ln="And because of that no chat",rn=" is now",cn="Open the Hosting",un="Player related",_n="Buffer size:",fn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",hn="Videos (Past Broadcast and Highlight) buffer",pn="Clips buffer",vn="General related",gn="Language",yn="Chat: Connecting to chat history server.."+aa+"Chat: Connected."+aa+"Chat: Joined channel ",bn="Play from the start or from where you stop watching last time?",kn=(wn="From:"+aa)+"Start",Cn="Chat: The Chat has ended!",Mn=": Most recent",En=": Most views",Sn="Set a authentication key to be able to see fallowed videos",In="Switch: Most recent or views",Pn="Enable",xn="Disable",Vn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",Gn="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",An="Side panel: Back key twice",Nn="Size ",Hn="Brightness ",Fn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Rn=" seconds",qn=" minutes",Jn="Clock offset",zn="Application language",Xn="Content language",jn="All",Yn="Empty game fro this",Kn="Isn't possible to jump during a buffering",Zn="Chat is disabled, enable in side pannel settings",$n="This clip/video fail to load can't replay",ta="Chat backgroung brightness "}var Ca=51,Ma=52,Ea=179,Sa=37,Ia=38,Pa=39,xa=40,La=13,Ta=49,Ba=8,Ga=13,Oa=32,Ua=46,Aa=0,Na=5,Ha=1e4,Fa=0,Da=!1,Ra=!1,qa=!1,Va=!1,Ja="",za="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Xa="elsu5d09k0xomu7cggx3qg5ybdwu7g",ja="https://id.twitch.tv/oauth2/token?";function Ya(e){Nr.Users_Position=Nr.Users_AddcodePosition,Fa=e,vi(),Xc(),$a()}function Wa(e,t,n,a){var i=new XMLHttpRequest,o=ja+"grant_type=refresh_token&client_id="+encodeURIComponent(uc)+"&client_secret="+encodeURIComponent(Xa)+"&refresh_token="+encodeURIComponent(Ai[e].refresh_token)+"&redirect_uri="+za;i.open("POST",o,!0),i.timeout=Ha,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?Za(i.responseText,e,n):Ka(e,t,n,a))},i.send(null)}function Ka(e,t,n,a){++t<10?Wa(e,t,n):a&&a()}function Za(e,t,n){var a=JSON.parse(e);Ai[t].access_token=a.access_token,Ai[t].refresh_token=a.refresh_token,to(),n&&n()}function $a(){var e=new XMLHttpRequest,t=ja+"grant_type=authorization_code&client_id="+encodeURIComponent(uc)+"&client_secret="+encodeURIComponent(Xa)+"&code="+encodeURIComponent(Fa)+"&redirect_uri="+za;e.open("POST",t,!0),e.timeout=Ha,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?ti(e.responseText):Qa())},e.send(null)}function Qa(){++Aa<Na?$a():ei()}function ei(){jc(),au(Lt),window.setTimeout(function(){iu(),qr=0,ku(),Nr.Main_Go=Ir,window.location=za},4e3),Ai[Nr.Users_Position].access_token=0,Ai[Nr.Users_Position].refresh_token=0}function ti(e){var t=JSON.parse(e);Ai[Nr.Users_Position].access_token=t.access_token,Ai[Nr.Users_Position].refresh_token=t.refresh_token,vi(),ni()}function ni(){N_("https://api.twitch.tv/kraken?oauth_token="+Ai[Nr.Users_Position].access_token,Ha,0,null,ai,ii)}function ai(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Ai[Nr.Users_Position].name)?(to(),qr=0,jc(),Da=AM=!1,Nr.Main_Go=Ir,ku(),au(bt),window.setTimeout(function(){window.location=za},3e3)):(Ai[Nr.Users_Position].access_token=0,Ai[Nr.Users_Position].refresh_token=0,Da=!1,au(On+Ai[Nr.Users_Position].name),window.setTimeout(function(){iu(),qr=0,ku(),Nr.Main_Go=Ir,window.location=za},4e3))}function ii(){++Aa<Na?(Ha+=500,ni()):ei()}function oi(){vi(),Ra=!1,si()}function si(){var e="https://api.twitch.tv/kraken/users/"+Ai[Nr.Users_Position].id+"/follows/channels/"+Ja,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ha,t.setRequestHeader(_c,uc),t.setRequestHeader(fc,pc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?di():404===t.status?li(t.responseText):ri())},t.send(null)}function di(){Da=!(Ra=!0),Va?uv():md()}function li(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(Da=Ra=!1,Va?uv():md()):ri()}function ri(){++Aa<Na?(Ha+=500,si()):(Da=!1,Va?uv():md())}function ci(){vi(),ui()}function ui(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ai[Nr.Users_Position].id+"/follows/channels/"+Ja,!0),e.timeout=Ha,e.setRequestHeader(_c,uc),e.setRequestHeader(fc,pc),e.setRequestHeader("Authorization","OAuth "+Ai[Nr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Ra=!(Da=!1),void(Va?uv():md());401===e.status||403===e.status?Wa(Nr.Users_Position,0,ci,null):_i()}},e.send(null)}function _i(){++Aa<Na&&(Ha+=500,ui())}function fi(){vi(),mi()}function mi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ai[Nr.Users_Position].id+"/follows/channels/"+Ja,!0),e.timeout=Ha,e.setRequestHeader(_c,uc),e.setRequestHeader(fc,pc),e.setRequestHeader("Authorization","OAuth "+Ai[Nr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Da=Ra=!1,void(Va?uv():md());401===e.status||403===e.status?Wa(Nr.Users_Position,0,fi,null):hi()}},e.send(null)}function hi(){++Aa<Na&&(Ha+=500,mi())}function pi(){vi(),qa=!1,gi()}function vi(){Ha=1e4,Da=!(Aa=0)}function gi(){var e,t="https://api.twitch.tv/kraken/users/"+Ai[Nr.Users_Position].id+"/subscriptions/"+Ja;if(Ec){if(!(e=Android.mreadUrl(t,Ha,3,Ai[Nr.Users_Position].access_token)))return void yi();if(200===(e=JSON.parse(e)).status)Da=!(qa=!0),wg();else if(422===e.status)Da=qa=!1,bg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Da=qa=!1,void bg();yi()}else 401===e.status||403===e.status?Wa(Nr.Users_Position,0,pi,bi):yi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ha,e.setRequestHeader(_c,uc),e.setRequestHeader(fc,pc),e.setRequestHeader("Authorization","OAuth "+Ai[Nr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Da=!(qa=!0),wg();else if(422===e.status)Da=qa=!1,bg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Da=qa=!1,void bg();yi()}else 401===e.status||403===e.status?Wa(Nr.Users_Position,0,pi,bi):yi()},e.send(null)}function yi(){++Aa<Na?(Ha+=500,gi()):bi()}function bi(){Da=qa=!1,bg()}function wi(e){vi(),ki(e,0)}function ki(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Ai[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?Da=!1:(vi(),Wa(e,0,null,null)));400===a.status?(vi(),Wa(e,0,null,null)):Ci(e,t)}},a.send(null)}function Ci(e,t){++t<Na&&ki(e,t)}function Mi(){vi(),Ei()}function Ei(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ai[Nr.Users_Position].name+"/follows/games/"+encodeURIComponent(Nr.Main_gameSelected)+"?oauth_token="+Ai[Nr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ko=!0,void Oo();401===e.status||403===e.status?Wa(Nr.Users_Position,0,Mi,null):Si()}},e.send(null)}function Si(){++Aa<Na&&(Ha+=500,Ei())}function Ii(){vi(),Pi()}function Pi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ai[Nr.Users_Position].name+"/follows/games/"+encodeURIComponent(Nr.Main_gameSelected)+"?oauth_token="+Ai[Nr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ko=!1,void Oo();401===e.status||403===e.status?Wa(Nr.Users_Position,0,Ii,null):xi()}},e.send(null)}function xi(){++Aa<Na&&(Ha+=500,Pi())}function Li(){vi(),Ti()}function Ti(){var e,t="https://api.twitch.tv/api/users/"+Ai[Nr.Users_Position].name+"/follows/games/"+encodeURIComponent(Nr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(ko=!0,void Oo()):404===e.status?(ko=!1,void Oo()):void Bi()},e.send(null)}function Bi(){++Aa<Na?(Ha+=500,Ti()):(ko=!1,Oo())}var Gi=0,Oi=5,Ui=3500,Ai=[],Ni=null,Hi=!1,Fi=!1;function Di(){Nr.Main_Go=hr,qc("top_bar_user","icon_center_focus"),iu(),or.placeholder=M,Dc("add_user_scroll"),Vi()}function Ri(){zi(!1),document.body.removeEventListener("keydown",qi),document.body.removeEventListener("keydown",Xi),Vc("top_bar_user","icon_center_focus"),Fc("add_user_scroll")}function qi(e){if(!Hi&&!Fi&&Nr.Main_Go===hr)switch(e.keyCode){case Ta:du()?su():uu()?cu():(0<Ai.length&&Nr.Main_Go!==Ir?Nr.Main_Go=Nr.Main_Before:Nr.Main_Go=mr,Ri(),bu());break;case Ma:case Ca:case Ea:case La:Vi()}}function Vi(){document.body.removeEventListener("keydown",qi),document.body.addEventListener("keydown",Xi,!1),or.placeholder=M,or.focus(),Fi=!0}function Ji(){if(null!==or){var e=or.cloneNode(!0);or.parentNode.replaceChild(e,or),or=document.getElementById("user_input")}}function zi(e){or.blur(),Ji(),document.body.removeEventListener("keydown",Xi),or.placeholder=E+M,e&&document.body.addEventListener("keydown",qi,!1),Fi=!1}function Xi(e){if(!Hi&&Nr.Main_Go===hr)switch(e.keyCode){case Ta:du()?su():uu()?cu():(0<Ai.length&&Nr.Main_Go!==Ir?Nr.Main_Go=Nr.Main_Before:Nr.Main_Go=mr,Ri(),bu());break;case Ua:or.value="";break;case Ga:case xa:""!==or.value&&null!==or.value?ao(Ni=ur||$i()?or.value:"testtwitch27")?(jc(),au(u+Ni+ie),window.setTimeout(function(){iu(),Vi()},1500)):(Ui=3500,Hi=!(Gi=0),Fc("add_user_scroll"),Xc(),ji()):Vi();break;case Ba:or.value=or.value.slice(0,-1);break;case Oa:or.value+=" "}}function ji(){N_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ni),Ui,2,null,Yi,Wi)}function Yi(e){JSON.parse(e)._total?(or.value="",document.body.removeEventListener("keydown",qi),Qi(e)):Ki()}function Wi(){++Gi<Oi?(Ui+=500,ji()):Ki()}function Ki(){Ni=null,jc(),au(ne),window.setTimeout(function(){Di()},1e3),Hi=!1}function Zi(){if(0<(Ai=G_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ai.length;e++)Ai[e].access_token&&wi(e)}function $i(){return 0<Ai.length}function Qi(e){Ni=JSON.parse(e).users[0],Ai.push({name:Ni.name,id:Ni._id,access_token:0,refresh_token:0}),to(),AM=!1,Ri(),HM(),Hi=!1}function eo(e){var t=Ai.indexOf(Ai[e]);-1<t&&Ai.splice(t,1),0<Ai.length?(AM=!1,HM()):Di(),to()}function to(){T_("AddUser_UsernameArray",JSON.stringify(Ai))}function no(e){Ni=Ai[0],Ai[0]=Ai[e],Ai[e]=Ni,AM=!1,HM(),to()}function ao(e){return-1!==Ai.indexOf(e)}function io(){return 0<Ai.length}var oo=0,so=0,lo=!1,ro=0,co={},uo=[],_o=!1,fo=0,mo=5,ho=3500,po=0,vo=0,go=!1,yo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],bo=!1,wo=!1,ko=!1,Co=!1,Mo=!1;function Eo(){Nr.Main_CenterLablesVectorPos=3,Nr.Main_Go=vr,document.body.addEventListener("keydown",Jo,!1),qc("top_bar_game","icon_center_focus"),Hc("label_side_panel","icon-arrow-circle-left",P),Nr.Search_isSearching&&(Su(),Jc("top_bar_user",n+Iu(f+" '"+Nr.Search_data+"'"))),Jc("top_bar_game",w+Iu(_+": "+Nr.Main_gameSelected)),Nr.Main_OldgameSelected===Nr.Main_gameSelected&&bo?(Ou(oo),Dc(yo[10]),Do(),ku()):Io()}function So(){bo&&-1===oo&&(Vo(),so=oo=0,qc(yo[0]+"0_"+so,yc)),Hc("label_side_panel","icon-ellipsis",An),Jc("top_bar_game",f),document.body.removeEventListener("keydown",Jo),Vc("top_bar_game","icon_center_focus"),Fc(yo[10])}function Io(){null===Nr.Main_OldgameSelected&&(Nr.Main_OldgameSelected=Nr.Main_gameSelected),Lu("stream_table_a_game"),Fc(yo[10]),Xc(),iu(),Mo=bo=!1,co={},ro=vo=po=0,oo=so=0,lo=!(C_=!(wo=!(uo=[]))),Qc(),Po(),xo()}function Po(){Bu(),_o=!0,fo=0,ho=3500}function xo(){var e=ro+po;e&&vo-1<e&&(e=vo-tc,lo=!0),N_("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Nr.Main_gameSelected)+"&limit="+tc+"&offset="+e+(""!==Yr?"&language="+Yr:""),ho,2,null,To,Lo)}function Lo(){++fo<mo?(ho+=500,xo()):(_o=!1,ro?(lo=!0,Bo()):(C_=!1,jc(),au(T)))}function To(e){var t=JSON.parse(e),n=t.streams.length;vo=parseInt(t._total),n<tc&&(lo=!0);var a=ro;go=!(ro+=n);var i=n/nc;0<n%nc&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!Mo){var f;for(Mo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+ga+N:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+Zt,(Xr=document.createElement("td")).setAttribute("id",yo[8]+"y_"+l),Xr.className="stream_cell",Xr.innerHTML='<div id="'+yo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+yo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Xr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/nc+l,d=document.createElement("tr"),o=0;o<nc&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,co[c]?o--:(co[c]=1,d.appendChild(Ru(s,s+"_"+o,[r.channel.name,c],yo,[r.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+zh(r.created_at)+b+", "+h+fu(r.viewers)+q,mu(r.video_height,r.average_fps,r.channel.language)])));for(;o<nc;o++)lo&&!wo&&(wo=!0,ro=s*nc+o),d.appendChild(Nu(yo[9]+s+"_"+o)),uo.push(yo[9]+s+"_"+o);_.appendChild(d)}Bo()}function Bo(){if(bo){if(Tu(Lc),0<uo.length&&!lo)return Po(),void No();eu(so,oo,nc,ro),uo=[]}else Go(),go?(au(B+$),oo=-1,qo()):(bo=!0,Tu(Lc),Do(),ku()),Dc(yo[10]),C_=!1,jc();_o=!1}function Go(){Co?(ko=!0,Oo()):$i()?Li():(ko=!1,Oo())}function Oo(){Jc(yo[3]+"y_2",ko?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+ga+ga+Et:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+ga+ga+($i()?St:Tt))}function Uo(){$i()&&Ai[Nr.Users_Position].access_token?ko?Ii():Mi():(au(Bt),window.setTimeout(function(){go&&Nr.Main_Go===vr?au(B+$):iu()},2e3))}function Ao(){so?1===so?(Nr.Main_Go=Gr,Nr.Main_OldgameSelected=Nr.Main_gameSelected,So(),bu()):Uo():(Nr.Main_Go=Br,Nr.Main_OldgameSelected=Nr.Main_gameSelected,So(),bu())}function No(){nu(uo.length);var e=ro+po;e&&vo-1<e&&(e=vo-cc,lo=!0),N_("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Nr.Main_gameSelected)+"&limit="+cc+"&offset="+e+(""!==Yr?"&language="+Yr:""),ho,2,null,Fo,Ho)}function Ho(){++fo<mo?(ho+=500,No()):(lo=!0,ro-=uo.length,uo=[],Bo())}function Fo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(vo=parseInt(a._total),i<cc&&(lo=!0);o<uo.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,co[n]?o--:(co[n]=1,qu(uo[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+zh(t.created_at)+b+", "+h+fu(t.viewers)+q,mu(t.video_height,t.average_fps,t.channel.language)],yo),d.push(o));for(o=d.length-1;-1<o;o--)uo.splice(d[o],1);po+=s,lo&&(ro-=uo.length,uo=[]),Bo()}function Do(){oo<0?qo():(Zu(oo,so,yo,nc,ro),ro/nc<oo+ac&&!lo&&!_o&&(Po(),xo()),Dr&&Ro())}function Ro(){-1<oo&&ro?o_(oo+"_"+so,yo):Vo()}function qo(){qc(yo[0]+"y_"+so,yc)}function Vo(){Vc(yo[0]+"y_"+so,yc)}function Jo(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(Nr.Main_OldgameSelected=Nr.Main_gameSelected,Ro(),Vo(),E_(Jo));break;case Sa:if(-1===oo)Vo(),--so<0&&(so=2),qo();else if(oo||so){if(pu(oo,so-1,yo[0]))Ro(),so--,Do();else for(t=nc-1;-1<t;t--)if(pu(oo-1,t,yo[0])){Ro(),oo--,so=t,Do();break}}else Ro(),Vo(),oo=-1,so=2,qo();break;case Pa:-1===oo?(Vo(),2<++so?(so=0,go?qo():(oo=0,Do())):qo()):pu(oo,so+1,yo[0])?(Ro(),so++,Do()):pu(oo+1,0,yo[0])&&(Ro(),oo++,so=0,Do());break;case Ia:if(-1!==oo||go)if(oo){for(t=0;t<nc;t++)if(pu(oo-1,so-t,yo[0])){Ro(),oo--,so-=t,Do();break}}else Ro(),oo=-1,qo();else oo=0,Vo(),Do();break;case xa:if(-1!==oo||go){for(t=0;t<nc;t++)if(pu(oo+1,so-t,yo[0])){Ro(),oo++,so-=t,Do();break}}else oo=0,Vo(),Do();break;case Ma:case Ca:case Ea:case La:-1!==oo?Qu(oo+"_"+so,yo,Jo):Ao()}}var zo=0,Xo=0,jo=!1,Yo=0,Wo={},Ko=[],Zo=!1,$o=0,Qo=5,es=3500,ts=0,ns=0,as=!1,is=!1,os="week",ss=2,ds=!1,ls=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],rs=!1,cs=!1,us="";function _s(){Nr.Main_CenterLablesVectorPos=3,Nr.Main_Go=Br,qc("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Is,!1),Hc("label_side_panel","icon-arrow-circle-left",P),us===Nr.Main_gameSelected&&rs?(Ou(zo),Dc(ls[10]),Ps(),Cs(),ku()):ms()}function fs(){rs&&Ms(),document.body.removeEventListener("keydown",Is),Vc("top_bar_game","icon_center_focus"),Jc("top_bar_game",f),Hc("label_side_panel","icon-ellipsis",An),Hc("label_switch","icon-switch",l),Fc(ls[10])}function ms(){rs&&Ms(),Lu("stream_table_a_game_vod"),Fc(ls[10]),Xc(),Ps(),us=Nr.Main_gameSelected,iu(),ds=rs=!1,ns=ts=0,Wo={},zo=Xo=Yo=0,jo=!(C_=!(is=!(Ko=[]))),Qc(),hs(),ps()}function hs(){Bu(),Zo=!0,$o=0,es=3500}function ps(){var e=Yo+ts;e&&ns-1<e&&(e=ns-tc,jo=!0),N_("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Nr.Main_gameSelected)+"&limit="+tc+"&broadcast_type="+(cs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+os+(""!==Yr?"&language="+Yr:""),es,2,null,gs,vs)}function vs(){++$o<Qo?(es+=500,ps()):(Zo=!1,Yo?(jo=!0,ys()):(C_=!1,jc(),au(T)))}function gs(e){var t=JSON.parse(e),n=t.vods.length;ns=parseInt(t._total),n<tc&&(jo=!0);var a=Yo;as=!(Yo+=n);var i=n/nc;0<n%nc&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!ds){var _;for(ds=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+p,(Xr=document.createElement("td")).setAttribute("id",ls[8]+"y_"+f),Xr.className="stream_cell",Xr.innerHTML='<div id="'+ls[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ls[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Xr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nc+f,d=document.createElement("tr"),o=0;o<nc&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||Wo[r]?o--:(Wo[r]=1,d.appendChild(vS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vc),l.channel.display_name,F+Pu(l.created_at),hk.parse(l.title)+aa+Wt+v+l.game,fu(l.views)+R,mu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Vh(l.length),l.animated_preview_url],ls)));for(;o<nc;o++)jo&&!is&&(is=!0,Yo=s*nc+o),d.appendChild(Nu(ls[9]+s+"_"+o)),Ko.push(ls[9]+s+"_"+o);u.appendChild(d)}ys()}function ys(){if(rs?Tu(Lc):(as?au(B+(cs?A:U)+G+I):(rs=!0,Tu(Lc),Cs(),ku()),Dc(ls[10]),C_=!1,jc()),0<Ko.length&&!jo)return hs(),void bs();eu(Xo,zo,nc,Yo),Zo=!(Ko=[])}function bs(){nu(Ko.length);var e=Yo+ts;e&&ns-1<e&&(e=ns-cc,jo=!0),N_("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Nr.Main_gameSelected)+"&limit="+cc+"&broadcast_type="+(cs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+os+(""!==Yr?"&language="+Yr:""),es,2,null,ks,ws)}function ws(){++$o<Qo?(es+=500,bs()):(jo=!0,Ko=[],ys())}function ks(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(ns=parseInt(a._total);o<Ko.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Wo[n]?o--:(Wo[n]=1,yS(Ko[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vc),t.channel.display_name,F+Pu(t.created_at),hk.parse(t.title)+aa+Wt+v+t.game,fu(t.views)+R,mu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Vh(t.length),t.animated_preview_url],ls),d.push(o));for(o=d.length-1;-1<o;o--)Ko.splice(d[o],1);ts+=s,jo&&(Yo-=Ko.length,Ko=[]),ys()}function Cs(){zo<0?Es():(Zu(zo,Xo,ls,nc,Yo),xS(ls,zo+"_"+Xo),Yo/nc<zo+ac&&!jo&&!Zo&&(hs(),ps()),Dr&&Ms())}function Ms(){window.clearInterval(RE),-1<zo&&Yo?(Dc(ls[1]+zo+"_"+Xo),o_(zo+"_"+Xo,ls)):Ss()}function Es(){var e=1<Xo?1:Xo;qc(ls[0]+"y_"+e,yc)}function Ss(){var e=1<Xo?1:Xo;Vc(ls[0]+"y_"+e,yc)}function Is(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(Ms(),E_(Is));break;case Sa:if(-1===zo)Ss(),--Xo<0&&(Xo=1),Es();else if(zo||Xo){if(pu(zo,Xo-1,ls[0]))Ms(),Xo--,Cs();else for(t=nc-1;-1<t;t--)if(pu(zo-1,t,ls[0])){Ms(),zo--,Xo=t,Cs();break}}else Ms(),Ss(),zo=-1,Xo=1,Es();break;case Pa:-1===zo?(Ss(),1<++Xo?(Xo=0,as?Es():(zo=0,Cs())):Es()):pu(zo,Xo+1,ls[0])?(Ms(),Xo++,Cs()):pu(zo+1,0,ls[0])&&(Ms(),zo++,Xo=0,Cs());break;case Ia:if(-1!==zo||as)if(zo){for(t=0;t<nc;t++)if(pu(zo-1,Xo-t,ls[0])){Ms(),zo--,Xo-=t,Cs();break}}else Ms(),zo=-1,Es();else zo=0,Ss(),Cs();break;case xa:if(-1!==zo||as){for(t=0;t<nc;t++)if(pu(zo+1,Xo-t,ls[0])){Ms(),zo++,Xo-=t,Cs();break}}else zo=0,Ss(),Cs();break;case Ma:case Ca:case Ea:case La:-1===zo?(0===Xo?T_("AGameVod_highlight",(cs=!cs)?"true":"false"):4<++ss&&(ss=1),ms()):n_(zo+"_"+Xo,ls,Is)}}function Ps(){1===ss?(Jc("top_bar_game",w+Iu((cs?A:U)+le+": "+Nr.Main_gameSelected)),os="day"):2===ss?(Jc("top_bar_game",w+Iu((cs?A:U)+re+": "+Nr.Main_gameSelected)),os="week"):3===ss?(Jc("top_bar_game",w+Iu((cs?A:U)+ce+": "+Nr.Main_gameSelected)),os="month"):4===ss&&(Jc("top_bar_game",w+Iu((cs?A:U)+ue+": "+Nr.Main_gameSelected)),os="all"),T_("AGameVod_periodNumber",ss)}var xs,Ls,Ts=0,Bs=0,Gs=!1,Os=0,Us=0,As=5,Ns=3500,Hs=0,Fs=!1,Ds=!1,Rs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],qs=!1,Vs="",Js=null,zs="",Xs="",js="",Ys="",Ws="",Ks={};function Zs(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=Mr,Ls&&!Nr.Search_isSearching&&Nr.Main_selectedChannel_id&&wd(),Vs!==Nr.Main_selectedChannel&&(qs=!1),Su(),Nr.Main_selectedChannelDisplayname=Nr.Main_selectedChannelDisplayname.replace(W,""),zc("top_bar_user",Nr.Main_selectedChannelDisplayname),zc("top_bar_game",Ut),document.body.addEventListener("keydown",kd,!1),Va=!1,qs?(Ou(Ts),Dc(Rs[10]),pd(),vd(),ku()):Qs()}function $s(){Eu(),document.body.removeEventListener("keydown",kd),Fc(Rs[10])}function Qs(){Lu("stream_table_channel_content"),Fc(Rs[10]),Xc(),iu(),Vs=Nr.Main_selectedChannel,Ys="",Gs=Fs=qs=!1,xs=void(Ts=Bs=Os=Hs=0),ed(),td()}function ed(){C_=!0,Us=0,Ns=3500}function td(){N_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==xs?xs:Nr.Main_selectedChannel_id),Ns,2,null,nd,ad)}function nd(e){null!==JSON.parse(e).stream?(Js=e,ed(),dd()):xs?(Js=null,ed(),dd()):(ed(),id())}function ad(){++Us<As?(Ns+=500,td()):(Js=null,ed(),dd())}function id(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Nr.Main_selectedChannel_id);if(Ec){if(!(e=Android.mreadUrl(t,Ns,1,null)))return void od();200===(e=JSON.parse(e)).status?sd(e.responseText):od()}else(e=new XMLHttpRequest).open("GET",Tc+t,!0),e.timeout=Ns,e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void sd(e.responseText);od()}},e.send(null)}function od(){++Us<As?(Ns+=500,id()):(Js=null,ed(),dd())}function sd(e){var t=JSON.parse(e);void 0!==(xs=t.hosts[0].target_id)?(ed(),td()):(Js=null,ed(),dd())}function dd(){N_("https://api.twitch.tv/kraken/channels/"+Nr.Main_selectedChannel_id,Gv,2,null,ld,rd)}function ld(e){var t=JSON.parse(e);zs=t.views,Xs=t.followers,js=t.description,Nr.Main_selectedChannelLogo=t.logo,cd()}function rd(){++Us<As?(Ns+=500,dd()):(js=Xs=zs="",Nr.Main_selectedChannelLogo=xc,cd())}function cd(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0,a=document.getElementById("stream_table_channel_content");if((Xr=document.createElement("tr")).className="follower_header",Xr.innerHTML='<div class="follower_header">'+hk.parse(js)+"</div>",a.appendChild(t),a.appendChild(Xr),null!==Js){var i=JSON.parse(Js);if(null!==i.stream){var o=void 0!==xs?Nr.Main_selectedChannelDisplayname+ae:"",s=i.stream;e.appendChild(ud("0_"+n,s.channel.name,s.preview.template,hk.parse(s.channel.status),s.game,hu(JSON.stringify(s.stream_type))+o+s.channel.display_name,y+zh(s.created_at)+b+", "+h+fu(s.viewers)+q,mu(s.video_height,s.average_fps,s.channel.language))),n++}else Fs=!0}else Fs=!0;e.appendChild(_d("0_"+n,Nr.Main_selectedChannelDisplayname,Nr.Main_selectedChannelDisplayname+U,"movie-play")),n++,e.appendChild(_d("0_"+n,Nr.Main_selectedChannelDisplayname,Nr.Main_selectedChannelDisplayname+N,"movie")),n<2&&(n++,e.appendChild(Nu(Rs[9]+"0_"+n))),a.appendChild(e),(e=document.createElement("tr")).appendChild(fd("1_0",Nr.Main_selectedChannelDisplayname,Nr.Main_selectedChannelDisplayname,Nr.Main_selectedChannelLogo)),a.appendChild(e),hd()}function ud(e,t,n,a,i,o,s,d){return Ys=n.replace("{width}x{height}",vc),(Xr=document.createElement("td")).setAttribute("id",Rs[8]+e),Xr.setAttribute(bc,t),Xr.className="stream_cell",Xr.innerHTML='<div id="'+Rs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Rs[1]+e+'" class="stream_img"></div><div id="'+Rs[2]+e+'" class="stream_text"><div id="'+Rs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==xs?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+ga+o+'</div><div id="'+Rs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Rs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Rs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Rs[6]+e+'"class="stream_info">'+s+"</div></div>",Xr}function _d(e,t,n,a){return(Xr=document.createElement("td")).setAttribute("id",Rs[8]+e),Xr.setAttribute(bc,t),Xr.className="stream_cell",Xr.innerHTML='<div id="'+Rs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Rs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Rs[2]+e+'" class="stream_text"><div id="'+Rs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Xr}function fd(e,t,n,a){return Ws=a,(Xr=document.createElement("td")).setAttribute("id",Rs[8]+e),Xr.setAttribute(bc,t),Xr.className="stream_cell",Xr.innerHTML='<div id="'+Rs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Rs[1]+e+'" class="stream_img_fallow"></div><div id="'+Rs[2]+e+'" class="stream_text"><div id="'+Rs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Rs[5]+e+'"class="stream_info">'+fu(zs)+R+'</div><div id="'+Rs[6]+e+'"class="stream_info" >'+fu(Xs)+Ht+"</div></div>",Xr}function md(){Ra?(Jc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),zc(Rs[3]+"1_0",Nr.Main_selectedChannelDisplayname+Et)):(Jc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),$i()?zc(Rs[3]+"1_0",Nr.Main_selectedChannelDisplayname+St):zc(Rs[3]+"1_0",Nr.Main_selectedChannelDisplayname+Ft))}function hd(){qs||(qs=!0,""!==Ys&&Bc(document.getElementById(Rs[1]+"0_0"),Ys,Lc),Bc(document.getElementById(Rs[1]+"1_0"),Ws,xc),vd(),ku(),Dc(Rs[10]),jc()),pd(),C_=!1}function pd(){Ds?md():$i()?(Ja=Nr.Main_selectedChannel_id,Va=!1,oi()):(Ra=!1,md())}function vd(){qc(Rs[0]+Ts+"_"+(Ts?0:Bs),yc),Dr&&gd(),Xu()}function gd(){o_(Ts+"_"+(Ts?0:Bs),Rs)}function yd(){if(Ts)$i()&&Ai[Nr.Users_Position].access_token?(Va=!1,Ja=Nr.Main_selectedChannel_id,Ra?fi():ci()):(au(Bt),window.setTimeout(iu,2e3));else{document.body.removeEventListener("keydown",kd),Fc(Rs[10]);var e=Fs?1:0;Bs===0-e?(Nr.Play_selectedChannel=document.getElementById(Rs[8]+Ts+"_"+Bs).getAttribute(bc),Nr.Play_selectedChannelDisplayname=document.getElementById(Rs[3]+Ts+"_"+Bs).textContent,-1!==Nr.Play_selectedChannelDisplayname.indexOf(ae)?(Nr.Play_isHost=!0,Nr.Play_DisplaynameHost=Nr.Play_selectedChannelDisplayname,Nr.Play_selectedChannelDisplayname=Nr.Play_selectedChannelDisplayname.split(ae)[1],Nr.Play_selectedChannel_id=xs):Nr.Play_selectedChannel_id=Nr.Main_selectedChannel_id,Nr.Play_gameSelected=document.getElementById(Rs[5]+Ts+"_"+Bs).textContent.split(v)[1],l_(e_)):Bs===1-e?l_(Wd):Bs===2-e&&(ny=Py,l_(dy))}}function bd(){Ks={"Main_values.Main_selectedChannel_id":Nr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Nr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Nr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Nr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Ds,"Main_values.Main_BeforeChannel":Nr.Main_BeforeChannel}}function wd(){Nr.Main_selectedChannel_id=Nr.Main_selectedChannel_id,Nr.Main_selectedChannelLogo=Nr.Main_selectedChannelLogo,Nr.Main_selectedChannel=Nr.Main_selectedChannel,Nr.Main_selectedChannelDisplayname=Nr.Main_selectedChannelDisplayname,Ds=Ks.ChannelContent_UserChannels,Nr.Main_BeforeChannel=Nr.Main_BeforeChannel,Ls=!(Ks={})}function kd(e){if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(gd(),E_(kd));break;case Sa:Ts||(gd(),--Bs<0&&(Bs=Fs?1:2),vd());break;case Pa:Ts||(gd(),(Fs?1:2)<++Bs&&(Bs=0),vd());break;case Ia:case xa:gd(),Ts=Ts?0:1,vd();break;case Ma:case Ca:case Ea:case La:yd()}}var Cd=0,Md=0,Ed=!1,Sd=0,Id={},Pd=[],xd=!1,Ld=0,Td=5,Bd=3500,Gd=0,Od=0,Ud=0,Ad=!1,Nd=!1,Hd="",Fd=!1,Dd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Rd=!1,qd=!1,Vd="",Jd="",zd="",Xd="",jd="",Yd=0;function Wd(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=Er,!Nr.Search_isSearching&&Nr.Main_selectedChannel_id&&wd(),Nr.Main_selectedChannel!==Vd&&(Rd=!1),Su(),Hc("label_side_panel","icon-arrow-circle-left",P),zc("top_bar_user",Nr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",cl,!1),Rd?(Ou(Cd),zc("top_bar_game",qd?A:U),Dc(Dd[10]),sl(),ku()):Zd()}function Kd(){Rd&&dl(),Eu(),document.body.removeEventListener("keydown",cl),Fc(Dd[10])}function Zd(){Rd&&dl(),Lu("stream_table_channel_vod"),Fc(Dd[10]),zc("top_bar_game",qd?A:U),Xc(),iu(),Vd=Nr.Main_selectedChannel,Od=Gd=0,Fd=Rd=!1,Id={},Cd=Md=Sd=0,Ed=!(C_=!(Nd=!(Pd=[]))),Qc(),$d(),Qd()}function $d(){Bu(),xd=!0,Ld=0,Bd=3500}function Qd(){var e=Sd+Gd;e&&Od-1<e&&(e=Od-tc,Ed=!0),N_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Nr.Main_selectedChannel_id)+"/videos?limit="+tc+"&broadcast_type="+(qd?"highlight":"archive")+"&sort=time&offset="+e,Bd,2,null,tl,el)}function el(){++Ld<Td?(Bd+=500,Qd()):(xd=!1,Sd?(Ed=!0,nl()):(C_=!1,jc(),au(T)))}function tl(e){var t=JSON.parse(e),n=t.videos.length;Od=parseInt(t._total),n<tc&&(Ed=!0);var a=Sd;Ad=!(Sd+=n);var i=n/nc;0<n%nc&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Fd){Fd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+p;(Xr=document.createElement("td")).setAttribute("id",Dd[8]+"y_0"),Xr.className="stream_cell",Xr.innerHTML='<div id="'+Dd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Dd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Xr),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/nc+h,d=document.createElement("tr"),o=0;o<nc&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=Lc),c||Id[r]?o--:(Id[r]=1,d.appendChild(vS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",vc),hk.parse(l.title),F+Pu(l.created_at),Wt+v+l.game,fu(l.views)+R,mu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Vh(l.length),l.animated_preview_url],Dd)));for(;o<nc;o++)Ed&&!Nd&&(Nd=!0,Sd=s*nc+o),d.appendChild(Nu(Dd[9]+s+"_"+o)),Pd.push(Dd[9]+s+"_"+o);f.appendChild(d)}nl()}function nl(){if(Rd?(eu(Md,Cd,nc,Sd),Tu(Lc)):(Ad?au(B+(qd?A:U)+G+I):(Rd=!0,Tu(Lc),sl(),ku()),Dc(Dd[10]),C_=!1,jc()),0<Pd.length&&!Ed)return $d(),void al();xd=!(Pd=[])}function al(){nu(Pd.length);var e=Sd+Gd;e&&Od-1<e&&(e=Od-cc,Ed=!0),N_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Nr.Main_selectedChannel_id)+"/videos?limit="+cc+"&broadcast_type="+(qd?"highlight":"archive")+"&sort=time&offset="+e,Bd,2,null,ol,il)}function il(){++Ld<Td?(Bd+=500,al()):(Ed=!0,Sd-=Pd.length,Pd=[],nl())}function ol(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Od=parseInt(a._total);o<Pd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Id[n]?o--:(Id[n]=1,yS(Pd[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vc),hk.parse(t.title),F+Pu(t.created_at),Wt+v+t.game,fu(t.views)+R,mu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Vh(t.length),t.animated_preview_url],Dd),d.push(o));for(o=d.length-1;-1<o;o--)Pd.splice(d[o],1);Gd+=s,Ed&&(Sd-=Pd.length,Pd=[]),nl()}function sl(){Cd<0?ll():(Zu(Cd,Md,Dd,nc,Sd),xS(Dd,Cd+"_"+Md),Sd/nc<Cd+ac&&!Ed&&!xd&&($d(),Qd()),Dr&&dl())}function dl(){window.clearInterval(RE),-1<Cd&&Sd?(Dc(Dd[1]+Cd+"_"+Md),o_(Cd+"_"+Md,Dd)):rl()}function ll(){qc(Dd[0]+"y_0",yc)}function rl(){Vc(Dd[0]+"y_0",yc)}function cl(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(dl(),E_(cl));break;case Sa:if(pu(Cd,Md-1,Dd[0]))dl(),Md--,sl();else for(t=nc-1;-1<t;t--)if(pu(Cd-1,t,Dd[0])){dl(),Cd--,Md=t,sl();break}break;case Pa:pu(Cd,Md+1,Dd[0])?(dl(),Md++,sl()):pu(Cd+1,0,Dd[0])&&(dl(),Cd++,Md=0,sl());break;case Ia:if(-1!==Cd||Ad)if(Cd){for(t=0;t<nc;t++)if(pu(Cd-1,Md-t,Dd[0])){dl(),Cd--,Md-=t,sl();break}}else dl(),Cd=-1,ll();else Cd=0,rl(),sl();break;case xa:if(-1!==Cd||Ad){for(t=0;t<nc;t++)if(pu(Cd+1,Md-t,Dd[0])){dl(),Cd++,Md-=t,sl();break}}else Cd=0,rl(),sl();break;case Ma:case Ca:case Ea:case La:-1===Cd?(T_("ChannelVod_highlight",(qd=!qd)?"true":"false"),Zd()):n_(Cd+"_"+Md,Dd,cl)}}var ul,_l,fl,ml,hl,pl=!1,vl=0,gl=[],yl=[],bl=10,wl=null,kl=0,Cl="",Ml=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],El=Ml.length,Sl=0,Il=!1,Pl=0;function xl(){ml=document.getElementById("chat_box"),Gl()}function Ll(){Wl(),Ec&&Nr.Play_ChatForceDisable?(pl||Gl(),l_(function(){Nl(Pl=(new Date).getTime())})):tr()}function Tl(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function Bl(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?document.head.appendChild(i):ml.appendChild(i)}function Gl(){vl=0,pl=!1,Ol()}function Ol(){N_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Al,Ul)}function Ul(){++vl<bl?Ol():pl=!1}function Al(e){Tl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Bl(t.type,e.type,e.image_url_4x,!0)})}),pl=!0}function Nl(e){vl=0,Hl(e)}function Hl(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+Nr.Main_selectedChannel_id+"/display";if(Ec){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Pl===e&&Fl(e));if(200===(t=JSON.parse(t)).status)return void(Pl===e&&Dl(t.responseText,e));Pl===e&&Fl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Pl===e&&Dl(t.responseText,e));Pl===e&&Fl(e)}},t.send(null)}function Fl(e){vl++,Pl===e&&(vl<bl?Hl(e):hl=window.setTimeout(function(){Hl(e)},2500))}function Dl(e,t){Tl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Bl(t.type,e.type,e.image_url_4x,!1)})}),Pl===t&&Rl(t)}function Rl(e){vl=0,Pl===e&&ql(e)}function ql(e){var t,n="https://api.twitch.tv/v5/videos/"+Nr.ChannelVod_vodId+"/comments?client_id="+uc+(kl?"&content_offset_seconds="+parseInt(kl):"");if(Ec){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Pl===e&&Vl(e));if(200===(t=JSON.parse(t)).status)return void(Pl===e&&Jl(t.responseText,e));Pl===e&&Vl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Pl===e&&Jl(t.responseText,e));Pl===e&&Vl(e)}},t.send(null)}function Vl(e){vl++,Pl===e&&(vl<bl?ql(e):_l=window.setTimeout(function(){ql(e)},2500))}function Jl(e,t){e=JSON.parse(e);var n,a,i=null===wl;i&&(n="&nbsp;",n+='<span class="message">',n+=aa+yn+Nr.Main_selectedChannelDisplayname+" "+Cl,zl(n+="</span>",0)),kl=0,wl=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Ml[e.commenter.display_name.charCodeAt(0)%El]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=hk.parse(e.text)}),n+="</span>",i?zl(n,e.content_offset_seconds):void 0!==wl&&Xl(n,e.content_offset_seconds)}),i&&Pl===t&&(jl(t),void 0!==wl&&Zl(t))}function zl(e,t){gl.push({time:t,message:e})}function Xl(e,t){yl.push({time:t,message:e})}function jl(e){Il||Pl!==e||(ul=window.setInterval(function(){Kl(e),ml.scrollTop=ml.scrollHeight},1e3))}function Yl(){Il||(window.clearInterval(hl),window.clearInterval(ul),window.clearInterval(_l),window.clearInterval(fl))}function Wl(){Yl(),Pl=0,Lu("chat_box"),Il=!1,wl=null,gl=[],yl=[],Sl=0}function Kl(e){var t,n;if(Sl<gl.length-1)for(n=Sl;n<gl.length&&gl[n].time<Yd+Android.gettime()/1e3;n++,Sl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=gl[n].message,ml.appendChild(t);else if(Yl(),void 0!==wl){gl=yl.slice(),Sl=0,jl(e),yl=[],Pl===e&&Zl(e);var a=document.getElementsByClassName("chat_line");if(0<a.length-100)for(n=0;n<a.length-100;n++)a[0].parentNode.removeChild(a[0]);ml.scrollTop=ml.scrollHeight}else{var i="&nbsp;";i+='<span class="message">',i+=aa+aa+Cn+aa+aa,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,ml.appendChild(t),Il=!0,ml.scrollTop=ml.scrollHeight,window.clearInterval(ul),ul=window.setInterval(function(){ml.scrollTop=ml.scrollHeight},250)}}function Zl(e){vl=0,Il||Pl!==e||$l(e)}function $l(e){var t,n="https://api.twitch.tv/v5/videos/"+Nr.ChannelVod_vodId+"/comments?client_id="+uc+(null!==wl?"&cursor="+wl:"");if(Ec){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Il||Pl!==e||Ql(e));if(200===(t=JSON.parse(t)).status)return void(Il||Pl!==e||Jl(t.responseText,e));Il||Pl!==e||Ql(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Il||Pl!==e||Jl(t.responseText,e));Il||Pl!==e||Ql(e)}},t.send(null)}function Ql(e){vl++,Pl===e&&(vl<bl?$l(e):fl=window.setTimeout(function(){$l(e)},2500))}function er(){Pl=0,nr(dn+aa+ln)}function tr(){Wl(),Fc("chat_frame"),Dc("chat_box"),nr(Zn)}function nr(e){var t="&nbsp;";t+='<span class="message">',t+=aa+aa+aa+aa+aa+aa+aa+aa+aa+aa,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,ml.appendChild(n)}var ar,ir,or,sr,dr,lr,rr,cr,ur=!0,_r=-1,fr=new Image,mr=1,hr=2,pr=3,vr=4,gr=5,yr=6,br=7,wr=8,kr=9,Cr=10,Mr=11,Er=12,Sr=13,Ir=14,Pr=15,xr=16,Lr=17,Tr=18,Br=19,Gr=20,Or=21,Ur=22,Ar="",Nr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:pr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Hr=!0,Fr=!0,Dr=!1,Rr=[],qr=0,Vr=0,Jr=null,zr=!0,Xr="",jr=!1,Yr="",Wr=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Kr=0,Zr=!0,$r=0,Qr=1.35,ec=1.5,tc=45,nc=3,ac=Math.floor(tc/nc/ec),ic=45,oc=5,sc=Math.floor(ic/oc/Qr),dc=48,lc=6,rc=Math.floor(dc/lc/ec),cc=6,uc="5seja5ptej058mxqy7gh5tcudjqtm9",_c="Client-ID",fc="Accept",mc="Authorization",hc="OAuth ",pc="application/vnd.twitchtv.v5+json",vc="528x297",gc="340x475",yc="stream_thumbnail_focused",bc="data_attribute",wc="1.0",kc="040919",Cc=wc+"-"+kc,Mc=0,Ec=0,Sc="?"+Math.random(),Ic="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Pc=Ic+"404_game.png",xc=Ic+"404_logo.png",Lc=Ic+"404_video.png",Tc="https://cors-anywhere.herokuapp.com/",Bc=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Gc(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Oc(window.navigator.userLanguage||window.navigator.language)}):Oc(window.navigator.userLanguage||window.navigator.language)}function Oc(e){l_(function(){try{Ec=Android.getAndroid()}catch(e){Ec=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)"}ak(),ka(),console.log("language is "+e),wa(),-1!==window.location.href.indexOf("code")&&A_(window.location.href),Uc()})}function Uc(){ay(),Ac(!0),ar=document.getElementById("scrollbar"),Cu(),Ar=Nr.Main_Go,l_(function(){rh(),Zi(),$i()&&(cr=window.setInterval(__,6e5),__()),document.body.addEventListener("keyup",Xu,!1),iy(),xl(),document.getElementById("side_panel").style.marginLeft="",xu(),Nc(),dS=O_("Vod_highlight",!1),qd=O_("ChannelVod_highlight",!1),cs=O_("AGameVod_highlight",!1),bE=O_("UserVod_highlight",!1),aS=B_("vod_periodNumber",2),ss=B_("AGameVod_periodNumber",2),pE=B_("UserVod_TypeNumber",1),zg(),ir=document.getElementById("search_input"),or=document.getElementById("user_input"),Au(Lc),Au(Pc),Au(xc),document.addEventListener("visibilitychange",c_,!1),dr=window.setInterval(u_,6e4),ny=By,dy(),sr=window.setTimeout(gu,5e3),Dc("topbar")})}function Ac(e){u_(),Hc("label_refresh","icon-refresh",t+Xt),Hc("label_switch","icon-switch",l),Hc("label_side_panel","icon-ellipsis",An),Hc("icon_feed_refresh","icon-refresh",t+" Press up"),zc("top_bar_live",_),zc("top_bar_user",e?u:a),zc("top_bar_featured",nn),zc("top_bar_game",f),zc("top_bar_vod",Zt),zc("top_bar_clip",N),Jc("scene2_search_text",ga+n),Jc("scene2_channel_text",ga+Ut),Jc("scene2_game_text",ga+Dt),zc("dialog_end_replay_text",Qt),zc("dialog_end_vod_text",on),zc("dialog_end_channel_text",Ut),zc("dialog_end_game_text",Dt),Jc("dialog_about_text",fa+ma),lr=[le,re,ce,ue],e?Zw():(nk(),xu())}function Nc(){zc("play_dialog_exit_text",V),zc("side_panel_search",n),zc("side_panel_settings",a),zc("side_panel_about",i),zc("side_panel_controls",e),zc("side_panel_exit",z),zc("side_panel_live",_),zc("side_panel_user",u),zc("side_panel_featured",nn),zc("side_panel_games",f),zc("side_panel_videos",Zt),zc("side_panel_clips",N),zc("side_panel_hide",o),zc("chanel_button",S),zc("game_button",f),zc("live_button",_),zc("exit_app_cancel",Y),zc("exit_app_close",X),zc("remove_cancel",Y),zc("remove_yes",Rt),zc("exit_app_minimize",j),zc("main_dialog_exit_text",J),Jc("dialog_controls_text",_a),zc("dialog_vod_text",bn),Jc("dialog_vod_start_text",kn)}function Hc(e,t,n){Jc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+ga+n+"</div>")}function Fc(e){document.getElementById(e).classList.add("hide")}function Dc(e){document.getElementById(e).classList.remove("hide")}function Rc(e){return-1===document.getElementById(e).className.indexOf("hide")}function qc(e,t){document.getElementById(e).classList.add(t)}function Vc(e,t){document.getElementById(e).classList.remove(t)}function Jc(e,t){document.getElementById(e).innerHTML=t}function zc(e,t){document.getElementById(e).textContent=t}function Xc(){Ou(-1),Ec?Android.mshowLoading(!0):Dc("dialog_loading")}function jc(){Ec?Android.mshowLoading(!1):Fc("dialog_loading")}function Yc(){window.clearTimeout(Jr)}function Wc(){Jr=window.setTimeout(Zc,6e3)}function Kc(){Wc(),Dc("main_dialog_exit"),document.body.addEventListener("keydown",b_,!1)}function Zc(){document.body.removeEventListener("keydown",b_,!1),E_(rr),Yc(),Fc("main_dialog_exit"),Vr=0,$c()}function $c(){Vc("exit_app_cancel","button_search_focused"),Vc("exit_app_minimize","button_search_focused"),Vc("exit_app_close","button_search_focused"),qc(Vr?1===Vr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Qc(){Lu("dialog_counter_text"),tu(0,0,0)}function eu(e,t,n,a){0<a?(zc("dialog_counter_text",t*n+(e+1)+"/"+a),tu(t,n,a)):Qc()}function tu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Nr.Main_Go===vr||Nr.Main_Go===Br||Nr.Main_Go===Gr||Nr.Main_Go===Er||Nr.Main_Go===Ur||Nr.Main_Go===Lr||Nr.Main_Go===Tr||Nr.Main_Go===Sr,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));ar.style.top=o+"px",zr&&(zr=!1,ar.style.backgroundColor="#777777")}else ar.style.backgroundColor="#000000",ar.style.top=a+"px",zr=!0}function nu(e){(cc=12)/3<e&&(cc=3*e),99<cc&&(cc=99)}function au(e){zc("dialog_warning_text",e),Dc("dialog_warning")}function iu(){Fc("dialog_warning")}function ou(){cu(),_u(),Dc("dialog_about")}function su(){Fc("dialog_about")}function du(){return Rc("dialog_about")}function lu(){cu(),_u(),iu(),Mu(Nr.Main_Go),Qc(),Ww()}function ru(){su(),_u(),Dc("dialog_controls")}function cu(){Fc("dialog_controls")}function uu(){return Rc("dialog_controls")}function _u(){Fc("dialog_update")}function fu(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function mu(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function hu(e){return-1!==e.indexOf("live")?"":W}function pu(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function vu(){u_(),bu(),document.body.addEventListener("keyup",Xu,!1)}function gu(){for(var e,t=0;t<Wr.length;t++)t<4?document.getElementById(Wr[t]).style.opacity="0.5":-1===(e=document.getElementById(Wr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");qc("topbar","topbar_dim")}function yu(){for(var e=0;e<Wr.length;e++)document.getElementById(Wr[e]).style.opacity="1";Vc("topbar","topbar_dim")}function bu(e){window.clearTimeout(sr),yu(),Nr.Main_Go!==Mr&&(Nr.Main_BeforeChannelisSet=!1),Nr.Main_Go!==vr&&(Nr.Main_BeforeAgameisSet=!1),l_(function(){wu(e)})}function wu(e){Qc(),Nr.Main_Go===mr?(ny=By,dy()):Nr.Main_Go===hr?Di():Nr.Main_Go===pr?(ny=Ly,dy()):Nr.Main_Go===vr?Eo():Nr.Main_Go===wr?iw():Nr.Main_Go===kr?Vb():Nr.Main_Go===Cr?Lw():Nr.Main_Go===Mr?Zs():Nr.Main_Go===Er?Wd():Nr.Main_Go===Sr?(ny=Py,dy()):Nr.Main_Go===Ir?HM():Nr.Main_Go===gr?fM():Nr.Main_Go===yr?dC():Nr.Main_Go===br?(ny=Ty,dy()):Nr.Main_Go===Pr?Tk():Nr.Main_Go===xr?hb():Nr.Main_Go===Lr?cS():Nr.Main_Go===Tr?(ny=Iy,dy()):Nr.Main_Go===Br?_s():Nr.Main_Go===Gr?(ny=xy,dy()):Nr.Main_Go===Or?(ny=Gy,dy()):Nr.Main_Go===Ur&&wE(),sr=window.setTimeout(gu,3e3),e&&x_()}function ku(){T_("Main_values",JSON.stringify(Nr))}function Cu(){Nr=sy(Nr,G_("Main_values",{}))}function Mu(e){e===mr?ly():e===hr?Ri():e===pr?ly():e===vr?So():e===wr?ow():e===kr?Jb():e===Cr?Tw():e===Mr?$s():e===Er?Kd():e===Sr?ly():e===Ir?FM():e===gr?mM():e===yr?lC():e===br?ly():e===Pr?Bk():e===xr?pb():e===Lr?uS():e===Tr?ly():e===Br?fs():e===Gr?ly():e===Or?ly():e===Ur&&kE(),Rc("settings_scroll")&&Kw()}function Eu(){Hc("label_refresh","icon-refresh",t+Xt),Hc("label_side_panel","icon-ellipsis",An),Fc("label_switch"),Vc("top_bar_user","icon_center_focus"),zc("top_bar_live",_),zc("top_bar_user",u),zc("top_bar_featured",nn),zc("top_bar_game",f),zc("top_bar_vod",Zt),zc("top_bar_clip",N)}function Su(){Hc("label_side_panel","icon-arrow-circle-left",P),Lu("top_bar_live"),Lu("top_bar_game"),Lu("top_bar_vod"),Lu("top_bar_clip"),Lu("top_bar_featured"),qc("top_bar_user","icon_center_focus")}function Iu(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function Pu(e){return e=new Date(e),jr?e.getDate()+" "+jt[e.getMonth()]+", "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function xu(){Jc("dialog_about_text",fa+be+Cc+ma)}function Lu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function Tu(e){for(var t,n=0;n<Rr.length;n++)null!==(t=document.getElementById(Rr[n].id))&&Bc(t,Rr[n].src+Sc,e)}function Bu(){Rr=[]}function Gu(e,t){Rr.push({id:e,src:t})}function Ou(e){_r=e}function Uu(e){var t=0;return _r<e?t=-1:e<_r&&(t=1),_r=e,t}function Au(e){fr.src=e}function Nu(e){return(Xr=document.createElement("td")).setAttribute("id",e),Xr.className="stream_cell",Xr}function Hu(e,t,n){return(Xr=document.createElement("td")).setAttribute("id",t[4]+e),Xr.setAttribute(bc,n[0]),Xr.setAttribute("data-id",n[1]),Xr.className="stream_cell",Xr.innerHTML=Du(e,t,n),Xr}function Fu(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(bc,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=Du(i,n,t),a.setAttribute("id",n[4]+i)}function Du(e,t,n){return Gu(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function Ru(e,t,n,a,i){return e<nc&&Au(i[0]),(Xr=document.createElement("td")).setAttribute("id",a[8]+t),Xr.setAttribute(bc,JSON.stringify(n)),Xr.className="stream_cell",Xr.innerHTML=Vu(t,a,i),Xr}function qu(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(bc,JSON.stringify(t)),i.innerHTML=Vu(o,a,n),i.setAttribute("id",a[8]+o)}function Vu(e,t,n){return Gu(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+hk.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Ju(e,t,n){return(Xr=document.createElement("td")).setAttribute("id",t[5]+e),Xr.setAttribute(bc,n[0]),Xr.className="stream_cell",Xr.innerHTML=zu(e,t,n),Xr}function zu(e,t,n){return Gu(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Xu(){Fr=!0}function ju(){Hr=!0}function Yu(){Hr=!1,window.setTimeout(ju)}function Wu(){return!Hr||!Fr}function Ku(e,t,n,a,i){qc(n[0]+e+"_"+t,yc),eu(t,e,a,i),Uu(e)?1<e?pu(e+1,0,n[0])?i_(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Xu():i_(n[6],.07*screen.height):Xu()}function Zu(e,t,n,a,i){qc(n[0]+e+"_"+t,yc),eu(t,e,a,i),Uu(e)?e?pu(e+1,0,n[0])&&i_(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):i_(n[10],.07*screen.height):Xu()}function $u(e,t,n,a,i){qc(n[0]+e+"_"+t,yc),eu(t,e,a,i),Uu(e)?i_(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Xu()}function Qu(e,t,n){document.body.removeEventListener("keydown",n),Nr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(bc)),Nr.Play_selectedChannel_id=Nr.Play_selectedChannel[1],Nr.Play_selectedChannel=Nr.Play_selectedChannel[0],Nr.Main_Go===yr?(Nr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Nr.Play_selectedChannelDisplayname=Nr.Play_DisplaynameHost.split(ae)[1],Nr.Play_isHost=!0):Nr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Nr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Nr.Main_Go===vr&&(Nr.Main_OldgameSelected=Nr.Main_gameSelected),e_()}function e_(){document.body.addEventListener("keydown",fv,!1),Fc("scene1"),Dc("scene2"),_p(),yp(),Ap(),l_(_h)}function t_(e,t,n){document.body.removeEventListener("keydown",n),Hy=JSON.parse(document.getElementById(t[8]+e).getAttribute(bc)),rf=parseInt(Hy[1]),Nr.Play_gameSelected=Hy[2],Nr.Main_selectedChannel=Hy[3],Nr.Main_selectedChannelDisplayname=Hy[4],Nr.Main_selectedChannelLogo=Hy[5],Nr.Main_selectedChannel_id=Hy[6],Nr.ChannelVod_vodId=Hy[7],Yd=parseInt(Hy[8]),Ny=Hy[9],Dy=Hy[10],Uy=Hy[11],Hy=Hy[0],Fy=document.getElementById(t[4]+e).textContent,Ay=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Bf,!1),Fc("scene1"),Dc("scene2"),yp(),lp(),tp(),ip(),l_(cf)}function n_(e,t,n){document.body.removeEventListener("keydown",n),Nr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(bc)),Ud=parseInt(Nr.ChannelVod_vodId[1]),Hd=Nr.ChannelVod_vodId[2],Nr.Play_gameSelected=Nr.ChannelVod_vodId[3],Nr.Main_selectedChannel=Nr.ChannelVod_vodId[4],th=Nr.ChannelVod_vodId[5],Nr.ChannelVod_vodId=Nr.ChannelVod_vodId[0].substr(1),Nr.Main_Go===Er?Jd=document.getElementById(t[3]+e).innerHTML:(Jd="",Nr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),Xd=document.getElementById(t[4]+e).textContent,jd=document.getElementById(t[5]+e).textContent,zd=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,a_()}function a_(){document.body.addEventListener("keydown",ty,!1),Fc("scene1"),Dc("scene2"),xg(),yp(),lp(),ip(),Kv=!1,l_(ag)}function i_(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Xu,10)}function o_(e,t){Fr=!1,Vc(t[0]+e,yc)}function s_(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||d_(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function d_(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function l_(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function r_(){var e=(new Date).getTime()+Mc;return e=new Date(e),(jr?Yt[e.getDay()]+" "+e.getDate()+"/"+jt[e.getMonth()]:Yt[e.getDay()]+" "+jt[e.getMonth()]+"/"+e.getDate())+" "+qh(e.getHours())+":"+qh(e.getMinutes())}function c_(){document.hidden||(u_(),window.setTimeout(u_,2e4))}function u_(){document.hidden||(zc("label_clock",r_()),Sc="?"+Math.random())}function __(){document.hidden||!$i()||Hp()||wC||(Qf=Ai[Nr.Users_Position].name,AC())}function f_(){qc("side_panel_"+$r,"side_panel_text_focus")}function m_(){Vc("side_panel_"+$r,"side_panel_text_focus")}function h_(){$r?1===$r?lu():2===$r?(document.body.addEventListener("keydown",rr,!1),ou()):3===$r?(document.body.addEventListener("keydown",rr,!1),ru()):4===$r?Kc(rr):5===$r?p_(mr):6===$r?p_(io()?Ir:hr):7===$r?p_(Or):8===$r?p_(pr):9===$r?p_(Lr):10===$r&&p_(Tr):Nr.Main_Go!==wr?(Nr.Search_isSearching||Nr.Main_Go!==Mr&&Nr.Main_Go!==Sr&&Nr.Main_Go!==Er||bd(),Nr.Main_BeforeSearch=Nr.Main_Go,Nr.Main_Go=wr,Mu(Nr.Main_BeforeSearch),bu()):document.body.addEventListener("keydown",rr,!1),g_()}function p_(e){e===Nr.Main_Go?document.body.addEventListener("keydown",rr,!1):(Nr.Main_Before=Nr.Main_Go,Nr.Main_Go=e,Mu(Nr.Main_Before),bu())}function v_(e){rr=e,document.body.removeEventListener("keydown",rr),document.body.addEventListener("keydown",y_,!1),Vc("side_panel","side_panel_hide")}function g_(){document.body.removeEventListener("keydown",y_),qc("side_panel","side_panel_hide"),m_(),$r=0,f_()}function y_(e){switch(e.keyCode){case Ta:case Sa:document.body.addEventListener("keydown",rr,!1),g_(),I_();break;case Ia:$r&&(m_(),$r--,f_());break;case xa:$r<10&&(m_(),$r++,f_());break;case La:h_()}}function b_(e){switch(e.keyCode){case Ta:Zc();break;case Pa:2<++Vr&&(Vr=0),$c(),Yc(),Wc();break;case Sa:--Vr<0&&(Vr=2),$c(),Yc(),Wc();break;case La:Vr?Ec&&1===Vr?Android.mclose(!1):Ec&&2===Vr&&Android.mclose(!0):Zc()}}Gc();var w_=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],k_=[mr,Ir,Or,pr,Lr,Tr],C_=!1;function M_(e){if(!(C_||ny.FirstLoad||Wu()))switch(e.keyCode){case Ta:uu()?(I_(),cu()):du()?(I_(),su()):Nr.Main_Go===vr?(Nr.Main_OldgameSelected=Nr.Main_gameSelected,Nr.Games_return?(Nr.Main_Go=kr,Nr.Main_gameSelected=Nr.gameSelectedOld):(Nr.Main_Go=Nr.Main_BeforeAgame,Nr.Main_BeforeAgame=mr),So(),S_(),wu()):Nr.Main_Go===Gr?(Cy(vr),S_(),wu()):Nr.Main_Go===br?(Cy(Ir),S_(),wu()):Nr.Main_Go===Sr?(Cy(Mr),S_(),wu()):Nr.Main_Go===Br?(Nr.Main_Go=vr,fs(),S_(),wu()):Nr.Main_Go===gr?(Nr.Main_Go=Ir,mM(),S_(),wu()):Nr.Main_Go===yr?(Nr.Main_Go=Ir,lC(),S_(),wu()):Nr.Main_Go===Ur?(Nr.Main_Go=Ir,kE(),S_(),wu()):Nr.Main_Go===Pr?(Nr.Main_Go=Ir,Bk(),S_(),wu()):Nr.Main_Go===Mr?(Nr.Main_Go=Nr.Main_BeforeChannel,Nr.Main_BeforeChannel=mr,$s(),Nr.Main_selectedChannel_id="",S_(),wu()):Nr.Main_Go===Er?(Nr.Main_Go=Mr,Kd(),S_(),wu()):Nr.Main_Go===Cr?(Nr.Main_Go===Nr.Main_BeforeSearch?Nr.Main_Go=mr:Nr.Main_Go=Nr.Main_BeforeSearch,Tw(),Nr.Search_isSearching=!1,S_(),wu()):Nr.Main_Go===kr?(Nr.Main_Go===Nr.Main_BeforeSearch?Nr.Main_Go=mr:Nr.Main_Go=Nr.Main_BeforeSearch,Nr.Search_isSearching=!1,Jb(),S_(),wu()):Nr.Main_Go===xr?(Nr.Main_Go===Nr.Main_BeforeSearch?Nr.Main_Go=mr:Nr.Main_Go=Nr.Main_BeforeSearch,Nr.Main_selectedChannel_id&&wd(),pb(),Nr.Search_isSearching=!1,S_(),wu()):(S_(),v_(M_));break;case Pa:if(Nr.Search_isSearching||Nr.Main_Go===Mr||Nr.Main_Go===Er||Nr.Main_Go===Sr||Nr.Main_Go===Cr||Nr.Main_Go===kr||Nr.Main_Go===xr)break;Vc(w_[Nr.Main_CenterLablesVectorPos],"icon_center_line"),Nr.Main_CenterLablesVectorPos++,5<Nr.Main_CenterLablesVectorPos&&(Nr.Main_CenterLablesVectorPos=0),I_(),P_();break;case Sa:if(Nr.Search_isSearching||Nr.Main_Go===Mr||Nr.Main_Go===Er||Nr.Main_Go===Sr||Nr.Main_Go===Cr||Nr.Main_Go===kr||Nr.Main_Go===xr)break;Vc(w_[Nr.Main_CenterLablesVectorPos],"icon_center_line"),Nr.Main_CenterLablesVectorPos--,Nr.Main_CenterLablesVectorPos<0&&(Nr.Main_CenterLablesVectorPos=5),I_(),P_();break;case xa:Vc(w_[Nr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",M_),Dr=!1,wu();break;case La:L_()}}function E_(e){window.clearTimeout(sr),yu(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",M_),document.body.addEventListener("keydown",M_,!1),I_()}function S_(){Vc(w_[Nr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",M_),Dr=!1}function I_(){Dr=!0,qc(w_[Nr.Main_CenterLablesVectorPos],"icon_center_line")}function P_(){Mu(Nr.Main_Go),Nr.Main_Go=k_[Nr.Main_CenterLablesVectorPos],Nr.Main_Go!==Ir||io()?bu(!0):(Nr.Main_Go=hr,S_(),bu())}function x_(){Nr.Main_Go===mr?(ny=By,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===Ir?document.body.removeEventListener("keydown",eE):Nr.Main_Go===vr?document.body.removeEventListener("keydown",Jo):Nr.Main_Go===Or?(ny=Gy,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===Cr?document.body.removeEventListener("keydown",Vw):Nr.Main_Go===kr?document.body.removeEventListener("keydown",ew):Nr.Main_Go===xr?document.body.removeEventListener("keydown",xb):Nr.Main_Go===Er?document.body.removeEventListener("keydown",cl):Nr.Main_Go===Mr?document.body.removeEventListener("keydown",kd):Nr.Main_Go===yr?document.body.removeEventListener("keydown",bC):Nr.Main_Go===Ur?document.body.removeEventListener("keydown",FE):Nr.Main_Go===Pr?document.body.removeEventListener("keydown",Vk):Nr.Main_Go===pr?(ny=Ly,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===Sr?(ny=Py,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===Lr?document.body.removeEventListener("keydown",LS):Nr.Main_Go===Tr?(ny=Iy,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===Gr?(ny=xy,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===br?(ny=Ty,document.body.removeEventListener("keydown",Sy)):Nr.Main_Go===Br?document.body.removeEventListener("keydown",Is):Nr.Main_Go===gr&&document.body.removeEventListener("keydown",xM)}function L_(){window.clearTimeout(sr),yu(),Nr.Main_Go!==Mr&&(Nr.Main_BeforeChannelisSet=!1),Nr.Main_Go!==vr&&(Nr.Main_BeforeAgameisSet=!1),Qc(),Nr.Main_Go===mr?(ny=By,ry()):Nr.Main_Go===Ir?DM():Nr.Main_Go===Or?(ny=Gy,ry()):Nr.Main_Go===vr?Io():Nr.Main_Go===Pr?Gk():Nr.Main_Go===Mr?Qs():Nr.Main_Go===Er?Zd():Nr.Main_Go===Cr?Bw():Nr.Main_Go===kr?zb():Nr.Main_Go===xr?vb():Nr.Main_Go===pr?(ny=Ly,ry()):Nr.Main_Go===br?(ny=Ty).loadingData||ny.key_refresh():Nr.Main_Go===Lr?_S():Nr.Main_Go===Tr?(ny=Iy,ry()):Nr.Main_Go===Gr?(ny=xy,ry()):Nr.Main_Go===Sr?(ny=Py,ry()):Nr.Main_Go===Br?ms():Nr.Main_Go===gr?hM():Nr.Main_Go===yr?rC():Nr.Main_Go===Ur&&CE(),sr=window.setTimeout(gu,3e3)}function T_(e,t){localStorage.setItem(e,t)}function B_(e,t){return parseInt(localStorage.getItem(e))||t}function G_(e,t){return JSON.parse(localStorage.getItem(e))||t}function O_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function U_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function A_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),qr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function N_(e,t,n,a,i,o,s){var d;if(Ec){if(!(d=Android.mreadUrl(e,t,n,a)))return void o();200===(d=JSON.parse(d)).status?i(d.responseText):o()}else(d=new XMLHttpRequest).open("GET",(s?Tc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(_c,uc),1<n&&d.setRequestHeader(fc,pc),2<n&&d.setRequestHeader(mc,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var H_=0,F_=null,D_=0,R_=!1,q_=0,V_=0,J_=!1,z_=0,X_=2e3,j_=5,Y_="source",W_=Y_,K_=0,Z_=[],$_="",Q_=!1,ef=0,tf=0,nf=1,af=!1,of=0,sf=!1,df=!1,lf=[0,5],rf=0;function cf(){$h(),Ap(),kh(document.getElementById("stream_info_icon"),Nr.Main_selectedChannelLogo),zc("stream_info_name",Nr.Main_selectedChannelDisplayname),Jc("stream_info_title",Ny),Jc("stream_info_game",Uy+", "+Ay+", "+Dy),zc("stream_live_icon",Fy),zc("progress_bar_duration",Vh(rf)),Rg((nh=lf)[1]),Nr.Play_isHost=!1,zc("progress_bar_current_time",Vh(0)),zc("stream_live_time",""),zc("stream_watching_time",""),af=null!==Nr.ChannelVod_vodId,Cl=Ot+".",af?(kl=Yd,Ll()):er(),Jc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Dc("progress_pause_holder"),Lf(),zm=0,Dc("scene_channel_panel_bottom"),Dc("chat_box"),Fc("chat_frame"),D_=of=0,window.clearInterval(F_),df=!1,Xf=-13,ef=tf=0,K_=2,$p(3),Gm=!1,Tp(),$i()?(Va=!0,Ja=Nr.Main_selectedChannel_id,oi()):Zh(),document.addEventListener("visibilitychange",gf,!1),R_=!1,J_=!(V_=q_=0),uf(),document.body.removeEventListener("keyup",Xu)}function uf(){z_=0,X_=2e3,_f()}function _f(){N_("https://clips.twitch.tv/api/v2/clips/"+Hy+"/status",X_,1,null,mf,ff,!0)}function ff(){++z_<j_?(X_+=250,_f()):(Qh(),Play_PannelEndStart(3))}function mf(e){Z_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Z_.length?Z_.push({id:e[t].quality+"p"+hf(e[t].frame_rate),url:e[t].source}):Z_.push({id:e[t].quality+"p"+hf(e[t].frame_rate)+" (source)",url:e[t].source});tf=nf,pf()}function hf(e){return 40<e?60:""}function pf(){window.clearInterval(F_),$_=Z_[K_=0].url,-1!==Y_.indexOf("source")&&(Y_="source");for(var e=0;e<If();e++){if(Z_[e].id===Y_){$_=Z_[K_=e].url;break}-1!==Z_[e].id.indexOf(Y_)&&($_=Z_[K_=e].url)}W_=Y_,ur||console.log("PlayClip_onPlayer:",'\n\n"'+$_+'"\n'),tf=nf,Ec&&J_&&Android.startVideoOffset($_,3,Q_?-1:Android.gettime()),Q_=!1,vf()}function vf(){_m&&!bp()&&gp(),Ec&&(D_=0,sf=!($m=4),window.clearInterval(F_),F_=window.setInterval(yf,Qm))}function gf(){document.hidden&&wf()}function yf(){Ec&&(ef=Android.gettime()),J_&&H_===ef&&!Dh()?++D_>$m&&(sf&&df&&K_<If()-1?K_++:!sf&&df&&of++,navigator.onLine?1<of?Fh(of,3,bf):(Pf(),pf(),df=!0):Hh(!1,3)):(D_=of=0,df=!1),H_=ef}function bf(e){if(!e){if(!(K_<If()-1))return void Hh(!1,3);K_++}of=0,Pf(),pf(),df=!0}function wf(){J_&&(Z_=[],kf(),ip(),Yh())}function kf(){window.clearInterval(F_),Ec&&Android.stopVideo(3),J_=!1,Wl(),Wh(),Dp(),document.body.removeEventListener("keydown",Bf),document.removeEventListener("visibilitychange",gf),Cf(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",Yd=0}function Cf(){qv=!1,Rv=Vv=0,hp(),Y_=W_,document.getElementById("scene_channel_panel").style.opacity="0",Ec&&Hg(Android.gettime()/1e3,rf,!0),Jc("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(pv)}function Mf(){Ef(),Rh(),pv=window.setInterval(Ef,1e3),ip(),Bg(),Sf(),Pf(),document.getElementById("scene_channel_panel").style.opacity="1",xf()}function Ef(){Ec&&Hg(Android.gettime()/1e3,rf,!qv)}function Sf(){for(var e=K_=0;e<If();e++){if(Z_[e].id===Y_){K_=e;break}-1!==Z_[e].id.indexOf(Y_)&&(K_=e)}}function If(){return Z_.length}function Pf(){1===If()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):K_?K_===If()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Y_=Z_[K_].id).indexOf("source")?zc("quality_name",Y_.replace("source",ye)):zc("quality_name",Y_)}function xf(){Wf=window.setTimeout(Cf,5e3+Zv)}function Lf(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",zc("open_vod_text",af?on:sn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Tf(){af?(Nr.vodOffset=Yd,kf(),document.body.addEventListener("keydown",ty,!1),Tp(),l_(ag)):(Gm=!0,ep(dn),window.setTimeout(function(){Gm=!1,tp()},2e3))}function Bf(e){if(tf!==nf)switch(e.keyCode){case Ta:op()?(ip(),wf()):ap()}else switch(e.keyCode){case Sa:Hp()?em&&(zp(),em--,Vp()):$f&&!up()&&bp()?(Jf++,Ip()):up()?(hp(),Wv?(Gp(),5<++Bm&&(Bm=0),Bp()):(Vg(-1,rf),Zv=2500),xf()):Np()?(Kp(),Yp(),--Hm<0&&(Hm=3),jp()):Mf();break;case Pa:Hp()?em<SC-1&&(zp(),em++,Vp()):!$f||up()||Np()?up()?(hp(),Wv?(Gp(),--Bm<0&&(Bm=5),Bp()):(Vg(1,rf),Zv=2500),xf()):Np()?(Kp(),Yp(),3<++Hm&&(Hm=0),jp()):Mf():T_("ChatEnable",(_m=bp()||Np()?(yp(),!1):(gp(),!0))?"true":"false");break;case Ia:Np()?Kp():up()?(2===Wv&&1!==Bm?(Wv--,Gg()):1===Wv?(Wv--,Gg()):0<K_&&1===Bm&&(K_--,Pf()),hp(),xf()):Hp()?Hp()?qp():Mf():Fp();break;case xa:Np()?Kp():up()?(Wv?1===Wv?(Wv++,Gg()):K_<If()-1&&1===Bm&&(K_++,Pf()):(Wv++,Gg()),hp(),xf()):Hp()?Dp():$f&&bp()?(4<++Yf?Sp(!(Yf=1)):4===Yf&&Sp(!0),Mp(!0)):Mf();break;case La:Np()?Zp(3):up()?Wv?1===Wv?(af&&Nr.Play_ChatForceDisable&&(Dh()?jl(Pl):Yl()),Np()||Lp(3)):av(3):(hp(),xf(),Rv&&Fg()):Hp()?(kf(),Qu(em,UC,fv)):Mf();break;case Ta:up()?Cf():Hp()?Dp():op()?(ip(),wf()):ap();break;case Ma:case Ca:case Ea:af&&!Nr.Play_ChatForceDisable&&(Dh()?jl(Pl):Yl()),Np()||Lp(3)}}var Gf,Of,Uf,Af,Nf,Hf,Ff,Df,Rf,qf,Vf,Jf=0,zf=Jf,Xf=-5,jf=.55,Yf=3,Wf=null,Kf="source",Zf=Kf,$f=!0,Qf="",em=0,tm=0,nm=1,am=2,im=0,om=null,sm=0,dm=0,lm=0,rm="",cm=[],um=0,_m=!1,fm=null,mm=null,hm=null,pm="",vm=0,gm=5,ym=0,bm=5,wm=0,km=!1,Cm=null,Mm=!1,Em=0,Sm=null,Im=0,Pm=0,xm=!1,Lm=!1,Tm=!1,Bm=1,Gm=!1,Om=!1,Um=1e4,Am=2e3,Nm="",Hm=0,Fm=3,Dm=null,Rm="",qm=0,Vm=0,Jm=0,zm=0,Xm="",jm=!0,Ym=!1,Wm=!1,Km=0,Zm=!1,$m=4,Qm=1500,eh=0,th="",nh=[],ah=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],ih=[0,0,0,1,2,2,2,1],oh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],sh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],dh=1,lh=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function rh(){Ff=document.getElementById("chat_frame"),Rf=document.getElementById("chat_container"),Vf=document.getElementById("inner_progress_bar"),Jf=B_("ChatPositionsValue",0),Yf=B_("ChatSizeValue",3),_m=O_("ChatEnable",!1),$f=O_("Play_isFullScreen",!0),Mp(!1),Ep(!1),uh()}function ch(e){e?void 0!==Gf&&(Jf=Gf,Yf=Uf,(_m=Of)||yp(),Mp(!1)):(Gf=Jf,Of=_m,Uf=Yf,Jf=0,gp(),Yf=4,Sp(_m=!0),Mp(!1),ml&&(ml.scrollTop=ml.scrollHeight)),T_("Play_isFullScreen",$f)}function uh(){dh=sk("chat_font_size");for(var e=0;e<lh.length;e++)Vc("chat_inner_container",lh[e]);qc("chat_inner_container",lh[dh])}function _h(){$h(),Jc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+ga+_.toUpperCase()+"</div>"),Lu("stream_info_title"),af=!(Om=!1),kh(document.getElementById("stream_info_icon"),xc),Nr.Play_isHost?zc("stream_info_name",Nr.Play_DisplaynameHost):zc("stream_info_name",Nr.Play_selectedChannelDisplayname),Nr.Play_WasPlaying=1,ku(),Af=Nr.Play_isHost,Nr.Play_isHost=!1,Ym=!1,Dc("scene_channel_panel_bottom"),zc("stream_watching_time",g+Vh(zm=0)),pm=Jh(0),zc("stream_live_time",y+pm+b),Fc("chat_box"),Dc("chat_frame"),Fc("progress_pause_holder"),$p(1),Xf=-5,Im=Pm=eh=0,window.clearInterval(Sm),Wm=Lm=!1,qm=0,Vm=Date.now(),Um=3e3,jm=!(ym=Jm=0),im=tm,Tm=!(km=!(lm=dm=sm=Mm=0)),document.addEventListener("visibilitychange",mh,!1),ph(),Ch(),document.body.removeEventListener("keyup",Xu),om=window.setInterval(yh,6e4)}function fh(e){ep(e)}function Play_CheckResume(){km&&mh(),Lv&&_g(),J_&&(wf(),window.clearInterval(F_))}function mh(){document.hidden?Np()?(ip(),yp(),Xh()):(Wh(),Tm=!1,Ff.src="about:blank",window.clearInterval(om),Jm=Date.now()):(km=!0,lp(),km&&(Um=3e3,Ym=!(ym=0),Jm=Date.now()-Jm,Om?yh():ph(),im=tm,wm=0,navigator.onLine?Ch():Hf=window.setInterval(hh,100),om=window.setInterval(yh,6e4)))}function hh(){(navigator.onLine||200<wm)&&(window.clearInterval(Hf),Ch()),wm++}function ph(){var e="https://api.twitch.tv/kraken/streams/"+Nr.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Um,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?vh(JSON.parse(t.responseText)):gh())},t.send(null)}function vh(e){null!==e.stream&&(zc("stream_info_name",Af?Nr.Play_DisplaynameHost:Nr.Play_selectedChannelDisplayname),Nr.Play_selectedChannel_id=e.stream.channel._id,Jc("stream_info_title",hk.parse(e.stream.channel.status)),Nr.Play_gameSelected=e.stream.game,Nm=", ["+e.stream.channel.language.toUpperCase()+"]",zc("stream_info_game",v+Nr.Play_gameSelected+h+fu(e.stream.viewers)+" "+q+Nm),Nr.Play_selectedChannelLogo=e.stream.channel.logo,Om=!0,kh(document.getElementById("stream_info_icon"),Nr.Play_selectedChannelLogo),pm=e.stream.created_at,$i()?(Va=!0,Ja=Nr.Play_selectedChannel_id,oi()):Zh())}function gh(){ym<bm&&(Um+=500,window.setTimeout(function(){km&&ph()},750)),ym++}function yh(){var e="https://api.twitch.tv/kraken/streams/"+Nr.Play_selectedChannel_id;Am=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(eh=0,bh(JSON.parse(t.responseText))):wh())},t.open("GET",e,!0),t.timeout=Am,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.send(null)}function bh(e){null!==e.stream&&(Jc("stream_info_title",hk.parse(e.stream.channel.status)),Nr.Play_gameSelected=e.stream.game,zc("stream_info_game",v+Nr.Play_gameSelected+h+fu(e.stream.viewers)+" "+q+Nm),Om||kh(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function wh(){eh<bm?(window.setTimeout(function(){km&&yh()},2500),eh++):eh=0}function kh(e,t){e.onerror=function(){this.src=xc,Om=!1},e.src=t}function Ch(){vm=0,Am=2e3+(Ym?3e3:0),Mh()}function Mh(){var e,t;if(e=im===tm?"https://api.twitch.tv/api/channels/"+Nr.Play_selectedChannel+"/access_token"+($i()&&Ai[Nr.Users_Position].access_token?"?oauth_token="+Ai[Nr.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+Nr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(sm.token)+"&sig="+sm.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Ec){if(!(t=Android.mreadUrl(e,Am,1,null)))return void Sh();200===(t=JSON.parse(t)).status?(vm=0,km&&Ph(t.responseText)):403===t.status?Ih():404===t.status?iv():Sh()}else(t=new XMLHttpRequest).open("GET",Tc+e,!0),t.timeout=Am,t.setRequestHeader(_c,uc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(vm=0,km&&Ph(t.responseText)):403===t.status?(Eh(t),Ih()):404===t.status?(Eh(t),iv()):(Eh(t),Sh()))},t.send(null)}function Eh(e){ur||(console.log(e.status),console.log(e.responseText))}function Sh(){km&&jm&&(++vm<gm+(Ym?15:0)?(Am+=250,Ym?window.setTimeout(Mh,500):Mh()):iv())}function Ih(){Qh(),ep(Fn),window.setTimeout(function(){km&&iv()},4e3)}function Ph(e){im===tm?(sm=JSON.parse(e),im=nm,Ch()):im===nm&&(cm=xh(dm=e),im=am,km&&Bh())}function xh(e){for(var t,n=[],a="",i=1,o=Th(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Lh(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Lh(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Th(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Bh(){window.clearInterval(Sm),rm=cm[um=0].url,-1!==Kf.indexOf("source")&&(Kf="source");for(var e=0;e<Cp();e++){if(cm[e].id===Kf){rm=cm[um=e].url;break}-1!==cm[e].id.indexOf(Kf)&&(rm=cm[um=e].url)}Zf=Kf,im=am,ur||console.log("Play_onPlayer:",'\n\n"'+rm+'"\n'),Ec&&km&&Android.startVideo(rm,1),Gh()}function Gh(){window.clearTimeout(Df),Zm=!1,_m&&!bp()&&gp(),Tm=!0,Oh(),Ec&&(Im=0,xm=!($m=4),window.clearInterval(Sm),Sm=window.setInterval(Ah,Qm))}function Oh(){if(Nr.Play_ChatForceDisable){Zm=!0,window.clearInterval(qf);var e=Ff.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(Df),Km=0,Wm=!1,Ff.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+Nr.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",Df=window.setTimeout(Uh,5e3)}else tr()}function Uh(){var e=Ff.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(Wm=-1!==e.body.innerHTML.indexOf("Connected")),t=Wm}catch(e){Wm=!0}Wm?t&&(qf=window.setInterval(vp,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):Zm&&Km<7?(Km++,Df=window.setTimeout(Uh,1e3)):Oh()}function Ah(){Ec&&(qm=Android.gettime()),km&&Em===qm&&!Dh()?$m<++Im&&(xm&&Lm&&um<Cp()-1?um++:!xm&&Lm&&Pm++,navigator.onLine?1<Pm?Fh(Pm,1,Nh):(kp(),Bh(),Lm=!0):Hh(!1,1)):(Im=Pm=0,Lm=!1),Em=qm}function Nh(e){if(!e){if(!(um<Cp()-1))return void iv();um++}Pm=0,kp(),Bh(),Lm=!0}function Hh(e,t){Nr.Play_isHost=e,$p(t),Play_PannelEndStart(t)}function Fh(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Hh(!1,t))},a.send(null)}function Dh(){return!!Ec&&!Android.getPlaybackState()}function Rh(){var e=r_();zc("stream_clock",e),zc("label_clock",e)}function qh(e){return e<10?"0"+e:e}function Vh(e){var t,n,a;return e+=zm/1e3,t=qh(parseInt(e)%60),n=qh((e=Math.floor(e/60))%60),a=qh(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Jh(e){var t,n,a;return e<0&&!zm&&(zm=-1*e),e+=zm,t=qh(parseInt(e/1e3)%60),n=qh((e=Math.floor(e/1e3/60))%60),a=qh(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function zh(e){return Jh((new Date).getTime()-new Date(e).getTime())}function Xh(){km&&(jh(),Nr.Play_WasPlaying=0,Yh())}function jh(){Ec&&Android.stopVideo(1),km=!1,Dp(),Wl(),Wh(),Kh(),window.clearInterval(qf),Nr.Play_selectedChannel_id=""}function Yh(){Hg(0,0),Dc("scene1"),Fc("scene2"),vu()}function Wh(){_p(),lp(),tp(),Ap(),th="",um===Cp()-1&&(Zf=cm[0].id),Iv===Ng()-1&&(yv=Sv[0].id),K_===If()-1&&(W_=Z_[0].id)}function Kh(){Tm=!1,document.body.removeEventListener("keydown",fv),document.removeEventListener("visibilitychange",mh),Ff.src="about:blank",window.clearInterval(om),window.clearInterval(Sm),Gm=!1}function Zh(){Jc("fallow_text",ga+Tt),Ra=!1}function $h(){Ec?Android.mshowLoading(!0):Dc("dialog_loading_play")}function Qh(){Ec?Android.mshowLoading(!1):Fc("dialog_loading_play")}function ep(e){zc("dialog_warning_play_text",e),Dc("dialog_warning_play")}function tp(){Fc("dialog_warning_play")}function np(){return Rc("dialog_warning_play")}function ap(){op()?ip():(Dc("play_dialog_exit"),fm=window.setTimeout(ap,3e3))}function ip(){window.clearTimeout(fm),Fc("play_dialog_exit")}function op(){return Rc("play_dialog_exit")}function sp(){window.clearTimeout(mm)}function dp(){window.clearTimeout(hm)}function lp(){sp(),dp(),Fc("play_dialog_simple_pause")}function rp(){Dh()?cp()?(Fc("play_dialog_simple_pause"),hm=window.setTimeout(rp,8e3)):(Dc("play_dialog_simple_pause"),mm=window.setTimeout(rp,1500)):lp()}function cp(){return Rc("play_dialog_simple_pause")}function up(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function _p(){hp(),document.getElementById("scene_channel_panel").style.opacity="0",Kf=Zf,window.clearInterval(pv)}function fp(){Tp(),wp(),kp(),mp(),pv=window.setInterval(mp,1e3),Rh(),ip(),document.getElementById("scene_channel_panel").style.opacity="1",pp()}function mp(){zc("stream_watching_time",g+Jh(Date.now()-Jm-Vm)),zc("stream_live_time",y+zh(pm)+b)}function hp(){window.clearTimeout(Wf),Zv=0}function pp(){Wf=window.setTimeout(_p,5e3)}function vp(){var e=Ff.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function gp(){Ip(),Dc("chat_container")}function yp(){Fc("chat_container")}function bp(){return Rc("chat_container")}function wp(){for(var e=um=0;e<Cp();e++){if(cm[e].id===Kf){um=e;break}-1!==cm[e].id.indexOf(Kf)&&(um=e)}}function kp(){1===Cp()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):um?um===Cp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Kf=cm[um].id).indexOf("source")?zc("quality_name",Kf.replace("source",ye)+cm[um].band):zc("quality_name",Kf+cm[um].band)}function Cp(){return cm.length}function Mp(e){Rf.style.height=sh[Yf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=sh[Yf-1].dialogTop+"%",Ip(),vp(),e&&Pp(Nn+sh[Yf-1].percentage),window.setTimeout(function(){ml&&(ml.scrollTop=ml.scrollHeight)},500),T_("ChatSizeValue",Yf)}function Ep(e){Rf.style.backgroundColor="rgba(0, 0, 0, "+jf+")",e&&Pp(Hn+(100*jf).toFixed(0)+"%")}function Sp(e){Jf=e?ih[zf=Jf]:oh[Jf][zf]}function Ip(){var e=4===Yf;Jf<0?Jf=e?2:7:(e?2:7)<Jf&&(Jf=0),Rf.style.top=(e?.2:ah[Jf].top+ah[Jf].sizeOffset[Yf-1])+"%",Rf.style.left=ah[Jf+(e?2:0)].left+"%",T_("ChatPositionsValue",Jf)}function Pp(e){window.clearTimeout(Cm),zc("play_chat_dialog_text",e),Dc("play_chat_dialog"),Cm=window.setTimeout(xp,1e3)}function xp(){Fc("play_chat_dialog")}function Lp(e){Dh()?(lp(),Ec&&Android.play(!0),Jc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(up()&&_p(),window.clearInterval(Sm),Sm=window.setInterval(Ah,Qm)):2===e?(up()&&xg(),window.clearInterval(Uv),Uv=window.setInterval(Mg,Qm)):3===e&&(up()&&Cf(),window.clearInterval(F_),F_=window.setInterval(yf,Qm))):(window.clearInterval(Sm),window.clearInterval(Uv),window.clearInterval(F_),Jc("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Ec&&Android.play(!1),rp())}function Tp(){Gp(),Bm=1,Bp()}function Bp(){qc("scene2_pannel_"+Bm,"playbotton_focus")}function Gp(){Vc("scene2_pannel_"+Bm,"playbotton_focus")}function Op(){tf=bv=im=-1,yp(),_p(),Cf(),xg(),Gm||tp(),Qh(),ip(),jp()}function Up(){Dc("dialog_end_stream")}function Ap(){Fc("dialog_end_stream"),Kp(),Xp()}function Np(){return Rc("dialog_end_stream")}function Hp(){return Rc("user_feed")}function Fp(){var e=$i();e?(Qf!==Ai[Nr.Users_Position].name&&(BC=!1),Qf=Ai[Nr.Users_Position].name):BC=!1,BC||wC||AC(),e&&(Dc("user_feed"),Nf=window.setTimeout(Dp,5e3))}function Dp(){Fc("user_feed"),window.clearTimeout(Nf)}function Rp(){window.clearTimeout(Nf),Nf=window.setTimeout(Dp,5e3)}function qp(){window.clearTimeout(Nf),wC||AC()}function Vp(){Rp(),qc(UC[0]+em,"feed_thumbnail_focused");var e;(e=em<3?3:Jp(em+2,UC[0])?-1*document.getElementById(UC[8]+(em-2)).offsetLeft:Jp(em+1,UC[0])?-1*document.getElementById(UC[8]+(em-3)).offsetLeft:-1*document.getElementById(UC[8]+(em-4)).offsetLeft)&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function Jp(e,t){return null!==document.getElementById(t+e,0)}function zp(){Vc(UC[0]+em,"feed_thumbnail_focused")}function Xp(){Yp(),Hm=0,jp()}function jp(){qc("dialog_end_"+Hm,"dialog_end_icons_focus")}function Yp(){Vc("dialog_end_"+Hm,"dialog_end_icons_focus")}function Wp(e){1===e?Rm=Nr.Play_selectedChannelDisplayname+" "+_:2===e?Rm=Nr.Main_selectedChannelDisplayname+$t:3===e&&(Rm=Nr.Main_selectedChannelDisplayname+Ot),Jc("dialog_end_stream_text",Rm+x+aa+en+Fm+"..."),Np()?(bv=im=am,tf=nf,-1===--Fm?(Jc("dialog_end_stream_text",Rm+x+aa+en+"0..."),ip(),yp(),1===e?Xh():2===e?Sg():3===e&&wf()):Dm=window.setTimeout(function(){Wp(e)},1e3)):Dm=window.setTimeout(function(){Wp(e)},50)}function Kp(){window.clearTimeout(Dm),Jc("dialog_end_stream_text",Rm+x+aa+tn)}function Zp(e){var t=!0;Hm?1===Hm?Nr.Play_isHost?(Nr.Play_DisplaynameHost=Nr.Play_selectedChannelDisplayname+ae,Nr.Play_selectedChannel=Xm.target_login,Nr.Play_selectedChannelDisplayname=Xm.target_display_name,Nr.Play_DisplaynameHost=Nr.Play_DisplaynameHost+Nr.Play_selectedChannelDisplayname,jh(),document.body.addEventListener("keydown",fv,!1),Nr.Play_selectedChannel_id=Xm.target_id,l_(_h)):Tf():2===Hm?Qp(e):3===Hm&&tv(e):2===e?Sv.length?(Nv=!(eg=!0),kg(),lp(),kl=Xv=0,Ll()):(t=!1,ep($n),window.setTimeout(function(){tp()},2e3)):3===e&&(Z_.length?(sf=!(Q_=!0),pf(),lp(),af?(Xv=0,kl=Yd,Ll()):er()):(t=!1,ep($n),window.setTimeout(function(){tp()},2e3))),1!==Hm&&3===Hm&&""===Nr.Play_gameSelected&&(t=!1),t&&Ap()}function $p(e){e?1===e?(Yp(),Hm=2,jp(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Xp(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Xp(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",zc("dialog_end_vod_text",af?on:sn)):(Yp(),Hm=1,jp(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",zc("dialog_end_vod_text",cn))}function Qp(e){Nr.Main_BeforeChannelisSet||Nr.Main_Go===Er||Nr.Main_Go===Sr||(Nr.Main_BeforeChannel=Nr.Main_BeforeAgameisSet&&Nr.Main_Go!==vr?Nr.Main_BeforeAgame:Nr.Main_Go,Nr.Main_BeforeChannelisSet=!0),Mu(Nr.Main_Go),Nr.Main_Go=Mr,1===e?(Nr.Main_selectedChannel_id=Nr.Play_selectedChannel_id,Nr.Main_selectedChannel=Nr.Play_selectedChannel,Nr.Main_selectedChannelDisplayname=Nr.Play_selectedChannelDisplayname,Ds=Ra,yp(),Xh()):2===e?Sg():3===e&&wf()}function ev(e){Nr.Search_isSearching||(Nr.Main_BeforeSearch=Nr.Main_Go),Mu(Nr.Main_Go),Nr.Main_Go=wr,1===e?(yp(),Xh()):2===e?Sg():3===e&&wf()}function tv(e){if(""===Nr.Play_gameSelected)return Gm=!0,ep(Yn),void window.setTimeout(function(){Gm=!1,tp()},2e3);Nr.Main_BeforeAgameisSet||Nr.Main_Go===Br||Nr.Main_Go===Gr||(Nr.Main_BeforeAgame=Nr.Main_BeforeChannelisSet&&Nr.Main_Go!==Mr&&Nr.Main_Go!==Er&&Nr.Main_Go!==Sr?Nr.Main_BeforeChannel:Nr.Main_Go,Nr.Main_BeforeAgameisSet=!0),Mu(Nr.Main_Go),Nr.Main_Go=vr,Co=!1,Nr.Main_gameSelected=Nr.Play_gameSelected,yp(),1===e?Xh():2===e?Sg():3===e&&wf()}function nv(){$i()&&Ai[Nr.Users_Position].access_token?Ra?fi():ci():(ep(Bt),Gm=!0,window.setTimeout(function(){tp(),Gm=!1},2e3))}function av(e){Bm?1===Bm?(1===e?(Bh(),_p()):2===e?(Nv=!1,kg(),xg()):3===e&&(sf=!1,pf(),Cf()),lp()):2===Bm?(Ja=1===e?Nr.Play_selectedChannel_id:Nr.Main_selectedChannel_id,nv(),hp(),1===e?pp():2===e?Og():3===e&&xf()):3===Bm?tv(e):4===Bm?Qp(e):5===Bm&&ev(e):Tf()}function Play_PannelEndStart(e){window.clearInterval(Sm),window.clearInterval(F_),window.clearInterval(Uv),Op(),Fm=3,Wp(e),Up(e)}function iv(){im=-1,vm=0,Am=2e3,window.clearTimeout(Df),Ff.src="about:blank",window.clearInterval(om),window.clearInterval(Sm),""!==Nr.Play_selectedChannel_id?lv():ov()}function ov(){var e="https://api.twitch.tv/kraken/users?login="+Nr.Play_selectedChannel,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Am,t.setRequestHeader(_c,uc),t.setRequestHeader(fc,pc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void sv(JSON.parse(t.responseText).users[0]);dv()}},t.send(null)}function sv(e){void 0!==e?(Nr.Play_selectedChannel_id=e._id,vm=0,Am=2e3,lv()):Play_PannelEndStart(1)}function dv(){++vm<gm?(Am+=250,ov()):Hh(!1,1)}function lv(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Nr.Play_selectedChannel_id);if(Ec){if(!(e=Android.mreadUrl(t,Am,1,null)))return void rv();200===(e=JSON.parse(e)).status?cv(e.responseText):rv()}else(e=new XMLHttpRequest).open("GET",Tc+t,!0),e.timeout=Am,e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void cv(e.responseText);rv()}},e.send(null)}function rv(){++vm<gm?(Am+=250,lv()):Hh(!1,1)}function cv(e){void 0!==(Xm=JSON.parse(e).hosts[0]).target_login?(Gm=!0,ep(Nr.Play_selectedChannelDisplayname+rn+ae+Xm.target_display_name),window.setTimeout(function(){Gm=!1},4e3),$p(0),Nr.Play_isHost=!0):($p(1),Nr.Play_isHost=!1),Play_PannelEndStart(1)}function uv(){Ra?(Jc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Jc("fallow_text",ga+Et)):(Jc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Jc("fallow_text",ga+St))}function _v(e){Np()&&!op()?(Kp(),ap()):Hp()?Dp():up()&&!Kg()?e?xg():_p():Kg()&&op()?(Wg(),Ig(!1),Yh()):op()?(ip(),yp(),e?Sg():Xh()):(np()&&tp(),ap())}function fv(e){if(im!==am)switch(e.keyCode){case Ta:op()?(ip(),yp(),Xh()):ap()}else switch(e.keyCode){case Sa:Hp()?em&&(zp(),em--,Vp()):$f&&!up()&&bp()?(Jf++,Ip()):up()?(Gp(),5<++Bm&&(Bm=1),Bp(),hp(),pp()):Np()?(Kp(),Yp(),--Hm<(Nr.Play_isHost?1:2)&&(Hm=3),jp()):fp();break;case Pa:Hp()?em<SC-1&&(zp(),em++,Vp()):!$f||up()||Np()?up()?(Gp(),--Bm<1&&(Bm=5),Bp(),hp(),pp()):Np()?(Kp(),Yp(),3<++Hm&&(Hm=Nr.Play_isHost?1:2),jp()):fp():T_("ChatEnable",(_m=bp()||Np()?(yp(),!1):(gp(),!0))?"true":"false");break;case Ia:up()?(0<um&&1===Bm&&(um--,kp()),hp(),pp()):!Hp()&&$i()?Fp():Np()?Kp():Hp()&&qp();break;case xa:up()?(um<Cp()-1&&1===Bm&&(um++,kp()),hp(),pp()):Hp()?Dp():$f&&bp()?(4<++Yf?Sp(!(Yf=1)):4===Yf&&Sp(!0),Mp(!0)):Np()?Kp():fp();break;case La:Np()?Zp(1):up()?av(1):Hp()?Nr.Play_selectedChannel!==JSON.parse(document.getElementById(UC[8]+em).getAttribute(bc))[0]?(jh(),Qu(em,UC,fv)):Dp():fp();break;case Ta:_v(!1);break;case Ma:case Ca:case Ea:Np()||Lp(1)}}var mv,hv,pv,vv,gv="source",yv=gv,bv=0,wv=null,kv=0,Cv=0,Mv=0,Ev="",Sv=[],Iv=0,Pv=0,xv=5,Lv=!1,Tv=0,Bv=5,Gv=1e4,Ov=0,Uv=null,Av=0,Nv=!1,Hv=0,Fv=!1,Dv=!1,Rv=0,qv=!1,Vv=0,Jv=2e3,zv=!1,Xv=0,jv={},Yv=0,Wv=0,Kv=!0,Zv=0,$v=0,Qv=0,eg=!1,tg=[0,10,30,60,120,300,600,900,1200,1800],ng=!1;function ag(){$h(),Ap(),Xv=0,zc("stream_live_time",""),zc("stream_watching_time",""),zc("progress_bar_current_time",Vh(0)),Cl=U+".",Jc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Fc("progress_pause_holder"),$v=0,Rg((nh=tg)[1]),bv=tm,af=!0,Yd=0,Nr.Play_isHost=!1,Nr.vodOffset?(og(),rg()):(Kv&&""!==Nr.Main_selectedChannel_id?(kh(document.getElementById("stream_info_icon"),Nr.Main_selectedChannelLogo),jv["#"+Nr.ChannelVod_vodId]||Ll(),$i()?(Ja=Nr.Main_selectedChannel_id,Va=!0,oi()):Zh()):(og(),sg()),zc("stream_info_name",Nr.Main_selectedChannelDisplayname),Jc("stream_info_title",Jd),Jc("stream_info_game",zd+", ["+Hd.toUpperCase()+"]"),zc("stream_live_icon",Xd)),jv["#"+Nr.ChannelVod_vodId]&&!Nr.vodOffset?(Qh(),Yg()):ig()}function ig(){zm=0,Dc("chat_box"),Fc("chat_frame"),window.setTimeout(function(){Dc("scene_channel_panel_bottom"),Jc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Dc("progress_pause_holder")},1e3),zc("progress_bar_duration",Vh(Ud)),Nr.Play_WasPlaying=2,ku(),vv=window.setInterval(mg,6e4),Au(th),Av=Hv=0,window.clearInterval(Uv),Fv=!1,qv=Gm=zv=!(Xf=-13),Mv=Cv=kv=Vv=0,document.addEventListener("visibilitychange",_g,!1),ng=!(Lv=!(Dv=!1)),hg(),$p(2),document.body.removeEventListener("keyup",Xu)}function og(){Tv=0,Bv=5,Gv=1e4}function sg(){var e="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Nr.Main_selectedChannel),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Gv,t.setRequestHeader(_c,uc),t.setRequestHeader(fc,pc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?dg(JSON.parse(t.responseText).users[0]):lg())},t.send(null)}function dg(e){void 0!==e?(Nr.Main_selectedChannelLogo=e.logo,Nr.Main_selectedChannel_id=e._id,jv["#"+Nr.ChannelVod_vodId]||Ll(),$i()?(Ja=Nr.Main_selectedChannel_id,Va=!0,oi()):Zh()):(Nr.Main_selectedChannelLogo=xc,Nr.Main_selectedChannel_id=""),kh(document.getElementById("stream_info_icon"),Nr.Main_selectedChannelLogo)}function lg(){++Tv<Bv?(Gv+=500,window.setTimeout(function(){Lv&&sg()},750)):hv=window.setTimeout(sg,2500)}function rg(){var e="https://api.twitch.tv/kraken/videos/"+Nr.ChannelVod_vodId,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Gv,t.setRequestHeader(_c,uc),t.setRequestHeader(fc,pc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void ug(t.responseText);cg()}},t.send(null)}function cg(){++Tv<Bv&&(Gv+=2e3,rg())}function ug(e){e=JSON.parse(e),Jc("stream_info_title",hk.parse(e.title)),Jc("stream_info_game",Wt+v+e.game+", "+fu(e.views)+R+", ["+e.language.toUpperCase()+"]"),zc("stream_live_icon",F+Pu(e.created_at)),zc("progress_bar_duration",Vh(Ud=parseInt(e.length))),Xv=1e3*Nr.vodOffset,Hg(Nr.vodOffset,Ud,!0),Nr.Main_selectedChannelDisplayname=e.channel.display_name,zc("stream_info_name",Nr.Main_selectedChannelDisplayname),Nr.Main_selectedChannelLogo=e.channel.logo,kh(document.getElementById("stream_info_icon"),Nr.Main_selectedChannelLogo),Nr.Main_selectedChannel_id=e.channel._id,Nr.Main_selectedChannel=e.channel.name,$i()?(Va=!0,Ja=Nr.Main_selectedChannel_id,oi()):Zh(),Au(e.increment_view_count_url)}function _g(){document.hidden?Np()?(ip(),yp(),Sg()):(mg(),Jg(),Yl(),Wh(),window.clearInterval(Uv),window.clearInterval(vv)):(Lv=!0,lp(),Lv&&(wm=wm=0,navigator.onLine?Cg():Hf=window.setInterval(fg,100),jl(Pl),$p(2),vv=window.setInterval(mg,6e4)))}function fg(){(navigator.onLine||200<wm)&&(window.clearInterval(Hf),bv=tm,hg()),wm++}function mg(){Nr.vodOffset=Ec?parseInt(Android.gettime()/1e3):0,ku(),Nr.vodOffset=0}function hg(){Pv=0,Jv=2e3,pg()}function pg(){var e,t;if(e=bv===tm?"https://api.twitch.tv/api/vods/"+Nr.ChannelVod_vodId+"/access_token"+($i()&&Ai[Nr.Users_Position].access_token?"?oauth_token="+Ai[Nr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Nr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(kv.token)+"&nauthsig="+kv.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Ec){if(!(t=Android.mreadUrl(e,Am,1,null)))return void vg();200===(t=JSON.parse(t)).status?(Pv=0,Lv&&gg(t.responseText)):vg()}else(t=new XMLHttpRequest).open("GET",Tc+e,!0),t.timeout=Jv,t.setRequestHeader(_c,uc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Pv=0,Lv&&gg(t.responseText)):vg())},t.send(null)}function vg(){if(Lv){if(JSON.parse(kv.token)&&0!==JSON.parse(kv.token).chansub.restricted_bitrates.length)return void yg();++Pv<xv?(Jv+=250,pg()):(Qh(),Play_PannelEndStart(2))}}function gg(e){bv===tm?(kv=JSON.parse(e),bv=nm,hg()):bv===nm&&(Sv=xh(Cv=e),bv=am,Lv&&kg())}function yg(){$i()&&Ai[Nr.Users_Position].access_token?(Ja=Nr.Main_selectedChannel_id,pi()):(Qh(),ep(L+It),window.setTimeout(function(){Lv&&Sg()},4e3))}function bg(){Qh(),ep(L+Pt),window.setTimeout(function(){Lv&&Sg()},4e3)}function wg(){ng?(Qh(),ep(L+xt),window.setTimeout(function(){Lv&&Sg()},4e3)):(ng=!0,bv=tm,hg())}function kg(){window.clearInterval(Uv),Ev=Sv[Iv=0].url,-1!==gv.indexOf("source")&&(gv="source");for(var e=0;e<Ng();e++){if(Sv[e].id===gv){Ev=Sv[Iv=e].url;break}-1!==Sv[e].id.indexOf(gv)&&(Ev=Sv[Iv=e].url)}yv=gv,Cg()}function Cg(){ur||console.log("PlayVod_onPlayer:",'\n\n"'+Ev+'"\n'),Nr.vodOffset?(kl=Nr.vodOffset,Ll(),Ec&&Lv&&Android.startVideoOffset(Ev,2,eg?-1:1e3*Nr.vodOffset),Nr.vodOffset=0):Ec&&Lv&&Android.startVideoOffset(Ev,2,eg?-1:Android.gettime()),eg=!1,_m&&!bp()&&gp(),Ec&&(Av=0,Nv=!($m=7),window.clearInterval(Uv),Uv=window.setInterval(Mg,Qm))}function Mg(){Ec&&(Xv=Android.gettime()),Lv&&Ov===Xv&&!Dh()?++Av>$m&&(Nv&&Fv&&Iv<Ng()-1?Iv++:!Nv&&Fv&&Hv++,navigator.onLine?1<Hv?Fh(Hv,2,Eg):(Ag(),kg(),Fv=!0):Hh(!1,2)):(Av=Hv=0,Fv=!1),Ov=Xv}function Eg(e){if(!e){if(!(Iv<Ng()-1))return void Hh(!1,2);Iv++}Hv=0,Ag(),kg(),Fv=!0}function Sg(){Lv&&(Sv=[],Ig(!0),Yh())}function Ig(e){e&&Jg(),Ec&&Android.stopVideo(2),Lv=!1,window.clearInterval(vv),window.clearInterval(hv),Nr.Play_WasPlaying=0,Kv=!0,Wl(),Dp(),Wh(),Pg()}function Pg(){document.body.removeEventListener("keydown",ty),document.removeEventListener("visibilitychange",_g),Nr.vodOffset=0,window.clearInterval(wv),window.clearInterval(Uv),Ud=0}function xg(){qv=!1,Rv=Vv=0,hp(),document.getElementById("scene_channel_panel").style.opacity="0",Ec&&Hg(Android.gettime()/1e3,Ud,!0),Jc("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none",gv=yv,window.clearInterval(pv)}function Lg(e){Tg(),Rh(),ip(),pv=window.setInterval(Tg,1e3),e&&(Bg(),Ug(),Ag(),Og()),document.getElementById("scene_channel_panel").style.opacity="1"}function Tg(){Ec&&Hg(Android.gettime()/1e3,Ud,!qv)}function Bg(){Wv=Dh()?1:0,Gg()}function Gg(){Wv?1===Wv?(qc("pause_button","progress_bar_div_focus"),Vc("progress_bar_div","progress_bar_div_focus"),Gp(),Jc("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none"):2===Wv&&(Vc("pause_button","progress_bar_div_focus"),Vc("progress_bar_div","progress_bar_div_focus"),Bp(),Jc("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none"):(Vc("pause_button","progress_bar_div_focus"),qc("progress_bar_div","progress_bar_div_focus"),Gp(),Rv&&(qg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Og(){Wf=window.setTimeout(xg,5e3+Zv)}function Ug(){for(var e=Iv=0;e<Ng();e++){if(Sv[e].id===gv){Iv=e;break}-1!==Sv[e].id.indexOf(gv)&&(Iv=e)}}function Ag(){1===Ng()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Iv?Iv===Ng()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(gv=Sv[Iv].id).indexOf("source")?zc("quality_name",gv.replace("source",ye)+Sv[Iv].band):zc("quality_name",gv+Sv[Iv].band)}function Ng(){return Sv.length}function Hg(e,t,n){zc("progress_bar_current_time",Vh(e)),n&&(Vf.style.width=e/t*100+"%")}function Fg(){lp(),Np()||(sf=Nv=!1,Lv?(Ec&&Android.startVideoOffset(Ev,2,0<Qv?1e3*Qv:-1),kl=Qv):(kl=Yd,Ec&&Android.startVideoOffset($_,3,0<Qv?1e3*Qv:-1)),af&&Ll()),Jc("progress_bar_jump_to",ga),document.getElementById("progress_bar_steps").style.display="none",qv=!1,Qv=Rv=Vv=0}function Dg(){$v=Vv=0,Rg(nh[1])}function Rg(e){Rv&&!Wv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?zc("progress_bar_steps",Dn+e/60+qn):zc("progress_bar_steps",e?Dn+e+Rn:Dn+nh[1]+Rn)}function qg(){zc("progress_bar_jump_to",_e+" ("+(Rv<0?"-":"")+Vh(Math.abs(Rv))+")"+fe+Vh(Qv))}function Vg(e,t){var n=Ec?Android.gettime()/1e3:0;window.clearTimeout(mv),qv=!0,Vv<nh.length-1&&$v++%6==0&&Vv++,Rv+=nh[Vv]*e,Qv=n+Rv,Lv&&(Qv=10*Math.floor(Qv/10)),t<Qv?(Rv=t-n-nh[1],Qv=n+Rv,$v=Vv=0):Qv<0&&(Rv=0-n,Qv=$v=Vv=0),qg(),Vf.style.width=Qv/t*100+"%",Rg(nh[Vv]*e),mv=window.setTimeout(Dg,1e3)}function Jg(){var e=Ec?parseInt(Android.gettime()/1e3):0,t="#"+Nr.ChannelVod_vodId;300<e&&e<Ud-300?(jv[t]&&delete jv[t],jv[t]=e,T_("PlayVod_VodIds",JSON.stringify(jv))):Ud-300<e&&jv[t]&&(delete jv[t],T_("PlayVod_VodIds",JSON.stringify(jv)))}function zg(){jv=G_("PlayVod_VodIds",{});var e=Xg();250<e&&jg(e-250)}function Xg(){var e=0;for(var t in jv)jv.hasOwnProperty(t)&&e++;return e}function jg(e){var t=0;for(var n in jv){if(!(t<e))break;delete jv[n],t++}T_("PlayVod_VodIds",JSON.stringify(jv))}function Yg(){Fc("scene_channel_panel_bottom"),Lg(!1),Jc("dialog_vod_saved_text",wn+Jh(1e3*jv["#"+Nr.ChannelVod_vodId])),Dc("dialog_vod_start")}function Wg(){xg(),Fc("dialog_vod_start"),Zg(),window.setTimeout(function(){Dc("scene_channel_panel_bottom")},1e3)}function Kg(){return Rc("dialog_vod_start")}function Zg(){Qg(),Yv=0,$g()}function $g(){qc("dialog_vod_"+Yv,"dialog_end_icons_focus")}function Qg(){Vc("dialog_vod_"+Yv,"dialog_end_icons_focus")}function ey(e){Wg(),e?(delete jv["#"+Nr.ChannelVod_vodId],Nr.vodOffset=0,ag()):(Nr.vodOffset=jv["#"+Nr.ChannelVod_vodId],Xv=1e3*Nr.vodOffset,Hg(Nr.vodOffset,Ud,!0),ig())}function ty(e){if(bv===am||Kg())switch(e.keyCode){case Sa:Hp()?em&&(zp(),em--,Vp()):$f&&!up()&&bp()?(Jf++,Ip()):up()&&!Kg()?(hp(),Wv?(Gp(),5<++Bm&&(Bm=1),Bp()):(Vg(-1,Ud),Zv=2500),Og()):Kg()?(Qg(),Yv?Yv--:Yv++,$g()):Np()?(Kp(),Yp(),--Hm<0&&(Hm=3),1===Hm&&(Hm=0),jp()):Kg()||Lg(!0);break;case Pa:Hp()?em<SC-1&&(zp(),em++,Vp()):!$f||up()||Np()?up()&&!Kg()?(hp(),Wv?(Gp(),--Bm<1&&(Bm=5),Bp()):(Vg(1,Ud),Zv=2500),Og()):Kg()?(Qg(),Yv?Yv--:Yv++,$g()):Np()?(Kp(),Yp(),3<++Hm&&(Hm=0),1===Hm&&(Hm=2),jp()):Kg()||Lg(!0):T_("ChatEnable",(_m=bp()||Np()?(yp(),!1):(gp(),!0))?"true":"false");break;case Ia:Np()?Kp():up()&&!Kg()?(2===Wv&&1!==Bm?(Wv--,Gg()):1===Wv?(Wv--,Gg()):0<Iv&&1===Bm&&(Iv--,Ag()),hp(),Og()):Hp()?Hp()?qp():Kg()||Lg(!0):Fp();break;case xa:Np()?Kp():up()&&!Kg()?(Wv?1===Wv?(Wv++,Gg()):Iv<Ng()-1&&1===Bm&&(Iv++,Ag()):(Wv++,Gg()),hp(),Og()):Hp()?Dp():$f&&bp()?(4<++Yf?Sp(!(Yf=1)):4===Yf&&Sp(!0),Mp(!0)):Kg()||Lg(!0);break;case La:Kg()?ey(Yv):Np()?Zp(2):up()?Wv?1===Wv?(Nr.Play_ChatForceDisable&&(Dh()?jl(Pl):Yl()),Np()||Lp(2)):av(2):(hp(),Og(),Rv&&Fg()):Hp()?(Ig(),Qu(em,UC,fv)):Lg(!0);break;case Ta:_v(!0);break;case Ma:case Ca:case Ea:Nr.Play_ChatForceDisable&&(Dh()?jl(Pl):Yl()),Np()||Lp(2)}else switch(e.keyCode){case Ta:op()?(ip(),Sg()):ap()}}var ny={};function ay(){console.log("InitScreens place holder")}function iy(){Vy(),Jy(),Xy(),jy(),Yy(),Ky(),Zy()}function oy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function sy(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function dy(){Kr=-1,Nr.Main_Go=ny.screen,ny.label_init(),document.body.addEventListener("keydown",Sy,!1),ny.status?(Dc(ny.ids[10]),Ou(ny.posY),yy(),ku()):ry()}function ly(){Kr=0,ny.label_exit(),document.body.removeEventListener("keydown",Sy),Fc(ny.ids[10])}function ry(){Xc(),Lu(ny.table),iu(),ny.cursor=null,ny.status=!1,ny.row=document.createElement("div"),ny.MaxOffset=0,ny.TopRowCreated=!1,ny.offset=0,ny.idObject={},ny.FirstLoad=!0,ny.itemsCount=0,ny.posX=0,ny.posY=0,ny.row_id=0,ny.coloumn_id=0,ny.data=null,ny.data_cursor=0,ny.dataEnded=!1,Qc(),cy(),uy()}function cy(){ny.loadingData=!0,ny.loadingDataTry=0,ny.loadingDataTimeout=3500}function uy(){var e;if(ny.set_url(),Ec&&!ny.data){if(!(e=Android.mreadUrl(ny.url,ny.loadingDataTimeout,2,null)))return void _y();200===(e=JSON.parse(e)).status?ny.concatenate(e.responseText):_y()}else(e=new XMLHttpRequest).open("GET",ny.url,!0),e.timeout=ny.loadingDataTimeout,e.setRequestHeader(_c,uc),e.setRequestHeader(fc,pc),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?ny.concatenate(e.responseText):_y())},e.send(null)}function _y(){ny.loadingDataTry++,ny.loadingDataTry<ny.loadingDataTryMax?(ny.loadingDataTimeout+=500,uy()):(ny.loadingData=!1,ny.itemsCount?ny.dataEnded=!0:(ny.FirstLoad=!1,jc(),au(T)))}function fy(){var e=ny.data.length-ny.data_cursor;if(e>ny.ItemsLimit?e=ny.ItemsLimit:ny.loadingData||(ny.dataEnded=!0),e){var t=Math.ceil(e/ny.ColoumnsCount),n=ny.row_id+t,a=document.getElementById(ny.table);if(ny.HasSwitches&&!ny.TopRowCreated){ny.TopRowCreated=!0,ny.row=document.createElement("div");var i='<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+m;(Xr=document.createElement("div")).setAttribute("id",ny.ids[8]+"y_0"),Xr.className="stream_cell_period",Xr.innerHTML='<div id="'+ny.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+ny.ids[3]+'y_0" class="stream_channel_fallow_game">'+i+"</div></div>",ny.row.appendChild(Xr),a.appendChild(ny.row)}for(ny.row_id;ny.row_id<n;){for(ny.coloumn_id===ny.ColoumnsCount&&(ny.row=document.createElement("div"),ny.coloumn_id=0),ny.coloumn_id;ny.coloumn_id<ny.ColoumnsCount&&ny.data_cursor<ny.data.length;ny.data_cursor++)ny.data[ny.data_cursor]&&ny.addCell(ny.data[ny.data_cursor]);if(a.appendChild(ny.row),ny.coloumn_id===ny.ColoumnsCount)ny.row_id++;else if(ny.data_cursor>=ny.data.length)break}}ny.emptyContent=!e&&!ny.status,gy()}function my(e,t,n,a){var i=e+"_"+t;return Gu(n[1]+i,a),e<ny.ColoumnsCount&&Au(a),(Xr=document.createElement("div")).style.cssText=ny.ThumbCssText,i}function hy(e,t,n,a,i,o){var s=my(e,t,n,a);return Xr.setAttribute("id",n[5]+s),Xr.setAttribute(bc,i),Xr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Xr}function py(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=my(e,t,n,a);return Xr.setAttribute("id",n[8]+p),Xr.setAttribute(bc,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Xr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Vh(r)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+aa+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+R+"</div></div></div>",Xr}function vy(e,t,n,a,i){var o=my(e,t,a,i[0]);return Xr.setAttribute("id",a[8]+o),Xr.setAttribute(bc,JSON.stringify(n)),Xr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div><div id="'+a[4]+o+'"class="stream_info">'+hk.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Xr}function gy(){ny.status?(Tu(ny.img_404),eu(ny.posX,ny.posY,ny.ColoumnsCount,ny.itemsCount)):(ny.emptyContent?au(ny.empty_str()):(ny.status=!0,Tu(ny.img_404)),Zr&&ny.status&&zw.restor_playback.defaultValue?Nr.Play_WasPlaying?(Mu(Nr.Main_Go),Nr.Main_Go=Ar,Nr.vodOffset||(Nr.vodOffset=1),Ud=Nr.vodOffset+1,ep(Vn),1===Nr.Play_WasPlaying?e_():a_(),bu(!0),window.setTimeout(function(){Gm||tp()},2e3)):1!==Ar?(Mu(Nr.Main_Go),Nr.Main_Go=Ar,o_(ny.posY+"_"+ny.posX,ny.ids),bu()):(Nr.Never_run&&ru(),Nr.Never_run=!1,yy(),ku()):(yy(),ku()),Zr=!1,ny.FirstLoad=!1,jc())}function yy(){ny.posY<0?wy():(ny.addFocus(ny.posY,ny.posX,ny.ids,ny.ColoumnsCount,ny.itemsCount),2<ny.posY&&ny.data_cursor+Oy>ny.data.length&&!ny.dataEnded&&!ny.loadingData&&(cy(),uy()),ny.posY+ny.ItemsReloadLimit>ny.itemsCount/ny.ColoumnsCount&&ny.data_cursor<ny.data.length&&(Bu(),ny.loadDataSuccess()),Dr&&o_(ny.posY+"_"+ny.posX,ny.ids))}function by(e,t){o_(ny.posY+"_"+ny.posX,ny.ids),ny.posY+=e,ny.posX=t,yy()}function wy(){qc(ny.ids[0]+"y_0",yc)}function ky(){Vc(ny.ids[0]+"y_0",yc)}function Cy(e){uu()?cu():du()?su():(e===ny.screen?Nr.Main_Go=mr:Nr.Main_Go=e,ly())}function My(e){if(!ny.HasSwitches||ny.posY||-1!==e||ny.emptyContent){if(ny.HasSwitches&&-1===ny.posY)ny.posY=0,yy(),ky();else for(var t=0;t<ny.ColoumnsCount;t++)if(pu(ny.posY+e,ny.posX-t,ny.ids[0]))return void by(e,ny.posX-t)}else o_(ny.posY+"_"+ny.posX,ny.ids),ny.posY=-1,wy()}function Ey(e,t){pu(ny.posY,ny.posX+e,ny.ids[0])?by(0,ny.posX+e):pu(ny.posY+e,t,ny.ids[0])&&by(e,t)}function Sy(e){if(!ny.FirstLoad&&!Wu())switch(Yu(),e.keyCode){case Ta:ny.key_exit();break;case Sa:Ey(-1,ny.ColoumnsCount-1);break;case Pa:Ey(1,0);break;case Ia:My(-1);break;case xa:My(1);break;case Ma:case Ca:case Ea:case La:ny.key_play()}}ny.FirstLoad=!1;var Iy,Py,xy,Ly,Ty,By,Gy,Oy=100,Uy="",Ay="",Ny="",Hy="",Fy="",Dy="",Ry={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:fy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){uu()?cu():du()?su():(this.itemsCount&&o_(this.posY+"_"+this.posX,this.ids),E_(Sy))}},qy={ThumbSize:32.65,ItemsLimit:tc,ItemsReloadLimit:ac,ColoumnsCount:nc,addFocus:Zu,key_refresh:ry,img_404:Lc,empty_str:function(){return B+K},key_play:function(){Qu(this.posY+"_"+this.posX,this.ids,Sy)}};function Vy(){(By=sy(By=sy({ids:oy("Live"),table:"stream_table_live",screen:mr,base_url:"https://api.twitch.tv/kraken/streams?limit="+Oy,set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Yr?"&language="+Yr:"")},label_init:function(){Nr.Main_CenterLablesVectorPos=0,qc("top_bar_live","icon_center_focus")},label_exit:function(){Vc("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),ny.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),ny.loadingData=!1},addCell:function(e){ny.idObject[e.channel._id]||(ny.itemsCount++,ny.idObject[e.channel._id]=1,ny.row.appendChild(vy(ny.row_id,ny.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+zh(e.created_at)+b+", "+h+fu(e.viewers)+q,mu(e.video_height,e.average_fps,e.channel.language)])),ny.coloumn_id++)}},Ry),qy)).set_ThumbSize()}function Jy(){(Gy=sy(Gy=sy({ids:oy("Featured"),table:"stream_table_featured",screen:Or,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Oy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+($i()&&Ai[Nr.Users_Position].access_token?"&oauth_token="+Ai[Nr.Users_Position].access_token:"")},label_init:function(){Nr.Main_CenterLablesVectorPos=2,qc("top_bar_featured","icon_center_focus")},label_exit:function(){Vc("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),ny.loadingData=!1},addCell:function(e){e=e.stream,ny.idObject[e.channel._id]||(ny.itemsCount++,ny.idObject[e.channel._id]=1,ny.row.appendChild(vy(ny.row_id,ny.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+zh(e.created_at)+b+", "+h+fu(e.viewers)+q,mu(e.video_height,e.average_fps,e.channel.language)])),ny.coloumn_id++)}},Ry),qy)).set_ThumbSize()}var zy={ThumbSize:32.65,ItemsLimit:tc,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:ac,ColoumnsCount:nc,addFocus:Zu,cursor:null,key_refresh:ry,period:["day","week","month","all"],img_404:Lc,empty_str:function(){return B+N},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ry()):t_(this.posY+"_"+this.posX,this.ids,Sy)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),ny.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),ny.loadingData=!1},addCell:function(e){ny.idObject[e.tracking_id]||(ny.itemsCount++,ny.idObject[e.tracking_id]=1,ny.row.appendChild(py(ny.row_id,ny.coloumn_id,ny.ids,e.thumbnails.medium,e.broadcaster.display_name,[an,Pu(e.created_at)],[hk.parse(e.title),v,e.game],fu(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),ny.coloumn_id++)}};function Xy(){(Iy=sy(Iy=sy({ids:oy("Clip"),table:"stream_table_clip",screen:Tr,periodPos:B_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Oy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Yr?"&language="+Yr:"")},SetPeriod:function(){Jc("top_bar_clip",N+Iu(lr[this.periodPos-1])),T_("Clip_periodPos",this.periodPos)},label_init:function(){Nr.Main_CenterLablesVectorPos=5,this.SetPeriod(),qc("top_bar_clip","icon_center_focus"),Hc("label_refresh","icon-refresh",t+Xt)},label_exit:function(){Eu(),Vc("top_bar_clip","icon_center_focus"),Hc("label_refresh","icon-refresh",t+Xt)}},Ry),zy)).set_ThumbSize()}function jy(){(Py=sy(Py=sy({ids:oy("ChannelClip"),table:"stream_table_channel_clip",screen:Sr,periodPos:B_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Nr.Main_selectedChannel)+"&limit="+Oy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Jc("top_bar_game",N+lr[this.periodPos-1]),T_("ChannelClip_periodPos",this.periodPos)},label_init:function(){Nr.Main_CenterLablesVectorPos=1,!Nr.Search_isSearching&&Nr.Main_selectedChannel_id&&wd(),Nr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Su(),this.SetPeriod(),zc("top_bar_user",Nr.Main_selectedChannelDisplayname),Hc("label_side_panel","icon-arrow-circle-left",P),this.lastselectedChannel=Nr.Main_selectedChannel},label_exit:Eu},Ry),zy)).set_ThumbSize()}function Yy(){(xy=sy(xy=sy({ids:oy("AGameClip"),table:"stream_table_a_game_clip",screen:Gr,periodPos:B_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Nr.Main_gameSelected)+"&limit="+Oy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Yr?"&language="+Yr:"")},SetPeriod:function(){Jc("top_bar_game",w+Iu(N+lr[this.periodPos-1]+": "+Nr.Main_gameSelected)),T_("AGameClip_periodPos",this.periodPos)},label_init:function(){Nr.Main_CenterLablesVectorPos=3,this.SetPeriod(),qc("top_bar_game","icon_center_focus"),Hc("label_side_panel","icon-arrow-circle-left",P),this.gameSelected!==Nr.Main_gameSelected&&(this.status=!1),this.gameSelected=Nr.Main_gameSelected},label_exit:function(){Vc("top_bar_game","icon_center_focus"),Jc("top_bar_game",f),Hc("label_side_panel","icon-ellipsis",An)}},Ry),zy)).set_ThumbSize()}var Wy={ThumbSize:19.35,ItemsLimit:ic,ItemsReloadLimit:sc,ColoumnsCount:oc,addFocus:$u,img_404:Pc,empty_str:function(){return B+$},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===br?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),ny.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===br?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),ny.loadingData=!1},key_play:function(){Nr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(bc),document.body.removeEventListener("keydown",Sy),Nr.Main_BeforeAgame=this.screen,Nr.Main_Go=vr,Nr.Main_BeforeAgameisSet=!0,Co=!1,ly(),bu(),o_(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===pr,n=t?e.game:e;ny.idObject[n._id]||(ny.itemsCount++,ny.idObject[n._id]=1,ny.row.appendChild(hy(ny.row_id,ny.coloumn_id,ny.ids,n.box.template.replace("{width}x{height}",gc),n.name,t?fu(e.channels)+" "+S+h+fu(e.viewers)+q:"")),ny.coloumn_id++)}};function Ky(){(Ly=sy(Ly=sy({ids:oy("Game"),table:"stream_table_games",screen:pr,key_refresh:ry,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Oy,set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Nr.Main_CenterLablesVectorPos=3,qc("top_bar_game","icon_center_focus")},label_exit:function(){Vc("top_bar_game","icon_center_focus")}},Ry),Wy)).set_ThumbSize()}function Zy(){(Ty=sy(Ty=sy({ids:oy("UserGames"),table:"stream_table_user_games",screen:br,isLive:O_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ai[Nr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Oy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+" "+(this.isLive?$:Jt))),ry(),T_("user_Games_live",this.isLive?"true":"false"),AM&&JM()},label_init:function(){Nr.Main_CenterLablesVectorPos=1,Hc("label_refresh","icon-refresh",zt+$+"/"+Jt+":"+Xt),Hc("label_side_panel","icon-arrow-circle-left",P),qc("top_bar_user","icon_center_focus"),this.OldUserName!==Ai[Nr.Users_Position].name&&(this.status=!1),this.OldUserName=Ai[Nr.Users_Position].name,Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+" "+(this.isLive?$:Jt)))},label_exit:function(){Nr.Users_Position=0,Vc("top_bar_user","icon_center_focus"),Hc("label_refresh","icon-refresh",t+Xt),zc("top_bar_user",u),Hc("label_side_panel","icon-ellipsis",An)}},Ry),Wy)).set_ThumbSize()}var $y=0,Qy=0,eb=!1,tb=0,nb={},ab=[],ib=!1,ob=0,sb=5,db=3500,lb=0,rb=0,cb=!1,ub=!1,_b="",fb=!1,mb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function hb(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=xr,Nr.isLastSChannels=!0,Nr.Search_isSearching=!0,_b!==Nr.Search_data&&(ub=!1),Su(),Jc("top_bar_user",n+Iu(S+" '"+Nr.Search_data+"'")),document.body.addEventListener("keydown",xb,!1),ub?(Ou($y),Dc(mb[6]),Ib(),ku()):vb()}function pb(){Eu(),document.body.removeEventListener("keydown",xb),Fc(mb[6])}function vb(){Lu("stream_table_search_channel"),Fc(mb[6]),Xc(),iu(),_b=Nr.Search_data,ub=!1,nb={},tb=rb=lb=0,$y=Qy=0,eb=!(C_=!(fb=!(ab=[]))),Qc(),gb(),yb()}function gb(){Bu(),ib=!0,ob=0,db=3500}function yb(){var e=tb+lb;e&&rb-1<e&&(e=rb-dc,eb=!0),N_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Nr.Search_data)+"&limit="+dc+"&offset="+e,db,2,null,wb,bb)}function bb(){++ob<sb?(db+=500,yb()):(ib=!1,tb?(eb=!0,Cb()):(C_=!1,jc(),au(T)))}function wb(e){var t=JSON.parse(e),n=t.channels.length;rb=parseInt(t._total),n<dc&&(eb=!0);var a=tb;cb=!(tb+=n);var i=n/lc;0<n%lc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/lc+_,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.channels[c])._id,nb[r]?o--:(nb[r]=1,d.appendChild(kb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<lc;o++)eb&&!fb&&(fb=!0,tb=s*lc+o),d.appendChild(Nu(mb[5]+s+"_"+o)),ab.push(mb[5]+s+"_"+o);u.appendChild(d)}Cb()}function kb(e,t,n){return e<4&&Au(n[2]),Hu(t,mb,n)}function Cb(){if(ub){if(Tu(xc),0<ab.length&&!eb)return gb(),void Mb();eu(Qy,$y,lc,tb),ab=[]}else cb?au(d):(ub=!0,Tu(xc),Ib(),ku()),Dc(mb[6]),C_=!1,jc();ib=!1}function Mb(){nu(ab.length);var e=tb+lb;e&&rb-1<e&&(e=rb-cc,eb=!0),N_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Nr.Search_data)+"&limit="+cc+"&offset="+e,db,2,null,Sb,Eb)}function Eb(){++ob<sb?(db+=500,Mb()):(eb=!0,tb-=ab.length,ab=[],Cb())}function Sb(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(rb=parseInt(a._total),i<cc&&(eb=!0);o<ab.length&&s<i;o++,s++)n=(t=a.channels[s])._id,nb[n]?o--:(nb[n]=1,Fu(ab[o],[t.name,n,t.logo,t.display_name],mb),d.push(o));for(o=d.length-1;-1<o;o--)ab.splice(d[o],1);lb+=s,eb&&(tb-=ab.length,ab=[]),Cb()}function Ib(){Ku($y,Qy,mb,lc,tb),tb/lc<$y+rc&&!eb&&!ib&&(gb(),yb()),Dr&&Pb()}function Pb(){tb&&o_($y+"_"+Qy,mb)}function xb(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(Pb(),E_(xb));break;case Sa:if(pu($y,Qy-1,mb[0]))Pb(),Qy--,Ib();else for(t=lc-1;-1<t;t--)if(pu($y-1,t,mb[0])){Pb(),$y--,Qy=t,Ib();break}break;case Pa:pu($y,Qy+1,mb[0])?(Pb(),Qy++,Ib()):pu($y+1,0,mb[0])&&(Pb(),$y++,Qy=0,Ib());break;case Ia:for(t=0;t<lc;t++)if(pu($y-1,Qy-t,mb[0])){Pb(),$y--,Qy-=t,Ib();break}break;case xa:for(t=0;t<lc;t++)if(pu($y+1,Qy-t,mb[0])){Pb(),$y++,Qy-=t,Ib();break}break;case Ma:case Ca:case Ea:case La:Nr.Main_selectedChannel=document.getElementById(mb[4]+$y+"_"+Qy).getAttribute(bc),Nr.Main_selectedChannel_id=document.getElementById(mb[4]+$y+"_"+Qy).getAttribute("data-id"),Nr.Main_selectedChannelDisplayname=document.getElementById(mb[3]+$y+"_"+Qy).textContent,document.body.removeEventListener("keydown",xb),Nr.Main_BeforeChannel=xr,Nr.Main_Go=Mr,Nr.Main_BeforeChannelisSet=!0,Ds=Ra=!1,Fc(mb[6]),bu()}}var Lb=!1,Tb=0,Bb=0,Gb=0,Ob=0,Ub=5,Ab=3500,Nb=0,Hb=0,Fb=!1,Db=!1,Rb="",qb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Vb(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=kr,Nr.Search_isSearching=!0,Su(),Rb!==Nr.Search_data&&(Lb=!1),Jc("top_bar_user",n+Iu(f+" '"+Nr.Search_data+"'")),document.body.addEventListener("keydown",ew,!1),Lb?(Ou(Tb),Dc(qb[7]),$b(),ku()):zb()}function Jb(){Nr.Search_isSearching||Eu(),document.body.removeEventListener("keydown",ew),Nr.Games_return=!1,Fc(qb[7])}function zb(){Lu("stream_table_search_game"),Fc(qb[7]),Xc(),iu(),Rb=Nr.Search_data,Db=Lb=!1,Tb=Bb=Gb=Hb=Nb=0,Qc(),Xb(),jb()}function Xb(){Bu(),C_=!0,Ob=0,Ab=3500}function jb(){N_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Nr.Search_data),Ab,2,null,Wb,Yb)}function Yb(){++Ob<Ub?(Ab+=500,jb()):(C_=!1,Gb?Zb():(jc(),au(T)))}function Wb(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Gb;Fb=!(Gb+=n);var i=n/oc;0<n%oc&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/oc+u,d=document.createElement("tr"),o=0;o<oc&&r<n;o++,r++)l=t.games[r],d.appendChild(Kb(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",gc),""]));for(;o<oc;o++)Db||(Db=!0,Gb=s*oc+o),d.appendChild(Nu(qb[6]+s+"_"+o));c.appendChild(d)}Zb()}function Kb(e,t,n){return e<2&&Au(n[1]),Ju(t,qb,n)}function Zb(){Lb||(Fb?au(d):(Lb=!0,Tu(Lc),$b(),ku()),jc()),Dc(qb[7]),C_=!1,eu(Bb,Tb,oc,Gb)}function $b(){$u(Tb,Bb,qb,oc,Gb),Dr&&Qb()}function Qb(){Gb&&o_(Tb+"_"+Bb,qb)}function ew(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(Qb(),E_(ew));break;case Sa:if(pu(Tb,Bb-1,qb[0]))Qb(),Bb--,$b();else for(t=oc-1;-1<t;t--)if(pu(Tb-1,t,qb[0])){Qb(),Tb--,Bb=t,$b();break}break;case Pa:pu(Tb,Bb+1,qb[0])?(Qb(),Bb++,$b()):pu(Tb+1,0,qb[0])&&(Qb(),Tb++,Bb=0,$b());break;case Ia:for(t=0;t<oc;t++)if(pu(Tb-1,Bb-t,qb[0])){Qb(),Tb--,Bb-=t,$b();break}break;case xa:for(t=0;t<oc;t++)if(pu(Tb+1,Bb-t,qb[0])){Qb(),Tb++,Bb-=t,$b();break}break;case Ma:case Ca:case Ea:case La:Nr.gameSelectedOld=Nr.Main_gameSelected,Jb(),Nr.Main_gameSelected=document.getElementById(qb[5]+Tb+"_"+Bb).getAttribute(bc),document.body.removeEventListener("keydown",ew),Nr.Main_Go=vr,Nr.Games_return=!0,bu()}}var tw=0,nw=0,aw=!1;function iw(){iu(),Fc("label_refresh"),Hc("label_side_panel","icon-arrow-circle-left",P),zc("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",ir.placeholder=k,qc("top_bar_user","icon_center_focus"),Dc("search_scroll"),nw=tw=0,dw(),rw()}function ow(){cw(!1),document.body.removeEventListener("keydown",lw),dw(),Nr.Main_Go=Nr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",zc("top_bar_user",u),Vc("top_bar_user","icon_center_focus"),Hc("label_side_panel","icon-ellipsis",An),Dc("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",ir.value="",Fc("search_scroll")}function sw(){ow(),l_(function(){nw?1===nw?Vb():2===nw&&Lw():hb()})}function dw(){Vc("chanel_button","button_search_focused"),Vc("game_button","button_search_focused"),Vc("live_button","button_search_focused"),tw&&(nw?1===nw?qc("game_button","button_search_focused"):2===nw&&qc("live_button","button_search_focused"):qc("chanel_button","button_search_focused"))}function lw(e){if(!aw)switch(e.keyCode){case Ta:uu()?cu():du()?su():(ow(),bu());break;case Sa:1===tw&&(--nw<0&&(nw=2),dw());break;case Pa:1===tw&&(2<++nw&&(nw=0),dw());break;case Ia:1===tw&&(tw=0,dw(),rw());break;case xa:tw?1===tw&&(tw=0,dw(),rw()):(cw(!1),tw=1,dw());break;case Ma:case Ca:case Ea:case La:tw?""!==ir.value&&null!==ir.value?(Nr.Search_data=ir.value,ir.value="",sw()):(au(s),window.setTimeout(function(){iu()},1e3)):rw()}}function rw(){document.body.removeEventListener("keydown",lw),document.body.addEventListener("keydown",_w,!1),ir.placeholder=k,ir.focus(),aw=!0}function cw(e){ir.blur(),uw(),document.body.removeEventListener("keydown",_w),ir.placeholder=E+k,e&&document.body.addEventListener("keydown",lw,!1),aw=!1}function uw(){if(null!==ir){var e=ir.cloneNode(!0);ir.parentNode.replaceChild(e,ir),ir=document.getElementById("search_input")}}function _w(e){switch(e.keyCode){case Ta:du()?su():uu()?cu():(ow(),bu());break;case Ua:ir.value="";break;case Ga:case xa:cw(!0),tw=1,dw();break;case Ba:ir.value=ir.value.slice(0,-1);break;case Oa:ir.value+=" "}}var fw=0,mw=0,hw=!1,pw=0,vw={},gw=[],yw=!1,bw=0,ww=5,kw=3500,Cw=0,Mw=0,Ew=!1,Sw=!1,Iw=!1,Pw="",xw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Lw(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=Cr,Nr.Search_isSearching=!0,Su(),Pw!==Nr.Search_data&&(Sw=!1),Jc("top_bar_user",n+Iu(_+" '"+Nr.Search_data+"'")),document.body.addEventListener("keydown",Vw,!1),Sw?(Ou(fw),Dc(xw[10]),Rw(),ku()):Bw()}function Tw(){Eu(),document.body.removeEventListener("keydown",Vw),Fc(xw[10])}function Bw(){Lu("stream_table_search_live"),Fc(xw[10]),Xc(),iu(),Pw=Nr.Search_data,Sw=!1,Mw=Cw=0,vw={},fw=mw=pw=0,hw=!(C_=!(Iw=!(gw=[]))),Qc(),Gw(),Ow()}function Gw(){Bu(),yw=!0,bw=0,kw=3500}function Ow(){var e=pw+Cw;e&&Mw-1<e&&(e=Mw-tc,hw=!0),N_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Nr.Search_data)+"&limit="+tc+"&offset="+e,kw,2,null,Aw,Uw)}function Uw(){++bw<ww?(kw+=500,Ow()):(yw=!1,pw?(hw=!0,Nw()):(C_=!1,jc(),au(T)))}function Aw(e){var t=JSON.parse(e),n=t.streams.length;Mw=parseInt(t._total),n<tc&&(hw=!0);var a=pw;Ew=!(pw+=n);var i=n/nc;0<n%nc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/nc+_,d=document.createElement("tr"),o=0;o<nc&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,vw[r]?o--:(vw[r]=1,d.appendChild(Ru(s,s+"_"+o,[l.channel.name,r],xw,[l.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+zh(l.created_at)+b+", "+h+fu(l.viewers)+q,mu(l.video_height,l.average_fps,l.channel.language)])));for(;o<nc;o++)hw&&!Iw&&(Iw=!0,pw=s*nc+o),d.appendChild(Nu(xw[9]+s+"_"+o)),gw.push(xw[9]+s+"_"+o);u.appendChild(d)}Nw()}function Nw(){if(Sw){if(Tu(Lc),0<gw.length&&!hw)return Gw(),void Hw();eu(mw,fw,nc,pw),gw=[]}else Ew?au(d):(Sw=!0,Tu(Lc),Rw(),ku()),Dc(xw[10]),C_=!1,jc();yw=!1}function Hw(){nu(gw.length);var e=pw+Cw;e&&Mw-1<e&&(e=Mw-cc,hw=!0),N_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Nr.Search_data)+"&limit="+cc+"&offset="+e,kw,2,null,Dw,Fw)}function Fw(){++bw<ww?(kw+=500,Hw()):(hw=!0,pw-=gw.length,gw=[],Nw())}function Dw(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Mw=parseInt(a._total),i<cc&&(hw=!0);o<gw.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,vw[n]?o--:(vw[n]=1,qu(gw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+zh(t.created_at)+b+", "+h+fu(t.viewers)+q,mu(t.video_height,t.average_fps,t.channel.language)],xw),d.push(o));for(o=d.length-1;-1<o;o--)gw.splice(d[o],1);Cw+=s,hw&&(pw-=gw.length,gw=[]),Nw()}function Rw(){Zu(fw,mw,xw,nc,pw),pw/nc<fw+ac&&!hw&&!yw&&(Gw(),Ow()),Dr&&qw()}function qw(){pw&&o_(fw+"_"+mw,xw)}function Vw(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(qw(),E_(Vw));break;case Sa:if(pu(fw,mw-1,xw[0]))qw(),mw--,Rw();else for(t=nc-1;-1<t;t--)if(pu(fw-1,t,xw[0])){qw(),fw--,mw=t,Rw();break}break;case Pa:pu(fw,mw+1,xw[0])?(qw(),mw++,Rw()):pu(fw+1,0,xw[0])&&(qw(),fw++,mw=0,Rw());break;case Ia:for(t=0;t<nc;t++)if(pu(fw-1,mw-t,xw[0])){qw(),fw--,mw-=t,Rw();break}break;case xa:for(t=0;t<nc;t++)if(pu(fw+1,mw-t,xw[0])){qw(),fw++,mw-=t,Rw();break}break;case Ma:case Ca:case Ea:case La:Qu(fw+"_"+mw,xw,Vw)}}var Jw=0,zw={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Xw(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Español [ES][ES-MX]","Español - España [ES]","Español - Latinoamérica [ES-MX]","Français [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Português [PT][PT-BR]","Português -Portugal [PT]","Português - Brasil [PT-BR]","Slovenčina [SK]","Suomi [FI]","Svenska [SV]","Tiếng Việt [VI]","Türkçe [TR]","Čeština [CS]","Ελληνικά [EL]","Български [BG]","Русский [RU]","ภาษาไทย [TH]","中文 [ZH-ALL]","中文 简体 [ZH-CN]","中文 繁體 [ZH-TW]","日本語 [JA]","한국어 [KO]","Română [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function Xw(){var e=[],t=43200,n=0;for(zm=0;n<48;n++)e.push("-"+Vh(t)),t-=900;for(e.push(Vh(0)),t=900,n=0;n<48;n++)e.push(Vh(t)),t+=900;return e}var jw=[],Yw=0;function Ww(){yu(),document.body.addEventListener("keydown",mk,!1),Hc("label_refresh","icon-arrow-circle-left",P),zc("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",qc("top_bar_user","icon_center_focus"),Dc("settings_scroll"),lk(Jw=0)}function Kw(){document.body.removeEventListener("keydown",mk),rk(),zc("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Vc("top_bar_user","icon_center_focus"),Hc("label_refresh","icon-refresh",t+Xt),Fc("settings_scroll")}function Zw(){var e,t="";t+=$w("general",vn),e="content_lang",jw.push(e),t+=Qw(e,Xn),e="clock_offset",jw.push(e),t+=Qw(e,Jn),e="restor_playback",jw.push(e),zw[e].values=[xn,Pn],t+=ek(e,Ln,Tn),e="videos_animation",jw.push(e),zw[e].values=[xn,Pn],t+=Qw(e,Un),t+=$w("play",un),e="chat_font_size",jw.push(e),t+=ek(e,Bn,Gn),e="chat_brightness",jw.push(e),t+=Qw(e,ta),e="force_disable_chat",jw.push(e),zw[e].values=[xn,Pn],Jc("settings_main",t+=ek(e,Qn,ea)),Yw=jw.length}function $w(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Qw(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+ik(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function ek(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+ik(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function tk(e,t,n){Jc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function nk(){var e="";for(e in zc("setting_title_general",vn),zc((e="clock_offset")+"_name",Jn),zc((e="content_lang")+"_name",Xn),zw[e].values[0]=jn,zc(e,ik(e)),zc("setting_title_play",un),tk(e="restor_playback",Ln,Tn),zw[e].values=[xn,Pn],tk(e="chat_font_size",Bn,Gn),tk(e="force_disable_chat",Qn,ea),zw[e].values=[xn,Pn],zc((e="videos_animation")+"_name",Un),zw[e].values=[xn,Pn],zc((e="chat_brightness")+"_name",ta),zw)zw.hasOwnProperty(e)&&zc(e,ik(e))}function ak(){for(var e in zw)zw[e].defaultValue=B_(e,zw[e].defaultValue),zw[e].defaultValue-=1;fk(),jf=(.05*sk("chat_brightness")).toFixed(2),lS=sk("videos_animation"),Yr=ok("content_lang"),Nr.Play_ChatForceDisable=sk("force_disable_chat")}function ik(e){return zw[e].values[sk(e)]}function ok(e){return zw[e].set_values[sk(e)]}function sk(e){return zw[e].defaultValue}function dk(e){return zw[e].values.length-1}function lk(e){var t=jw[Jw];qc(t,"settings_value_focus"),qc(t+"_div","settings_div_focus"),uk(e)}function rk(){var e=jw[Jw];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Vc(e,"settings_value_focus"),Vc(e+"_div","settings_div_focus")}function ck(e){var t=jw[e];T_(t,sk(t)+1),zc(t,ik(t)),uk(e),_k(e)}function uk(e){var t=jw[e],n=sk(t),a=dk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function _k(e){"content_lang"===(e=jw[e])?Yr=ok("content_lang"):"videos_animation"===e?lS=sk("videos_animation"):"chat_brightness"===e?(jf=(.05*sk("chat_brightness")).toFixed(2),Ep(!1)):"force_disable_chat"===e?Nr.Play_ChatForceDisable=sk("force_disable_chat"):"chat_font_size"===e?uh():"clock_offset"===e&&(fk(),u_())}function fk(){var e=sk("clock_offset");Mc=e<48?-9e5*(48-e):9e5*(e-48)}function mk(e){var t;switch(e.keyCode){case Ta:du()?su():uu()?cu():(Kw(),bu());break;case Sa:0<sk(t=jw[Jw])&&(zw[t].defaultValue-=1,ck(Jw));break;case Pa:sk(t=jw[Jw])<dk(t)&&(zw[t].defaultValue+=1,ck(Jw));break;case Ia:0<Jw&&(rk(),lk(--Jw));break;case xa:Jw<Yw-1&&(rk(),lk(++Jw))}}var hk=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),pk=0,vk=0,gk=!1,yk=0,bk=!1,wk=0,kk=5,Ck=3500,Mk=[],Ek=0,Sk=!1,Ik=!1,Pk="",xk=!1,Lk=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function Tk(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=Pr,Nr.isLastSChannels=!1,Hc("label_side_panel","icon-arrow-circle-left",P),qc("top_bar_user","icon_center_focus"),Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+Q)),document.body.addEventListener("keydown",Vk,!1),Pk!==Ai[Nr.Users_Position].name&&(Ik=!1),Ik?(Ou(pk),Dc(Lk[6]),Rk(),ku()):Gk()}function Bk(){Nr.Users_Position=0,Vc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Vk),zc("top_bar_user",u),Hc("label_side_panel","icon-ellipsis",An),Fc(Lk[6])}function Gk(){Lu("stream_table_user_channels"),Fc(Lk[6]),Xc(),iu(),Pk=Ai[Nr.Users_Position].name,pk=vk=yk=Ek=0,xk=gk=Ik=!1,C_=!0,Qc(),Mk=[],Ok(),Uk()}function Ok(){Bu(),bk=!0,wk=0,Ck=3500}function Uk(){N_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ai[Nr.Users_Position].id)+"/follows/channels?limit=100&offset="+Ek+"&sortby=created_at&",Ck,2,null,Nk,Ak)}function Ak(){++wk<kk?(Ck+=500,Uk()):(bk=!1,yk?(gk=!0,Dk()):(C_=!1,jc(),au(T)))}function Nk(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel.name+","+t[i].channel._id+","+t[i].channel.logo+","+t[i].channel.display_name,-1===Mk.indexOf(a)&&Mk.push(a);Ek+=n,Ok(),Uk()}else Mk.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),Hk()}function Hk(){var e=dc,t=yk,n=Mk.length-t;n<e&&(e=n),e<dc&&(gk=!0),Sk=!(yk+=e);var a=e/lc;0<e%lc&&a++;for(var i,o,s,d=t,l=document.getElementById("stream_table_user_channels"),r=0;r<a;r++){for(o=t/lc+r,s=document.createElement("tr"),i=0;i<lc&&d<Mk.length;i++,d++)s.appendChild(Fk(o,o+"_"+i,Mk[d].split(",")));for(;i<lc;i++)gk&&!xk&&(xk=!0,yk=o*lc+i),s.appendChild(Nu(Lk[5]+o+"_"+i));l.appendChild(s)}Dk()}function Fk(e,t,n){return e<4&&Au(n[2]),Hu(t,Lk,n)}function Dk(){Ik?Tu(xc):(Sk?au(B+Q):(Ik=!0,Tu(xc),Rk(),ku()),Dc(Lk[6]),C_=!1,jc()),bk=!1,eu(vk,pk,lc,yk)}function Rk(){Ku(pk,vk,Lk,lc,yk),yk/lc<pk+rc&&!gk&&!bk&&(Ok(),Uk()),Dr&&qk()}function qk(){yk&&o_(pk+"_"+vk,Lk)}function Vk(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(qk(),E_(Vk));break;case Sa:if(pu(pk,vk-1,Lk[0]))qk(),vk--,Rk();else for(t=lc-1;-1<t;t--)if(pu(pk-1,t,Lk[0])){qk(),pk--,vk=t,Rk();break}break;case Pa:pu(pk,vk+1,Lk[0])?(qk(),vk++,Rk()):pu(pk+1,0,Lk[0])&&(qk(),pk++,vk=0,Rk());break;case Ia:for(t=0;t<lc;t++)if(pu(pk-1,vk-t,Lk[0])){qk(),pk--,vk-=t,Rk();break}break;case xa:for(t=0;t<lc;t++)if(pu(pk+1,vk-t,Lk[0])){qk(),pk++,vk-=t,Rk();break}break;case Ma:case Ca:case Ea:case La:Nr.Main_selectedChannel=document.getElementById(Lk[4]+pk+"_"+vk).getAttribute(bc),Nr.Main_selectedChannel_id=document.getElementById(Lk[4]+pk+"_"+vk).getAttribute("data-id"),Nr.Main_selectedChannelDisplayname=document.getElementById(Lk[3]+pk+"_"+vk).textContent,Nr.Main_selectedChannelLogo=document.getElementById(Lk[1]+pk+"_"+vk).src,document.body.removeEventListener("keydown",Vk),Nr.Main_BeforeChannel=Pr,Nr.Main_Go=Mr,Nr.Main_BeforeChannelisSet=!0,Ds=Ra=!0,Fc(Lk[6]),bu()}}var Jk=0,zk=0,Xk=!1,jk=0,Yk={},Wk=[],Kk=!1,Zk=0,$k=5,Qk=3500,eC=0,tC=0,nC=!1,aC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],iC=!1,oC="",sC=!1;function dC(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=yr,Hc("label_side_panel","icon-arrow-circle-left",P),qc("top_bar_user","icon_center_focus"),Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+Z)),document.body.addEventListener("keydown",bC,!1),oC!==Ai[Nr.Users_Position].name&&(iC=!1),iC?(Ou(Jk),Dc(aC[10]),gC(),ku()):rC()}function lC(){Nr.Users_Position=0,Vc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",bC),zc("top_bar_user",u),Hc("label_side_panel","icon-ellipsis",An),Fc(aC[10])}function rC(){Lu("stream_table_user_host"),Fc(aC[10]),Xc(),iu(),oC=Ai[Nr.Users_Position].name,iC=!1,Yk={},jk=tC=eC=0,Jk=zk=0,Xk=!(C_=!(sC=!(Wk=[]))),Qc(),cC(),uC()}function cC(){Bu(),Kk=!0,Zk=0,Qk=3500}function uC(){var e=jk+eC;e&&tC-1<e&&(e=tC-tc,Xk=!0),N_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ai[Nr.Users_Position].name)+"/followed/hosting?limit="+tc+"&offset="+e,Qk,2,null,fC,_C)}function _C(){++Zk<$k?(Qk+=500,uC()):(Kk=!1,jk?(Xk=!0,mC()):(C_=!1,jc(),au(T)))}function fC(e){var t=JSON.parse(e),n=t.hosts.length;tC=parseInt(t._total),n<tc&&(Xk=!0);var a=jk;nC=!(jk+=n);var i=n/nc;0<n%nc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/nc+_,d=document.createElement("tr"),o=0;o<nc&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,Yk[r]?o--:(Yk[r]=1,d.appendChild(Ru(s,s+"_"+o,[l.target.channel.name,l.target._id],aC,[l.target.preview_urls.template.replace("{width}x{height}",vc),l.display_name+ae+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+fu(l.target.viewers)+q,""])));for(;o<nc;o++)Xk&&!sC&&(sC=!0,jk=s*nc+o),d.appendChild(Nu(aC[9]+s+"_"+o)),Wk.push(aC[9]+s+"_"+o);u.appendChild(d)}mC()}function mC(){if(iC){if(Tu(Lc),0<Wk.length&&!Xk)return cC(),void hC();eu(zk,Jk,nc,jk),Wk=[]}else nC?au(B+Z):(iC=!0,gC(),Tu(Lc),ku()),Dc(aC[10]),C_=!1,jc();Kk=!1}function hC(){nu(Wk.length);var e=jk+eC;e&&tC-1<e&&(e=tC-cc,Xk=!0),N_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ai[Nr.Users_Position].name)+"/followed/hosting?limit="+cc+"&offset="+e,Qk,2,null,vC,pC)}function pC(){++Zk<$k?(Qk+=500,hC()):(Xk=!0,jk-=Wk.length,Wk=[],mC())}function vC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(tC=parseInt(a._total),i<cc&&(Xk=!0);o<Wk.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,Yk[n]?o--:(Yk[n]=1,qu(Wk[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",vc),t.display_name+ae+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+fu(t.target.viewers)+q,""],aC),d.push(o));for(o=d.length-1;-1<o;o--)Wk.splice(d[o],1);eC+=s,Xk&&(jk-=Wk.length,Wk=[]),mC()}function gC(){Zu(Jk,zk,aC,nc,jk),jk/nc<Jk+ac&&!Xk&&!Kk&&(cC(),uC()),Dr&&yC()}function yC(){jk&&o_(Jk+"_"+zk,aC)}function bC(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(yC(),E_(bC));break;case Sa:if(pu(Jk,zk-1,aC[0]))yC(),zk--,gC();else for(t=nc-1;-1<t;t--)if(pu(Jk-1,t,aC[0])){yC(),Jk--,zk=t,gC();break}break;case Pa:pu(Jk,zk+1,aC[0])?(yC(),zk++,gC()):pu(Jk+1,0,aC[0])&&(yC(),Jk++,zk=0,gC());break;case Ia:for(t=0;t<nc;t++)if(pu(Jk-1,zk-t,aC[0])){yC(),Jk--,zk-=t,gC();break}break;case xa:for(t=0;t<nc;t++)if(pu(Jk+1,zk-t,aC[0])){yC(),Jk++,zk-=t,gC();break}break;case Ma:case Ca:case Ea:case La:Qu(Jk+"_"+zk,aC,bC)}}var wC,kC,CC,MC=0,EC=5,SC=0,IC=!1,PC="",xC=0,LC=0,TC={},BC=!1,GC=[],OC=null,UC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function AC(){$i()&&(OC=BC?JSON.parse(document.getElementById(UC[8]+em).getAttribute(bc))[0]:null,Lu("user_feed_scroll"),Fc("user_feed_scroll"),wC=!0,Dc("dialog_loading_feed"),PC="",LC=xC=SC=MC=0,em=0,TC={},GC=[],l_(function(){FC(),DC()}))}function NC(e){for(var t,n=0;n<GC.length;n++)null!==(t=document.getElementById(GC[n].id))&&Bc(t,GC[n].src+Sc,e)}function HC(e,t){GC.push({id:e,src:t})}function FC(){kC=0,CC=3500}function DC(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ai[Nr.Users_Position].id)+"/follows/channels?limit=100&offset="+MC+"&sortby=created_at";if(Ec){if(!(e=Android.mreadUrl(t,CC,2,null)))return void RC();200===(e=JSON.parse(e)).status?qC(e.responseText):RC()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=CC,e.setRequestHeader(fc,pc),e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void qC(e.responseText);RC()}},e.send(null)}function RC(){++kC<EC?(CC+=500,DC()):(wC=!1,SC?(IC=!0,XC()):(Fc("dialog_loading_feed"),ep(T),window.setTimeout(function(){tp()},2e3)))}function qC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===PC.indexOf(a)&&(PC+=a);MC+=n,FC(),DC()}else PC=PC.slice(0,-1),FC(),l_(VC)}function VC(){var e=SC+xC;e&&LC-1<e&&(e=LC-tc,IC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(PC)+"&limit=100&offset="+e+"&stream_type=all";if(Ec){if(!(t=Android.mreadUrl(n,CC,2,null)))return void JC();200===(t=JSON.parse(t)).status?zC(t.responseText):JC()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=CC,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void zC(t.responseText);JC()}},t.send(null)}function JC(){++kC<EC?(CC+=500,VC()):(wC=!1,Fc("dialog_loading_feed"),ep(T),window.setTimeout(function(){tp()},2e3))}function zC(e){var t=JSON.parse(e),n=t.streams.length;LC=parseInt(t._total),n<tc&&(IC=!0),SC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,TC[i]||(TC[i]=1,null!==OC&&OC===a.channel.name&&(em=s),o.appendChild(jC(s,[a.channel.name,i],UC,[a.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+zh(a.created_at)+b+", "+h+fu(a.viewers)+q,mu(a.video_height,a.average_fps,a.channel.language)])));XC()}function XC(){NC(Lc),Vp(),BC=!(wC=!1),Fc("dialog_loading_feed"),Dc("user_feed_scroll"),Rp()}function jC(e,t,n,a){return HC(n[1]+e,a[0]),(Xr=document.createElement("div")).setAttribute("id",n[8]+e),Xr.setAttribute(bc,JSON.stringify(t)),Xr.className="user_feed_thumb",Xr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Xr}var YC=0,WC=0,KC=!1,ZC=0,$C={},QC=[],eM=!1,tM=0,nM=5,aM=3500,iM=0,oM=0,sM=0,dM=!1,lM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],rM=!1,cM="",uM="",_M=!1;function fM(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=gr,Hc("label_side_panel","icon-arrow-circle-left",P),qc("top_bar_user","icon_center_focus"),Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+K)),document.body.addEventListener("keydown",xM,!1),uM!==Ai[Nr.Users_Position].name&&(rM=!1),rM?(Ou(YC),Dc(lM[10]),IM(),ku()):hM()}function mM(){Nr.Users_Position=0,Vc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",xM),zc("top_bar_user",u),Hc("label_side_panel","icon-ellipsis",An),Fc(lM[10])}function hM(){Lu("stream_table_user_live"),Fc(lM[10]),Xc(),iu(),rM=!1,uM=Ai[Nr.Users_Position].name,oM=iM=sM=0,$C={},YC=WC=ZC=0,KC=!(C_=!(_M=!(QC=[]))),cM="",Qc(),pM(),vM()}function pM(){Bu(),eM=!0,tM=0,aM=3500}function vM(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ai[Nr.Users_Position].id)+"/follows/channels?limit=100&offset="+sM+"&sortby=created_at";if(Ec){if(!(e=Android.mreadUrl(t,aM,2,null)))return void gM();200===(e=JSON.parse(e)).status?yM(e.responseText):gM()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=aM,e.setRequestHeader(fc,pc),e.setRequestHeader(_c,uc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void yM(e.responseText);gM()}},e.send(null)}function gM(){++tM<nM?(aM+=500,vM()):(eM=!1,ZC?(KC=!0,CM()):(C_=!1,jc(),au(T)))}function yM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===cM.indexOf(a)&&(cM+=a);sM+=n,pM(),vM()}else cM=cM.slice(0,-1),pM(),bM()}function bM(){var e=ZC+iM;e&&oM-1<e&&(e=oM-tc,KC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(cM)+"&limit="+tc+"&offset="+e+"&stream_type=all";if(Ec){if(!(t=Android.mreadUrl(n,aM,2,null)))return void wM();200===(t=JSON.parse(t)).status?kM(t.responseText):wM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=aM,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void kM(t.responseText);wM()}},t.send(null)}function wM(){++tM<nM?(aM+=500,bM()):(eM=!1,jc(),au(T))}function kM(e){var t=JSON.parse(e),n=t.streams.length;oM=parseInt(t._total),n<tc&&(KC=!0);var a=ZC;dM=!(ZC+=n);var i=n/nc;0<n%nc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/nc+_,d=document.createElement("tr"),o=0;o<nc&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,$C[r]?o--:($C[r]=1,d.appendChild(Ru(s,s+"_"+o,[l.channel.name,r],lM,[l.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+zh(l.created_at)+b+", "+h+fu(l.viewers)+q,mu(l.video_height,l.average_fps,l.channel.language)])));for(;o<nc;o++)KC&&!_M&&(_M=!0,ZC=s*nc+o),d.appendChild(Nu(lM[9]+s+"_"+o)),QC.push(lM[9]+s+"_"+o);u.appendChild(d)}CM()}function CM(){if(rM){if(Tu(Lc),0<QC.length&&!KC)return pM(),void MM();eu(WC,YC,nc,ZC),QC=[]}else dM?au(B+K):(rM=!0,IM(),Tu(Lc),ku()),Dc(lM[10]),C_=!1,jc();eM=!1}function MM(){nu(QC.length);var e=ZC+iM;e&&oM-1<e&&(e=oM-cc,KC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(cM)+"&limit="+cc+"&offset="+e+"&stream_type=all";if(Ec){if(!(t=Android.mreadUrl(n,aM,2,null)))return void EM();200===(t=JSON.parse(t)).status?SM(t.responseText):EM()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=aM,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void SM(t.responseText);EM()}},t.send(null)}function EM(){++tM<nM?(aM+=500,MM()):(KC=!0,ZC-=QC.length,QC=[],CM())}function SM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(oM=parseInt(a._total),i<cc&&(KC=!0);o<QC.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,$C[n]?o--:($C[n]=1,qu(QC[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",vc),hu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+zh(t.created_at)+b+", "+h+fu(t.viewers)+q,mu(t.video_height,t.average_fps,t.channel.language)],lM),d.push(o));for(o=d.length-1;-1<o;o--)QC.splice(d[o],1);iM+=s,KC&&(ZC-=QC.length,QC=[]),CM()}function IM(){Zu(YC,WC,lM,nc,ZC),ZC/nc<YC+ac&&!KC&&!eM&&(pM(),vM()),Dr&&PM()}function PM(){ZC&&o_(YC+"_"+WC,lM)}function xM(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(PM(),E_(xM));break;case Sa:if(pu(YC,WC-1,lM[0]))PM(),WC--,IM();else for(t=nc-1;-1<t;t--)if(pu(YC-1,t,lM[0])){PM(),YC--,WC=t,IM();break}break;case Pa:pu(YC,WC+1,lM[0])?(PM(),WC++,IM()):pu(YC+1,0,lM[0])&&(PM(),YC++,WC=0,IM());break;case Ia:for(t=0;t<nc;t++)if(pu(YC-1,WC-t,lM[0])){PM(),YC--,WC-=t,IM();break}break;case xa:for(t=0;t<nc;t++)if(pu(YC+1,WC-t,lM[0])){PM(),YC++,WC-=t,IM();break}break;case Ma:case Ca:case Ea:case La:Qu(YC+"_"+WC,lM,xM)}}var LM=0,TM=0,BM=8,GM=0,OM=null,UM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],AM=!1,NM=!0;function HM(){return qr?(FM(),void Ya(qr)):io()?(Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=Ir,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",iu(),qc("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",eE,!1),void(AM?(Ou(LM),Dc(UM[5]),zM(),ku()):DM())):(Nr.Main_Go=mr,FM(),void bu())}function FM(){Nr.Users_Position=0,Vc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",eE),Fc(UM[5]),document.getElementById("screens_holder").style.top="0"}function DM(){Lu("stream_table_user"),Fc(UM[5]),Xc(),iu(),C_=!(AM=!1),NM=!(LM=TM=0),l_(function(){RM()})}function RM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Ai.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Xr=document.createElement("tr")).className="follower_header",Xr.innerHTML='<div class="follower_header">'+(o?"":se)+Ai[o].name+H+"</div>",i.appendChild(a),i.appendChild(Xr),(e=document.createElement("tr")).appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,Ty.isLive?$:Jt,"gamepad",n)),t++,e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,Zt,"movie-play",n)),t++,e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,o?e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,oe,"arrow-up",n)):e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(qM(o+"_"+t,Nr.Main_selectedChannelDisplayname,Ai[o].access_token?bt:yt,"key",n)),i.appendChild(e);VM()}function qM(e,t,n,a,i){return(Xr=document.createElement("td")).setAttribute("id",UM[4]+e),Xr.setAttribute(bc,t),Xr.className="stream_cell",Xr.innerHTML='<div id="'+UM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+UM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+UM[2]+e+'" class="stream_text"><div id="'+UM[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",Xr}function VM(){l_(function(){AM||(AM=!0,zM(),jc(),ku()),Dc(UM[5]),NM=C_=!1})}function JM(){for(var e=0;e<Ai.length;e++)zc(UM[3]+e+"_2",Ty.isLive?$:Jt)}function zM(){qc(UM[0]+LM+"_"+TM,"stream_thumbnail_focused"),Uu(LM)?1<LM?pu(LM+1,0,UM[0])&&i_(UM[5],-1*document.getElementById(UM[4]+LM+"_"+TM).offsetTop+500):i_(UM[5],screen.height/100*7):Xu(),Dr&&XM()}function XM(){Fr=!1,Vc(UM[0]+LM+"_"+TM,"stream_thumbnail_focused")}function jM(){return Nr.Users_Position=LM,3!==TM||Ai[Nr.Users_Position].access_token?7===TM&&Ai[Nr.Users_Position].access_token?(au(bt),void window.setTimeout(iu,1500)):(6!==TM&&7!==TM&&(Fc(UM[5]),document.body.removeEventListener("keydown",eE),document.getElementById("screens_holder").style.top="0"),void l_(function(){TM?1===TM?dC():2===TM?(ny=Ty,dy()):3===TM?wE():4===TM?Tk():5===TM?LM?no(LM):(Nr.Main_Before=Ir,Di()):6===TM?KM():7!==TM||Ai[Nr.Users_Position].access_token||KM():fM()})):(au(Sn),void window.setTimeout(iu,5e3))}function YM(){window.clearTimeout(OM)}function WM(){OM=window.setTimeout(ZM,2e4)}function KM(){WM(),6===TM?Jc("main_dialog_remove",qt+aa+Ai[Nr.Users_Position].name+"?"):7===TM&&Jc("main_dialog_remove",_t+" "+Ai[Nr.Users_Position].name+"?"),Dc("main_remove_dialog")}function ZM(){YM(),Fc("main_remove_dialog"),GM=0,QM()}function $M(){return Rc("main_remove_dialog")}function QM(){GM?(Vc("remove_cancel","button_search_focused"),qc("remove_yes","button_search_focused")):(qc("remove_cancel","button_search_focused"),Vc("remove_yes","button_search_focused"))}function eE(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:$M()?ZM():du()?su():uu()?cu():(XM(),E_(eE));break;case Sa:if($M())--GM<0&&(GM=1),QM(),YM(),WM();else if(pu(LM,TM-1,UM[0]))XM(),TM--,zM();else if(pu(LM-1,0,UM[0])){for(t=BM-1;-1<t;t--)if(pu(LM-1,t,UM[0])){XM(),LM--,TM=t,zM();break}}else XM(),TM=BM-1,zM();break;case Pa:$M()?(1<++GM&&(GM=0),QM(),YM(),WM()):(pu(LM,TM+1,UM[0])?(XM(),TM++):(pu(LM+1,0,UM[0])?(XM(),LM++):XM(),TM=0),zM());break;case Ia:for(t=0;t<BM;t++)if(pu(LM-1,TM-t,UM[0])){XM(),LM--,TM-=t,zM();break}break;case xa:for(t=0;t<BM;t++)if(pu(LM+1,TM-t,UM[0])){XM(),LM++,TM-=t,zM();break}break;case Ma:case Ca:case Ea:case La:var n;if($M()){if(6===TM)n=GM,ZM(),n&&(document.body.removeEventListener("keydown",eE),FM(),eo(LM));else if(n=GM,ZM(),n){Nr.Users_AddcodePosition=Nr.Users_Position,ku();var a=za,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(uc)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else jM()}}var tE=0,nE=0,aE=!1,iE=0,oE={},sE=[],dE=!1,lE=0,rE=5,cE=3500,uE=0,_E=0,fE=!1,mE=!1,hE="time",pE=2,vE=!1,gE=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],yE=!1,bE=!1;function wE(){Nr.Main_CenterLablesVectorPos=1,Nr.Main_Go=Ur,qc("top_bar_user","icon_center_focus"),Hc("label_side_panel","icon-arrow-circle-left",P),Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+(bE?A:U))),document.body.addEventListener("keydown",FE,!1),yE?(Ou(tE),Dc(gE[10]),DE(),UE(),ku()):CE()}function kE(){Nr.Users_Position=0,yE&&AE(),Vc("top_bar_user","icon_center_focus"),Hc("label_side_panel","icon-ellipsis",An),document.body.removeEventListener("keydown",FE),zc("top_bar_user",u),Fc(gE[10])}function CE(){yE&&AE(),Lu("stream_table_user_vod"),Fc(gE[10]),Xc(),DE(),iu(),vE=yE=!1,_E=uE=0,oE={},tE=nE=iE=0,aE=!(C_=!(mE=!(sE=[]))),Qc(),EE()}function ME(){Bu(),dE=!0,lE=0,cE=3500}function EE(){ME(),SE()}function SE(){var e=iE+uE;e&&_E-1<e&&(e=_E-tc,aE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+tc+"&broadcast_type="+(bE?"highlight":"archive")+"&sort="+hE+"&offset="+e;if(Ec){if(!(t=Android.mreadUrl(n,cE,3,hc+Ai[Nr.Users_Position].access_token)))return void IE();if(200===(t=JSON.parse(t)).status)return void xE(t.responseText);401===t.status||403===t.status?Wa(Nr.Users_Position,0,EE,PE):IE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=cE,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.setRequestHeader(mc,hc+Ai[Nr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void xE(t.responseText);401===t.status||403===t.status?Wa(Nr.Users_Position,0,EE,PE):IE()}},t.send(null)}function IE(){++lE<rE?(cE+=500,SE()):PE()}function PE(){dE=!1,iE?(aE=!0,LE()):(C_=!1,jc(),au(T))}function xE(e){var t=JSON.parse(e),n=t.videos.length;_E=parseInt(t._total),n<tc&&(aE=!0);var a=iE;fE=!(iE+=n);var i=n/nc;0<n%nc&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!vE){var _;for(vE=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+In:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+p,(Xr=document.createElement("td")).setAttribute("id",gE[8]+"y_"+f),Xr.className="stream_cell",Xr.innerHTML='<div id="'+gE[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+gE[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Xr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nc+f,d=document.createElement("tr"),o=0;o<nc&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||oE[r]?o--:(oE[r]=1,d.appendChild(vS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vc),l.channel.display_name,F+Pu(l.created_at),hk.parse(l.title)+aa+Wt+v+l.game,fu(l.views)+R,mu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Vh(l.length),l.animated_preview_url],gE)));for(;o<nc;o++)aE&&!mE&&(mE=!0,iE=s*nc+o),d.appendChild(Nu(gE[9]+s+"_"+o)),sE.push(gE[9]+s+"_"+o);u.appendChild(d)}LE()}function LE(){yE?(Tu(Lc),eu(nE,tE,nc,iE)):(fE?au(B+(bE?A:U)+G+I):(yE=!0,UE(),Tu(Lc),ku()),Dc(gE[10]),C_=!1,jc()),0<sE.length&&!aE?TE():dE=!(sE=[])}function TE(){ME(),BE()}function BE(){nu(sE.length);var e=iE+uE;e&&_E-1<e&&(e=_E-cc,aE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+cc+"&broadcast_type="+(bE?"highlight":"archive")+"&sort="+hE+"&offset="+e;if(Ec){if(!(t=Android.mreadUrl(n,cE,3,hc+Ai[Nr.Users_Position].access_token)))return void GE();if(200===(t=JSON.parse(t)).status)return void OE(t.responseText);401===t.status||403===t.status?Wa(Nr.Users_Position,0,EE,PE):GE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=cE,t.setRequestHeader(fc,pc),t.setRequestHeader(_c,uc),t.setRequestHeader(mc,hc+Ai[Nr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void OE(t.responseText);401===t.status||403===t.status?Wa(Nr.Users_Position,0,EE,PE):GE()}},t.send(null)}function GE(){++lE<rE?(cE+=500,BE()):(aE=!0,iE-=sE.length,sE=[],LE())}function OE(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(_E=parseInt(a._total);o<sE.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||oE[n]?o--:(oE[n]=1,yS(sE[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vc),t.channel.display_name,F+Pu(t.created_at),hk.parse(t.title)+aa+Wt+v+t.game,fu(t.views)+R,mu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Vh(t.length),t.animated_preview_url],gE),d.push(o));for(o=d.length-1;-1<o;o--)sE.splice(d[o],1);uE+=s,aE&&(iE-=sE.length,sE=[]),LE()}function UE(){tE<0?NE():(Zu(tE,nE,gE,nc,iE),xS(gE,tE+"_"+nE),iE/nc<tE+ac&&!aE&&!dE&&EE(),Dr&&AE())}function AE(){window.clearInterval(RE),-1<tE&&iE?(Dc(gE[1]+tE+"_"+nE),o_(tE+"_"+nE,gE)):HE()}function NE(){var e=1<nE?1:nE;qc(gE[0]+"y_"+e,yc)}function HE(){var e=1<nE?1:nE;Vc(gE[0]+"y_"+e,yc)}function FE(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:du()?su():du()?su():uu()?cu():(AE(),E_(FE));break;case Sa:if(-1===tE)HE(),--nE<0&&(nE=1),NE();else if(tE||nE){if(pu(tE,nE-1,gE[0]))AE(),nE--,UE();else for(t=nc-1;-1<t;t--)if(pu(tE-1,t,gE[0])){AE(),tE--,nE=t,UE();break}}else AE(),HE(),tE=-1,nE=1,NE();break;case Pa:-1===tE?(HE(),1<++nE?(nE=0,fE?NE():(tE=0,UE())):NE()):pu(tE,nE+1,gE[0])?(AE(),nE++,UE()):pu(tE+1,0,gE[0])&&(AE(),tE++,nE=0,UE());break;case Ia:if(-1!==tE||fE)if(tE){for(t=0;t<nc;t++)if(pu(tE-1,nE-t,gE[0])){AE(),tE--,nE-=t,UE();break}}else AE(),tE=-1,NE();else tE=0,HE(),UE();break;case xa:if(-1!==tE||fE){for(t=0;t<nc;t++)if(pu(tE+1,nE-t,gE[0])){AE(),tE++,nE-=t,UE();break}}else tE=0,HE(),UE();break;case Ma:case Ca:case Ea:case La:-1===tE?(0===nE?T_("UserVod_highlight",(bE=!bE)?"true":"false"):1===pE?pE++:pE--,CE()):n_(tE+"_"+nE,gE,FE)}}function DE(){1===pE?(Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+" "+(bE?A:U)+Mn)),hE="time"):2===pE&&(Jc("top_bar_user",u+Iu(Ai[Nr.Users_Position].name+" "+(bE?A:U)+En)),hE="views"),T_("UserVod_TypeNumber",pE)}var RE,qE=0,VE=0,JE=!1,zE=0,XE={},jE=[],YE=!1,WE=0,KE=5,ZE=3500,$E=0,QE=0,eS=!1,tS=!1,nS="week",aS=2,iS=!1,oS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],sS=!1,dS=!1,lS=1,rS=new Image;function cS(){Nr.Main_CenterLablesVectorPos=4,Nr.Main_Go=Lr,qc("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",LS,!1),sS?(Ou(qE),Dc(oS[10]),TS(),ES(),ku()):_S()}function uS(){sS&&SS(),Eu(),document.body.removeEventListener("keydown",LS),Vc("top_bar_vod","icon_center_focus"),zc("top_bar_vod",Zt),Fc(oS[10])}function _S(){sS&&SS(),Lu("stream_table_vod"),Fc(oS[10]),Xc(),TS(),iu(),iS=sS=!1,QE=$E=0,XE={},qE=VE=zE=0,JE=!(C_=!(tS=!(jE=[]))),Qc(),fS(),mS()}function fS(){Bu(),YE=!0,WE=0,ZE=3500}function mS(){var e=zE+$E;e&&QE-1<e&&(e=QE-tc,JE=!0),N_("https://api.twitch.tv/kraken/videos/top?limit="+tc+"&broadcast_type="+(dS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+nS+(""!==Yr?"&language="+Yr:""),ZE,2,null,pS,hS)}function hS(){++WE<KE?(ZE+=500,mS()):(YE=!1,zE?(JE=!0,wS()):(C_=!1,jc(),au(T)))}function pS(e){var t=JSON.parse(e),n=t.vods.length;QE=parseInt(t._total),n<tc&&(JE=!0);var a=zE;eS=!(zE+=n);var i=n/nc;0<n%nc&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!iS){var _;for(iS=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+ga+ga+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+ga+ga+p,(Xr=document.createElement("td")).setAttribute("id",oS[8]+"y_"+f),Xr.className="stream_cell",Xr.innerHTML='<div id="'+oS[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+oS[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Xr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/nc+f,d=document.createElement("tr"),o=0;o<nc&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||XE[r]?o--:(XE[r]=1,d.appendChild(vS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",vc),l.channel.display_name,F+Pu(l.created_at),hk.parse(l.title)+aa+Wt+v+l.game,fu(l.views)+R,mu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Vh(l.length),l.animated_preview_url],oS)));for(;o<nc;o++)JE&&!tS&&(tS=!0,zE=s*nc+o),d.appendChild(Nu(oS[9]+s+"_"+o)),jE.push(oS[9]+s+"_"+o);u.appendChild(d)}wS()}function vS(e,t,n,a,i){return e<nc&&Au(a[0]),gS(n,t,a,i)}function gS(e,t,n,a){return(Xr=document.createElement("td")).setAttribute("id",a[8]+t),Xr.setAttribute(bc,JSON.stringify(e)),Xr.className="stream_cell",Xr.innerHTML=bS(t,n,a),Xr}function yS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(bc,JSON.stringify(t)),i.innerHTML=bS(o,n,a),i.setAttribute("id",a[8]+o)}function bS(e,t,n){return Gu(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function wS(){if(sS?(Tu(Lc),eu(VE,qE,nc,zE)):(eS?au(B+(dS?A:U)+G+I):(sS=!0,ES(),Tu(Lc),ku()),Dc(oS[10]),C_=!1,jc()),0<jE.length&&!JE)return fS(),void kS();YE=!(jE=[])}function kS(){nu(jE.length);var e=zE+$E;e&&QE-1<e&&(e=QE-cc,JE=!0),N_("https://api.twitch.tv/kraken/videos/top?limit="+cc+"&broadcast_type="+(dS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+nS+(""!==Yr?"&language="+Yr:""),ZE,2,null,MS,CS)}function CS(){++WE<KE?(ZE+=500,kS()):(JE=!0,zE-=jE.length,jE=[],wS())}function MS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(QE=parseInt(a._total);o<jE.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||XE[n]?o--:(XE[n]=1,yS(jE[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",vc),t.channel.display_name,F+Pu(t.created_at),hk.parse(t.title)+aa+Wt+v+t.game,fu(t.views)+R,mu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Vh(t.length),t.animated_preview_url],oS),d.push(o));for(o=d.length-1;-1<o;o--)jE.splice(d[o],1);$E+=s,JE&&(zE-=jE.length,jE=[]),wS()}function ES(){qE<0?IS():(Zu(qE,VE,oS,nc,zE),xS(oS,qE+"_"+VE),zE/nc<qE+ac&&!JE&&!YE&&(fS(),mS()),Dr&&SS())}function SS(){window.clearInterval(RE),-1<qE&&zE?(Dc(oS[1]+qE+"_"+VE),o_(qE+"_"+VE,oS)):PS()}function IS(){var e=1<VE?1:VE;qc(oS[0]+"y_"+e,yc)}function PS(){var e=1<VE?1:VE;Vc(oS[0]+"y_"+e,yc)}function xS(t,n){if(lS){var a=document.getElementById(t[0]+n);rS.onload=function(){Fc(t[1]+n),a.style.backgroundSize="612px";var e=0;RE=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},rS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function LS(e){var t;if(!C_&&!Wu())switch(Yu(),e.keyCode){case Ta:uu()?cu():du()?su():(SS(),E_(LS));break;case Sa:if(-1===qE)PS(),--VE<0&&(VE=1),IS();else if(qE||VE){if(pu(qE,VE-1,oS[0]))SS(),VE--,ES();else for(t=nc-1;-1<t;t--)if(pu(qE-1,t,oS[0])){SS(),qE--,VE=t,ES();break}}else SS(),PS(),qE=-1,VE=1,IS();break;case Pa:-1===qE?(PS(),1<++VE?(VE=0,eS?IS():(qE=0,ES())):IS()):pu(qE,VE+1,oS[0])?(SS(),VE++,ES()):pu(qE+1,0,oS[0])&&(SS(),qE++,VE=0,ES());break;case Ia:if(-1!==qE||eS)if(qE){for(t=0;t<nc;t++)if(pu(qE-1,VE-t,oS[0])){SS(),qE--,VE-=t,ES();break}}else SS(),qE=-1,IS();else qE=0,PS(),ES();break;case xa:if(-1!==qE||eS){for(t=0;t<nc;t++)if(pu(qE+1,VE-t,oS[0])){SS(),qE++,VE-=t,ES();break}}else qE=0,PS(),ES();break;case Ma:case Ca:case Ea:case La:-1===qE?(0===VE?T_("Vod_highlight",(dS=!dS)?"true":"false"):4<++aS&&(aS=1),_S()):n_(qE+"_"+VE,oS,LS)}}function TS(){1===aS?(Jc("top_bar_vod",Zt+Iu((dS?A:U)+le)),nS="day"):2===aS?(Jc("top_bar_vod",Zt+Iu((dS?A:U)+re)),nS="week"):3===aS?(Jc("top_bar_vod",Zt+Iu((dS?A:U)+ce)),nS="month"):4===aS&&(Jc("top_bar_vod",Zt+Iu((dS?A:U)+ue)),nS="all"),T_("vod_periodNumber",aS)}