var t,n,i,e,a,o,s,d,l,r,p,c,u,_,f,h,v,m,g,y,b,w,A,k,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,Ae,ke,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,At,kt,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,An,kn,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ri,ci,ui,_i,fi,hi,mi="fglfgl27@gmail.com",pi="<br>",vi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',gi='<div class="about_text_title">',yi='<div class="about_text_title" style="text-align: left;">',bi='<div style="text-align: left;">',wi="",Ai="",ki="",Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="&nbsp;";function Ti(){wi=e+" (C)",Ai=n+" (D)",Ci=i+" (A)",ki=a+" (A)",l+=Zt,r+=Zt,I=ai+oi,Ei=gi+e+"</div>"+gi+Ce+"</div>"+pi+bi+vi+xe+pi+vi+(Pe+=Yt)+pi+vi+Te+pi+vi+ci+pi+vi+Le+pi+Be+pi+vi+Oe+pi+Pi+Pi+Pi+Ge+pi+vi+Ue+pi+"</div>"+pi+(Si=gi+Ae+"</div>"+bi+vi+nt+pi+vi+$e+pi+vi+et+pi+"</div>"+bi+vi+tt+pi+vi+it+pi+vi+at+pi+pi+gi+ke+"</div>"+bi+vi+ot+pi+vi+st+pi+vi+dt+pi+vi+lt+pi+vi+rt)+pi+pi+gi+we+"</div>",Mi=gi+be+"</div></div>",Ii=bi+pi+Re+pi+(Yl?pi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+pi+gi+Ne+"</div>"+mi+pi+pi+De+pi+Ve+pi+pi+yi+Je+"</div>"+bi+We+pi+vi+He+pi+vi+Fe+pi+vi+qe+pi+vi+ze+pi+vi+Xe+pi+vi+Ye+pi+vi+je+pi+Qe+pi+vi+Ze+pi+vi+Ke+pi+gi+we+"</div></div>",xi=ht+pi+vi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+pi+vi+pt+pi+vi+vt+pi+vi+gt+pi+vi+yt}function Li(){Sr=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",c="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",A="Type your authentication key...",k="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",Ae="Player Related:",ke="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ci="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",At="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+pi+"Chat: Connected."+pi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",kn=(An="From:"+pi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ri="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed"}var Bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ui="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ri=51,Ni=52,Di=179,Vi=37,Ji=38,Hi=39,Fi=40,qi=13,zi=49,Xi=8,Yi=13,ji=32,Wi=46,Qi=0,Zi=5,Ki=1e4,$i=0,ea=!1,ta=!1,na=!1,ia="",aa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",oa="elsu5d09k0xomu7cggx3qg5ybdwu7g",sa="https://id.twitch.tv/oauth2/token?";function da(e){yr.Users_Position=yr.Users_AddcodePosition,$i=e,La(),Mc(),_a()}function la(e,t,n,i){var a=new XMLHttpRequest,o=sa+"grant_type=refresh_token&client_id="+encodeURIComponent(Xr)+"&client_secret="+encodeURIComponent(oa)+"&refresh_token="+encodeURIComponent(Ka[e].refresh_token)+"&redirect_uri="+aa;a.open("POST",o,!0),a.timeout=Ki,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?ca(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ma(),i&&i()):ra(e,t,n,i))},a.send(null)}function ra(e,t,n,i){++t<5?la(e,t,n,i):i&&i()}function ca(e,t,n){var i=JSON.parse(e);ua(i.scope)?(Ka[t].access_token=i.access_token,Ka[t].refresh_token=i.refresh_token,go()):ma(),n&&n()}function ua(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function _a(){var e=sa+"grant_type=authorization_code&client_id="+encodeURIComponent(Xr)+"&client_secret="+encodeURIComponent(oa)+"&code="+encodeURIComponent($i)+"&redirect_uri="+aa,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Ki,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?pa(t.responseText):fa())},t.send(null)}function fa(){++Qi<Zi?_a():ha()}function ha(){Ic(),Rc(Tt),window.setTimeout(function(){Nc(),kr=0,tu(),yr.Main_Go=rr,window.location=aa},4e3),Ka[yr.Users_Position].access_token=0,Ka[yr.Users_Position].refresh_token=0,go()}function ma(){WE=!1,Ic(),Rc(Tt),Ka[yr.Users_Position].access_token=0,Ka[yr.Users_Position].refresh_token=0,go(),tu(),window.setTimeout(Nc,4e3)}function pa(e){var t=JSON.parse(e);Ka[yr.Users_Position].access_token=t.access_token,Ka[yr.Users_Position].refresh_token=t.refresh_token,La(),va()}function va(){d_("https://api.twitch.tv/kraken?oauth_token="+Ka[yr.Users_Position].access_token,Ki,0,null,ga,ya)}function ga(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ka[yr.Users_Position].name)){if(go(),kr=0,Ic(),WE=!1,yr.Main_Go=rr,tu(),Rc(wt),lc)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=aa},3e3)}else Ka[yr.Users_Position].access_token=0,Ka[yr.Users_Position].refresh_token=0,Rc(Gn+Ka[yr.Users_Position].name),window.setTimeout(function(){Nc(),kr=0,tu(),yr.Main_Go=rr,window.location=aa},4e3)}function ya(){++Qi<Zi?(Ki+=500,va()):ha()}function ba(){La(),ea=!1,wa()}function wa(){var e="https://api.twitch.tv/kraken/users/"+Ka[yr.Users_Position].id+"/follows/channels/"+ia,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ki,t.setRequestHeader(Yr,Xr),t.setRequestHeader(jr,Zr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Aa():404===t.status?ka(t.responseText):Ca())},t.send(null)}function Aa(){ea=!0,na?Jp():ds()}function ka(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ea=!1,na?Jp():ds()):Ca()}function Ca(){++Qi<Zi?(Ki+=500,wa()):na?Jp():ds()}function Ea(){La(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ka[yr.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Yr,Xr),e.setRequestHeader(jr,Zr),e.setRequestHeader("Authorization","OAuth "+Ka[yr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ea=!0,void(na?Jp():ds());401===e.status||403===e.status?la(yr.Users_Position,0,Ea,null):Ia()}},e.send(null)}function Ia(){++Qi<Zi&&(Ki+=500,Ma())}function Sa(){La(),xa()}function xa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ka[yr.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Yr,Xr),e.setRequestHeader(jr,Zr),e.setRequestHeader("Authorization","OAuth "+Ka[yr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ea=!1,void(na?Jp():ds());401===e.status||403===e.status?la(yr.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++Qi<Zi&&(Ki+=500,xa())}function Ta(){La(),ta=!1,Ba()}function La(){Qi=0,Ki=1e4}function Ba(){var e,t="https://api.twitch.tv/kraken/users/"+Ka[yr.Users_Position].id+"/subscriptions/"+ia;if(lc){if(!(e=Android.mreadUrl(t,Ki,3,Ka[yr.Users_Position].access_token)))return void Oa();if(200===(e=JSON.parse(e)).status)ta=!0,$v();else if(422===e.status)ta=!1,Kv();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void Kv();Oa()}else 401===e.status||403===e.status?la(yr.Users_Position,0,Ta,Ga):Oa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ki,e.setRequestHeader(Yr,Xr),e.setRequestHeader(jr,Zr),e.setRequestHeader("Authorization","OAuth "+Ka[yr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ta=!0,$v();else if(422===e.status)ta=!1,Kv();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void Kv();Oa()}else 401===e.status||403===e.status?la(yr.Users_Position,0,Ta,Ga):Oa()},e.send(null)}function Oa(){++Qi<Zi?(Ki+=500,Ba()):Ga()}function Ga(){ta=!1,Kv()}function Ua(e){La(),Ra(e,0)}function Ra(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+Ka[e].access_token;if(lc){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Da(e,t);200===(n=JSON.parse(n)).status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t))},n.send(null)}function Na(e,t){var n=JSON.parse(e);n.token.valid?ua(n.token.authorization.scopes)||ma():(La(),la(t,0,null,null))}function Da(e,t){++t<Zi&&Ra(e,t)}function Va(){La(),Ja()}function Ja(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ka[yr.Users_Position].name+"/follows/games/"+encodeURIComponent(yr.Main_gameSelected)+"?oauth_token="+Ka[yr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Yr,Xr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Gy=!0,void py();401===e.status||403===e.status?la(yr.Users_Position,0,Va,null):Ha()}},e.send(null)}function Ha(){++Qi<Zi&&(Ki+=500,Ja())}function Fa(){La(),qa()}function qa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ka[yr.Users_Position].name+"/follows/games/"+encodeURIComponent(yr.Main_gameSelected)+"?oauth_token="+Ka[yr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Yr,Xr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Gy=!1,void py();401===e.status||403===e.status?la(yr.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++Qi<Zi&&(Ki+=500,qa())}function Xa(){La(),Ya()}function Ya(){var e,t="https://api.twitch.tv/api/users/"+Ka[yr.Users_Position].name+"/follows/games/"+encodeURIComponent(yr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Yr,Xr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Gy=!0,void py()):404===e.status?(Gy=!1,void py()):void ja()},e.send(null)}function ja(){++Qi<Zi?(Ki+=500,Ya()):(Gy=!1,py())}var Wa=0,Qa=5,Za=3500,Ka=[],$a=null,eo=!1,to=!1;function no(){yr.Main_Go=Zl,wc("top_bar_user","icon_center_focus"),Nc(),Hl.placeholder=k,yc("add_user_scroll"),oo()}function io(){lo(!1),document.body.removeEventListener("keydown",ao),document.body.removeEventListener("keydown",ro),Ac("top_bar_user","icon_center_focus"),gc("add_user_scroll")}function ao(e){if(!eo&&!to&&yr.Main_Go===Zl)switch(e.keyCode){case zi:Jc()?Vc():zc()?qc():(0<Ka.length&&yr.Main_Go!==rr?yr.Main_Go=yr.Main_Before:yr.Main_Go=Ql,io(),$c());break;case Ni:case Ri:case Di:case qi:oo()}}function oo(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",ro,!1),Hl.placeholder=k,Hl.focus(),to=!0}function so(){if(null!==Hl){var e=Hl.cloneNode(!0);Hl.parentNode.replaceChild(e,Hl),Hl=document.getElementById("user_input")}}function lo(e){Hl.blur(),so(),document.body.removeEventListener("keydown",ro),Hl.placeholder=C+k,e&&document.body.addEventListener("keydown",ao,!1),to=!1}function ro(e){if(!eo&&yr.Main_Go===Zl)switch(e.keyCode){case zi:Jc()?Vc():zc()?qc():(0<Ka.length&&yr.Main_Go!==rr?yr.Main_Go=yr.Main_Before:yr.Main_Go=Ql,io(),$c());break;case Wi:Hl.value="";break;case Yi:case Fi:""!==Hl.value&&null!==Hl.value?bo($a=Hl.value)?(Ic(),Rc(_+$a+ie),window.setTimeout(function(){Nc(),oo()},1500)):(Za=3500,eo=!(Wa=0),gc("add_user_scroll"),Mc(),co()):oo();break;case Xi:Hl.value=Hl.value.slice(0,-1);break;case ji:Hl.value+=" "}}function co(){d_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($a),Za,2,null,uo,_o)}function uo(e){JSON.parse(e)._total?(Hl.value="",document.body.removeEventListener("keydown",ao),po(e)):fo()}function _o(){++Wa<Qa?(Za+=500,co()):fo()}function fo(){$a=null,Ic(),Rc(te),window.setTimeout(function(){no()},1e3),eo=!1}function ho(){if(0<(Ka=i_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ka.length;e++)Ka[e].access_token&&Ua(e)}function mo(){return 0<Ka.length}function po(e){$a=JSON.parse(e).users[0],Ka.push({name:$a.name,id:$a._id,access_token:0,refresh_token:0}),go(),WE=!1,io(),ZE(),eo=!1}function vo(e){var t=Ka.indexOf(Ka[e]);-1<t&&Ka.splice(t,1),0<Ka.length?(WE=!1,ZE()):no(),go()}function go(){t_("AddUser_UsernameArray",JSON.stringify(Ka))}function yo(e){$a=Ka[0],Ka[0]=Ka[e],Ka[e]=$a,WE=!1,ZE(),go(),yr.Users_Position=0}function bo(e){return-1!==Ka.indexOf(e)}function wo(){return 0<Ka.length}var Ao,ko=0,Co=0,Eo=!1,Mo=0,Io=0,So=5,xo=3500,Po=0,To=!1,Lo=!1,Bo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Oo=!1,Go="",Uo=null,Ro="",No="",Do="",Vo={},Jo=!1,Ho=null,Fo="";function qo(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=sr,Jo&&!yr.Search_isSearching&&yr.Main_selectedChannel_id&&hs(),Go!==yr.Main_selectedChannel&&(Oo=!1),ou(),yr.Main_selectedChannelDisplayname=yr.Main_selectedChannelDisplayname.replace(j,""),Cc("top_bar_user",yr.Main_selectedChannelDisplayname),Cc("top_bar_game",Ut),document.body.addEventListener("keydown",ms,!1),na=!1,Oo?(uu(ko),yc(Bo[10]),rs(),cs(),tu()):Xo()}function zo(){au(),document.body.removeEventListener("keydown",ms),gc(Bo[10])}function Xo(){cu("stream_table_channel_content"),gc(Bo[10]),Ho=null,Mc(),Nc(),Go=yr.Main_selectedChannel,Eo=To=Oo=!1,Ao=void(ko=Co=Mo=Po=0),Yo(),jo()}function Yo(){Yu=!0,Io=0,xo=3500}function jo(){d_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ao?Ao:yr.Main_selectedChannel_id),xo,2,null,Wo,Qo)}function Wo(e){null!==JSON.parse(e).stream?(Uo=e,Yo(),es()):Ao?(Uo=null,Yo(),es()):(Yo(),Zo())}function Qo(){++Io<So?(xo+=500,jo()):(Uo=null,Yo(),es())}function Zo(){d_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(yr.Main_selectedChannel_id),xo,1,null,$o,Ko,!0)}function Ko(){++Io<So?(xo+=500,Zo()):(Uo=null,Yo(),es())}function $o(e){var t=JSON.parse(e);void 0!==(Ao=t.hosts[0].target_id)?(Yo(),jo()):(Uo=null,Yo(),es())}function es(){d_("https://api.twitch.tv/kraken/channels/"+yr.Main_selectedChannel_id,cv,2,null,ts,ns)}function ts(e){var t=JSON.parse(e);Ho=(Ho=t.video_banner)?Ho.replace("1920x1080",Kr):Ho,Fo=t.profile_banner,Ro=t.views,No=t.followers,Do=t.description,yr.Main_selectedChannelLogo=t.logo,is()}function ns(){++Io<So?(xo+=500,es()):(Ho=null,Fo=Ui,Do=No=Ro="",yr.Main_selectedChannelLogo=Oi,is())}function is(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Ir=document.createElement("tr")).className="follower_banner",Ir.innerHTML='<div id="'+Bo[0]+'x_0" class="follower_banner"><img id="'+Bo[1]+'x_0" alt="" class="stream_img_banner"src="'+Fo+'" onerror="this.onerror=null;this.src=\''+Ui+"'\"></div>",n.appendChild(Ir),null!==Uo){var i=JSON.parse(Uo);if(null!==i.stream){var a=void 0!==Ao?yr.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(as("0_"+t,o.channel.name,o.preview.template,mI.parse(o.channel.status),o.game,jc(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+xm(o.created_at)+" "+m+Xc(o.viewers)+J,Yc(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else To=!0}else To=!0;e.appendChild(os("0_"+t,yr.Main_selectedChannelDisplayname,yr.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(os("0_"+t,yr.Main_selectedChannelDisplayname,yr.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(fu(Bo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(ss("1_0",yr.Main_selectedChannelDisplayname,yr.Main_selectedChannelDisplayname,yr.Main_selectedChannelLogo)),(Ir=document.createElement("td")).setAttribute("id",Bo[8]+"x_x"),Ir.className="stream_cell",Ir.innerHTML='<div id="'+Bo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Bo[4]+'x_x" class="stream_channel_info">'+mI.parse(Do)+"</div></div>",e.appendChild(Ir),n.appendChild(e),ls()}function as(e,t,n,i,a,o,s,d){return(Ir=document.createElement("td")).setAttribute("id",Bo[8]+e),Ir.setAttribute(tc,t),Ir.className="stream_cell",Ir.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Bo[1]+e+'" alt="" class="stream_img"src="'+n.replace("{width}x{height}",Kr)+rc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ao?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Pi+o+'</div><div id="'+Bo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Bo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Bo[6]+e+'"class="stream_info">'+s+"</div></div>",Ir}function os(e,t,n,i){return(Ir=document.createElement("td")).setAttribute("id",Bo[8]+e),Ir.setAttribute(tc,t),Ir.className="stream_cell",Ir.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Bo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Ir}function ss(e,t,n,i){return(Ir=document.createElement("td")).setAttribute("id",Bo[8]+e),Ir.setAttribute(tc,t),Ir.className="stream_cell",Ir.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Bo[1]+e+'" alt="" class="stream_img_fallow"src="'+i+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+Bo[2]+e+'" class="stream_text_channel"><div id="'+Bo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+Xc(Ro)+V+'</div><div id="'+Bo[6]+e+'"class="stream_info" >'+Xc(No)+Dt+"</div></div>",Ir}function ds(){ea?(kc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Cc(Bo[3]+"1_0",yr.Main_selectedChannelDisplayname+Mt)):(kc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),mo()?Cc(Bo[3]+"1_0",yr.Main_selectedChannelDisplayname+It):Cc(Bo[3]+"1_0",yr.Main_selectedChannelDisplayname+Vt))}function ls(){Oo||(Oo=!0,cs(),tu(),yc(Bo[10]),Ic()),rs(),Yu=!1}function rs(){Lo?ds():mo()?(ia=yr.Main_selectedChannel_id,na=!1,ba()):(ea=!1,ds())}function cs(){wc(Bo[0]+ko+"_"+(ko?0:Co),ec),Ar&&us(),Au()}function us(){Uu(ko+"_"+(ko?0:Co),Bo)}function _s(){if(ko)mo()&&Ka[yr.Users_Position].access_token?(na=!1,ia=yr.Main_selectedChannel_id,ea?Sa():Ea()):(Rc(Bt),window.setTimeout(Nc,2e3));else{document.body.removeEventListener("keydown",ms),gc(Bo[10]);var e=To?1:0;Co===0-e?(yr.Play_selectedChannel=document.getElementById(Bo[8]+ko+"_"+Co).getAttribute(tc),yr.Play_selectedChannelDisplayname=document.getElementById(Bo[3]+ko+"_"+Co).textContent,-1!==yr.Play_selectedChannelDisplayname.indexOf(ne)?(yr.Play_isHost=!0,yr.Play_DisplaynameHost=yr.Play_selectedChannelDisplayname,yr.Play_selectedChannelDisplayname=yr.Play_selectedChannelDisplayname.split(ne)[1],yr.Play_selectedChannel_id=Ao):yr.Play_selectedChannel_id=yr.Main_selectedChannel_id,yr.Play_gameSelected=document.getElementById(Bo[5]+ko+"_"+Co).textContent.split(v)[1],Du(Tu)):Co===1-e?Du(Js):Co===2-e&&(Gg=gy,Du(Vg))}}function fs(){Vo={"Main_values.Main_selectedChannel_id":yr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":yr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":yr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":yr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Lo,"Main_values.Main_BeforeChannel":yr.Main_BeforeChannel}}function hs(){yr.Main_selectedChannel_id=yr.Main_selectedChannel_id,yr.Main_selectedChannelLogo=yr.Main_selectedChannelLogo,yr.Main_selectedChannel=yr.Main_selectedChannel,yr.Main_selectedChannelDisplayname=yr.Main_selectedChannelDisplayname,Lo=Vo.ChannelContent_UserChannels,yr.Main_BeforeChannel=yr.Main_BeforeChannel,Jo=!(Vo={})}function ms(e){if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(us(),Wu(ms)),QA();break;case Vi:Co?ko||(us(),--Co<0&&(Co=To?1:2),cs()):(us(),KA(ms,!0));break;case Hi:ko||(us(),(To?1:2)<++Co&&(Co=0),cs());break;case Ji:ko?(us(),ko=0,cs()):(us(),Wu(ms));break;case Fi:ko||(us(),ko=1,cs());break;case Ni:case Ri:case Di:case qi:_s()}}var ps=0,vs=0,gs=!1,ys=0,bs={},ws=[],As=!1,ks=0,Cs=5,Es=3500,Ms=0,Is=0,Ss=0,xs=!1,Ps=!1,Ts="",Ls=!1,Bs=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Os=!1,Gs=!1,Us="",Rs="",Ns="",Ds="",Vs=0;function Js(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=dr,!yr.Search_isSearching&&yr.Main_selectedChannel_id&&hs(),yr.Main_selectedChannel!==Us&&(Os=!1),ou(),vc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user",yr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",nd,!1),Os?(uu(ps),Cc("top_bar_game",Gs?G:O),yc(Bs[10]),Ks(),tu()):Fs()}function Hs(){Os&&$s(),au(),document.body.removeEventListener("keydown",nd),gc(Bs[10]),Nc()}function Fs(){Os&&$s(),cu("stream_table_channel_vod"),gc(Bs[10]),Cc("top_bar_game",Gs?G:O),Mc(),Nc(),Us=yr.Main_selectedChannel,Ls=Os=!1,Yu=!(Ps=!(ws=[])),ps=vs=ys=Is=Ms=0,gs=!(bs={}),Bc(),qs(),zs()}function qs(){As=!0,ks=0,Es=3500}function zs(){var e=ys+Ms;e&&Is-1<e&&(e=Is-Ur,gs=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(yr.Main_selectedChannel_id)+"/videos?limit="+Ur+"&broadcast_type="+(Gs?"highlight":"archive")+"&sort=time&offset="+e;lc&&!ys?r_(t,Es,2,null,Ys,Xs):c_(t,Es,2,null,Ys,Xs,!1)}function Xs(){++ks<Cs?(Es+=500,zs()):(As=!1,ys?(gs=!0,js()):(Yu=!1,Ic(),Rc(P),Wu(nd)))}function Ys(e){var t=JSON.parse(e),n=t.videos.length;Is=parseInt(t._total),n<Ur&&(gs=!0);var i=ys;xs=!(ys+=n);var a=n/Rr;0<n%Rr&&a++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Ls){Ls=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p;(Ir=document.createElement("td")).setAttribute("id",Bs[8]+"y_0"),Ir.className="stream_cell",Ir.innerHTML='<div id="'+Bs[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Bs[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(Ir),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Rr+m,d=document.createElement("tr"),o=0;o<Rr&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==Ho?Ho:Gi),c||bs[r]?o--:(bs[r]=1,d.appendChild(nI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Kr),l.channel.display_name,N+du(l.created_at),mI.parse(l.title)+pi+Qt+v+l.game,Xc(l.views)+V,Yc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Im(l.length),l.animated_preview_url],Bs)));for(;o<Rr;o++)gs&&!Ps&&(Ps=!0,ys=s*Rr+o),d.appendChild(fu(Bs[9]+s+"_"+o)),ws.push(Bs[9]+s+"_"+o);f.appendChild(d)}js()}function js(){if(Os?Ks(!0):(xs?(Wu(nd),Rc(T+(Gs?G:O)+L+M)):(Os=!0,Ks(),tu()),yc(Bs[10]),Yu=!1,Ic()),0<ws.length&&!gs)return qs(),void Ws();As=!(ws=[])}function Ws(){Uc(ws.length);var e=ys+Ms;e&&Is-1<e&&(e=Is-zr,gs=!0),d_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(yr.Main_selectedChannel_id)+"/videos?limit="+zr+"&broadcast_type="+(Gs?"highlight":"archive")+"&sort=time&offset="+e,Es,2,null,Zs,Qs)}function Qs(){++ks<Cs?(Es+=500,Ws()):(gs=!0,ys-=ws.length,ws=[],js())}function Zs(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(Is=parseInt(i._total);o<ws.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||bs[n]?o--:(bs[n]=1,aI(ws[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Kr),t.channel.display_name,N+du(t.created_at),mI.parse(t.title)+pi+Qt+v+t.game,Xc(t.views)+V,Yc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Im(t.length),t.animated_preview_url],Bs),d.push(o));for(o=d.length-1;-1<o;o--)ws.splice(d[o],1);Ms+=s,gs&&(ys-=ws.length,ws=[]),js()}function Ks(e){ps<0?ed():(Iu(ps,vs,Bs,Rr,ys,e),sI(Bs,ps+"_"+vs),ys/Rr<ps+Nr&&!gs&&!As&&(qs(),zs()),Ar&&$s())}function $s(){window.clearInterval(eI),-1<ps&&ys?(yc(Bs[1]+ps+"_"+vs),Uu(ps+"_"+vs,Bs)):td()}function ed(){wc(Bs[0]+"y_0",ec)}function td(){Ac(Bs[0]+"y_0",ec)}function nd(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():($s(),Wu(nd)),QA();break;case Vi:if(vs){if(Wc(ps,vs-1,Bs[0]))$s(),vs--,Ks();else for(t=Rr-1;-1<t;t--)if(Wc(ps-1,t,Bs[0])){$s(),ps--,vs=t,Ks();break}}else $s(),KA(nd,!0);break;case Hi:Wc(ps,vs+1,Bs[0])?($s(),vs++,Ks()):Wc(ps+1,0,Bs[0])&&($s(),ps++,vs=0,Ks());break;case Ji:if(-1===ps)$s(),ps=0,Wu(nd);else if(ps){for(t=0;t<Rr;t++)if(Wc(ps-1,vs-t,Bs[0])){$s(),ps--,vs-=t,Ks();break}}else $s(),ps=-1,ed();break;case Fi:if(-1!==ps||xs){for(t=0;t<Rr;t++)if(Wc(ps+1,vs-t,Bs[0])){$s(),ps++,vs-=t,Ks();break}}else ps=0,td(),Ks();break;case Ni:case Ri:case Di:case qi:-1===ps?(t_("ChannelVod_highlight",(Gs=!Gs)?"true":"false"),Fs()):Bu(ps+"_"+vs,Bs,nd)}}var id,ad,od,sd,dd,ld,rd=0,cd=10,ud=!1,_d=0,fd=null,hd=!1,md=0,pd={bbtv:{},ffz:{}},vd={};function gd(){Hd(),yr.Play_ChatForceDisable?(jd||rl(),hd=!1,Du(function(){_d=(new Date).getTime(),dd=yr.Play_selectedChannel_id,ld=yr.Play_selectedChannel,yd(_d,Ad)})):Rl()}function yd(e,t){rd=0,bd(e,t)}function bd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+dd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);wd(e,t)}},i.send(null)}function wd(e,t){++rd<cd?bd(e,t):ad=window.setTimeout(function(){bd(e,t)},500)}function Ad(e,t){wl(e),kd(),Id(),_d===t&&Bd()}function kd(){pd.bbtv[dd]||(rd=0,Cd())}function Cd(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(ld),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Md(t.responseText):404===t.status?pd.bbtv[dd]=1:Ed())},t.send(null)}function Ed(){++rd<cd&&Cd()}function Md(e){Td(JSON.parse(e)),pd.bbtv[dd]=1}function Id(){pd.ffz[dd]||(rd=0,Sd())}function Sd(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(ld),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Pd(t.responseText):404===t.status?pd.ffz[dd]=1:xd())},t.send(null)}function xd(){++rd<cd&&Sd()}function Pd(e){Ld(JSON.parse(e)),pd.ffz[dd]=1}function Td(t){t.emotes.forEach(function(e){vd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Ld(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(vd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(vd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Bd(){Ud(),Od()}function Od(){(fd=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){fd.send("PASS blah\r\n"),fd.send("NICK justinfan12345\r\n"),fd.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),fd.send("JOIN #"+ld+"\r\n")},fd.onclose=function(){ud=!0},fd.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":fd.send("PONG "+t.params[0]);break;case"JOIN":hd=!0,Dd('&nbsp;<span class="message">'+pi+bn+yr.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Rd(t)}},od=window.setTimeout(Gd,5e3)}function Gd(){hd?sd=window.setInterval(Vd,1e3):(fd.close(1e3),Bd())}function Ud(){window.clearTimeout(od)}function Rd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+nl[i.charCodeAt(0)%il]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Dd(t+='<span class="message">'+Nd(_I(a,o))+"</span>")}function Nd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=uI(e[t]):e[t]=e[t][0];return mI.parse(e.join(" "),!0,!0)}function Dd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,Xd.appendChild(t),Vd(),100<++md&&(md=0,Dl())}function Vd(){Xd.scrollTop=Xd.scrollHeight}function Jd(){Ud(),window.clearTimeout(ad),window.clearTimeout(id),window.clearInterval(sd)}function Hd(){Jd(),fd&&fd.close(1e3),_d=0,cu("chat_box"),hd=ud=!1}var Fd,qd,zd,Xd,Yd,jd=!1,Wd=0,Qd=[],Zd=[],Kd=10,$d=null,el=0,tl="",nl=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],il=nl.length,al=0,ol=!1,sl=0;function dl(){Xd=document.getElementById("chat_box"),rl()}function ll(){Tl(),lc&&yr.Play_ChatForceDisable?(jd||rl(),Du(function(){sl=(new Date).getTime(),dd=yr.Main_selectedChannel_id,ld=yr.Main_selectedChannel,yd(sl,Al)})):Rl()}function rl(){Wd=0,jd=!(vd={}),cl()}function cl(){c_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,_l,ul,!1)}function ul(){++Wd<Kd?cl():jd=!1}function _l(e){fI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){hI(t.type,e.type,e.image_url_4x,null)})}),fl()}function fl(){Wd=0,hl()}function hl(){c_("https://api.betterttv.net/2/emotes",1e4,0,null,pl,ml,!1)}function ml(){++Wd<Kd?hl():jd=!1}function pl(e){Td(JSON.parse(e)),vl()}function vl(){Wd=0,gl()}function gl(){c_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,bl,yl,!1)}function yl(){++Wd<Kd?gl():jd=!1}function bl(e){Ld(JSON.parse(e)),jd=!0}function wl(e){fI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){hI(t.type,e.type,e.image_url_4x,Xd)})})}function Al(e,t){wl(e),kd(),Id(),sl===t&&kl(t)}function kl(e){Wd=0,sl===e&&Cl(e)}function Cl(e){var t="https://api.twitch.tv/v5/videos/"+yr.ChannelVod_vodId+"/comments?client_id="+Xr+(el?"&content_offset_seconds="+parseInt(el):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(sl===e&&Ml(n.responseText,e));sl===e&&El(e)}},n.send(null)}function El(e){Wd++,sl===e&&(Wd<Kd?Cl(e):qd=window.setTimeout(function(){Cl(e)},2500))}function Ml(e,t){e=JSON.parse(e);var n,i,a=null===$d;a&&(n="&nbsp;",n+='<span class="message">',n+=pi+bn+yr.Main_selectedChannelDisplayname+" "+tl,Il(n+="</span>",0)),el=0,$d=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+nl[e.commenter.display_name.charCodeAt(0)%il]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Nd([e.text])}),n+="</span>",a?Il(n,e.content_offset_seconds):void 0!==$d&&Sl(n,e.content_offset_seconds)}),a&&sl===t&&(xl(t),void 0!==$d&&Bl(t))}function Il(e,t){Qd.push({time:t,message:e})}function Sl(e,t){Zd.push({time:t,message:e})}function xl(e){ol||sl!==e||(Fd=window.setInterval(function(){Ll(e),Xd.scrollTop=Xd.scrollHeight},1e3))}function Pl(){ol||(window.clearTimeout(Yd),window.clearTimeout(qd),window.clearTimeout(zd),window.clearInterval(Fd))}function Tl(){Pl(),sl=0,cu("chat_box"),ol=!1,$d=null,Qd=[],Zd=[],al=0}function Ll(e){var t;if(al<Qd.length-1)for(var n=al;n<Qd.length&&Qd[n].time<Vs+Android.gettime()/1e3;n++,al++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Qd[n].message,Xd.appendChild(t);else if(Pl(),void 0!==$d)Qd=Zd.slice(),al=0,xl(e),Zd=[],sl===e&&Bl(e),Dl();else{var i="&nbsp;";i+='<span class="message">',i+=pi+pi+Cn+pi+pi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Xd.appendChild(t),ol=!0,Xd.scrollTop=Xd.scrollHeight,window.clearInterval(Fd),Fd=window.setInterval(function(){Xd.scrollTop=Xd.scrollHeight},1e3)}}function Bl(e){Wd=0,ol||sl!==e||Ol(e)}function Ol(e){var t="https://api.twitch.tv/v5/videos/"+yr.ChannelVod_vodId+"/comments?client_id="+Xr+(null!==$d?"&cursor="+$d:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ol||sl!==e||Ml(n.responseText,e));ol||sl!==e||Gl(e)}},n.send(null)}function Gl(e){Wd++,sl===e&&(Wd<Kd?Ol(e):zd=window.setTimeout(function(){Ol(e)},2500))}function Ul(){Tl(),Nl(ln+pi+rn)}function Rl(){Tl(),Nl($n)}function Nl(e){var t="&nbsp;";t+='<span class="message">',t+=pi+pi+pi+pi+pi+pi+pi+pi+pi+pi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Xd.appendChild(n)}function Dl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Vd()}var Vl,Jl,Hl,Fl,ql,zl,Xl=!0,Yl=!1,jl=!1,Wl=-1,Ql=1,Zl=2,Kl=3,$l=4,er=5,tr=6,nr=7,ir=8,ar=9,or=10,sr=11,dr=12,lr=13,rr=14,cr=15,ur=16,_r=17,fr=18,hr=19,mr=20,pr=21,vr=22,gr="",yr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Kl,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},br=!0,wr=!0,Ar=!1,kr=0,Cr=0,Er=null,Mr=!0,Ir="",Sr=!1,xr="",Pr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Tr=[],Lr=0,Br=!0,Or=1.35,Gr=1.5,Ur=45,Rr=3,Nr=Math.floor(Ur/Rr/Gr),Dr=45,Vr=5,Jr=Math.floor(Dr/Vr/Or),Hr=48,Fr=6,qr=Math.floor(Hr/Fr/Gr),zr=6,Xr="5seja5ptej058mxqy7gh5tcudjqtm9",Yr="Client-ID",jr="Accept",Wr="Authorization",Qr="OAuth ",Zr="application/vnd.twitchtv.v5+json",Kr="528x297",$r="340x475",ec="stream_thumbnail_focused",tc="data_attribute",nc="1.0",ic=".23",ac="060119",oc=nc+ic+"-"+ac,sc="",dc=0,lc=0,rc="?"+Math.random(),cc="https://cors-anywhere.herokuapp.com/";function uc(){(jl=a_("Main_isDebug",!1))&&Xl?_c():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){fc(window.navigator.userLanguage||window.navigator.language)}):fc(window.navigator.userLanguage||window.navigator.language)}function _c(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function fc(e){Ru(),Du(function(){try{lc=Android.getAndroid(),sc=Android.getversion()}catch(e){sc="1.0.0",lc=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Yl=jl=!0,console.log("Main_isReleased: "+Xl),console.log("Main_isDebug: "+jl),console.log("Main_isBrowser: "+Yl)}nA(),Li(),MA(),console.log("language is "+e),Ti(),-1!==window.location.href.indexOf("code")&&s_(window.location.href),hc()})}function hc(){Ug(),mc(!0),Vl=document.getElementById("scrollbar"),nu(),gr=yr.Main_Go,Du(function(){dl(),Yh(),ho(),mo()&&(zl=window.setInterval(Fu,6e5)),document.body.addEventListener("keyup",Au,!1),Rg(),document.getElementById("side_panel").style.marginLeft="",lu(),pc(),Gs=a_("ChannelVod_highlight",!1),BM=a_("UserVod_highlight",!1),xM=n_("UserVod_TypeNumber",1),Cg(),Jl=document.getElementById("search_input"),Hl=document.getElementById("user_input"),document.addEventListener("visibilitychange",Ju,!1),ql=window.setInterval(Hu,6e4),Gg=Ay,Vg(),Fl=window.setTimeout(Zc,5e3),yc("topbar"),NA=document.getElementById("feed_thumb_img")})}function mc(e){Hu(),vc("label_refresh","icon-refresh",t+":"+Yt),kc("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Pi+_t+"</div>"),vc("label_side_panel","icon-ellipsis",Rn),vc("icon_feed_refresh","icon-refresh",t+":"+_i),Cc("top_bar_live",f),Cc("top_bar_user",e?_:i),Cc("top_bar_featured",an),Cc("top_bar_game",h),Cc("top_bar_vod",Kt),Cc("top_bar_clip",U),kc("scene2_search_text",Pi+n),kc("scene2_channel_text",Pi+Ut),kc("scene2_game_text",Pi+Jt),Cc("dialog_end_next_text",si),Cc("dialog_end_replay_text",en),Cc("dialog_end_vod_text",sn),Cc("dialog_end_channel_text",Ut),Cc("dialog_end_game_text",Jt),kc("dialog_about_text",Mi+Ii),Tr=[de,le,re,ce],e?Qw():(tA(),lu())}function pc(){Cc("play_dialog_exit_text",H),Cc("side_panel_search",n),Cc("side_panel_settings",i),Cc("side_panel_about",a),Cc("side_panel_controls",e),Cc("side_panel_exit",q),Cc("side_panel_feed_settings",ui),Cc("side_panel_feed_refresh",t),Cc("side_panel_live",f),Cc("side_panel_user",_),Cc("side_panel_featured",an),Cc("side_panel_games",h),Cc("side_panel_videos",Kt),Cc("side_panel_clips",U),Cc("side_panel_hide",o),Cc("side_panel_back",fi),Cc("chanel_button",E),Cc("game_button",h),Cc("live_button",f),Cc("exit_app_cancel",Y),Cc("exit_app_close",z),Cc("remove_cancel",Y),Cc("remove_yes",Ht),Cc("exit_app_minimize",X),Cc("main_dialog_exit_text",F),kc("dialog_controls_text",Ei),Cc("dialog_vod_text",wn),kc("dialog_vod_start_text",kn)}function vc(e,t,n){kc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Pi+n+"</div>")}function gc(e){document.getElementById(e).classList.add("hide")}function yc(e){document.getElementById(e).classList.remove("hide")}function bc(e){return-1===document.getElementById(e).className.indexOf("hide")}function wc(e,t){document.getElementById(e).classList.add(t)}function Ac(e,t){document.getElementById(e).classList.remove(t)}function kc(e,t){document.getElementById(e).innerHTML=t}function Cc(e,t){document.getElementById(e).textContent=t}function Ec(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Mc(){uu(-1),lc?Android.mshowLoading(!0):yc("dialog_loading")}function Ic(){lc?Android.mshowLoading(!1):gc("dialog_loading")}function Sc(){window.clearTimeout(Er)}function xc(){Er=window.setTimeout(Tc,6e3)}function Pc(){xc(),yc("main_dialog_exit"),document.body.addEventListener("keydown",qu,!1)}function Tc(){document.body.removeEventListener("keydown",qu,!1),DA?(DA=!1,eu()):Wu(RA),Sc(),gc("main_dialog_exit"),Cr=0,Lc()}function Lc(){Ac("exit_app_cancel","button_search_focused"),Ac("exit_app_minimize","button_search_focused"),Ac("exit_app_close","button_search_focused"),wc(Cr?1===Cr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Bc(){cu("dialog_counter_text"),Gc(0,0,0)}function Oc(e,t,n,i){0<i?(Cc("dialog_counter_text",t*n+(e+1)+"/"+i),Gc(t,n,i)):Bc()}function Gc(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=yr.Main_Go===$l||yr.Main_Go===hr||yr.Main_Go===mr||yr.Main_Go===dr||yr.Main_Go===vr||yr.Main_Go===_r||yr.Main_Go===fr||yr.Main_Go===lr,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Vl.style.top=o+"px",Mr&&(Mr=!1,Vl.style.backgroundColor="#777777")}else Vl.style.backgroundColor="#000000",Vl.style.top=i+"px",Mr=!0}function Uc(e){(zr=12)/3<e&&(zr=3*e),99<zr&&(zr=99)}function Rc(e){Cc("dialog_warning_text",e),yc("dialog_warning")}function Nc(){gc("dialog_warning")}function Dc(){qc(),yc("dialog_about")}function Vc(){gc("dialog_about")}function Jc(){return bc("dialog_about")}function Hc(){qc(),Nc(),iu(yr.Main_Go),Bc(),jw()}function Fc(){Vc(),yc("dialog_controls")}function qc(){gc("dialog_controls")}function zc(){return bc("dialog_controls")}function Xc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Yc(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function jc(e){return-1!==e.indexOf("live")?"":j}function Wc(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function Qc(){Hu(),$c(),document.body.addEventListener("keyup",Au,!1)}function Zc(){for(var e,t=0;t<Pr.length;t++)t<2?document.getElementById(Pr[t]).style.opacity="0.5":-1===(e=document.getElementById(Pr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");wc("topbar","topbar_dim")}function Kc(){for(var e=0;e<Pr.length;e++)document.getElementById(Pr[e]).style.opacity="1";Ac("topbar","topbar_dim")}function $c(e){window.clearTimeout(Fl),Kc(),Du(function(){eu(e)})}function eu(e){Nc(),yr.Main_Go!==sr&&(yr.Main_BeforeChannelisSet=!1),yr.Main_Go!==$l&&(yr.Main_BeforeAgameisSet=!1),Bc(),yr.Main_Go===Ql?(Gg=Ay,Vg()):yr.Main_Go===Zl?no():yr.Main_Go===Kl?(Gg=by,Vg()):yr.Main_Go===$l?(Gg=Cy,Vg()):yr.Main_Go===ir?iw():yr.Main_Go===ar?Hb():yr.Main_Go===or?xw():yr.Main_Go===sr?qo():yr.Main_Go===dr?Js():yr.Main_Go===lr?(Gg=gy,Vg()):yr.Main_Go===rr?ZE():yr.Main_Go===er?CE():yr.Main_Go===tr?tC():yr.Main_Go===nr?(Gg=wy,Vg()):yr.Main_Go===cr?kk():yr.Main_Go===ur?hb():yr.Main_Go===_r?(Gg=Ey,Vg()):yr.Main_Go===fr?(Gg=vy,Vg()):yr.Main_Go===hr?(Gg=My,Vg()):yr.Main_Go===mr?(Gg=yy,Vg()):yr.Main_Go===pr?(Gg=ky,Vg()):yr.Main_Go===vr&&OM(),Fl=window.setTimeout(Zc,3e3),e&&$u()}function tu(){t_("Main_values",JSON.stringify(yr))}function nu(){yr=Dg(yr,i_("Main_values",{}))}function iu(e){e===Ql?Jg():e===Zl?io():e===Kl?Jg():e===$l?Jg():e===ir?aw():e===ar?Fb():e===or?Pw():e===sr?zo():e===dr?Hs():e===lr?Jg():e===rr?KE():e===er?EE():e===tr?nC():e===nr?Jg():e===cr?Ck():e===ur?mb():e===_r?Jg():e===fr?Jg():e===hr?Jg():e===mr?Jg():e===pr?Jg():e===vr&&GM(),bc("settings_scroll")&&Ww()}function au(){vc("label_refresh","icon-refresh",t+":"+Yt),vc("label_side_panel","icon-ellipsis",Rn),Ac("top_bar_user","icon_center_focus"),Cc("top_bar_live",f),Cc("top_bar_user",_),Cc("top_bar_featured",an),Cc("top_bar_game",h),Cc("top_bar_vod",Kt),Cc("top_bar_clip",U)}function ou(){vc("label_side_panel","icon-arrow-circle-left",I),cu("top_bar_live"),cu("top_bar_game"),cu("top_bar_vod"),cu("top_bar_clip"),cu("top_bar_featured"),wc("top_bar_user","icon_center_focus")}function su(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function du(e){return e=new Date(e),Sr?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function lu(){lc&&(oc="Android: "+sc+" Web: "+ac,ru(sc)&&yc("label_update")),kc("dialog_about_text",Mi+ye+oc+Ii)}function ru(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(nc)||parseInt(e[2])<parseInt(ic.split(".")[1])}function cu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function uu(e){Wl=e}function _u(e){var t=0;return Wl<e?t=-1:e<Wl&&(t=1),Wl=e,t}function fu(e){return(Ir=document.createElement("td")).setAttribute("id",e),Ir.className="stream_cell",Ir}function hu(e,t,n){return(Ir=document.createElement("td")).setAttribute("id",t[4]+e),Ir.setAttribute(tc,n[0]),Ir.setAttribute("data-id",n[1]),Ir.className="stream_cell",Ir.innerHTML=pu(e,t,n),Ir}function mu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(tc,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=pu(a,n,t),i.setAttribute("id",n[4]+a)}function pu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[2]+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function vu(e,t,n,i,a){return(Ir=document.createElement("td")).setAttribute("id",i[8]+t),Ir.setAttribute(tc,JSON.stringify(n)),Ir.className="stream_cell",Ir.innerHTML=yu(t,i,a),Ir}function gu(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(tc,JSON.stringify(t)),a.innerHTML=yu(o,i,n),a.setAttribute("id",i[8]+o)}function yu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" alt="" class="stream_img" src="'+n[0]+rc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+mI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function bu(e,t,n){return(Ir=document.createElement("td")).setAttribute("id",t[5]+e),Ir.setAttribute(tc,n[0]),Ir.className="stream_cell",Ir.innerHTML=wu(e,t,n),Ir}function wu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[1]+'" onerror="this.onerror=null;this.src=\''+Bi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Au(){wr=!0}function ku(){br=!0}function Cu(){br=!1,window.setTimeout(ku)}function Eu(){return!br||!wr}function Mu(e,t,n,i,a,o){wc(n[0]+e+"_"+t,ec),Oc(t,e,i,a),_u(e)||o?1<e?Wc(e+1,0,n[0])?Gu(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Au():Gu(n[6],.07*screen.height):Au()}function Iu(e,t,n,i,a,o){wc(n[0]+e+"_"+t,ec),Oc(t,e,i,a),_u(e)||o?e?Wc(e+1,0,n[0])&&Gu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):Gu(n[10],.07*screen.height):Au()}function Su(e,t,n,i,a){wc(n[0]+e+"_"+t,ec),Oc(t,e,i,a),_u(e)?Gu(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Au()}function xu(e,t){return null===document.getElementById(t+e)}function Pu(e,t,n){xu(e,t[0])||(document.body.removeEventListener("keydown",n),yr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(tc)),yr.Play_selectedChannel_id=yr.Play_selectedChannel[1],yr.Play_selectedChannel=yr.Play_selectedChannel[0],yr.Play_isHost=yr.Main_Go===tr&&!Vh,yr.Play_isHost?(yr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,yr.Play_selectedChannelDisplayname=yr.Play_DisplaynameHost.split(ne)[1]):yr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,yr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],yr.Main_Go===$l&&(yr.Main_OldgameSelected=yr.Main_gameSelected),Tu())}function Tu(){document.body.addEventListener("keydown",Fp,!1),gc("scene1"),yc("scene2"),Qm(),np(),yp(),mo()&&!pC&&MC&&tE(),Du(Qh)}function Lu(e,t,n){xu(e,t[0])||(document.body.removeEventListener("keydown",n),Ty=JSON.parse(document.getElementById(t[8]+e).getAttribute(tc)),N_=parseInt(Ty[1]),yr.Play_gameSelected=Ty[2],yr.Main_selectedChannel=Ty[3],yr.Main_selectedChannelDisplayname=Ty[4],yr.Main_selectedChannelLogo=Ty[5],yr.Main_selectedChannel_id=Ty[6],yr.ChannelVod_vodId=Ty[7],Vs=parseInt(Ty[8]),Py=Ty[9],By=Ty[10],Sy=Ty[11],Ty=Ty[0],Ly=document.getElementById(t[4]+e).textContent,xy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Af,!1),gc("scene1"),yc("scene2"),np(),Xm(),Dm(),Hm(),mo()&&!pC&&MC&&tE(),Du(z_))}function Bu(e,t,n){xu(e,t[0])||(document.body.removeEventListener("keydown",n),yr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(tc)),Ss=parseInt(yr.ChannelVod_vodId[1]),Ts=yr.ChannelVod_vodId[2],yr.Play_gameSelected=yr.ChannelVod_vodId[3],yr.Main_selectedChannel=yr.ChannelVod_vodId[4],Nh=yr.ChannelVod_vodId[5],yr.ChannelVod_vodId=yr.ChannelVod_vodId[0].substr(1),yr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ns=document.getElementById(t[4]+e).textContent,Ds=document.getElementById(t[5]+e).textContent,Rs=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Ou())}function Ou(){document.body.addEventListener("keydown",Og,!1),gc("scene1"),yc("scene2"),lg(),np(),Xm(),Hm(),Iv=!1,mo()&&!pC&&MC&&tE(),Du(Ov)}function Gu(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Au,10)}function Uu(e,t){wr=!1,Ac(t[0]+e,ec)}function Ru(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(jl&&console.log("Main_Checktylesheet reloading"),Nu("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):jl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function Nu(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Du(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Vu(){var e=(new Date).getTime()+dc;return e=new Date(e),(Sr?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Mm(e.getHours())+":"+Mm(e.getMinutes())}function Ju(){document.hidden||(Hu(),window.setTimeout(Hu,2e4))}function Hu(){document.hidden||(Cc("label_clock",Vu()),rc="?"+Math.random())}function Fu(){document.hidden||mo()&&window.setTimeout(function(){zC()||pC||(Df=Ka[yr.Users_Position].name,LC())},5e3)}function qu(e){switch(e.keyCode){case zi:Tc();break;case Hi:2<++Cr&&(Cr=0),Lc(),Sc(),xc();break;case Vi:--Cr<0&&(Cr=2),Lc(),Sc(),xc();break;case qi:lc&&Cr?1===Cr?(Tc(),Android.mclose(!1)):2===Cr&&Android.mclose(!0):Tc()}}uc();var zu=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Xu=[Ql,rr,pr,Kl,_r,fr],Yu=!1;function ju(e){if(!(Yu||Gg.FirstLoad||Eu()))switch(e.keyCode){case zi:zc()?(Zu(),qc()):Jc()?(Zu(),Vc()):yr.Main_Go===$l?(yr.Main_OldgameSelected=yr.Main_gameSelected,yr.Games_return?(yr.Main_Go=ar,yr.Main_gameSelected=yr.gameSelectedOld):(yr.Main_Go=yr.Main_BeforeAgame,yr.Main_BeforeAgame=Ql),ly(yr.Main_Go),Qu(),eu()):yr.Main_Go===mr?(ly($l),Qu(),eu()):yr.Main_Go===nr?(ly(rr),Qu(),eu()):yr.Main_Go===lr?(ly(sr),Qu(),eu()):yr.Main_Go===hr?(ly($l),Qu(),eu()):yr.Main_Go===er?(yr.Main_Go=rr,EE(),Qu(),eu()):yr.Main_Go===tr?(yr.Main_Go=rr,nC(),Qu(),eu()):yr.Main_Go===vr?(yr.Main_Go=rr,GM(),Qu(),eu()):yr.Main_Go===cr?(yr.Main_Go=rr,Ck(),Qu(),eu()):yr.Main_Go===sr?(yr.Main_Go=yr.Main_BeforeChannel,yr.Main_BeforeChannel=Ql,zo(),yr.Main_selectedChannel_id="",Qu(),eu()):yr.Main_Go===dr?(yr.Main_Go=sr,Hs(),Qu(),eu()):yr.Main_Go===or?(yr.Main_Go===yr.Main_BeforeSearch?yr.Main_Go=Ql:yr.Main_Go=yr.Main_BeforeSearch,Pw(),yr.Search_isSearching=!1,Qu(),eu()):yr.Main_Go===ar?(yr.Main_Go===yr.Main_BeforeSearch?yr.Main_Go=Ql:yr.Main_Go=yr.Main_BeforeSearch,yr.Search_isSearching=!1,Fb(),Qu(),eu()):yr.Main_Go===ur?(yr.Main_Go===yr.Main_BeforeSearch?yr.Main_Go=Ql:yr.Main_Go=yr.Main_BeforeSearch,yr.Main_selectedChannel_id&&hs(),mb(),yr.Search_isSearching=!1,Qu(),eu()):(Qu(),KA(ju));break;case Hi:if(yr.Search_isSearching||yr.Main_Go===sr||yr.Main_Go===dr||yr.Main_Go===lr||yr.Main_Go===or||yr.Main_Go===ar||yr.Main_Go===ur)break;Ac(zu[yr.Main_CenterLablesVectorPos],"icon_center_line"),yr.Main_CenterLablesVectorPos++,5<yr.Main_CenterLablesVectorPos&&(yr.Main_CenterLablesVectorPos=0),Zu(),Ku();break;case Vi:if(yr.Search_isSearching||yr.Main_Go===sr||yr.Main_Go===dr||yr.Main_Go===lr||yr.Main_Go===or||yr.Main_Go===ar||yr.Main_Go===ur)break;Ac(zu[yr.Main_CenterLablesVectorPos],"icon_center_line"),yr.Main_CenterLablesVectorPos--,yr.Main_CenterLablesVectorPos<0&&(yr.Main_CenterLablesVectorPos=5),Zu(),Ku();break;case Fi:Ac(zu[yr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",ju),Ar=!1,eu();break;case qi:e_()}}function Wu(e){window.clearTimeout(Fl),Kc(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",ju),document.body.addEventListener("keydown",ju,!1),Zu()}function Qu(){Ac(zu[yr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",ju),Ar=!1}function Zu(){Ar=!0,wc(zu[yr.Main_CenterLablesVectorPos],"icon_center_line")}function Ku(){iu(yr.Main_Go),yr.Main_Go=Xu[yr.Main_CenterLablesVectorPos],yr.Main_Go!==rr||wo()?$c(!0):(yr.Main_Go=Zl,Qu(),$c())}function $u(){yr.Main_Go===Ql?(Gg=Ay,document.body.removeEventListener("keydown",uy)):yr.Main_Go===rr?document.body.removeEventListener("keydown",fM):yr.Main_Go===$l?(Gg=Cy,document.body.removeEventListener("keydown",uy)):yr.Main_Go===pr?(Gg=ky,document.body.removeEventListener("keydown",uy)):yr.Main_Go===or?document.body.removeEventListener("keydown",Hw):yr.Main_Go===ar?document.body.removeEventListener("keydown",$b):yr.Main_Go===ur?document.body.removeEventListener("keydown",Sb):yr.Main_Go===dr?document.body.removeEventListener("keydown",nd):yr.Main_Go===sr?document.body.removeEventListener("keydown",ms):yr.Main_Go===tr?document.body.removeEventListener("keydown",hC):yr.Main_Go===vr?document.body.removeEventListener("keydown",KM):yr.Main_Go===cr?document.body.removeEventListener("keydown",Rk):yr.Main_Go===Kl?(Gg=by,document.body.removeEventListener("keydown",uy)):yr.Main_Go===lr?(Gg=gy,document.body.removeEventListener("keydown",uy)):yr.Main_Go===_r?(Gg=Ey,document.body.removeEventListener("keydown",uy)):yr.Main_Go===fr?(Gg=vy,document.body.removeEventListener("keydown",uy)):yr.Main_Go===mr?(Gg=yy,document.body.removeEventListener("keydown",uy)):yr.Main_Go===nr?(Gg=wy,document.body.removeEventListener("keydown",uy)):yr.Main_Go===hr?(Gg=My,document.body.removeEventListener("keydown",uy)):yr.Main_Go===er&&document.body.removeEventListener("keydown",HE)}function e_(){window.clearTimeout(Fl),Kc(),yr.Main_Go!==sr&&(yr.Main_BeforeChannelisSet=!1),yr.Main_Go!==$l&&(yr.Main_BeforeAgameisSet=!1),Bc(),yr.Main_Go===Ql?(Gg=Ay,Hg()):yr.Main_Go===rr?$E():yr.Main_Go===pr?(Gg=ky,Hg()):yr.Main_Go===$l?(Gg=Cy,Hg()):yr.Main_Go===cr?Ek():yr.Main_Go===sr?Xo():yr.Main_Go===dr?Fs():yr.Main_Go===or?Tw():yr.Main_Go===ar?qb():yr.Main_Go===ur?pb():yr.Main_Go===Kl?(Gg=by,Hg()):yr.Main_Go===nr?(Gg=wy).loadingData||Gg.key_refresh():yr.Main_Go===_r?(Gg=Ey,Hg()):yr.Main_Go===fr?(Gg=vy,Hg()):yr.Main_Go===mr?(Gg=yy,Hg()):yr.Main_Go===lr?(Gg=gy,Hg()):yr.Main_Go===hr?(Gg=My,Hg()):yr.Main_Go===er?ME():yr.Main_Go===tr?iC():yr.Main_Go===vr&&UM(),Fl=window.setTimeout(Zc,3e3)}function t_(e,t){localStorage.setItem(e,t)}function n_(e,t){return parseInt(localStorage.getItem(e))||t}function i_(e,t){return JSON.parse(localStorage.getItem(e))||t}function a_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function o_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function s_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),kr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function d_(e,t,n,i,a,o,s){lc?r_(e,t,n,i,a,o):c_(e,t,n,i,a,o,s)}function l_(e,t,n,i,a,o,s,d){lc&&d?r_(e,t,n,i,a,o):c_(e,t,n,i,a,o,s)}function r_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function c_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?cc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Yr,Xr),1<n&&d.setRequestHeader(jr,Zr),2<n&&d.setRequestHeader(Wr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function u_(e,t,n,i,a,o,s){lc?__(e,t,n,i,a,o):c_(e,t,n,i,a,o,s)}function __(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function __(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?cc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Yr,Xr),1<n&&d.setRequestHeader(jr,Zr),2<n&&d.setRequestHeader(Wr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}var f_=0,h_=null,m_=0,p_=!1,v_=0,g_=0,y_=!1,b_=0,w_=2e3,A_=5,k_="source",C_=k_,E_=0,M_=[],I_="",S_=!1,x_=0,P_=0,T_=1,L_=!1,B_=0,O_=!1,G_=!1,U_=2e3,R_=[0,5],N_=0,D_=!1,V_=!1,J_=["next_button","back_button"],H_=0,F_=!1,q_=!0;function z_(){Um(),yp(),sm(document.getElementById("stream_info_icon"),yr.Main_selectedChannelLogo),Cc("stream_info_name",yr.Main_selectedChannelDisplayname),kc("stream_info_title",Py),kc("stream_info_game",Sy+" "+xy+" "+By),Cc("stream_live_icon",Ly),Cc("progress_bar_duration",Im(N_)),bg((Dh=R_)[1]),Ec("stream_info_title"),yr.Play_isHost=!1,Cc("progress_bar_current_time",Im(0)),Cc("stream_live_time",""),Cc("stream_watching_time",""),L_=null!==yr.ChannelVod_vodId,tl=Gt+".",L_?(el=Vs,ll()):Ul(),kc("pause_button",'<i class="pause_button3d icon-pause"></i>'),yc("progress_pause_holder"),bf(),yc("scene_channel_panel_bottom"),m_=B_=0,window.clearInterval(h_),G_=!1,Tf=-13,x_=P_=0,E_=2,sf(),Ip(3),bh=!1,hp(),mo()?(na=!0,ia=yr.Main_selectedChannel_id,ba()):Gm(),document.addEventListener("visibilitychange",ef,!1),p_=!1,y_=!(g_=v_=0),X_(),document.body.removeEventListener("keyup",Au)}function X_(){b_=0,w_=2e3,Y_()}function Y_(){d_("https://clips.twitch.tv/api/v2/clips/"+Ty+"/status",w_,1,null,W_,j_,!0)}function j_(){++b_<A_?(w_+=250,Y_()):(Rm(),Bp(3))}function W_(e){M_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)M_.length?M_.push({id:e[t].quality+"p"+Q_(e[t].frame_rate),url:e[t].source}):M_.push({id:e[t].quality+"p"+Q_(e[t].frame_rate)+" (source)",url:e[t].source});P_=T_,Z_()}function Q_(e){return 40<e?60:""}function Z_(){window.clearInterval(h_),I_=M_[E_=0].url,-1!==k_.indexOf("source")&&(k_="source");for(var e=0;e<vf();e++){if(M_[e].id===k_){I_=M_[E_=e].url;break}-1!==M_[e].id.indexOf(k_)&&(I_=M_[E_=e].url)}C_=k_,jl&&console.log("PlayClip_onPlayer:",'\n\n"'+I_+'"\n'),P_=T_,lc&&y_&&Android.startVideoOffset(I_,3,S_?-1:Android.gettime()),S_=!1,K_()}function K_(){$f&&!ip()&&tp(),lc&&(m_=0,Gh=1+U_/1e3,O_=!1,window.clearInterval(h_),h_=window.setInterval(tf,Uh))}function $_(e){Cc("progress_bar_duration",Im(N_=e/1e3)),mf()}function ef(){document.hidden&&af()}function tf(){lc&&(x_=Android.gettime()),N_<x_/1e3&&(lc&&Android.play(!1),Play_PannelEndStart(3)),y_&&f_===x_&&!Cm()?++m_>Gh&&(O_&&G_&&E_<vf()-1?E_++:!O_&&G_&&B_++,navigator.onLine?1<B_?km(B_,3,nf):(gf(),Z_(),G_=!0):Am(!1,3)):(m_=B_=0,G_=!1),f_=x_}function nf(e){if(!e){if(!(E_<vf()-1))return void Am(!1,3);E_++}B_=0,gf(),Z_(),G_=!0}function af(){y_&&(F_=!1,of(),Hm(),Lm())}function of(){ff(),M_=[],window.clearInterval(h_),lc&&Android.stopVideo(3),y_=!1,Tl(),Bm(),YC(),document.body.removeEventListener("keydown",Af),document.removeEventListener("visibilitychange",ef),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Vs=0}function sf(){var e,t=df(1,0),n=df(-1,Gg.ColoumnsCount-1);V_=D_=!1,t?(D_=!0,Cc("next_button_text_name",(e=JSON.parse(document.getElementById(Gg.ids[8]+t).getAttribute(tc)))[4]),kc("next_button_text_title",e[9]),Cc("end_next_button_text_name",e[4]),kc("end_next_button_text_title",e[9]),lf(0,1)):lf(0,0),n?(V_=!0,Cc("back_button_text_name",(e=JSON.parse(document.getElementById(Gg.ids[8]+n).getAttribute(tc)))[4]),kc("back_button_text_title",e[9]),lf(1,1)):lf(1,0)}function df(e,t){return Wc(Gg.posY,Gg.posX+e,Gg.ids[0])?Gg.posY+"_"+(Gg.posX+e):Wc(Gg.posY+e,t,Gg.ids[0])?Gg.posY+e+"_"+t:null}function lf(e,t){document.getElementById(J_[e]).style.opacity=t}function rf(){H_?1===H_?cf():-1===H_&&uf():(L_&&yr.Play_ChatForceDisable&&(Cm()?xl(sl):Pl()),bp()||fp(3))}function cf(){cy(1,0),_f()}function uf(){cy(-1,Gg.ColoumnsCount-1),_f()}function _f(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",Du(function(){of(),Lu(Gg.posY+"_"+Gg.posX,Gg.ids,uy),e.style.transition=""})}function ff(){yv=!1,gv=bv=0,$m(),k_=C_,document.getElementById("scene_channel_panel").style.opacity="0",lc&&vg(Android.gettime()/1e3,N_,!0),kc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Xp)}function hf(){mf(),Em(),Xp=window.setInterval(mf,1e3),Hm(),ug(),pf(),gf(),document.getElementById("scene_channel_panel").style.opacity="1",yf()}function mf(){lc&&vg(Android.gettime()/1e3,N_,!yv)}function pf(){for(var e=E_=0;e<vf();e++){if(M_[e].id===k_){E_=e;break}-1!==M_[e].id.indexOf(k_)&&(E_=e)}}function vf(){return M_.length}function gf(){1===vf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):E_?E_===vf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(k_=M_[E_].id).indexOf("source")?Cc("quality_name",k_.replace("source",ge)):Cc("quality_name",k_)}function yf(){Of=window.setTimeout(ff,5e3+Sv)}function bf(){document.getElementById("quality_name").style.width="16ch",Cc("open_vod_text",L_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function wf(){L_?(yr.vodOffset=Vs,of(),document.body.addEventListener("keydown",Og,!1),hp(),Du(Ov)):(bh=!0,Nm(ln),window.setTimeout(function(){bh=!1,Dm()},2e3))}function Af(e){if(P_!==T_)switch(e.keyCode){case zi:Fm()?(Hm(),af()):Jm()}else switch(e.keyCode){case Vi:zC()?Vf&&!pC&&(iE(),Vf--,KC()):Rf&&!Wm()&&ip()?(xf++,cp()):Wm()?($m(),2===Mv?(pp(),5<++yh&&(yh=0),mp()):Mv?1===Mv&&-1<H_&&(H_--,V_||!H_?_g():H_++):(Ag(-1,N_),Sv=2500),yf()):bp()?(Ep(),kp(),--Eh<(D_?-1:0)&&(Eh=3),Ap()):hf();break;case Hi:zC()?Vf<wC-1&&!pC&&(iE(),Vf++,KC()):!Rf||Wm()||bp()?Wm()?($m(),2===Mv?(pp(),--yh<0&&(yh=5),mp()):Mv?1===Mv&&H_<1&&(H_++,D_||!H_?_g():H_--):(Ag(1,N_),Sv=2500),yf()):bp()?(Ep(),kp(),3<++Eh&&(Eh=D_?-1:0),Ap()):hf():t_("ChatEnable",($f=ip()||bp()?(np(),!1):(tp(),!0))?"true":"false");break;case Ji:bp()?Ep():Wm()?(2===Mv&&1!==yh?(Mv--,_g()):1===Mv?(Mv--,_g()):0<E_&&1===yh&&(E_--,gf()),$m(),yf()):zC()?zC()?ZC():hf():XC();break;case Fi:bp()?Ep():Wm()?(Mv?1===Mv?(Mv++,_g()):E_<vf()-1&&1===yh&&(E_++,gf()):(Mv++,_g()),$m(),yf()):zC()?YC():Rf&&ip()?(4<++Bf?rp(!(Bf=1)):4===Bf&&rp(!0),dp(!0)):hf();break;case qi:bp()?Mp(3):Wm()?Mv?1===Mv?rf():Lp(3):($m(),yf(),gv&&gg()):zC()?(of(),Pu(Vf,PC,Fp)):hf();break;case zi:Wm()?ff():zC()?YC():Fm()?(Hm(),af()):Jm();break;case Ni:case Ri:case Di:L_&&!yr.Play_ChatForceDisable&&(Cm()?xl(sl):Pl()),bp()||fp(3)}}var kf,Cf,Ef,Mf,If,Sf,xf=0,Pf=xf,Tf=-5,Lf=.55,Bf=3,Of=null,Gf="source",Uf=Gf,Rf=!0,Nf=!1,Df="",Vf=0,Jf=2e3,Hf=0,Ff=1,qf=2,zf=0,Xf=null,Yf=0,jf=0,Wf=0,Qf="",Zf=[],Kf=0,$f=!1,eh=null,th=null,nh=null,ih="",ah=0,oh=5,sh=0,dh=5,lh=0,rh=!1,ch=null,uh=!1,_h=0,fh=null,hh=0,mh=0,ph=!1,vh=!1,gh=!1,yh=1,bh=!1,wh=!1,Ah=1e4,kh=2e3,Ch="",Eh=0,Mh=3,Ih=null,Sh="",xh=0,Ph=0,Th="",Lh=!0,Bh=!1,Oh=!1,Gh=7,Uh=1e3,Rh=0,Nh="",Dh=[],Vh=!1,Jh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Hh=[0,0,0,1,2,2,2,1],Fh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],qh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],zh=1,Xh=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Yh(){If=document.getElementById("chat_container"),Sf=document.getElementById("inner_progress_bar"),xf=n_("ChatPositionsValue",0),Bf=n_("ChatSizeValue",3),$f=a_("ChatEnable",!1),Rf=a_("Play_isFullScreen",!0),dp(!1),lp(!1),Wh()}function jh(e){e?void 0!==kf&&(xf=kf,Bf=Ef,($f=Cf)||np(),dp(!1)):(kf=xf,Cf=$f,Ef=Bf,xf=0,tp(),Bf=4,rp($f=!0),dp(!1),Xd&&(Xd.scrollTop=Xd.scrollHeight)),t_("Play_isFullScreen",Rf)}function Wh(){zh=aA("chat_font_size");for(var e=0;e<Xh.length;e++)Ac("chat_inner_container",Xh[e]);wc("chat_inner_container",Xh[zh])}function Qh(){Um(),kc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Pi+f.toUpperCase()+"</div>"),cu("stream_info_title"),L_=!(wh=!1),sm(document.getElementById("stream_info_icon"),Oi),yr.Play_isHost?Cc("stream_info_name",yr.Play_DisplaynameHost):Cc("stream_info_name",yr.Play_selectedChannelDisplayname),lf(0,0),lf(1,0),yr.Play_WasPlaying=1,tu(),Nf=yr.Play_isHost,yr.Play_isHost=!1,Bh=!1,yc("scene_channel_panel_bottom"),Ph=xh=0,Cc("stream_watching_time",g+Im(0)),ih=Sm(0),Cc("stream_live_time",y+ih),gc("progress_pause_holder"),Vh=!1,Ip(1),Tf=-5,hh=mh=Rh=0,window.clearInterval(fh),vh=!1,Ah=3e3,Lh=!(sh=0),zf=Hf,gh=!(rh=!(Wf=jf=Yf=uh=0)),document.addEventListener("visibilitychange",Kh,!1),em(),dm(),document.body.removeEventListener("keyup",Au),Xf=window.setInterval(im,6e4)}function Zh(e){Nm(e)}function Play_CheckResume(){rh&&Kh(),sv&&Fv(),y_&&(af(),window.clearInterval(h_))}function Kh(){document.hidden?bp()?(Hm(),np(),Pm()):(Bm(),gh=!1,Hd(),window.clearInterval(Xf)):(rh=!0,Xm(),rh&&(Um(),Ah=3e3,Bh=!(sh=0),wh?im():em(),zf=Hf,lh=0,navigator.onLine?dm():Mf=window.setInterval($h,100),Xf=window.setInterval(im,6e4)))}function $h(){(navigator.onLine||200<lh)&&(window.clearInterval(Mf),dm()),lh++}function em(){c_("https://api.twitch.tv/kraken/streams/"+yr.Play_selectedChannel_id,Ah,2,null,tm,nm,!1)}function tm(e){null!==(e=JSON.parse(e)).stream&&(Cc("stream_info_name",Nf?yr.Play_DisplaynameHost:yr.Play_selectedChannelDisplayname),yr.Play_selectedChannel_id=e.stream.channel._id,kc("stream_info_title",mI.parse(e.stream.channel.status,!1,!0)),yr.Play_gameSelected=e.stream.game,Ch=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Cc("stream_info_game",v+yr.Play_gameSelected+m+Xc(e.stream.viewers)+" "+J+Ch),yr.Play_selectedChannelLogo=e.stream.channel.logo,wh=!0,sm(document.getElementById("stream_info_icon"),yr.Play_selectedChannelLogo),ih=e.stream.created_at,mo()?(na=!0,ia=yr.Play_selectedChannel_id,ba()):Gm())}function nm(){sh<dh&&(Ah+=500,window.setTimeout(function(){rh&&em()},750)),sh++}function im(){c_("https://api.twitch.tv/kraken/streams/"+yr.Play_selectedChannel_id,3e3,2,null,am,om,!1)}function am(e){null!==(e=JSON.parse(e)).stream&&(kc("stream_info_title",mI.parse(e.stream.channel.status,!1,!0)),yr.Play_gameSelected=e.stream.game,Cc("stream_info_game",v+yr.Play_gameSelected+m+Xc(e.stream.viewers)+" "+J+Ch),wh||sm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function om(){Rh<dh?(window.setTimeout(function(){rh&&im()},2500),Rh++):Rh=0}function sm(e,t){e.onerror=function(){this.onerror=null,this.src=Oi,wh=!1},e.src=t}function dm(){ah=0,kh=2e3+(Bh?3e3:0),lm()}function lm(){var e,t;if(e=zf===Hf?"https://api.twitch.tv/api/channels/"+yr.Play_selectedChannel+"/access_token"+(mo()&&Ka[yr.Users_Position].access_token?"?oauth_token="+Ka[yr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+yr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Yf.token)+"&sig="+Yf.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",lc){if(!(t=Android.mreadUrl(e,kh,1,null)))return void cm();200===(t=JSON.parse(t)).status?(ah=0,rh&&fm(t.responseText)):403===t.status?um():404===t.status?Op():cm()}else(t=new XMLHttpRequest).open("GET",cc+e,!0),t.timeout=kh,t.setRequestHeader(Yr,Xr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(ah=0,rh&&fm(t.responseText)):403===t.status?(rm(t),Yl?_m():um()):404===t.status?(rm(t),Yl?_m():Op()):(rm(t),cm()))},t.send(null)}function rm(e){jl&&(console.log(e.status),console.log(e.responseText))}function cm(){rh&&Lh&&(++ah<oh+(Bh?7:0)?(kh+=250,Bh?window.setTimeout(lm,500):lm()):Yl?_m():Op())}function um(){Rm(),Nm(Vn),window.setTimeout(function(){rh&&Op()},4e3)}function _m(){Zf=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],zf=qf,rh&&vm()}function fm(e){zf===Hf?(Yf=JSON.parse(e),zf=Ff,dm()):zf===Ff&&(Zf=hm(jf=e),zf=qf,rh&&vm())}function hm(e){for(var t,n=[],i="",a=1,o=pm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=mm(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function mm(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function pm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function vm(){window.clearInterval(fh),Qf=Zf[Kf=0].url,-1!==Gf.indexOf("source")&&(Gf="source");for(var e=0;e<sp();e++){if(Zf[e].id===Gf){Qf=Zf[Kf=e].url;break}-1!==Zf[e].id.indexOf(Gf)&&(Qf=Zf[Kf=e].url)}Uf=Gf,zf=qf,jl&&console.log("Play_onPlayer:",'\n\n"'+Qf+'"\n'),lc&&rh&&Android.startVideo(Qf,1),gm()}function gm(){Oh=!1,$f&&!ip()&&tp(),gh=!0,ym(),lc&&(hh=0,Gh=1+Jf/1e3,ph=!1,window.clearInterval(fh),fh=window.setInterval(bm,Uh))}function ym(){yr.Play_ChatForceDisable?gd():Rl()}function bm(){var e=!Cm();lc&&(xh=Android.gettime()),rh&&_h===xh&&e?Gh<++hh&&(ph&&vh&&Kf<sp()-1?Kf++:!ph&&vh&&mh++,navigator.onLine?1<mh?km(mh,1,wm):(op(),vm(),vh=!0):Am(!1,1)):(hh=mh=0,vh=!1),_h=xh,e&&Ph++}function wm(e){if(!e){if(!(Kf<sp()-1))return void Op();Kf++}mh=0,op(),vm(),vh=!0}function Am(e,t){yr.Play_isHost=e,Ip(t),Bp(t)}function km(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Am(!1,t))},i.send(null)}function Cm(){return!!lc&&!Android.getPlaybackState()}function Em(){var e=Vu();Cc("stream_clock",e),Cc("label_clock",e)}function Mm(e){return e<10?"0"+e:e}function Im(e){var t,n,i;return t=Mm(parseInt(e)%60),n=Mm((e=Math.floor(e/60))%60),i=Mm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Sm(e){return Im(parseInt(e/1e3))}function xm(e){return Sm((new Date).getTime()-new Date(e).getTime())}function Pm(){rh&&(Tm(),yr.Play_WasPlaying=0,Lm())}function Tm(){lc&&Android.stopVideo(1),rh=!1,YC(),Tl(),Bm(),Om(),yr.Play_selectedChannel_id=""}function Lm(){vg(0,0),yc("scene1"),gc("scene2"),Qc()}function Bm(){Qm(),Xm(),Dm(),yp(),Nh="",Kf===sp()-1&&(Uf=Zf[0].id),iv===pg()-1&&(Wp=nv[0].id),E_===vf()-1&&(C_=M_[0].id)}function Om(){gh=!1,document.body.removeEventListener("keydown",Fp),document.removeEventListener("visibilitychange",Kh),Hd(),window.clearInterval(Xf),window.clearInterval(fh),bh=!1}function Gm(){kc("fallow_text",Pi+Lt),ea=!1}function Um(){lc?Android.mshowLoading(!0):yc("dialog_loading_play")}function Rm(){lc?Android.mshowLoading(!1):gc("dialog_loading_play")}function Nm(e){Cc("dialog_warning_play_text",e),yc("dialog_warning_play")}function Dm(){gc("dialog_warning_play")}function Vm(){return bc("dialog_warning_play")}function Jm(){Fm()?Hm():(yc("play_dialog_exit"),eh=window.setTimeout(Jm,3e3))}function Hm(){window.clearTimeout(eh),gc("play_dialog_exit")}function Fm(){return bc("play_dialog_exit")}function qm(){window.clearTimeout(th)}function zm(){window.clearTimeout(nh)}function Xm(){qm(),zm(),gc("play_dialog_simple_pause")}function Ym(){Rm(),Cm()?jm()?(gc("play_dialog_simple_pause"),nh=window.setTimeout(Ym,8e3)):(yc("play_dialog_simple_pause"),th=window.setTimeout(Ym,1500)):Xm()}function jm(){return bc("play_dialog_simple_pause")}function Wm(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Qm(){$m(),document.getElementById("scene_channel_panel").style.opacity="0",Gf=Uf,window.clearInterval(Xp)}function Zm(){hp(),ap(),op(),Km(),Xp=window.setInterval(Km,1e3),Em(),Hm(),document.getElementById("scene_channel_panel").style.opacity="1",ep()}function Km(){Cc("stream_watching_time",g+Im(Ph)),Cc("stream_live_time",y+(-1===ih.indexOf("00:00")?xm(ih):"00:00"))}function $m(){window.clearTimeout(Of),Sv=0}function ep(){Of=window.setTimeout(Qm,5e3)}function tp(){cp(),yc("chat_container")}function np(){gc("chat_container")}function ip(){return bc("chat_container")}function ap(){for(var e=Kf=0;e<sp();e++){if(Zf[e].id===Gf){Kf=e;break}-1!==Zf[e].id.indexOf(Gf)&&(Kf=e)}}function op(){1===sp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):Kf?Kf===sp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Gf=Zf[Kf].id).indexOf("source")?Cc("quality_name",Gf.replace("source",ge)+Zf[Kf].band):Cc("quality_name",Gf+Zf[Kf].band)}function sp(){return Zf.length}function dp(e){If.style.height=qh[Bf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=qh[Bf-1].dialogTop+"%",cp(),Vd(),e&&up(Nn+qh[Bf-1].percentage),window.setTimeout(function(){Xd&&(Xd.scrollTop=Xd.scrollHeight)},500),t_("ChatSizeValue",Bf)}function lp(e){If.style.backgroundColor="rgba(0, 0, 0, "+Lf+")",e&&up(Dn+(100*Lf).toFixed(0)+"%")}function rp(e){xf=e?Hh[Pf=xf]:Fh[xf][Pf]}function cp(){var e=4===Bf;xf<0?xf=e?2:7:(e?2:7)<xf&&(xf=0),If.style.top=(e?.2:Jh[xf].top+Jh[xf].sizeOffset[Bf-1])+"%",If.style.left=Jh[xf+(e?2:0)].left+"%",t_("ChatPositionsValue",xf)}function up(e){window.clearTimeout(ch),Cc("play_chat_dialog_text",e),yc("play_chat_dialog"),ch=window.setTimeout(_p,1e3)}function _p(){gc("play_chat_dialog")}function fp(e){Cm()?(Xm(),kc("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(Wm()&&Qm(),window.clearInterval(fh),fh=window.setInterval(bm,Uh)):2===e?(Wm()&&lg(),window.clearInterval(_v),_v=window.setInterval(ig,Uh)):3===e&&(Wm()&&ff(),window.clearInterval(h_),h_=window.setInterval(tf,Uh)),lc&&Android.play(!0)):(window.clearInterval(fh),window.clearInterval(_v),window.clearInterval(h_),kc("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Ym(),lc&&Android.play(!1))}function hp(){pp(),yh=1,mp()}function mp(){wc("scene2_pannel_"+yh,"playbotton_focus")}function pp(){Ac("scene2_pannel_"+yh,"playbotton_focus")}function vp(e){Qp=zf=-1,P_=-1,YC(),np(),Qm(),ff(),lg(),bh||Dm(),Rm(),Hm(),3===e&&D_&&(F_||q_)&&(kp(),Eh=-1),Ap()}function gp(){yc("dialog_end_stream")}function yp(){gc("dialog_end_stream"),Ep(),wp()}function bp(){return bc("dialog_end_stream")}function wp(){kp(),Eh=0,Ap()}function Ap(){wc("dialog_end_"+Eh,"dialog_end_icons_focus")}function kp(){Ac("dialog_end_"+Eh,"dialog_end_icons_focus")}function Cp(e){1===e?Sh=yr.Play_selectedChannelDisplayname+" "+f:2===e?Sh=yr.Main_selectedChannelDisplayname+$t:3===e&&(Sh=yr.Main_selectedChannelDisplayname+Gt),kc("dialog_end_stream_text",Sh+S+pi+(3===e&&D_&&(F_||q_)?li:tn)+Mh+"..."),bp()?(Qp=zf=qf,P_=T_,-1===--Mh?(kc("dialog_end_stream_text",Sh+S+pi+tn+"0..."),Hm(),np(),1===e?Pm():2===e?og():3===e&&(D_&&(F_||q_)?cf():af())):Ih=window.setTimeout(function(){Cp(e)},1e3)):Ih=window.setTimeout(function(){Cp(e)},50)}function Ep(){window.clearTimeout(Ih),kc("dialog_end_stream_text",Sh+S+pi+nn)}function Mp(e){var t=!0;-1===Eh&&D_?cf():Eh?1===Eh?yr.Play_isHost?(yr.Play_DisplaynameHost=yr.Play_selectedChannelDisplayname+ne,yr.Play_selectedChannel=Th.target_login,yr.Play_selectedChannelDisplayname=Th.target_display_name,yr.Play_DisplaynameHost=yr.Play_DisplaynameHost+yr.Play_selectedChannelDisplayname,Tm(),document.body.addEventListener("keydown",Fp,!1),yr.Play_selectedChannel_id=Th.target_id,Du(Qh)):wf():2===Eh?Sp(e):3===Eh&&Pp(e):2===e?nv.length?(hv=!(Tv=!0),eg(),Xm(),el=kv=0,ll()):(t=!1,Nm(ei),window.setTimeout(function(){Dm()},2e3)):3===e&&(M_.length?(O_=!(S_=!0),Z_(),Xm(),L_?(kv=0,el=Vs,ll()):Ul()):(t=!1,Nm(ei),window.setTimeout(function(){Dm()},2e3))),1!==Eh&&3===Eh&&""===yr.Play_gameSelected&&(t=!1),t&&yp()}function Ip(e){e?1===e?(kp(),Eh=2,Ap(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(wp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(wp(),document.getElementById("dialog_end_-1").style.display=D_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Cc("dialog_end_vod_text",L_?sn:dn)):(kp(),Eh=1,Ap(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Cc("dialog_end_vod_text",un))}function Sp(e){yr.Main_BeforeChannelisSet||yr.Main_Go===dr||yr.Main_Go===lr||(yr.Main_BeforeChannel=yr.Main_BeforeAgameisSet&&yr.Main_Go!==$l?yr.Main_BeforeAgame:yr.Main_Go,yr.Main_BeforeChannelisSet=!0),iu(yr.Main_Go),yr.Main_Go=sr,1===e?(yr.Main_selectedChannel_id=yr.Play_selectedChannel_id,yr.Main_selectedChannel=yr.Play_selectedChannel,yr.Main_selectedChannelDisplayname=yr.Play_selectedChannelDisplayname,Lo=ea,np(),Pm()):2===e?og():3===e&&af()}function xp(e){yr.Search_isSearching||(yr.Main_BeforeSearch=yr.Main_Go),iu(yr.Main_Go),yr.Main_Go=ir,1===e?(np(),Pm()):2===e?og():3===e&&af()}function Pp(e){if(""===yr.Play_gameSelected)return bh=!0,Nm(Qn),void window.setTimeout(function(){bh=!1,Dm()},2e3);yr.Main_BeforeAgameisSet||yr.Main_Go===hr||yr.Main_Go===mr||(yr.Main_BeforeAgame=yr.Main_BeforeChannelisSet&&yr.Main_Go!==sr&&yr.Main_Go!==dr&&yr.Main_Go!==lr?yr.Main_BeforeChannel:yr.Main_Go,yr.Main_BeforeAgameisSet=!0),iu(yr.Main_Go),yr.Main_Go=$l,yr.Main_gameSelected=yr.Play_gameSelected,np(),1===e?Pm():2===e?og():3===e&&af()}function Tp(){mo()&&Ka[yr.Users_Position].access_token?ea?Sa():Ea():(Nm(Bt),bh=!0,window.setTimeout(function(){Dm(),bh=!1},2e3))}function Lp(e){var t=document.getElementById("scene_channel_panel");2!==yh&&(t.style.transition="none",t.style.opacity="0"),Du(function(){yh?1===yh?(1===e?(vm(),Qm()):2===e?(hv=!1,eg(),lg()):3===e&&(O_=!1,Z_(),ff()),Xm()):2===yh?(ia=1===e?yr.Play_selectedChannel_id:yr.Main_selectedChannel_id,Tp(),$m(),1===e?ep():2===e?fg():3===e&&yf()):3===yh?Pp(e):4===yh?Sp(e):5===yh&&xp(e):wf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(fh),Op()):Bp(e)}function Bp(e){window.clearInterval(fh),window.clearInterval(h_),window.clearInterval(_v),vp(e),Mh=3,Cp(e),gp()}function Op(){Um(),zf=-1,ah=0,kh=2e3,Hd(),window.clearInterval(Xf),window.clearInterval(fh),""!==yr.Play_selectedChannel_id?Np():Gp()}function Gp(){c_("https://api.twitch.tv/kraken/users?login="+yr.Play_selectedChannel,kh,2,null,Up,Rp,!1)}function Up(e){void 0!==(e=JSON.parse(e).users[0])?(yr.Play_selectedChannel_id=e._id,ah=0,kh=2e3,Np()):Bp(1)}function Rp(){++ah<oh?(kh+=250,Gp()):Am(!1,1)}function Np(){d_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(yr.Play_selectedChannel_id),kh,1,null,Vp,Dp,!0)}function Dp(){++ah<oh?(kh+=250,Np()):Am(!1,1)}function Vp(e){void 0!==(Th=JSON.parse(e).hosts[0]).target_login?(bh=!0,Nm(yr.Play_selectedChannelDisplayname+cn+ne+Th.target_display_name),window.setTimeout(function(){bh=!1},4e3),Ip(0),yr.Play_isHost=!0):(Ip(1),yr.Play_isHost=!1),Bp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?ng(t):3===e&&$_(t))}function Jp(){ea?(kc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),kc("fallow_text",Pi+Mt)):(kc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),kc("fallow_text",Pi+It))}function Hp(e){bp()&&!Fm()?(Ep(),Jm()):zC()?YC():Wm()&&!xg()?e?lg():Qm():xg()&&Fm()?(Sg(),sg(!1),Lm()):Fm()?(Hm(),np(),e?og():Pm()):(Vm()&&Dm(),Jm())}function Fp(e){if(zf!==qf)switch(e.keyCode){case zi:Fm()?(Hm(),np(),Pm()):Jm()}else switch(e.keyCode){case Vi:zC()?Vf&&!pC&&(iE(),Vf--,KC()):Rf&&!Wm()&&ip()?(xf++,cp()):Wm()?(pp(),5<++yh&&(yh=1),mp(),$m(),ep()):bp()?(Ep(),kp(),--Eh<(yr.Play_isHost?1:2)&&(Eh=3),Ap()):Zm();break;case Hi:zC()?Vf<wC-1&&!pC&&(iE(),Vf++,KC()):!Rf||Wm()||bp()?Wm()?(pp(),--yh<1&&(yh=5),mp(),$m(),ep()):bp()?(Ep(),kp(),3<++Eh&&(Eh=yr.Play_isHost?1:2),Ap()):Zm():t_("ChatEnable",($f=ip()||bp()?(np(),!1):(tp(),!0))?"true":"false");break;case Ji:Wm()?(0<Kf&&1===yh&&(Kf--,op()),$m(),ep()):!zC()&&mo()?XC():bp()?Ep():zC()&&ZC();break;case Fi:Wm()?(Kf<sp()-1&&1===yh&&(Kf++,op()),$m(),ep()):zC()?YC():Rf&&ip()?(4<++Bf?rp(!(Bf=1)):4===Bf&&rp(!0),dp(!0)):bp()?Ep():Zm();break;case qi:if(bp())Mp(1);else if(Wm())Lp(1);else if(zC()){var t=document.getElementById(PC[8]+Vf);null===t?jC():yr.Play_selectedChannel!==JSON.parse(t.getAttribute(tc))[0]?(Tm(),yr.Play_isHost=!1,Vh=!0,Pu(Vf,PC,Fp)):jC()}else Zm();break;case zi:Hp(!1);break;case Ni:case Ri:case Di:bp()||fp(1)}}var qp,zp,Xp,Yp,jp="source",Wp=jp,Qp=0,Zp=null,Kp=0,$p=0,ev=0,tv="",nv=[],iv=0,av=0,ov=5,sv=!1,dv=2e3,lv=0,rv=5,cv=1e4,uv=0,_v=null,fv=0,hv=!1,mv=0,pv=!1,vv=!1,gv=0,yv=!1,bv=0,wv=2e3,Av=!1,kv=0,Cv={},Ev=0,Mv=0,Iv=!0,Sv=0,xv=0,Pv=0,Tv=!1,Lv=[0,10,30,60,120,300,600,900,1200,1800],Bv=!1;function Ov(){Um(),yp(),kv=0,Cc("stream_live_time",""),Cc("stream_watching_time",""),Cc("progress_bar_current_time",Im(0)),tl=O+".",kc("pause_button",'<i class="pause_button3d icon-pause"></i>'),gc("progress_pause_holder"),xv=0,bg((Dh=Lv)[1]),Qp=Hf,L_=!0,Vs=0,yr.Play_isHost=!1,lf(0,0),lf(1,0),yr.vodOffset?(Uv(),Vv()):(Iv&&""!==yr.Main_selectedChannel_id?(sm(document.getElementById("stream_info_icon"),yr.Main_selectedChannelLogo),Cv["#"+yr.ChannelVod_vodId]||ll(),mo()?(ia=yr.Main_selectedChannel_id,na=!0,ba()):Gm()):(Uv(),Rv()),Cc("stream_info_name",yr.Main_selectedChannelDisplayname),kc("stream_info_title",""),kc("stream_info_game",Rs+" ["+Ts.toUpperCase()+"]"),Cc("stream_live_icon",Ns),Ec("stream_info_game")),Cv["#"+yr.ChannelVod_vodId]&&!yr.vodOffset?(Rm(),Ig()):Gv()}function Gv(){window.setTimeout(function(){yc("scene_channel_panel_bottom"),yc("progress_pause_holder")},1e3),Cc("progress_bar_duration",Im(Ss)),yr.Play_WasPlaying=2,tu(),Yp=window.setInterval(zv,6e4),(new Image).src=Nh,fv=mv=0,window.clearInterval(_v),bh=Av=pv=!(Tf=-13),yv=!1,ev=$p=Kp=bv=0,document.addEventListener("visibilitychange",Fv,!1),Bv=!(sv=!(vv=!1)),Xv(),Ip(2),document.body.removeEventListener("keyup",Au)}function Uv(){lv=0,rv=5,cv=1e4}function Rv(){c_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(yr.Main_selectedChannel),cv,2,null,Nv,Dv,!1)}function Nv(e){void 0!==(e=JSON.parse(e).users[0])?(yr.Main_selectedChannelLogo=e.logo,yr.Main_selectedChannel_id=e._id,Cv["#"+yr.ChannelVod_vodId]||ll(),mo()?(ia=yr.Main_selectedChannel_id,na=!0,ba()):Gm()):(yr.Main_selectedChannelLogo=Oi,yr.Main_selectedChannel_id=""),sm(document.getElementById("stream_info_icon"),yr.Main_selectedChannelLogo)}function Dv(){++lv<rv?(cv+=500,window.setTimeout(function(){sv&&Rv()},750)):zp=window.setTimeout(Rv,2500)}function Vv(){c_("https://api.twitch.tv/kraken/videos/"+yr.ChannelVod_vodId,cv,2,null,Hv,Jv,!1)}function Jv(){++lv<rv&&(cv+=2e3,Vv())}function Hv(e){e=JSON.parse(e),kc("stream_info_title",mI.parse(e.title,!1,!0)),kc("stream_info_game",Qt+v+e.game+" "+Xc(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Cc("stream_live_icon",N+du(e.created_at)),Cc("progress_bar_duration",Im(Ss=parseInt(e.length))),kv=1e3*yr.vodOffset,vg(yr.vodOffset,Ss,!0),yr.Main_selectedChannelDisplayname=e.channel.display_name,Cc("stream_info_name",yr.Main_selectedChannelDisplayname),yr.Main_selectedChannelLogo=e.channel.logo,sm(document.getElementById("stream_info_icon"),yr.Main_selectedChannelLogo),yr.Main_selectedChannel_id=e.channel._id,yr.Main_selectedChannel=e.channel.name,mo()?(na=!0,ia=yr.Main_selectedChannel_id,ba()):Gm(),(new Image).src=e.increment_view_count_url}function Fv(){document.hidden?bp()?(Hm(),np(),og()):(zv(),kg(),Pl(),Bm(),window.clearInterval(_v),window.clearInterval(Yp)):(sv=!0,Xm(),sv&&(Um(),lh=lh=0,navigator.onLine?tg():Mf=window.setInterval(qv,100),xl(sl),Ip(2),Yp=window.setInterval(zv,6e4)))}function qv(){(navigator.onLine||200<lh)&&(window.clearInterval(Mf),Qp=Hf,Xv()),lh++}function zv(){yr.vodOffset=lc?parseInt(Android.gettime()/1e3):0,tu(),yr.vodOffset=0}function Xv(){av=0,wv=2e3,Yv()}function Yv(){d_(Qp===Hf?"https://api.twitch.tv/api/vods/"+yr.ChannelVod_vodId+"/access_token"+(mo()&&Ka[yr.Users_Position].access_token?"?oauth_token="+Ka[yr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+yr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Kp.token)+"&nauthsig="+Kp.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",kh,1,null,Qv,jv,!0)}function jv(){if(sv){var e;if(Kp.token&&(e=JSON.parse(Kp.token)),e&&0!==JSON.parse(Kp.token).chansub.restricted_bitrates.length)return void Zv();++av<ov?(wv+=250,Yv()):Yl?Wv():(Rm(),Bp(2))}}function Wv(){nv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Qp=qf,sv&&eg()}function Qv(e){Qp===Hf?(Kp=JSON.parse(e),Qp=Ff,Xv()):Qp===Ff&&(nv=hm($p=e),Qp=qf,sv&&eg())}function Zv(){mo()&&Ka[yr.Users_Position].access_token?(ia=yr.Main_selectedChannel_id,Ta()):(Rm(),Nm(x+St),window.setTimeout(function(){sv&&og()},4e3))}function Kv(){Rm(),Nm(x+xt),window.setTimeout(function(){sv&&og()},4e3)}function $v(){Bv?(Rm(),Nm(x+Pt),window.setTimeout(function(){sv&&og()},4e3)):(Bv=!0,Qp=Hf,Xv())}function eg(){window.clearInterval(_v),tv=nv[iv=0].url,-1!==jp.indexOf("source")&&(jp="source");for(var e=0;e<pg();e++){if(nv[e].id===jp){tv=nv[iv=e].url;break}-1!==nv[e].id.indexOf(jp)&&(tv=nv[iv=e].url)}Wp=jp,tg()}function tg(){jl&&console.log("PlayVod_onPlayer:",'\n\n"'+tv+'"\n'),yr.vodOffset?(el=yr.vodOffset,ll(),lc&&sv&&Android.startVideoOffset(tv,2,Tv?-1:1e3*yr.vodOffset),yr.vodOffset=0):lc&&sv&&Android.startVideoOffset(tv,2,Tv?-1:Android.gettime()),Tv=!1,$f&&!ip()&&tp(),lc&&(fv=0,Gh=3+dv/1e3,hv=!1,window.clearInterval(_v),_v=window.setInterval(ig,Uh))}function ng(e){Cc("progress_bar_duration",Im(Ss=e/1e3)),cg()}function ig(){lc&&(kv=Android.gettime()),Ss<kv/1e3&&(lc&&Android.play(!1),Play_PannelEndStart(2)),sv&&uv===kv&&!Cm()?++fv>Gh&&(hv&&pv&&iv<pg()-1?iv++:!hv&&pv&&mv++,navigator.onLine?1<mv?km(mv,2,ag):(mg(),eg(),pv=!0):Am(!1,2)):(fv=mv=0,pv=!1),uv=kv}function ag(e){if(!e){if(!(iv<pg()-1))return void Am(!1,2);iv++}mv=0,mg(),eg(),pv=!0}function og(){sv&&(nv=[],sg(!0),Lm())}function sg(e){e&&kg(),lc&&Android.stopVideo(2),sv=!1,window.clearInterval(Yp),window.clearInterval(zp),yr.Play_WasPlaying=0,Iv=!0,Tl(),YC(),Bm(),dg()}function dg(){document.body.removeEventListener("keydown",Og),document.removeEventListener("visibilitychange",Fv),yr.vodOffset=0,window.clearInterval(Zp),window.clearInterval(_v),Ss=0}function lg(){yv=!1,gv=bv=0,$m(),document.getElementById("scene_channel_panel").style.opacity="0",lc&&vg(Android.gettime()/1e3,Ss,!0),kc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",jp=Wp,window.clearInterval(Xp)}function rg(e){cg(),Em(),Hm(),Xp=window.setInterval(cg,1e3),e&&(ug(),hg(),mg(),fg()),document.getElementById("scene_channel_panel").style.opacity="1"}function cg(){lc&&vg(Android.gettime()/1e3,Ss,!yv)}function ug(){Mv=1,H_=0,_g()}function _g(){Ac("pause_button","progress_bar_div_focus"),Ac("next_button","progress_bar_div_focus"),Ac("back_button","progress_bar_div_focus"),Ac("progress_bar_div","progress_bar_div_focus"),Mv?1===Mv?(H_?1===H_?wc("next_button","progress_bar_div_focus"):-1===H_&&wc("back_button","progress_bar_div_focus"):wc("pause_button","progress_bar_div_focus"),pp(),kc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):2===Mv&&(mp(),kc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):(wc("progress_bar_div","progress_bar_div_focus"),pp(),gv&&(wg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function fg(){Of=window.setTimeout(lg,5e3+Sv)}function hg(){for(var e=iv=0;e<pg();e++){if(nv[e].id===jp){iv=e;break}-1!==nv[e].id.indexOf(jp)&&(iv=e)}}function mg(){1===pg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):iv?iv===pg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(jp=nv[iv].id).indexOf("source")?Cc("quality_name",jp.replace("source",ge)+nv[iv].band):Cc("quality_name",jp+nv[iv].band)}function pg(){return nv.length}function vg(e,t,n){Cc("progress_bar_current_time",Im(e)),n&&(Sf.style.width=e/t*100+"%")}function gg(){Xm(),bp()||(O_=hv=!1,sv?(lc&&Android.startVideoOffset(tv,2,0<Pv?1e3*Pv:-1),el=Pv):(el=Vs,lc&&Android.startVideoOffset(I_,3,0<Pv?1e3*Pv:-1)),L_&&ll()),kc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",yv=!1,Pv=gv=bv=0}function yg(){xv=bv=0,bg(Dh[1])}function bg(e){gv&&!Mv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Cc("progress_bar_steps",Jn+e/60+Fn):Cc("progress_bar_steps",e?Jn+e+Hn:Jn+Dh[1]+Hn)}function wg(){Cc("progress_bar_jump_to",ue+" ("+(gv<0?"-":"")+Im(Math.abs(gv))+")"+_e+Im(Pv))}function Ag(e,t){var n=lc?Android.gettime()/1e3:0;window.clearTimeout(qp),yv=!0,bv<Dh.length-1&&xv++%6==0&&bv++,gv+=Dh[bv]*e,Pv=n+gv,sv&&(Pv=10*Math.floor(Pv/10)),t<Pv?(gv=t-n-Dh[1],Pv=n+gv,xv=bv=0):Pv<0&&(gv=0-n,Pv=xv=bv=0),wg(),Sf.style.width=Pv/t*100+"%",bg(Dh[bv]*e),qp=window.setTimeout(yg,1e3)}function kg(){var e=lc?parseInt(Android.gettime()/1e3):0,t="#"+yr.ChannelVod_vodId;300<e&&e<Ss-300?(Cv[t]&&delete Cv[t],Cv[t]=e,t_("PlayVod_VodIds",JSON.stringify(Cv))):Ss-300<e&&Cv[t]&&(delete Cv[t],t_("PlayVod_VodIds",JSON.stringify(Cv)))}function Cg(){Cv=i_("PlayVod_VodIds",{});var e=Eg();250<e&&Mg(e-250)}function Eg(){var e=0;for(var t in Cv)Cv.hasOwnProperty(t)&&e++;return e}function Mg(e){var t=0;for(var n in Cv){if(!(t<e))break;delete Cv[n],t++}t_("PlayVod_VodIds",JSON.stringify(Cv))}function Ig(){gc("scene_channel_panel_bottom"),rg(!1),kc("dialog_vod_saved_text",An+Sm(1e3*Cv["#"+yr.ChannelVod_vodId])),yc("dialog_vod_start")}function Sg(){lg(),gc("dialog_vod_start"),Pg(),window.setTimeout(function(){yc("scene_channel_panel_bottom")},1e3)}function xg(){return bc("dialog_vod_start")}function Pg(){Lg(),Ev=0,Tg()}function Tg(){wc("dialog_vod_"+Ev,"dialog_end_icons_focus")}function Lg(){Ac("dialog_vod_"+Ev,"dialog_end_icons_focus")}function Bg(e){Sg(),e?(delete Cv["#"+yr.ChannelVod_vodId],yr.vodOffset=0,Ov()):(yr.vodOffset=Cv["#"+yr.ChannelVod_vodId],kv=1e3*yr.vodOffset,vg(yr.vodOffset,Ss,!0),Gv())}function Og(e){if(Qp===qf||xg())switch(e.keyCode){case Vi:zC()?Vf&&!pC&&(iE(),Vf--,KC()):Rf&&!Wm()&&ip()?(xf++,cp()):Wm()&&!xg()?($m(),2===Mv?(pp(),5<++yh&&(yh=1),mp()):Mv||(Ag(-1,Ss),Sv=2500),fg()):xg()?(Lg(),Ev?Ev--:Ev++,Tg()):bp()?(Ep(),kp(),--Eh<0&&(Eh=3),1===Eh&&(Eh=0),Ap()):xg()||rg(!0);break;case Hi:console.log(Mv),zC()?Vf<wC-1&&!pC&&(iE(),Vf++,KC()):!Rf||Wm()||bp()?Wm()&&!xg()?($m(),2===Mv?(pp(),--yh<1&&(yh=5),mp()):Mv||(Ag(1,Ss),Sv=2500),fg()):xg()?(Lg(),Ev?Ev--:Ev++,Tg()):bp()?(Ep(),kp(),3<++Eh&&(Eh=0),1===Eh&&(Eh=2),Ap()):xg()||rg(!0):t_("ChatEnable",($f=ip()||bp()?(np(),!1):(tp(),!0))?"true":"false");break;case Ji:bp()?Ep():Wm()&&!xg()?(2===Mv&&1!==yh?(Mv--,_g()):1===Mv?(Mv--,_g()):0<iv&&1===yh&&(iv--,mg()),$m(),fg()):zC()?zC()?ZC():xg()||rg(!0):XC();break;case Fi:bp()?Ep():Wm()&&!xg()?(Mv?1===Mv?(Mv++,_g()):iv<pg()-1&&1===yh&&(iv++,mg()):(Mv++,_g()),$m(),fg()):zC()?YC():Rf&&ip()?(4<++Bf?rp(!(Bf=1)):4===Bf&&rp(!0),dp(!0)):xg()||rg(!0);break;case qi:xg()?Bg(Ev):bp()?Mp(2):Wm()?Mv?1===Mv?(yr.Play_ChatForceDisable&&(Cm()?xl(sl):Pl()),bp()||fp(2)):Lp(2):($m(),fg(),gv&&gg()):zC()?(sg(!0),Pu(Vf,PC,Fp)):rg(!0);break;case zi:Hp(!0);break;case Ni:case Ri:case Di:yr.Play_ChatForceDisable&&(Cm()?xl(sl):Pl()),bp()||fp(2)}else switch(e.keyCode){case zi:Fm()?(Hm(),og()):Jm()}}var Gg={};function Ug(){console.log("InitScreens place holder")}function Rg(){Jy(),Fy(),Hy(),zy(),Xy(),Yy(),Wy(),Qy(),Ny(),Dy()}function Ng(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Dg(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function Vg(){Lr=-1,yr.Main_Go=Gg.screen,Gg.label_init(),document.body.addEventListener("keydown",uy,!1),yc(Gg.ids[10]),Gg.status?(uu(Gg.posY),ey(!0),tu()):Hg()}function Jg(){Lr=0,Gg.label_exit(),document.body.removeEventListener("keydown",uy),gc(Gg.ids[10]),Nc()}function Hg(){Mc(),cu(Gg.table),Nc(),Gg.cursor=null,Gg.status=!1,Gg.row=document.createElement("div"),Gg.MaxOffset=0,Gg.TopRowCreated=!1,Gg.offset=0,Gg.idObject={},Gg.Cells=[],Gg.FirstLoad=!0,Gg.itemsCount=0,Gg.posX=0,Gg.posY=0,Gg.row_id=0,Gg.currY=0,Gg.coloumn_id=0,Gg.data=null,Gg.data_cursor=0,Gg.dataEnded=!1,Bc(),Fg(),qg()}function Fg(){Gg.loadingData=!0,Gg.loadingDataTry=0,Gg.loadingDataTimeout=3500}function qg(){Gg.set_url(),lc&&!Gg.itemsCount?r_(Gg.url,Gg.loadingDataTimeout,2,null,Xg,zg):c_(Gg.url,Gg.loadingDataTimeout,2,null,Xg,zg,!1)}function zg(){Gg.loadingDataTry++,Gg.loadingDataTry<Gg.loadingDataTryMax?(Gg.loadingDataTimeout+=500,qg()):(Gg.loadingData=!1,Gg.itemsCount?Gg.dataEnded=!0:(Gg.FirstLoad=!1,Ic(),Rc(P),Gg.key_exit()))}function Xg(e){Gg.concatenate(e)}function Yg(){var e=Gg.data.length-Gg.data_cursor;if(e>Gg.ItemsLimit?e=Gg.ItemsLimit:Gg.loadingData||(Gg.dataEnded=!0),Gg.HasSwitches&&!Gg.TopRowCreated&&Gg.addSwitches(),e){Gg.row_id||(Gg.row=document.createElement("div"),Gg.row.id=this.ids[12]+Gg.row_id);var t=Math.ceil(e/Gg.ColoumnsCount),n=Gg.row_id+t;for(Gg.row_id;Gg.row_id<n;){for(Gg.coloumn_id===Gg.ColoumnsCount&&(Gg.row=document.createElement("div"),Gg.row.id=this.ids[12]+Gg.row_id,Gg.coloumn_id=0),Gg.coloumn_id;Gg.coloumn_id<Gg.ColoumnsCount&&Gg.data_cursor<Gg.data.length;Gg.data_cursor++)Gg.data[Gg.data_cursor]&&Gg.addCell(Gg.data[Gg.data_cursor]);if(Gg.coloumn_id===Gg.ColoumnsCount)Gg.Cells[Gg.row_id]=Gg.row,Gg.row_id++;else if(Gg.data_cursor>=Gg.data.length){""!==Gg.row.innerHTML&&(Gg.Cells[Gg.row_id]=Gg.row);break}}}Gg.emptyContent=!e&&!Gg.status,$g()}function jg(e,t){var n=e+"_"+t;return(Ir=document.createElement("div")).style.cssText=Gg.ThumbCssText,n}function Wg(e,t,n,i,a,o){var s=jg(e,t);return Ir.setAttribute("id",n[5]+s),Ir.setAttribute(tc,a),Ir.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Gg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Ir}function Qg(e,t,n,i,a,o,s,d,l,r,c,u,_,f,h,m){var p=jg(e,t);return Ir.setAttribute("id",n[8]+p),Ir.setAttribute(tc,JSON.stringify([c,r,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),Ir.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Gg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+pi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Im(r)+"</div></div></div></div>",Ir}function Zg(e,t,n,i,a){var o=jg(e,t);return Ir.setAttribute("id",i[8]+o),Ir.setAttribute(tc,JSON.stringify(n)),Ir.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+rc+'" onerror="this.onerror=null;this.src=\''+Gg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+mI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",Ir}function Kg(e,t,n,i,a){var o=jg(e,t);return Ir.setAttribute("id",i[8]+o),Ir.setAttribute(tc,JSON.stringify(n)),Ir.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+Gg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",Ir}function $g(){if(Gg.status)Oc(Gg.posX,Gg.posY,Gg.ColoumnsCount,Gg.itemsCount);else{if(yr.Main_Go===$l&&my(),Gg.emptyContent)Rc(Gg.empty_str());else{Gg.status=!0;for(var e=document.getElementById(Gg.table),t=0;t<(Gg.Cells.length<Gg.visiblerows?Gg.Cells.length:Gg.visiblerows);t++)e.appendChild(Gg.Cells[t])}Br&&Gg.status&&qw.restor_playback.defaultValue?yr.Play_WasPlaying?(iu(yr.Main_Go),yr.Main_Go=gr,yr.vodOffset||(yr.vodOffset=1),Ss=yr.vodOffset+1,Nm(qn),1===yr.Play_WasPlaying?Tu():Ou(),$c(!0),window.setTimeout(function(){bh||Dm()},2e3)):1!==gr?(iu(yr.Main_Go),yr.Main_Go=gr,Uu(Gg.posY+"_"+Gg.posX,Gg.ids),$c()):(yr.Never_run&&Fc(),yr.Never_run=!1,ey(),tu()):(ey(),tu()),Br=!1,Gg.FirstLoad=!1,Ic()}}function ey(e){if(Gg.emptyContent){if(!Gg.HasSwitches)return void Gg.key_exit();Gg.posY=-1}if(Gg.posY<0)return sy(),void(Gg.emptyContent||Oc(Gg.posX,Gg.posY+1,Gg.ColoumnsCount,Gg.itemsCount));ny(e),2<Gg.posY&&Gg.data_cursor+Iy>Gg.data.length&&!Gg.dataEnded&&!Gg.loadingData?(Fg(),qg()):Gg.posY+Gg.ItemsReloadLimit>Gg.itemsCount/Gg.ColoumnsCount&&Gg.data_cursor<Gg.data.length&&Du(function(){Gg.loadDataSuccess()}),Ar&&Uu(Gg.posY+"_"+Gg.posX,Gg.ids)}function ty(e){return null!==document.getElementById(e)}function ny(e){if(Gg.currY<Gg.posY)1<Gg.posY&&Gg.Cells.length-1>=Gg.posY+1&&(document.getElementById(Gg.table).appendChild(Gg.Cells[Gg.posY+1]),ty(Gg.ids[12]+(Gg.posY-2))&&document.getElementById(Gg.ids[12]+(Gg.posY-2)).remove());else if(Gg.currY>Gg.posY&&Gg.posY){var t=document.getElementById(Gg.table);t.insertBefore(Gg.Cells[Gg.posY-1],t.childNodes[Gg.HasSwitches?1:0]),ty(Gg.ids[12]+(Gg.posY+2))&&document.getElementById(Gg.ids[12]+(Gg.posY+2)).remove()}Gg.currY=Gg.posY,wc(Gg.ids[0]+Gg.posY+"_"+Gg.posX,ec),Oc(Gg.posX,Gg.posY,Gg.ColoumnsCount,Gg.itemsCount),Gg.addFocus(Gg.posY,Gg.posX,Gg.ids,e)}function iy(e,t,n,i){e<2&&_u(e)||i?e?Wc(e+1,0,n[0])&&Gu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):Gu(n[10],.07*screen.height):Au()}function ay(e,t,n,i){_u(e)||i?Gg.posY<Gg.Cells.length-1&&Gu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Gg.Cells.length-1===e&&Wc(e-1,t,n[0])?Gu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Au()}function oy(e,t){Uu(Gg.posY+"_"+Gg.posX,Gg.ids),Gg.HasAnimateThumb&&yc(Gg.ids[1]+Gg.posY+"_"+Gg.posX),Gg.posY+=e,Gg.posX=t,ey()}function sy(){Gg.posX>Gg.SwitchesIcons.length-1?Gg.posX=0:Gg.posX<0&&(Gg.posX=Gg.SwitchesIcons.length-1),wc(Gg.ids[0]+"y_"+Gg.posX,ec)}function dy(){Gg.posX>Gg.SwitchesIcons.length-1?Gg.posX=0:Gg.posX<0&&(Gg.posX=Gg.SwitchesIcons.length-1),Ac(Gg.ids[0]+"y_"+Gg.posX,ec)}function ly(e){zc()?qc():Jc()?Vc():(e===Gg.screen?yr.Main_Go=Ql:yr.Main_Go=e,Jg())}function ry(e){if(!Gg.HasSwitches||Gg.posY||-1!==e||Gg.emptyContent){if(Gg.HasSwitches&&-1===Gg.posY&&Wc(0,Gg.posX,Gg.ids[0]))Gg.posY=0,ey(),dy();else for(var t=0;t<Gg.ColoumnsCount;t++)if(Wc(Gg.posY+e,Gg.posX-t,Gg.ids[0]))return void oy(e,Gg.posX-t)}else Uu(Gg.posY+"_"+Gg.posX,Gg.ids),Gg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),yc(Gg.ids[1]+Gg.posY+"_"+Gg.posX)),Gg.posY=-1,Gg.posX>Gg.SwitchesIcons.length-1&&(Gg.posX=1),sy()}function cy(e,t){Gg.HasSwitches&&-1===Gg.posY?(Gg.posY=-1,dy(),Gg.posX++,sy()):Wc(Gg.posY,Gg.posX+e,Gg.ids[0])?oy(0,Gg.posX+e):Wc(Gg.posY+e,t,Gg.ids[0])&&oy(e,t)}function uy(e){if(!Gg.FirstLoad&&!Eu())switch(Cu(),e.keyCode){case zi:Gg.loadingData||Gg.key_exit();break;case Vi:if(Gg.loadingData)break;Gg.posX?cy(-1,Gg.ColoumnsCount-1):(yr.Main_Go===$l&&(yr.Main_OldgameSelected=yr.Main_gameSelected),Gg.key_exit(!0),document.body.removeEventListener("keydown",uy),KA(uy,!0));break;case Hi:Gg.dataEnded||Gg.posX<Gg.ColoumnsCount-1||Gg.Cells.length-1>=Gg.posY+2?cy(1,0):ey(!0);break;case Ji:Gg.HasSwitches?-1===Gg.posY?Gg.key_exit():ry(-1):Gg.posY?ry(-1):Gg.key_exit();break;case Fi:Gg.dataEnded||Gg.Cells.length-1>=Gg.posY+2?ry(1):ey(!0);break;case Ni:case Ri:case Di:case qi:Gg.key_play()}}function _y(){Gg.posX?1===Gg.posX?(yr.Main_Go=mr,yr.Main_OldgameSelected=yr.Main_gameSelected,fy(),eu()):hy():(yr.Main_Go=hr,yr.Main_OldgameSelected=yr.Main_gameSelected,fy(),eu())}function fy(){Gg.status&&-1===Gg.posY&&(dy(),Gg.posY=0,Gg.posX=0,wc(Gg.ids[0]+"0_"+Gg.posX,ec)),document.body.removeEventListener("keydown",uy),gc(Gg.ids[10])}function hy(){mo()&&Ka[yr.Users_Position].access_token?Gy?Fa():Va():(Rc(Bt),window.setTimeout(function(){Gg.emptyContent&&yr.Main_Go===$l?Rc(T+Z):Nc()},2e3))}function my(){mo()?Xa():(Gy=!1,py())}function py(){kc(Cy.ids[3]+"y_2",Gy?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Pi+Pi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Pi+Pi+(mo()?It:Lt))}Gg.FirstLoad=!1;var vy,gy,yy,by,wy,Ay,ky,Cy,Ey,My,Iy=100,Sy="",xy="",Py="",Ty="",Ly="",By="",Oy=1,Gy=!1,Uy={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Yg,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){zc()?qc():Jc()?Vc():(Wc(this.posY,this.posX,this.ids[0])?Uu(this.posY+"_"+this.posX,this.ids):this.posY<0&&(dy(),this.posY=0),e||Wu(uy)),QA()}},Ry={ThumbSize:32.65,visiblerows:3,ItemsLimit:Ur,ItemsReloadLimit:Nr,ColoumnsCount:Rr,addFocus:function(e,t,n,i){this.AnimateThumb(this),iy(e,t,n,i)},img_404:Gi,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+p,Pi+Pi+c],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Hg(),t_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Hg()):Bu(this.posY+"_"+this.posX,this.ids,uy)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),Oy){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);tI.onload=function(){this.onload=null,gc(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},tI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function Ny(){(Ey=Dg(Ey=Dg({ids:Ng("Vod"),table:"stream_table_vod",screen:_r,highlightSTR:"Vod_highlight",highlight:a_("Vod_highlight",!1),periodPos:n_("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Iy,set_url:function(){this.offset&&this.offset+Iy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==xr?"&language="+xr:"")},label_init:function(){yr.Main_CenterLablesVectorPos=4,wc("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){Cc("top_bar_vod",Kt),Ac("top_bar_vod","icon_center_focus")},SetPeriod:function(){kc("top_bar_vod",Kt+su((this.highlight?G:O)+Tr[this.periodPos-1])),t_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(Kg(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",Kr),e.channel.display_name,N+du(e.created_at),mI.parse(e.title)+pi+Qt+v+e.game,Xc(e.views)+V,Yc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Im(e.length),e.animated_preview_url])),this.coloumn_id++)}},Uy),Ry)).set_ThumbSize()}function Dy(){(My=Dg(My=Dg({ids:Ng("AGameVod"),table:"stream_table_a_game_vod",screen:hr,highlightSTR:"AGameVod_highlight",highlight:a_("AGameVod_highlight",!1),periodPos:n_("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+Iy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(yr.Main_gameSelected)+"&limit="+Iy+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==xr?"&language="+xr:"")},OldgameSelected:"",label_init:function(){null===yr.Main_OldgameSelected&&(yr.Main_OldgameSelected=yr.Main_gameSelected),this.OldgameSelected!==yr.Main_gameSelected&&(this.status=!1),yr.Main_CenterLablesVectorPos=3,wc("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=yr.Main_gameSelected,Cc("top_bar_game",b),Ac("top_bar_game","icon_center_focus")},SetPeriod:function(){kc("top_bar_game",b+su((this.highlight?G:O)+Tr[this.periodPos-1])),t_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(Kg(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",Kr),e.channel.display_name,N+du(e.created_at),mI.parse(e.title)+pi+Qt+v+e.game,Xc(e.views)+V,Yc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Im(e.length),e.animated_preview_url])),this.coloumn_id++)}},Uy),Ry)).set_ThumbSize()}var Vy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Ur,ItemsReloadLimit:Nr,ColoumnsCount:Rr,addFocus:iy,img_404:Gi,empty_str:function(){return T+W}};function Jy(){(Ay=Dg(Ay=Dg({ids:Ng("Live"),table:"stream_table_live",screen:Ql,base_url:"https://api.twitch.tv/kraken/streams?limit="+Iy,set_url:function(){this.offset&&this.offset+Iy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==xr?"&broadcaster_language="+xr:"")},label_init:function(){yr.Main_CenterLablesVectorPos=0,wc("top_bar_live","icon_center_focus")},label_exit:function(){Ac("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Zg(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+xm(e.created_at)+" "+m+Xc(e.viewers)+J,Yc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Pu(this.posY+"_"+this.posX,this.ids,uy)}},Uy),Vy)).set_ThumbSize()}function Hy(){(Cy=Dg(Cy=Dg({ids:Ng("AGame"),table:"stream_table_a_game",screen:$l,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Iy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(yr.Main_gameSelected)+"&limit="+Iy+"&offset="+this.offset+(""!==xr?"&broadcaster_language="+xr:"")},label_init:function(){null===yr.Main_OldgameSelected&&(yr.Main_OldgameSelected=yr.Main_gameSelected),yr.Main_CenterLablesVectorPos=3,wc("top_bar_game","icon_center_focus"),vc("label_side_panel","icon-arrow-circle-left",I),Ac("top_bar_user","icon_center_focus"),vc("label_refresh","icon-refresh",t+Yt),Cc("top_bar_user",_),yr.Main_OldgameSelected!==yr.Main_gameSelected&&(this.status=!1),yr.Search_isSearching&&(ou(),kc("top_bar_user",n+su(h+" '"+yr.Search_data+"'"))),kc("top_bar_game",b+su(f+": "+yr.Main_gameSelected))},label_exit:function(){yr.Main_OldgameSelected=yr.Main_gameSelected,vc("label_side_panel","icon-ellipsis",Rn),kc("top_bar_game",h),Ac("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+Kt,Pi+Pi+U,Pi+Pi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Zg(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+xm(e.created_at)+" "+m+Xc(e.viewers)+J,Yc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Pu(this.posY+"_"+this.posX,this.ids,uy):_y()}},Uy),Vy)).set_ThumbSize()}function Fy(){(ky=Dg(ky=Dg({ids:Ng("Featured"),table:"stream_table_featured",screen:pr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Iy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(mo()&&Ka[yr.Users_Position].access_token?"&oauth_token="+Ka[yr.Users_Position].access_token:"")},label_init:function(){yr.Main_CenterLablesVectorPos=2,wc("top_bar_featured","icon_center_focus")},label_exit:function(){Ac("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Zg(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+xm(e.created_at)+" "+m+Xc(e.viewers)+J,Yc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Pu(this.posY+"_"+this.posX,this.ids,uy)}},Uy),Vy)).set_ThumbSize()}var qy={ThumbSize:32.65,ItemsLimit:Ur,TopRowCreated:!1,ItemsReloadLimit:Nr,ColoumnsCount:Rr,addFocus:iy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Gi,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+c,Pi+Pi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(F_=!0,dy(),this.posX=0,this.posY=0,Lu(this.posY+"_"+this.posX,this.ids,uy)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Hg())):Lu(this.posY+"_"+this.posX,this.ids,uy)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Qg(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,du(e.created_at)],[mI.parse(e.title),v,e.game],Xc(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function zy(){(vy=Dg(vy=Dg({ids:Ng("Clip"),table:"stream_table_clip",screen:fr,periodPos:n_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Iy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==xr?"&language="+xr:"")},SetPeriod:function(){kc("top_bar_clip",U+su(Tr[this.periodPos-1])),t_("Clip_periodPos",this.periodPos)},label_init:function(){yr.Main_CenterLablesVectorPos=5,this.SetPeriod(),wc("top_bar_clip","icon_center_focus"),vc("label_refresh","icon-refresh",t+Yt)},label_exit:function(){au(),Ac("top_bar_clip","icon_center_focus"),vc("label_refresh","icon-refresh",t+Yt)}},Uy),qy)).set_ThumbSize()}function Xy(){(gy=Dg(gy=Dg({ids:Ng("ChannelClip"),table:"stream_table_channel_clip",screen:lr,periodPos:n_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(yr.Main_selectedChannel)+"&limit="+Iy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){kc("top_bar_game",U+Tr[this.periodPos-1]),t_("ChannelClip_periodPos",this.periodPos)},label_init:function(){yr.Main_CenterLablesVectorPos=1,!yr.Search_isSearching&&yr.Main_selectedChannel_id&&hs(),yr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),ou(),this.SetPeriod(),Cc("top_bar_user",yr.Main_selectedChannelDisplayname),vc("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=yr.Main_selectedChannel},label_exit:au},Uy),qy)).set_ThumbSize()}function Yy(){(yy=Dg(yy=Dg({ids:Ng("AGameClip"),table:"stream_table_a_game_clip",screen:mr,periodPos:n_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(yr.Main_gameSelected)+"&limit="+Iy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==xr?"&language="+xr:"")},SetPeriod:function(){kc("top_bar_game",b+su(U+Tr[this.periodPos-1]+": "+yr.Main_gameSelected)),t_("AGameClip_periodPos",this.periodPos)},label_init:function(){yr.Main_CenterLablesVectorPos=3,this.SetPeriod(),wc("top_bar_game","icon_center_focus"),vc("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==yr.Main_gameSelected&&(this.status=!1),this.gameSelected=yr.Main_gameSelected},label_exit:function(){Ac("top_bar_game","icon_center_focus"),kc("top_bar_game",h),vc("label_side_panel","icon-ellipsis",Rn)}},Uy),qy)).set_ThumbSize()}var jy={ThumbSize:19.35,visiblerows:3,ItemsLimit:Dr,ItemsReloadLimit:Jr,ColoumnsCount:Vr,addFocus:ay,img_404:Bi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===nr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===nr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){yr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(tc),document.body.removeEventListener("keydown",uy),yr.Main_BeforeAgame=this.screen,yr.Main_Go=$l,yr.Main_BeforeAgameisSet=!0,Lr=0,document.body.removeEventListener("keydown",uy),gc(this.ids[10]),eu(),Uu(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===Kl,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Wg(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",$r),n.name,t?Xc(e.channels)+" "+E+m+Xc(e.viewers)+J:"")),this.coloumn_id++)}};function Wy(){(by=Dg(by=Dg({ids:Ng("Game"),table:"stream_table_games",screen:Kl,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Iy,set_url:function(){this.offset&&this.offset+Iy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){yr.Main_CenterLablesVectorPos=3,wc("top_bar_game","icon_center_focus")},label_exit:function(){Ac("top_bar_game","icon_center_focus")}},Uy),jy)).set_ThumbSize()}function Qy(){(wy=Dg(wy=Dg({ids:Ng("UserGames"),table:"stream_table_user_games",screen:nr,isLive:a_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Iy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ka[yr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Iy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,kc("top_bar_user",_+su(Ka[yr.Users_Position].name+" "+(this.isLive?Z:zt))),Hg(),t_("user_Games_live",this.isLive?"true":"false"),WE&&iM()},label_init:function(){yr.Main_CenterLablesVectorPos=1,vc("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),vc("label_side_panel","icon-arrow-circle-left",I),wc("top_bar_user","icon_center_focus"),this.OldUserName!==Ka[yr.Users_Position].name&&(this.status=!1),this.OldUserName=Ka[yr.Users_Position].name,kc("top_bar_user",_+su(Ka[yr.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){yr.Users_Position=0,Ac("top_bar_user","icon_center_focus"),vc("label_refresh","icon-refresh",t+Yt),Cc("top_bar_user",_),vc("label_side_panel","icon-ellipsis",Rn)}},Uy),jy)).set_ThumbSize()}var Zy=0,Ky=0,$y=!1,eb=0,tb={},nb=[],ib=!1,ab=0,ob=5,sb=3500,db=0,lb=0,rb=!1,cb=!1,ub="",_b=!1,fb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function hb(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=ur,yr.isLastSChannels=!0,yr.Search_isSearching=!0,ub!==yr.Search_data&&(cb=!1),ou(),kc("top_bar_user",n+su(E+" '"+yr.Search_data+"'")),document.body.addEventListener("keydown",Sb,!1),cb?(uu(Zy),yc(fb[6]),Mb(),tu()):pb()}function mb(){au(),document.body.removeEventListener("keydown",Sb),gc(fb[6])}function pb(){cu("stream_table_search_channel"),gc(fb[6]),Mc(),Nc(),ub=yr.Search_data,cb=!1,tb={},Yu=!(eb=lb=db=0),Zy=Ky=0,$y=_b=!(nb=[]),Bc(),vb(),gb()}function vb(){ib=!0,ab=0,sb=3500}function gb(){var e=eb+db;e&&lb-1<e&&(e=lb-Hr,$y=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(yr.Search_data)+"&limit="+Hr+"&offset="+e;lc&&!eb?r_(t,sb,2,null,bb,yb):c_(t,sb,2,null,bb,yb,!1)}function yb(){++ab<ob?(sb+=500,gb()):(ib=!1,eb?($y=!0,Ab()):(Yu=!1,Ic(),Rc(P)))}function bb(e){var t=JSON.parse(e),n=t.channels.length;lb=parseInt(t._total),n<Hr&&($y=!0);var i=eb;rb=!(eb+=n);var a=n/Fr;0<n%Fr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/Fr+_,d=document.createElement("tr"),o=0;o<Fr&&c<n;o++,c++)r=(l=t.channels[c])._id,tb[r]?o--:(tb[r]=1,d.appendChild(wb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<Fr;o++)$y&&!_b&&(_b=!0,eb=s*Fr+o),d.appendChild(fu(fb[5]+s+"_"+o)),nb.push(fb[5]+s+"_"+o);u.appendChild(d)}Ab()}function wb(e,t,n){return hu(t,fb,n)}function Ab(){if(cb){if(0<nb.length&&!$y)return vb(),void kb();Mb(!0),nb=[]}else rb?Rc(d):(cb=!0,Mb(),tu()),yc(fb[6]),Yu=!1,Ic();ib=!1}function kb(){Uc(nb.length);var e=eb+db;e&&lb-1<e&&(e=lb-zr,$y=!0),d_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(yr.Search_data)+"&limit="+zr+"&offset="+e,sb,2,null,Eb,Cb)}function Cb(){++ab<ob?(sb+=500,kb()):($y=!0,eb-=nb.length,nb=[],Ab())}function Eb(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(lb=parseInt(i._total),a<zr&&($y=!0);o<nb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,tb[n]?o--:(tb[n]=1,mu(nb[o],[t.name,n,t.logo,t.display_name],fb),d.push(o));for(o=d.length-1;-1<o;o--)nb.splice(d[o],1);db+=s,$y&&(eb-=nb.length,nb=[]),Ab()}function Mb(e){Mu(Zy,Ky,fb,Fr,eb,e),eb/Fr<Zy+qr&&!$y&&!ib&&(vb(),gb()),Ar&&Ib()}function Ib(){eb&&Uu(Zy+"_"+Ky,fb)}function Sb(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(Ib(),Wu(Sb)),QA();break;case Vi:if(Ky){if(Wc(Zy,Ky-1,fb[0]))Ib(),Ky--,Mb();else for(t=Fr-1;-1<t;t--)if(Wc(Zy-1,t,fb[0])){Ib(),Zy--,Ky=t,Mb();break}}else Ib(),KA(Sb,!0);break;case Hi:Wc(Zy,Ky+1,fb[0])?(Ib(),Ky++,Mb()):Wc(Zy+1,0,fb[0])&&(Ib(),Zy++,Ky=0,Mb());break;case Ji:if(Zy){for(t=0;t<Fr;t++)if(Wc(Zy-1,Ky-t,fb[0])){Ib(),Zy--,Ky-=t,Mb();break}}else Ib(),Wu(Sb);break;case Fi:for(t=0;t<Fr;t++)if(Wc(Zy+1,Ky-t,fb[0])){Ib(),Zy++,Ky-=t,Mb();break}break;case Ni:case Ri:case Di:case qi:yr.Main_selectedChannel=document.getElementById(fb[4]+Zy+"_"+Ky).getAttribute(tc),yr.Main_selectedChannel_id=document.getElementById(fb[4]+Zy+"_"+Ky).getAttribute("data-id"),yr.Main_selectedChannelDisplayname=document.getElementById(fb[3]+Zy+"_"+Ky).textContent,document.body.removeEventListener("keydown",Sb),yr.Main_BeforeChannel=ur,yr.Main_Go=sr,yr.Main_BeforeChannelisSet=!0,Lo=ea=!1,gc(fb[6]),$c()}}var xb=!1,Pb=0,Tb=0,Lb=0,Bb=0,Ob=5,Gb=3500,Ub=0,Rb=0,Nb=!1,Db=!1,Vb="",Jb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Hb(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=ar,yr.Search_isSearching=!0,ou(),Vb!==yr.Search_data&&(xb=!1),kc("top_bar_user",n+su(h+" '"+yr.Search_data+"'")),document.body.addEventListener("keydown",$b,!1),xb?(uu(Pb),yc(Jb[7]),Zb(),tu()):qb()}function Fb(){yr.Search_isSearching||au(),document.body.removeEventListener("keydown",$b),yr.Games_return=!1,gc(Jb[7])}function qb(){cu("stream_table_search_game"),gc(Jb[7]),Mc(),Nc(),Vb=yr.Search_data,Db=xb=!1,Pb=Tb=Lb=Rb=Ub=0,Bc(),zb(),Xb()}function zb(){Yu=!0,Bb=0,Gb=3500}function Xb(){d_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(yr.Search_data),Gb,2,null,jb,Yb)}function Yb(){++Bb<Ob?(Gb+=500,Xb()):(Yu=!1,Lb?Qb():(Ic(),Rc(P)))}function jb(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Lb;Nb=!(Lb+=n);var a=n/Vr;0<n%Vr&&a++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/Vr+u,d=document.createElement("tr"),o=0;o<Vr&&r<n;o++,r++)l=t.games[r],d.appendChild(Wb(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",$r),""]));for(;o<Vr;o++)Db||(Db=!0,Lb=s*Vr+o),d.appendChild(fu(Jb[6]+s+"_"+o));c.appendChild(d)}Qb()}function Wb(e,t,n){return bu(t,Jb,n)}function Qb(){xb||(Nb?Rc(d):(xb=!0,Zb(),tu()),Ic()),yc(Jb[7]),Yu=!1,Oc(Tb,Pb,Vr,Lb)}function Zb(){Su(Pb,Tb,Jb,Vr,Lb),Ar&&Kb()}function Kb(){Lb&&Uu(Pb+"_"+Tb,Jb)}function $b(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(Kb(),Wu($b)),QA();break;case Vi:if(Tb){if(Wc(Pb,Tb-1,Jb[0]))Kb(),Tb--,Zb();else for(t=Vr-1;-1<t;t--)if(Wc(Pb-1,t,Jb[0])){Kb(),Pb--,Tb=t,Zb();break}}else Kb(),KA($b,!0);break;case Hi:Wc(Pb,Tb+1,Jb[0])?(Kb(),Tb++,Zb()):Wc(Pb+1,0,Jb[0])&&(Kb(),Pb++,Tb=0,Zb());break;case Ji:if(Pb){for(t=0;t<Vr;t++)if(Wc(Pb-1,Tb-t,Jb[0])){Kb(),Pb--,Tb-=t,Zb();break}}else Kb(),Wu($b);break;case Fi:for(t=0;t<Vr;t++)if(Wc(Pb+1,Tb-t,Jb[0])){Kb(),Pb++,Tb-=t,Zb();break}break;case Ni:case Ri:case Di:case qi:yr.gameSelectedOld=yr.Main_gameSelected,Fb(),yr.Main_gameSelected=document.getElementById(Jb[5]+Pb+"_"+Tb).getAttribute(tc),document.body.removeEventListener("keydown",$b),yr.Main_Go=$l,yr.Games_return=!0,$c()}}var ew=0,tw=0,nw=!1;function iw(){Nc(),gc("label_refresh"),vc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Jl.placeholder=w,wc("top_bar_user","icon_center_focus"),yc("search_scroll"),tw=ew=0,sw(),lw()}function aw(){rw(!1),document.body.removeEventListener("keydown",dw),sw(),yr.Main_Go=yr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Cc("top_bar_user",_),Ac("top_bar_user","icon_center_focus"),vc("label_side_panel","icon-ellipsis",Rn),yc("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Jl.value="",gc("search_scroll")}function ow(){aw(),Du(function(){tw?1===tw?Hb():2===tw&&xw():hb()})}function sw(){Ac("chanel_button","button_search_focused"),Ac("game_button","button_search_focused"),Ac("live_button","button_search_focused"),ew&&(tw?1===tw?wc("game_button","button_search_focused"):2===tw&&wc("live_button","button_search_focused"):wc("chanel_button","button_search_focused"))}function dw(e){if(!nw)switch(e.keyCode){case zi:zc()?qc():Jc()?Vc():(aw(),$c());break;case Vi:1===ew&&(--tw<0&&(tw=2),sw());break;case Hi:1===ew&&(2<++tw&&(tw=0),sw());break;case Ji:1===ew&&(ew=0,sw(),lw());break;case Fi:ew?1===ew&&(ew=0,sw(),lw()):(rw(!1),ew=1,sw());break;case Ni:case Ri:case Di:case qi:ew?""!==Jl.value&&null!==Jl.value?(yr.Search_data=Jl.value,Jl.value="",ow()):(Rc(s),window.setTimeout(function(){Nc()},1e3)):lw()}}function lw(){document.body.removeEventListener("keydown",dw),document.body.addEventListener("keydown",uw,!1),Jl.placeholder=w,Jl.focus(),nw=!0}function rw(e){Jl.blur(),cw(),document.body.removeEventListener("keydown",uw),Jl.placeholder=C+w,e&&document.body.addEventListener("keydown",dw,!1),nw=!1}function cw(){if(null!==Jl){var e=Jl.cloneNode(!0);Jl.parentNode.replaceChild(e,Jl),Jl=document.getElementById("search_input")}}function uw(e){switch(e.keyCode){case zi:Jc()?Vc():zc()?qc():(aw(),$c());break;case Wi:Jl.value="";break;case Yi:case Fi:rw(!0),ew=1,sw();break;case Xi:Jl.value=Jl.value.slice(0,-1);break;case ji:Jl.value+=" "}}var _w=0,fw=0,hw=!1,mw=0,pw={},vw=[],gw=!1,yw=0,bw=5,ww=3500,Aw=0,kw=0,Cw=!1,Ew=!1,Mw=!1,Iw="",Sw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function xw(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=or,yr.Search_isSearching=!0,ou(),Iw!==yr.Search_data&&(Ew=!1),kc("top_bar_user",n+su(f+" '"+yr.Search_data+"'")),document.body.addEventListener("keydown",Hw,!1),Ew?(uu(_w),yc(Sw[10]),Vw(),tu()):Tw()}function Pw(){au(),document.body.removeEventListener("keydown",Hw),gc(Sw[10])}function Tw(){cu("stream_table_search_live"),gc(Sw[10]),Mc(),Nc(),Iw=yr.Search_data,Ew=!1,Yu=!(Mw=!(vw=[])),_w=fw=mw=kw=Aw=0,hw=!(pw={}),Bc(),Lw(),Bw()}function Lw(){gw=!0,yw=0,ww=3500}function Bw(){var e=mw+Aw;e&&kw-1<e&&(e=kw-Ur,hw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(yr.Search_data)+"&limit="+Ur+"&offset="+e;lc&&!mw?r_(t,ww,2,null,Gw,Ow):c_(t,ww,2,null,Gw,Ow,!1)}function Ow(){++yw<bw?(ww+=500,Bw()):(gw=!1,mw?(hw=!0,Uw()):(Yu=!1,Ic(),Rc(P)))}function Gw(e){var t=JSON.parse(e),n=t.streams.length;kw=parseInt(t._total),n<Ur&&(hw=!0);var i=mw;Cw=!(mw+=n);var a=n/Rr;0<n%Rr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Rr+_,d=document.createElement("tr"),o=0;o<Rr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,pw[r]?o--:(pw[r]=1,d.appendChild(vu(s,s+"_"+o,[l.channel.name,r],Sw,[l.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+xm(l.created_at)+" "+m+Xc(l.viewers)+J,Yc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Rr;o++)hw&&!Mw&&(Mw=!0,mw=s*Rr+o),d.appendChild(fu(Sw[9]+s+"_"+o)),vw.push(Sw[9]+s+"_"+o);u.appendChild(d)}Uw()}function Uw(){if(Ew){if(0<vw.length&&!hw)return Lw(),void Rw();Vw(!0),vw=[]}else Cw?Rc(d):(Ew=!0,Vw(),tu()),yc(Sw[10]),Yu=!1,Ic();gw=!1}function Rw(){Uc(vw.length);var e=mw+Aw;e&&kw-1<e&&(e=kw-zr,hw=!0),d_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(yr.Search_data)+"&limit="+zr+"&offset="+e,ww,2,null,Dw,Nw)}function Nw(){++yw<bw?(ww+=500,Rw()):(hw=!0,mw-=vw.length,vw=[],Uw())}function Dw(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(kw=parseInt(i._total),a<zr&&(hw=!0);o<vw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,pw[n]?o--:(pw[n]=1,gu(vw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+xm(t.created_at)+" "+m+Xc(t.viewers)+J,Yc(t.video_height,t.average_fps,t.channel.broadcaster_language)],Sw),d.push(o));for(o=d.length-1;-1<o;o--)vw.splice(d[o],1);Aw+=s,hw&&(mw-=vw.length,vw=[]),Uw()}function Vw(e){Iu(_w,fw,Sw,Rr,mw,e),mw/Rr<_w+Nr&&!hw&&!gw&&(Lw(),Bw()),Ar&&Jw()}function Jw(){mw&&Uu(_w+"_"+fw,Sw)}function Hw(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(Jw(),Wu(Hw)),QA();break;case Vi:if(fw){if(Wc(_w,fw-1,Sw[0]))Jw(),fw--,Vw();else for(t=Rr-1;-1<t;t--)if(Wc(_w-1,t,Sw[0])){Jw(),_w--,fw=t,Vw();break}}else Jw(),KA(Hw,!0);break;case Hi:Wc(_w,fw+1,Sw[0])?(Jw(),fw++,Vw()):Wc(_w+1,0,Sw[0])&&(Jw(),_w++,fw=0,Vw());break;case Ji:if(_w){for(t=0;t<Rr;t++)if(Wc(_w-1,fw-t,Sw[0])){Jw(),_w--,fw-=t,Vw();break}}else Jw(),Wu(Hw);break;case Fi:for(t=0;t<Rr;t++)if(Wc(_w+1,fw-t,Sw[0])){Jw(),_w++,fw-=t,Vw();break}break;case Ni:case Ri:case Di:case qi:Pu(_w+"_"+fw,Sw,Hw)}}var Fw=0,qw={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:zw(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function zw(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Im(t)),t-=900;for(e.push(Im(0)),t=900,n=0;n<48;n++)e.push(Im(t)),t+=900;return e}var Xw=[],Yw=0;function jw(){Kc(),gc("label_side_panel"),vc("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",hA,!1),Cc("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",wc("top_bar_user","icon_center_focus"),yc("settings_scroll"),sA(Fw=0),eA("content_lang",Yn,pA)}function Ww(){document.body.removeEventListener("keydown",hA),yc("label_side_panel"),dA(),Cc("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ac("top_bar_user","icon_center_focus"),vc("label_refresh","icon-refresh",t+Yt),gc("settings_scroll")}function Qw(){var e,t="";t+=Zw("general",gn),e="content_lang",Xw.push(e),qw[e].values=[jn],t+=$w(e,Yn,""),e="clock_offset",Xw.push(e),t+=Kw(e,zn),e="restor_playback",Xw.push(e),qw[e].values=[T,Ht],t+=$w(e,Tn,Ln),e="videos_animation",Xw.push(e),qw[e].values=[T,Ht],t+=Kw(e,Un),e="clip_auto_play_next",Xw.push(e),qw[e].values=[T,Ht],t+=Kw(e,ri),t+=Zw("play",_n),e="chat_font_size",Xw.push(e),t+=$w(e,Bn,On),e="chat_brightness",Xw.push(e),t+=Kw(e,ii),e="force_disable_chat",Xw.push(e),qw[e].values=[Ht,T],t+=$w(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",Xw.push(e),t+=Kw(e,mn),e="buffer_vod",Xw.push(e),t+=Kw(e,pn),e="buffer_clip",Xw.push(e),kc("settings_main",t+=Kw(e,vn)),Yw=Xw.length,CA()}function Zw(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Kw(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+iA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function $w(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+iA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function eA(e,t,n){kc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function tA(){var e="";for(e in Cc("setting_title_general",gn),Cc((e="clock_offset")+"_name",zn),Cc((e="content_lang")+"_name",Yn),Cc(e,iA(e)),qw[e].values=[jn],Cc("setting_title_play",_n),Cc("setting_title_buffers",fn),Cc("setting_title_buffers_summary",hn),Cc((e="buffer_live")+"_name",mn),Cc((e="buffer_vod")+"_name",pn),Cc((e="buffer_clip")+"_name",vn),eA(e="restor_playback",Tn,Ln),qw[e].values=[Ht,T],eA(e="chat_font_size",Bn,On),eA(e="force_disable_chat",ti,ni),qw[e].values=[Ht,T],Cc((e="videos_animation")+"_name",Un),qw[e].values=[Ht,T],Cc((e="clip_auto_play_next")+"_name",ri),qw[e].values=[T,Ht],Cc((e="chat_brightness")+"_name",ii),qw)qw.hasOwnProperty(e)&&Cc(e,iA(e));kA()}function nA(){for(var e in qw)qw[e].defaultValue=n_(e,qw[e].defaultValue),qw[e].defaultValue-=1,qw[e].defaultValue>oA(e)&&(qw[e].defaultValue=0);uA(0),_A(),Lf=(.05*aA("chat_brightness")).toFixed(2),Oy=aA("videos_animation"),q_=aA("clip_auto_play_next"),yr.Play_ChatForceDisable=aA("force_disable_chat")}function iA(e){return qw[e].values[aA(e)]}function aA(e){return qw[e].defaultValue}function oA(e){return qw[e].values.length-1}function sA(e){var t=Xw[Fw];wc(t,"settings_value_focus"),wc(t+"_div","settings_div_focus"),rA(e),fA()}function dA(){var e=Xw[Fw];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ac(e,"settings_value_focus"),Ac(e+"_div","settings_div_focus")}function lA(e){var t=Xw[e];t_(t,aA(t)+1),Cc(t,iA(t)),rA(e),cA(e)}function rA(e){var t=Xw[e];if(oA(t)){var n=aA(t),i=oA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function cA(e){"videos_animation"===(e=Xw[e])?Oy=aA("videos_animation"):"clip_auto_play_next"===e?q_=aA("clip_auto_play_next"):"buffer_live"===e?uA(1):"buffer_vod"===e?uA(2):"buffer_clip"===e?uA(3):"chat_brightness"===e?(Lf=(.05*aA("chat_brightness")).toFixed(2),lp(!1)):"force_disable_chat"===e?yr.Play_ChatForceDisable=aA("force_disable_chat"):"chat_font_size"===e?Wh():"clock_offset"===e&&(_A(),Hu())}function uA(e){try{e?1===e?(Jf=1e3*iA("buffer_live"),lc&&Android.SetBuffer(1,Jf)):2===e?(dv=1e3*iA("buffer_vod"),lc&&Android.SetBuffer(2,dv)):3===e&&(U_=1e3*iA("buffer_clip"),lc&&Android.SetBuffer(3,U_)):(Jf=1e3*iA("buffer_live"),dv=1e3*iA("buffer_vod"),U_=1e3*iA("buffer_clip"),lc&&(Android.SetBuffer(1,Jf),Android.SetBuffer(2,dv),Android.SetBuffer(3,U_)))}catch(e){}}function _A(){var e=aA("clock_offset");dc=e<48?-9e5*(48-e):9e5*(e-48)}function fA(){var e=screen.height;4<Fw?(e*=.09,e+=-1*document.getElementById(Xw[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function hA(e){var t;switch(e.keyCode){case zi:Jc()?Vc():zc()?qc():(Ww(),$c());break;case Vi:0<aA(t=Xw[Fw])&&(qw[t].defaultValue-=1,lA(Fw));break;case Hi:aA(t=Xw[Fw])<oA(t)&&(qw[t].defaultValue+=1,lA(Fw));break;case Ji:0<Fw&&(dA(),sA(--Fw));break;case Fi:Fw<Yw-1&&(dA(),sA(++Fw));break;case qi:Fw||bA()}}var mA=0,pA="",vA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},gA=[],yA=0;function bA(){Kc(),document.body.removeEventListener("keydown",hA),gc("settings_main"),yc("settings_lang"),GA(),Cc("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",UA,!1),PA(mA=0),AA()}function wA(){document.body.removeEventListener("keydown",UA),document.body.addEventListener("keydown",hA,!1),fA(),yc("settings_main"),gc("settings_lang"),Cc("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",TA(),kA(),AA()}function AA(){""===xr&&(pA=Wn,vA.All.defaultValue=1,BA(0),wc(gA[0],"strokedextraminired"),GA()),eA("content_lang",Yn,pA)}function kA(){if(xr="",!SA("All")){for(var e in vA)SA(e)&&(xr+=","+vA[e].set_values);xr=xr.slice(1)}pA=""===xr?Wn:xr.toUpperCase()}function CA(){var e="";for(var t in vA)gA.push(t),vA[t].values=[T,Ht],e+=EA(t,t);kc("settings_lang",e),yA=gA.length}function EA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(SA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+IA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function MA(){for(var e in vA)vA[e].defaultValue=n_(e,vA[e].defaultValue),vA[e].defaultValue-=1;kA()}function IA(e){return vA[e].values[SA(e)]}function SA(e){return vA[e].defaultValue}function xA(e){return vA[e].values.length-1}function PA(e){var t=gA[mA];wc(t,"settings_value_focus"),wc(t+"_div","settings_div_focus"),OA(e),LA(t)}function TA(){var e=gA[mA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ac(e,"settings_value_focus"),Ac(e+"_div","settings_div_focus")}function LA(){var e=screen.height;7<mA?(e*=.093,e+=-1*document.getElementById(gA[mA-7]).offsetTop):e*=.077,mA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function BA(e){var t=gA[e];t_(t,SA(t)+1),Cc(t,IA(t)),OA(e)}function OA(e){var t=gA[e],n=SA(t),i=xA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function GA(){for(var e in vA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=SA("All")?"none":"inline-block")}function UA(e){var t;switch(e.keyCode){case zi:wA();break;case Vi:0<SA(t=gA[mA])&&(vA[t].defaultValue-=1,BA(mA),Ac(gA[mA],"strokedextraminired"),-1!==t.indexOf("All")&&GA());break;case Hi:SA(t=gA[mA])<xA(t)&&(vA[t].defaultValue+=1,BA(mA),wc(gA[mA],"strokedextraminired"),-1!==t.indexOf("All")&&GA());break;case Ji:0<mA&&(TA(),PA(--mA));break;case Fi:!SA("All")&&mA<yA-1&&(TA(),PA(++mA))}}var RA,NA,DA=!1,VA=0,JA=0,HA=0;function FA(){wc("side_panel_"+VA,"side_panel_text_focus")}function qA(){Ac("side_panel_"+VA,"side_panel_text_focus")}function zA(){wc(TC[2]+JA,"side_panel_feed_text_focus"),tk(),-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")&&XA()}function XA(){var e=JSON.parse(document.getElementById(TC[8]+JA).getAttribute(tc));NA.onerror=function(){this.onerror=null,this.src=Gi},NA.src=e[2]+rc,kc("feed_thum_name",e[3]),kc("feed_thum_quality",e[7]),kc("feed_thum_title",mI.parse(e[4])),kc("feed_thum_game",e[5]),kc("feed_thum_views",e[6]),yc("side_panel_feed_thumb")}function YA(){for(var e,t=0;t<wC;t++)null!==(e=document.getElementById(TC[8]+t))&&((new Image).src=JSON.parse(e.getAttribute(tc))[2]+rc)}function jA(){Ac(TC[2]+JA,"side_panel_feed_text_focus")}function WA(){VA?1===VA?Hc():2===VA?(document.body.addEventListener("keydown",RA,!1),Dc()):3===VA?(document.body.addEventListener("keydown",RA,!1),Fc()):4===VA?Pc(RA):5===VA?ZA(Ql):6===VA?ZA(wo()?rr:Zl):7===VA?ZA(pr):8===VA?ZA(Kl):9===VA?ZA(_r):10===VA&&ZA(fr):yr.Main_Go!==ir?(yr.Search_isSearching||yr.Main_Go!==sr&&yr.Main_Go!==lr&&yr.Main_Go!==dr||fs(),yr.Search_isSearching||(yr.Main_BeforeSearch=yr.Main_Go),iu(yr.Main_Go),yr.Main_Go=ir,$c()):document.body.addEventListener("keydown",RA,!1),ek()}function QA(){DA&&(DA=!1,eu())}function ZA(e){e===yr.Main_Go?document.body.addEventListener("keydown",RA,!1):(yr.Main_Before=yr.Main_Go,yr.Main_Go=e,iu(yr.Main_Before),$c())}function KA(e,t){Ac("side_panel","side_panel_hide"),RA=e,DA=t,document.body.removeEventListener("keydown",RA),$A()}function $A(){var e=mo();e&&(Df!==Ka[yr.Users_Position].name&&(MC=!1),Df=Ka[yr.Users_Position].name),e&&nE(0,PC[0])||(MC=!1),MC||pC||LC(),e?bc("side_panel_feed_holder")?(document.body.addEventListener("keydown",nk,!1),null!==document.getElementById(TC[2]+JA)&&(YA(),zA())):document.body.addEventListener("keydown",ik,!1):(gc("side_panel_feed_holder"),yc("side_panel_etc"),document.body.addEventListener("keydown",ik,!1))}function ek(){document.body.removeEventListener("keydown",nk),document.body.removeEventListener("keydown",ik),wc("side_panel","side_panel_hide"),gc("side_panel_feed_thumb"),qA(),VA=0,FA()}function tk(){var e;4<JA?(JA<wC-6?(e=-1*document.getElementById(TC[8]+(JA-4)).offsetTop,e+=document.getElementById(TC[8]+0).offsetTop):11<wC&&(e=-1*document.getElementById(TC[8]+(wC-11)).offsetTop,e+=document.getElementById(TC[8]+0).offsetTop),(HA+5<e||e<HA-5)&&(HA=e),document.getElementById("side_panel_feed_scroll").style.marginTop=HA+"px"):document.getElementById("side_panel_feed_scroll").style.marginTop=0}function nk(e){switch(e.keyCode){case zi:ek(),DA?(DA=!1,eu()):(document.body.addEventListener("keydown",RA,!1),Zu());break;case Vi:document.body.removeEventListener("keydown",nk),document.body.addEventListener("keydown",ik,!1),gc("side_panel_feed_thumb"),gc("side_panel_feed_holder"),yc("side_panel_etc");break;case Hi:ZC();break;case Ji:JA&&!pC&&(jA(),JA--,zA());break;case Fi:JA<wC-1&&!pC&&(jA(),JA++,zA());break;case qi:ek(),yr.Play_isHost=!1,Vh=!0,Du(function(){Pu(JA,TC,nk)})}}function ik(e){switch(e.keyCode){case zi:case Vi:ek(),DA?(DA=!1,eu()):(document.body.addEventListener("keydown",RA,!1),Zu());break;case Hi:mo()?(document.body.removeEventListener("keydown",ik),document.body.addEventListener("keydown",nk,!1),gc("side_panel_etc"),yc("side_panel_feed_holder"),yc("side_panel_feed_thumb")):(Rc(hi),window.setTimeout(Nc,2e3));break;case Ji:VA&&(qA(),VA--,FA());break;case Fi:VA<10&&(qA(),VA++,FA());break;case qi:WA()}}var ak=0,ok=0,sk=!1,dk=0,lk=!1,rk=0,ck=5,uk=3500,_k=[],fk=0,hk=0,mk=!1,pk=!1,vk="",gk=!1,yk={},bk=[],wk=0,Ak=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function kk(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=cr,yr.isLastSChannels=!1,vc("label_side_panel","icon-arrow-circle-left",I),wc("top_bar_user","icon_center_focus"),kc("top_bar_user",_+su(Ka[yr.Users_Position].name+K)),document.body.addEventListener("keydown",Rk,!1),vk!==Ka[yr.Users_Position].name&&(pk=!1),pk?(uu(ak),yc(Ak[6]),Gk(),tu()):Ek()}function Ck(){yr.Users_Position=0,Ac("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Rk),Cc("top_bar_user",_),vc("label_side_panel","icon-ellipsis",Rn),gc(Ak[6])}function Ek(){cu("stream_table_user_channels"),gc(Ak[6]),Mc(),Nc(),vk=Ka[yr.Users_Position].name,pk=!1,yk={},ak=ok=dk=wk=fk=hk=0,Yu=!(gk=sk=!(bk=[])),Bc(),_k=[],Mk(),Ik()}function Mk(){lk=!0,rk=0,uk=3500}function Ik(){var e=dk+hk;e&&wk-1<e&&(e=wk-Hr,sk=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[yr.Users_Position].id)+"/follows/channels?limit="+Hr+"&offset="+e+"&sortby=login&direction=asc";lc&&!dk?r_(t,uk,2,null,xk,Sk):c_(t,uk,2,null,xk,Sk,!1)}function Sk(){++rk<ck?(uk+=500,Ik()):(lk=!1,dk?(sk=!0,Tk()):(Yu=!1,Ic(),Rc(P),Wu(Rk)))}function xk(e){var t=JSON.parse(e),n=t.follows.length;wk=parseInt(t._total),n<Hr&&(sk=!0);var i=dk;mk=!(dk+=n);var a=n/Fr;0<n%Fr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/Fr+_,d=document.createElement("tr"),o=0;o<Fr&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,yk[r]?o--:(yk[r]=1,d.appendChild(Pk(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<Fr;o++)sk&&!gk&&(gk=!0,dk=s*Fr+o),d.appendChild(fu(Ak[5]+s+"_"+o)),bk.push(Ak[5]+s+"_"+o);u.appendChild(d)}Tk()}function Pk(e,t,n){return hu(t,Ak,n)}function Tk(){if(pk){if(0<bk.length&&!sk)return Mk(),void Lk();Gk(!0),bk=[]}else mk?(Rc(T+K),Wu(Rk)):(pk=!0,Gk(),tu()),yc(Ak[6]),Yu=!1,Ic();lk=!1}function Lk(){Uc(bk.length);var e=dk+hk;e&&wk-1<e&&(e=wk-zr,sk=!0),d_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[yr.Users_Position].id)+"/follows/channels?limit="+zr+"&offset="+fk+"&sortby=login&direction=asc",uk,2,null,Ok,Bk)}function Bk(){++rk<ck?(uk+=500,Lk()):(sk=!0,dk-=bk.length,bk=[],Tk())}function Ok(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(wk=parseInt(i._total),a<zr&&(sk=!0);o<bk.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,yk[n]?o--:(yk[n]=1,mu(bk[o],[t.name,n,t.logo,t.display_name],Ak),d.push(o));for(o=d.length-1;-1<o;o--)bk.splice(d[o],1);hk+=s,sk&&(dk-=bk.length,bk=[]),Tk()}function Gk(e){Mu(ak,ok,Ak,Fr,dk,e),dk/Fr<ak+qr&&!sk&&!lk&&(Mk(),Ik()),Ar&&Uk()}function Uk(){dk&&Uu(ak+"_"+ok,Ak)}function Rk(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(Uk(),Wu(Rk)),QA();break;case Vi:if(ok){if(Wc(ak,ok-1,Ak[0]))Uk(),ok--,Gk();else for(t=Fr-1;-1<t;t--)if(Wc(ak-1,t,Ak[0])){Uk(),ak--,ok=t,Gk();break}}else Uk(),KA(Rk,!0);break;case Hi:Wc(ak,ok+1,Ak[0])?(Uk(),ok++,Gk()):Wc(ak+1,0,Ak[0])&&(Uk(),ak++,ok=0,Gk());break;case Ji:if(ak){for(t=0;t<Fr;t++)if(Wc(ak-1,ok-t,Ak[0])){Uk(),ak--,ok-=t,Gk();break}}else Uk(),Wu(Rk);break;case Fi:for(t=0;t<Fr;t++)if(Wc(ak+1,ok-t,Ak[0])){Uk(),ak++,ok-=t,Gk();break}break;case Ni:case Ri:case Di:case qi:if(xu(ak+"_"+ok,Ak[0]))return;yr.Main_selectedChannel=document.getElementById(Ak[4]+ak+"_"+ok).getAttribute(tc),yr.Main_selectedChannel_id=document.getElementById(Ak[4]+ak+"_"+ok).getAttribute("data-id"),yr.Main_selectedChannelDisplayname=document.getElementById(Ak[3]+ak+"_"+ok).textContent,yr.Main_selectedChannelLogo=document.getElementById(Ak[1]+ak+"_"+ok).src,document.body.removeEventListener("keydown",Rk),yr.Main_BeforeChannel=cr,yr.Main_Go=sr,yr.Main_BeforeChannelisSet=!0,Lo=ea=!0,gc(Ak[6]),$c()}}var Nk=0,Dk=0,Vk=!1,Jk=0,Hk={},Fk=[],qk=!1,zk=0,Xk=5,Yk=3500,jk=0,Wk=0,Qk=!1,Zk=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],Kk=!1,$k="",eC=!1;function tC(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=tr,vc("label_side_panel","icon-arrow-circle-left",I),wc("top_bar_user","icon_center_focus"),kc("top_bar_user",_+su(Ka[yr.Users_Position].name+Q)),document.body.addEventListener("keydown",hC,!1),$k!==Ka[yr.Users_Position].name&&(Kk=!1),Kk?(uu(Nk),yc(Zk[10]),_C(),tu()):iC()}function nC(){yr.Users_Position=0,Ac("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",hC),Cc("top_bar_user",_),vc("label_side_panel","icon-ellipsis",Rn),gc(Zk[10])}function iC(){cu("stream_table_user_host"),gc(Zk[10]),Mc(),Nc(),$k=Ka[yr.Users_Position].name,Kk=!1,Hk={},Yu=!(Jk=Wk=jk=0),Nk=Dk=0,Vk=eC=!(Fk=[]),Bc(),aC(),oC()}function aC(){qk=!0,zk=0,Yk=3500}function oC(){var e=Jk+jk;e&&Wk-1<e&&(e=Wk-Ur,Vk=!0),l_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[yr.Users_Position].name)+"/followed/hosting?limit="+Ur+"&offset="+e,Yk,2,null,dC,sC,!1,!Jk)}function sC(){++zk<Xk?(Yk+=500,oC()):(qk=!1,Jk?(Vk=!0,lC()):(Yu=!1,Ic(),Rc(P),Wu(hC)))}function dC(e){var t=JSON.parse(e),n=t.hosts.length;Wk=parseInt(t._total),n<Ur&&(Vk=!0);var i=Jk;Qk=!(Jk+=n);var a=n/Rr;0<n%Rr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Rr+_,d=document.createElement("tr"),o=0;o<Rr&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,Hk[r]?o--:(Hk[r]=1,d.appendChild(vu(s,s+"_"+o,[l.target.channel.name,l.target._id],Zk,[l.target.preview_urls.template.replace("{width}x{height}",Kr),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Xc(l.target.viewers)+J,""])));for(;o<Rr;o++)Vk&&!eC&&(eC=!0,Jk=s*Rr+o),d.appendChild(fu(Zk[9]+s+"_"+o)),Fk.push(Zk[9]+s+"_"+o);u.appendChild(d)}lC()}function lC(){if(Kk){if(0<Fk.length&&!Vk)return aC(),void rC();_C(!0),Fk=[]}else Qk?(Rc(T+Q),Wu(hC)):(Kk=!0,_C(),tu()),yc(Zk[10]),Yu=!1,Ic();qk=!1}function rC(){Uc(Fk.length);var e=Jk+jk;e&&Wk-1<e&&(e=Wk-zr,Vk=!0),d_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[yr.Users_Position].name)+"/followed/hosting?limit="+zr+"&offset="+e,Yk,2,null,uC,cC)}function cC(){++zk<Xk?(Yk+=500,rC()):(Vk=!0,Jk-=Fk.length,Fk=[],lC())}function uC(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Wk=parseInt(i._total),a<zr&&(Vk=!0);o<Fk.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,Hk[n]?o--:(Hk[n]=1,gu(Fk[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Kr),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Xc(t.target.viewers)+J,""],Zk),d.push(o));for(o=d.length-1;-1<o;o--)Fk.splice(d[o],1);jk+=s,Vk&&(Jk-=Fk.length,Fk=[]),lC()}function _C(e){Iu(Nk,Dk,Zk,Rr,Jk,e),Jk/Rr<Nk+Nr&&!Vk&&!qk&&(aC(),oC()),Ar&&fC()}function fC(){Jk&&Uu(Nk+"_"+Dk,Zk)}function hC(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(fC(),Wu(hC)),QA();break;case Vi:if(Dk){if(Wc(Nk,Dk-1,Zk[0]))fC(),Dk--,_C();else for(t=Rr-1;-1<t;t--)if(Wc(Nk-1,t,Zk[0])){fC(),Nk--,Dk=t,_C();break}}else fC(),KA(hC,!0);break;case Hi:Wc(Nk,Dk+1,Zk[0])?(fC(),Dk++,_C()):Wc(Nk+1,0,Zk[0])&&(fC(),Nk++,Dk=0,_C());break;case Ji:if(Nk){for(t=0;t<Rr;t++)if(Wc(Nk-1,Dk-t,Zk[0])){fC(),Nk--,Dk-=t,_C();break}}else fC(),Wu(hC);break;case Fi:for(t=0;t<Rr;t++)if(Wc(Nk+1,Dk-t,Zk[0])){fC(),Nk++,Dk-=t,_C();break}break;case Ni:case Ri:case Di:case qi:Pu(Nk+"_"+Dk,Zk,hC)}}var mC,pC=!1,vC=0,gC=3500,yC=0,bC=5,wC=0,AC=!1,kC="",CC=0,EC={},MC=!1,IC=null,SC=null,xC=null,PC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],TC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function LC(){mo()&&(WC(),MC?(nE(Vf,PC[0])&&(IC=JSON.parse(document.getElementById(PC[8]+Vf).getAttribute(tc))[0]),nE(JA,TC[0])&&(SC=JSON.parse(document.getElementById(TC[8]+JA).getAttribute(tc))[0])):IC=SC=null,cu("user_feed_scroll"),gc("side_panel_feed_thumb"),HA=JA=0,cu("side_panel_feed_scroll"),MC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",yc("dialog_loading_feed"),yc("dialog_loading_side_feed"),kC="",Vf=CC=wC=yC=0,EC={},Du(function(){OC(),BC()}))}function BC(){(xC=Ka[yr.Users_Position].access_token)?(xC=Qr+xC,NC()):(OC(),xC=null,GC())}function OC(){pC=!0,vC=0,gC=3500}function GC(){c_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[yr.Users_Position].id)+"/follows/channels?limit=100&offset="+yC+"&sortby=created_at",gC,2,null,RC,UC,!1)}function UC(){++vC<bC?(gC+=500,GC()):(pC=!1,wC?(AC=!0,HC()):(gc("dialog_loading_feed"),gc("dialog_loading_side_feed"),zC()&&(Nm(P),window.setTimeout(function(){Dm()},2e3))))}function RC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===kC.indexOf(i)&&(kC+=i);yC+=n,OC(),GC()}else kC=kC.slice(0,-1),OC(),Du(NC)}function NC(){var e="https://api.twitch.tv/kraken/streams/";e+=xC?"followed?":"?channel="+encodeURIComponent(kC)+"&",DC(e+="limit=100&offset=0&stream_type=all")}function DC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=gC,t.setRequestHeader(Yr,Xr),t.setRequestHeader(jr,Zr),xC&&t.setRequestHeader(Wr,xC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?JC(t.responseText):!xC||401!==t.status&&403!==t.status?VC():la(yr.Users_Position,0,BC,BC))},t.send(null)}function VC(){++vC<bC?(gC+=500,NC()):(pC=!1,gc("dialog_loading_feed"),gc("dialog_loading_side_feed"),zC()&&(Nm(P),window.setTimeout(function(){Dm()},2e3)))}function JC(e){var t=JSON.parse(e),n=t.streams.length;n<Ur&&(AC=!0),wC+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,EC[a]||(EC[a]=1,null!==IC&&IC===i.channel.name&&(Vf=d),o.appendChild(FC(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),null!==SC&&SC===i.channel.name&&(JA=d),s.appendChild(qC(d,[i.channel.name,a,i.preview.template.replace("{width}x{height}","1280x720"),jc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+xm(i.created_at)+" "+m+Xc(i.viewers)+J,Yc(i.video_height,i.average_fps,i.channel.broadcaster_language)],[i.channel.logo,jc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,Xc(i.viewers)])));HC()}function HC(){MC=!(pC=!1),Du(function(){gc("dialog_loading_feed"),gc("dialog_loading_side_feed"),KC(),YA(),zA()})}function FC(e,t,n){return(Ir=document.createElement("div")).setAttribute("id",PC[8]+e),Ir.setAttribute(tc,JSON.stringify(t)),Ir.className="user_feed_thumb",Ir.innerHTML='<div id="'+PC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+PC[1]+e+'" alt="" class="stream_img" src="'+n[0]+rc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+PC[2]+e+'" class="stream_text2"><div id="'+PC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+PC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",Ir}function qC(e,t,n){return(Ir=document.createElement("div")).setAttribute("id",TC[8]+e),Ir.setAttribute(tc,JSON.stringify(t)),Ir.className="side_panel_feed",Ir.innerHTML='<div id="'+TC[0]+e+'"><img id="'+TC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" alt="" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"><div id="'+TC[2]+e+'" class="side_panel_feed_text"><div id="'+TC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+TC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+TC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",Ir}function zC(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function XC(){var e=mo();e&&(Df!==Ka[yr.Users_Position].name&&(MC=!1),Df=Ka[yr.Users_Position].name),e&&nE(0,PC[0])||(MC=!1),MC||pC||LC(),e&&(Ac("user_feed","user_feed_hide"),KC())}function YC(){wc("user_feed","user_feed_hide")}function jC(){WC(),QC()}function WC(){window.clearTimeout(mC)}function QC(){zC()&&(mC=window.setTimeout(YC,5500))}function ZC(){WC(),pC?window.setTimeout(function(){pC=!1},15e3):LC()}function KC(){jC(),nE(Vf,PC[0])&&(wc(PC[0]+Vf,"feed_thumbnail_focused"),zC()?eE():bc("scene2")&&tE())}function $C(){return Vf<3?2.5:nE(Vf+2,PC[0])?-1*document.getElementById(PC[8]+(Vf-2)).offsetLeft:nE(Vf+1,PC[0])?-1*document.getElementById(PC[8]+(Vf-3)).offsetLeft:-1*document.getElementById(PC[8]+(Vf-(3<Vf?4:3))).offsetLeft}function eE(){var e=$C();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function tE(){var e=eE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function nE(e,t){return null!==document.getElementById(t+e)}function iE(){nE(Vf,PC[0])&&Ac(PC[0]+Vf,"feed_thumbnail_focused")}var aE=0,oE=0,sE=!1,dE=0,lE={},rE=[],cE=!1,uE=0,_E=5,fE=3500,hE=0,mE=0,pE=0,vE=!1,gE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],yE=!1,bE="",wE="",AE=!1,kE=null;function CE(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=er,vc("label_side_panel","icon-arrow-circle-left",I),wc("top_bar_user","icon_center_focus"),kc("top_bar_user",_+su(Ka[yr.Users_Position].name+W)),document.body.addEventListener("keydown",HE,!1),wE!==Ka[yr.Users_Position].name&&(yE=!1),yE?(uu(aE),yc(gE[10]),VE(),tu()):ME()}function EE(){yr.Users_Position=0,Ac("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",HE),Cc("top_bar_user",_),vc("label_side_panel","icon-ellipsis",Rn),gc(gE[10])}function ME(){cu("stream_table_user_live"),gc(gE[10]),Mc(),Nc(),yE=!1,wE=Ka[yr.Users_Position].name,Yu=!(AE=!(rE=[])),aE=oE=dE=mE=hE=pE=0,sE=!(lE={}),bE="",Bc(),SE(),IE()}function IE(){(kE=Ka[yr.Users_Position].access_token)?(kE=Qr+kE,LE()):(kE=null,SE(),xE())}function SE(){cE=!0,uE=0,fE=3500}function xE(){d_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[yr.Users_Position].id)+"/follows/channels?limit=100&offset="+pE+"&sortby=created_at",fE,2,null,TE,PE)}function PE(){++uE<_E?(fE+=500,xE()):(cE=!1,dE?(sE=!0,UE()):(Yu=!1,Ic(),Rc(P),Wu(HE)))}function TE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===bE.indexOf(i)&&(bE+=i);pE+=n,SE(),xE()}else bE=bE.slice(0,-1),SE(),LE()}function LE(){var e=dE+hE;e&&mE-1<e&&(e=mE-Ur,sE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=kE?"followed?":"?channel="+encodeURIComponent(bE)+"&",BE(t+="limit="+Ur+"&offset="+e+"&stream_type=all",GE,OE,IE)}function BE(e,t,n,i){var a;if(lc&&!dE){if(!(a=Android.mreadUrl(e,fE,kE?3:2,kE)))return void VM();200===(a=JSON.parse(a)).status?t(a.responseText):!kE||401!==a.status&&403!==a.status?n():la(yr.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=fE,a.setRequestHeader(Yr,Xr),a.setRequestHeader(jr,Zr),kE&&a.setRequestHeader(Wr,kE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!kE||401!==a.status&&403!==a.status?n():la(yr.Users_Position,0,i,i))},a.send(null)}function OE(){++uE<_E?(fE+=500,LE()):(cE=!1,dE?(sE=!0,UE()):(Yu=!1,Ic(),Rc(P),Wu(HE)))}function GE(e){var t=JSON.parse(e),n=t.streams.length;mE=parseInt(t._total),n<Ur&&(sE=!0);var i=dE;vE=!(dE+=n);var a=n/Rr;0<n%Rr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Rr+_,d=document.createElement("tr"),o=0;o<Rr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,lE[r]?o--:(lE[r]=1,d.appendChild(vu(s,s+"_"+o,[l.channel.name,r],gE,[l.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+xm(l.created_at)+" "+m+Xc(l.viewers)+J,Yc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Rr;o++)sE&&!AE&&(AE=!0,dE=s*Rr+o),d.appendChild(fu(gE[9]+s+"_"+o)),rE.push(gE[9]+s+"_"+o);u.appendChild(d)}UE()}function UE(){if(yE){if(0<rE.length&&!sE)return SE(),void RE();VE(!0),rE=[]}else vE?(Wu(HE),Rc(T+W)):(yE=!0,VE(),tu()),yc(gE[10]),Yu=!1,Ic();cE=!1}function RE(){Uc(rE.length);var e=dE+hE;e&&mE-1<e&&(e=mE-zr,sE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=kE?"followed?":"?channel="+encodeURIComponent(bE)+"&",BE(t+="followed?limit=limit="+zr+"&offset="+e+"&stream_type=all",DE,NE,RE)}function NE(){++uE<_E?(fE+=500,RE()):(sE=!0,dE-=rE.length,rE=[],UE())}function DE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(mE=parseInt(i._total),a<zr&&(sE=!0);o<rE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,lE[n]?o--:(lE[n]=1,gu(rE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Kr),jc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+xm(t.created_at)+" "+m+Xc(t.viewers)+J,Yc(t.video_height,t.average_fps,t.channel.broadcaster_language)],gE),d.push(o));for(o=d.length-1;-1<o;o--)rE.splice(d[o],1);hE+=s,sE&&(dE-=rE.length,rE=[]),UE()}function VE(e){Iu(aE,oE,gE,Rr,dE,e),dE/Rr<aE+Nr&&!sE&&!cE&&(SE(),xE()),Ar&&JE()}function JE(){dE&&Uu(aE+"_"+oE,gE)}function HE(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:zc()?qc():Jc()?Vc():(JE(),Wu(HE)),QA();break;case Vi:if(oE){if(Wc(aE,oE-1,gE[0]))JE(),oE--,VE();else for(t=Rr-1;-1<t;t--)if(Wc(aE-1,t,gE[0])){JE(),aE--,oE=t,VE();break}}else JE(),KA(HE,!0);break;case Hi:Wc(aE,oE+1,gE[0])?(JE(),oE++,VE()):Wc(aE+1,0,gE[0])&&(JE(),aE++,oE=0,VE());break;case Ji:if(aE){for(t=0;t<Rr;t++)if(Wc(aE-1,oE-t,gE[0])){JE(),aE--,oE-=t,VE();break}}else JE(),Wu(HE);break;case Fi:for(t=0;t<Rr;t++)if(Wc(aE+1,oE-t,gE[0])){JE(),aE++,oE-=t,VE();break}break;case Ni:case Ri:case Di:case qi:Pu(aE+"_"+oE,gE,HE)}}var FE=0,qE=0,zE=8,XE=0,YE=null,jE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],WE=!1,QE=!0;function ZE(){return kr?(KE(),void da(kr)):wo()?(yr.Main_CenterLablesVectorPos=1,yr.Main_Go=rr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Nc(),wc("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",fM,!1),void(WE?(uu(FE),yc(jE[5]),aM(),tu()):$E())):(yr.Main_Go=Ql,KE(),void $c())}function KE(){yr.Users_Position=0,Ac("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",fM),gc(jE[5]),document.getElementById("screens_holder").style.top="0"}function $E(){cu("stream_table_user"),gc(jE[5]),Mc(),Nc(),Yu=!(WE=!1),QE=!(FE=qE=0),Du(function(){eM()})}function eM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<Ka.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Ir=document.createElement("tr")).className="follower_header",Ir.innerHTML='<div class="follower_header">'+(o?"":oe)+Ka[o].name+R+"</div>",a.appendChild(i),a.appendChild(Ir),(e=document.createElement("tr")).appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,wy.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(tM(o+"_"+t,yr.Main_selectedChannelDisplayname,Ka[o].access_token?wt:bt,"key",n)),a.appendChild(e);nM()}function tM(e,t,n,i,a){return(Ir=document.createElement("td")).setAttribute("id",jE[4]+e),Ir.setAttribute(tc,t),Ir.className="stream_cell",Ir.innerHTML='<div id="'+jE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+jE[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+jE[2]+e+'" class="stream_text"><div id="'+jE[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Ir}function nM(){Du(function(){WE||(WE=!0,aM(),Ic(),tu()),yc(jE[5]),QE=Yu=!1})}function iM(){for(var e=0;e<Ka.length;e++)Cc(jE[3]+e+"_2",wy.isLive?Z:zt)}function aM(){wc(jE[0]+FE+"_"+qE,"stream_thumbnail_focused"),_u(FE)?1<FE?Wc(FE+1,0,jE[0])&&Gu(jE[5],-1*document.getElementById(jE[4]+FE+"_"+qE).offsetTop+.42*screen.height):Gu(jE[5],screen.height/100*7):Au(),Ar&&oM()}function oM(){wr=!1,Ac(jE[0]+FE+"_"+qE,"stream_thumbnail_focused")}function sM(){return yr.Users_Position=FE,3!==qE||Ka[yr.Users_Position].access_token?7===qE&&Ka[yr.Users_Position].access_token?(Rc(wt),void window.setTimeout(Nc,1500)):(6!==qE&&7!==qE&&(gc(jE[5]),document.body.removeEventListener("keydown",fM),document.getElementById("screens_holder").style.top="0"),void Du(function(){qE?1===qE?tC():2===qE?(Gg=wy,Vg()):3===qE?OM():4===qE?kk():5===qE?FE?yo(FE):(yr.Main_Before=rr,no()):6===qE?rM():7!==qE||Ka[yr.Users_Position].access_token||rM():CE()})):(Rc(In),void window.setTimeout(Nc,5e3))}function dM(){window.clearTimeout(YE)}function lM(){YE=window.setTimeout(cM,2e4)}function rM(){lM(),6===qE?kc("main_dialog_remove",Ft+pi+Ka[yr.Users_Position].name+"?"):7===qE&&kc("main_dialog_remove",ft+" "+Ka[yr.Users_Position].name+"?"),yc("main_remove_dialog")}function cM(){dM(),gc("main_remove_dialog"),XE=0,_M()}function uM(){return bc("main_remove_dialog")}function _M(){XE?(Ac("remove_cancel","button_search_focused"),wc("remove_yes","button_search_focused")):(wc("remove_cancel","button_search_focused"),Ac("remove_yes","button_search_focused"))}function fM(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:uM()?cM():Jc()?Vc():zc()?qc():(oM(),Wu(fM)),QA();break;case Vi:if(uM())--XE<0&&(XE=1),_M(),dM(),lM();else if(qE)if(Wc(FE,qE-1,jE[0]))oM(),qE--,aM();else if(Wc(FE-1,0,jE[0])){for(t=zE-1;-1<t;t--)if(Wc(FE-1,t,jE[0])){oM(),FE--,qE=t,aM();break}}else oM(),qE=zE-1,aM();else oM(),KA(fM,!0);break;case Hi:uM()?(1<++XE&&(XE=0),_M(),dM(),lM()):(Wc(FE,qE+1,jE[0])?(oM(),qE++):(Wc(FE+1,0,jE[0])?(oM(),FE++):oM(),qE=0),aM());break;case Ji:if(FE){for(t=0;t<zE;t++)if(Wc(FE-1,qE-t,jE[0])){oM(),FE--,qE-=t,aM();break}}else oM(),Wu(fM);break;case Fi:for(t=0;t<zE;t++)if(Wc(FE+1,qE-t,jE[0])){oM(),FE++,qE-=t,aM();break}break;case Ni:case Ri:case Di:case qi:var n;if(uM()){if(6===qE)n=XE,cM(),n&&(document.body.removeEventListener("keydown",fM),KE(),vo(FE));else if(n=XE,cM(),n){yr.Users_AddcodePosition=yr.Users_Position,tu();var i=aa,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Xr)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else sM()}}var hM=0,mM=0,pM=!1,vM=0,gM={},yM=[],bM=!1,wM=0,AM=5,kM=3500,CM=0,EM=0,MM=!1,IM=!1,SM="time",xM=2,PM=!1,TM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],LM=!1,BM=!1;function OM(){yr.Main_CenterLablesVectorPos=1,yr.Main_Go=vr,wc("top_bar_user","icon_center_focus"),vc("label_side_panel","icon-arrow-circle-left",I),kc("top_bar_user",_+su(Ka[yr.Users_Position].name+(BM?G:O))),document.body.addEventListener("keydown",KM,!1),LM?(uu(hM),yc(TM[10]),$M(),jM(),tu()):UM()}function GM(){yr.Users_Position=0,LM&&WM(),Ac("top_bar_user","icon_center_focus"),vc("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",KM),Cc("top_bar_user",_),gc(TM[10])}function UM(){LM&&WM(),cu("stream_table_user_vod"),gc(TM[10]),Mc(),$M(),Nc(),PM=LM=!1,Yu=!(IM=!(yM=[])),hM=mM=vM=EM=CM=0,pM=!(gM={}),Bc(),NM()}function RM(){bM=!0,wM=0,kM=3500}function NM(){RM(),DM()}function DM(){var e=vM+CM;e&&EM-1<e&&(e=EM-Ur,pM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Ur+"&broadcast_type="+(BM?"highlight":"archive")+"&sort="+SM+"&offset="+e;if(lc&&!vM){if(!(t=Android.mreadUrl(n,kM,3,Qr+Ka[yr.Users_Position].access_token)))return void VM();200===(t=JSON.parse(t)).status?HM(t.responseText):401===t.status||403===t.status?la(yr.Users_Position,0,NM,JM):VM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=kM,t.setRequestHeader(jr,Zr),t.setRequestHeader(Yr,Xr),t.setRequestHeader(Wr,Qr+Ka[yr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?HM(t.responseText):401===t.status||403===t.status?la(yr.Users_Position,0,NM,JM):VM())},t.send(null)}function VM(){++wM<AM?(kM+=500,DM()):JM()}function JM(){bM=!1,vM?(pM=!0,FM()):(Yu=!1,Ic(),Rc(P),Wu(hC),Ka[yr.Users_Position].access_token||(GM(),yr.Main_Go=rr,GM(),Qu(),eu()))}function HM(e){var t=JSON.parse(e),n=t.videos.length;EM=parseInt(t._total),n<Ur&&(pM=!0);var i=vM;MM=!(vM+=n);var a=n/Rr;0<n%Rr&&a++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!PM){var _;for(PM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Pi+Pi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p,(Ir=document.createElement("td")).setAttribute("id",TM[8]+"y_"+f),Ir.className="stream_cell",Ir.innerHTML='<div id="'+TM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+TM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Ir);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Rr+f,d=document.createElement("tr"),o=0;o<Rr&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||gM[r]?o--:(gM[r]=1,d.appendChild(nI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Kr),l.channel.display_name,N+du(l.created_at),mI.parse(l.title)+pi+Qt+v+l.game,Xc(l.views)+V,Yc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Im(l.length),l.animated_preview_url],TM)));for(;o<Rr;o++)pM&&!IM&&(IM=!0,vM=s*Rr+o),d.appendChild(fu(TM[9]+s+"_"+o)),yM.push(TM[9]+s+"_"+o);u.appendChild(d)}FM()}function FM(){LM?jM(!0):(MM?(Rc(T+(BM?G:O)+L+M),Wu(KM)):(LM=!0,jM(),tu()),yc(TM[10]),Yu=!1,Ic()),0<yM.length&&!pM?qM():bM=!(yM=[])}function qM(){RM(),zM()}function zM(){Uc(yM.length);var e=vM+CM;e&&EM-1<e&&(e=EM-zr,pM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+zr+"&broadcast_type="+(BM?"highlight":"archive")+"&sort="+SM+"&offset="+e;if(lc){if(!(t=Android.mreadUrl(n,kM,3,Qr+Ka[yr.Users_Position].access_token)))return void XM();if(200===(t=JSON.parse(t)).status)return void YM(t.responseText);401===t.status||403===t.status?la(yr.Users_Position,0,NM,JM):XM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=kM,t.setRequestHeader(jr,Zr),t.setRequestHeader(Yr,Xr),t.setRequestHeader(Wr,Qr+Ka[yr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void YM(t.responseText);401===t.status||403===t.status?la(yr.Users_Position,0,NM,JM):XM()}},t.send(null)}function XM(){++wM<AM?(kM+=500,zM()):(pM=!0,vM-=yM.length,yM=[],FM())}function YM(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(EM=parseInt(i._total);o<yM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||gM[n]?o--:(gM[n]=1,aI(yM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Kr),t.channel.display_name,N+du(t.created_at),mI.parse(t.title)+pi+Qt+v+t.game,Xc(t.views)+V,Yc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Im(t.length),t.animated_preview_url],TM),d.push(o));for(o=d.length-1;-1<o;o--)yM.splice(d[o],1);CM+=s,pM&&(vM-=yM.length,yM=[]),FM()}function jM(e){hM<0?QM():(Iu(hM,mM,TM,Rr,vM,e),sI(TM,hM+"_"+mM),vM/Rr<hM+Nr&&!pM&&!bM&&NM(),Ar&&WM())}function WM(){window.clearInterval(eI),-1<hM&&vM?(yc(TM[1]+hM+"_"+mM),Uu(hM+"_"+mM,TM)):ZM()}function QM(){var e=1<mM?1:mM;wc(TM[0]+"y_"+e,ec)}function ZM(){var e=1<mM?1:mM;Ac(TM[0]+"y_"+e,ec)}function KM(e){var t;if(!Yu&&!Eu())switch(Cu(),e.keyCode){case zi:Jc()?Vc():Jc()?Vc():zc()?qc():(WM(),Wu(KM)),QA();break;case Vi:if(mM)if(-1===hM)ZM(),--mM<0&&(mM=1),QM();else if(hM||mM){if(Wc(hM,mM-1,TM[0]))WM(),mM--,jM();else for(t=Rr-1;-1<t;t--)if(Wc(hM-1,t,TM[0])){WM(),hM--,mM=t,jM();break}}else WM(),ZM(),hM=-1,mM=1,QM();else-1===hM?(hM=0,ZM()):WM(),KA(KM,!0);break;case Hi:-1===hM?(ZM(),1<++mM?(mM=0,MM?QM():(hM=0,jM())):QM()):Wc(hM,mM+1,TM[0])?(WM(),mM++,jM()):Wc(hM+1,0,TM[0])&&(WM(),hM++,mM=0,jM());break;case Ji:if(-1===hM)WM(),Wu(KM),hM=0;else if(hM){for(t=0;t<Rr;t++)if(Wc(hM-1,mM-t,TM[0])){WM(),hM--,mM-=t,jM();break}}else WM(),hM=-1,QM();break;case Fi:if(-1!==hM||MM){for(t=0;t<Rr;t++)if(Wc(hM+1,mM-t,TM[0])){WM(),hM++,mM-=t,jM();break}}else hM=0,ZM(),jM();break;case Ni:case Ri:case Di:case qi:-1===hM?(0===mM?t_("UserVod_highlight",(BM=!BM)?"true":"false"):1===xM?xM++:xM--,UM()):Bu(hM+"_"+mM,TM,KM)}}function $M(){1===xM?(kc("top_bar_user",_+su(Ka[yr.Users_Position].name+" "+(BM?G:O)+En)),SM="time"):2===xM&&(kc("top_bar_user",_+su(Ka[yr.Users_Position].name+" "+(BM?G:O)+Mn)),SM="views"),t_("UserVod_TypeNumber",xM)}var eI,tI=new Image;function nI(e,t,n,i,a){return iI(n,t,i,a)}function iI(e,t,n,i){return(Ir=document.createElement("td")).setAttribute("id",i[8]+t),Ir.setAttribute(tc,JSON.stringify(e)),Ir.className="stream_cell",Ir.innerHTML=oI(t,n,i),Ir}function aI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(tc,JSON.stringify(t)),a.innerHTML=oI(o,n,i),a.setAttribute("id",i[8]+o)}function oI(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" alt="" class="stream_img" src="'+t[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function sI(t,n){if(window.clearInterval(eI),Oy){var i=document.getElementById(t[0]+n);tI.onload=function(){this.onload=null,gc(t[1]+n),i.style.backgroundSize="612px";var e=0;eI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},tI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function dI(e,t){return e.replace(t.code,lI(t))}function lI(e){return'<img class="emoticon" alt="" src="'+e["3x"]+'"/>'}function rI(e){return'<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function cI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function uI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=vd[i]||vd[e];e=a?dI(e,a):cI(e),t[n]=e}return t.join(" ")}function _I(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([rI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function fI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function hI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function A(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+c((e=e.replace(d,".")).split("."),t).join(".")}function k(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;i+=g)e=b(e/r);return b(i+(r+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,r,c,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&A("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&A("overflow"),h+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&A("overflow"),s*=c;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&A("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,r,c,u,_,f,h,m,p=[];for(_=(e=k(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&A("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&A("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)m=l-c,h=g-c,p.push(w(E(c+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:k,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=i,i=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var mI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();