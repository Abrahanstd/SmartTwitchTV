var t,n,a,e,i,s,o,d,r,l,h,f,c,u,_,m,p,v,g,y,b,w,k,M,C,E,S,x,I,P,G,L,T,B,O,H,U,A,N,D,F,q,R,V,z,J,X,j,Y,W,K,Z,$,Q,ee,te,ne,ae,ie,se,oe,de,re,le,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Me,Ce,Ee,Se,xe,Ie,Pe,Ge,Le,Te,Be,Oe,He,Ue,Ae,Ne,De,Fe,qe,Re,Ve,ze,Je,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,at,it,st,ot,dt,rt,lt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Mt,Ct,Et,St,xt,It,Pt,Gt,Lt,Tt,Bt,Ot,Ht,Ut,At,Nt,Dt,Ft,qt,Rt,Vt,zt,Jt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,sn,on,dn,rn,ln,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Mn,Cn,En,Sn,xn,In,Pn,Gn,Ln,Tn,Bn,On,Hn,Un,An,Nn,Dn,Fn,qn,Rn,Vn,zn,Jn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ea='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_side_panel" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label hide"></div><div id="label_extra" class="icon_top_label hide"></div></div><div id="top_lables" style="text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="side_panel" class="side_panel side_panel_hide" style="margin-left:-23.5%;"><div id="side_panel_0" class="side_panel_text side_panel_text_focus" style="margin-top:10px;"><div class="side_panel_icons"><i class="icon icon-search"></i></div>&nbsp;<spam id="side_panel_search"></spam></div><div id="side_panel_1" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-settings"></i></div>&nbsp;<spam id="side_panel_settings"></spam></div><div id="side_panel_2" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-info-circle"></i></div>&nbsp;<spam id="side_panel_about"></spam></div><div id="side_panel_3" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-question-circle"></i></div>&nbsp;<spam id="side_panel_controls"></spam></div><div id="side_panel_4" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-exit"></i></div>&nbsp;<spam id="side_panel_exit"></spam></div><div id="side_panel_5" class="side_panel_text" style="margin-top:50px;"><div class="side_panel_icons"><i class="icon icon-play"></i></div>&nbsp;<spam id="side_panel_live"></spam></div><div id="side_panel_6" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-users"></i></div>&nbsp;<spam id="side_panel_user"></spam></div><div id="side_panel_7" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-star"></i></div>&nbsp;<spam id="side_panel_featured"></spam></div><div id="side_panel_8" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-gamepad"></i></div>&nbsp;<spam id="side_panel_games"></spam></div><div id="side_panel_9" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie-play"></i></div>&nbsp;<spam id="side_panel_videos"></spam></div><div id="side_panel_10" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie"></i></div><spam id="side_panel_clips"></spam></div><div class="side_panel_return"><div class="side_panel_icons"><i class="icon icon-arrow-circle-left"></i></div>&nbsp;<spam id="side_panel_hide"></spam></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="about_dialogs hide" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="user_channels_scroll" class="screen_holder hide"><table id="stream_table_user_channels" class="streams_tables"></table></div><div id="search_channel_scroll" class="screen_holder hide"><table id="stream_table_search_channel" class="streams_tables"></table></div><div id="channel_content_scroll" class="screen_holder hide"><table id="stream_table_channel_content" class="streams_tables"></table></div><div id="Clip_scroll" class="screen_holder hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder hide"><table id="stream_table_user" class="streams_tables"></table></div><div id="settings_scroll" class="screen_holder_settings hide"><div id="settings_main" class="settings_main"></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_div"></div></div><div id="search_games_scroll" class="screen_holder_games hide"><table id="stream_table_search_game" class="streams_tables"></table></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="strokedextramini" style="font-size:100%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="live_scroll" class="screen_holder hide"><table id="stream_table_live" class="streams_tables"></table></div><div id="featured_scroll" class="screen_holder hide"><table id="stream_table_featured" class="streams_tables"></table></div><div id="user_host_scroll" class="screen_holder hide"><table id="stream_table_user_host" class="streams_tables"></table></div><div id="user_live_scroll" class="screen_holder hide"><table id="stream_table_user_live" class="streams_tables"></table></div><div id="a_games_scroll" class="screen_holder hide"><table id="stream_table_a_game" class="streams_tables"></table></div><div id="search_live_scroll" class="screen_holder hide"><table id="stream_table_search_live" class="streams_tables"></table></div><div id="vod_scroll" class="screen_holder hide"><table id="stream_table_vod" class="streams_tables"></table></div><div id="a_games_vod_scroll" class="screen_holder hide"><table id="stream_table_a_game_vod" class="streams_tables"></table></div><div id="channel_vod_scroll" class="screen_holder hide"><table id="stream_table_channel_vod" class="streams_tables"></table></div><div id="user_vod_scroll" class="screen_holder hide"><table id="stream_table_user_vod" class="streams_tables"></table></div></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><iframe id="chat_frame" class="hide" width="100%" height="100%" frameborder="0" scrolling="no" style="position:absolute;overflow:hidden;" src="about:blank"></iframe><div id="chat_box" class="hide"></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedbig" style="display:inline-block;font-size:225%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo"><div id="stream_clock"></div><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/404_logo.png"><div class="playmaininfo"><div id="stream_info_name" style="font-size:160%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div id="scene_channel_panel_bottom" style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_pannel_5" class="playbotton" style="z-order:6;width:11%;"><div id="ic_search" style="font-size:140%;transform:translate(0, 5%);vertical-align:middle;display:inline-block;"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_4" class="playbotton" style="z-order:5;width:18%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block;"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_3" class="playbotton" style="z-order:5;width:17%;"><div id="game_icon" style="vertical-align:middle;display:inline-block;overflow:hidden;max-height:43px;"><div style="display:flex;font-size:185%;transform:translate(0,3%);"><i class="icon-gamepad strokicon"></i></div></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_2" class="playbotton" style="z-order:3;width:14%;"><div id="fallow_heart" style="font-size:75%;transform:translate(0, 10%);vertical-align:middle;display:inline-block;"><i class="icon-heart-o strokicon" style="color:#FFFFFF;font-size:210%;"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_1" class="playbotton playbotton_focus" style="z-order:2;width:30%;"><div id="quality_video" style="vertical-align:middle;display:inline-block;font-size:185%;transform:translate(0, 7%);"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="display:inline-block;font-size:50%;transform:translate(0,20%);">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:87.5%;font-weight:bold;width:77%;"></div></div><div id="scene2_pannel_0" class="playbotton" style="z-order:4;width:17%;margin-right:0;display:none;"><div id="open_vod_icon" style="vertical-align:middle;display:inline-block;font-size:175%;transform:translate(0, 7%);"><i class="icon-play strokicon"></i></div>&nbsp;<div id="open_vod_text" class="strokedextramini playbottontext" style="font-size:77.5%;"></div></div></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedextramini" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedextramini"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedextramini"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedextramini" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_button" class="pause_button"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:180%;"></i></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedbig" style="font-size:165%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:250%;"></i><div id="dialog_vod_saved_text" class="strokedbig"></div></div><div id="dialog_vod_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_vod_start_text" class="strokedbig"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:0.5%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:500%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:250%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:17%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:250%;"></div></div></div></div>',ta="fglfgl27@gmail.com",na="<br>",aa='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ia='<div class="about_text_title">',sa='<div class="about_text_title" style="text-align: left;">',oa='<div style="text-align: left;">',da="",ra="",la="",ca="",ua="",_a="",fa="",ma="",ha="",pa="",va="&nbsp;",ga="",ya='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va;function ba(){da=e+" (C)",ra=n+" (D)",ca=a+" (A)",la=i+" (A)",r+=Wt,l+=Wt,ua=ia+e+"</div>"+ia+Ee+"</div>"+na+oa+aa+Ge+na+aa+(Le+=Hn)+na+aa+Te+na+aa+Be+na+Oe+na+aa+He+na+va+va+va+Ue+na+aa+Ae+na+"</div>"+na+(ma=ia+Me+"</div>"+oa+aa+We+na+aa+Ke+na+"</div>"+oa+aa+Ze+na+aa+$e+na+aa+Qe+na+na+ia+Ce+"</div>"+oa+aa+et+na+aa+tt+na+aa+nt+na+aa+at+na+aa+it)+na+na+ia+ke+"</div>",_a=ia+ya+we+"</div></div>",fa=oa+na+Ne+na+(Hc?"":na+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Yn+"</div>")+"</div>"+na+ia+De+"</div>"+ta+na+na+Fe+na+qe+na+na+sa+Re+"</div>"+oa+aa+Ve+na+aa+ze+na+aa+Je+na+aa+Xe+na+aa+je+na+aa+Ye+na+ia+ke+"</div></div>",ha=ia+Se+"</div>"+rt+na,ga=na+ia+lt+"</div>"+oa+aa+ct+na+na+ia+ga+"</div>"+na+na+ke+"</div>",pa=_t+na+aa+ft.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+na+aa+mt+na+aa+ht+na+aa+pt+na+aa+vt}function wa(){vu=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",s="Hide",o="The text you entered is empty.",d="The search result is empty.",r="Switch screen",l="Switch user screen",h="Switch: Past Broadcast or Highlight",f="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",m="Games",p="Playing ",v=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",M="Type your authentication key...",C="Type your user name...",E="Press Enter or Select key to, ",S="Channels",x="Channel",I="Back to previously screen: Back key twice",P=" has ended",G="This video is only available to subscribers.",L="Connection failed, unable to load content hit refresh to try again",T="No",B=" for this ",O="Connection failed, unable to load video content exiting...",H=" Past Broadcast",U=" Highlight",A=" Clips",N=" Content",D="Streamed on ",F="Duration ",q=" Views",R=" Viewers",V="Click again to exit!",z="Do you wanna to exit Twitch?",J="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ae=" hosting ",ie=" already set",se="Make First",oe=" (First user can fallow streamears outside User screen when providing a key)",de="Add a Twitch user to display it's Followed Channels content here",re=" (24h)",le=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Me="Player Related:",Ce="Chat Related:",Ee="General Related:",Se="Update",xe="Current installed version ",Ie=" latest available version ",Pe="This are the none players related controls, the player can show it's own controls.",Ge="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Le="Refresh screen content: ",Te="Exit the application: from side pannel click exit",Be=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",He="Start a search: from side pannel click search",Ue="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ae="About this application: from side pannel click about",Ne="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Yn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",De="Developer information:",Fe="This is an open source application licensed under the GNU General Public License v3.0, check it on github",qe="github.com/fgl27/SmartTwitchTV",Re="This application uses following dependencies:",Ve="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",ze="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",Je="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Show information panel: Press enter key or D-pad keys if chat is not showing",Ke="Close the video: press back key twice",Ze="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",$e="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",Qe="Force refresh a video (in case it freezes): Change video quality to the same",et="Show or hide the Chat : D-pad right",tt="Change Chat position : D-pad left",nt="Change Chat size : D-pad up",at="Change Chat background brightness: D-pad down",it="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",st='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ot="Chat and video (Side by side): Color button red (A)",$n="Force disable the chat",Qn="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",dt="There is a update available, check it in the app github releases ",ga="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",rt="A update is available, and the app can't self update this version ",lt="Major changes:",ct="Improves how the app runs in the background",ut='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',_t=" below, fallowing this steps:",ft="Access the site link_link (using a computer or a smart phone)",mt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',ht="Login to Twitch.TV using the user name you are trying to add a key for",pt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",vt="The web page will update and show a key code, the key only has lower case letters and nubers.",gt=" Add Authentication key",yt="Key added OK",bt="Key test fail, it's needed to add new one",wt="Key test return OK",kt="You try to add a key for user ",Mt=" but this key is for user ",Ct=" Following",Et=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",It=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Pt="Fail authentication check with the provider key, please check and try again",Bn="The added key doesn't belong to the user ",Gt="No user",Lt="Set a user and a authentication key to be able to fallow/unfollow",Tt="Restart the",Bt=" Clip",Ot="Channel content",Ht="Network is disconnect, the application can't work without INTERNET",Ut="Network connection reestablished",At=" Followers",Nt=", Can't fallow or unfallow ",Dt="Game content",Ft="Yes",qt="Are you sure you want to remove the user ",Rt="Press Up to ",Vt="Followed Games",zt="Change between",Jt=" Back key then Enter",Xt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],jt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yt="Started ",Wt=" (PG Up/Down)",Kt="Videos",Zt=" Video",$t="Replay",Qt="exiting in ",en='press "Return" to exit',tn="Featured",nn="Created at ",an="Open the Broadcast",sn="No Broadcast",on="There is no Past Broadcast for this clip",dn="And because of that no chat",rn=" is now",ln="Open the Hosting",cn="Player related",un="Buffer size:",_n="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",fn="Live streams buffer",mn="Videos (Past Broadcast and Highlight) buffer",hn="Clips buffer",pn="General related",vn="Language",gn="Chat: Connecting to chat history server.."+na+"Chat: Connected."+na+"Chat: Joined channel ",yn="Play from the start or from where you stop watching last time?",wn=(bn="From:"+na)+"Start",kn="Chat: The Chat has ended!",Mn=": Most recent",Cn=": Most views",En="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",In="Disable",Rn="The app was closed willing playing, restoring playback",Pn="Restore playback",Gn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Ln="Chat font size",Tn="Change the chat lines font size, applies to text and emotes",On="Videos animated thumbnails",Hn="Side panel: Back key twice",Un="Size ",An="Brightness ",Nn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Fn=" seconds",qn=" minutes",Vn="Clock offset",zn="Application language",Jn="Content language",Xn="All",jn="Empty game fro this",Wn="Isn't possible to jump during a buffering",Kn="Chat is disabled, enable in side pannel settings",Zn="This clip/video fail to load can't replay"}var ka=33,Ma=34,Ca=50,Ea=51,Sa=52,xa=179,Ia=457,Pa=37,Ga=38,La=39,Ta=40,Ba=13,Oa=65,Ha=66,Ua=67,Aa=68,Na=49,Da=8,Fa=13,qa=32,Ra=46,Va=0,za=5,Ja=1e4,Xa=0,ja=!1,Ya=!1,Wa=!1,Ka=!1,Za=!1,$a="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ei="elsu5d09k0xomu7cggx3qg5ybdwu7g",ti="https://id.twitch.tv/oauth2/token?";function ni(){ja=!1,ru.Main_Go=eu,f_("top_bar_user","icon_center_focus"),P_(),Gc.placeholder=M,u_("oauth_scroll"),h_("oauth_text",ut+Zi[ru.Users_Position].name+pa),si()}function ai(){oi(!1),document.body.removeEventListener("keydown",ii),m_("top_bar_user","icon_center_focus"),c_("oauth_scroll")}function ii(e){if(!ja&&!Ya)switch(e.keyCode){case Na:U_()?H_():T_()?L_():(ru.Main_Go=Zc,ai(),X_());break;case ka:ru.Main_Go=Fc,ai(),X_();break;case Ma:ru.Main_Go=Nc,ai(),X_();break;case Sa:case Ea:case xa:case Ba:si();break;case Oa:Vf(ii);break;case Ha:ai(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=ru.Main_Go,ru.Main_Go=Jc,ai(),X_()}}function si(){document.body.removeEventListener("keydown",ii),document.body.addEventListener("keydown",ri,!1),Gc.placeholder=M,Gc.focus(),Ya=!0}function oi(e){Gc.blur(),di(),document.body.removeEventListener("keydown",ri),Gc.placeholder=E+M,e&&document.body.addEventListener("keydown",ii,!1),Ya=!1}function di(){if(null!==Gc){var e=Gc.cloneNode(!0);Gc.parentNode.replaceChild(e,Gc),Gc=document.getElementById("oauth_input")}}function ri(e){if(!ja)switch(e.keyCode){case Na:T_()?L_():U_()?H_():(ru.Main_Go=Zc,ai(),X_());break;case Ra:Gc.value="",e.preventDefault();break;case Fa:case Ta:""!==Gc.value&&null!==Gc.value&&(Xa=Gc.value,Li(),c_("oauth_scroll"),v_(),_i()),oi(!0);break;case Da:Gc.value=Gc.value.slice(0,-1),e.preventDefault();break;case qa:Gc.value+=" ",e.preventDefault()}}function li(e,t,n,a){var i=new XMLHttpRequest,s=ti+"grant_type=refresh_token&client_id="+encodeURIComponent(Uu)+"&client_secret="+encodeURIComponent(ei)+"&refresh_token="+encodeURIComponent(Zi[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",s,!0),i.timeout=Ja,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?ui(i.responseText,e,n):ci(e,t,n,a))},i.send(null)}function ci(e,t,n,a){++t<10?li(e,t,n):a&&a()}function ui(e,t,n){var a=JSON.parse(e);Zi[t].access_token=a.access_token,Zi[t].refresh_token=a.refresh_token,ps(),n&&n()}function _i(){var e=new XMLHttpRequest,t=ti+"grant_type=authorization_code&client_id="+encodeURIComponent(Uu)+"&client_secret="+encodeURIComponent(ei)+"&code="+encodeURIComponent(Xa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ja,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?hi(e.responseText):fi())},e.send(null)}function fi(){++Va<za?_i():mi()}function mi(){g_(),I_(Pt),window.setTimeout(function(){P_(),fu=0,j_(),ru.Main_Go=Zc,window.location=Qa},4e3),Zi[ru.Users_Position].access_token=0,Zi[ru.Users_Position].refresh_token=0}function hi(e){var t=JSON.parse(e);Zi[ru.Users_Position].access_token=t.access_token,Zi[ru.Users_Position].refresh_token=t.refresh_token,Li(),pi()}function pi(){lm("https://api.twitch.tv/kraken?oauth_token="+Zi[ru.Users_Position].access_token,Ja,0,null,vi,gi)}function vi(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Zi[ru.Users_Position].name)?(ps(),fu=0,g_(),ai(),ja=kE=!1,Gc.value="",ru.Main_Go=Zc,j_(),I_(yt),window.setTimeout(function(){window.location=Qa},3e3)):(Zi[ru.Users_Position].access_token=0,Zi[ru.Users_Position].refresh_token=0,ja=!1,I_(Bn+Zi[ru.Users_Position].name),window.setTimeout(function(){P_(),fu=0,j_(),ru.Main_Go=Zc,window.location=Qa},4e3))}function gi(){++Va<za?(Ja+=500,pi()):mi()}function yi(){Li(),Wa=!1,bi()}function bi(){var e="https://api.twitch.tv/kraken/users/"+Zi[ru.Users_Position].id+"/follows/channels/"+$a,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ja,t.setRequestHeader(Au,Uu),t.setRequestHeader(Nu,qu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?wi():404===t.status?ki(t.responseText):Mi())},t.send(null)}function wi(){ja=!(Wa=!0),Za?Pg():Pd()}function ki(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ja=Wa=!1,Za?Pg():Pd()):Mi()}function Mi(){++Va<za?(Ja+=500,bi()):(ja=!1,Za?Pg():Pd())}function Ci(){Li(),Ei()}function Ei(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Zi[ru.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=Ja,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.setRequestHeader("Authorization","OAuth "+Zi[ru.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wa=!(ja=!1),void(Za?Pg():Pd());401===e.status||403===e.status?li(ru.Users_Position,0,Ci,null):Si()}},e.send(null)}function Si(){++Va<za&&(Ja+=500,Ei())}function xi(){Li(),Ii()}function Ii(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Zi[ru.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=Ja,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.setRequestHeader("Authorization","OAuth "+Zi[ru.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ja=Wa=!1,void(Za?Pg():Pd());401===e.status||403===e.status?li(ru.Users_Position,0,xi,null):Pi()}},e.send(null)}function Pi(){++Va<za&&(Ja+=500,Ii())}function Gi(){Li(),Ka=!1,Ti()}function Li(){Ja=1e4,ja=!(Va=0)}function Ti(){var e,t="https://api.twitch.tv/kraken/users/"+Zi[ru.Users_Position].id+"/subscriptions/"+$a;if(Ku){if(!(e=Android.mreadUrl(t,Ja,3,Zi[ru.Users_Position].access_token)))return void Bi();if(200===(e=JSON.parse(e)).status)ja=!(Ka=!0),Dy();else if(422===e.status)ja=Ka=!1,Ny();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ja=Ka=!1,void Ny();Bi()}else 401===e.status||403===e.status?li(ru.Users_Position,0,Gi,Oi):Bi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ja,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.setRequestHeader("Authorization","OAuth "+Zi[ru.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ja=!(Ka=!0),Dy();else if(422===e.status)ja=Ka=!1,Ny();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ja=Ka=!1,void Ny();Bi()}else 401===e.status||403===e.status?li(ru.Users_Position,0,Gi,Oi):Bi()},e.send(null)}function Bi(){++Va<za?(Ja+=500,Ti()):Oi()}function Oi(){ja=Ka=!1,Ny()}function Hi(e){Li(),Ui(e,0)}function Ui(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Zi[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?ja=!1:(Li(),li(e,0,null,null)));400===a.status?(Li(),li(e,0,null,null)):Ai(e,t)}},a.send(null)}function Ai(e,t){++t<za&&Ui(e,t)}function Ni(){Li(),Di()}function Di(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Zi[ru.Users_Position].name+"/follows/games/"+encodeURIComponent(ru.Main_gameSelected)+"?oauth_token="+Zi[ru.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Us=!0,void Ys();401===e.status||403===e.status?li(ru.Users_Position,0,Ni,null):Fi()}},e.send(null)}function Fi(){++Va<za&&(Ja+=500,Di())}function qi(){Li(),Ri()}function Ri(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Zi[ru.Users_Position].name+"/follows/games/"+encodeURIComponent(ru.Main_gameSelected)+"?oauth_token="+Zi[ru.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Us=!1,void Ys();401===e.status||403===e.status?li(ru.Users_Position,0,qi,null):Vi()}},e.send(null)}function Vi(){++Va<za&&(Ja+=500,Ri())}function zi(){Li(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Zi[ru.Users_Position].name+"/follows/games/"+encodeURIComponent(ru.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Us=!0,void Ys()):404===e.status?(Us=!1,void Ys()):void Xi()},e.send(null)}function Xi(){++Va<za?(Ja+=500,Ji()):(Us=!1,Ys())}function ji(e){ru.Users_Position=ru.Users_AddcodePosition,Xa=e,Li(),v_(),_i()}var Yi=0,Wi=5,Ki=3500,Zi=[],$i=null,Qi=!1,es=!1;function ts(){ru.Main_Go=Dc,f_("top_bar_user","icon_center_focus"),P_(),Pc.placeholder=C,u_("add_user_scroll"),is()}function ns(){os(!1),document.body.removeEventListener("keydown",as),document.body.removeEventListener("keydown",ds),m_("top_bar_user","icon_center_focus"),c_("add_user_scroll")}function as(e){if(!Qi&&!es&&ru.Main_Go===Dc)switch(e.keyCode){case Na:T_()?L_():U_()?H_():(0<Zi.length&&ru.Main_Go!==Zc?ru.Main_Go=ru.Main_Before:ru.Main_Go=Nc,ns(),X_());break;case ka:ru.Main_Go=su,ns(),X_();break;case Ma:ru.Main_Go=Nc,ns(),X_();break;case Sa:case Ea:case xa:case Ba:is();break;case Oa:Vf(as);break;case Ha:ns(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=ru.Main_Go,ru.Main_Go=Jc,ns(),X_()}}function is(){document.body.removeEventListener("keydown",as),document.body.addEventListener("keydown",ds,!1),Pc.placeholder=C,Pc.focus(),es=!0}function ss(){if(null!==Pc){var e=Pc.cloneNode(!0);Pc.parentNode.replaceChild(e,Pc),Pc=document.getElementById("user_input")}}function os(e){Pc.blur(),ss(),document.body.removeEventListener("keydown",ds),Pc.placeholder=E+C,e&&document.body.addEventListener("keydown",as,!1),es=!1}function ds(e){if(!Qi&&ru.Main_Go===Dc)switch(e.keyCode){case Na:T_()?L_():U_()?H_():(0<Zi.length&&ru.Main_Go!==Zc?ru.Main_Go=ru.Main_Before:ru.Main_Go=Nc,ns(),X_());break;case Ra:Pc.value="";break;case Fa:case Ta:""!==Pc.value&&null!==Pc.value?gs($i=Hc||fs()?Pc.value:"testtwitch27")?(g_(),I_(u+$i+ie),window.setTimeout(function(){P_(),is()},1500)):(Ki=3500,Qi=!(Yi=0),c_("add_user_scroll"),v_(),rs()):is();break;case Da:Pc.value=Pc.value.slice(0,-1);break;case qa:Pc.value+=" "}}function rs(){lm("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($i),Ki,2,null,ls,cs)}function ls(e){JSON.parse(e)._total?(Pc.value="",document.body.removeEventListener("keydown",as),ms(e)):us()}function cs(){++Yi<Wi?(Ki+=500,rs()):us()}function us(){$i=null,g_(),I_(ne),window.setTimeout(function(){ts()},1e3),Qi=!1}function _s(){if(0<(Zi=sm("AddUser_UsernameArray",[])).length)for(var e=0;e<Zi.length;e++)Zi[e].access_token&&Hi(e)}function fs(){return 0<Zi.length}function ms(e){$i=JSON.parse(e).users[0],Zi.push({name:$i.name,id:$i._id,access_token:0,refresh_token:0}),ps(),kE=!1,ns(),CE(),Qi=!1}function hs(e){var t=Zi.indexOf(Zi[e]);-1<t&&Zi.splice(t,1),0<Zi.length?(kE=!1,CE()):ts(),ps()}function ps(){am("AddUser_UsernameArray",JSON.stringify(Zi))}function vs(e){$i=Zi[0],Zi[0]=Zi[e],Zi[e]=$i,kE=!1,CE()}function gs(e){return-1!==Zi.indexOf(e)}function ys(){return 0<Zi.length}var bs=0,ws=0,ks=!1,Ms=0,Cs={},Es=[],Ss=!1,xs=0,Is=5,Ps=3500,Gs=0,Ls=0,Ts=!1,Bs=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Os=!1,Hs=!1,Us=!1,As=!1,Ns=!1;function Ds(){ru.Main_CenterLablesVectorPos=3,ru.Main_Go=qc,document.body.addEventListener("keydown",io,!1),f_("top_bar_game","icon_center_focus"),l_("label_side_panel","icon-arrow-circle-left",I),ru.Search_isSearching&&(Z_(),h_("top_bar_user",n+$_(m+" '"+ru.Search_data+"'"))),h_("top_bar_game",w+$_(_+": "+ru.Main_gameSelected)),ru.Main_OldgameSelected===ru.Main_gameSelected&&Os?(rf(bs),u_(Bs[10]),E_(ws,bs,xu,Ms),eo(),j_()):qs()}function Fs(){Os&&-1===bs&&(ao(),ws=bs=0,f_(Bs[0]+"0_"+ws,zu)),l_("label_side_panel","icon-ellipsis",Hn),h_("top_bar_game",m),document.body.removeEventListener("keydown",io),m_("top_bar_game","icon_center_focus"),c_(Bs[10])}function qs(){null===ru.Main_OldgameSelected&&(ru.Main_OldgameSelected=ru.Main_gameSelected),c_(Bs[10]),v_(),P_(),Ns=Os=!1,af("stream_table_a_game"),Cs={},Ms=Ls=Gs=0,bs=ws=0,ks=!(Wf=!(Hs=!(Es=[]))),C_(),Rs(),Vs()}function Rs(){of(),Ss=!0,xs=0,Ps=3500}function Vs(){var e=Ms+Gs;e&&Ls-1<e&&(e=Ls-Su,ks=!0),lm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(ru.Main_gameSelected)+"&limit="+Su+"&offset="+e+(""!==gu?"&language="+gu:""),Ps,2,null,Js,zs)}function zs(){++xs<Is?(Ps+=500,Vs()):(Ss=!1,Ms?(ks=!0,Xs()):(Wf=!1,g_(),I_(L)))}function Js(e){var t=JSON.parse(e),n=t.streams.length;Ls=parseInt(t._total),n<Su&&(ks=!0);var a=Ms;Ts=!(Ms+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,r,l,c,u=0;if(!Ns){var _;for(Ns=!0,d=document.createElement("tr"),r=0;r<3;r++)_=r?1===r?'<i class="icon-movie stream_channel_fallow_icon"></i>'+va+A:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+Kt,(pu=document.createElement("td")).setAttribute("id",Bs[8]+"y_"+r),pu.className="stream_cell",pu.innerHTML='<div id="'+Bs[0]+"y_"+r+'" class="stream_thumbnail_fallow_game" ><div id="'+Bs[3]+"y_"+r+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_a_game").appendChild(d)}for(r=0;r<i;r++){for(o=a/xu+r,d=document.createElement("tr"),s=0;s<xu&&u<n;s++,u++)c=(l=t.streams[u]).channel._id,Cs[c]?s--:(Cs[c]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,c],Bs,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+mv(l.created_at)+b+", "+v+D_(l.viewers)+R,F_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)ks&&!Hs&&(Hs=!0,Ms=o*xu+s),d.appendChild(uf(Bs[9]+o+"_"+s)),Es.push(Bs[9]+o+"_"+s);document.getElementById("stream_table_a_game").appendChild(d)}Xs()}function Xs(){Uf(function(){if(Os){if(sf(t_),0<Es.length&&!ks)return Rs(),void Zs();E_(ws,bs,xu,Ms),Es=[]}else g_(),js(),Ts?(I_(T+$),bs=-1,no()):(Os=!0,sf(t_),eo(),j_()),u_(Bs[10]),Wf=!1;Ss=!1})}function js(){As?(Us=!0,Ys()):fs()?zi():(Us=!1,Ys())}function Ys(){h_(Bs[3]+"y_2",Us?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+va+va+Ct:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+va+va+(fs()?Et:Gt))}function Ws(){fs()&&Zi[ru.Users_Position].access_token?Us?qi():Ni():(I_(Lt),window.setTimeout(function(){Ts&&ru.Main_Go===qc?I_(T+$):P_()},2e3))}function Ks(){ws?1===ws?(ru.Main_Go=iu,ru.Main_OldgameSelected=ru.Main_gameSelected,Fs(),X_()):Ws():(ru.Main_Go=au,ru.Main_OldgameSelected=ru.Main_gameSelected,Fs(),X_())}function Zs(){x_(Es.length);var e=Ms+Gs;e&&Ls-1<e&&(e=Ls-Hu,ks=!0),lm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(ru.Main_gameSelected)+"&limit="+Hu+"&offset="+e+(""!==gu?"&language="+gu:""),Ps,2,null,Qs,$s)}function $s(){++xs<Is?(Ps+=500,Zs()):(ks=!0,Ms-=Es.length,Es=[],Xs())}function Qs(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Ls=parseInt(a._total),i<Hu&&(ks=!0);s<Es.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Cs[n]?s--:(Cs[n]=1,pf(Es[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+D_(t.viewers)+R,F_(t.video_height,t.average_fps,t.channel.language)],Bs),d.push(s));for(s=d.length-1;-1<s;s--)Es.splice(d[s],1);Gs+=o,ks&&(Ms-=Es.length,Es=[]),Xs()}function eo(){bs<0?no():(Ef(bs,ws,Bs,xu,Ms),Ms/xu<bs+Iu&&!ks&&!Ss&&(Rs(),Vs()),uu&&to())}function to(){-1<bs&&Ms?Bf(bs+"_"+ws,Bs):ao()}function no(){f_(Bs[0]+"y_"+ws,zu)}function ao(){m_(Bs[0]+"y_"+ws,zu)}function io(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(ru.Main_OldgameSelected=ru.Main_gameSelected,to(),ao(),Zf(io));break;case Pa:if(-1===bs)ao(),--ws<0&&(ws=2),no();else if(bs||ws){if(R_(bs,ws-1,Bs[0]))to(),ws--,eo();else for(t=xu-1;-1<t;t--)if(R_(bs-1,t,Bs[0])){to(),bs--,ws=t,eo();break}}else to(),ao(),bs=-1,ws=2,no();break;case La:-1===bs?(ao(),2<++ws?(ws=0,Ts?no():(bs=0,eo())):no()):R_(bs,ws+1,Bs[0])?(to(),ws++,eo()):R_(bs+1,0,Bs[0])&&(to(),bs++,ws=0,eo());break;case Ga:if(-1!==bs||Ts)if(bs){for(t=0;t<xu;t++)if(R_(bs-1,ws-t,Bs[0])){to(),bs--,ws-=t,eo();break}}else to(),bs=-1,no();else bs=0,ao(),eo();break;case Ta:if(-1!==bs||Ts){for(t=0;t<xu;t++)if(R_(bs+1,ws-t,Bs[0])){to(),bs++,ws-=t,eo();break}}else bs=0,ao(),eo();break;case Ia:case Ca:qs();break;case ka:ru.Search_isSearching||(ru.Main_Before=qc,ru.Main_Go=tu,ru.Main_OldgameSelected=ru.Main_gameSelected,Fs(),X_());break;case Ma:ru.Search_isSearching||(ru.Main_Before=qc,ru.Main_Go=su,Fs(),X_());break;case Sa:case Ea:case xa:case Ba:-1!==bs?xf(bs+"_"+ws,Bs,io):Ks();break;case Oa:Vf(io);break;case Ha:Fs(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=qc,ru.Main_Go=Jc,ru.Main_OldgameSelected=ru.Main_gameSelected,Fs(),X_()}}var so=0,oo=0,ro=!1,lo=0,co={},uo=[],_o=!1,fo=0,mo=5,ho=3500,po=0,vo=0,go=!1,yo=!1,bo="week",wo=2,ko=!1,Mo=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],Co=!1,Eo=!1,So="";function xo(){ru.Main_CenterLablesVectorPos=3,ru.Main_Go=au,f_("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ro,!1),l_("label_side_panel","icon-arrow-circle-left",I),So===ru.Main_gameSelected&&Co?(rf(so),u_(Mo[10]),E_(oo,so,xu,lo),Vo(),No(),j_()):Po()}function Io(){Co&&Do(),document.body.removeEventListener("keydown",Ro),m_("top_bar_game","icon_center_focus"),h_("top_bar_game",m),l_("label_side_panel","icon-ellipsis",Hn),l_("label_switch","icon-switch",r),c_(Mo[10])}function Po(){Co&&Do(),c_(Mo[10]),v_(),Vo(),So=ru.Main_gameSelected,P_(),Co=!1,af("stream_table_a_game_vod"),ko=!1,vo=po=0,co={},so=oo=lo=0,ro=!(Wf=!(yo=!(uo=[]))),C_(),Go(),Lo()}function Go(){of(),_o=!0,fo=0,ho=3500}function Lo(){var e=lo+po;e&&vo-1<e&&(e=vo-Su,ro=!0),lm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(ru.Main_gameSelected)+"&limit="+Su+"&broadcast_type="+(Eo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+bo+(""!==gu?"&language="+gu:""),ho,2,null,Bo,To)}function To(){++fo<mo?(ho+=500,Lo()):(_o=!1,lo?(ro=!0,Oo()):(Wf=!1,g_(),I_(L)))}function Bo(e){var t=JSON.parse(e),n=t.vods.length;vo=parseInt(t._total),n<Su&&(ro=!0);var a=lo;go=!(lo+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,r,l,c=0;if(!ko){var u;for(ko=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+Mo[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+Mo[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_a_game_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.vods[c])._id,-1!==(r.preview.template+"").indexOf("404_processing")||co[l]?s--:(co[l]=1,d.appendChild(ax(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[r.preview.template.replace("{width}x{height}",Ru),r.channel.display_name,D+Q_(r.created_at),IM.parse(r.title)+na+Yt+p+r.game,D_(r.views)+q,F_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),F+_v(r.length),r.animated_preview_url],Mo)));for(;s<xu;s++)ro&&!yo&&(yo=!0,lo=o*xu+s),d.appendChild(uf(Mo[9]+o+"_"+s)),uo.push(Mo[9]+o+"_"+s);document.getElementById("stream_table_a_game_vod").appendChild(d)}Oo()}function Oo(){Uf(function(){if(Co?sf(t_):(g_(),go?I_(T+(Eo?U:H)+B+x):(Co=!0,sf(t_),No(),j_()),u_(Mo[10]),Wf=!1),0<uo.length&&!ro)return Go(),void Ho();E_(oo,so,xu,lo),_o=!(uo=[])})}function Ho(){x_(uo.length);var e=lo+po;e&&vo-1<e&&(e=vo-Hu,ro=!0),lm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(ru.Main_gameSelected)+"&limit="+Hu+"&broadcast_type="+(Eo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+bo+(""!==gu?"&language="+gu:""),ho,2,null,Ao,Uo)}function Uo(){++fo<mo?(ho+=500,Ho()):(ro=!0,uo=[],Oo())}function Ao(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(vo=parseInt(a._total);s<uo.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||co[n]?s--:(co[n]=1,sx(uo[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,D+Q_(t.created_at),IM.parse(t.title)+na+Yt+p+t.game,D_(t.views)+q,F_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),F+_v(t.length),t.animated_preview_url],Mo),d.push(s));for(s=d.length-1;-1<s;s--)uo.splice(d[s],1);po+=o,ro&&(lo-=uo.length,uo=[]),Oo()}function No(){so<0?Fo():(Ef(so,oo,Mo,xu,lo),hx(Mo,so+"_"+oo),lo/xu<so+Iu&&!ro&&!_o&&(Go(),Lo()),uu&&Do())}function Do(){window.clearInterval(xS),-1<so&&lo?(u_(Mo[1]+so+"_"+oo),Bf(so+"_"+oo,Mo)):qo()}function Fo(){var e=1<oo?1:oo;f_(Mo[0]+"y_"+e,zu)}function qo(){var e=1<oo?1:oo;m_(Mo[0]+"y_"+e,zu)}function Ro(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(Do(),Zf(Ro));break;case Pa:if(-1===so)qo(),--oo<0&&(oo=1),Fo();else if(so||oo){if(R_(so,oo-1,Mo[0]))Do(),oo--,No();else for(t=xu-1;-1<t;t--)if(R_(so-1,t,Mo[0])){Do(),so--,oo=t,No();break}}else Do(),qo(),so=-1,oo=1,Fo();break;case La:-1===so?(qo(),1<++oo?(oo=0,go?Fo():(so=0,No())):Fo()):R_(so,oo+1,Mo[0])?(Do(),oo++,No()):R_(so+1,0,Mo[0])&&(Do(),so++,oo=0,No());break;case Ga:if(-1!==so||go)if(so){for(t=0;t<xu;t++)if(R_(so-1,oo-t,Mo[0])){Do(),so--,oo-=t,No();break}}else Do(),so=-1,Fo();else so=0,qo(),No();break;case Ta:if(-1!==so||go){for(t=0;t<xu;t++)if(R_(so+1,oo-t,Mo[0])){Do(),so++,oo-=t,No();break}}else so=0,qo(),No();break;case ka:4<++wo&&(wo=1),Po();break;case Ma:--wo<1&&(wo=4),Po();break;case Ia:case Ca:am("AGameVod_highlight",(Eo=!Eo)?"true":"false"),Po();break;case Sa:case Ea:case xa:case Ba:-1===so?(0===oo?am("AGameVod_highlight",(Eo=!Eo)?"true":"false"):4<++wo&&(wo=1),Po()):Gf(so+"_"+oo,Mo,Ro);break;case Oa:Vf(Ro);break;case Ha:Io(),tf();break;case Ua:O_();break;case Aa:ru.Search_isSearching||(ru.Main_BeforeSearch=au),ru.Main_Go=Jc,Io(),X_()}}function Vo(){1===wo?(h_("top_bar_game",w+$_((Eo?U:H)+re+": "+ru.Main_gameSelected)),bo="day"):2===wo?(h_("top_bar_game",w+$_((Eo?U:H)+le+": "+ru.Main_gameSelected)),bo="week"):3===wo?(h_("top_bar_game",w+$_((Eo?U:H)+ce+": "+ru.Main_gameSelected)),bo="month"):4===wo&&(h_("top_bar_game",w+$_((Eo?U:H)+ue+": "+ru.Main_gameSelected)),bo="all"),am("AGameVod_periodNumber",wo)}var zo,Jo,Xo=0,jo=0,Yo=!1,Wo=0,Ko=0,Zo=5,$o=3500,Qo=0,ed=!1,td=!1,nd=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],ad=!1,id="",sd=null,od="",dd="",rd="",ld="",cd="",ud={};function _d(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Yc,Jo&&!ru.Search_isSearching&&ru.Main_selectedChannel_id&&Ud(),id!==ru.Main_selectedChannel&&(ad=!1),Z_(),ru.Main_selectedChannelDisplayname=ru.Main_selectedChannelDisplayname.replace(W,""),p_("top_bar_user",ru.Main_selectedChannelDisplayname),p_("top_bar_game",Ot),document.body.addEventListener("keydown",Ad,!1),Za=!1,ad?(rf(Xo),u_(nd[10]),Ld(),Td(),j_()):md()}function fd(){K_(),document.body.removeEventListener("keydown",Ad),c_(nd[10])}function md(){c_(nd[10]),v_(),P_(),id=ru.Main_selectedChannel,ed=ad=!1,af("stream_table_channel_content"),ld="",Yo=!1,zo=void(Xo=jo=Wo=Qo=0),hd(),pd()}function hd(){Wf=!0,Ko=0,$o=3500}function pd(){lm("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==zo?zo:ru.Main_selectedChannel_id),$o,2,null,vd,gd)}function vd(e){null!==JSON.parse(e).stream?(sd=e,hd(),kd()):zo?(sd=null,hd(),kd()):(hd(),yd())}function gd(){++Ko<Zo?($o+=500,pd()):(sd=null,hd(),kd())}function yd(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(ru.Main_selectedChannel_id);if(Ku){if(!(e=Android.mreadUrl(t,$o,1,null)))return void bd();200===(e=JSON.parse(e)).status?wd(e.responseText):bd()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=$o,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void wd(e.responseText);bd()}},e.send(null)}function bd(){++Ko<Zo?($o+=500,yd()):(sd=null,hd(),kd())}function wd(e){var t=JSON.parse(e);void 0!==(zo=t.hosts[0].target_id)?(hd(),pd()):(sd=null,hd(),kd())}function kd(){lm("https://api.twitch.tv/kraken/channels/"+ru.Main_selectedChannel_id,Zg,2,null,Md,Cd)}function Md(e){var t=JSON.parse(e);od=t.views,dd=t.followers,rd=t.description,ru.Main_selectedChannelLogo=t.logo,Ed()}function Cd(){++Ko<Zo?($o+=500,kd()):(rd=dd=od="",ru.Main_selectedChannelLogo=e_,Ed())}function Ed(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((pu=document.createElement("tr")).className="follower_header",pu.innerHTML='<div class="follower_header">'+IM.parse(rd)+"</div>",document.getElementById("stream_table_channel_content").appendChild(t),document.getElementById("stream_table_channel_content").appendChild(pu),null!==sd){var a=JSON.parse(sd);if(null!==a.stream){var i=void 0!==zo?ru.Main_selectedChannelDisplayname+ae:"",s=a.stream;e.appendChild(Sd("0_"+n,s.channel.name,s.preview.template,IM.parse(s.channel.status),s.game,q_(JSON.stringify(s.stream_type))+i+s.channel.display_name,y+mv(s.created_at)+b+", "+v+D_(s.viewers)+R,F_(s.video_height,s.average_fps,s.channel.language))),n++}else ed=!0}else ed=!0;e.appendChild(xd("0_"+n,ru.Main_selectedChannelDisplayname,ru.Main_selectedChannelDisplayname+H,"movie-play")),n++,e.appendChild(xd("0_"+n,ru.Main_selectedChannelDisplayname,ru.Main_selectedChannelDisplayname+A,"movie")),n<2&&(n++,e.appendChild(uf(nd[9]+"0_"+n))),document.getElementById("stream_table_channel_content").appendChild(e),(e=document.createElement("tr")).appendChild(Id("1_0",ru.Main_selectedChannelDisplayname,ru.Main_selectedChannelDisplayname,ru.Main_selectedChannelLogo)),document.getElementById("stream_table_channel_content").appendChild(e),Gd()}function Sd(e,t,n,a,i,s,o,d){return ld=n.replace("{width}x{height}",Ru),(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><img id="'+nd[1]+e+'" class="stream_img"></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==zo?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+va+s+'</div><div id="'+nd[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+nd[4]+e+'"class="stream_info">'+a+'</div><div id="'+nd[5]+e+'"class="stream_info">'+p+i+'</div><div id="'+nd[6]+e+'"class="stream_info">'+o+"</div></div>",pu}function xd(e,t,n,a){return(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><div id="'+nd[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",pu}function Id(e,t,n,a){return cd=a,(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+nd[1]+e+'" class="stream_img_fallow"></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel">'+n+'</div><div id="'+nd[5]+e+'"class="stream_info">'+D_(od)+q+'</div><div id="'+nd[6]+e+'"class="stream_info" >'+D_(dd)+At+"</div></div>",pu}function Pd(){Wa?(h_("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),p_(nd[3]+"1_0",ru.Main_selectedChannelDisplayname+Ct)):(h_("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),fs()?p_(nd[3]+"1_0",ru.Main_selectedChannelDisplayname+Et):p_(nd[3]+"1_0",ru.Main_selectedChannelDisplayname+Nt))}function Gd(){Uf(function(){ad||(g_(),ad=!0,""!==ld&&a_(document.getElementById(nd[1]+"0_0"),ld,t_),a_(document.getElementById(nd[1]+"1_0"),cd,e_),Td(),j_(),u_(nd[10])),Ld(),Wf=!1})}function Ld(){td?Pd():fs()?($a=ru.Main_selectedChannel_id,Za=!1,yi()):(Wa=!1,Pd())}function Td(){f_(nd[0]+Xo+"_"+(Xo?0:jo),zu),uu&&Bd(),bf()}function Bd(){Bf(Xo+"_"+(Xo?0:jo),nd)}function Od(){if(Xo)fs()&&Zi[ru.Users_Position].access_token?(Za=!1,$a=ru.Main_selectedChannel_id,Wa?xi():Ci()):(I_(Lt),window.setTimeout(P_,2e3));else{document.body.removeEventListener("keydown",Ad),c_(nd[10]);var e=ed?1:0;jo===0-e?(ru.Play_selectedChannel=document.getElementById(nd[8]+Xo+"_"+jo).getAttribute(Ju),ru.Play_selectedChannelDisplayname=document.getElementById(nd[3]+Xo+"_"+jo).textContent,-1!==ru.Play_selectedChannelDisplayname.indexOf(ae)?(ru.Play_isHost=!0,ru.Play_DisplaynameHost=ru.Play_selectedChannelDisplayname,ru.Play_selectedChannelDisplayname=ru.Play_selectedChannelDisplayname.split(ae)[1],ru.Play_selectedChannel_id=zo):ru.Play_selectedChannel_id=ru.Main_selectedChannel_id,ru.Play_gameSelected=document.getElementById(nd[5]+Xo+"_"+jo).textContent.split(p)[1],Uf(If)):jo===1-e?Uf(cr):jo===2-e&&(bb=Jb,Uf(Eb))}}function Hd(){ud={"Main_values.Main_selectedChannel_id":ru.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":ru.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":ru.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":ru.Main_selectedChannelDisplayname,ChannelContent_UserChannels:td,"Main_values.Main_BeforeChannel":ru.Main_BeforeChannel}}function Ud(){ru.Main_selectedChannel_id=ru.Main_selectedChannel_id,ru.Main_selectedChannelLogo=ru.Main_selectedChannelLogo,ru.Main_selectedChannel=ru.Main_selectedChannel,ru.Main_selectedChannelDisplayname=ru.Main_selectedChannelDisplayname,td=ud.ChannelContent_UserChannels,ru.Main_BeforeChannel=ru.Main_BeforeChannel,Jo=!(ud={})}function Ad(e){if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(Bd(),Zf(Ad));break;case Pa:Xo||(Bd(),--jo<0&&(jo=ed?1:2),Td());break;case La:Xo||(Bd(),(ed?1:2)<++jo&&(jo=0),Td());break;case Ga:case Ta:Bd(),Xo=Xo?0:1,Td();break;case Ia:case Ca:md();break;case Sa:case Ea:case xa:case Ba:Od();break;case Oa:Vf(Ad);break;case Ha:fd(),tf();break;case Ua:O_();break;case Aa:ru.Search_isSearching||(Jo=!0,Hd(),ru.Main_BeforeSearch=Yc),ru.Main_Go=Jc,fd(),X_()}}var Nd=0,Dd=0,Fd=!1,qd=0,Rd={},Vd=[],zd=!1,Jd=0,Xd=5,jd=3500,Yd=0,Wd=0,Kd=0,Zd=!1,$d=!1,Qd="",er=!1,tr=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],nr=!1,ar=!1,ir="",sr="",or="",dr="",rr="",lr=0;function cr(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Wc,!ru.Search_isSearching&&ru.Main_selectedChannel_id&&Ud(),ru.Main_selectedChannel!==ir&&(nr=!1),Z_(),l_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",ru.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",Er,!1),nr?(rf(Nd),p_("top_bar_game",ar?U:H),u_(tr[10]),E_(Dd,Nd,xu,qd),wr(),j_()):_r()}function ur(){nr&&kr(),K_(),document.body.removeEventListener("keydown",Er),c_(tr[10])}function _r(){nr&&kr(),p_("top_bar_game",ar?U:H),c_(tr[10]),v_(),P_(),ir=ru.Main_selectedChannel,nr=!1,af("stream_table_channel_vod"),Wd=Yd=0,er=!1,Rd={},Nd=Dd=qd=0,Fd=!(Wf=!($d=!(Vd=[]))),C_(),fr(),mr()}function fr(){of(),zd=!0,Jd=0,jd=3500}function mr(){var e=qd+Yd;e&&Wd-1<e&&(e=Wd-Su,Fd=!0),lm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(ru.Main_selectedChannel_id)+"/videos?limit="+Su+"&broadcast_type="+(ar?"highlight":"archive")+"&sort=time&offset="+e,jd,2,null,pr,hr)}function hr(){++Jd<Xd?(jd+=500,mr()):(zd=!1,qd?(Fd=!0,vr()):(Wf=!1,g_(),I_(L)))}function pr(e){var t=JSON.parse(e),n=t.videos.length;Wd=parseInt(t._total),n<Su&&(Fd=!0);var a=qd;Zd=!(qd+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,r,l,c,u,_=0;if(!er){er=!0,d=document.createElement("tr");var f='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h;(pu=document.createElement("td")).setAttribute("id",tr[8]+"y_0"),pu.className="stream_cell",pu.innerHTML='<div id="'+tr[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+tr[3]+'y_0" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(pu),document.getElementById("stream_table_channel_vod").appendChild(d)}for(var m=0;m<i;m++){for(o=a/xu+m,d=document.createElement("tr"),s=0;s<xu&&_<n;s++,_++)l=(r=t.videos[_])._id,c=-1!==((u=r.preview.template)+"").indexOf("404_processing"),o||s||!c||(c=!1,u=t_),c||Rd[l]?s--:(Rd[l]=1,d.appendChild(ax(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[u.replace("{width}x{height}",Ru),IM.parse(r.title),D+Q_(r.created_at),Yt+p+r.game,D_(r.views)+q,F_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),F+_v(r.length),r.animated_preview_url],tr)));for(;s<xu;s++)Fd&&!$d&&($d=!0,qd=o*xu+s),d.appendChild(uf(tr[9]+o+"_"+s)),Vd.push(tr[9]+o+"_"+s);document.getElementById("stream_table_channel_vod").appendChild(d)}vr()}function vr(){Uf(function(){if(nr?sf(t_):(g_(),Zd?I_(T+(ar?U:H)+B+x):(nr=!0,sf(t_),wr(),j_()),u_(tr[10]),Wf=!1),0<Vd.length&&!Fd)return fr(),void gr();E_(Dd,Nd,xu,qd),zd=!(Vd=[])})}function gr(){x_(Vd.length);var e=qd+Yd;e&&Wd-1<e&&(e=Wd-Hu,Fd=!0),lm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(ru.Main_selectedChannel_id)+"/videos?limit="+Hu+"&broadcast_type="+(ar?"highlight":"archive")+"&sort=time&offset="+e,jd,2,null,br,yr)}function yr(){++Jd<Xd?(jd+=500,gr()):(Fd=!0,qd-=Vd.length,Vd=[],vr())}function br(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for(Wd=parseInt(a._total);s<Vd.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Rd[n]?s--:(Rd[n]=1,sx(Vd[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),IM.parse(t.title),D+Q_(t.created_at),Yt+p+t.game,D_(t.views)+q,F_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),F+_v(t.length),t.animated_preview_url],tr),d.push(s));for(s=d.length-1;-1<s;s--)Vd.splice(d[s],1);Yd+=o,Fd&&(qd-=Vd.length,Vd=[]),vr()}function wr(){Nd<0?Mr():(Ef(Nd,Dd,tr,xu,qd),hx(tr,Nd+"_"+Dd),qd/xu<Nd+Iu&&!Fd&&!zd&&(fr(),mr()),uu&&kr())}function kr(){window.clearInterval(xS),-1<Nd&&qd?(u_(tr[1]+Nd+"_"+Dd),Bf(Nd+"_"+Dd,tr)):Cr()}function Mr(){f_(tr[0]+"y_0",zu)}function Cr(){m_(tr[0]+"y_0",zu)}function Er(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(kr(),Zf(Er));break;case Pa:if(R_(Nd,Dd-1,tr[0]))kr(),Dd--,wr();else for(t=xu-1;-1<t;t--)if(R_(Nd-1,t,tr[0])){kr(),Nd--,Dd=t,wr();break}break;case La:R_(Nd,Dd+1,tr[0])?(kr(),Dd++,wr()):R_(Nd+1,0,tr[0])&&(kr(),Nd++,Dd=0,wr());break;case Ga:if(-1!==Nd||Zd)if(Nd){for(t=0;t<xu;t++)if(R_(Nd-1,Dd-t,tr[0])){kr(),Nd--,Dd-=t,wr();break}}else kr(),Nd=-1,Mr();else Nd=0,Cr(),wr();break;case Ta:if(-1!==Nd||Zd){for(t=0;t<xu;t++)if(R_(Nd+1,Dd-t,tr[0])){kr(),Nd++,Dd-=t,wr();break}}else Nd=0,Cr(),wr();break;case ka:case Ma:am("ChannelVod_highlight",(ar=!ar)?"true":"false"),_r();break;case Ia:case Ca:_r();break;case Sa:case Ea:case xa:case Ba:-1===Nd?(am("ChannelVod_highlight",(ar=!ar)?"true":"false"),_r()):Gf(Nd+"_"+Dd,tr,Er);break;case Oa:Vf(Er);break;case Ha:ur(),tf();break;case Ua:O_();break;case Aa:ru.Search_isSearching||(Hd(),ru.Main_BeforeSearch=Wc),ru.Main_Go=Jc,ur(),X_()}}var Sr,xr,Ir,Pr,Gr,Lr=!1,Tr=0,Br=[],Or=[],Hr=10,Ur=null,Ar=0,Nr="",Dr=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],Fr=Dr.length,qr=0,Rr=!1,Vr=0;function zr(){Pr=document.getElementById("chat_box"),Yr()}function Jr(){cl(),Ku&&ru.Play_ChatForceDisable?(Lr||Yr(),Uf(function(){$r(Vr=(new Date).getTime())})):pl()}function Xr(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function jr(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?document.head.appendChild(i):Pr.appendChild(i)}function Yr(){Tr=0,Lr=!1,Wr()}function Wr(){lm("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Zr,Kr)}function Kr(){++Tr<Hr?Wr():Lr=!1}function Zr(e){Xr(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){jr(t.type,e.type,e.image_url_4x,!0)})}),Lr=!0}function $r(e){Tr=0,Qr(e)}function Qr(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+ru.Main_selectedChannel_id+"/display";if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Vr===e&&el(e));if(200===(t=JSON.parse(t)).status)return void(Vr===e&&tl(t.responseText,e));Vr===e&&el(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Vr===e&&tl(t.responseText,e));Vr===e&&el(e)}},t.send(null)}function el(e){Tr++,Vr===e&&(Tr<Hr?Qr(e):Gr=window.setTimeout(function(){Qr(e)},2500))}function tl(e,t){Xr(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){jr(t.type,e.type,e.image_url_4x,!1)})}),Vr===t&&nl(t)}function nl(e){Tr=0,Vr===e&&al(e)}function al(e){var t,n="https://api.twitch.tv/v5/videos/"+ru.ChannelVod_vodId+"/comments?client_id="+Uu+(Ar?"&content_offset_seconds="+parseInt(Ar):"");if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Vr===e&&il(e));if(200===(t=JSON.parse(t)).status)return void(Vr===e&&sl(t.responseText,e));Vr===e&&il(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Vr===e&&sl(t.responseText,e));Vr===e&&il(e)}},t.send(null)}function il(e){Tr++,Vr===e&&(Tr<Hr?al(e):xr=window.setTimeout(function(){al(e)},2500))}function sl(e,t){e=JSON.parse(e);var n,a,i=null===Ur;i&&(n="&nbsp;",n+='<span class="message">',n+=na+gn+ru.Main_selectedChannelDisplayname+" "+Nr,ol(n+="</span>",0)),Ar=0,Ur=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Dr[e.commenter.display_name.charCodeAt(0)%Fr]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=IM.parse(e.text)}),n+="</span>",i?ol(n,e.content_offset_seconds):void 0!==Ur&&dl(n,e.content_offset_seconds)}),i&&Vr===t&&(rl(t),void 0!==Ur&&_l(t))}function ol(e,t){Br.push({time:t,message:e})}function dl(e,t){Or.push({time:t,message:e})}function rl(e){Rr||Vr!==e||(Sr=window.setInterval(function(){ul(e),Pr.scrollTop=Pr.scrollHeight},1e3))}function ll(){Rr||(window.clearInterval(Gr),window.clearInterval(Sr),window.clearInterval(xr),window.clearInterval(Ir))}function cl(){ll(),Vr=0,af("chat_box"),Rr=!1,Ur=null,Br=[],Or=[],qr=0}function ul(e){var t,n;if(qr<Br.length-1)for(n=qr;n<Br.length&&Br[n].time<lr+Android.gettime()/1e3;n++,qr++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Br[n].message,Pr.appendChild(t);else if(ll(),void 0!==Ur){Br=Or.slice(),qr=0,rl(e),Or=[],Vr===e&&_l(e);var a=document.getElementsByClassName("chat_line");if(0<a.length-100)for(n=0;n<a.length-100;n++)a[0].parentNode.removeChild(a[0]);Pr.scrollTop=Pr.scrollHeight}else{var i="&nbsp;";i+='<span class="message">',i+=na+na+kn+na+na,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Pr.appendChild(t),Rr=!0,Pr.scrollTop=Pr.scrollHeight,window.clearInterval(Sr),Sr=window.setInterval(function(){Pr.scrollTop=Pr.scrollHeight},250)}}function _l(e){Tr=0,Rr||Vr!==e||fl(e)}function fl(e){var t,n="https://api.twitch.tv/v5/videos/"+ru.ChannelVod_vodId+"/comments?client_id="+Uu+(null!==Ur?"&cursor="+Ur:"");if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Rr||Vr!==e||ml(e));if(200===(t=JSON.parse(t)).status)return void(Rr||Vr!==e||sl(t.responseText,e));Rr||Vr!==e||ml(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Rr||Vr!==e||sl(t.responseText,e));Rr||Vr!==e||ml(e)}},t.send(null)}function ml(e){Tr++,Vr===e&&(Tr<Hr?fl(e):Ir=window.setTimeout(function(){fl(e)},2500))}function hl(){Vr=0,vl(on+na+dn)}function pl(){cl(),c_("chat_frame"),u_("chat_box"),vl(Kn)}function vl(e){var t="&nbsp;";t+='<span class="message">',t+=na+na+na+na+na+na+na+na+na+na,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Pr.appendChild(n)}var gl=!1,yl=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_","featured_scroll"],bl=0,wl=0,kl=!1,Ml=0,Cl={},El=!1,Sl=0,xl=5,Il=3500,Pl=[],Gl=0,Ll=0,Tl=!1,Bl=0,Ol=!1;function Hl(){ru.Main_CenterLablesVectorPos=2,ru.Main_Go=su,f_("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Yl,!1),gl?(rf(bl),u_(yl[10]),E_(wl,bl,xu,Ml),Xl(),j_()):Al()}function Ul(){document.body.removeEventListener("keydown",Yl),m_("top_bar_featured","icon_center_focus"),c_(yl[10])}function Al(){c_(yl[10]),v_(),P_(),gl=!1,af("stream_table_featured"),Wf=!(Tl=!(Pl=[])),Bl=bl=wl=Ml=Ll=Gl=0,kl=!(Cl={}),C_(),Nl(),Dl()}function Nl(){of(),El=!0,Sl=0,Il=3500}function Dl(){var e=new XMLHttpRequest,t=Ml+Gl;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+Su+"&offset="+t+(fs()&&Zi[ru.Users_Position].access_token?"&oauth_token="+Zi[ru.Users_Position].access_token:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Il,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ql(e.responseText);Fl()}},e.send(null)}function Fl(){++Sl<xl?(Il+=500,Dl()):(El=!1,Ml?(kl=!0,Rl()):(Wf=!1,g_(),I_(L)))}function ql(e){var t=JSON.parse(e),n=t.featured.length;Ll=parseInt(t._total),n<Su&&(kl=!0);var a=Ml;Ol=!(Ml+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.featured[c].stream).channel._id,Cl[l]?s--:(Cl[l]=1,d.appendChild(hf(o,o+"_"+s,[r.channel.name,l],yl,[r.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+mv(r.created_at)+b+", "+v+D_(r.viewers)+R,F_(r.video_height,r.average_fps,r.channel.language)])));for(;s<xu;s++)kl&&!Tl&&(Tl=!0,Ml=o*xu+s),d.appendChild(uf(yl[9]+o+"_"+s)),Pl.push(yl[9]+o+"_"+s);document.getElementById("stream_table_featured").appendChild(d)}Rl()}function Rl(){Uf(function(){if(gl){if(sf(t_),0<Pl.length&&!kl)return Nl(),void Vl();E_(wl,bl,xu,Ml),Pl=[]}else g_(),Ol?I_(T+K):(gl=!0,sf(t_),Xl(),j_()),u_(yl[10]),Wf=!1;El=!1})}function Vl(){var e=new XMLHttpRequest;x_(Pl.length);var t=Ml+Gl;e.open("GET","https://api.twitch.tv/kraken/streams/featured?limit="+Hu+"&offset="+t+(fs()&&Zi[ru.Users_Position].access_token?"&oauth_token="+Zi[ru.Users_Position].access_token:"")+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Il,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Jl(e.responseText);zl()}},e.send(null)}function zl(){++Sl<xl?(Il+=500,Vl()):(kl=!0,Ml-=Pl.length,Pl=[],Rl())}function Jl(e){var t,n,a=JSON.parse(e),i=a.featured.length,s=0,o=0,d=[];for(i<Hu&&(kl=!0);s<Pl.length&&o<i;s++,o++)n=(t=a.featured[o].stream).channel._id,Cl[n]?s--:(Cl[n]=1,pf(Pl[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+D_(t.viewers)+R,F_(t.video_height,t.average_fps,t.channel.language)],yl),d.push(s));for(s=d.length-1;-1<s;s--)Pl.splice(d[s],1);Gl+=o,kl&&(Ml-=Pl.length,Pl=[]),Rl()}function Xl(){Ef(bl,wl,yl,xu,Ml),Ml/xu<bl+Iu&&!kl&&!El&&(Nl(),Dl()),uu&&jl()}function jl(){Ml&&Bf(bl+"_"+wl,yl)}function Yl(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(jl(),Zf(Yl));break;case Pa:if(R_(bl,wl-1,yl[0]))jl(),wl--,Xl();else for(t=xu-1;-1<t;t--)if(R_(bl-1,t,yl[0])){jl(),bl--,wl=t,Xl();break}break;case La:R_(bl,wl+1,yl[0])?(jl(),wl++,Xl()):R_(bl+1,0,yl[0])&&(jl(),bl++,wl=0,Xl());break;case Ga:for(t=0;t<xu;t++)if(R_(bl-1,wl-t,yl[0])){jl(),bl--,wl-=t,Xl();break}break;case Ta:for(t=0;t<xu;t++)if(R_(bl+1,wl-t,yl[0])){jl(),bl++,wl-=t,Xl();break}break;case Ia:case Ca:Al();break;case ka:ru.Main_Before=su,ru.Main_Go=Fc,Ul(),X_();break;case Ma:ru.Main_Before=su,ru.Main_Go=ys()?Zc:Dc,Ul(),X_();break;case Sa:case Ea:case xa:case Ba:xf(bl+"_"+wl,yl,Yl);break;case Oa:Vf(Yl);break;case Ha:Ul(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=su,ru.Main_Go=Jc,Ul(),X_()}}var Wl=!1,Kl=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_","live_scroll"],Zl=0,$l=0,Ql=0,ec=!1,tc=0,nc={},ac=!1,ic=0,sc=5,oc=3500,dc=[],rc=0,lc=0,cc=!1,uc=0;function _c(){ru.Main_CenterLablesVectorPos=0,ru.Main_Go=Nc,f_("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",Sc,!1),Wl?(rf(Zl),u_(Kl[10]),E_($l,Zl,xu,tc),Mc(),j_()):mc()}function fc(){document.body.removeEventListener("keydown",Sc),m_("top_bar_live","icon_center_focus"),c_(Kl[10])}function mc(){c_(Kl[10]),v_(),P_(),Wl=!1,af("stream_table_live"),Wf=!(cc=!(dc=[])),uc=Zl=$l=tc=lc=rc=0,ec=!(nc={}),C_(),hc(),pc()}function hc(){of(),ac=!0,ic=0,oc=3500}function pc(){var e=tc+rc;e&&lc-1<e&&(e=lc-Su,ec=!0),lm("https://api.twitch.tv/kraken/streams?limit="+Su+"&offset="+e+(""!==gu?"&language="+gu:""),oc,2,null,gc,vc)}function vc(){++ic<sc?(oc+=500,pc()):(ac=!1,tc?(ec=!0,yc()):(Wf=!1,g_(),I_(L),u_("topbar")))}function gc(e){var t=JSON.parse(e),n=t.streams.length;lc=parseInt(t._total),n<Su&&(ec=!0);var a=tc;tc+=n;var i=n/xu;0<n%xu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.streams[c]).channel._id,nc[l]?s--:(nc[l]=1,d.appendChild(hf(o,o+"_"+s,[r.channel.name,l,r.channel.status],Kl,[r.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+mv(r.created_at)+b+", "+v+D_(r.viewers)+R,F_(r.video_height,r.average_fps,r.channel.language)])));for(;s<xu;s++)ec&&!cc&&(cc=!0,tc=o*xu+s),d.appendChild(uf(Kl[9]+o+"_"+s)),dc.push(Kl[9]+o+"_"+s);document.getElementById("stream_table_live").appendChild(d)}yc()}function yc(){Uf(function(){if(Wl){if(sf(t_),0<dc.length&&!ec)return hc(),void bc();E_($l,Zl,xu,tc),dc=[]}else g_(),u_("topbar"),tc?(Wl=!0,sf(t_),Mc(),ru.Main_WasOpen=!0):I_(T+K),ku&&Wl&&iM.restor_playback.defaultValue&&(ru.Play_WasPlaying||ru.Main_WasOpen)?ru.Play_WasPlaying?(W_(ru.Main_Go),ru.Main_Go=du,ru.vodOffset||(ru.vodOffset=1),Kd=ru.vodOffset+1,Mv(Rn),1===ru.Play_WasPlaying?If():Lf(),X_(),W_(ru.Main_Go),window.setTimeout(function(){Cv()},2e3)):1!==du?(W_(ru.Main_Go),ru.Main_Go=du,Cc(),X_()):(u_(Kl[10]),ru.Never_run&&O_(),ru.Never_run=!1,j_()):(u_(Kl[10]),j_()),Wf=ku=!1;ac=!1})}function bc(){x_(dc.length);var e=tc+rc;e&&lc-1<e&&(e=lc-Hu,ec=!0),lm("https://api.twitch.tv/kraken/streams?limit="+Hu+"&offset="+e+(""!==gu?"&language="+gu:""),oc,2,null,kc,wc)}function wc(){++ic<sc?(oc+=500,bc()):(ec=!0,tc-=dc.length,dc=[],yc())}function kc(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(lc=parseInt(a._total),i<Hu&&(ec=!0);s<dc.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,nc[n]?s--:(nc[n]=1,pf(dc[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+D_(t.viewers)+R,F_(t.video_height,t.average_fps,t.channel.language)],Kl),d.push(s));for(s=d.length-1;-1<s;s--)dc.splice(d[s],1);rc+=o,ec&&(tc-=dc.length,dc=[]),yc()}function Mc(){Ef(Zl,$l,Kl,xu,tc),tc/xu<Zl+Iu&&!ec&&!ac&&(hc(),pc()),uu&&Cc()}function Cc(){tc&&Bf(Zl+"_"+$l,Kl)}function Ec(){m_("exit_app_cancel","button_search_focused"),m_("exit_app_minimize","button_search_focused"),m_("exit_app_close","button_search_focused"),f_(Ql?1===Ql?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Sc(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:N_()?A_():T_()?L_():U_()?H_():(Cc(),Zf(Sc));break;case Pa:if(M_())--Ql<0&&(Ql=2),Ec(),y_(),b_();else if(R_(Zl,$l-1,Kl[0]))Cc(),$l--,Mc();else for(t=xu-1;-1<t;t--)if(R_(Zl-1,t,Kl[0])){Cc(),Zl--,$l=t,Mc();break}break;case La:M_()?(2<++Ql&&(Ql=0),Ec(),y_(),b_()):R_(Zl,$l+1,Kl[0])?(Cc(),$l++,Mc()):R_(Zl+1,0,Kl[0])&&(Cc(),Zl++,$l=0,Mc());break;case Ga:if(!M_())for(t=0;t<xu;t++)if(R_(Zl-1,$l-t,Kl[0])){Cc(),Zl--,$l-=t,Mc();break}break;case Ta:if(!M_())for(t=0;t<xu;t++)if(R_(Zl+1,$l-t,Kl[0])){Cc(),Zl++,$l-=t,Mc();break}break;case Ia:case Ca:mc();break;case ka:ru.Main_Before=Nc,ru.Main_Go=ys()?Zc:Dc,fc(),X_();break;case Ma:ru.Main_Before=Nc,ru.Main_Go=nu,fc(),X_();break;case Sa:case Ea:case xa:case Ba:xf(Zl+"_"+$l,Kl,Sc);break;case Oa:Vf(Sc);break;case Ha:Hc||(dm("Reloading"),window.location.reload(!0));break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=Nc,ru.Main_Go=Jc,fc(),X_()}}var xc,Ic,Pc,Gc,Lc,Tc,Bc,Oc,Hc=!0,Uc=-1,Ac=new Image,Nc=1,Dc=2,Fc=3,qc=4,Rc=5,Vc=6,zc=7,Jc=8,Xc=9,jc=10,Yc=11,Wc=12,Kc=13,Zc=14,$c=15,Qc=16,eu=17,tu=18,nu=19,au=20,iu=21,su=22,ou=23,du="",ru={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Fc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Main_WasOpen:!1,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},lu=!0,cu=!0,uu=!1,_u=[],fu=0,mu=null,hu=!0,pu="",vu=!1,gu="",yu=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],bu=0,wu=!1,ku=!0,Mu=0,Cu=1.35,Eu=1.5,Su=45,xu=3,Iu=Math.floor(Su/xu/Eu),Pu=45,Gu=5,Lu=Math.floor(Pu/Gu/Cu),Tu=48,Bu=6,Ou=Math.floor(Tu/Bu/Eu),Hu=6,Uu="5seja5ptej058mxqy7gh5tcudjqtm9",Au="Client-ID",Nu="Accept",Du="Authorization",Fu="OAuth ",qu="application/vnd.twitchtv.v5+json",Ru="528x297",Vu="340x475",zu="stream_thumbnail_focused",Ju="data_attribute",Xu="1.0",ju="033119",Yu=Xu+"-"+ju,Wu=0,Ku=0,Zu="?"+Math.random(),$u="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Qu=$u+"404_game.png",e_=$u+"404_logo.png",t_=$u+"404_video.png",n_="https://cors-anywhere.herokuapp.com/",a_=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function i_(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){s_(window.navigator.userLanguage||window.navigator.language)}):s_(window.navigator.userLanguage||window.navigator.language)}function s_(e){Of(),Uf(function(){var t=document.body;Hc&&(t.innerHTML=ea);try{Ku=Android.getAndroid()}catch(e){Ku=0,t.style.backgroundColor="rgba(0, 0, 0, 1)"}Uf(function(){pM(),wa(),console.log("language is "+e),ba(),-1!==window.location.href.indexOf("code")&&rm(window.location.href),o_()})})}function o_(){wb(),d_(!0),xc=document.getElementById("scrollbar"),Y_(),du=ru.Main_Go,Uf(function(){Tp(),_s(),document.body.addEventListener("keyup",bf,!1),kb(),_c(),wu=!1,zr(),Lc=window.setTimeout(z_,5e3),document.getElementById("side_panel").style.marginLeft="",ef(),r_(),jS=om("Vod_highlight",!1),ar=om("ChannelVod_highlight",!1),Eo=om("AGameVod_highlight",!1),oS=om("UserVod_highlight",!1),VS=im("vod_periodNumber",2),wo=im("AGameVod_periodNumber",2),nS=im("UserVod_TypeNumber",1),lb(),Ic=document.getElementById("search_input"),Pc=document.getElementById("user_input"),Gc=document.getElementById("oauth_input"),cf(t_),cf(Qu),cf(e_),document.addEventListener("visibilitychange",nf,!1),Tc=window.setInterval(Nf,6e4)})}function d_(e){Nf(),l_("label_refresh",e?"icon-refresh":"icon-arrow-circle-left",e?t+Jt:I),l_("label_switch","icon-switch",r),l_("label_side_panel","icon-ellipsis",Hn),p_("top_bar_live",_),p_("top_bar_user",e?u:a),p_("top_bar_featured",tn),p_("top_bar_game",m),p_("top_bar_vod",Kt),p_("top_bar_clip",A),h_("scene2_search_text",va+n),h_("scene2_channel_text",va+Ot),h_("scene2_game_text",va+Dt),p_("dialog_end_replay_text",$t),p_("dialog_end_vod_text",an),p_("dialog_end_channel_text",Ot),p_("dialog_end_game_text",Dt),h_("dialog_about_text",_a+fa),Bc=[re,le,ce,ue],e?cM():(hM(),ef())}function r_(){p_("play_dialog_exit_text",V),h_("dialog_controls_play_text",ma),p_("side_panel_search",n),p_("side_panel_settings",a),p_("side_panel_about",i),p_("side_panel_controls",e),p_("side_panel_exit",J),p_("side_panel_live",_),p_("side_panel_user",u),p_("side_panel_featured",tn),p_("side_panel_games",m),p_("side_panel_videos",Kt),p_("side_panel_clips",A),p_("side_panel_hide",s),p_("chanel_button",S),p_("game_button",m),p_("live_button",_),p_("exit_app_cancel",Y),p_("exit_app_close",X),p_("remove_cancel",Y),p_("remove_yes",Ft),p_("exit_app_minimize",j),p_("main_dialog_exit_text",z),h_("dialog_controls_text",ua),p_("dialog_vod_text",yn),h_("dialog_vod_start_text",wn)}function l_(e,t,n){h_(e,'<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va+n+"</div>")}function c_(e){document.getElementById(e).classList.add("hide")}function u_(e){document.getElementById(e).classList.remove("hide")}function __(e){return-1===document.getElementById(e).className.indexOf("hide")}function f_(e,t){document.getElementById(e).classList.add(t)}function m_(e,t){document.getElementById(e).classList.remove(t)}function h_(e,t){document.getElementById(e).innerHTML=t}function p_(e,t){document.getElementById(e).textContent=t}function v_(){rf(-1),u_("dialog_loading")}function g_(){c_("dialog_loading")}function y_(){window.clearTimeout(mu)}function b_(){mu=window.setTimeout(k_,6e3)}function w_(){b_(),u_("main_dialog_exit"),document.body.addEventListener("keydown",Xf,!1)}function k_(){document.body.removeEventListener("keydown",Xf,!1),Zf(Oc),y_(),c_("main_dialog_exit"),Ql=0,Ec()}function M_(){return __("main_dialog_exit")}function C_(){af("dialog_counter_text"),S_(0,0,0)}function E_(e,t,n,a){0<a?(p_("dialog_counter_text",t*n+(e+1)+"/"+a),S_(t,n,a)):C_()}function S_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=ru.Main_Go===qc||ru.Main_Go===au||ru.Main_Go===iu||ru.Main_Go===Wc||ru.Main_Go===ou||ru.Main_Go===tu||ru.Main_Go===nu||ru.Main_Go===Kc,s=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));xc.style.top=s+"px",hu&&(hu=!1,xc.style.backgroundColor="#777777")}else xc.style.backgroundColor="#000000",xc.style.top=a+"px",hu=!0}function x_(e){(Hu=12)/3<e&&(Hu=3*e),99<Hu&&(Hu=99)}function I_(e){p_("dialog_warning_text",e),u_("dialog_warning")}function P_(){c_("dialog_warning")}function G_(){H_(),A_(),u_("dialog_about")}function L_(){c_("dialog_about")}function T_(){return __("dialog_about")}function B_(){H_(),A_(),P_(),W_(ru.Main_Go),C_(),rM()}function O_(){L_(),A_(),u_("dialog_controls")}function H_(){c_("dialog_controls")}function U_(){return __("dialog_controls")}function A_(){c_("dialog_update")}function N_(){return __("dialog_update")}function D_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function F_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function q_(e){return-1!==e.indexOf("live")?"":W}function R_(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function V_(){Nf(),X_(),document.body.addEventListener("keyup",bf,!1)}function z_(){for(var e,t=0;t<yu.length;t++)t<4?document.getElementById(yu[t]).style.opacity="0.5":-1===(e=document.getElementById(yu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");f_("topbar","topbar_dim")}function J_(){for(var e=0;e<yu.length;e++)document.getElementById(yu[e]).style.opacity="1";m_("topbar","topbar_dim")}function X_(e){window.clearTimeout(Lc),J_(),ru.Main_Go!==Yc&&(ru.Main_BeforeChannelisSet=!1),ru.Main_Go!==qc&&(ru.Main_BeforeAgameisSet=!1),C_(),Uf(function(){ru.Main_Go===Nc?_c():ru.Main_Go===Dc?ts():ru.Main_Go===eu?ni():ru.Main_Go===Fc?(bb=jb,Eb()):ru.Main_Go===qc?Ds():ru.Main_Go===Jc?gk():ru.Main_Go===Xc?ak():ru.Main_Go===jc?Vk():ru.Main_Go===Yc?_d():ru.Main_Go===Wc?cr():ru.Main_Go===Kc?(bb=Jb,Eb()):ru.Main_Go===Zc?CE():ru.Main_Go===Rc?QC():ru.Main_Go===Vc?bC():ru.Main_Go===zc?(bb=Yb,Eb()):ru.Main_Go===$c?zM():ru.Main_Go===Qc?Iw():ru.Main_Go===tu?KS():ru.Main_Go===nu?(bb=zb,Eb()):ru.Main_Go===au?xo():ru.Main_Go===iu?(bb=Xb,Eb()):ru.Main_Go===su?Hl():ru.Main_Go===ou?dS():_c(),Lc=window.setTimeout(z_,3e3),e&&tm()})}function j_(){am("Main_values",JSON.stringify(ru))}function Y_(){ru=Cb(ru,sm("Main_values",{}))}function W_(e){e===Nc?fc():e===Dc?ns():e===eu?ai():e===Fc?Sb():e===qc?Fs():e===Jc?yk():e===Xc?ik():e===jc?zk():e===Yc?fd():e===Wc?ur():e===Kc?Sb():e===Zc?EE():e===Rc?eE():e===Vc?wC():e===zc?Sb():e===$c?JM():e===Qc?Pw():e===tu?ZS():e===nu?Sb():e===au?Io():e===iu?Sb():e===su?Ul():e===ou&&rS(),__("settings_scroll")&&lM()}function K_(){l_("label_refresh","icon-refresh",t+Jt),l_("label_side_panel","icon-ellipsis",Hn),c_("label_switch"),m_("top_bar_user","icon_center_focus"),p_("top_bar_live",_),p_("top_bar_user",u),p_("top_bar_featured",tn),p_("top_bar_game",m),p_("top_bar_vod",Kt),p_("top_bar_clip",A)}function Z_(){l_("label_side_panel","icon-arrow-circle-left",I),af("top_bar_live"),af("top_bar_game"),af("top_bar_vod"),af("top_bar_clip"),af("top_bar_featured"),f_("top_bar_user","icon_center_focus")}function $_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function Q_(e){return e=new Date(e),vu?e.getDate()+" "+Xt[e.getMonth()]+", "+e.getFullYear():Xt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function ef(){h_("dialog_about_text",_a+be+Yu+fa)}function tf(){Hc?(ru.Users_Position=0,ru.Main_Go=Nc,ru.Search_isSearching&&K_(),ru.Search_isSearching=!1,X_()):window.location.reload(!0)}function nf(){document.hidden?window.clearInterval(Tc):(Nf(),Tc=window.setInterval(Nf,6e4),window.setTimeout(function(){document.hidden||Nf()},2e4))}function af(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function sf(e){for(var t,n=0;n<_u.length;n++)null!==(t=document.getElementById(_u[n].id))&&a_(t,_u[n].src+Zu,e)}function of(){_u=[]}function df(e,t){_u.push({id:e,src:t})}function rf(e){Uc=e}function lf(e){var t=0;return Uc<e?t=-1:e<Uc&&(t=1),Uc=e,t}function cf(e){Ac.src=e}function uf(e){return(pu=document.createElement("td")).setAttribute("id",e),pu.className="stream_cell",pu}function _f(e,t,n){return(pu=document.createElement("td")).setAttribute("id",t[4]+e),pu.setAttribute(Ju,n[0]),pu.setAttribute("data-id",n[1]),pu.className="stream_cell",pu.innerHTML=mf(e,t,n),pu}function ff(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Ju,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=mf(i,n,t),a.setAttribute("id",n[4]+i)}function mf(e,t,n){return df(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function hf(e,t,n,a,i){return e<xu&&cf(i[0]),(pu=document.createElement("td")).setAttribute("id",a[8]+t),pu.setAttribute(Ju,JSON.stringify(n)),pu.className="stream_cell",pu.innerHTML=vf(t,a,i),pu}function pf(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Ju,JSON.stringify(t)),i.innerHTML=vf(s,a,n),i.setAttribute("id",a[8]+s)}function vf(e,t,n){return df(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+IM.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+p+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function gf(e,t,n){return(pu=document.createElement("td")).setAttribute("id",t[5]+e),pu.setAttribute(Ju,n[0]),pu.className="stream_cell",pu.innerHTML=yf(e,t,n),pu}function yf(e,t,n){return df(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function bf(){cu=!0}function wf(){lu=!0}function kf(){lu=!1,window.setTimeout(wf)}function Mf(){return!lu||!cu}function Cf(e,t,n,a,i){if(f_(n[0]+e+"_"+t,zu),E_(t,e,a,i),lf(e)){var s=screen.height/100;1<e?R_(e+1,0,n[0])?Tf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+42*s):bf():Tf(n[6],5*s)}else bf()}function Ef(e,t,n,a,i){if(f_(n[0]+e+"_"+t,zu),E_(t,e,a,i),lf(e)){var s=screen.height/100;e?R_(e+1,0,n[0])&&Tf(n[10],-1*document.getElementById(n[8]+e+"_"+t).offsetTop+s*(33+bu)):Tf(n[10],7*s)}else bf()}function Sf(e,t,n,a,i){if(f_(n[0]+e+"_"+t,zu),E_(t,e,a,i),lf(e)){var s=screen.height/100;Tf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+e+"_"+t).offsetTop+51*s:3.0625*s)}else bf()}function xf(e,t,n){ru.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),ru.Play_selectedChannel_id=ru.Play_selectedChannel[1],ru.Play_selectedChannel=ru.Play_selectedChannel[0],ru.Main_Go===Vc?(ru.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,ru.Play_selectedChannelDisplayname=ru.Play_DisplaynameHost.split(ae)[1],ru.Play_isHost=!0):ru.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,ru.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(p)[1],document.body.removeEventListener("keydown",n),ru.Main_Go===qc&&(ru.Main_OldgameSelected=ru.Main_gameSelected),If()}function If(){document.body.addEventListener("keydown",Lg,!1),c_("scene1"),u_("scene2"),Hv(),Rv(),rg(),Uf(Hp)}function Pf(e,t,n){ew=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),Om=parseInt(ew[1]),ru.Play_gameSelected=ew[2],ru.Main_selectedChannel=ew[3],ru.Main_selectedChannelDisplayname=ew[4],ru.Main_selectedChannelLogo=ew[5],ru.Main_selectedChannel_id=ew[6],ru.ChannelVod_vodId=ew[7],lr=parseInt(ew[8]),Qb=ew[9],nw=ew[10],Zb=ew[11],ew=ew[0],tw=document.getElementById(t[4]+e).textContent,$b=document.getElementById(t[6]+e).textContent,document.body.removeEventListener("keydown",n),document.body.addEventListener("keydown",ah,!1),c_("scene1"),u_("scene2"),Rv(),Lv(),Cv(),xv(),Uf(Hm)}function Gf(e,t,n){ru.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),Kd=parseInt(ru.ChannelVod_vodId[1]),Qd=ru.ChannelVod_vodId[2],ru.Play_gameSelected=ru.ChannelVod_vodId[3],ru.Main_selectedChannel=ru.ChannelVod_vodId[4],Cp=ru.ChannelVod_vodId[5],ru.ChannelVod_vodId=ru.ChannelVod_vodId[0].substr(1),ru.Main_Go===Wc?sr=document.getElementById(t[3]+e).innerHTML:(sr="",ru.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),dr=document.getElementById(t[4]+e).textContent,rr=document.getElementById(t[5]+e).textContent,or=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,document.body.removeEventListener("keydown",n),Lf()}function Lf(){document.body.addEventListener("keydown",yb,!1),c_("scene1"),u_("scene2"),jy(),Rv(),Lv(),xv(),my=!1,Uf(wy)}function Tf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(bf,10)}function Bf(e,t){cu=!1,m_(t[0]+e,zu)}function Of(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||Hf(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function Hf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Uf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Af(){var e=(new Date).getTime()+Wu;return e=new Date(e),(vu?jt[e.getDay()]+" "+e.getDate()+"/"+Xt[e.getMonth()]:jt[e.getDay()]+" "+Xt[e.getMonth()]+"/"+e.getDate())+" "+uv(e.getHours())+":"+uv(e.getMinutes())}function Nf(){p_("label_clock",Af()),Zu="?"+Math.random()}function Df(){f_("side_panel_"+Mu,"side_panel_text_focus")}function Ff(){m_("side_panel_"+Mu,"side_panel_text_focus")}function qf(){Mu?1===Mu?B_():2===Mu?(document.body.addEventListener("keydown",Oc,!1),G_()):3===Mu?(document.body.addEventListener("keydown",Oc,!1),O_()):4===Mu?w_(Oc):5===Mu?Rf(Nc):6===Mu?Rf(ys()?Zc:Dc):7===Mu?Rf(su):8===Mu?Rf(Fc):9===Mu?Rf(tu):10===Mu&&Rf(nu):ru.Main_Go!==Jc?(ru.Search_isSearching||ru.Main_Go!==Yc&&ru.Main_Go!==Kc&&ru.Main_Go!==Wc||Hd(),ru.Main_BeforeSearch=ru.Main_Go,ru.Main_Go=Jc,W_(ru.Main_BeforeSearch),X_()):document.body.addEventListener("keydown",Oc,!1),zf()}function Rf(e){e===ru.Main_Go?document.body.addEventListener("keydown",Oc,!1):(ru.Main_Before=ru.Main_Go,ru.Main_Go=e,W_(ru.Main_Before),X_())}function Vf(e){Oc=e,document.body.removeEventListener("keydown",Oc),document.body.addEventListener("keydown",Jf,!1),m_("side_panel","side_panel_hide")}function zf(){document.body.removeEventListener("keydown",Jf),f_("side_panel","side_panel_hide"),Ff(),Mu=0,Df()}function Jf(e){switch(e.keyCode){case Na:case Pa:document.body.addEventListener("keydown",Oc,!1),zf(),Qf();break;case Ga:Mu&&(Ff(),Mu--,Df());break;case Ta:Mu<10&&(Ff(),Mu++,Df());break;case Ba:qf()}}function Xf(e){switch(e.keyCode){case Na:k_();break;case La:2<++Ql&&(Ql=0),Ec(),y_(),b_();break;case Pa:--Ql<0&&(Ql=2),Ec(),y_(),b_();break;case Ba:Ql?Ku&&1===Ql?Android.mclose(!1):Ku&&2===Ql&&Android.mclose(!0):k_()}}i_();var jf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Yf=[Nc,Zc,su,Fc,tu,nu],Wf=!1;function Kf(e){if(!(Wf||bb.FirstLoad||Mf()))switch(e.keyCode){case Na:U_()?(Qf(),H_()):T_()?(Qf(),L_()):ru.Main_Go===qc?(ru.Main_OldgameSelected=ru.Main_gameSelected,ru.Games_return?(ru.Main_Go=Xc,ru.Main_gameSelected=ru.gameSelectedOld):(ru.Main_Go=ru.Main_BeforeAgame,ru.Main_BeforeAgame=Nc),Fs(),$f(),X_()):ru.Main_Go===iu?(Fb(qc),$f(),X_()):ru.Main_Go===zc?(Fb(Zc),$f(),X_()):ru.Main_Go===Kc?(Fb(Yc),$f(),X_()):ru.Main_Go===au?(ru.Main_Go=qc,Io(),$f(),X_()):ru.Main_Go===Rc?(ru.Main_Go=Zc,eE(),$f(),X_()):ru.Main_Go===Vc?(ru.Main_Go=Zc,wC(),$f(),X_()):ru.Main_Go===ou?(ru.Main_Go=Zc,rS(),$f(),X_()):ru.Main_Go===$c?(ru.Main_Go=Zc,JM(),$f(),X_()):ru.Main_Go===Yc?(ru.Main_Go=ru.Main_BeforeChannel,ru.Main_BeforeChannel=Nc,fd(),ru.Main_selectedChannel_id="",$f(),X_()):ru.Main_Go===Wc?(ru.Main_Go=Yc,ur(),$f(),X_()):ru.Main_Go===jc?(ru.Main_Go===ru.Main_BeforeSearch?ru.Main_Go=Nc:ru.Main_Go=ru.Main_BeforeSearch,zk(),ru.Search_isSearching=!1,$f(),X_()):ru.Main_Go===Xc?(ru.Main_Go===ru.Main_BeforeSearch?ru.Main_Go=Nc:ru.Main_Go=ru.Main_BeforeSearch,ru.Search_isSearching=!1,ik(),$f(),X_()):ru.Main_Go===Qc?(ru.Main_Go===ru.Main_BeforeSearch?ru.Main_Go=Nc:ru.Main_Go=ru.Main_BeforeSearch,ru.Main_selectedChannel_id&&Ud(),Pw(),ru.Search_isSearching=!1,$f(),X_()):($f(),Vf(Kf));break;case La:if(ru.Search_isSearching||ru.Main_Go===Yc||ru.Main_Go===Wc||ru.Main_Go===Kc||ru.Main_Go===jc||ru.Main_Go===Xc||ru.Main_Go===Qc)break;m_(jf[ru.Main_CenterLablesVectorPos],"icon_center_line"),ru.Main_CenterLablesVectorPos++,5<ru.Main_CenterLablesVectorPos&&(ru.Main_CenterLablesVectorPos=0),Qf(),em();break;case Pa:if(ru.Search_isSearching||ru.Main_Go===Yc||ru.Main_Go===Wc||ru.Main_Go===Kc||ru.Main_Go===jc||ru.Main_Go===Xc||ru.Main_Go===Qc)break;m_(jf[ru.Main_CenterLablesVectorPos],"icon_center_line"),ru.Main_CenterLablesVectorPos--,ru.Main_CenterLablesVectorPos<0&&(ru.Main_CenterLablesVectorPos=5),Qf(),em();break;case Ta:m_(jf[ru.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Kf),uu=!1,X_();break;case Ba:nm()}}function Zf(e){window.clearTimeout(Lc),J_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Kf),document.body.addEventListener("keydown",Kf,!1),Qf()}function $f(){m_(jf[ru.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Kf),uu=!1}function Qf(){uu=!0,f_(jf[ru.Main_CenterLablesVectorPos],"icon_center_line")}function em(){W_(ru.Main_Go),ru.Main_Go=Yf[ru.Main_CenterLablesVectorPos],ru.Main_Go!==Zc||ys()?X_(!0):(ru.Main_Go=Dc,$f(),X_())}function tm(){ru.Main_Go===Nc?document.body.removeEventListener("keydown",Sc):ru.Main_Go===Zc?document.body.removeEventListener("keydown",FE):ru.Main_Go===qc?document.body.removeEventListener("keydown",io):ru.Main_Go===su?document.body.removeEventListener("keydown",Yl):ru.Main_Go===jc?document.body.removeEventListener("keydown",nM):ru.Main_Go===Xc?document.body.removeEventListener("keydown",mk):ru.Main_Go===Qc?document.body.removeEventListener("keydown",Vw):ru.Main_Go===Wc?document.body.removeEventListener("keydown",Er):ru.Main_Go===Yc?document.body.removeEventListener("keydown",Ad):ru.Main_Go===Vc?document.body.removeEventListener("keydown",BC):ru.Main_Go===ou?document.body.removeEventListener("keydown",ES):ru.Main_Go===$c?document.body.removeEventListener("keydown",nC):ru.Main_Go===Fc?(bb=jb,document.body.removeEventListener("keydown",Vb)):ru.Main_Go===Kc?(bb=Jb,document.body.removeEventListener("keydown",Vb)):ru.Main_Go===tu?document.body.removeEventListener("keydown",px):ru.Main_Go===nu?(bb=zb,document.body.removeEventListener("keydown",Vb)):ru.Main_Go===iu?(bb=Xb,document.body.removeEventListener("keydown",Vb)):ru.Main_Go===zc?(bb=Yb,document.body.removeEventListener("keydown",Vb)):ru.Main_Go===au?document.body.removeEventListener("keydown",Ro):ru.Main_Go===Rc&&document.body.removeEventListener("keydown",hE)}function nm(){window.clearTimeout(Lc),J_(),ru.Main_Go!==Yc&&(ru.Main_BeforeChannelisSet=!1),ru.Main_Go!==qc&&(ru.Main_BeforeAgameisSet=!1),C_(),ru.Main_Go===Nc?mc():ru.Main_Go===Zc?SE():ru.Main_Go===su?Al():ru.Main_Go===qc?qs():ru.Main_Go===$c?XM():ru.Main_Go===Yc?md():ru.Main_Go===Wc?_r():ru.Main_Go===jc?Jk():ru.Main_Go===Xc?sk():ru.Main_Go===Qc?Lw():ru.Main_Go===Fc?(bb=jb,xb()):ru.Main_Go===zc?(bb=Yb).loadingData||bb.key_refresh():ru.Main_Go===tu?$S():ru.Main_Go===nu?(bb=zb,xb()):ru.Main_Go===iu?(bb=Xb,xb()):ru.Main_Go===Kc?(bb=Jb,xb()):ru.Main_Go===au?Po():ru.Main_Go===Rc?tE():ru.Main_Go===Vc?kC():ru.Main_Go===ou?lS():mc(),Lc=window.setTimeout(z_,3e3)}function am(e,t){localStorage.setItem(e,t)}function im(e,t){return parseInt(localStorage.getItem(e))||t}function sm(e,t){return JSON.parse(localStorage.getItem(e))||t}function om(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function dm(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function rm(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),fu=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function lm(e,t,n,a,i,s){var o;if(Ku){if(!(o=Android.mreadUrl(e,t,n,a)))return void s();200===(o=JSON.parse(o)).status?i(o.responseText):s()}else(o=new XMLHttpRequest).open("GET",e,!0),o.timeout=t,0<n&&o.setRequestHeader(Au,Uu),1<n&&o.setRequestHeader(Nu,qu),2<n&&o.setRequestHeader(Du,a),o.ontimeout=function(){},o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status)return void i(o.responseText);s()}},o.send(null)}var cm=0,um=null,_m=0,fm=!1,mm=0,hm=0,pm=!1,vm=0,gm=2e3,ym=5,bm="source",wm=bm,km=0,Mm=[],Cm="",Em=!1,Sm=0,xm=0,Im=1,Pm=!1,Gm=0,Lm=!1,Tm=!1,Bm=[0,5],Om=0;function Hm(){wv(),rg(),Jp(document.getElementById("stream_info_icon"),ru.Main_selectedChannelLogo),p_("stream_info_name",ru.Main_selectedChannelDisplayname),h_("stream_info_title",Qb),h_("stream_info_game",Zb+", "+$b+", "+nw),p_("stream_live_icon",tw),p_("progress_bar_duration",_v(Om)),sb((Ep=Bm)[1]),ru.Play_isHost=!1,p_("progress_bar_current_time",_v(0)),p_("stream_live_time",""),p_("stream_watching_time",""),Pm=null!==ru.ChannelVod_vodId,Nr=Bt+".",Pm?(Ar=lr,Jr()):hl(),u_("progress_pause_holder"),th(),mp=0,u_("scene_channel_panel_bottom"),u_("chat_box"),c_("chat_frame"),Tm=!1,ph=-13,Sm=xm=Gm=0,km=2,pg(3),np=!1,ag(),fs()?(Za=!0,$a=ru.Main_selectedChannel_id,yi()):bv(),document.addEventListener("visibilitychange",Vm,!1),fm=!1,pm=!(hm=mm=0),Um(),document.body.removeEventListener("keyup",bf)}function Um(){vm=0,gm=2e3,Am()}function Am(){var e,t="https://clips.twitch.tv/api/v2/clips/"+ew+"/status";if(Ku){if(!(e=Android.mreadUrl(t,sp,1,null)))return void Nm();200===(e=JSON.parse(e)).status?Dm(e.responseText):Nm()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=gm,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Dm(e.responseText):Nm())},e.send(null)}function Nm(){++vm<ym?(gm+=250,Am()):(kv(),Play_PannelEndStart(3))}function Dm(e){Mm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Mm.length?Mm.push({id:e[t].quality+"p"+Fm(e[t].frame_rate),url:e[t].source}):Mm.push({id:e[t].quality+"p"+Fm(e[t].frame_rate)+" (source)",url:e[t].source});xm=Im,qm()}function Fm(e){return 40<e?60:""}function qm(){Cm=Mm[km=0].url,-1!==bm.indexOf("source")&&(bm="source");for(var e=0;e<$m();e++){if(Mm[e].id===bm){Cm=Mm[km=e].url;break}-1!==Mm[e].id.indexOf(bm)&&(Cm=Mm[km=e].url)}wm=bm,Hc||console.log("PlayClip_onPlayer:",'\n\n"'+Cm+'"\n'),xm=Im,Hc||console.log("PlayClip_onPlayer:",'\n\n"'+Th+'"\n'),Ku&&pm&&Android.startVideoOffset(Cm,3,Em?-1:Android.gettime()),Em=!1,Rm()}function Rm(){Hh&&!Vv()&&qv(),Ku&&(_m=0,Lm=!(wp=3),window.clearInterval(zm),um=window.setInterval(zm,kp))}function Vm(){document.hidden&&(Xm(),window.clearInterval(um))}function zm(){Ku&&(Sm=Android.gettime()),cm!==Sm||lv()?(_m=Gm=0,Tm=!1):++_m>wp&&(Lm&&Tm&&km<$m()-1?km++:!Lm&&Tm&&Gm++,navigator.onLine?1<Gm?rv(Gm,3,Jm):(Qm(),qm(),Tm=!0):dv(!1,3)),cm=Sm}function Jm(e){if(!e){if(!(km<$m()-1))return void dv(!1,3);km++}Gm=0,Qm(),qm(),Tm=!0}function Xm(){pm&&(Mm=[],jm(),xv(),vv())}function jm(){window.clearInterval(um),Ku&&Android.stopVideo(3),pm=!1,cl(),gv(),document.body.removeEventListener("keydown",ah),document.removeEventListener("visibilitychange",Vm),Ym(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",lr=0}function Ym(){oy=!1,sy=dy=0,Nv(),bm=wm,document.getElementById("scene_channel_panel").style.opacity="0",Ku&&nb(Android.gettime()/1e3,Om,!0),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",Qv(),window.clearInterval(Og)}function Wm(){Km(),cv(),Og=window.setInterval(Km,1e3),xv(),Ky(),Zm(),Qm(),document.getElementById("scene_channel_panel").style.opacity="1",Qv(),eh()}function Km(){Ku&&nb(Android.gettime()/1e3,Om,!oy)}function Zm(){for(var e=km=0;e<$m();e++){if(Mm[e].id===bm){km=e;break}-1!==Mm[e].id.indexOf(bm)&&(km=e)}}function $m(){return Mm.length}function Qm(){1===$m()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):km?km===$m()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bm=Mm[km].id).indexOf("source")?p_("quality_name",bm.replace("source",ye)):p_("quality_name",bm)}function eh(){yh=window.setTimeout(Ym,5e3+hy)}function th(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",p_("open_vod_text",Pm?an:sn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function nh(){Pm?(ru.vodOffset=lr,jm(),document.body.addEventListener("keydown",yb,!1),ag(),Uf(wy)):(np=!0,Mv(on),window.setTimeout(function(){np=!1,Cv()},2e3))}function ah(e){if(xm!==Im)switch(e.keyCode){case Ha:Hc||window.location.reload(!0);break;case Na:Iv()?(xv(),Xm()):Sv()}else switch(e.keyCode){case Pa:Mh&&!Ov()&&Vv()?(mh++,Qv()):Ov()?(Nv(),fy?(sg(),5<++tp&&(tp=0),ig()):(db(-1,Om),hy=2500),eh()):lg()?(mg(),_g(),--dp<0&&(dp=3),ug()):Wm();break;case La:!Mh||Ov()||lg()?Ov()?(Nv(),fy?(sg(),--tp<0&&(tp=5),ig()):(db(1,Om),hy=2500),eh()):lg()?(mg(),_g(),3<++dp&&(dp=0),ug()):Wm():am("ChatEnable",(Hh=Vv()||lg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case Ga:lg()?mg():Ov()?(2===fy&&1!==tp?(fy--,Zy()):1===fy?(fy--,Zy()):0<km&&1===tp&&(km--,Qm()),Nv(),eh()):Mh&&Vv()?(4<++gh?$v(!(gh=1)):4===gh&&$v(!0),Kv(!0)):Wm();break;case Ta:lg()?mg():Ov()?(fy?1===fy?(fy++,Zy()):km<$m()-1&&1===tp&&(km++,Qm()):(fy++,Zy()),Nv(),eh()):Mh&&Vv()?(1.05<(vh+=.05)&&(vh=.05),Zv(!0)):Wm();break;case Ba:lg()?hg(3):Ov()?fy?1===fy?(Pm&&ru.Play_ChatForceDisable&&(lv()?rl(Vr):ll()),lg()||ng(3)):wg(3):(Nv(),eh(),sy&&ab()):Wm();break;case Na:Xv()?Jv():Ov()?Ym():Iv()?(xv(),Xm()):Sv();break;case Sa:case Ea:case xa:Pm&&!ru.Play_ChatForceDisable&&(lv()?rl(Vr):ll()),lg()||ng(3);break;case Ia:case Ca:Mh&&am("ChatEnable",(Hh=Vv()||lg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case ka:Mh&&Vv()&&(mh++,Qv());break;case Ma:Mh&&Vv()&&(mh--,Qv());break;case Ua:lg()||zv();break;case Ha:if(!Pm)return;ru.Play_ChatForceDisable=!ru.Play_ChatForceDisable,ru.Play_ChatForceDisable?Pm&&(Ar=lr,Jr()):pl(),j_();break;case Oa:Bp(Mh=!Mh);break;case Aa:gg(3)}}var ih,sh,oh,dh,rh,lh,ch,uh,_h,fh,mh=0,hh=mh,ph=-5,vh=.55,gh=3,yh=null,bh="source",wh=bh,kh=0,Mh=!0,Ch=0,Eh=1,Sh=2,xh=0,Ih=null,Ph=0,Gh=0,Lh=0,Th="",Bh=[],Oh=0,Hh=!1,Uh=null,Ah=null,Nh=null,Dh="",Fh=0,qh=5,Rh=0,Vh=5,zh=0,Jh=!1,Xh=null,jh=!1,Yh=0,Wh=null,Kh=0,Zh=0,$h=!1,Qh=!1,ep=!1,tp=1,np=!1,ap=!1,ip=1e4,sp=2e3,op="",dp=0,rp=3,lp=null,cp="",up=0,_p=0,fp=0,mp=0,hp="",pp=!0,vp=!1,gp=!1,yp=0,bp=!1,wp=4,kp=1500,Mp=0,Cp="",Ep=[],Sp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],xp=[0,0,0,1,2,2,2,1],Ip=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Pp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Gp=1,Lp=["chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Tp(){lh=document.getElementById("chat_frame"),uh=document.getElementById("chat_container"),fh=document.getElementById("inner_progress_bar"),mh=im("ChatPositionsValue",0),vh=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,gh=im("ChatSizeValue",3),Hh=om("ChatEnable",!1),Mh=om("Play_isFullScreen",!0),Kv(!1),Zv(!1),Op()}function Bp(e){e?void 0!==ih&&(mh=ih,gh=oh,(Hh=sh)||Rv(),Kv(!1)):(ih=mh,sh=Hh,oh=gh,mh=0,qv(),gh=4,$v(Hh=!0),Kv(!1),Pr&&(Pr.scrollTop=Pr.scrollHeight)),am("Play_isFullScreen",Mh)}function Op(){Gp=yM("chat_font_size");for(var e=0;e<Lp.length;e++)m_("chat_inner_container",Lp[e]);f_("chat_inner_container",Lp[Gp])}function Hp(){wv(),h_("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va+_.toUpperCase()+"</div>"),af("stream_info_title"),Pm=!(ap=!1),Jp(document.getElementById("stream_info_icon"),e_),ru.Play_isHost?p_("stream_info_name",ru.Play_DisplaynameHost):p_("stream_info_name",ru.Play_selectedChannelDisplayname),ru.Play_WasPlaying=1,j_(),dh=ru.Play_isHost,ru.Play_isHost=!1,vp=!1,u_("scene_channel_panel_bottom"),p_("stream_watching_time",g+_v(mp=0)),Dh=fv(0),p_("stream_live_time",y+Dh+b),c_("chat_box"),u_("chat_frame"),c_("progress_pause_holder"),pg(1),gp=Qh=!(ph=-5),up=Zh=Mp=0,_p=Date.now(),ip=3e3,pp=!(Rh=fp=0),xh=Ch,ep=!(Jh=!(Lh=Gh=Ph=jh=0)),document.addEventListener("visibilitychange",Ap,!1),Dp(),Xp(),document.body.removeEventListener("keyup",bf),Ih=window.setInterval(Rp,6e4)}function Up(e){Mv(e)}function Play_CheckResume(){Jh&&Ap(),Yg&&Gy(),pm&&(Xm(),window.clearInterval(um))}function Ap(){document.hidden?lg()?(xv(),Rv(),hv()):(gv(),ep=!1,lh.src="about:blank",window.clearInterval(Ih),fp=Date.now()):(Jh=!0,Lv(),Jh&&(ip=3e3,vp=!(Rh=0),fp=Date.now()-fp,ap?Rp():Dp(),xh=Ch,zh=0,navigator.onLine?Xp():rh=window.setInterval(Np,100),Ih=window.setInterval(Rp,6e4)))}function Np(){(navigator.onLine||200<zh)&&(window.clearInterval(rh),Xp()),zh++}function Dp(){var e="https://api.twitch.tv/kraken/streams/"+ru.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=ip,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Fp(JSON.parse(t.responseText)):qp())},t.send(null)}function Fp(e){null!==e.stream&&(p_("stream_info_name",dh?ru.Play_DisplaynameHost:ru.Play_selectedChannelDisplayname),ru.Play_selectedChannel_id=e.stream.channel._id,h_("stream_info_title",IM.parse(e.stream.channel.status)),ru.Play_gameSelected=e.stream.game,op=", ["+e.stream.channel.language.toUpperCase()+"]",p_("stream_info_game",p+ru.Play_gameSelected+v+D_(e.stream.viewers)+" "+R+op),ru.Play_selectedChannelLogo=e.stream.channel.logo,ap=!0,Jp(document.getElementById("stream_info_icon"),ru.Play_selectedChannelLogo),Dh=e.stream.created_at,fs()?(Za=!0,$a=ru.Play_selectedChannel_id,yi()):bv())}function qp(){Rh<Vh&&(ip+=500,window.setTimeout(function(){Jh&&Dp()},750)),Rh++}function Rp(){var e="https://api.twitch.tv/kraken/streams/"+ru.Play_selectedChannel_id;sp=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Mp=0,Vp(JSON.parse(t.responseText))):zp())},t.open("GET",e,!0),t.timeout=sp,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.send(null)}function Vp(e){null!==e.stream&&(h_("stream_info_title",IM.parse(e.stream.channel.status)),ru.Play_gameSelected=e.stream.game,p_("stream_info_game",p+ru.Play_gameSelected+v+D_(e.stream.viewers)+" "+R+op),ap||Jp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function zp(){Mp<Vh?(window.setTimeout(function(){Jh&&Rp()},2500),Mp++):Mp=0}function Jp(e,t){e.onerror=function(){this.src=e_,ap=!1},e.src=t}function Xp(){Fh=0,sp=2e3+(vp?3e3:0),jp()}function jp(){var e,t;if(e=xh===Ch?"https://api.twitch.tv/api/channels/"+ru.Play_selectedChannel+"/access_token"+(fs()&&Zi[ru.Users_Position].access_token?"?oauth_token="+Zi[ru.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+ru.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Ph.token)+"&sig="+Ph.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Ku){if(!(t=Android.mreadUrl(e,sp,1,null)))return void Wp();200===(t=JSON.parse(t)).status?(Fh=0,Jh&&Zp(t.responseText)):403===t.status?Kp():404===t.status?kg():Wp()}else(t=new XMLHttpRequest).open("GET",n_+e,!0),t.timeout=sp,t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Fh=0,Jh&&Zp(t.responseText)):403===t.status?(Yp(t),Kp()):404===t.status?(Yp(t),kg()):(Yp(t),Wp()))},t.send(null)}function Yp(e){Hc||(console.log(e.status),console.log(e.responseText))}function Wp(){Jh&&pp&&(++Fh<qh+(vp?15:0)?(sp+=250,vp?window.setTimeout(jp,500):jp()):kg())}function Kp(){kv(),Mv(Nn),window.setTimeout(function(){Jh&&kg()},4e3)}function Zp(e){xh===Ch?(Ph=JSON.parse(e),xh=Eh,Xp()):xh===Eh&&(Bh=$p(Gh=e),xh=Sh,Jh&&tv())}function $p(e){for(var t,n=[],a="",i=1,s=ev(e),o=0;o<s.length;o++)a=s[o].split('NAME="')[1].split('"')[0],t=Qp(s[o].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[o-i].id!==a&&n[o-i].id!==a+" (source)"?n.push({id:a,band:t,url:s[o].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:s[o].split("\n")[2]}));return n}function Qp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function ev(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function tv(){Th=Bh[Oh=0].url,-1!==bh.indexOf("source")&&(bh="source");for(var e=0;e<Wv();e++){if(Bh[e].id===bh){Th=Bh[Oh=e].url;break}-1!==Bh[e].id.indexOf(bh)&&(Th=Bh[Oh=e].url)}wh=bh,xh=Sh,Hc||console.log("Play_onPlayer:",'\n\n"'+Th+'"\n'),Ku&&Jh&&Android.startVideo(Th,1),nv()}function nv(){window.clearTimeout(ch),bp=!1,Hh&&!Vv()&&qv(),ep=!0,av(),Ku&&(Kh=0,$h=!(wp=3),window.clearInterval(Wh),Wh=window.setInterval(sv,kp))}function av(){if(ru.Play_ChatForceDisable){bp=!0,window.clearInterval(_h);var e=lh.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(ch),yp=0,gp=!1,lh.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+ru.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",ch=window.setTimeout(iv,5e3)}else pl()}function iv(){var e=lh.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(gp=-1!==e.body.innerHTML.indexOf("Connected")),t=gp}catch(e){gp=!0}gp?t&&(_h=window.setInterval(Fv,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):bp&&yp<7?(yp++,ch=window.setTimeout(iv,1e3)):av()}function sv(){Ku&&(up=Android.gettime()),Yh!==up||lv()?(Kh=Zh=0,Qh=!1):wp<++Kh&&($h&&Qh&&Oh<Wv()-1?Oh++:!$h&&Qh&&Zh++,navigator.onLine?1<Zh?rv(Zh,1,ov):(Yv(),tv(),Qh=!0):dv(!1,1)),Yh=up}function ov(e){if(!e){if(!(Oh<Wv()-1))return void kg();Oh++}Zh=0,Yv(),tv(),Qh=!0}function dv(e,t){ru.Play_isHost=e,pg(t),Play_PannelEndStart(t)}function rv(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?rand="+Math.round(1e7*Math.random()),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&dv(!1,t))},a.send(null)}function lv(){return!!Ku&&!Android.getPlaybackState()}function cv(){var e=Af();p_("stream_clock",e),p_("label_clock",e)}function uv(e){return e<10?"0"+e:e}function _v(e){var t,n,a;return e+=mp/1e3,t=uv(parseInt(e)%60),n=uv((e=Math.floor(e/60))%60),a=uv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function fv(e){var t,n,a;return e<0&&!mp&&(mp=-1*e),e+=mp,t=uv(parseInt(e/1e3)%60),n=uv((e=Math.floor(e/1e3/60))%60),a=uv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function mv(e){return fv((new Date).getTime()-new Date(e).getTime())}function hv(){Jh&&(pv(),ru.Play_WasPlaying=0,vv())}function pv(){Ku&&Android.stopVideo(1),Jh=!1,cl(),gv(),yv(),window.clearInterval(_h),ru.Play_selectedChannel_id=""}function vv(){nb(0,0),u_("scene1"),c_("scene2"),V_()}function gv(){Hv(),Lv(),Cv(),rg(),Cp="",Oh===Wv()-1&&(wh=Bh[0].id),Jg===tb()-1&&(Ag=zg[0].id),km===$m()-1&&(wm=Mm[0].id)}function yv(){ep=!1,document.body.removeEventListener("keydown",Lg),document.removeEventListener("visibilitychange",Ap),lh.src="about:blank",window.clearInterval(Ih),window.clearInterval(Wh),np=!1}function bv(){h_("fallow_text",va+Gt),Wa=!1}function wv(){Ku&&Android.mshowLoading(!0)}function kv(){Ku&&Android.mshowLoading(!1)}function Mv(e){p_("dialog_warning_play_text",e),u_("dialog_warning_play")}function Cv(){c_("dialog_warning_play")}function Ev(){return __("dialog_warning_play")}function Sv(){Iv()?xv():(u_("play_dialog_exit"),Uh=window.setTimeout(Sv,3e3))}function xv(){window.clearTimeout(Uh),c_("play_dialog_exit")}function Iv(){return __("play_dialog_exit")}function Pv(){window.clearTimeout(Ah)}function Gv(){window.clearTimeout(Nh)}function Lv(){Pv(),Gv(),c_("play_dialog_simple_pause")}function Tv(){lv()?Bv()?(c_("play_dialog_simple_pause"),Nh=window.setTimeout(Tv,8e3)):(u_("play_dialog_simple_pause"),Ah=window.setTimeout(Tv,1500)):Lv()}function Bv(){return __("play_dialog_simple_pause")}function Ov(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Hv(){Nv(),document.getElementById("scene_channel_panel").style.opacity="0",bh=wh,Qv(),window.clearInterval(Og)}function Uv(){ag(),jv(),Yv(),Av(),Og=window.setInterval(Av,1e3),cv(),xv(),document.getElementById("scene_channel_panel").style.opacity="1",Qv(),Dv()}function Av(){p_("stream_watching_time",g+fv(Date.now()-fp-_p)),p_("stream_live_time",y+mv(Dh)+b)}function Nv(){window.clearTimeout(yh),hy=0}function Dv(){yh=window.setTimeout(Hv,5e3)}function Fv(){var e=lh.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function qv(){Qv(),u_("chat_container")}function Rv(){c_("chat_container")}function Vv(){return __("chat_container")}function zv(){xv(),u_("dialog_controls_play")}function Jv(){c_("dialog_controls_play")}function Xv(){return __("dialog_controls_play")}function jv(){for(var e=Oh=0;e<Wv();e++){if(Bh[e].id===bh){Oh=e;break}-1!==Bh[e].id.indexOf(bh)&&(Oh=e)}}function Yv(){1===Wv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Oh?Oh===Wv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bh=Bh[Oh].id).indexOf("source")?p_("quality_name",bh.replace("source",ye)+Bh[Oh].band):p_("quality_name",bh+Bh[Oh].band)}function Wv(){return Bh.length}function Kv(e){uh.style.height=Pp[gh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Pp[gh-1].dialogTop+"%",Qv(),Fv(),e&&eg(Un+Pp[gh-1].percentage),window.setTimeout(function(){Pr&&(Pr.scrollTop=Pr.scrollHeight)},500),am("ChatSizeValue",gh)}function Zv(e){var t=vh-.05;t=t<.05?0:t.toFixed(2),uh.style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&eg(An+(100*t).toFixed(0)+"%"),am("ChatBackgroundValue",vh)}function $v(e){mh=e?xp[hh=mh]:Ip[mh][hh]}function Qv(){var e=4===gh;mh<0?mh=e?2:7:(e?2:7)<mh&&(mh=0),(!mh||5<mh||4===gh)&&Pm&&Ov()?kh=ph:(0<mh&&mh<6||!Ov())&&(kh=0),uh.style.top=(e?.2:Sp[mh].top+Sp[mh].sizeOffset[gh-1])+kh+"%",uh.style.left=Sp[mh+(e?2:0)].left+"%",am("ChatPositionsValue",mh)}function eg(e){window.clearTimeout(Xh),p_("play_chat_dialog_text",e),u_("play_chat_dialog"),Xh=window.setTimeout(tg,1e3)}function tg(){c_("play_chat_dialog")}function ng(e){lv()?(Lv(),Ku&&Android.play(!0),1===e?(Ov()&&Hv(),Wh=window.setInterval(sv,kp)):2===e?(Ov()&&jy(),Qg=window.setInterval(Ry,kp)):3===e&&(Ov()&&Ym(),um=window.setInterval(zm,kp))):(1===e?window.clearInterval(Wh):2===e?window.clearInterval(Qg):3===e&&window.clearInterval(um),Ku&&Android.play(!1),Tv())}function ag(){sg(),tp=1,ig()}function ig(){f_("scene2_pannel_"+tp,"playbotton_focus")}function sg(){m_("scene2_pannel_"+tp,"playbotton_focus")}function og(){xm=Ng=xh=-1,Rv(),Hv(),Ym(),jy(),np||Cv(),kv(),xv(),Jv(),ug()}function dg(){u_("dialog_end_stream")}function rg(){c_("dialog_end_stream"),mg(),cg()}function lg(){return __("dialog_end_stream")}function cg(){_g(),dp=0,ug()}function ug(){f_("dialog_end_"+dp,"dialog_end_icons_focus")}function _g(){m_("dialog_end_"+dp,"dialog_end_icons_focus")}function fg(e){1===e?cp=ru.Play_selectedChannelDisplayname+" "+_:2===e?cp=ru.Main_selectedChannelDisplayname+Zt:3===e&&(cp=ru.Main_selectedChannelDisplayname+Bt),h_("dialog_end_stream_text",cp+P+na+Qt+rp+"..."),lg()?(Ng=xh=Sh,xm=Im,-1===--rp?(h_("dialog_end_stream_text",cp+P+na+Qt+"0..."),xv(),Rv(),1===e?hv():2===e?zy():3===e&&Xm()):lp=window.setTimeout(function(){fg(e)},1e3)):lp=window.setTimeout(function(){fg(e)},50)}function mg(){window.clearTimeout(lp),h_("dialog_end_stream_text",cp+P+na+en)}function hg(e){var t=!0;dp?1===dp?ru.Play_isHost?(ru.Play_DisplaynameHost=ru.Play_selectedChannelDisplayname+ae,ru.Play_selectedChannel=hp.target_login,ru.Play_selectedChannelDisplayname=hp.target_display_name,ru.Play_DisplaynameHost=ru.Play_DisplaynameHost+ru.Play_selectedChannelDisplayname,pv(),document.body.addEventListener("keydown",Lg,!1),ru.Play_selectedChannel_id=hp.target_id,Uf(Hp)):nh():2===dp?vg(e):3===dp&&yg(e):2===e?zg.length?(ty=!(gy=!0),Fy(),Lv(),Ar=cy=0,Jr()):(t=!1,Mv(Zn),window.setTimeout(function(){Cv()},2e3)):3===e&&(Mm.length?(Lm=!(Em=!0),qm(),Lv(),Pm?(cy=0,Ar=lr,Jr()):hl()):(t=!1,Mv(Zn),window.setTimeout(function(){Cv()},2e3))),1!==dp&&3===dp&&""===ru.Play_gameSelected&&(t=!1),t&&rg()}function pg(e){e?1===e?(_g(),dp=2,ug(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(cg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(cg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",p_("dialog_end_vod_text",Pm?an:sn)):(_g(),dp=1,ug(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",p_("dialog_end_vod_text",ln))}function vg(e){ru.Main_BeforeChannelisSet||ru.Main_Go===Wc||ru.Main_Go===Kc||(ru.Main_BeforeChannel=ru.Main_BeforeAgameisSet&&ru.Main_Go!==qc?ru.Main_BeforeAgame:ru.Main_Go,ru.Main_BeforeChannelisSet=!0),W_(ru.Main_Go),ru.Main_Go=Yc,1===e?(ru.Main_selectedChannel_id=ru.Play_selectedChannel_id,ru.Main_selectedChannel=ru.Play_selectedChannel,ru.Main_selectedChannelDisplayname=ru.Play_selectedChannelDisplayname,td=Wa,Rv(),hv()):2===e?zy():3===e&&Xm()}function gg(e){ru.Search_isSearching||(ru.Main_BeforeSearch=ru.Main_Go),W_(ru.Main_Go),ru.Main_Go=Jc,1===e?(Rv(),hv()):2===e?zy():3===e&&Xm()}function yg(e){if(""===ru.Play_gameSelected)return np=!0,Mv(jn),void window.setTimeout(function(){np=!1,Cv()},2e3);ru.Main_BeforeAgameisSet||ru.Main_Go===au||ru.Main_Go===iu||(ru.Main_BeforeAgame=ru.Main_BeforeChannelisSet&&ru.Main_Go!==Yc&&ru.Main_Go!==Wc&&ru.Main_Go!==Kc?ru.Main_BeforeChannel:ru.Main_Go,ru.Main_BeforeAgameisSet=!0),W_(ru.Main_Go),ru.Main_Go=qc,As=!1,ru.Main_gameSelected=ru.Play_gameSelected,Rv(),1===e?hv():2===e?zy():3===e&&Xm()}function bg(){fs()&&Zi[ru.Users_Position].access_token?Wa?xi():Ci():(Mv(Lt),np=!0,window.setTimeout(function(){Cv(),np=!1},2e3))}function wg(e){tp?1===tp?(1===e?(tv(),Hv()):2===e?(ty=!1,Fy(),jy()):3===e&&(Lm=!1,qm(),Ym()),Lv()):2===tp?($a=1===e?ru.Play_selectedChannel_id:ru.Main_selectedChannel_id,bg(),Nv(),1===e?Dv():2===e?$y():3===e&&eh()):3===tp?yg(e):4===tp?vg(e):5===tp&&gg(e):nh()}function Play_PannelEndStart(e){window.clearInterval(Wh),window.clearInterval(um),window.clearInterval(Qg),og(),rp=3,fg(e),dg(e)}function kg(){xh=-1,Fh=0,sp=2e3,window.clearTimeout(ch),lh.src="about:blank",window.clearInterval(Ih),window.clearInterval(Wh),""!==ru.Play_selectedChannel_id?Sg():Mg()}function Mg(){var e,t="https://api.twitch.tv/kraken/users?login="+ru.Play_selectedChannel;if(Ku){if(!(e=Android.mreadUrl(t,sp,2,null)))return void Eg();200===(e=JSON.parse(e)).status?Cg(e.responseText.users[0]):Eg()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=sp,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Cg(JSON.parse(e.responseText).users[0]);Eg()}},e.send(null)}function Cg(e){void 0!==e?(ru.Play_selectedChannel_id=e._id,Fh=0,sp=2e3,Sg()):Play_PannelEndStart(1)}function Eg(){++Fh<qh?(sp+=250,Mg()):dv(!1,1)}function Sg(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(ru.Play_selectedChannel_id);if(Ku){if(!(e=Android.mreadUrl(t,sp,1,null)))return void xg();200===(e=JSON.parse(e)).status?Ig(e.responseText):xg()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=sp,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Ig(e.responseText);xg()}},e.send(null)}function xg(){++Fh<qh?(sp+=250,Sg()):dv(!1,1)}function Ig(e){void 0!==(hp=JSON.parse(e).hosts[0]).target_login?(np=!0,Mv(ru.Play_selectedChannelDisplayname+rn+ae+hp.target_display_name),window.setTimeout(function(){np=!1},4e3),pg(0),ru.Play_isHost=!0):(pg(1),ru.Play_isHost=!1),Play_PannelEndStart(1)}function Pg(){Wa?(h_("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),h_("fallow_text",va+Ct)):(h_("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),h_("fallow_text",va+Et))}function Gg(e){Xv()?Jv():lg()&&!Iv()?(mg(),Sv()):Ov()&&!mb()?e?jy():Hv():mb()&&Iv()?(fb(),Jy(!1),vv()):Iv()?(xv(),Rv(),e?zy():hv()):(Ev()&&Cv(),Sv())}function Lg(e){if(xh!==Sh)switch(e.keyCode){case Ha:Hc||window.location.reload(!0);break;case Na:Iv()?(xv(),Rv(),hv()):Sv()}else switch(e.keyCode){case qa:case Ia:case Ca:Mh&&am("ChatEnable",(Hh=Vv()||lg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case ka:Mh&&Vv()&&(mh++,Qv());break;case Ma:Mh&&Vv()&&(mh--,Qv());break;case Pa:Mh&&!Ov()&&Vv()?(mh++,Qv()):Ov()?(sg(),5<++tp&&(tp=1),ig(),Nv(),Dv()):lg()?(mg(),_g(),--dp<(ru.Play_isHost?1:2)&&(dp=3),ug()):Uv();break;case La:!Mh||Ov()||lg()?Ov()?(sg(),--tp<1&&(tp=5),ig(),Nv(),Dv()):lg()?(mg(),_g(),3<++dp&&(dp=ru.Play_isHost?1:2),ug()):Uv():am("ChatEnable",(Hh=Vv()||lg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case Ga:Ov()?(0<Oh&&1===tp&&(Oh--,Yv()),Nv(),Dv()):Mh&&Vv()?(4<++gh?$v(!(gh=1)):4===gh&&$v(!0),Kv(!0)):lg()?mg():Uv();break;case Ta:Ov()?(Oh<Wv()-1&&1===tp&&(Oh++,Yv()),Nv(),Dv()):Mh&&Vv()?(1.05<(vh+=.05)&&(vh=.05),Zv(!0)):lg()?mg():Uv();break;case Ba:lg()?hg(1):Ov()?wg(1):Uv();break;case Na:Gg(!1);break;case Sa:case Ea:case xa:lg()||ng(1);break;case Ua:lg()||zv();break;case Ha:ru.Play_ChatForceDisable=!ru.Play_ChatForceDisable,ru.Play_ChatForceDisable?(c_("chat_box"),u_("chat_frame"),av()):(lh.src="about:blank",pl()),j_();break;case Oa:Bp(Mh=!Mh);break;case Aa:gg(1)}}var Tg,Bg,Og,Hg,Ug="source",Ag=Ug,Ng=0,Dg=null,Fg=0,qg=0,Rg=0,Vg="",zg=[],Jg=0,Xg=0,jg=5,Yg=!1,Wg=0,Kg=5,Zg=1e4,$g=0,Qg=null,ey=0,ty=!1,ny=0,ay=!1,iy=!1,sy=0,oy=!1,dy=0,ry=2e3,ly=!1,cy=0,uy={},_y=0,fy=0,my=!0,hy=0,py=0,vy=0,gy=!1,yy=[0,10,30,60,120,300,600,900,1200,1800],by=!1;function wy(){wv(),rg(),cy=0,p_("stream_live_time",""),p_("stream_watching_time",""),p_("progress_bar_current_time",_v(0)),Nr=H+".",c_("progress_pause_holder"),py=0,sb((Ep=yy)[1]),Ng=Ch,Pm=!0,lr=0,ru.Play_isHost=!1,ru.vodOffset?(My(),xy()):(my&&""!==ru.Main_selectedChannel_id?(Jp(document.getElementById("stream_info_icon"),ru.Main_selectedChannelLogo),uy["#"+ru.ChannelVod_vodId]||Jr(),fs()?($a=ru.Main_selectedChannel_id,Za=!0,yi()):bv()):(My(),Cy()),p_("stream_info_name",ru.Main_selectedChannelDisplayname),h_("stream_info_title",sr),h_("stream_info_game",or+", ["+Qd.toUpperCase()+"]"),p_("stream_live_icon",dr)),uy["#"+ru.ChannelVod_vodId]&&!ru.vodOffset?(kv(),_b()):ky()}function ky(){mp=0,u_("chat_box"),c_("chat_frame"),window.setTimeout(function(){u_("scene_channel_panel_bottom"),u_("progress_pause_holder")},1e3),p_("progress_bar_duration",_v(Kd)),ru.Play_WasPlaying=2,j_(),Hg=window.setInterval(Ty,6e4),cf(Cp),ay=!1,oy=np=ly=!(ph=-13),Rg=qg=Fg=dy=ny=0,document.addEventListener("visibilitychange",Gy,!1),by=!(Yg=!(iy=!1)),By(),pg(2),document.body.removeEventListener("keyup",bf)}function My(){Wg=0,Kg=5,Zg=1e4}function Cy(){var e,t="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(ru.Main_selectedChannel);if(Ku){if(!(e=Android.mreadUrl(t,sp,2,null)))return void Sy();200===(e=JSON.parse(e)).status?Ey(JSON.parse(e.responseText).users[0]):Sy()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Zg,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Ey(JSON.parse(e.responseText).users[0]):Sy())},e.send(null)}function Ey(e){void 0!==e?(ru.Main_selectedChannelLogo=e.logo,ru.Main_selectedChannel_id=e._id,uy["#"+ru.ChannelVod_vodId]||Jr(),fs()?($a=ru.Main_selectedChannel_id,Za=!0,yi()):bv()):(ru.Main_selectedChannelLogo=e_,ru.Main_selectedChannel_id=""),Jp(document.getElementById("stream_info_icon"),ru.Main_selectedChannelLogo)}function Sy(){++Wg<Kg?(Zg+=500,window.setTimeout(function(){Yg&&Cy()},750)):Bg=window.setTimeout(Cy,2500)}function xy(){var e,t="https://api.twitch.tv/kraken/videos/"+ru.ChannelVod_vodId;if(Ku){if(!(e=Android.mreadUrl(t,sp,2,null)))return void Iy();200===(e=JSON.parse(e)).status?Py(e.responseText):Iy()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Zg,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Py(e.responseText);Iy()}},e.send(null)}function Iy(){++Wg<Kg&&(Zg+=2e3,xy())}function Py(e){e=JSON.parse(e),h_("stream_info_title",IM.parse(e.title)),h_("stream_info_game",Yt+p+e.game+", "+D_(e.views)+q+", ["+e.language.toUpperCase()+"]"),p_("stream_live_icon",D+Q_(e.created_at)),p_("progress_bar_duration",_v(Kd=parseInt(e.length))),cy=1e3*ru.vodOffset,nb(ru.vodOffset,Kd,!0),ru.Main_selectedChannelDisplayname=e.channel.display_name,p_("stream_info_name",ru.Main_selectedChannelDisplayname),ru.Main_selectedChannelLogo=e.channel.logo,Jp(document.getElementById("stream_info_icon"),ru.Main_selectedChannelLogo),ru.Main_selectedChannel_id=e.channel._id,ru.Main_selectedChannel=e.channel.name,fs()?(Za=!0,$a=ru.Main_selectedChannel_id,yi()):bv(),cf(e.increment_view_count_url)}function Gy(){document.hidden?lg()?(xv(),Rv(),zy()):(Ty(),rb(),ll(),gv(),window.clearInterval(Qg),window.clearInterval(Hg)):(Yg=!0,Lv(),Yg&&(zh=zh=0,navigator.onLine?qy():rh=window.setInterval(Ly,100),rl(Vr),pg(2),Hg=window.setInterval(Ty,6e4)))}function Ly(){(navigator.onLine||200<zh)&&(window.clearInterval(rh),Ng=Ch,By()),zh++}function Ty(){ru.vodOffset=Ku?parseInt(Android.gettime()/1e3):0,j_(),ru.vodOffset=0}function By(){Xg=0,ry=2e3,Oy()}function Oy(){var e,t;if(e=Ng===Ch?"https://api.twitch.tv/api/vods/"+ru.ChannelVod_vodId+"/access_token"+(fs()&&Zi[ru.Users_Position].access_token?"?oauth_token="+Zi[ru.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+ru.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Fg.token)+"&nauthsig="+Fg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Ku){if(!(t=Android.mreadUrl(e,sp,1,null)))return void Hy();200===(t=JSON.parse(t)).status?(Xg=0,Yg&&Uy(t.responseText)):Hy()}else(t=new XMLHttpRequest).open("GET",n_+e,!0),t.timeout=ry,t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Xg=0,Yg&&Uy(t.responseText)):Hy())},t.send(null)}function Hy(){if(Yg){if(JSON.parse(Fg.token)&&0!==JSON.parse(Fg.token).chansub.restricted_bitrates.length)return void Ay();++Xg<jg?(ry+=250,Oy()):(kv(),Play_PannelEndStart(2))}}function Uy(e){Ng===Ch?(Fg=JSON.parse(e),Ng=Eh,By()):Ng===Eh&&(zg=$p(qg=e),Ng=Sh,Yg&&Fy())}function Ay(){fs()&&Zi[ru.Users_Position].access_token?($a=ru.Main_selectedChannel_id,Gi()):(kv(),Mv(G+St),window.setTimeout(function(){Yg&&zy()},4e3))}function Ny(){kv(),Mv(G+xt),window.setTimeout(function(){Yg&&zy()},4e3)}function Dy(){by?(kv(),Mv(G+It),window.setTimeout(function(){Yg&&zy()},4e3)):(by=!0,Ng=Ch,By())}function Fy(){Vg=zg[Jg=0].url,-1!==Ug.indexOf("source")&&(Ug="source");for(var e=0;e<tb();e++){if(zg[e].id===Ug){Vg=zg[Jg=e].url;break}-1!==zg[e].id.indexOf(Ug)&&(Vg=zg[Jg=e].url)}Ag=Ug,qy()}function qy(){Hc||console.log("PlayVod_onPlayer:",'\n\n"'+Vg+'"\n'),ru.vodOffset?(Ar=ru.vodOffset,Jr(),Ku&&Yg&&Android.startVideoOffset(Vg,2,gy?-1:1e3*ru.vodOffset),ru.vodOffset=0):Ku&&Yg&&Android.startVideoOffset(Vg,2,gy?-1:Android.gettime()),gy=!1,Hh&&!Vv()&&qv(),Ku&&(ey=0,ty=!(wp=5),window.clearInterval(Qg),Qg=window.setInterval(Ry,kp))}function Ry(){Ku&&(cy=Android.gettime()),$g!==cy||lv()?(ey=ny=0,ay=!1):++ey>wp&&(ty&&ay&&Jg<tb()-1?Jg++:!ty&&ay&&ny++,navigator.onLine?1<ny?rv(ny,2,Vy):(eb(),Fy(),ay=!0):dv(!1,2)),$g=cy}function Vy(e){if(!e){if(!(Jg<tb()-1))return void dv(!1,2);Jg++}ny=0,eb(),Fy(),ay=!0}function zy(){Yg&&(zg=[],Jy(!0),vv())}function Jy(e){e&&rb(),Ku&&Android.stopVideo(2),Yg=!1,window.clearInterval(Hg),window.clearInterval(Bg),ru.Play_WasPlaying=0,my=!0,cl(),gv(),Xy()}function Xy(){document.body.removeEventListener("keydown",yb),document.removeEventListener("visibilitychange",Gy),ru.vodOffset=0,window.clearInterval(Dg),window.clearInterval(Qg),Kd=0}function jy(){oy=!1,sy=dy=0,Nv(),document.getElementById("scene_channel_panel").style.opacity="0",Ku&&nb(Android.gettime()/1e3,Kd,!0),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",Ug=Ag,Qv(),window.clearInterval(Og)}function Yy(e){Wy(),cv(),xv(),Og=window.setInterval(Wy,1e3),e&&(Ky(),Qy(),eb(),$y()),document.getElementById("scene_channel_panel").style.opacity="1",Qv()}function Wy(){Ku&&nb(Android.gettime()/1e3,Kd,!oy)}function Ky(){fy=lv()?1:0,Zy()}function Zy(){fy?1===fy?(f_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),sg(),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none"):2===fy&&(m_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),ig(),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none"):(m_("pause_button","progress_bar_div_focus"),f_("progress_bar_div","progress_bar_div_focus"),sg(),sy&&(ob(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function $y(){yh=window.setTimeout(jy,5e3+hy)}function Qy(){for(var e=Jg=0;e<tb();e++){if(zg[e].id===Ug){Jg=e;break}-1!==zg[e].id.indexOf(Ug)&&(Jg=e)}}function eb(){1===tb()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Jg?Jg===tb()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Ug=zg[Jg].id).indexOf("source")?p_("quality_name",Ug.replace("source",ye)+zg[Jg].band):p_("quality_name",Ug+zg[Jg].band)}function tb(){return zg.length}function nb(e,t,n){p_("progress_bar_current_time",_v(e)),n&&(fh.style.width=e/t*100+"%")}function ab(){Lv(),lg()||(Lm=ty=!1,Yg?(Ku&&Android.startVideoOffset(Vg,2,0<vy?1e3*vy:-1),Ar=vy):(Ar=lr,Ku&&Android.startVideoOffset(Cm,3,0<vy?1e3*vy:-1)),Pm&&Jr()),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",oy=!1,vy=sy=dy=0}function ib(){py=dy=0,sb(Ep[1])}function sb(e){sy&&!fy&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?p_("progress_bar_steps",Dn+e/60+qn):p_("progress_bar_steps",e?Dn+e+Fn:Dn+Ep[1]+Fn)}function ob(){p_("progress_bar_jump_to",_e+" ("+(sy<0?"-":"")+_v(Math.abs(sy))+")"+fe+_v(vy))}function db(e,t){var n=Ku?Android.gettime()/1e3:0;window.clearTimeout(Tg),oy=!0,dy<Ep.length-1&&py++%6==0&&dy++,sy+=Ep[dy]*e,vy=n+sy,Yg&&(vy=10*Math.floor(vy/10)),t<vy?(sy=t-n-Ep[1],vy=n+sy,py=dy=0):vy<0&&(sy=0-n,vy=py=dy=0),ob(),fh.style.width=vy/t*100+"%",sb(Ep[dy]*e),Tg=window.setTimeout(ib,1e3)}function rb(){var e=Ku?parseInt(Android.gettime()/1e3):0,t="#"+ru.ChannelVod_vodId;300<e&&e<Kd-300?(uy[t]&&delete uy[t],uy[t]=e,am("PlayVod_VodIds",JSON.stringify(uy))):Kd-300<e&&uy[t]&&(delete uy[t],am("PlayVod_VodIds",JSON.stringify(uy)))}function lb(){uy=sm("PlayVod_VodIds",{});var e=cb();250<e&&ub(e-250)}function cb(){var e=0;for(var t in uy)uy.hasOwnProperty(t)&&e++;return e}function ub(e){var t=0;for(var n in uy){if(!(t<e))break;delete uy[n],t++}am("PlayVod_VodIds",JSON.stringify(uy))}function _b(){c_("scene_channel_panel_bottom"),Yy(!1),h_("dialog_vod_saved_text",bn+fv(1e3*uy["#"+ru.ChannelVod_vodId])),u_("dialog_vod_start")}function fb(){jy(),c_("dialog_vod_start"),hb(),window.setTimeout(function(){u_("scene_channel_panel_bottom")},1e3)}function mb(){return __("dialog_vod_start")}function hb(){vb(),_y=0,pb()}function pb(){f_("dialog_vod_"+_y,"dialog_end_icons_focus")}function vb(){m_("dialog_vod_"+_y,"dialog_end_icons_focus")}function gb(e){fb(),e?(delete uy["#"+ru.ChannelVod_vodId],ru.vodOffset=0,wy()):(ru.vodOffset=uy["#"+ru.ChannelVod_vodId],cy=1e3*ru.vodOffset,nb(ru.vodOffset,Kd,!0),ky())}function yb(e){if(Ng===Sh||mb())switch(e.keyCode){case Ia:case Ca:Mh&&am("ChatEnable",(Hh=Vv()||lg()||mb()?(Rv(),!1):(qv(),!0))?"true":"false");break;case ka:Mh&&Vv()&&(mh++,Qv());break;case Ma:Mh&&Vv()&&(mh--,Qv());break;case Pa:Mh&&!Ov()&&Vv()?(mh++,Qv()):Ov()&&!mb()?(Nv(),fy?(sg(),5<++tp&&(tp=1),ig()):(db(-1,Kd),hy=2500),$y()):mb()?(vb(),_y?_y--:_y++,pb()):lg()?(mg(),_g(),--dp<0&&(dp=3),1===dp&&(dp=0),ug()):mb()||Yy(!0);break;case La:!Mh||Ov()||lg()?Ov()&&!mb()?(Nv(),fy?(sg(),--tp<1&&(tp=5),ig()):(db(1,Kd),hy=2500),$y()):mb()?(vb(),_y?_y--:_y++,pb()):lg()?(mg(),_g(),3<++dp&&(dp=0),1===dp&&(dp=2),ug()):mb()||Yy(!0):am("ChatEnable",(Hh=Vv()||lg()?(Rv(),!1):(qv(),!0))?"true":"false");break;case Ga:lg()?mg():Ov()&&!mb()?(2===fy&&1!==tp?(fy--,Zy()):1===fy?(fy--,Zy()):0<Jg&&1===tp&&(Jg--,eb()),Nv(),$y()):Mh&&Vv()?(4<++gh?$v(!(gh=1)):4===gh&&$v(!0),Kv(!0)):mb()||Yy(!0);break;case Ta:lg()?mg():Ov()&&!mb()?(fy?1===fy?(fy++,Zy()):Jg<tb()-1&&1===tp&&(Jg++,eb()):(fy++,Zy()),Nv(),$y()):Mh&&Vv()?(1.05<(vh+=.05)&&(vh=.05),Zv(!0)):mb()||Yy(!0);break;case Ba:mb()?gb(_y):lg()?hg(2):Ov()?fy?1===fy?(ru.Play_ChatForceDisable&&(lv()?rl(Vr):ll()),lg()||ng(2)):wg(2):(Nv(),$y(),sy&&ab()):Yy(!0);break;case Na:Gg(!0);break;case Sa:case Ea:case xa:ru.Play_ChatForceDisable&&(lv()?rl(Vr):ll()),lg()||ng(2);break;case Ua:lg()||zv();break;case Ha:ru.Play_ChatForceDisable=!ru.Play_ChatForceDisable,ru.Play_ChatForceDisable?Jr():pl(),j_();break;case Oa:Bp(Mh=!Mh);break;case Aa:gg(2)}else switch(e.keyCode){case Ha:Hc||window.location.reload(!0);break;case Na:Iv()?(xv(),zy()):Sv()}}var bb={};function wb(){console.log("InitScreens place holder")}function kb(){ow(),dw(),rw(),lw(),cw()}function Mb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Cb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Eb(){bu=-1,ru.Main_Go=bb.screen,bb.label_init(),document.body.addEventListener("keydown",Vb,!1),bb.status?(rf(bb.posY),u_(bb.ids[10]),E_(bb.posX,bb.posY,bb.ColoumnsCount,bb.itemsCount),Ub(),j_()):xb()}function Sb(){bu=0,bb.label_exit(),document.body.removeEventListener("keydown",Vb),c_(bb.ids[10])}function xb(){c_(bb.ids[10]),P_(),v_(),bb.cursor=null,bb.status=!1,bb.row=document.createElement("div"),af(bb.table),bb.MaxOffset=0,bb.TopRowCreated=!1,bb.offset=0,bb.idObject={},bb.FirstLoad=!0,bb.itemsCount=0,bb.posX=0,bb.posY=0,bb.row_id=0,bb.coloumn_id=0,bb.data=null,bb.data_cursor=0,bb.dataEnded=!1,C_(),Ib(),Pb()}function Ib(){bb.loadingData=!0,bb.loadingDataTry=0,bb.loadingDataTimeout=3500}function Pb(){var e;if(bb.set_url(),Ku){if(!(e=Android.mreadUrl(bb.url,bb.loadingDataTimeout,2,null)))return void Gb();200===(e=JSON.parse(e)).status?bb.concatenate(e.responseText):Gb()}else(e=new XMLHttpRequest).open("GET",bb.url,!0),e.timeout=bb.loadingDataTimeout,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?bb.concatenate(e.responseText):Gb())},e.send(null)}function Gb(){bb.loadingDataTry++,bb.loadingDataTry<bb.loadingDataTryMax?(bb.loadingDataTimeout+=500,Pb()):(bb.loadingData=!1,bb.itemsCount?bb.dataEnded=!0:(bb.FirstLoad=!1,g_(),I_(L)))}function Lb(){var e=bb.data.length-bb.data_cursor;if(e>bb.ItemsLimit?e=bb.ItemsLimit:bb.dataEnded=!0,e){var t=Math.ceil(e/bb.ColoumnsCount),n=bb.row_id+t;if(bb.HasSwitches&&!bb.TopRowCreated){bb.TopRowCreated=!0,bb.row=document.createElement("div");var a='<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f;(pu=document.createElement("div")).setAttribute("id",bb.ids[8]+"y_0"),pu.className="stream_cell_period",pu.innerHTML='<div id="'+bb.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+bb.ids[3]+'y_0" class="stream_channel_fallow_game">'+a+"</div></div>",bb.row.appendChild(pu),document.getElementById(bb.table).appendChild(bb.row)}for(bb.row_id;bb.row_id<n;bb.row_id++){for(bb.coloumn_id===bb.ColoumnsCount&&(bb.row=document.createElement("div"),bb.coloumn_id=0),bb.coloumn_id;bb.coloumn_id<bb.ColoumnsCount&&bb.data_cursor<bb.data.length;bb.data_cursor++)bb.addCell(bb.data[bb.data_cursor]);document.getElementById(bb.table).appendChild(bb.row)}}Hb(!e&&!bb.status)}function Tb(e,t,n,a){var i=e+"_"+t;return df(n[1]+i,a),e<bb.ColoumnsCount&&cf(a),(pu=document.createElement("div")).style.cssText=bb.ThumbCssText,i}function Bb(e,t,n,a,i,s){var o=Tb(e,t,n,a);return pu.setAttribute("id",n[5]+o),pu.setAttribute(Ju,i),pu.innerHTML='<div id="'+n[0]+o+'" class="stream_thumbnail_game"><div><img id="'+n[1]+o+'" class="stream_img"></div><div id="'+n[2]+o+'" class="stream_text2"><div id="<div id="'+n[3]+o+'" class="stream_channel">'+i+'</div><div id="'+n[4]+o+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+s+"</div></div></div>",pu}function Ob(e,t,n,a,i,s,o,d,r,l,c,u,_,f,m,h){var p=Tb(e,t,n,a);return pu.setAttribute("id",n[8]+p),pu.setAttribute(Ju,JSON.stringify([c,l,o[2],u,i,_,f,m,h,o[0],r,o[1]+o[2]])),pu.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+r+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+s[0]+s[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+F+_v(l)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+o[0]+na+o[1]+o[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+q+"</div></div></div>",pu}function Hb(e){Uf(function(){bb.status?(sf(bb.img_404),E_(bb.posX,bb.posY,bb.ColoumnsCount,bb.itemsCount)):(g_(),(bb.emptyContent=e)?I_(bb.empty_str()):(bb.status=!0,sf(bb.img_404),Ub(),j_()),u_(bb.ids[10]),bb.FirstLoad=!1)})}function Ub(){bb.posY<0?Nb():(bb.addFocus(bb.posY,bb.posX,bb.ids,bb.ColoumnsCount,bb.itemsCount),bb.posY+bb.ItemsReloadLimit>bb.itemsCount/bb.ColoumnsCount&&bb.data_cursor<bb.data.length&&(of(),bb.loadDataSuccess()),bb.data_cursor+Wb>bb.data.length&&!bb.dataEnded&&!bb.loadingData&&(Ib(),Pb()),uu&&Bf(bb.posY+"_"+bb.posX,bb.ids))}function Ab(e,t){Bf(bb.posY+"_"+bb.posX,bb.ids),bb.posY+=e,bb.posX=t,Ub()}function Nb(){f_(bb.ids[0]+"y_0",zu)}function Db(){m_(bb.ids[0]+"y_0",zu)}function Fb(e){U_()?H_():T_()?L_():(e===bb.screen?ru.Main_Go=Nc:ru.Main_Go=e,Sb(),X_())}function qb(e){if(!bb.HasSwitches||bb.posY||-1!==e||bb.emptyContent){if(bb.HasSwitches&&-1===bb.posY)bb.posY=0,Ub(),Db();else for(var t=0;t<bb.ColoumnsCount;t++)if(R_(bb.posY+e,bb.posX-t,bb.ids[0])){Ab(e,bb.posX-t);break}}else Bf(bb.posY+"_"+bb.posX,bb.ids),bb.posY=-1,Nb()}function Rb(e,t){R_(bb.posY,bb.posX+e,bb.ids[0])?Ab(0,bb.posX+e):R_(bb.posY+e,t,bb.ids[0])&&Ab(e,t)}function Vb(e){if(!bb.FirstLoad&&!Mf())switch(kf(),e.keyCode){case Na:bb.key_exit();break;case Pa:Rb(-1,bb.ColoumnsCount-1);break;case La:Rb(1,0);break;case Ga:qb(-1);break;case Ta:qb(1);break;case Ia:case Ca:bb.loadingData||bb.key_refresh();break;case ka:bb.key_channelup();break;case Ma:bb.key_channeldown();break;case Sa:case Ea:case xa:case Ba:bb.key_play();break;case Oa:Vf(Vb);break;case Ha:bb.key_green();break;case Ua:bb.key_yellow();break;case Aa:bb.key_blue()}}bb.FirstLoad=!1;var zb,Jb,Xb,jb,Yb,Wb=100,Kb=3,Zb="",$b="",Qb="",ew="",tw="",nw="",aw={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Lb,ThumbPading:Kb,key_blue:function(){ru.Search_isSearching||(ru.Main_BeforeSearch=bb.screen),ru.Main_Go=Jc,Sb(),X_()},set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: "+this.ThumbPading+"px;"}},iw={ThumbSize:32.65,ItemsLimit:Su,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:Iu,ColoumnsCount:xu,addFocus:Ef,cursor:null,key_refresh:xb,period:["day","week","month","all"],img_404:t_,empty_str:function(){return T+A},key_play:function(){-1===this.posY?this.key_yellow():Pf(this.posY+"_"+this.posX,this.ids,Vb)},key_yellow:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),xb())},addCell:function(e){bb.idObject[e.tracking_id]||(bb.itemsCount++,bb.idObject[e.tracking_id]=1,bb.row.appendChild(Ob(bb.row_id,bb.coloumn_id,bb.ids,e.thumbnails.medium,e.broadcaster.display_name,[nn,Q_(e.created_at)],[IM.parse(e.title),p,e.game],D_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),bb.coloumn_id++)}},sw={ThumbSize:19.35,ItemsLimit:Pu,ItemsReloadLimit:Lu,ColoumnsCount:Gu,addFocus:Sf,img_404:Qu,empty_str:function(){return T+$}};function ow(){(zb=Cb(zb=Cb({ids:Mb("Clip"),table:"stream_table_clip",screen:nu,periodPos:im("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Wb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==gu?"&language="+gu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),bb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),bb.loadingData=!1},SetPeriod:function(){h_("top_bar_clip",A+$_(Bc[this.periodPos-1])),am("Clip_periodPos",this.periodPos)},label_init:function(){ru.Main_CenterLablesVectorPos=5,this.SetPeriod(),f_("top_bar_clip","icon_center_focus"),l_("label_refresh","icon-refresh",t+Jt)},label_exit:function(){K_(),m_("top_bar_clip","icon_center_focus"),l_("label_refresh","icon-refresh",t+Jt)},key_exit:function(){U_()?H_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(Vb))},key_channelup:function(){ru.Main_Before=this.screen,ru.Main_Go=Nc,Sb(),X_()},key_channeldown:function(){ru.Main_Before=this.screen,ru.Main_Go=tu,Sb(),X_()},key_green:function(){Sb(),tf()}},aw),iw)).set_ThumbSize()}function dw(){(Jb=Cb(Jb=Cb({ids:Mb("ChannelClip"),table:"stream_table_channel_clip",screen:Kc,periodPos:im("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(ru.Main_selectedChannel)+"&limit="+Wb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),bb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),bb.loadingData=!1},SetPeriod:function(){h_("top_bar_game",A+Bc[this.periodPos-1]),am("ChannelClip_periodPos",this.periodPos)},label_init:function(){ru.Main_CenterLablesVectorPos=1,!ru.Search_isSearching&&ru.Main_selectedChannel_id&&Ud(),ru.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Z_(),this.SetPeriod(),p_("top_bar_user",ru.Main_selectedChannelDisplayname),l_("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=ru.Main_selectedChannel},label_exit:K_,key_exit:function(){U_()?H_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(Vb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),xb())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),xb())},key_green:function(){Sb(),tf()},key_blue:function(){ru.Search_isSearching||(Hd(),ru.Main_BeforeSearch=bb.screen),ru.Main_Go=Jc,Sb(),X_()}},aw),iw)).set_ThumbSize()}function rw(){(Xb=Cb(Xb=Cb({ids:Mb("AGameClip"),table:"stream_table_a_game_clip",screen:iu,periodPos:im("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(ru.Main_gameSelected)+"&limit="+Wb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==gu?"&language="+gu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),bb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),bb.loadingData=!1},SetPeriod:function(){h_("top_bar_game",w+$_(A+Bc[this.periodPos-1]+": "+ru.Main_gameSelected)),am("AGameClip_periodPos",this.periodPos)},label_init:function(){ru.Main_CenterLablesVectorPos=3,this.SetPeriod(),f_("top_bar_game","icon_center_focus"),l_("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==ru.Main_gameSelected&&(this.status=!1),this.gameSelected=ru.Main_gameSelected},label_exit:function(){m_("top_bar_game","icon_center_focus"),h_("top_bar_game",m),l_("label_side_panel","icon-ellipsis",Hn)},key_exit:function(){U_()?H_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(Vb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),xb())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),xb())},key_yellow:O_,key_green:function(){Sb(),tf()}},aw),iw)).set_ThumbSize()}function lw(){(jb=Cb(jb=Cb({ids:Mb("Game"),table:"stream_table_games",screen:Fc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Wb,set_url:function(){this.offset&&this.offset+Wb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),bb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.top,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),bb.loadingData=!1},label_init:function(){ru.Main_CenterLablesVectorPos=3,f_("top_bar_game","icon_center_focus")},label_exit:function(){m_("top_bar_game","icon_center_focus")},key_refresh:xb,key_exit:function(){U_()?H_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(Vb))},key_channelup:function(){ru.Main_Before=this.screen,ru.Main_Go=tu,Sb(),X_()},key_channeldown:function(){ru.Main_Before=this.screen,ru.Main_Go=su,Sb(),X_()},key_play:function(){ru.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Ju),document.body.removeEventListener("keydown",Vb),ru.Main_BeforeAgame=this.screen,ru.Main_Go=qc,ru.Main_BeforeAgameisSet=!0,As=!1,Sb(),X_(),Bf(this.posY+"_"+this.posX,this.ids)},key_yellow:O_,key_green:function(){Sb(),tf()},addCell:function(e){bb.idObject[e.game._id]||(bb.itemsCount++,bb.idObject[e.game._id]=1,bb.row.appendChild(Bb(bb.row_id,bb.coloumn_id,bb.ids,e.game.box.template.replace("{width}x{height}",Vu),e.game.name,D_(e.channels)+" "+S+v+D_(e.viewers)+R)),bb.coloumn_id++)}},aw),sw)).set_ThumbSize()}function cw(){(Yb=Cb(Yb=Cb({ids:Mb("UserGames"),table:"stream_table_user_games",screen:zc,isLive:om("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Wb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Zi[ru.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Wb+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.follows),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),bb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.follows,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),bb.loadingData=!1},label_init:function(){ru.Main_CenterLablesVectorPos=1,l_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),this.OldUserName!==Zi[ru.Users_Position].name&&(this.status=!1),this.OldUserName=Zi[ru.Users_Position].name,h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+" "+(this.isLive?$:Vt)))},label_exit:function(){m_("top_bar_user","icon_center_focus"),p_("top_bar_user",u),l_("label_side_panel","icon-ellipsis",Hn)},key_refresh:function(){this.isLive=!this.isLive,h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+" "+(this.isLive?$:Vt))),xb(),am("user_Games_live",this.isLive?"true":"false"),GE()},key_exit:function(){U_()?H_():T_()?L_():(this.itemsCount&&Bf(this.posY+"_"+this.posX,this.ids),Zf(Vb))},key_channelup:function(){ru.Main_Before=this.screen,fs()&&Zi[ru.Users_Position].access_token?ru.Main_Go=ou:ru.Main_Go=$c,Sb(),X_()},key_channeldown:function(){ru.Main_Before=this.screen,ru.Main_Go=Vc,Sb(),X_()},key_play:function(){ru.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Ju),document.body.removeEventListener("keydown",Vb),ru.Main_BeforeAgame=this.screen,ru.Main_Go=qc,ru.Main_BeforeAgameisSet=!0,As=!1,Sb(),X_()},key_yellow:O_,key_green:function(){Sb(),tf()},addCell:function(e){var t=this.isLive?e.game:e;bb.idObject[t._id]||(bb.itemsCount++,bb.idObject[t._id]=1,bb.row.appendChild(Bb(bb.row_id,bb.coloumn_id,bb.ids,t.box.template.replace("{width}x{height}",Vu),t.name,this.isLive?D_(e.channels)+" "+S+v+D_(e.viewers)+R:"")),bb.coloumn_id++)}},aw),sw)).set_ThumbSize()}var uw=0,_w=0,fw=!1,mw=0,hw={},pw=[],vw=!1,gw=0,yw=5,bw=3500,ww=0,kw=0,Mw=!1,Cw=!1,Ew="",Sw=!1,xw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Iw(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Qc,ru.isLastSChannels=!0,ru.Search_isSearching=!0,Ew!==ru.Search_data&&(Cw=!1),Z_(),h_("top_bar_user",n+$_(S+" '"+ru.Search_data+"'")),document.body.addEventListener("keydown",Vw,!1),Cw?(rf(uw),u_(xw[6]),E_(_w,uw,Bu,mw),qw(),j_()):Lw()}function Pw(){K_(),document.body.removeEventListener("keydown",Vw),c_(xw[6])}function Gw(){X_()}function Lw(){c_(xw[6]),v_(),P_(),Ew=ru.Search_data,Cw=!1,af("stream_table_search_channel"),hw={},mw=kw=ww=0,uw=_w=0,fw=!(Wf=!(Sw=!(pw=[]))),C_(),Tw(),Bw()}function Tw(){of(),vw=!0,gw=0,bw=3500}function Bw(){var e=new XMLHttpRequest,t=mw+ww;t&&kw-1<t&&(t=kw-Tu,fw=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(ru.Search_data)+"&limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=bw,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Hw(e.responseText);Ow()}},e.send(null)}function Ow(){++gw<yw?(bw+=500,Bw()):(vw=!1,mw?(fw=!0,Aw()):(Wf=!1,g_(),I_(L)))}function Hw(e){var t=JSON.parse(e),n=t.channels.length;kw=parseInt(t._total),n<Tu&&(fw=!0);var a=mw;Mw=!(mw+=n);var i=n/Bu;0<n%Bu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/Bu+u,d=document.createElement("tr"),s=0;s<Bu&&c<n;s++,c++)l=(r=t.channels[c])._id,hw[l]?s--:(hw[l]=1,d.appendChild(Uw(o,o+"_"+s,[r.name,l,r.logo,r.display_name])));for(;s<Bu;s++)fw&&!Sw&&(Sw=!0,mw=o*Bu+s),d.appendChild(uf(xw[5]+o+"_"+s)),pw.push(xw[5]+o+"_"+s);document.getElementById("stream_table_search_channel").appendChild(d)}Aw()}function Uw(e,t,n){return e<4&&cf(n[2]),_f(t,xw,n)}function Aw(){Uf(function(){if(Cw){if(sf(e_),0<pw.length&&!fw)return Tw(),void Nw();E_(_w,uw,Bu,mw),pw=[]}else g_(),Mw?I_(d):(Cw=!0,sf(e_),qw(),j_()),u_(xw[6]),Wf=!1;vw=!1})}function Nw(){var e=new XMLHttpRequest;x_(pw.length);var t=mw+ww;t&&kw-1<t&&(t=kw-Hu,fw=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(ru.Search_data)+"&limit="+Hu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=bw,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Fw(e.responseText);Dw()}},e.send(null)}function Dw(){++gw<yw?(bw+=500,Nw()):(fw=!0,mw-=pw.length,pw=[],Aw())}function Fw(e){var t,n,a=JSON.parse(e),i=a.channels.length,s=0,o=0,d=[];for(kw=parseInt(a._total),i<Hu&&(fw=!0);s<pw.length&&o<i;s++,o++)n=(t=a.channels[o])._id,hw[n]?s--:(hw[n]=1,ff(pw[s],[t.name,n,t.logo,t.display_name],xw),d.push(s));for(s=d.length-1;-1<s;s--)pw.splice(d[s],1);ww+=o,fw&&(mw-=pw.length,pw=[]),Aw()}function qw(){Cf(uw,_w,xw,Bu,mw),mw/Bu<uw+Ou&&!fw&&!vw&&(Tw(),Bw()),uu&&Rw()}function Rw(){mw&&Bf(uw+"_"+_w,xw)}function Vw(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(Rw(),Zf(Vw));break;case Pa:if(R_(uw,_w-1,xw[0]))Rw(),_w--,qw();else for(t=Bu-1;-1<t;t--)if(R_(uw-1,t,xw[0])){Rw(),uw--,_w=t,qw();break}break;case La:R_(uw,_w+1,xw[0])?(Rw(),_w++,qw()):R_(uw+1,0,xw[0])&&(Rw(),uw++,_w=0,qw());break;case Ga:for(t=0;t<Bu;t++)if(R_(uw-1,_w-t,xw[0])){Rw(),uw--,_w-=t,qw();break}break;case Ta:for(t=0;t<Bu;t++)if(R_(uw+1,_w-t,xw[0])){Rw(),uw++,_w-=t,qw();break}break;case Ia:case Ca:Lw();break;case Sa:case Ea:case xa:case Ba:ru.Main_selectedChannel=document.getElementById(xw[4]+uw+"_"+_w).getAttribute(Ju),ru.Main_selectedChannel_id=document.getElementById(xw[4]+uw+"_"+_w).getAttribute("data-id"),ru.Main_selectedChannelDisplayname=document.getElementById(xw[3]+uw+"_"+_w).textContent,document.body.removeEventListener("keydown",Vw),ru.Main_BeforeChannel=Qc,ru.Main_Go=Yc,ru.Main_BeforeChannelisSet=!0,td=Wa=!1,c_(xw[6]),X_();break;case Oa:Vf(Vw);break;case Ha:Pw(),ru.Search_isSearching=!1,tf();break;case Ua:O_();break;case Aa:ru.Main_Go=Jc,Pw(),Gw()}}var zw=!1,Jw=0,Xw=0,jw=0,Yw=0,Ww=5,Kw=3500,Zw=0,$w=0,Qw=!1,ek=!1,tk="",nk=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function ak(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Xc,ru.Search_isSearching=!0,Z_(),tk!==ru.Search_data&&(zw=!1),h_("top_bar_user",n+$_(m+" '"+ru.Search_data+"'")),document.body.addEventListener("keydown",mk,!1),zw?(rf(Jw),u_(nk[7]),E_(Xw,Jw,Gu,jw),_k(),j_()):sk()}function ik(){ru.Search_isSearching||K_(),document.body.removeEventListener("keydown",mk),ru.Games_return=!1,c_(nk[7])}function sk(){c_(nk[7]),v_(),P_(),tk=ru.Search_data,zw=!1,af("stream_table_search_game"),ek=!1,Jw=Xw=jw=$w=Zw=0,C_(),ok(),dk()}function ok(){of(),Wf=!0,Yw=0,Kw=3500}function dk(){var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(ru.Search_data)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Kw,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void lk(e.responseText);rk()}},e.send(null)}function rk(){++Yw<Ww?(Kw+=500,dk()):(Wf=!1,jw?uk():(g_(),I_(L)))}function lk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=jw;Qw=!(jw+=n);var i=n/Gu;0<n%Gu&&i++;for(var s,o,d,r,l=0,c=0;c<i;c++){for(o=a/Gu+c,d=document.createElement("tr"),s=0;s<Gu&&l<n;s++,l++)r=t.games[l],d.appendChild(ck(o,o+"_"+s,[r.name,r.box.template.replace("{width}x{height}",Vu),""]));for(;s<Gu;s++)ek||(ek=!0,jw=o*Gu+s),d.appendChild(uf(nk[6]+o+"_"+s));document.getElementById("stream_table_search_game").appendChild(d)}uk()}function ck(e,t,n){return e<2&&cf(n[1]),gf(t,nk,n)}function uk(){Uf(function(){zw||(g_(),Qw?I_(d):(zw=!0,sf(t_),_k(),j_())),u_(nk[7]),Wf=!1,E_(Xw,Jw,Gu,jw)})}function _k(){Sf(Jw,Xw,nk,Gu,jw),uu&&fk()}function fk(){jw&&Bf(Jw+"_"+Xw,nk)}function mk(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(fk(),Zf(mk));break;case Pa:if(R_(Jw,Xw-1,nk[0]))fk(),Xw--,_k();else for(t=Gu-1;-1<t;t--)if(R_(Jw-1,t,nk[0])){fk(),Jw--,Xw=t,_k();break}break;case La:R_(Jw,Xw+1,nk[0])?(fk(),Xw++,_k()):R_(Jw+1,0,nk[0])&&(fk(),Jw++,Xw=0,_k());break;case Ga:for(t=0;t<Gu;t++)if(R_(Jw-1,Xw-t,nk[0])){fk(),Jw--,Xw-=t,_k();break}break;case Ta:for(t=0;t<Gu;t++)if(R_(Jw+1,Xw-t,nk[0])){fk(),Jw++,Xw-=t,_k();break}break;case Ia:case Ca:sk();break;case Sa:case Ea:case xa:case Ba:ru.gameSelectedOld=ru.Main_gameSelected,ik(),ru.Main_gameSelected=document.getElementById(nk[5]+Jw+"_"+Xw).getAttribute(Ju),document.body.removeEventListener("keydown",mk),ru.Main_Go=qc,ru.Games_return=!0,X_();break;case Oa:Vf(mk);break;case Ha:ru.Search_isSearching=!1,ik(),tf();break;case Ua:O_();break;case Aa:ru.Main_Go=Jc,ik(),X_()}}var hk=0,pk=0,vk=!1;function gk(){P_(),c_("label_refresh"),l_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ic.placeholder=k,f_("top_bar_user","icon_center_focus"),u_("search_scroll"),pk=hk=0,wk(),Mk()}function yk(){Ck(!1),document.body.removeEventListener("keydown",kk),wk(),ru.Main_Go=ru.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",p_("top_bar_user",u),m_("top_bar_user","icon_center_focus"),l_("label_side_panel","icon-ellipsis",Hn),u_("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ic.value="",c_("search_scroll")}function bk(){yk(),Uf(function(){pk?1===pk?ak():2===pk&&Vk():Iw()})}function wk(){m_("chanel_button","button_search_focused"),m_("game_button","button_search_focused"),m_("live_button","button_search_focused"),hk&&(pk?1===pk?f_("game_button","button_search_focused"):2===pk&&f_("live_button","button_search_focused"):f_("chanel_button","button_search_focused"))}function kk(e){if(!vk)switch(e.keyCode){case Na:U_()?H_():T_()?L_():(yk(),X_());break;case Pa:1===hk&&(--pk<0&&(pk=2),wk());break;case La:1===hk&&(2<++pk&&(pk=0),wk());break;case Ga:1===hk&&(hk=0,wk(),Mk());break;case Ta:hk?1===hk&&(hk=0,wk(),Mk()):(Ck(!1),hk=1,wk());break;case Ia:case Ca:break;case ka:case Ma:yk(),X_();break;case Sa:case Ea:case xa:case Ba:hk?""!==Ic.value&&null!==Ic.value?(ru.Search_data=Ic.value,Ic.value="",bk()):(I_(o),window.setTimeout(function(){P_()},1e3)):Mk();break;case Oa:Vf(kk);break;case Ha:yk(),tf();break;case Ua:O_()}}function Mk(){document.body.removeEventListener("keydown",kk),document.body.addEventListener("keydown",Ek,!1),Ic.placeholder=k,Ic.focus(),vk=!0}function Ck(e){Ic.blur(),document.body.removeEventListener("keydown",Ek),Ic.placeholder=E+k,e&&document.body.addEventListener("keydown",kk,!1),vk=!1}function di(){if(null!==Ic){var e=Ic.cloneNode(!0);Ic.parentNode.replaceChild(e,Ic),Ic=document.getElementById("search_input")}}function Ek(e){switch(e.keyCode){case Na:T_()?L_():U_()?H_():(yk(),X_());break;case Ra:Ic.value="";break;case Fa:case Ta:Ck(!0),hk=1,wk();break;case Da:Ic.value=Ic.value.slice(0,-1);break;case qa:Ic.value+=" "}}var Sk=0,xk=0,Ik=!1,Pk=0,Gk={},Lk=[],Tk=!1,Bk=0,Ok=5,Hk=3500,Uk=0,Ak=0,Nk=!1,Dk=!1,Fk=!1,qk="",Rk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Vk(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=jc,ru.Search_isSearching=!0,Z_(),qk!==ru.Search_data&&(Dk=!1),h_("top_bar_user",n+$_(_+" '"+ru.Search_data+"'")),document.body.addEventListener("keydown",nM,!1),Dk?(rf(Sk),u_(Rk[10]),E_(xk,Sk,xu,Pk),eM(),j_()):Jk()}function zk(){K_(),document.body.removeEventListener("keydown",nM),c_(Rk[10])}function Jk(){c_(Rk[10]),v_(),P_(),qk=ru.Search_data,Dk=!1,af("stream_table_search_live"),Ak=Uk=0,Gk={},Sk=xk=Pk=0,Ik=!(Wf=!(Fk=!(Lk=[]))),C_(),Xk(),jk()}function Xk(){of(),Tk=!0,Bk=0,Hk=3500}function jk(){var e=new XMLHttpRequest,t=Pk+Uk;t&&Ak-1<t&&(t=Ak-Su,Ik=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(ru.Search_data)+"&limit="+Su+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Hk,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Wk(e.responseText);Yk()}},e.send(null)}function Yk(){++Bk<Ok?(Hk+=500,jk()):(Tk=!1,Pk?(Ik=!0,Kk()):(Wf=!1,g_(),I_(L)))}function Wk(e){var t=JSON.parse(e),n=t.streams.length;Ak=parseInt(t._total),n<Su&&(Ik=!0);var a=Pk;Nk=!(Pk+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.streams[c]).channel._id,Gk[l]?s--:(Gk[l]=1,d.appendChild(hf(o,o+"_"+s,[r.channel.name,l],Rk,[r.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+mv(r.created_at)+b+", "+v+D_(r.viewers)+R,F_(r.video_height,r.average_fps,r.channel.language)])));for(;s<xu;s++)Ik&&!Fk&&(Fk=!0,Pk=o*xu+s),d.appendChild(uf(Rk[9]+o+"_"+s)),Lk.push(Rk[9]+o+"_"+s);document.getElementById("stream_table_search_live").appendChild(d)}Kk()}function Kk(){Uf(function(){if(Dk){if(sf(t_),0<Lk.length&&!Ik)return Xk(),void Zk();E_(xk,Sk,xu,Pk),Lk=[]}else g_(),Nk?I_(d):(Dk=!0,sf(t_),eM(),j_()),u_(Rk[10]),Wf=!1;Tk=!1})}function Zk(){var e=new XMLHttpRequest;x_(Lk.length);var t=Pk+Uk;t&&Ak-1<t&&(t=Ak-Hu,Ik=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(ru.Search_data)+"&limit="+Hu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Hk,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Qk(e.responseText);$k()}},e.send(null)}function $k(){++Bk<Ok?(Hk+=500,Zk()):(Ik=!0,Pk-=Lk.length,Lk=[],Kk())}function Qk(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Ak=parseInt(a._total),i<Hu&&(Ik=!0);s<Lk.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Gk[n]?s--:(Gk[n]=1,pf(Lk[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+D_(t.viewers)+R,F_(t.video_height,t.average_fps,t.channel.language)],Rk),d.push(s));for(s=d.length-1;-1<s;s--)Lk.splice(d[s],1);Uk+=o,Ik&&(Pk-=Lk.length,Lk=[]),Kk()}function eM(){Ef(Sk,xk,Rk,xu,Pk),Pk/xu<Sk+Iu&&!Ik&&!Tk&&(Xk(),jk()),uu&&tM()}function tM(){Pk&&Bf(Sk+"_"+xk,Rk)}function nM(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(tM(),Zf(nM));break;case Pa:if(R_(Sk,xk-1,Rk[0]))tM(),xk--,eM();else for(t=xu-1;-1<t;t--)if(R_(Sk-1,t,Rk[0])){tM(),Sk--,xk=t,eM();break}break;case La:R_(Sk,xk+1,Rk[0])?(tM(),xk++,eM()):R_(Sk+1,0,Rk[0])&&(tM(),Sk++,xk=0,eM());break;case Ga:for(t=0;t<xu;t++)if(R_(Sk-1,xk-t,Rk[0])){tM(),Sk--,xk-=t,eM();break}break;case Ta:for(t=0;t<xu;t++)if(R_(Sk+1,xk-t,Rk[0])){tM(),Sk++,xk-=t,eM();break}break;case Ia:case Ca:Jk();break;case Sa:case Ea:case xa:case Ba:xf(Sk+"_"+xk,Rk,nM);break;case Oa:Vf(nM);break;case Ha:zk(),ru.Search_isSearching=!1,tf();break;case Ua:O_();break;case Aa:ru.Main_Go=Jc,zk(),X_()}}var aM=0,iM={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["85%","100%","130%","160%"],defaultValue:2},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:sM(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Español [ES][ES-MX]","Español - España [ES]","Español - Latinoamérica [ES-MX]","Français [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Português [PT][PT-BR]","Português -Portugal [PT]","Português - Brasil [PT-BR]","Slovenčina [SK]","Suomi [FI]","Svenska [SV]","Tiếng Việt [VI]","Türkçe [TR]","Čeština [CS]","Ελληνικά [EL]","Български [BG]","Русский [RU]","ภาษาไทย [TH]","中文 [ZH-ALL]","中文 简体 [ZH-CN]","中文 繁體 [ZH-TW]","日本語 [JA]","한국어 [KO]","Română [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function sM(){var e=[],t=43200,n=0;for(mp=0;n<48;n++)e.push("-"+_v(t)),t-=900;for(e.push(_v(0)),t=900,n=0;n<48;n++)e.push(_v(t)),t+=900;return e}var oM=[],dM=0;function rM(){J_(),document.body.addEventListener("keydown",xM,!1),l_("label_refresh","icon-arrow-circle-left",I),p_("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",f_("top_bar_user","icon_center_focus"),u_("settings_scroll"),wM(aM=0)}function lM(){document.body.removeEventListener("keydown",xM),kM(),p_("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",m_("top_bar_user","icon_center_focus"),l_("label_refresh","icon-refresh",t+Jt),c_("settings_scroll")}function cM(){var e,t="";t+=uM("general",pn),e="clock_offset",oM.push(e),t+=_M(e,Vn),e="content_lang",oM.push(e),t+=_M(e,Jn),e="restor_playback",oM.push(e),iM[e].values=[In,xn],t+=fM(e,Pn,Gn),e="videos_animation",oM.push(e),iM[e].values=[In,xn],t+=_M(e,On),t+=uM("play",cn),e="chat_font_size",oM.push(e),t+=fM(e,Ln,Tn),e="force_disable_chat",oM.push(e),iM[e].values=[In,xn],h_("settings_main",t+=fM(e,$n,Qn)),dM=oM.length}function uM(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function _M(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function fM(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function mM(e,t,n){h_(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function hM(){var e="";for(e in p_("setting_title_general",pn),p_((e="clock_offset")+"_name",Vn),p_((e="content_lang")+"_name",Jn),iM[e].values[0]=Xn,p_(e,vM(e)),p_("setting_title_play",cn),mM(e="restor_playback",Pn,Gn),iM[e].values=[In,xn],mM(e="chat_font_size",Ln,Tn),mM(e="force_disable_chat",$n,Qn),iM[e].values=[In,xn],p_((e="videos_animation")+"_name",On),iM[e].values=[In,xn],iM)iM.hasOwnProperty(e)&&p_(e,vM(e))}function pM(){for(var e in iM)iM[e].defaultValue=im(e,iM[e].defaultValue),iM[e].defaultValue-=1;SM(),YS=yM("videos_animation"),gu=gM("content_lang"),ru.Play_ChatForceDisable=yM("force_disable_chat")}function vM(e){return iM[e].values[yM(e)]}function gM(e){return iM[e].set_values[yM(e)]}function yM(e){return iM[e].defaultValue}function bM(e){return iM[e].values.length-1}function wM(e){var t=oM[aM];f_(t,"settings_value_focus"),f_(t+"_div","settings_div_focus"),CM(e)}function kM(){var e=oM[aM];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",m_(e,"settings_value_focus"),m_(e+"_div","settings_div_focus")}function MM(e){var t=oM[e];am(t,yM(t)+1),p_(t,vM(t)),CM(e),EM(e)}function CM(e){var t=oM[e],n=yM(t),a=bM(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function EM(e){"content_lang"===(e=oM[e])?gu=gM("content_lang"):"videos_animation"===e?YS=yM("videos_animation"):"force_disable_chat"===e?ru.Play_ChatForceDisable=yM("force_disable_chat"):"chat_font_size"===e?Op():"clock_offset"===e&&(SM(),Nf())}function SM(){var e=yM("clock_offset");Wu=e<48?-9e5*(48-e):9e5*(e-48)}function xM(e){var t;switch(e.keyCode){case Na:T_()?L_():U_()?H_():(lM(),X_());break;case Pa:0<yM(t=oM[aM])&&(iM[t].defaultValue-=1,MM(aM));break;case La:yM(t=oM[aM])<bM(t)&&(iM[t].defaultValue+=1,MM(aM));break;case Ga:0<aM&&(kM(),wM(--aM));break;case Ta:aM<dM-1&&(kM(),wM(++aM));break;case Ia:case Ca:case ka:case Ma:case Sa:case Ea:case xa:case Ba:break;case Oa:Vf(xM);break;case Ha:break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=ru.Main_Go,ru.Main_Go=Jc,lM(),X_()}}var IM=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(o,""):e,n=[],a=0,i=0,s=0;s<t.length;)a=t.charCodeAt(s++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,o=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),PM=0,GM=0,LM=!1,TM=0,BM=!1,OM=0,HM=5,UM=3500,AM=[],NM=0,DM=!1,FM=!1,qM="",RM=!1,VM=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function zM(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=$c,ru.isLastSChannels=!1,l_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+Q)),document.body.addEventListener("keydown",nC,!1),qM!==Zi[ru.Users_Position].name&&(FM=!1),FM?(rf(PM),u_(VM[6]),E_(GM,PM,Bu,TM),eC(),j_()):XM()}function JM(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",nC),p_("top_bar_user",u),l_("label_side_panel","icon-ellipsis",Hn),c_(VM[6])}function XM(){c_(VM[6]),v_(),P_(),qM=Zi[ru.Users_Position].name,FM=!1,af("stream_table_user_channels"),PM=GM=TM=NM=0,RM=LM=!1,Wf=!0,C_(),AM=[],jM(),YM()}function jM(){of(),BM=!0,OM=0,UM=3500}function YM(){lm("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi[ru.Users_Position].id)+"/follows/channels?limit=100&offset="+NM+"&sortby=created_at&",UM,2,null,KM,WM)}function WM(){++OM<HM?(UM+=500,YM()):(BM=!1,TM?(LM=!0,QM()):(Wf=!1,g_(),I_(L)))}function KM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel.name+","+t[i].channel._id+","+t[i].channel.logo+","+t[i].channel.display_name,-1===AM.indexOf(a)&&AM.push(a);NM+=n,jM(),YM()}else AM.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),ZM()}function ZM(){var e=Tu,t=TM,n=AM.length-t;n<e&&(e=n),e<Tu&&(LM=!0),DM=!(TM+=e);var a=e/Bu;0<e%Bu&&a++;for(var i,s,o,d=t,r=0;r<a;r++){for(s=t/Bu+r,o=document.createElement("tr"),i=0;i<Bu&&d<AM.length;i++,d++)o.appendChild($M(s,s+"_"+i,AM[d].split(",")));for(;i<Bu;i++)LM&&!RM&&(RM=!0,TM=s*Bu+i),o.appendChild(uf(VM[5]+s+"_"+i));document.getElementById("stream_table_user_channels").appendChild(o)}QM()}function $M(e,t,n){return e<4&&cf(n[2]),_f(t,VM,n)}function QM(){Uf(function(){FM?sf(e_):(g_(),DM?I_(T+Q):(FM=!0,sf(e_),eC(),j_()),u_(VM[6]),Wf=!1),BM=!1,E_(GM,PM,Bu,TM)})}function eC(){Cf(PM,GM,VM,Bu,TM),TM/Bu<PM+Ou&&!LM&&!BM&&(jM(),YM()),uu&&tC()}function tC(){TM&&Bf(PM+"_"+GM,VM)}function nC(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(tC(),Zf(nC));break;case Pa:if(R_(PM,GM-1,VM[0]))tC(),GM--,eC();else for(t=Bu-1;-1<t;t--)if(R_(PM-1,t,VM[0])){tC(),PM--,GM=t,eC();break}break;case La:R_(PM,GM+1,VM[0])?(tC(),GM++,eC()):R_(PM+1,0,VM[0])&&(tC(),PM++,GM=0,eC());break;case Ga:for(t=0;t<Bu;t++)if(R_(PM-1,GM-t,VM[0])){tC(),PM--,GM-=t,eC();break}break;case Ta:for(t=0;t<Bu;t++)if(R_(PM+1,GM-t,VM[0])){tC(),PM++,GM-=t,eC();break}break;case Ia:case Ca:XM();break;case ka:ru.Main_Go=Rc,JM(),X_();break;case Ma:fs()&&Zi[ru.Users_Position].access_token?ru.Main_Go=ou:ru.Main_Go=zc,JM(),X_();break;case Sa:case Ea:case xa:case Ba:ru.Main_selectedChannel=document.getElementById(VM[4]+PM+"_"+GM).getAttribute(Ju),ru.Main_selectedChannel_id=document.getElementById(VM[4]+PM+"_"+GM).getAttribute("data-id"),ru.Main_selectedChannelDisplayname=document.getElementById(VM[3]+PM+"_"+GM).textContent,ru.Main_selectedChannelLogo=document.getElementById(VM[1]+PM+"_"+GM).src,document.body.removeEventListener("keydown",nC),ru.Main_BeforeChannel=$c,ru.Main_Go=Yc,ru.Main_BeforeChannelisSet=!0,td=Wa=!0,c_(VM[6]),X_();break;case Oa:Vf(nC);break;case Ha:JM(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=$c,ru.Main_Go=Jc,JM(),X_()}}var aC=0,iC=0,sC=!1,oC=0,dC={},rC=[],lC=!1,cC=0,uC=5,_C=3500,fC=0,mC=0,hC=!1,pC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],vC=!1,gC="",yC=!1;function bC(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Vc,l_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+Z)),document.body.addEventListener("keydown",BC,!1),gC!==Zi[ru.Users_Position].name&&(vC=!1),vC?(rf(aC),u_(pC[10]),E_(iC,aC,xu,oC),LC(),j_()):kC()}function wC(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",BC),p_("top_bar_user",u),l_("label_side_panel","icon-ellipsis",Hn),c_(pC[10])}function kC(){c_(pC[10]),v_(),P_(),gC=Zi[ru.Users_Position].name,vC=!1,af("stream_table_user_host"),dC={},oC=mC=fC=0,aC=iC=0,sC=!(Wf=!(yC=!(rC=[]))),C_(),MC(),CC()}function MC(){of(),lC=!0,cC=0,_C=3500}function CC(){var e=oC+fC;e&&mC-1<e&&(e=mC-Su,sC=!0),lm("https://api.twitch.tv/api/users/"+encodeURIComponent(Zi[ru.Users_Position].name)+"/followed/hosting?limit="+Su+"&offset="+e,_C,2,null,SC,EC)}function EC(){++cC<uC?(_C+=500,CC()):(lC=!1,oC?(sC=!0,xC()):(Wf=!1,g_(),I_(L)))}function SC(e){var t=JSON.parse(e),n=t.hosts.length;mC=parseInt(t._total),n<Su&&(sC=!0);var a=oC;hC=!(oC+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.hosts[c]).target._id+""+r._id,dC[l]?s--:(dC[l]=1,d.appendChild(hf(o,o+"_"+s,[r.target.channel.name,r.target._id],pC,[r.target.preview_urls.template.replace("{width}x{height}",Ru),r.display_name+ae+r.target.channel.display_name,r.target.title,r.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+D_(r.target.viewers)+R,""])));for(;s<xu;s++)sC&&!yC&&(yC=!0,oC=o*xu+s),d.appendChild(uf(pC[9]+o+"_"+s)),rC.push(pC[9]+o+"_"+s);document.getElementById("stream_table_user_host").appendChild(d)}xC()}function xC(){Uf(function(){if(vC){if(sf(t_),0<rC.length&&!sC)return MC(),void IC();E_(iC,aC,xu,oC),rC=[]}else g_(),hC?I_(T+Z):(vC=!0,LC(),sf(t_),j_()),u_(pC[10]),Wf=!1;lC=!1})}function IC(){x_(rC.length);var e=oC+fC;e&&mC-1<e&&(e=mC-Hu,sC=!0),lm("https://api.twitch.tv/api/users/"+encodeURIComponent(Zi[ru.Users_Position].name)+"/followed/hosting?limit="+Hu+"&offset="+e,_C,2,null,GC,PC)}function PC(){++cC<uC?(_C+=500,IC()):(sC=!0,oC-=rC.length,rC=[],xC())}function GC(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(mC=parseInt(a._total),i<Hu&&(sC=!0);s<rC.length&&o<i;s++,o++)n=(t=a.hosts[o]).target._id+""+t._id,dC[n]?s--:(dC[n]=1,pf(rC[s],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Ru),t.display_name+ae+t.target.channel.display_name,t.target.title,t.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+D_(t.target.viewers)+R,""],pC),d.push(s));for(s=d.length-1;-1<s;s--)rC.splice(d[s],1);fC+=o,sC&&(oC-=rC.length,rC=[]),xC()}function LC(){Ef(aC,iC,pC,xu,oC),oC/xu<aC+Iu&&!sC&&!lC&&(MC(),CC()),uu&&TC()}function TC(){oC&&Bf(aC+"_"+iC,pC)}function BC(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(TC(),Zf(BC));break;case Pa:if(R_(aC,iC-1,pC[0]))TC(),iC--,LC();else for(t=xu-1;-1<t;t--)if(R_(aC-1,t,pC[0])){TC(),aC--,iC=t,LC();break}break;case La:R_(aC,iC+1,pC[0])?(TC(),iC++,LC()):R_(aC+1,0,pC[0])&&(TC(),aC++,iC=0,LC());break;case Ga:for(t=0;t<xu;t++)if(R_(aC-1,iC-t,pC[0])){TC(),aC--,iC-=t,LC();break}break;case Ta:for(t=0;t<xu;t++)if(R_(aC+1,iC-t,pC[0])){TC(),aC++,iC-=t,LC();break}break;case Ia:case Ca:kC();break;case ka:ru.Main_Go=zc,wC(),X_();break;case Ma:ru.Main_Go=Rc,wC(),X_();break;case Sa:case Ea:case xa:case Ba:xf(aC+"_"+iC,pC,BC);break;case Oa:Vf(BC);break;case Ha:wC(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=Vc,ru.Main_Go=Jc,wC(),X_()}}var OC=0,HC=0,UC=!1,AC=0,NC={},DC=[],FC=!1,qC=0,RC=5,VC=3500,zC=0,JC=0,XC=0,jC=!1,YC=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],WC=!1,KC="",ZC="",$C=!1;function QC(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Rc,l_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+K)),document.body.addEventListener("keydown",hE,!1),ZC!==Zi[ru.Users_Position].name&&(WC=!1),WC?(rf(OC),u_(YC[10]),E_(HC,OC,xu,AC),fE(),j_()):tE()}function eE(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",hE),p_("top_bar_user",u),l_("label_side_panel","icon-ellipsis",Hn),c_(YC[10])}function tE(){c_(YC[10]),v_(),P_(),WC=!1,ZC=Zi[ru.Users_Position].name,af("stream_table_user_live"),JC=zC=XC=0,NC={},OC=HC=AC=0,UC=!(Wf=!($C=!(DC=[]))),KC="",C_(),nE(),aE()}function nE(){of(),FC=!0,qC=0,VC=3500}function aE(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi[ru.Users_Position].id)+"/follows/channels?limit=100&offset="+XC+"&sortby=created_at";if(Ku){if(!(e=Android.mreadUrl(t,VC,2,null)))return void iE();200===(e=JSON.parse(e)).status?sE(e.responseText):iE()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=VC,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void sE(e.responseText);iE()}},e.send(null)}function iE(){++qC<RC?(VC+=500,aE()):(FC=!1,AC?(UC=!0,lE()):(Wf=!1,g_(),I_(L)))}function sE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===KC.indexOf(a)&&(KC+=a);XC+=n,nE(),aE()}else KC=KC.slice(0,-1),nE(),oE()}function oE(){var e=AC+zC;e&&JC-1<e&&(e=JC-Su,UC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(KC)+"&limit="+Su+"&offset="+e+"&stream_type=all";if(Ku){if(!(t=Android.mreadUrl(n,VC,2,null)))return void dE();200===(t=JSON.parse(t)).status?rE(t.responseText):dE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=VC,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void rE(t.responseText);dE()}},t.send(null)}function dE(){++qC<RC?(VC+=500,oE()):(FC=!1,g_(),I_(L))}function rE(e){var t=JSON.parse(e),n=t.streams.length;JC=parseInt(t._total),n<Su&&(UC=!0);var a=AC;jC=!(AC+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,r,l,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.streams[c]).channel._id,NC[l]?s--:(NC[l]=1,d.appendChild(hf(o,o+"_"+s,[r.channel.name,l],YC,[r.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+mv(r.created_at)+b+", "+v+D_(r.viewers)+R,F_(r.video_height,r.average_fps,r.channel.language)])));for(;s<xu;s++)UC&&!$C&&($C=!0,AC=o*xu+s),d.appendChild(uf(YC[9]+o+"_"+s)),DC.push(YC[9]+o+"_"+s);document.getElementById("stream_table_user_live").appendChild(d)}lE()}function lE(){Uf(function(){if(WC){if(sf(t_),0<DC.length&&!UC)return nE(),void cE();E_(HC,OC,xu,AC),DC=[]}else g_(),jC?I_(T+K):(WC=!0,fE(),sf(t_),j_()),u_(YC[10]),Wf=!1;FC=!1})}function cE(){x_(DC.length);var e=AC+zC;e&&JC-1<e&&(e=JC-Hu,UC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(KC)+"&limit="+Hu+"&offset="+e+"&stream_type=all";if(Ku){if(!(t=Android.mreadUrl(n,VC,2,null)))return void uE();200===(t=JSON.parse(t)).status?_E(t.responseText):uE()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=VC,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void _E(t.responseText);uE()}},t.send(null)}function uE(){++qC<RC?(VC+=500,cE()):(UC=!0,AC-=DC.length,DC=[],lE())}function _E(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(JC=parseInt(a._total),i<Hu&&(UC=!0);s<DC.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,NC[n]?s--:(NC[n]=1,pf(DC[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+mv(t.created_at)+b+", "+v+D_(t.viewers)+R,F_(t.video_height,t.average_fps,t.channel.language)],YC),d.push(s));for(s=d.length-1;-1<s;s--)DC.splice(d[s],1);zC+=o,UC&&(AC-=DC.length,DC=[]),lE()}function fE(){Ef(OC,HC,YC,xu,AC),AC/xu<OC+Iu&&!UC&&!FC&&(nE(),aE()),uu&&mE()}function mE(){AC&&Bf(OC+"_"+HC,YC)}function hE(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(mE(),Zf(hE));break;case Pa:if(R_(OC,HC-1,YC[0]))mE(),HC--,fE();else for(t=xu-1;-1<t;t--)if(R_(OC-1,t,YC[0])){mE(),OC--,HC=t,fE();break}break;case La:R_(OC,HC+1,YC[0])?(mE(),HC++,fE()):R_(OC+1,0,YC[0])&&(mE(),OC++,HC=0,fE());break;case Ga:for(t=0;t<xu;t++)if(R_(OC-1,HC-t,YC[0])){mE(),OC--,HC-=t,fE();break}break;case Ta:for(t=0;t<xu;t++)if(R_(OC+1,HC-t,YC[0])){mE(),OC++,HC-=t,fE();break}break;case Ia:case Ca:tE();break;case ka:ru.Main_Go=Vc,eE(),X_();break;case Ma:ru.Main_Go=$c,eE(),X_();break;case Sa:case Ea:case xa:case Ba:xf(OC+"_"+HC,YC,hE);break;case Oa:Vf(hE);break;case Ha:eE(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=Rc,ru.Main_Go=Jc,eE(),X_()}}var pE=0,vE=0,gE=8,yE=0,bE=null,wE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],kE=!1,ME=!0;function CE(){return fu?(EE(),void ji(fu)):ys()?(ru.Main_CenterLablesVectorPos=1,ru.Main_Go=Zc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",P_(),f_("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",FE,!1),void(kE?(rf(pE),u_(wE[5]),LE(),j_()):SE())):(ru.Main_Go=Nc,EE(),void X_())}function EE(){ru.Users_Position=0,m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",FE),c_(wE[5]),document.getElementById("screens_holder").style.top="0"}function SE(){c_(wE[5]),v_(),P_(),Wf=!(kE=!1),af("stream_table_user"),ME=!(pE=vE=0),xE()}function xE(){for(var e,t,n,a=document.createElement("tbody"),i=0;i<Zi.length;i++)t=0,n=i%2?"B5B5B5":"FFFFFF",(pu=document.createElement("tr")).className="follower_header",pu.innerHTML='<div class="follower_header">'+Zi[i].name+N+(i?"":oe)+"</div>",document.getElementById("stream_table_user").appendChild(a),document.getElementById("stream_table_user").appendChild(pu),(e=document.createElement("tr")).appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,Yb.isLive?$:Vt,"gamepad",n)),t++,e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,i?e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,se,"arrow-up",n)):e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(IE(i+"_"+t,ru.Main_selectedChannelDisplayname,Zi[i].access_token?yt:gt,"key",n)),document.getElementById("stream_table_user").appendChild(e);PE()}function IE(e,t,n,a,i){return(pu=document.createElement("td")).setAttribute("id",wE[4]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+wE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+wE[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+wE[2]+e+'" class="stream_text"><div id="'+wE[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",pu}function PE(){Uf(function(){kE||(g_(),kE=!0,LE(),j_()),u_(wE[5]),ME=Wf=!1})}function GE(){for(var e=0;e<Zi.length;e++)p_(wE[3]+e+"_2",Yb.isLive?$:Vt)}function LE(){f_(wE[0]+pE+"_"+vE,"stream_thumbnail_focused"),lf(pE)?1<pE?R_(pE+1,0,wE[0])&&Tf(wE[5],-1*document.getElementById(wE[4]+pE+"_"+vE).offsetTop+500):Tf(wE[5],screen.height/100*7):bf(),uu&&TE()}function TE(){cu=!1,m_(wE[0]+pE+"_"+vE,"stream_thumbnail_focused")}function BE(){return ru.Users_Position=pE,3!==vE||Zi[ru.Users_Position].access_token?7===vE&&Zi[ru.Users_Position].access_token?(I_(yt),void window.setTimeout(P_,1500)):(6!==vE&&7!==vE&&(c_(wE[5]),document.body.removeEventListener("keydown",FE),document.getElementById("screens_holder").style.top="0"),void Uf(function(){vE?1===vE?bC():2===vE?(bb=Yb,Eb()):3===vE?dS():4===vE?zM():5===vE?pE?vs(pE):(ru.Main_Before=Zc,ts()):6===vE?UE():7!==vE||Zi[ru.Users_Position].access_token||UE():QC()})):(I_(En),void window.setTimeout(P_,5e3))}function OE(){window.clearTimeout(bE)}function HE(){bE=window.setTimeout(AE,2e4)}function UE(){HE(),6===vE?h_("main_dialog_remove",qt+na+Zi[ru.Users_Position].name+"?"):7===vE&&h_("main_dialog_remove",ut+" "+Zi[ru.Users_Position].name+"?"),u_("main_remove_dialog")}function AE(){OE(),c_("main_remove_dialog"),yE=0,DE()}function NE(){return __("main_remove_dialog")}function DE(){yE?(m_("remove_cancel","button_search_focused"),f_("remove_yes","button_search_focused")):(f_("remove_cancel","button_search_focused"),m_("remove_yes","button_search_focused"))}function FE(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:NE()?AE():T_()?L_():U_()?H_():(TE(),Zf(FE));break;case Pa:if(NE())--yE<0&&(yE=1),DE(),OE(),HE();else if(R_(pE,vE-1,wE[0]))TE(),vE--,LE();else if(R_(pE-1,0,wE[0])){for(t=gE-1;-1<t;t--)if(R_(pE-1,t,wE[0])){TE(),pE--,vE=t,LE();break}}else TE(),vE=gE-1,LE();break;case La:NE()?(1<++yE&&(yE=0),DE(),OE(),HE()):(R_(pE,vE+1,wE[0])?(TE(),vE++):(R_(pE+1,0,wE[0])?(TE(),pE++):TE(),vE=0),LE());break;case Ga:for(t=0;t<gE;t++)if(R_(pE-1,vE-t,wE[0])){TE(),pE--,vE-=t,LE();break}break;case Ta:for(t=0;t<gE;t++)if(R_(pE+1,vE-t,wE[0])){TE(),pE++,vE-=t,LE();break}break;case Ia:case Ca:SE();break;case ka:ru.Main_Before=Zc,ru.Main_Go=su,EE(),X_();break;case Ma:ru.Main_Before=Zc,ru.Main_Go=Nc,EE(),X_();break;case Sa:case Ea:case xa:case Ba:var n;if(NE()){if(6===vE)n=yE,AE(),n&&(document.body.removeEventListener("keydown",FE),EE(),hs(pE));else if(n=yE,AE(),n){ru.Users_AddcodePosition=ru.Users_Position,j_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Uu)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else BE();break;case Oa:Vf(FE);break;case Ha:EE(),tf();break;case Ua:O_();break;case Aa:ru.Main_BeforeSearch=Zc,ru.Main_Go=Jc,EE(),X_()}}var qE=0,RE=0,VE=!1,zE=0,JE={},XE=[],jE=!1,YE=0,WE=5,KE=3500,ZE=0,$E=0,QE=!1,eS=!1,tS="time",nS=2,aS=!1,iS=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],sS=!1,oS=!1;function dS(){ru.Main_CenterLablesVectorPos=1,ru.Main_Go=ou,f_("top_bar_user","icon_center_focus"),l_("label_side_panel","icon-arrow-circle-left",I),h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+(oS?U:H))),document.body.addEventListener("keydown",ES,!1),sS?(rf(qE),u_(iS[10]),E_(RE,qE,xu,zE),SS(),wS(),j_()):lS()}function rS(){sS&&kS(),m_("top_bar_user","icon_center_focus"),l_("label_side_panel","icon-ellipsis",Hn),document.body.removeEventListener("keydown",ES),p_("top_bar_user",u),c_(iS[10])}function lS(){sS&&kS(),c_(iS[10]),v_(),SS(),P_(),sS=!1,af("stream_table_user_vod"),aS=!1,$E=ZE=0,JE={},qE=RE=zE=0,VE=!(Wf=!(eS=!(XE=[]))),C_(),uS()}function cS(){of(),jE=!0,YE=0,KE=3500}function uS(){cS(),_S()}function _S(){var e=zE+ZE;e&&$E-1<e&&(e=$E-Su,VE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Su+"&broadcast_type="+(oS?"highlight":"archive")+"&sort="+tS+"&offset="+e;if(Ku){if(!(t=Android.mreadUrl(n,KE,3,Fu+Zi[ru.Users_Position].access_token)))return void fS();if(200===(t=JSON.parse(t)).status)return void hS(t.responseText);401===t.status||403===t.status?li(ru.Users_Position,0,uS,mS):fS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=KE,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.setRequestHeader(Du,Fu+Zi[ru.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void hS(t.responseText);401===t.status||403===t.status?li(ru.Users_Position,0,uS,mS):fS()}},t.send(null)}function fS(){++YE<WE?(KE+=500,_S()):mS()}function mS(){jE=!1,zE?(VE=!0,pS()):(Wf=!1,g_(),I_(L))}function hS(e){var t=JSON.parse(e),n=t.videos.length;$E=parseInt(t._total),n<Su&&(VE=!0);var a=zE;QE=!(zE+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,r,l,c=0;if(!aS){var u;for(aS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",iS[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+iS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+iS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_user_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.videos[c])._id,-1!==(r.preview.template+"").indexOf("404_processing")||JE[l]?s--:(JE[l]=1,d.appendChild(ax(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[r.preview.template.replace("{width}x{height}",Ru),r.channel.display_name,D+Q_(r.created_at),IM.parse(r.title)+na+Yt+p+r.game,D_(r.views)+q,F_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),F+_v(r.length),r.animated_preview_url],iS)));for(;s<xu;s++)VE&&!eS&&(eS=!0,zE=o*xu+s),d.appendChild(uf(iS[9]+o+"_"+s)),XE.push(iS[9]+o+"_"+s);document.getElementById("stream_table_user_vod").appendChild(d)}pS()}function pS(){Uf(function(){sS?sf(t_):(g_(),QE?I_(T+(oS?U:H)+B+x):(sS=!0,wS(),sf(t_),j_()),u_(iS[10]),Wf=!1),0<XE.length&&!VE?vS():(E_(RE,qE,xu,zE),jE=!(XE=[]))})}function vS(){cS(),gS()}function gS(){x_(XE.length);var e=zE+ZE;e&&$E-1<e&&(e=$E-Hu,VE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Hu+"&broadcast_type="+(oS?"highlight":"archive")+"&sort="+tS+"&offset="+e;if(Ku){if(!(t=Android.mreadUrl(n,KE,3,Fu+Zi[ru.Users_Position].access_token)))return void yS();if(200===(t=JSON.parse(t)).status)return void bS(t.responseText);401===t.status||403===t.status?li(ru.Users_Position,0,uS,mS):yS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=KE,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.setRequestHeader(Du,Fu+Zi[ru.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void bS(t.responseText);401===t.status||403===t.status?li(ru.Users_Position,0,uS,mS):yS()}},t.send(null)}function yS(){++YE<WE?(KE+=500,gS()):(VE=!0,zE-=XE.length,XE=[],pS())}function bS(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for($E=parseInt(a._total);s<XE.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||JE[n]?s--:(JE[n]=1,sx(XE[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,D+Q_(t.created_at),IM.parse(t.title)+na+Yt+p+t.game,D_(t.views)+q,F_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),F+_v(t.length),t.animated_preview_url],iS),d.push(s));for(s=d.length-1;-1<s;s--)XE.splice(d[s],1);ZE+=o,VE&&(zE-=XE.length,XE=[]),pS()}function wS(){qE<0?MS():(Ef(qE,RE,iS,xu,zE),hx(iS,qE+"_"+RE),zE/xu<qE+Iu&&!VE&&!jE&&uS(),uu&&kS())}function kS(){window.clearInterval(xS),-1<qE&&zE?(u_(iS[1]+qE+"_"+RE),Bf(qE+"_"+RE,iS)):CS()}function MS(){var e=1<RE?1:RE;f_(iS[0]+"y_"+e,zu)}function CS(){var e=1<RE?1:RE;m_(iS[0]+"y_"+e,zu)}function ES(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:T_()?L_():T_()?L_():U_()?H_():(kS(),Zf(ES));break;case Pa:if(-1===qE)CS(),--RE<0&&(RE=1),MS();else if(qE||RE){if(R_(qE,RE-1,iS[0]))kS(),RE--,wS();else for(t=xu-1;-1<t;t--)if(R_(qE-1,t,iS[0])){kS(),qE--,RE=t,wS();break}}else kS(),CS(),qE=-1,RE=1,MS();break;case La:-1===qE?(CS(),1<++RE?(RE=0,QE?MS():(qE=0,wS())):MS()):R_(qE,RE+1,iS[0])?(kS(),RE++,wS()):R_(qE+1,0,iS[0])&&(kS(),qE++,RE=0,wS());break;case Ga:if(-1!==qE||QE)if(qE){for(t=0;t<xu;t++)if(R_(qE-1,RE-t,iS[0])){kS(),qE--,RE-=t,wS();break}}else kS(),qE=-1,MS();else qE=0,CS(),wS();break;case Ta:if(-1!==qE||QE){for(t=0;t<xu;t++)if(R_(qE+1,RE-t,iS[0])){kS(),qE++,RE-=t,wS();break}}else qE=0,CS(),wS();break;case ka:ru.Main_Go=$c,rS(),X_();break;case Ma:ru.Main_Go=zc,rS(),X_();break;case Ia:case Ca:am("UserVod_highlight",(oS=!oS)?"true":"false"),lS();break;case Sa:case Ea:case xa:case Ba:-1===qE?(0===RE?am("UserVod_highlight",(oS=!oS)?"true":"false"):1===nS?nS++:nS--,lS()):Gf(qE+"_"+RE,iS,ES);break;case Oa:Vf(ES);break;case Ha:rS(),tf();break;case Ua:1===nS?nS++:nS--,lS();break;case Aa:ru.Search_isSearching||(ru.Main_BeforeSearch=ou),ru.Main_Go=Jc,rS(),X_()}}function SS(){1===nS?(h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+" "+(oS?U:H)+Mn)),tS="time"):2===nS&&(h_("top_bar_user",u+$_(Zi[ru.Users_Position].name+" "+(oS?U:H)+Cn)),tS="views"),am("UserVod_TypeNumber",nS)}var xS,IS=0,PS=0,GS=!1,LS=0,TS={},BS=[],OS=!1,HS=0,US=5,AS=3500,NS=0,DS=0,FS=!1,qS=!1,RS="week",VS=2,zS=!1,JS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],XS=!1,jS=!1,YS=1,WS=new Image;function KS(){ru.Main_CenterLablesVectorPos=4,ru.Main_Go=tu,f_("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",px,!1),XS?(rf(IS),u_(JS[10]),E_(PS,IS,xu,LS),vx(),ux(),j_()):$S()}function ZS(){XS&&_x(),K_(),document.body.removeEventListener("keydown",px),m_("top_bar_vod","icon_center_focus"),p_("top_bar_vod",Kt),c_(JS[10])}function $S(){XS&&_x(),c_(JS[10]),v_(),vx(),P_(),XS=!1,af("stream_table_vod"),zS=!1,DS=NS=0,TS={},IS=PS=LS=0,GS=!(Wf=!(qS=!(BS=[]))),C_(),QS(),ex()}function QS(){of(),OS=!0,HS=0,AS=3500}function ex(){var e=LS+NS;e&&DS-1<e&&(e=DS-Su,GS=!0),lm("https://api.twitch.tv/kraken/videos/top?limit="+Su+"&broadcast_type="+(jS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RS+(""!==gu?"&language="+gu:""),AS,2,null,nx,tx)}function tx(){++HS<US?(AS+=500,ex()):(OS=!1,LS?(GS=!0,dx()):(Wf=!1,g_(),I_(L)))}function nx(e){var t=JSON.parse(e),n=t.vods.length;DS=parseInt(t._total),n<Su&&(GS=!0);var a=LS;FS=!(LS+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,r,l,c=0;if(!zS){var u;for(zS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",JS[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+JS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+JS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)l=(r=t.vods[c])._id,-1!==(r.preview.template+"").indexOf("404_processing")||TS[l]?s--:(TS[l]=1,d.appendChild(ax(o,o+"_"+s,[l,r.length,r.language,r.game,r.channel.name,r.increment_view_count_url],[r.preview.template.replace("{width}x{height}",Ru),r.channel.display_name,D+Q_(r.created_at),IM.parse(r.title)+na+Yt+p+r.game,D_(r.views)+q,F_(r.resolutions.chunked.slice(-4),parseInt(r.fps.chunked)||0,r.language),F+_v(r.length),r.animated_preview_url],JS)));for(;s<xu;s++)GS&&!qS&&(qS=!0,LS=o*xu+s),d.appendChild(uf(JS[9]+o+"_"+s)),BS.push(JS[9]+o+"_"+s);document.getElementById("stream_table_vod").appendChild(d)}dx()}function ax(e,t,n,a,i){return e<xu&&cf(a[0]),ix(n,t,a,i)}function ix(e,t,n,a){return(pu=document.createElement("td")).setAttribute("id",a[8]+t),pu.setAttribute(Ju,JSON.stringify(e)),pu.className="stream_cell",pu.innerHTML=ox(t,n,a),pu}function sx(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Ju,JSON.stringify(t)),i.innerHTML=ox(s,n,a),i.setAttribute("id",a[8]+s)}function ox(e,t,n){return df(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function dx(){Uf(function(){if(XS?sf(t_):(g_(),FS?I_(T+(jS?U:H)+B+x):(XS=!0,ux(),sf(t_),j_()),u_(JS[10]),Wf=!1),0<BS.length&&!GS)return QS(),void rx();E_(PS,IS,xu,LS),OS=!(BS=[])})}function rx(){x_(BS.length);var e=LS+NS;e&&DS-1<e&&(e=DS-Hu,GS=!0),lm("https://api.twitch.tv/kraken/videos/top?limit="+Hu+"&broadcast_type="+(jS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RS+(""!==gu?"&language="+gu:""),AS,2,null,cx,lx)}function lx(){++HS<US?(AS+=500,rx()):(GS=!0,LS-=BS.length,BS=[],dx())}function cx(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(DS=parseInt(a._total);s<BS.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||TS[n]?s--:(TS[n]=1,sx(BS[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,D+Q_(t.created_at),IM.parse(t.title)+na+Yt+p+t.game,D_(t.views)+q,F_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),F+_v(t.length),t.animated_preview_url],JS),d.push(s));for(s=d.length-1;-1<s;s--)BS.splice(d[s],1);NS+=o,GS&&(LS-=BS.length,BS=[]),dx()}function ux(){IS<0?fx():(Ef(IS,PS,JS,xu,LS),hx(JS,IS+"_"+PS),LS/xu<IS+Iu&&!GS&&!OS&&(QS(),ex()),uu&&_x())}function _x(){window.clearInterval(xS),-1<IS&&LS?(u_(JS[1]+IS+"_"+PS),Bf(IS+"_"+PS,JS)):mx()}function fx(){var e=1<PS?1:PS;f_(JS[0]+"y_"+e,zu)}function mx(){var e=1<PS?1:PS;m_(JS[0]+"y_"+e,zu)}function hx(t,n){if(YS){var a=document.getElementById(t[0]+n);WS.onload=function(){c_(t[1]+n),a.style.backgroundSize="612px";var e=0;xS=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},WS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function px(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?H_():T_()?L_():(_x(),Zf(px));break;case Pa:if(-1===IS)mx(),--PS<0&&(PS=1),fx();else if(IS||PS){if(R_(IS,PS-1,JS[0]))_x(),PS--,ux();else for(t=xu-1;-1<t;t--)if(R_(IS-1,t,JS[0])){_x(),IS--,PS=t,ux();break}}else _x(),mx(),IS=-1,PS=1,fx();break;case La:-1===IS?(mx(),1<++PS?(PS=0,FS?fx():(IS=0,ux())):fx()):R_(IS,PS+1,JS[0])?(_x(),PS++,ux()):R_(IS+1,0,JS[0])&&(_x(),IS++,PS=0,ux());break;case Ga:if(-1!==IS||FS)if(IS){for(t=0;t<xu;t++)if(R_(IS-1,PS-t,JS[0])){_x(),IS--,PS-=t,ux();break}}else _x(),IS=-1,fx();else IS=0,mx(),ux();break;case Ta:if(-1!==IS||FS){for(t=0;t<xu;t++)if(R_(IS+1,PS-t,JS[0])){_x(),IS++,PS-=t,ux();break}}else IS=0,mx(),ux();break;case ka:ru.Main_Before=tu,ru.Main_Go=nu,ZS(),X_();break;case Ma:ru.Main_Before=tu,ru.Main_Go=Fc,ZS(),X_();break;case Ia:case Ca:am("Vod_highlight",(jS=!jS)?"true":"false"),$S();break;case Sa:case Ea:case xa:case Ba:-1===IS?(0===PS?am("Vod_highlight",(jS=!jS)?"true":"false"):4<++VS&&(VS=1),$S()):Gf(IS+"_"+PS,JS,px);break;case Oa:Vf(px);break;case Ha:ZS(),tf();break;case Ua:4<++VS&&(VS=1),$S();break;case Aa:ru.Search_isSearching||(ru.Main_BeforeSearch=tu),ru.Main_Go=Jc,ZS(),X_()}}function vx(){1===VS?(h_("top_bar_vod",Kt+$_((jS?U:H)+re)),RS="day"):2===VS?(h_("top_bar_vod",Kt+$_((jS?U:H)+le)),RS="week"):3===VS?(h_("top_bar_vod",Kt+$_((jS?U:H)+ce)),RS="month"):4===VS&&(h_("top_bar_vod",Kt+$_((jS?U:H)+ue)),RS="all"),am("vod_periodNumber",VS)}