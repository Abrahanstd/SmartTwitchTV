var t,n,i,e,a,o,s,d,l,r,p,c,u,_,f,h,v,m,g,y,b,w,A,k,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,Ae,ke,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,At,kt,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,An,kn,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ri,ci,ui,_i,fi,hi,mi="fglfgl27@gmail.com",pi="<br>",vi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',gi='<div class="about_text_title">',yi='<div class="about_text_title" style="text-align: left;">',bi='<div style="text-align: left;">',wi="",Ai="",ki="",Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="&nbsp;";function Ti(){wi=e+" (C)",Ai=n+" (D)",Ci=i+" (A)",ki=a+" (A)",l+=Zt,r+=Zt,I=ai+oi,Ei=gi+e+"</div>"+gi+Ce+"</div>"+pi+bi+vi+xe+pi+vi+(Pe+=Yt)+pi+vi+Te+pi+vi+ci+pi+vi+Le+pi+Be+pi+vi+Oe+pi+Pi+Pi+Pi+Ge+pi+vi+Ue+pi+"</div>"+pi+(Si=gi+Ae+"</div>"+bi+vi+nt+pi+vi+$e+pi+vi+et+pi+"</div>"+bi+vi+tt+pi+vi+it+pi+vi+at+pi+pi+gi+ke+"</div>"+bi+vi+ot+pi+vi+st+pi+vi+dt+pi+vi+lt+pi+vi+rt)+pi+pi+gi+we+"</div>",Mi=gi+be+"</div></div>",Ii=bi+pi+Re+pi+(Yl?pi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+pi+gi+Ne+"</div>"+mi+pi+pi+De+pi+Ve+pi+pi+yi+Je+"</div>"+bi+We+pi+vi+He+pi+vi+Fe+pi+vi+qe+pi+vi+ze+pi+vi+Xe+pi+vi+Ye+pi+vi+je+pi+Qe+pi+vi+Ze+pi+vi+Ke+pi+gi+we+"</div></div>",xi=ht+pi+vi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+pi+vi+pt+pi+vi+vt+pi+vi+gt+pi+vi+yt}function Li(){xr=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",c="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",A="Type your authentication key...",k="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",Ae="Player Related:",ke="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ci="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",At="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+pi+"Chat: Connected."+pi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",kn=(An="From:"+pi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ri="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed"}var Bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ui="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ri=51,Ni=52,Di=179,Vi=37,Ji=38,Hi=39,Fi=40,qi=13,zi=49,Xi=8,Yi=13,ji=32,Wi=46,Qi=0,Zi=5,Ki=1e4,$i=0,ea=!1,ta=!1,na=!1,ia="",aa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",oa="elsu5d09k0xomu7cggx3qg5ybdwu7g",sa="https://id.twitch.tv/oauth2/token?";function da(e){br.Users_Position=br.Users_AddcodePosition,$i=e,La(),Ic(),_a()}function la(e,t,n,i){var a=new XMLHttpRequest,o=sa+"grant_type=refresh_token&client_id="+encodeURIComponent(Yr)+"&client_secret="+encodeURIComponent(oa)+"&refresh_token="+encodeURIComponent(Ka[e].refresh_token)+"&redirect_uri="+aa;a.open("POST",o,!0),a.timeout=Ki,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?ca(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ma(),i&&i()):ra(e,t,n,i))},a.send(null)}function ra(e,t,n,i){++t<5?la(e,t,n,i):i&&i()}function ca(e,t,n){var i=JSON.parse(e);ua(i.scope)?(Ka[t].access_token=i.access_token,Ka[t].refresh_token=i.refresh_token,go()):ma(),n&&n()}function ua(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function _a(){var e=sa+"grant_type=authorization_code&client_id="+encodeURIComponent(Yr)+"&client_secret="+encodeURIComponent(oa)+"&code="+encodeURIComponent($i)+"&redirect_uri="+aa,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Ki,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?pa(t.responseText):fa())},t.send(null)}function fa(){++Qi<Zi?_a():ha()}function ha(){Sc(),Nc(Tt),window.setTimeout(function(){Dc(),Cr=0,nu(),br.Main_Go=cr,window.location=aa},4e3),Ka[br.Users_Position].access_token=0,Ka[br.Users_Position].refresh_token=0,go()}function ma(){QE=!1,Sc(),Nc(Tt),Ka[br.Users_Position].access_token=0,Ka[br.Users_Position].refresh_token=0,go(),nu(),window.setTimeout(Dc,4e3)}function pa(e){var t=JSON.parse(e);Ka[br.Users_Position].access_token=t.access_token,Ka[br.Users_Position].refresh_token=t.refresh_token,La(),va()}function va(){r_("https://api.twitch.tv/kraken?oauth_token="+Ka[br.Users_Position].access_token,Ki,0,null,ga,ya)}function ga(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ka[br.Users_Position].name)){if(go(),Cr=0,Sc(),QE=!1,br.Main_Go=cr,nu(),Nc(wt),rc)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=aa},3e3)}else Ka[br.Users_Position].access_token=0,Ka[br.Users_Position].refresh_token=0,Nc(Gn+Ka[br.Users_Position].name),window.setTimeout(function(){Dc(),Cr=0,nu(),br.Main_Go=cr,window.location=aa},4e3)}function ya(){++Qi<Zi?(Ki+=500,va()):ha()}function ba(){La(),ea=!1,wa()}function wa(){var e="https://api.twitch.tv/kraken/users/"+Ka[br.Users_Position].id+"/follows/channels/"+ia,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ki,t.setRequestHeader(jr,Yr),t.setRequestHeader(Wr,Kr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Aa():404===t.status?ka(t.responseText):Ca())},t.send(null)}function Aa(){ea=!0,na?Fp():ds()}function ka(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ea=!1,na?Fp():ds()):Ca()}function Ca(){++Qi<Zi?(Ki+=500,wa()):na?Fp():ds()}function Ea(){La(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ka[br.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(jr,Yr),e.setRequestHeader(Wr,Kr),e.setRequestHeader("Authorization","OAuth "+Ka[br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ea=!0,void(na?Fp():ds());401===e.status||403===e.status?la(br.Users_Position,0,Ea,null):Ia()}},e.send(null)}function Ia(){++Qi<Zi&&(Ki+=500,Ma())}function Sa(){La(),xa()}function xa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ka[br.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(jr,Yr),e.setRequestHeader(Wr,Kr),e.setRequestHeader("Authorization","OAuth "+Ka[br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ea=!1,void(na?Fp():ds());401===e.status||403===e.status?la(br.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++Qi<Zi&&(Ki+=500,xa())}function Ta(){La(),ta=!1,Ba()}function La(){Qi=0,Ki=1e4}function Ba(){var e,t="https://api.twitch.tv/kraken/users/"+Ka[br.Users_Position].id+"/subscriptions/"+ia;if(rc){if(!(e=Android.mreadUrl(t,Ki,3,Ka[br.Users_Position].access_token)))return void Oa();if(200===(e=JSON.parse(e)).status)ta=!0,tg();else if(422===e.status)ta=!1,eg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void eg();Oa()}else 401===e.status||403===e.status?la(br.Users_Position,0,Ta,Ga):Oa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ki,e.setRequestHeader(jr,Yr),e.setRequestHeader(Wr,Kr),e.setRequestHeader("Authorization","OAuth "+Ka[br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ta=!0,tg();else if(422===e.status)ta=!1,eg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void eg();Oa()}else 401===e.status||403===e.status?la(br.Users_Position,0,Ta,Ga):Oa()},e.send(null)}function Oa(){++Qi<Zi?(Ki+=500,Ba()):Ga()}function Ga(){ta=!1,eg()}function Ua(e){La(),Ra(e,0)}function Ra(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+Ka[e].access_token;if(rc){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Da(e,t);200===(n=JSON.parse(n)).status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t))},n.send(null)}function Na(e,t){var n=JSON.parse(e);n.token.valid?ua(n.token.authorization.scopes)||ma():(La(),la(t,0,null,null))}function Da(e,t){++t<Zi&&Ra(e,t)}function Va(){La(),Ja()}function Ja(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ka[br.Users_Position].name+"/follows/games/"+encodeURIComponent(br.Main_gameSelected)+"?oauth_token="+Ka[br.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(jr,Yr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Ry=!0,void gy();401===e.status||403===e.status?la(br.Users_Position,0,Va,null):Ha()}},e.send(null)}function Ha(){++Qi<Zi&&(Ki+=500,Ja())}function Fa(){La(),qa()}function qa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ka[br.Users_Position].name+"/follows/games/"+encodeURIComponent(br.Main_gameSelected)+"?oauth_token="+Ka[br.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(jr,Yr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Ry=!1,void gy();401===e.status||403===e.status?la(br.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++Qi<Zi&&(Ki+=500,qa())}function Xa(){La(),Ya()}function Ya(){var e,t="https://api.twitch.tv/api/users/"+Ka[br.Users_Position].name+"/follows/games/"+encodeURIComponent(br.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(jr,Yr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Ry=!0,void gy()):404===e.status?(Ry=!1,void gy()):void ja()},e.send(null)}function ja(){++Qi<Zi?(Ki+=500,Ya()):(Ry=!1,gy())}var Wa=0,Qa=5,Za=3500,Ka=[],$a=null,eo=!1,to=!1;function no(){br.Main_Go=Kl,Ac("top_bar_user","icon_center_focus"),Dc(),Hl.placeholder=k,bc("add_user_scroll"),oo()}function io(){lo(!1),document.body.removeEventListener("keydown",ao),document.body.removeEventListener("keydown",ro),kc("top_bar_user","icon_center_focus"),yc("add_user_scroll")}function ao(e){if(!eo&&!to&&br.Main_Go===Kl)switch(e.keyCode){case zi:Hc()?Jc():Xc()?zc():(0<Ka.length&&br.Main_Go!==cr?br.Main_Go=br.Main_Before:br.Main_Go=Zl,io(),eu());break;case Ni:case Ri:case Di:case qi:oo()}}function oo(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",ro,!1),Hl.placeholder=k,Hl.focus(),to=!0}function so(){if(null!==Hl){var e=Hl.cloneNode(!0);Hl.parentNode.replaceChild(e,Hl),Hl=document.getElementById("user_input")}}function lo(e){Hl.blur(),so(),document.body.removeEventListener("keydown",ro),Hl.placeholder=C+k,e&&document.body.addEventListener("keydown",ao,!1),to=!1}function ro(e){if(!eo&&br.Main_Go===Kl)switch(e.keyCode){case zi:Hc()?Jc():Xc()?zc():(0<Ka.length&&br.Main_Go!==cr?br.Main_Go=br.Main_Before:br.Main_Go=Zl,io(),eu());break;case Wi:Hl.value="";break;case Yi:case Fi:""!==Hl.value&&null!==Hl.value?bo($a=Hl.value)?(Sc(),Nc(_+$a+ie),window.setTimeout(function(){Dc(),oo()},1500)):(Za=3500,eo=!(Wa=0),yc("add_user_scroll"),Ic(),co()):oo();break;case Xi:Hl.value=Hl.value.slice(0,-1);break;case ji:Hl.value+=" "}}function co(){r_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($a),Za,2,null,uo,_o)}function uo(e){JSON.parse(e)._total?(Hl.value="",document.body.removeEventListener("keydown",ao),po(e)):fo()}function _o(){++Wa<Qa?(Za+=500,co()):fo()}function fo(){$a=null,Sc(),Nc(te),window.setTimeout(function(){no()},1e3),eo=!1}function ho(){if(0<(Ka=o_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ka.length;e++)Ka[e].access_token&&Ua(e)}function mo(){return 0<Ka.length}function po(e){$a=JSON.parse(e).users[0],Ka.push({name:$a.name,id:$a._id,access_token:0,refresh_token:0}),go(),QE=!1,io(),KE(),eo=!1}function vo(e){var t=Ka.indexOf(Ka[e]);-1<t&&Ka.splice(t,1),0<Ka.length?(QE=!1,KE()):no(),go()}function go(){i_("AddUser_UsernameArray",JSON.stringify(Ka))}function yo(e){$a=Ka[0],Ka[0]=Ka[e],Ka[e]=$a,QE=!1,KE(),go(),br.Users_Position=0}function bo(e){return-1!==Ka.indexOf(e)}function wo(){return 0<Ka.length}var Ao,ko=0,Co=0,Eo=!1,Mo=0,Io=0,So=5,xo=3500,Po=0,To=!1,Lo=!1,Bo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Oo=!1,Go="",Uo=null,Ro="",No="",Do="",Vo={},Jo=!1,Ho=null,Fo="";function qo(){br.Main_CenterLablesVectorPos=1,br.Main_Go=dr,Jo&&!br.Search_isSearching&&br.Main_selectedChannel_id&&hs(),Go!==br.Main_selectedChannel&&(Oo=!1),su(),br.Main_selectedChannelDisplayname=br.Main_selectedChannelDisplayname.replace(j,""),Ec("top_bar_user",br.Main_selectedChannelDisplayname),Ec("top_bar_game",Ut),document.body.addEventListener("keydown",ms,!1),na=!1,Oo?(_u(ko),bc(Bo[10]),rs(),cs(),nu()):Xo()}function zo(){ou(),document.body.removeEventListener("keydown",ms),yc(Bo[10])}function Xo(){uu("stream_table_channel_content"),yc(Bo[10]),Ho=null,Ic(),Dc(),Go=br.Main_selectedChannel,Eo=To=Oo=!1,Ao=void(ko=Co=Mo=Po=0),Yo(),jo()}function Yo(){Wu=!0,Io=0,xo=3500}function jo(){r_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ao?Ao:br.Main_selectedChannel_id),xo,2,null,Wo,Qo)}function Wo(e){null!==JSON.parse(e).stream?(Uo=e,Yo(),es()):Ao?(Uo=null,Yo(),es()):(Yo(),Zo())}function Qo(){++Io<So?(xo+=500,jo()):(Uo=null,Yo(),es())}function Zo(){r_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(br.Main_selectedChannel_id),xo,1,null,$o,Ko,!0)}function Ko(){++Io<So?(xo+=500,Zo()):(Uo=null,Yo(),es())}function $o(e){var t=JSON.parse(e);void 0!==(Ao=t.hosts[0].target_id)?(Yo(),jo()):(Uo=null,Yo(),es())}function es(){r_("https://api.twitch.tv/kraken/channels/"+br.Main_selectedChannel_id,_v,2,null,ts,ns)}function ts(e){var t=JSON.parse(e);Ho=(Ho=t.video_banner)?Ho.replace("1920x1080",$r):Ho,Fo=t.profile_banner,Ro=t.views,No=t.followers,Do=t.description,br.Main_selectedChannelLogo=t.logo,is()}function ns(){++Io<So?(xo+=500,es()):(Ho=null,Fo=Ui,Do=No=Ro="",br.Main_selectedChannelLogo=Oi,is())}function is(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Sr=document.createElement("tr")).className="follower_banner",Sr.innerHTML='<div id="'+Bo[0]+'x_0" class="follower_banner"><img id="'+Bo[1]+'x_0" alt="" class="stream_img_banner"src="'+Fo+'" onerror="this.onerror=null;this.src=\''+Ui+"'\"></div>",n.appendChild(Sr),null!==Uo){var i=JSON.parse(Uo);if(null!==i.stream){var a=void 0!==Ao?br.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(as("0_"+t,o.channel.name,o.preview.template,pI.parse(o.channel.status),o.game,Wc(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Tm(o.created_at)+" "+m+Yc(o.viewers)+J,jc(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else To=!0}else To=!0;e.appendChild(os("0_"+t,br.Main_selectedChannelDisplayname,br.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(os("0_"+t,br.Main_selectedChannelDisplayname,br.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(mu(Bo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(ss("1_0",br.Main_selectedChannelDisplayname,br.Main_selectedChannelDisplayname,br.Main_selectedChannelLogo)),(Sr=document.createElement("td")).setAttribute("id",Bo[8]+"x_x"),Sr.className="stream_cell",Sr.innerHTML='<div id="'+Bo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Bo[4]+'x_x" class="stream_channel_info">'+pI.parse(Do)+"</div></div>",e.appendChild(Sr),n.appendChild(e),ls()}function as(e,t,n,i,a,o,s,d){return(Sr=document.createElement("td")).setAttribute("id",Bo[8]+e),Sr.setAttribute(nc,t),Sr.className="stream_cell",Sr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Bo[1]+e+'" alt="" class="stream_img"src="'+n.replace("{width}x{height}",$r)+cc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ao?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Pi+o+'</div><div id="'+Bo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Bo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Bo[6]+e+'"class="stream_info">'+s+"</div></div>",Sr}function os(e,t,n,i){return(Sr=document.createElement("td")).setAttribute("id",Bo[8]+e),Sr.setAttribute(nc,t),Sr.className="stream_cell",Sr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Bo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Sr}function ss(e,t,n,i){return(Sr=document.createElement("td")).setAttribute("id",Bo[8]+e),Sr.setAttribute(nc,t),Sr.className="stream_cell",Sr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Bo[1]+e+'" alt="" class="stream_img_fallow"src="'+i+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+Bo[2]+e+'" class="stream_text_channel"><div id="'+Bo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+Yc(Ro)+V+'</div><div id="'+Bo[6]+e+'"class="stream_info" >'+Yc(No)+Dt+"</div></div>",Sr}function ds(){ea?(Cc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Ec(Bo[3]+"1_0",br.Main_selectedChannelDisplayname+Mt)):(Cc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),mo()?Ec(Bo[3]+"1_0",br.Main_selectedChannelDisplayname+It):Ec(Bo[3]+"1_0",br.Main_selectedChannelDisplayname+Vt))}function ls(){Oo||(Oo=!0,cs(),nu(),bc(Bo[10]),Sc()),rs(),Wu=!1}function rs(){Lo?ds():mo()?(ia=br.Main_selectedChannel_id,na=!1,ba()):(ea=!1,ds())}function cs(){Ac(Bo[0]+ko+"_"+(ko?0:Co),tc),kr&&us(),Cu()}function us(){Nu(ko+"_"+(ko?0:Co),Bo)}function _s(){if(ko)mo()&&Ka[br.Users_Position].access_token?(na=!1,ia=br.Main_selectedChannel_id,ea?Sa():Ea()):(Nc(Bt),window.setTimeout(Dc,2e3));else{document.body.removeEventListener("keydown",ms),yc(Bo[10]);var e=To?1:0;Co===0-e?(br.Play_selectedChannel=document.getElementById(Bo[8]+ko+"_"+Co).getAttribute(nc),br.Play_selectedChannelDisplayname=document.getElementById(Bo[3]+ko+"_"+Co).textContent,-1!==br.Play_selectedChannelDisplayname.indexOf(ne)?(br.Play_isHost=!0,br.Play_DisplaynameHost=br.Play_selectedChannelDisplayname,br.Play_selectedChannelDisplayname=br.Play_selectedChannelDisplayname.split(ne)[1],br.Play_selectedChannel_id=Ao):br.Play_selectedChannel_id=br.Main_selectedChannel_id,br.Play_gameSelected=document.getElementById(Bo[5]+ko+"_"+Co).textContent.split(v)[1],Ju(Bu)):Co===1-e?Ju(Js):Co===2-e&&(Rg=by,Ju(Hg))}}function fs(){Vo={"Main_values.Main_selectedChannel_id":br.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":br.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":br.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":br.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Lo,"Main_values.Main_BeforeChannel":br.Main_BeforeChannel}}function hs(){br.Main_selectedChannel_id=br.Main_selectedChannel_id,br.Main_selectedChannelLogo=br.Main_selectedChannelLogo,br.Main_selectedChannel=br.Main_selectedChannel,br.Main_selectedChannelDisplayname=br.Main_selectedChannelDisplayname,Lo=Vo.ChannelContent_UserChannels,br.Main_BeforeChannel=br.Main_BeforeChannel,Jo=!(Vo={})}function ms(e){if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(us(),Zu(ms)),ZA();break;case Vi:Co?ko||(us(),--Co<0&&(Co=To?1:2),cs()):(us(),$A(ms,!0));break;case Hi:ko||(us(),(To?1:2)<++Co&&(Co=0),cs());break;case Ji:ko?(us(),ko=0,cs()):(us(),Zu(ms));break;case Fi:ko||(us(),ko=1,cs());break;case Ni:case Ri:case Di:case qi:_s()}}var ps=0,vs=0,gs=!1,ys=0,bs={},ws=[],As=!1,ks=0,Cs=5,Es=3500,Ms=0,Is=0,Ss=0,xs=!1,Ps=!1,Ts="",Ls=!1,Bs=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Os=!1,Gs=!1,Us="",Rs="",Ns="",Ds="",Vs=0;function Js(){br.Main_CenterLablesVectorPos=1,br.Main_Go=lr,!br.Search_isSearching&&br.Main_selectedChannel_id&&hs(),br.Main_selectedChannel!==Us&&(Os=!1),su(),gc("label_side_panel","icon-arrow-circle-left",I),Ec("top_bar_user",br.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",nd,!1),Os?(_u(ps),Ec("top_bar_game",Gs?G:O),bc(Bs[10]),Ks(),nu()):Fs()}function Hs(){Os&&$s(),ou(),document.body.removeEventListener("keydown",nd),yc(Bs[10]),Dc()}function Fs(){Os&&$s(),uu("stream_table_channel_vod"),yc(Bs[10]),Ec("top_bar_game",Gs?G:O),Ic(),Dc(),Us=br.Main_selectedChannel,Ls=Os=!1,Wu=!(Ps=!(ws=[])),ps=vs=ys=Is=Ms=0,gs=!(bs={}),Oc(),qs(),zs()}function qs(){As=!0,ks=0,Es=3500}function zs(){var e=ys+Ms;e&&Is-1<e&&(e=Is-Rr,gs=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(br.Main_selectedChannel_id)+"/videos?limit="+Rr+"&broadcast_type="+(Gs?"highlight":"archive")+"&sort=time&offset="+e;rc&&!ys?u_(t,Es,2,null,Ys,Xs):__(t,Es,2,null,Ys,Xs,!1)}function Xs(){++ks<Cs?(Es+=500,zs()):(As=!1,ys?(gs=!0,js()):(Wu=!1,Sc(),Nc(P),Zu(nd)))}function Ys(e){var t=JSON.parse(e),n=t.videos.length;Is=parseInt(t._total),n<Rr&&(gs=!0);var i=ys;xs=!(ys+=n);var a=n/Nr;0<n%Nr&&a++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Ls){Ls=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p;(Sr=document.createElement("td")).setAttribute("id",Bs[8]+"y_0"),Sr.className="stream_cell",Sr.innerHTML='<div id="'+Bs[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Bs[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(Sr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Nr+m,d=document.createElement("tr"),o=0;o<Nr&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==Ho?Ho:Gi),c||bs[r]?o--:(bs[r]=1,d.appendChild(iI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",$r),l.channel.display_name,N+lu(l.created_at),pI.parse(l.title)+pi+Qt+v+l.game,Yc(l.views)+V,jc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+xm(l.length),l.animated_preview_url],Bs)));for(;o<Nr;o++)gs&&!Ps&&(Ps=!0,ys=s*Nr+o),d.appendChild(mu(Bs[9]+s+"_"+o)),ws.push(Bs[9]+s+"_"+o);f.appendChild(d)}js()}function js(){if(Os?Ks(!0):(xs?(Zu(nd),Nc(T+(Gs?G:O)+L+M)):(Os=!0,Ks(),nu()),bc(Bs[10]),Wu=!1,Sc()),0<ws.length&&!gs)return qs(),void Ws();As=!(ws=[])}function Ws(){Rc(ws.length);var e=ys+Ms;e&&Is-1<e&&(e=Is-Xr,gs=!0),r_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(br.Main_selectedChannel_id)+"/videos?limit="+Xr+"&broadcast_type="+(Gs?"highlight":"archive")+"&sort=time&offset="+e,Es,2,null,Zs,Qs)}function Qs(){++ks<Cs?(Es+=500,Ws()):(gs=!0,ys-=ws.length,ws=[],js())}function Zs(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(Is=parseInt(i._total);o<ws.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||bs[n]?o--:(bs[n]=1,oI(ws[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",$r),t.channel.display_name,N+lu(t.created_at),pI.parse(t.title)+pi+Qt+v+t.game,Yc(t.views)+V,jc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+xm(t.length),t.animated_preview_url],Bs),d.push(o));for(o=d.length-1;-1<o;o--)ws.splice(d[o],1);Ms+=s,gs&&(ys-=ws.length,ws=[]),js()}function Ks(e){ps<0?ed():(xu(ps,vs,Bs,Nr,ys,e),dI(Bs,ps+"_"+vs),ys/Nr<ps+Dr&&!gs&&!As&&(qs(),zs()),kr&&$s())}function $s(){window.clearInterval(tI),-1<ps&&ys?(bc(Bs[1]+ps+"_"+vs),Nu(ps+"_"+vs,Bs)):td()}function ed(){Ac(Bs[0]+"y_0",tc)}function td(){kc(Bs[0]+"y_0",tc)}function nd(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():($s(),Zu(nd)),ZA();break;case Vi:if(vs){if(Qc(ps,vs-1,Bs[0]))$s(),vs--,Ks();else for(t=Nr-1;-1<t;t--)if(Qc(ps-1,t,Bs[0])){$s(),ps--,vs=t,Ks();break}}else $s(),$A(nd,!0);break;case Hi:Qc(ps,vs+1,Bs[0])?($s(),vs++,Ks()):Qc(ps+1,0,Bs[0])&&($s(),ps++,vs=0,Ks());break;case Ji:if(-1===ps)$s(),ps=0,Zu(nd);else if(ps){for(t=0;t<Nr;t++)if(Qc(ps-1,vs-t,Bs[0])){$s(),ps--,vs-=t,Ks();break}}else $s(),ps=-1,ed();break;case Fi:if(-1!==ps||xs){for(t=0;t<Nr;t++)if(Qc(ps+1,vs-t,Bs[0])){$s(),ps++,vs-=t,Ks();break}}else ps=0,td(),Ks();break;case Ni:case Ri:case Di:case qi:-1===ps?(i_("ChannelVod_highlight",(Gs=!Gs)?"true":"false"),Fs()):Gu(ps+"_"+vs,Bs,nd)}}var id,ad,od,sd,dd,ld,rd=0,cd=10,ud=!1,_d=0,fd=null,hd=!1,md=0,pd={bbtv:{},ffz:{}},vd={};function gd(){Hd(),br.Play_ChatForceDisable?(jd||rl(),hd=!1,Ju(function(){_d=(new Date).getTime(),dd=br.Play_selectedChannel_id,ld=br.Play_selectedChannel,yd(_d,Ad)})):Rl()}function yd(e,t){rd=0,bd(e,t)}function bd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+dd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);wd(e,t)}},i.send(null)}function wd(e,t){++rd<cd?bd(e,t):ad=window.setTimeout(function(){bd(e,t)},500)}function Ad(e,t){wl(e),kd(),Id(),_d===t&&Bd()}function kd(){pd.bbtv[dd]||(rd=0,Cd())}function Cd(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(ld),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Md(t.responseText):404===t.status?pd.bbtv[dd]=1:Ed())},t.send(null)}function Ed(){++rd<cd&&Cd()}function Md(e){Td(JSON.parse(e)),pd.bbtv[dd]=1}function Id(){pd.ffz[dd]||(rd=0,Sd())}function Sd(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(ld),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Pd(t.responseText):404===t.status?pd.ffz[dd]=1:xd())},t.send(null)}function xd(){++rd<cd&&Sd()}function Pd(e){Ld(JSON.parse(e)),pd.ffz[dd]=1}function Td(t){t.emotes.forEach(function(e){vd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Ld(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(vd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(vd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Bd(){Ud(),Od()}function Od(){(fd=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){fd.send("PASS blah\r\n"),fd.send("NICK justinfan12345\r\n"),fd.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),fd.send("JOIN #"+ld+"\r\n")},fd.onclose=function(){ud=!0},fd.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":fd.send("PONG "+t.params[0]);break;case"JOIN":hd=!0,Dd('&nbsp;<span class="message">'+pi+bn+br.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Rd(t)}},od=window.setTimeout(Gd,5e3)}function Gd(){hd?sd=window.setInterval(Vd,1e3):(fd.close(1e3),Bd())}function Ud(){window.clearTimeout(od)}function Rd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+nl[i.charCodeAt(0)%il]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Dd(t+='<span class="message">'+Nd(fI(a,o))+"</span>")}function Nd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=_I(e[t]):e[t]=e[t][0];return pI.parse(e.join(" "),!0,!0)}function Dd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,Xd.appendChild(t),Vd(),100<++md&&(md=0,Dl())}function Vd(){Xd.scrollTop=Xd.scrollHeight}function Jd(){Ud(),window.clearTimeout(ad),window.clearTimeout(id),window.clearInterval(sd)}function Hd(){Jd(),fd&&fd.close(1e3),_d=0,uu("chat_box"),hd=ud=!1}var Fd,qd,zd,Xd,Yd,jd=!1,Wd=0,Qd=[],Zd=[],Kd=10,$d=null,el=0,tl="",nl=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],il=nl.length,al=0,ol=!1,sl=0;function dl(){Xd=document.getElementById("chat_box"),rl()}function ll(){Tl(),rc&&br.Play_ChatForceDisable?(jd||rl(),Ju(function(){sl=(new Date).getTime(),dd=br.Main_selectedChannel_id,ld=br.Main_selectedChannel,yd(sl,Al)})):Rl()}function rl(){Wd=0,jd=!(vd={}),cl()}function cl(){__("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,_l,ul,!1)}function ul(){++Wd<Kd?cl():jd=!1}function _l(e){hI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){mI(t.type,e.type,e.image_url_4x,null)})}),fl()}function fl(){Wd=0,hl()}function hl(){__("https://api.betterttv.net/2/emotes",1e4,0,null,pl,ml,!1)}function ml(){++Wd<Kd?hl():jd=!1}function pl(e){Td(JSON.parse(e)),vl()}function vl(){Wd=0,gl()}function gl(){__("https://api.frankerfacez.com/v1/set/global",1e4,0,null,bl,yl,!1)}function yl(){++Wd<Kd?gl():jd=!1}function bl(e){Ld(JSON.parse(e)),jd=!0}function wl(e){hI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){mI(t.type,e.type,e.image_url_4x,Xd)})})}function Al(e,t){wl(e),kd(),Id(),sl===t&&kl(t)}function kl(e){Wd=0,sl===e&&Cl(e)}function Cl(e){var t="https://api.twitch.tv/v5/videos/"+br.ChannelVod_vodId+"/comments?client_id="+Yr+(el?"&content_offset_seconds="+parseInt(el):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(sl===e&&Ml(n.responseText,e));sl===e&&El(e)}},n.send(null)}function El(e){Wd++,sl===e&&(Wd<Kd?Cl(e):qd=window.setTimeout(function(){Cl(e)},2500))}function Ml(e,t){e=JSON.parse(e);var n,i,a=null===$d;a&&(n="&nbsp;",n+='<span class="message">',n+=pi+bn+br.Main_selectedChannelDisplayname+" "+tl,Il(n+="</span>",0)),el=0,$d=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+nl[e.commenter.display_name.charCodeAt(0)%il]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Nd([e.text])}),n+="</span>",a?Il(n,e.content_offset_seconds):void 0!==$d&&Sl(n,e.content_offset_seconds)}),a&&sl===t&&(xl(t),void 0!==$d&&Bl(t))}function Il(e,t){Qd.push({time:t,message:e})}function Sl(e,t){Zd.push({time:t,message:e})}function xl(e){ol||sl!==e||(Fd=window.setInterval(function(){Ll(e),Xd.scrollTop=Xd.scrollHeight},1e3))}function Pl(){ol||(window.clearTimeout(Yd),window.clearTimeout(qd),window.clearTimeout(zd),window.clearInterval(Fd))}function Tl(){Pl(),sl=0,uu("chat_box"),ol=!1,$d=null,Qd=[],Zd=[],al=0}function Ll(e){var t;if(al<Qd.length-1)for(var n=al;n<Qd.length&&Qd[n].time<Vs+Android.gettime()/1e3;n++,al++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Qd[n].message,Xd.appendChild(t);else if(Pl(),void 0!==$d)Qd=Zd.slice(),al=0,xl(e),Zd=[],sl===e&&Bl(e),Dl();else{var i="&nbsp;";i+='<span class="message">',i+=pi+pi+Cn+pi+pi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Xd.appendChild(t),ol=!0,Xd.scrollTop=Xd.scrollHeight,window.clearInterval(Fd),Fd=window.setInterval(function(){Xd.scrollTop=Xd.scrollHeight},1e3)}}function Bl(e){Wd=0,ol||sl!==e||Ol(e)}function Ol(e){var t="https://api.twitch.tv/v5/videos/"+br.ChannelVod_vodId+"/comments?client_id="+Yr+(null!==$d?"&cursor="+$d:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ol||sl!==e||Ml(n.responseText,e));ol||sl!==e||Gl(e)}},n.send(null)}function Gl(e){Wd++,sl===e&&(Wd<Kd?Ol(e):zd=window.setTimeout(function(){Ol(e)},2500))}function Ul(){Tl(),Nl(ln+pi+rn)}function Rl(){Tl(),Nl($n)}function Nl(e){var t="&nbsp;";t+='<span class="message">',t+=pi+pi+pi+pi+pi+pi+pi+pi+pi+pi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Xd.appendChild(n)}function Dl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Vd()}var Vl,Jl,Hl,Fl,ql,zl,Xl=!0,Yl=!1,jl=!1,Wl=-1,Ql=new Image,Zl=1,Kl=2,$l=3,er=4,tr=5,nr=6,ir=7,ar=8,or=9,sr=10,dr=11,lr=12,rr=13,cr=14,ur=15,_r=16,fr=17,hr=18,mr=19,pr=20,vr=21,gr=22,yr="",br={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:$l,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},wr=!0,Ar=!0,kr=!1,Cr=0,Er=0,Mr=null,Ir=!0,Sr="",xr=!1,Pr="",Tr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Lr=[],Br=0,Or=!0,Gr=1.35,Ur=1.5,Rr=45,Nr=3,Dr=Math.floor(Rr/Nr/Ur),Vr=45,Jr=5,Hr=Math.floor(Vr/Jr/Gr),Fr=48,qr=6,zr=Math.floor(Fr/qr/Ur),Xr=6,Yr="5seja5ptej058mxqy7gh5tcudjqtm9",jr="Client-ID",Wr="Accept",Qr="Authorization",Zr="OAuth ",Kr="application/vnd.twitchtv.v5+json",$r="528x297",ec="340x475",tc="stream_thumbnail_focused",nc="data_attribute",ic="1.0",ac=".23",oc="060119",sc=ic+ac+"-"+oc,dc="",lc=0,rc=0,cc="?"+Math.random(),uc="https://cors-anywhere.herokuapp.com/";function _c(){(jl=s_("Main_isDebug",!1))&&Xl?fc():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){hc(window.navigator.userLanguage||window.navigator.language)}):hc(window.navigator.userLanguage||window.navigator.language)}function fc(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function hc(e){Du(),Ju(function(){try{rc=Android.getAndroid(),dc=Android.getversion()}catch(e){dc="1.0.0",rc=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Yl=jl=!0,console.log("Main_isReleased: "+Xl),console.log("Main_isDebug: "+jl),console.log("Main_isBrowser: "+Yl)}aA(),Li(),SA(),console.log("language is "+e),Ti(),-1!==window.location.href.indexOf("code")&&l_(window.location.href),mc()})}function mc(){Ng(),pc(!0),Vl=document.getElementById("scrollbar"),iu(),yr=br.Main_Go,Ju(function(){dl(),Wh(),ho(),mo()&&(zl=window.setInterval(zu,6e5)),document.body.addEventListener("keyup",Cu,!1),Dg(),document.getElementById("side_panel").style.marginLeft="",ru(),vc(),Gs=s_("ChannelVod_highlight",!1),OM=s_("UserVod_highlight",!1),PM=a_("UserVod_TypeNumber",1),Mg(),Jl=document.getElementById("search_input"),Hl=document.getElementById("user_input"),hu(Gi),hu(Bi),hu(Oi),document.addEventListener("visibilitychange",Fu,!1),ql=window.setInterval(qu,6e4),Rg=Cy,Hg(),Fl=window.setTimeout(Kc,5e3),bc("topbar"),VA=document.getElementById("feed_thumb_img")})}function pc(e){qu(),gc("label_refresh","icon-refresh",t+":"+Yt),Cc("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Pi+_t+"</div>"),gc("label_side_panel","icon-ellipsis",Rn),gc("icon_feed_refresh","icon-refresh",t+":"+_i),Ec("top_bar_live",f),Ec("top_bar_user",e?_:i),Ec("top_bar_featured",an),Ec("top_bar_game",h),Ec("top_bar_vod",Kt),Ec("top_bar_clip",U),Cc("scene2_search_text",Pi+n),Cc("scene2_channel_text",Pi+Ut),Cc("scene2_game_text",Pi+Jt),Ec("dialog_end_next_text",si),Ec("dialog_end_replay_text",en),Ec("dialog_end_vod_text",sn),Ec("dialog_end_channel_text",Ut),Ec("dialog_end_game_text",Jt),Cc("dialog_about_text",Mi+Ii),Lr=[de,le,re,ce],e?Kw():(iA(),ru())}function vc(){Ec("play_dialog_exit_text",H),Ec("side_panel_search",n),Ec("side_panel_settings",i),Ec("side_panel_about",a),Ec("side_panel_controls",e),Ec("side_panel_exit",q),Ec("side_panel_feed_settings",ui),Ec("side_panel_feed_refresh",t),Ec("side_panel_live",f),Ec("side_panel_user",_),Ec("side_panel_featured",an),Ec("side_panel_games",h),Ec("side_panel_videos",Kt),Ec("side_panel_clips",U),Ec("side_panel_hide",o),Ec("side_panel_back",fi),Ec("chanel_button",E),Ec("game_button",h),Ec("live_button",f),Ec("exit_app_cancel",Y),Ec("exit_app_close",z),Ec("remove_cancel",Y),Ec("remove_yes",Ht),Ec("exit_app_minimize",X),Ec("main_dialog_exit_text",F),Cc("dialog_controls_text",Ei),Ec("dialog_vod_text",wn),Cc("dialog_vod_start_text",kn)}function gc(e,t,n){Cc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Pi+n+"</div>")}function yc(e){document.getElementById(e).classList.add("hide")}function bc(e){document.getElementById(e).classList.remove("hide")}function wc(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ac(e,t){document.getElementById(e).classList.add(t)}function kc(e,t){document.getElementById(e).classList.remove(t)}function Cc(e,t){document.getElementById(e).innerHTML=t}function Ec(e,t){document.getElementById(e).textContent=t}function Mc(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Ic(){_u(-1),rc?Android.mshowLoading(!0):bc("dialog_loading")}function Sc(){rc?Android.mshowLoading(!1):yc("dialog_loading")}function xc(){window.clearTimeout(Mr)}function Pc(){Mr=window.setTimeout(Lc,6e3)}function Tc(){Pc(),bc("main_dialog_exit"),document.body.addEventListener("keydown",Xu,!1)}function Lc(){document.body.removeEventListener("keydown",Xu,!1),JA?(JA=!1,tu()):Zu(DA),xc(),yc("main_dialog_exit"),Er=0,Bc()}function Bc(){kc("exit_app_cancel","button_search_focused"),kc("exit_app_minimize","button_search_focused"),kc("exit_app_close","button_search_focused"),Ac(Er?1===Er?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Oc(){uu("dialog_counter_text"),Uc(0,0,0)}function Gc(e,t,n,i){0<i?(Ec("dialog_counter_text",t*n+(e+1)+"/"+i),Uc(t,n,i)):Oc()}function Uc(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=br.Main_Go===er||br.Main_Go===mr||br.Main_Go===pr||br.Main_Go===lr||br.Main_Go===gr||br.Main_Go===fr||br.Main_Go===hr||br.Main_Go===rr,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Vl.style.top=o+"px",Ir&&(Ir=!1,Vl.style.backgroundColor="#777777")}else Vl.style.backgroundColor="#000000",Vl.style.top=i+"px",Ir=!0}function Rc(e){(Xr=12)/3<e&&(Xr=3*e),99<Xr&&(Xr=99)}function Nc(e){Ec("dialog_warning_text",e),bc("dialog_warning")}function Dc(){yc("dialog_warning")}function Vc(){zc(),bc("dialog_about")}function Jc(){yc("dialog_about")}function Hc(){return wc("dialog_about")}function Fc(){zc(),Dc(),au(br.Main_Go),Oc(),Qw()}function qc(){Jc(),bc("dialog_controls")}function zc(){yc("dialog_controls")}function Xc(){return wc("dialog_controls")}function Yc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function jc(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function Wc(e){return-1!==e.indexOf("live")?"":j}function Qc(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function Zc(){qu(),eu(),document.body.addEventListener("keyup",Cu,!1)}function Kc(){for(var e,t=0;t<Tr.length;t++)t<2?document.getElementById(Tr[t]).style.opacity="0.5":-1===(e=document.getElementById(Tr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ac("topbar","topbar_dim")}function $c(){for(var e=0;e<Tr.length;e++)document.getElementById(Tr[e]).style.opacity="1";kc("topbar","topbar_dim")}function eu(e){window.clearTimeout(Fl),$c(),Ju(function(){tu(e)})}function tu(e){Dc(),br.Main_Go!==dr&&(br.Main_BeforeChannelisSet=!1),br.Main_Go!==er&&(br.Main_BeforeAgameisSet=!1),Oc(),br.Main_Go===Zl?(Rg=Cy,Hg()):br.Main_Go===Kl?no():br.Main_Go===$l?(Rg=Ay,Hg()):br.Main_Go===er?(Rg=My,Hg()):br.Main_Go===ar?ow():br.Main_Go===or?qb():br.Main_Go===sr?Tw():br.Main_Go===dr?qo():br.Main_Go===lr?Js():br.Main_Go===rr?(Rg=by,Hg()):br.Main_Go===cr?KE():br.Main_Go===tr?EE():br.Main_Go===nr?nC():br.Main_Go===ir?(Rg=ky,Hg()):br.Main_Go===ur?Ck():br.Main_Go===_r?pb():br.Main_Go===fr?(Rg=Iy,Hg()):br.Main_Go===hr?(Rg=yy,Hg()):br.Main_Go===mr?(Rg=Sy,Hg()):br.Main_Go===pr?(Rg=wy,Hg()):br.Main_Go===vr?(Rg=Ey,Hg()):br.Main_Go===gr&&GM(),Fl=window.setTimeout(Kc,3e3),e&&t_()}function nu(){i_("Main_values",JSON.stringify(br))}function iu(){br=Jg(br,o_("Main_values",{}))}function au(e){e===Zl?Fg():e===Kl?io():e===$l?Fg():e===er?Fg():e===ar?sw():e===or?zb():e===sr?Lw():e===dr?zo():e===lr?Hs():e===rr?Fg():e===cr?$E():e===tr?ME():e===nr?iC():e===ir?Fg():e===ur?Ek():e===_r?vb():e===fr?Fg():e===hr?Fg():e===mr?Fg():e===pr?Fg():e===vr?Fg():e===gr&&UM(),wc("settings_scroll")&&Zw()}function ou(){gc("label_refresh","icon-refresh",t+":"+Yt),gc("label_side_panel","icon-ellipsis",Rn),kc("top_bar_user","icon_center_focus"),Ec("top_bar_live",f),Ec("top_bar_user",_),Ec("top_bar_featured",an),Ec("top_bar_game",h),Ec("top_bar_vod",Kt),Ec("top_bar_clip",U)}function su(){gc("label_side_panel","icon-arrow-circle-left",I),uu("top_bar_live"),uu("top_bar_game"),uu("top_bar_vod"),uu("top_bar_clip"),uu("top_bar_featured"),Ac("top_bar_user","icon_center_focus")}function du(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function lu(e){return e=new Date(e),xr?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function ru(){rc&&(sc="Android: "+dc+" Web: "+oc,cu(dc)&&bc("label_update")),Cc("dialog_about_text",Mi+ye+sc+Ii)}function cu(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(ic)||parseInt(e[2])<parseInt(ac.split(".")[1])}function uu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function _u(e){Wl=e}function fu(e){var t=0;return Wl<e?t=-1:e<Wl&&(t=1),Wl=e,t}function hu(e){Ql.src=e}function mu(e){return(Sr=document.createElement("td")).setAttribute("id",e),Sr.className="stream_cell",Sr}function pu(e,t,n){return(Sr=document.createElement("td")).setAttribute("id",t[4]+e),Sr.setAttribute(nc,n[0]),Sr.setAttribute("data-id",n[1]),Sr.className="stream_cell",Sr.innerHTML=gu(e,t,n),Sr}function vu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(nc,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=gu(a,n,t),i.setAttribute("id",n[4]+a)}function gu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[2]+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function yu(e,t,n,i,a){return e<Nr&&hu(a[0]),(Sr=document.createElement("td")).setAttribute("id",i[8]+t),Sr.setAttribute(nc,JSON.stringify(n)),Sr.className="stream_cell",Sr.innerHTML=wu(t,i,a),Sr}function bu(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(nc,JSON.stringify(t)),a.innerHTML=wu(o,i,n),a.setAttribute("id",i[8]+o)}function wu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" alt="" class="stream_img" src="'+n[0]+cc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+pI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Au(e,t,n){return(Sr=document.createElement("td")).setAttribute("id",t[5]+e),Sr.setAttribute(nc,n[0]),Sr.className="stream_cell",Sr.innerHTML=ku(e,t,n),Sr}function ku(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[1]+'" onerror="this.onerror=null;this.src=\''+Bi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Cu(){Ar=!0}function Eu(){wr=!0}function Mu(){wr=!1,window.setTimeout(Eu)}function Iu(){return!wr||!Ar}function Su(e,t,n,i,a,o){Ac(n[0]+e+"_"+t,tc),Gc(t,e,i,a),fu(e)||o?1<e?Qc(e+1,0,n[0])?Ru(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Cu():Ru(n[6],.07*screen.height):Cu()}function xu(e,t,n,i,a,o){Ac(n[0]+e+"_"+t,tc),Gc(t,e,i,a),fu(e)||o?e?Qc(e+1,0,n[0])&&Ru(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):Ru(n[10],.07*screen.height):Cu()}function Pu(e,t,n,i,a){Ac(n[0]+e+"_"+t,tc),Gc(t,e,i,a),fu(e)?Ru(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Cu()}function Tu(e,t){return null===document.getElementById(t+e)}function Lu(e,t,n){Tu(e,t[0])||(document.body.removeEventListener("keydown",n),br.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(nc)),br.Play_selectedChannel_id=br.Play_selectedChannel[1],br.Play_selectedChannel=br.Play_selectedChannel[0],br.Play_isHost=br.Main_Go===nr&&!Hh,br.Play_isHost?(br.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,br.Play_selectedChannelDisplayname=br.Play_DisplaynameHost.split(ne)[1]):br.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,br.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],br.Main_Go===er&&(br.Main_OldgameSelected=br.Main_gameSelected),Bu())}function Bu(){document.body.addEventListener("keydown",zp,!1),yc("scene1"),bc("scene2"),Km(),ap(),wp(),mo()&&!vC&&IC&&nE(),Ju(Kh)}function Ou(e,t,n){Tu(e,t[0])||(document.body.removeEventListener("keydown",n),By=JSON.parse(document.getElementById(t[8]+e).getAttribute(nc)),V_=parseInt(By[1]),br.Play_gameSelected=By[2],br.Main_selectedChannel=By[3],br.Main_selectedChannelDisplayname=By[4],br.Main_selectedChannelLogo=By[5],br.Main_selectedChannel_id=By[6],br.ChannelVod_vodId=By[7],Vs=parseInt(By[8]),Ly=By[9],Gy=By[10],Py=By[11],By=By[0],Oy=document.getElementById(t[4]+e).textContent,Ty=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Cf,!1),yc("scene1"),bc("scene2"),ap(),jm(),Jm(),qm(),mo()&&!vC&&IC&&nE(),Ju(Y_))}function Gu(e,t,n){Tu(e,t[0])||(document.body.removeEventListener("keydown",n),br.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(nc)),Ss=parseInt(br.ChannelVod_vodId[1]),Ts=br.ChannelVod_vodId[2],br.Play_gameSelected=br.ChannelVod_vodId[3],br.Main_selectedChannel=br.ChannelVod_vodId[4],Vh=br.ChannelVod_vodId[5],br.ChannelVod_vodId=br.ChannelVod_vodId[0].substr(1),br.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ns=document.getElementById(t[4]+e).textContent,Ds=document.getElementById(t[5]+e).textContent,Rs=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Uu())}function Uu(){document.body.addEventListener("keydown",Ug,!1),yc("scene1"),bc("scene2"),cg(),ap(),jm(),qm(),xv=!1,mo()&&!vC&&IC&&nE(),Ju(Uv)}function Ru(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Cu,10)}function Nu(e,t){Ar=!1,kc(t[0]+e,tc)}function Du(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(jl&&console.log("Main_Checktylesheet reloading"),Vu("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):jl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function Vu(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Ju(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Hu(){var e=(new Date).getTime()+lc;return e=new Date(e),(xr?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Sm(e.getHours())+":"+Sm(e.getMinutes())}function Fu(){document.hidden||(qu(),window.setTimeout(qu,2e4))}function qu(){document.hidden||(Ec("label_clock",Hu()),cc="?"+Math.random())}function zu(){document.hidden||mo()&&window.setTimeout(function(){XC()||vC||(Jf=Ka[br.Users_Position].name,BC())},5e3)}function Xu(e){switch(e.keyCode){case zi:Lc();break;case Hi:2<++Er&&(Er=0),Bc(),xc(),Pc();break;case Vi:--Er<0&&(Er=2),Bc(),xc(),Pc();break;case qi:rc&&Er?1===Er?(Lc(),Android.mclose(!1)):2===Er&&Android.mclose(!0):Lc()}}_c();var Yu=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],ju=[Zl,cr,vr,$l,fr,hr],Wu=!1;function Qu(e){if(!(Wu||Rg.FirstLoad||Iu()))switch(e.keyCode){case zi:Xc()?($u(),zc()):Hc()?($u(),Jc()):br.Main_Go===er?(br.Main_OldgameSelected=br.Main_gameSelected,br.Games_return?(br.Main_Go=or,br.Main_gameSelected=br.gameSelectedOld):(br.Main_Go=br.Main_BeforeAgame,br.Main_BeforeAgame=Zl),cy(br.Main_Go),Ku(),tu()):br.Main_Go===pr?(cy(er),Ku(),tu()):br.Main_Go===ir?(cy(cr),Ku(),tu()):br.Main_Go===rr?(cy(dr),Ku(),tu()):br.Main_Go===mr?(cy(er),Ku(),tu()):br.Main_Go===tr?(br.Main_Go=cr,ME(),Ku(),tu()):br.Main_Go===nr?(br.Main_Go=cr,iC(),Ku(),tu()):br.Main_Go===gr?(br.Main_Go=cr,UM(),Ku(),tu()):br.Main_Go===ur?(br.Main_Go=cr,Ek(),Ku(),tu()):br.Main_Go===dr?(br.Main_Go=br.Main_BeforeChannel,br.Main_BeforeChannel=Zl,zo(),br.Main_selectedChannel_id="",Ku(),tu()):br.Main_Go===lr?(br.Main_Go=dr,Hs(),Ku(),tu()):br.Main_Go===sr?(br.Main_Go===br.Main_BeforeSearch?br.Main_Go=Zl:br.Main_Go=br.Main_BeforeSearch,Lw(),br.Search_isSearching=!1,Ku(),tu()):br.Main_Go===or?(br.Main_Go===br.Main_BeforeSearch?br.Main_Go=Zl:br.Main_Go=br.Main_BeforeSearch,br.Search_isSearching=!1,zb(),Ku(),tu()):br.Main_Go===_r?(br.Main_Go===br.Main_BeforeSearch?br.Main_Go=Zl:br.Main_Go=br.Main_BeforeSearch,br.Main_selectedChannel_id&&hs(),vb(),br.Search_isSearching=!1,Ku(),tu()):(Ku(),$A(Qu));break;case Hi:if(br.Search_isSearching||br.Main_Go===dr||br.Main_Go===lr||br.Main_Go===rr||br.Main_Go===sr||br.Main_Go===or||br.Main_Go===_r)break;kc(Yu[br.Main_CenterLablesVectorPos],"icon_center_line"),br.Main_CenterLablesVectorPos++,5<br.Main_CenterLablesVectorPos&&(br.Main_CenterLablesVectorPos=0),$u(),e_();break;case Vi:if(br.Search_isSearching||br.Main_Go===dr||br.Main_Go===lr||br.Main_Go===rr||br.Main_Go===sr||br.Main_Go===or||br.Main_Go===_r)break;kc(Yu[br.Main_CenterLablesVectorPos],"icon_center_line"),br.Main_CenterLablesVectorPos--,br.Main_CenterLablesVectorPos<0&&(br.Main_CenterLablesVectorPos=5),$u(),e_();break;case Fi:kc(Yu[br.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Qu),kr=!1,tu();break;case qi:n_()}}function Zu(e){window.clearTimeout(Fl),$c(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Qu),document.body.addEventListener("keydown",Qu,!1),$u()}function Ku(){kc(Yu[br.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Qu),kr=!1}function $u(){kr=!0,Ac(Yu[br.Main_CenterLablesVectorPos],"icon_center_line")}function e_(){au(br.Main_Go),br.Main_Go=ju[br.Main_CenterLablesVectorPos],br.Main_Go!==cr||wo()?eu(!0):(br.Main_Go=Kl,Ku(),eu())}function t_(){br.Main_Go===Zl?(Rg=Cy,document.body.removeEventListener("keydown",fy)):br.Main_Go===cr?document.body.removeEventListener("keydown",hM):br.Main_Go===er?(Rg=My,document.body.removeEventListener("keydown",fy)):br.Main_Go===vr?(Rg=Ey,document.body.removeEventListener("keydown",fy)):br.Main_Go===sr?document.body.removeEventListener("keydown",qw):br.Main_Go===or?document.body.removeEventListener("keydown",tw):br.Main_Go===_r?document.body.removeEventListener("keydown",Pb):br.Main_Go===lr?document.body.removeEventListener("keydown",nd):br.Main_Go===dr?document.body.removeEventListener("keydown",ms):br.Main_Go===nr?document.body.removeEventListener("keydown",mC):br.Main_Go===gr?document.body.removeEventListener("keydown",$M):br.Main_Go===ur?document.body.removeEventListener("keydown",Nk):br.Main_Go===$l?(Rg=Ay,document.body.removeEventListener("keydown",fy)):br.Main_Go===rr?(Rg=by,document.body.removeEventListener("keydown",fy)):br.Main_Go===fr?(Rg=Iy,document.body.removeEventListener("keydown",fy)):br.Main_Go===hr?(Rg=yy,document.body.removeEventListener("keydown",fy)):br.Main_Go===pr?(Rg=wy,document.body.removeEventListener("keydown",fy)):br.Main_Go===ir?(Rg=ky,document.body.removeEventListener("keydown",fy)):br.Main_Go===mr?(Rg=Sy,document.body.removeEventListener("keydown",fy)):br.Main_Go===tr&&document.body.removeEventListener("keydown",FE)}function n_(){window.clearTimeout(Fl),$c(),br.Main_Go!==dr&&(br.Main_BeforeChannelisSet=!1),br.Main_Go!==er&&(br.Main_BeforeAgameisSet=!1),Oc(),br.Main_Go===Zl?(Rg=Cy,qg()):br.Main_Go===cr?eM():br.Main_Go===vr?(Rg=Ey,qg()):br.Main_Go===er?(Rg=My,qg()):br.Main_Go===ur?Mk():br.Main_Go===dr?Xo():br.Main_Go===lr?Fs():br.Main_Go===sr?Bw():br.Main_Go===or?Xb():br.Main_Go===_r?gb():br.Main_Go===$l?(Rg=Ay,qg()):br.Main_Go===ir?(Rg=ky).loadingData||Rg.key_refresh():br.Main_Go===fr?(Rg=Iy,qg()):br.Main_Go===hr?(Rg=yy,qg()):br.Main_Go===pr?(Rg=wy,qg()):br.Main_Go===rr?(Rg=by,qg()):br.Main_Go===mr?(Rg=Sy,qg()):br.Main_Go===tr?IE():br.Main_Go===nr?aC():br.Main_Go===gr&&RM(),Fl=window.setTimeout(Kc,3e3)}function i_(e,t){localStorage.setItem(e,t)}function a_(e,t){return parseInt(localStorage.getItem(e))||t}function o_(e,t){return JSON.parse(localStorage.getItem(e))||t}function s_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function d_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function l_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Cr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function r_(e,t,n,i,a,o,s){rc?u_(e,t,n,i,a,o):__(e,t,n,i,a,o,s)}function c_(e,t,n,i,a,o,s,d){rc&&d?u_(e,t,n,i,a,o):__(e,t,n,i,a,o,s)}function u_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function __(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?uc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(jr,Yr),1<n&&d.setRequestHeader(Wr,Kr),2<n&&d.setRequestHeader(Qr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function f_(e,t,n,i,a,o,s){rc?h_(e,t,n,i,a,o):__(e,t,n,i,a,o,s)}function h_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function h_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?uc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(jr,Yr),1<n&&d.setRequestHeader(Wr,Kr),2<n&&d.setRequestHeader(Qr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}var m_=0,p_=null,v_=0,g_=!1,y_=0,b_=0,w_=!1,A_=0,k_=2e3,C_=5,E_="source",M_=E_,I_=0,S_=[],x_="",P_=!1,T_=0,L_=0,B_=1,O_=!1,G_=0,U_=!1,R_=!1,N_=2e3,D_=[0,5],V_=0,J_=!1,H_=!1,F_=["next_button","back_button"],q_=0,z_=!1,X_=!0;function Y_(){Nm(),wp(),lm(document.getElementById("stream_info_icon"),br.Main_selectedChannelLogo),Ec("stream_info_name",br.Main_selectedChannelDisplayname),Cc("stream_info_title",Ly),Cc("stream_info_game",Py+" "+Ty+" "+Gy),Ec("stream_live_icon",Oy),Ec("progress_bar_duration",xm(V_)),Ag((Jh=D_)[1]),Mc("stream_info_title"),br.Play_isHost=!1,Ec("progress_bar_current_time",xm(0)),Ec("stream_live_time",""),Ec("stream_watching_time",""),O_=null!==br.ChannelVod_vodId,tl=Gt+".",O_?(el=Vs,ll()):Ul(),Cc("pause_button",'<i class="pause_button3d icon-pause"></i>'),bc("progress_pause_holder"),Af(),bc("scene_channel_panel_bottom"),v_=G_=0,window.clearInterval(p_),R_=!1,Bf=-13,T_=L_=0,I_=2,lf(),xp(3),Ah=!1,pp(),mo()?(na=!0,ia=br.Main_selectedChannel_id,ba()):Rm(),document.addEventListener("visibilitychange",nf,!1),g_=!1,w_=!(b_=y_=0),j_(),document.body.removeEventListener("keyup",Cu)}function j_(){A_=0,k_=2e3,W_()}function W_(){r_("https://clips.twitch.tv/api/v2/clips/"+By+"/status",k_,1,null,Z_,Q_,!0)}function Q_(){++A_<C_?(k_+=250,W_()):(Dm(),Gp(3))}function Z_(e){S_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)S_.length?S_.push({id:e[t].quality+"p"+K_(e[t].frame_rate),url:e[t].source}):S_.push({id:e[t].quality+"p"+K_(e[t].frame_rate)+" (source)",url:e[t].source});L_=B_,$_()}function K_(e){return 40<e?60:""}function $_(){window.clearInterval(p_),x_=S_[I_=0].url,-1!==E_.indexOf("source")&&(E_="source");for(var e=0;e<yf();e++){if(S_[e].id===E_){x_=S_[I_=e].url;break}-1!==S_[e].id.indexOf(E_)&&(x_=S_[I_=e].url)}M_=E_,jl&&console.log("PlayClip_onPlayer:",'\n\n"'+x_+'"\n'),L_=B_,rc&&w_&&Android.startVideoOffset(x_,3,P_?-1:Android.gettime()),P_=!1,ef()}function ef(){th&&!op()&&ip(),rc&&(v_=0,Rh=1+N_/1e3,U_=!1,window.clearInterval(p_),p_=window.setInterval(af,Nh))}function tf(e){Ec("progress_bar_duration",xm(V_=e/1e3)),vf()}function nf(){document.hidden&&sf()}function af(){rc&&(T_=Android.gettime()),V_<T_/1e3&&(rc&&Android.play(!1),Play_PannelEndStart(3)),w_&&m_===T_&&!Mm()?++v_>Rh&&(U_&&R_&&I_<yf()-1?I_++:!U_&&R_&&G_++,navigator.onLine?1<G_?Em(G_,3,of):(bf(),$_(),R_=!0):Cm(!1,3)):(v_=G_=0,R_=!1),m_=T_}function of(e){if(!e){if(!(I_<yf()-1))return void Cm(!1,3);I_++}G_=0,bf(),$_(),R_=!0}function sf(){w_&&(z_=!1,df(),qm(),Om())}function df(){mf(),S_=[],window.clearInterval(p_),rc&&Android.stopVideo(3),w_=!1,Tl(),Gm(),jC(),document.body.removeEventListener("keydown",Cf),document.removeEventListener("visibilitychange",nf),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Vs=0}function lf(){var e,t=rf(1,0),n=rf(-1,Rg.ColoumnsCount-1);H_=J_=!1,t?(J_=!0,Ec("next_button_text_name",(e=JSON.parse(document.getElementById(Rg.ids[8]+t).getAttribute(nc)))[4]),Cc("next_button_text_title",e[9]),Ec("end_next_button_text_name",e[4]),Cc("end_next_button_text_title",e[9]),cf(0,1)):cf(0,0),n?(H_=!0,Ec("back_button_text_name",(e=JSON.parse(document.getElementById(Rg.ids[8]+n).getAttribute(nc)))[4]),Cc("back_button_text_title",e[9]),cf(1,1)):cf(1,0)}function rf(e,t){return Qc(Rg.posY,Rg.posX+e,Rg.ids[0])?Rg.posY+"_"+(Rg.posX+e):Qc(Rg.posY+e,t,Rg.ids[0])?Rg.posY+e+"_"+t:null}function cf(e,t){document.getElementById(F_[e]).style.opacity=t}function uf(){q_?1===q_?_f():-1===q_&&ff():(O_&&br.Play_ChatForceDisable&&(Mm()?xl(sl):Pl()),Ap()||mp(3))}function _f(){_y(1,0),hf()}function ff(){_y(-1,Rg.ColoumnsCount-1),hf()}function hf(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",Ju(function(){df(),Ou(Rg.posY+"_"+Rg.posX,Rg.ids,fy),e.style.transition=""})}function mf(){wv=!1,bv=Av=0,tp(),E_=M_,document.getElementById("scene_channel_panel").style.opacity="0",rc&&yg(Android.gettime()/1e3,V_,!0),Cc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(jp)}function pf(){vf(),Im(),jp=window.setInterval(vf,1e3),qm(),fg(),gf(),bf(),document.getElementById("scene_channel_panel").style.opacity="1",wf()}function vf(){rc&&yg(Android.gettime()/1e3,V_,!wv)}function gf(){for(var e=I_=0;e<yf();e++){if(S_[e].id===E_){I_=e;break}-1!==S_[e].id.indexOf(E_)&&(I_=e)}}function yf(){return S_.length}function bf(){1===yf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):I_?I_===yf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(E_=S_[I_].id).indexOf("source")?Ec("quality_name",E_.replace("source",ge)):Ec("quality_name",E_)}function wf(){Uf=window.setTimeout(mf,5e3+Pv)}function Af(){document.getElementById("quality_name").style.width="16ch",Ec("open_vod_text",O_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function kf(){O_?(br.vodOffset=Vs,df(),document.body.addEventListener("keydown",Ug,!1),pp(),Ju(Uv)):(Ah=!0,Vm(ln),window.setTimeout(function(){Ah=!1,Jm()},2e3))}function Cf(e){if(L_!==B_)switch(e.keyCode){case zi:zm()?(qm(),sf()):Fm()}else switch(e.keyCode){case Vi:XC()?Hf&&!vC&&(aE(),Hf--,$C()):Df&&!Zm()&&op()?(Tf++,_p()):Zm()?(tp(),2===Sv?(gp(),5<++wh&&(wh=0),vp()):Sv?1===Sv&&-1<q_&&(q_--,H_||!q_?hg():q_++):(Cg(-1,V_),Pv=2500),wf()):Ap()?(Ip(),Ep(),--Ih<(J_?-1:0)&&(Ih=3),Cp()):pf();break;case Hi:XC()?Hf<AC-1&&!vC&&(aE(),Hf++,$C()):!Df||Zm()||Ap()?Zm()?(tp(),2===Sv?(gp(),--wh<0&&(wh=5),vp()):Sv?1===Sv&&q_<1&&(q_++,J_||!q_?hg():q_--):(Cg(1,V_),Pv=2500),wf()):Ap()?(Ip(),Ep(),3<++Ih&&(Ih=J_?-1:0),Cp()):pf():i_("ChatEnable",(th=op()||Ap()?(ap(),!1):(ip(),!0))?"true":"false");break;case Ji:Ap()?Ip():Zm()?(2===Sv&&1!==wh?(Sv--,hg()):1===Sv?(Sv--,hg()):0<I_&&1===wh&&(I_--,bf()),tp(),wf()):XC()?XC()?KC():pf():YC();break;case Fi:Ap()?Ip():Zm()?(Sv?1===Sv?(Sv++,hg()):I_<yf()-1&&1===wh&&(I_++,bf()):(Sv++,hg()),tp(),wf()):XC()?jC():Df&&op()?(4<++Gf?up(!(Gf=1)):4===Gf&&up(!0),rp(!0)):pf();break;case qi:Ap()?Sp(3):Zm()?Sv?1===Sv?uf():Op(3):(tp(),wf(),bv&&bg()):XC()?(df(),Lu(Hf,TC,zp)):pf();break;case zi:Zm()?mf():XC()?jC():zm()?(qm(),sf()):Fm();break;case Ni:case Ri:case Di:O_&&!br.Play_ChatForceDisable&&(Mm()?xl(sl):Pl()),Ap()||mp(3)}}var Ef,Mf,If,Sf,xf,Pf,Tf=0,Lf=Tf,Bf=-5,Of=.55,Gf=3,Uf=null,Rf="source",Nf=Rf,Df=!0,Vf=!1,Jf="",Hf=0,Ff=2e3,qf=0,zf=1,Xf=2,Yf=0,jf=null,Wf=0,Qf=0,Zf=0,Kf="",$f=[],eh=0,th=!1,nh=null,ih=null,ah=null,oh="",sh=0,dh=5,lh=0,rh=5,ch=0,uh=!1,_h=null,fh=!1,hh=0,mh=null,ph=0,vh=0,gh=!1,yh=!1,bh=!1,wh=1,Ah=!1,kh=!1,Ch=1e4,Eh=2e3,Mh="",Ih=0,Sh=3,xh=null,Ph="",Th=0,Lh=0,Bh="",Oh=!0,Gh=!1,Uh=!1,Rh=7,Nh=1e3,Dh=0,Vh="",Jh=[],Hh=!1,Fh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],qh=[0,0,0,1,2,2,2,1],zh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Xh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Yh=1,jh=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Wh(){xf=document.getElementById("chat_container"),Pf=document.getElementById("inner_progress_bar"),Tf=a_("ChatPositionsValue",0),Gf=a_("ChatSizeValue",3),th=s_("ChatEnable",!1),Df=s_("Play_isFullScreen",!0),rp(!1),cp(!1),Zh()}function Qh(e){e?void 0!==Ef&&(Tf=Ef,Gf=If,(th=Mf)||ap(),rp(!1)):(Ef=Tf,Mf=th,If=Gf,Tf=0,ip(),Gf=4,up(th=!0),rp(!1),Xd&&(Xd.scrollTop=Xd.scrollHeight)),i_("Play_isFullScreen",Df)}function Zh(){Yh=sA("chat_font_size");for(var e=0;e<jh.length;e++)kc("chat_inner_container",jh[e]);Ac("chat_inner_container",jh[Yh])}function Kh(){Nm(),Cc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Pi+f.toUpperCase()+"</div>"),uu("stream_info_title"),O_=!(kh=!1),lm(document.getElementById("stream_info_icon"),Oi),br.Play_isHost?Ec("stream_info_name",br.Play_DisplaynameHost):Ec("stream_info_name",br.Play_selectedChannelDisplayname),cf(0,0),cf(1,0),br.Play_WasPlaying=1,nu(),Vf=br.Play_isHost,br.Play_isHost=!1,Gh=!1,bc("scene_channel_panel_bottom"),Lh=Th=0,Ec("stream_watching_time",g+xm(0)),oh=Pm(0),Ec("stream_live_time",y+oh),yc("progress_pause_holder"),Hh=!1,xp(1),Bf=-5,ph=vh=Dh=0,window.clearInterval(mh),yh=!1,Ch=3e3,Oh=!(lh=0),Yf=qf,bh=!(uh=!(Zf=Qf=Wf=fh=0)),document.addEventListener("visibilitychange",em,!1),nm(),rm(),document.body.removeEventListener("keyup",Cu),jf=window.setInterval(om,6e4)}function $h(e){Vm(e)}function Play_CheckResume(){uh&&em(),lv&&zv(),w_&&(sf(),window.clearInterval(p_))}function em(){document.hidden?Ap()?(qm(),ap(),Lm()):(Gm(),bh=!1,Hd(),window.clearInterval(jf)):(uh=!0,jm(),uh&&(Nm(),Ch=3e3,Gh=!(lh=0),kh?om():nm(),Yf=qf,ch=0,navigator.onLine?rm():Sf=window.setInterval(tm,100),jf=window.setInterval(om,6e4)))}function tm(){(navigator.onLine||200<ch)&&(window.clearInterval(Sf),rm()),ch++}function nm(){__("https://api.twitch.tv/kraken/streams/"+br.Play_selectedChannel_id,Ch,2,null,im,am,!1)}function im(e){null!==(e=JSON.parse(e)).stream&&(Ec("stream_info_name",Vf?br.Play_DisplaynameHost:br.Play_selectedChannelDisplayname),br.Play_selectedChannel_id=e.stream.channel._id,Cc("stream_info_title",pI.parse(e.stream.channel.status,!1,!0)),br.Play_gameSelected=e.stream.game,Mh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Ec("stream_info_game",v+br.Play_gameSelected+m+Yc(e.stream.viewers)+" "+J+Mh),br.Play_selectedChannelLogo=e.stream.channel.logo,kh=!0,lm(document.getElementById("stream_info_icon"),br.Play_selectedChannelLogo),oh=e.stream.created_at,mo()?(na=!0,ia=br.Play_selectedChannel_id,ba()):Rm())}function am(){lh<rh&&(Ch+=500,window.setTimeout(function(){uh&&nm()},750)),lh++}function om(){__("https://api.twitch.tv/kraken/streams/"+br.Play_selectedChannel_id,3e3,2,null,sm,dm,!1)}function sm(e){null!==(e=JSON.parse(e)).stream&&(Cc("stream_info_title",pI.parse(e.stream.channel.status,!1,!0)),br.Play_gameSelected=e.stream.game,Ec("stream_info_game",v+br.Play_gameSelected+m+Yc(e.stream.viewers)+" "+J+Mh),kh||lm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function dm(){Dh<rh?(window.setTimeout(function(){uh&&om()},2500),Dh++):Dh=0}function lm(e,t){e.onerror=function(){this.onerror=null,this.src=Oi,kh=!1},e.src=t}function rm(){sh=0,Eh=2e3+(Gh?3e3:0),cm()}function cm(){var e,t;if(e=Yf===qf?"https://api.twitch.tv/api/channels/"+br.Play_selectedChannel+"/access_token"+(mo()&&Ka[br.Users_Position].access_token?"?oauth_token="+Ka[br.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+br.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Wf.token)+"&sig="+Wf.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",rc){if(!(t=Android.mreadUrl(e,Eh,1,null)))return void _m();200===(t=JSON.parse(t)).status?(sh=0,uh&&mm(t.responseText)):403===t.status?fm():404===t.status?Up():_m()}else(t=new XMLHttpRequest).open("GET",uc+e,!0),t.timeout=Eh,t.setRequestHeader(jr,Yr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(sh=0,uh&&mm(t.responseText)):403===t.status?(um(t),Yl?hm():fm()):404===t.status?(um(t),Yl?hm():Up()):(um(t),_m()))},t.send(null)}function um(e){jl&&(console.log(e.status),console.log(e.responseText))}function _m(){uh&&Oh&&(++sh<dh+(Gh?7:0)?(Eh+=250,Gh?window.setTimeout(cm,500):cm()):Yl?hm():Up())}function fm(){Dm(),Vm(Vn),window.setTimeout(function(){uh&&Up()},4e3)}function hm(){$f=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Yf=Xf,uh&&ym()}function mm(e){Yf===qf?(Wf=JSON.parse(e),Yf=zf,rm()):Yf===zf&&($f=pm(Qf=e),Yf=Xf,uh&&ym())}function pm(e){for(var t,n=[],i="",a=1,o=gm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=vm(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function vm(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function gm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function ym(){window.clearInterval(mh),Kf=$f[eh=0].url,-1!==Rf.indexOf("source")&&(Rf="source");for(var e=0;e<lp();e++){if($f[e].id===Rf){Kf=$f[eh=e].url;break}-1!==$f[e].id.indexOf(Rf)&&(Kf=$f[eh=e].url)}Nf=Rf,Yf=Xf,jl&&console.log("Play_onPlayer:",'\n\n"'+Kf+'"\n'),rc&&uh&&Android.startVideo(Kf,1),bm()}function bm(){Uh=!1,th&&!op()&&ip(),bh=!0,wm(),rc&&(ph=0,Rh=1+Ff/1e3,gh=!1,window.clearInterval(mh),mh=window.setInterval(Am,Nh))}function wm(){br.Play_ChatForceDisable?gd():Rl()}function Am(){var e=!Mm();rc&&(Th=Android.gettime()),uh&&hh===Th&&e?Rh<++ph&&(gh&&yh&&eh<lp()-1?eh++:!gh&&yh&&vh++,navigator.onLine?1<vh?Em(vh,1,km):(dp(),ym(),yh=!0):Cm(!1,1)):(ph=vh=0,yh=!1),hh=Th,e&&Lh++}function km(e){if(!e){if(!(eh<lp()-1))return void Up();eh++}vh=0,dp(),ym(),yh=!0}function Cm(e,t){br.Play_isHost=e,xp(t),Gp(t)}function Em(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Cm(!1,t))},i.send(null)}function Mm(){return!!rc&&!Android.getPlaybackState()}function Im(){var e=Hu();Ec("stream_clock",e),Ec("label_clock",e)}function Sm(e){return e<10?"0"+e:e}function xm(e){var t,n,i;return t=Sm(parseInt(e)%60),n=Sm((e=Math.floor(e/60))%60),i=Sm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Pm(e){return xm(parseInt(e/1e3))}function Tm(e){return Pm((new Date).getTime()-new Date(e).getTime())}function Lm(){uh&&(Bm(),br.Play_WasPlaying=0,Om())}function Bm(){rc&&Android.stopVideo(1),uh=!1,jC(),Tl(),Gm(),Um(),br.Play_selectedChannel_id=""}function Om(){yg(0,0),bc("scene1"),yc("scene2"),Zc()}function Gm(){Km(),jm(),Jm(),wp(),Vh="",eh===lp()-1&&(Nf=$f[0].id),ov===gg()-1&&(Zp=av[0].id),I_===yf()-1&&(M_=S_[0].id)}function Um(){bh=!1,document.body.removeEventListener("keydown",zp),document.removeEventListener("visibilitychange",em),Hd(),window.clearInterval(jf),window.clearInterval(mh),Ah=!1}function Rm(){Cc("fallow_text",Pi+Lt),ea=!1}function Nm(){rc?Android.mshowLoading(!0):bc("dialog_loading_play")}function Dm(){rc?Android.mshowLoading(!1):yc("dialog_loading_play")}function Vm(e){Ec("dialog_warning_play_text",e),bc("dialog_warning_play")}function Jm(){yc("dialog_warning_play")}function Hm(){return wc("dialog_warning_play")}function Fm(){zm()?qm():(bc("play_dialog_exit"),nh=window.setTimeout(Fm,3e3))}function qm(){window.clearTimeout(nh),yc("play_dialog_exit")}function zm(){return wc("play_dialog_exit")}function Xm(){window.clearTimeout(ih)}function Ym(){window.clearTimeout(ah)}function jm(){Xm(),Ym(),yc("play_dialog_simple_pause")}function Wm(){Dm(),Mm()?Qm()?(yc("play_dialog_simple_pause"),ah=window.setTimeout(Wm,8e3)):(bc("play_dialog_simple_pause"),ih=window.setTimeout(Wm,1500)):jm()}function Qm(){return wc("play_dialog_simple_pause")}function Zm(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Km(){tp(),document.getElementById("scene_channel_panel").style.opacity="0",Rf=Nf,window.clearInterval(jp)}function $m(){pp(),sp(),dp(),ep(),jp=window.setInterval(ep,1e3),Im(),qm(),document.getElementById("scene_channel_panel").style.opacity="1",np()}function ep(){Ec("stream_watching_time",g+xm(Lh)),Ec("stream_live_time",y+(-1===oh.indexOf("00:00")?Tm(oh):"00:00"))}function tp(){window.clearTimeout(Uf),Pv=0}function np(){Uf=window.setTimeout(Km,5e3)}function ip(){_p(),bc("chat_container")}function ap(){yc("chat_container")}function op(){return wc("chat_container")}function sp(){for(var e=eh=0;e<lp();e++){if($f[e].id===Rf){eh=e;break}-1!==$f[e].id.indexOf(Rf)&&(eh=e)}}function dp(){1===lp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):eh?eh===lp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Rf=$f[eh].id).indexOf("source")?Ec("quality_name",Rf.replace("source",ge)+$f[eh].band):Ec("quality_name",Rf+$f[eh].band)}function lp(){return $f.length}function rp(e){xf.style.height=Xh[Gf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Xh[Gf-1].dialogTop+"%",_p(),Vd(),e&&fp(Nn+Xh[Gf-1].percentage),window.setTimeout(function(){Xd&&(Xd.scrollTop=Xd.scrollHeight)},500),i_("ChatSizeValue",Gf)}function cp(e){xf.style.backgroundColor="rgba(0, 0, 0, "+Of+")",e&&fp(Dn+(100*Of).toFixed(0)+"%")}function up(e){Tf=e?qh[Lf=Tf]:zh[Tf][Lf]}function _p(){var e=4===Gf;Tf<0?Tf=e?2:7:(e?2:7)<Tf&&(Tf=0),xf.style.top=(e?.2:Fh[Tf].top+Fh[Tf].sizeOffset[Gf-1])+"%",xf.style.left=Fh[Tf+(e?2:0)].left+"%",i_("ChatPositionsValue",Tf)}function fp(e){window.clearTimeout(_h),Ec("play_chat_dialog_text",e),bc("play_chat_dialog"),_h=window.setTimeout(hp,1e3)}function hp(){yc("play_chat_dialog")}function mp(e){Mm()?(jm(),Cc("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(Zm()&&Km(),window.clearInterval(mh),mh=window.setInterval(Am,Nh)):2===e?(Zm()&&cg(),window.clearInterval(hv),hv=window.setInterval(og,Nh)):3===e&&(Zm()&&mf(),window.clearInterval(p_),p_=window.setInterval(af,Nh)),rc&&Android.play(!0)):(window.clearInterval(mh),window.clearInterval(hv),window.clearInterval(p_),Cc("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Wm(),rc&&Android.play(!1))}function pp(){gp(),wh=1,vp()}function vp(){Ac("scene2_pannel_"+wh,"playbotton_focus")}function gp(){kc("scene2_pannel_"+wh,"playbotton_focus")}function yp(e){Kp=Yf=-1,L_=-1,jC(),ap(),Km(),mf(),cg(),Ah||Jm(),Dm(),qm(),3===e&&J_&&(z_||X_)&&(Ep(),Ih=-1),Cp()}function bp(){bc("dialog_end_stream")}function wp(){yc("dialog_end_stream"),Ip(),kp()}function Ap(){return wc("dialog_end_stream")}function kp(){Ep(),Ih=0,Cp()}function Cp(){Ac("dialog_end_"+Ih,"dialog_end_icons_focus")}function Ep(){kc("dialog_end_"+Ih,"dialog_end_icons_focus")}function Mp(e){1===e?Ph=br.Play_selectedChannelDisplayname+" "+f:2===e?Ph=br.Main_selectedChannelDisplayname+$t:3===e&&(Ph=br.Main_selectedChannelDisplayname+Gt),Cc("dialog_end_stream_text",Ph+S+pi+(3===e&&J_&&(z_||X_)?li:tn)+Sh+"..."),Ap()?(Kp=Yf=Xf,L_=B_,-1===--Sh?(Cc("dialog_end_stream_text",Ph+S+pi+tn+"0..."),qm(),ap(),1===e?Lm():2===e?dg():3===e&&(J_&&(z_||X_)?_f():sf())):xh=window.setTimeout(function(){Mp(e)},1e3)):xh=window.setTimeout(function(){Mp(e)},50)}function Ip(){window.clearTimeout(xh),Cc("dialog_end_stream_text",Ph+S+pi+nn)}function Sp(e){var t=!0;-1===Ih&&J_?_f():Ih?1===Ih?br.Play_isHost?(br.Play_DisplaynameHost=br.Play_selectedChannelDisplayname+ne,br.Play_selectedChannel=Bh.target_login,br.Play_selectedChannelDisplayname=Bh.target_display_name,br.Play_DisplaynameHost=br.Play_DisplaynameHost+br.Play_selectedChannelDisplayname,Bm(),document.body.addEventListener("keydown",zp,!1),br.Play_selectedChannel_id=Bh.target_id,Ju(Kh)):kf():2===Ih?Pp(e):3===Ih&&Lp(e):2===e?av.length?(pv=!(Bv=!0),ng(),jm(),el=Ev=0,ll()):(t=!1,Vm(ei),window.setTimeout(function(){Jm()},2e3)):3===e&&(S_.length?(U_=!(P_=!0),$_(),jm(),O_?(Ev=0,el=Vs,ll()):Ul()):(t=!1,Vm(ei),window.setTimeout(function(){Jm()},2e3))),1!==Ih&&3===Ih&&""===br.Play_gameSelected&&(t=!1),t&&wp()}function xp(e){e?1===e?(Ep(),Ih=2,Cp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(kp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(kp(),document.getElementById("dialog_end_-1").style.display=J_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Ec("dialog_end_vod_text",O_?sn:dn)):(Ep(),Ih=1,Cp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Ec("dialog_end_vod_text",un))}function Pp(e){br.Main_BeforeChannelisSet||br.Main_Go===lr||br.Main_Go===rr||(br.Main_BeforeChannel=br.Main_BeforeAgameisSet&&br.Main_Go!==er?br.Main_BeforeAgame:br.Main_Go,br.Main_BeforeChannelisSet=!0),au(br.Main_Go),br.Main_Go=dr,1===e?(br.Main_selectedChannel_id=br.Play_selectedChannel_id,br.Main_selectedChannel=br.Play_selectedChannel,br.Main_selectedChannelDisplayname=br.Play_selectedChannelDisplayname,Lo=ea,ap(),Lm()):2===e?dg():3===e&&sf()}function Tp(e){br.Search_isSearching||(br.Main_BeforeSearch=br.Main_Go),au(br.Main_Go),br.Main_Go=ar,1===e?(ap(),Lm()):2===e?dg():3===e&&sf()}function Lp(e){if(""===br.Play_gameSelected)return Ah=!0,Vm(Qn),void window.setTimeout(function(){Ah=!1,Jm()},2e3);br.Main_BeforeAgameisSet||br.Main_Go===mr||br.Main_Go===pr||(br.Main_BeforeAgame=br.Main_BeforeChannelisSet&&br.Main_Go!==dr&&br.Main_Go!==lr&&br.Main_Go!==rr?br.Main_BeforeChannel:br.Main_Go,br.Main_BeforeAgameisSet=!0),au(br.Main_Go),br.Main_Go=er,br.Main_gameSelected=br.Play_gameSelected,ap(),1===e?Lm():2===e?dg():3===e&&sf()}function Bp(){mo()&&Ka[br.Users_Position].access_token?ea?Sa():Ea():(Vm(Bt),Ah=!0,window.setTimeout(function(){Jm(),Ah=!1},2e3))}function Op(e){var t=document.getElementById("scene_channel_panel");2!==wh&&(t.style.transition="none",t.style.opacity="0"),Ju(function(){wh?1===wh?(1===e?(ym(),Km()):2===e?(pv=!1,ng(),cg()):3===e&&(U_=!1,$_(),mf()),jm()):2===wh?(ia=1===e?br.Play_selectedChannel_id:br.Main_selectedChannel_id,Bp(),tp(),1===e?np():2===e?mg():3===e&&wf()):3===wh?Lp(e):4===wh?Pp(e):5===wh&&Tp(e):kf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(mh),Up()):Gp(e)}function Gp(e){window.clearInterval(mh),window.clearInterval(p_),window.clearInterval(hv),yp(e),Sh=3,Mp(e),bp()}function Up(){Nm(),Yf=-1,sh=0,Eh=2e3,Hd(),window.clearInterval(jf),window.clearInterval(mh),""!==br.Play_selectedChannel_id?Vp():Rp()}function Rp(){__("https://api.twitch.tv/kraken/users?login="+br.Play_selectedChannel,Eh,2,null,Np,Dp,!1)}function Np(e){void 0!==(e=JSON.parse(e).users[0])?(br.Play_selectedChannel_id=e._id,sh=0,Eh=2e3,Vp()):Gp(1)}function Dp(){++sh<dh?(Eh+=250,Rp()):Cm(!1,1)}function Vp(){r_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(br.Play_selectedChannel_id),Eh,1,null,Hp,Jp,!0)}function Jp(){++sh<dh?(Eh+=250,Vp()):Cm(!1,1)}function Hp(e){void 0!==(Bh=JSON.parse(e).hosts[0]).target_login?(Ah=!0,Vm(br.Play_selectedChannelDisplayname+cn+ne+Bh.target_display_name),window.setTimeout(function(){Ah=!1},4e3),xp(0),br.Play_isHost=!0):(xp(1),br.Play_isHost=!1),Gp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?ag(t):3===e&&tf(t))}function Fp(){ea?(Cc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Cc("fallow_text",Pi+Mt)):(Cc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Cc("fallow_text",Pi+It))}function qp(e){Ap()&&!zm()?(Ip(),Fm()):XC()?jC():Zm()&&!Tg()?e?cg():Km():Tg()&&zm()?(Pg(),lg(!1),Om()):zm()?(qm(),ap(),e?dg():Lm()):(Hm()&&Jm(),Fm())}function zp(e){if(Yf!==Xf)switch(e.keyCode){case zi:zm()?(qm(),ap(),Lm()):Fm()}else switch(e.keyCode){case Vi:XC()?Hf&&!vC&&(aE(),Hf--,$C()):Df&&!Zm()&&op()?(Tf++,_p()):Zm()?(gp(),5<++wh&&(wh=1),vp(),tp(),np()):Ap()?(Ip(),Ep(),--Ih<(br.Play_isHost?1:2)&&(Ih=3),Cp()):$m();break;case Hi:XC()?Hf<AC-1&&!vC&&(aE(),Hf++,$C()):!Df||Zm()||Ap()?Zm()?(gp(),--wh<1&&(wh=5),vp(),tp(),np()):Ap()?(Ip(),Ep(),3<++Ih&&(Ih=br.Play_isHost?1:2),Cp()):$m():i_("ChatEnable",(th=op()||Ap()?(ap(),!1):(ip(),!0))?"true":"false");break;case Ji:Zm()?(0<eh&&1===wh&&(eh--,dp()),tp(),np()):!XC()&&mo()?YC():Ap()?Ip():XC()&&KC();break;case Fi:Zm()?(eh<lp()-1&&1===wh&&(eh++,dp()),tp(),np()):XC()?jC():Df&&op()?(4<++Gf?up(!(Gf=1)):4===Gf&&up(!0),rp(!0)):Ap()?Ip():$m();break;case qi:if(Ap())Sp(1);else if(Zm())Op(1);else if(XC()){var t=document.getElementById(TC[8]+Hf);null===t?WC():br.Play_selectedChannel!==JSON.parse(t.getAttribute(nc))[0]?(Bm(),br.Play_isHost=!1,Hh=!0,Lu(Hf,TC,zp)):WC()}else $m();break;case zi:qp(!1);break;case Ni:case Ri:case Di:Ap()||mp(1)}}var Xp,Yp,jp,Wp,Qp="source",Zp=Qp,Kp=0,$p=null,ev=0,tv=0,nv=0,iv="",av=[],ov=0,sv=0,dv=5,lv=!1,rv=2e3,cv=0,uv=5,_v=1e4,fv=0,hv=null,mv=0,pv=!1,vv=0,gv=!1,yv=!1,bv=0,wv=!1,Av=0,kv=2e3,Cv=!1,Ev=0,Mv={},Iv=0,Sv=0,xv=!0,Pv=0,Tv=0,Lv=0,Bv=!1,Ov=[0,10,30,60,120,300,600,900,1200,1800],Gv=!1;function Uv(){Nm(),wp(),Ev=0,Ec("stream_live_time",""),Ec("stream_watching_time",""),Ec("progress_bar_current_time",xm(0)),tl=O+".",Cc("pause_button",'<i class="pause_button3d icon-pause"></i>'),yc("progress_pause_holder"),Tv=0,Ag((Jh=Ov)[1]),Kp=qf,O_=!0,Vs=0,br.Play_isHost=!1,cf(0,0),cf(1,0),br.vodOffset?(Nv(),Hv()):(xv&&""!==br.Main_selectedChannel_id?(lm(document.getElementById("stream_info_icon"),br.Main_selectedChannelLogo),Mv["#"+br.ChannelVod_vodId]||ll(),mo()?(ia=br.Main_selectedChannel_id,na=!0,ba()):Rm()):(Nv(),Dv()),Ec("stream_info_name",br.Main_selectedChannelDisplayname),Cc("stream_info_title",""),Cc("stream_info_game",Rs+" ["+Ts.toUpperCase()+"]"),Ec("stream_live_icon",Ns),Mc("stream_info_game")),Mv["#"+br.ChannelVod_vodId]&&!br.vodOffset?(Dm(),xg()):Rv()}function Rv(){window.setTimeout(function(){bc("scene_channel_panel_bottom"),bc("progress_pause_holder")},1e3),Ec("progress_bar_duration",xm(Ss)),br.Play_WasPlaying=2,nu(),Wp=window.setInterval(Yv,6e4),hu(Vh),mv=vv=0,window.clearInterval(hv),Ah=Cv=gv=!(Bf=-13),wv=!1,nv=tv=ev=Av=0,document.addEventListener("visibilitychange",zv,!1),Gv=!(lv=!(yv=!1)),jv(),xp(2),document.body.removeEventListener("keyup",Cu)}function Nv(){cv=0,uv=5,_v=1e4}function Dv(){__("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(br.Main_selectedChannel),_v,2,null,Vv,Jv,!1)}function Vv(e){void 0!==(e=JSON.parse(e).users[0])?(br.Main_selectedChannelLogo=e.logo,br.Main_selectedChannel_id=e._id,Mv["#"+br.ChannelVod_vodId]||ll(),mo()?(ia=br.Main_selectedChannel_id,na=!0,ba()):Rm()):(br.Main_selectedChannelLogo=Oi,br.Main_selectedChannel_id=""),lm(document.getElementById("stream_info_icon"),br.Main_selectedChannelLogo)}function Jv(){++cv<uv?(_v+=500,window.setTimeout(function(){lv&&Dv()},750)):Yp=window.setTimeout(Dv,2500)}function Hv(){__("https://api.twitch.tv/kraken/videos/"+br.ChannelVod_vodId,_v,2,null,qv,Fv,!1)}function Fv(){++cv<uv&&(_v+=2e3,Hv())}function qv(e){e=JSON.parse(e),Cc("stream_info_title",pI.parse(e.title,!1,!0)),Cc("stream_info_game",Qt+v+e.game+" "+Yc(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Ec("stream_live_icon",N+lu(e.created_at)),Ec("progress_bar_duration",xm(Ss=parseInt(e.length))),Ev=1e3*br.vodOffset,yg(br.vodOffset,Ss,!0),br.Main_selectedChannelDisplayname=e.channel.display_name,Ec("stream_info_name",br.Main_selectedChannelDisplayname),br.Main_selectedChannelLogo=e.channel.logo,lm(document.getElementById("stream_info_icon"),br.Main_selectedChannelLogo),br.Main_selectedChannel_id=e.channel._id,br.Main_selectedChannel=e.channel.name,mo()?(na=!0,ia=br.Main_selectedChannel_id,ba()):Rm(),hu(e.increment_view_count_url)}function zv(){document.hidden?Ap()?(qm(),ap(),dg()):(Yv(),Eg(),Pl(),Gm(),window.clearInterval(hv),window.clearInterval(Wp)):(lv=!0,jm(),lv&&(Nm(),ch=ch=0,navigator.onLine?ig():Sf=window.setInterval(Xv,100),xl(sl),xp(2),Wp=window.setInterval(Yv,6e4)))}function Xv(){(navigator.onLine||200<ch)&&(window.clearInterval(Sf),Kp=qf,jv()),ch++}function Yv(){br.vodOffset=rc?parseInt(Android.gettime()/1e3):0,nu(),br.vodOffset=0}function jv(){sv=0,kv=2e3,Wv()}function Wv(){r_(Kp===qf?"https://api.twitch.tv/api/vods/"+br.ChannelVod_vodId+"/access_token"+(mo()&&Ka[br.Users_Position].access_token?"?oauth_token="+Ka[br.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+br.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(ev.token)+"&nauthsig="+ev.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Eh,1,null,Kv,Qv,!0)}function Qv(){if(lv){var e;if(ev.token&&(e=JSON.parse(ev.token)),e&&0!==JSON.parse(ev.token).chansub.restricted_bitrates.length)return void $v();++sv<dv?(kv+=250,Wv()):Yl?Zv():(Dm(),Gp(2))}}function Zv(){av=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Kp=Xf,lv&&ng()}function Kv(e){Kp===qf?(ev=JSON.parse(e),Kp=zf,jv()):Kp===zf&&(av=pm(tv=e),Kp=Xf,lv&&ng())}function $v(){mo()&&Ka[br.Users_Position].access_token?(ia=br.Main_selectedChannel_id,Ta()):(Dm(),Vm(x+St),window.setTimeout(function(){lv&&dg()},4e3))}function eg(){Dm(),Vm(x+xt),window.setTimeout(function(){lv&&dg()},4e3)}function tg(){Gv?(Dm(),Vm(x+Pt),window.setTimeout(function(){lv&&dg()},4e3)):(Gv=!0,Kp=qf,jv())}function ng(){window.clearInterval(hv),iv=av[ov=0].url,-1!==Qp.indexOf("source")&&(Qp="source");for(var e=0;e<gg();e++){if(av[e].id===Qp){iv=av[ov=e].url;break}-1!==av[e].id.indexOf(Qp)&&(iv=av[ov=e].url)}Zp=Qp,ig()}function ig(){jl&&console.log("PlayVod_onPlayer:",'\n\n"'+iv+'"\n'),br.vodOffset?(el=br.vodOffset,ll(),rc&&lv&&Android.startVideoOffset(iv,2,Bv?-1:1e3*br.vodOffset),br.vodOffset=0):rc&&lv&&Android.startVideoOffset(iv,2,Bv?-1:Android.gettime()),Bv=!1,th&&!op()&&ip(),rc&&(mv=0,Rh=3+rv/1e3,pv=!1,window.clearInterval(hv),hv=window.setInterval(og,Nh))}function ag(e){Ec("progress_bar_duration",xm(Ss=e/1e3)),_g()}function og(){rc&&(Ev=Android.gettime()),Ss<Ev/1e3&&(rc&&Android.play(!1),Play_PannelEndStart(2)),lv&&fv===Ev&&!Mm()?++mv>Rh&&(pv&&gv&&ov<gg()-1?ov++:!pv&&gv&&vv++,navigator.onLine?1<vv?Em(vv,2,sg):(vg(),ng(),gv=!0):Cm(!1,2)):(mv=vv=0,gv=!1),fv=Ev}function sg(e){if(!e){if(!(ov<gg()-1))return void Cm(!1,2);ov++}vv=0,vg(),ng(),gv=!0}function dg(){lv&&(av=[],lg(!0),Om())}function lg(e){e&&Eg(),rc&&Android.stopVideo(2),lv=!1,window.clearInterval(Wp),window.clearInterval(Yp),br.Play_WasPlaying=0,xv=!0,Tl(),jC(),Gm(),rg()}function rg(){document.body.removeEventListener("keydown",Ug),document.removeEventListener("visibilitychange",zv),br.vodOffset=0,window.clearInterval($p),window.clearInterval(hv),Ss=0}function cg(){wv=!1,bv=Av=0,tp(),document.getElementById("scene_channel_panel").style.opacity="0",rc&&yg(Android.gettime()/1e3,Ss,!0),Cc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",Qp=Zp,window.clearInterval(jp)}function ug(e){_g(),Im(),qm(),jp=window.setInterval(_g,1e3),e&&(fg(),pg(),vg(),mg()),document.getElementById("scene_channel_panel").style.opacity="1"}function _g(){rc&&yg(Android.gettime()/1e3,Ss,!wv)}function fg(){Sv=1,q_=0,hg()}function hg(){kc("pause_button","progress_bar_div_focus"),kc("next_button","progress_bar_div_focus"),kc("back_button","progress_bar_div_focus"),kc("progress_bar_div","progress_bar_div_focus"),Sv?1===Sv?(q_?1===q_?Ac("next_button","progress_bar_div_focus"):-1===q_&&Ac("back_button","progress_bar_div_focus"):Ac("pause_button","progress_bar_div_focus"),gp(),Cc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):2===Sv&&(vp(),Cc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):(Ac("progress_bar_div","progress_bar_div_focus"),gp(),bv&&(kg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function mg(){Uf=window.setTimeout(cg,5e3+Pv)}function pg(){for(var e=ov=0;e<gg();e++){if(av[e].id===Qp){ov=e;break}-1!==av[e].id.indexOf(Qp)&&(ov=e)}}function vg(){1===gg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):ov?ov===gg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Qp=av[ov].id).indexOf("source")?Ec("quality_name",Qp.replace("source",ge)+av[ov].band):Ec("quality_name",Qp+av[ov].band)}function gg(){return av.length}function yg(e,t,n){Ec("progress_bar_current_time",xm(e)),n&&(Pf.style.width=e/t*100+"%")}function bg(){jm(),Ap()||(U_=pv=!1,lv?(rc&&Android.startVideoOffset(iv,2,0<Lv?1e3*Lv:-1),el=Lv):(el=Vs,rc&&Android.startVideoOffset(x_,3,0<Lv?1e3*Lv:-1)),O_&&ll()),Cc("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",wv=!1,Lv=bv=Av=0}function wg(){Tv=Av=0,Ag(Jh[1])}function Ag(e){bv&&!Sv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Ec("progress_bar_steps",Jn+e/60+Fn):Ec("progress_bar_steps",e?Jn+e+Hn:Jn+Jh[1]+Hn)}function kg(){Ec("progress_bar_jump_to",ue+" ("+(bv<0?"-":"")+xm(Math.abs(bv))+")"+_e+xm(Lv))}function Cg(e,t){var n=rc?Android.gettime()/1e3:0;window.clearTimeout(Xp),wv=!0,Av<Jh.length-1&&Tv++%6==0&&Av++,bv+=Jh[Av]*e,Lv=n+bv,lv&&(Lv=10*Math.floor(Lv/10)),t<Lv?(bv=t-n-Jh[1],Lv=n+bv,Tv=Av=0):Lv<0&&(bv=0-n,Lv=Tv=Av=0),kg(),Pf.style.width=Lv/t*100+"%",Ag(Jh[Av]*e),Xp=window.setTimeout(wg,1e3)}function Eg(){var e=rc?parseInt(Android.gettime()/1e3):0,t="#"+br.ChannelVod_vodId;300<e&&e<Ss-300?(Mv[t]&&delete Mv[t],Mv[t]=e,i_("PlayVod_VodIds",JSON.stringify(Mv))):Ss-300<e&&Mv[t]&&(delete Mv[t],i_("PlayVod_VodIds",JSON.stringify(Mv)))}function Mg(){Mv=o_("PlayVod_VodIds",{});var e=Ig();250<e&&Sg(e-250)}function Ig(){var e=0;for(var t in Mv)Mv.hasOwnProperty(t)&&e++;return e}function Sg(e){var t=0;for(var n in Mv){if(!(t<e))break;delete Mv[n],t++}i_("PlayVod_VodIds",JSON.stringify(Mv))}function xg(){yc("scene_channel_panel_bottom"),ug(!1),Cc("dialog_vod_saved_text",An+Pm(1e3*Mv["#"+br.ChannelVod_vodId])),bc("dialog_vod_start")}function Pg(){cg(),yc("dialog_vod_start"),Lg(),window.setTimeout(function(){bc("scene_channel_panel_bottom")},1e3)}function Tg(){return wc("dialog_vod_start")}function Lg(){Og(),Iv=0,Bg()}function Bg(){Ac("dialog_vod_"+Iv,"dialog_end_icons_focus")}function Og(){kc("dialog_vod_"+Iv,"dialog_end_icons_focus")}function Gg(e){Pg(),e?(delete Mv["#"+br.ChannelVod_vodId],br.vodOffset=0,Uv()):(br.vodOffset=Mv["#"+br.ChannelVod_vodId],Ev=1e3*br.vodOffset,yg(br.vodOffset,Ss,!0),Rv())}function Ug(e){if(Kp===Xf||Tg())switch(e.keyCode){case Vi:XC()?Hf&&!vC&&(aE(),Hf--,$C()):Df&&!Zm()&&op()?(Tf++,_p()):Zm()&&!Tg()?(tp(),2===Sv?(gp(),5<++wh&&(wh=1),vp()):Sv||(Cg(-1,Ss),Pv=2500),mg()):Tg()?(Og(),Iv?Iv--:Iv++,Bg()):Ap()?(Ip(),Ep(),--Ih<0&&(Ih=3),1===Ih&&(Ih=0),Cp()):Tg()||ug(!0);break;case Hi:console.log(Sv),XC()?Hf<AC-1&&!vC&&(aE(),Hf++,$C()):!Df||Zm()||Ap()?Zm()&&!Tg()?(tp(),2===Sv?(gp(),--wh<1&&(wh=5),vp()):Sv||(Cg(1,Ss),Pv=2500),mg()):Tg()?(Og(),Iv?Iv--:Iv++,Bg()):Ap()?(Ip(),Ep(),3<++Ih&&(Ih=0),1===Ih&&(Ih=2),Cp()):Tg()||ug(!0):i_("ChatEnable",(th=op()||Ap()?(ap(),!1):(ip(),!0))?"true":"false");break;case Ji:Ap()?Ip():Zm()&&!Tg()?(2===Sv&&1!==wh?(Sv--,hg()):1===Sv?(Sv--,hg()):0<ov&&1===wh&&(ov--,vg()),tp(),mg()):XC()?XC()?KC():Tg()||ug(!0):YC();break;case Fi:Ap()?Ip():Zm()&&!Tg()?(Sv?1===Sv?(Sv++,hg()):ov<gg()-1&&1===wh&&(ov++,vg()):(Sv++,hg()),tp(),mg()):XC()?jC():Df&&op()?(4<++Gf?up(!(Gf=1)):4===Gf&&up(!0),rp(!0)):Tg()||ug(!0);break;case qi:Tg()?Gg(Iv):Ap()?Sp(2):Zm()?Sv?1===Sv?(br.Play_ChatForceDisable&&(Mm()?xl(sl):Pl()),Ap()||mp(2)):Op(2):(tp(),mg(),bv&&bg()):XC()?(lg(!0),Lu(Hf,TC,zp)):ug(!0);break;case zi:qp(!0);break;case Ni:case Ri:case Di:br.Play_ChatForceDisable&&(Mm()?xl(sl):Pl()),Ap()||mp(2)}else switch(e.keyCode){case zi:zm()?(qm(),dg()):Fm()}}var Rg={};function Ng(){console.log("InitScreens place holder")}function Dg(){Fy(),zy(),qy(),Yy(),jy(),Wy(),Zy(),Ky(),Vy(),Jy()}function Vg(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Jg(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function Hg(){Br=-1,br.Main_Go=Rg.screen,Rg.label_init(),document.body.addEventListener("keydown",fy,!1),bc(Rg.ids[10]),Rg.status?(_u(Rg.posY),ny(!0),nu()):qg()}function Fg(){Br=0,Rg.label_exit(),document.body.removeEventListener("keydown",fy),yc(Rg.ids[10]),Dc()}function qg(){Ic(),uu(Rg.table),Dc(),Rg.cursor=null,Rg.status=!1,Rg.row=document.createElement("div"),Rg.MaxOffset=0,Rg.TopRowCreated=!1,Rg.offset=0,Rg.idObject={},Rg.Cells=[],Rg.FirstLoad=!0,Rg.itemsCount=0,Rg.posX=0,Rg.posY=0,Rg.row_id=0,Rg.currY=0,Rg.coloumn_id=0,Rg.data=null,Rg.data_cursor=0,Rg.dataEnded=!1,Oc(),zg(),Xg()}function zg(){Rg.loadingData=!0,Rg.loadingDataTry=0,Rg.loadingDataTimeout=3500}function Xg(){Rg.set_url(),rc&&!Rg.itemsCount?u_(Rg.url,Rg.loadingDataTimeout,2,null,jg,Yg):__(Rg.url,Rg.loadingDataTimeout,2,null,jg,Yg,!1)}function Yg(){Rg.loadingDataTry++,Rg.loadingDataTry<Rg.loadingDataTryMax?(Rg.loadingDataTimeout+=500,Xg()):(Rg.loadingData=!1,Rg.itemsCount?Rg.dataEnded=!0:(Rg.FirstLoad=!1,Sc(),Nc(P),Rg.key_exit()))}function jg(e){Rg.concatenate(e)}function Wg(){var e=Rg.data.length-Rg.data_cursor;if(e>Rg.ItemsLimit?e=Rg.ItemsLimit:Rg.loadingData||(Rg.dataEnded=!0),Rg.HasSwitches&&!Rg.TopRowCreated&&Rg.addSwitches(),e){Rg.row_id||(Rg.row=document.createElement("div"),Rg.row.id=this.ids[12]+Rg.row_id);var t=Math.ceil(e/Rg.ColoumnsCount),n=Rg.row_id+t;for(Rg.row_id;Rg.row_id<n;){for(Rg.coloumn_id===Rg.ColoumnsCount&&(Rg.row=document.createElement("div"),Rg.row.id=this.ids[12]+Rg.row_id,Rg.coloumn_id=0),Rg.coloumn_id;Rg.coloumn_id<Rg.ColoumnsCount&&Rg.data_cursor<Rg.data.length;Rg.data_cursor++)Rg.data[Rg.data_cursor]&&Rg.addCell(Rg.data[Rg.data_cursor]);if(Rg.coloumn_id===Rg.ColoumnsCount)Rg.Cells[Rg.row_id]=Rg.row,Rg.row_id++;else if(Rg.data_cursor>=Rg.data.length){""!==Rg.row.innerHTML&&(Rg.Cells[Rg.row_id]=Rg.row);break}}}Rg.emptyContent=!e&&!Rg.status,ty()}function Qg(e,t){var n=e+"_"+t;return(Sr=document.createElement("div")).style.cssText=Rg.ThumbCssText,n}function Zg(e,t,n,i,a,o){var s=Qg(e,t);return Sr.setAttribute("id",n[5]+s),Sr.setAttribute(nc,a),Sr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Rg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Sr}function Kg(e,t,n,i,a,o,s,d,l,r,c,u,_,f,h,m){var p=Qg(e,t);return Sr.setAttribute("id",n[8]+p),Sr.setAttribute(nc,JSON.stringify([c,r,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),Sr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Rg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+pi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+xm(r)+"</div></div></div></div>",Sr}function $g(e,t,n,i,a){var o=Qg(e,t);return Sr.setAttribute("id",i[8]+o),Sr.setAttribute(nc,JSON.stringify(n)),Sr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+cc+'" onerror="this.onerror=null;this.src=\''+Rg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+pI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",Sr}function ey(e,t,n,i,a){var o=Qg(e,t);return Sr.setAttribute("id",i[8]+o),Sr.setAttribute(nc,JSON.stringify(n)),Sr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+Rg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",Sr}function ty(){if(Rg.status)Gc(Rg.posX,Rg.posY,Rg.ColoumnsCount,Rg.itemsCount);else{if(br.Main_Go===er&&vy(),Rg.emptyContent)Nc(Rg.empty_str());else{Rg.status=!0;for(var e=document.getElementById(Rg.table),t=0;t<(Rg.Cells.length<Rg.visiblerows?Rg.Cells.length:Rg.visiblerows);t++)e.appendChild(Rg.Cells[t])}Or&&Rg.status&&Xw.restor_playback.defaultValue?br.Play_WasPlaying?(au(br.Main_Go),br.Main_Go=yr,br.vodOffset||(br.vodOffset=1),Ss=br.vodOffset+1,Vm(qn),1===br.Play_WasPlaying?Bu():Uu(),eu(!0),window.setTimeout(function(){Ah||Jm()},2e3)):1!==yr?(au(br.Main_Go),br.Main_Go=yr,Nu(Rg.posY+"_"+Rg.posX,Rg.ids),eu()):(br.Never_run&&qc(),br.Never_run=!1,ny(),nu()):(ny(),nu()),Or=!1,Rg.FirstLoad=!1,Sc()}}function ny(e){if(Rg.emptyContent){if(!Rg.HasSwitches)return void Rg.key_exit();Rg.posY=-1}if(Rg.posY<0)return ly(),void(Rg.emptyContent||Gc(Rg.posX,Rg.posY+1,Rg.ColoumnsCount,Rg.itemsCount));ay(e),2<Rg.posY&&Rg.data_cursor+xy>Rg.data.length&&!Rg.dataEnded&&!Rg.loadingData?(zg(),Xg()):Rg.posY+Rg.ItemsReloadLimit>Rg.itemsCount/Rg.ColoumnsCount&&Rg.data_cursor<Rg.data.length&&Ju(function(){Rg.loadDataSuccess()}),kr&&Nu(Rg.posY+"_"+Rg.posX,Rg.ids)}function iy(e){return null!==document.getElementById(e)}function ay(e){if(Rg.currY<Rg.posY)1<Rg.posY&&Rg.Cells.length-1>=Rg.posY+1&&(document.getElementById(Rg.table).appendChild(Rg.Cells[Rg.posY+1]),iy(Rg.ids[12]+(Rg.posY-2))&&document.getElementById(Rg.ids[12]+(Rg.posY-2)).remove());else if(Rg.currY>Rg.posY&&Rg.posY){var t=document.getElementById(Rg.table);t.insertBefore(Rg.Cells[Rg.posY-1],t.childNodes[Rg.HasSwitches?1:0]),iy(Rg.ids[12]+(Rg.posY+2))&&document.getElementById(Rg.ids[12]+(Rg.posY+2)).remove()}Rg.currY=Rg.posY,Ac(Rg.ids[0]+Rg.posY+"_"+Rg.posX,tc),Gc(Rg.posX,Rg.posY,Rg.ColoumnsCount,Rg.itemsCount),Rg.addFocus(Rg.posY,Rg.posX,Rg.ids,e)}function oy(e,t,n,i){e<2&&fu(e)||i?e?Qc(e+1,0,n[0])&&Ru(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):Ru(n[10],.07*screen.height):Cu()}function sy(e,t,n,i){fu(e)||i?Rg.posY<Rg.Cells.length-1&&Ru(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Rg.Cells.length-1===e&&Qc(e-1,t,n[0])?Ru(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Cu()}function dy(e,t){Nu(Rg.posY+"_"+Rg.posX,Rg.ids),Rg.HasAnimateThumb&&bc(Rg.ids[1]+Rg.posY+"_"+Rg.posX),Rg.posY+=e,Rg.posX=t,ny()}function ly(){Rg.posX>Rg.SwitchesIcons.length-1?Rg.posX=0:Rg.posX<0&&(Rg.posX=Rg.SwitchesIcons.length-1),Ac(Rg.ids[0]+"y_"+Rg.posX,tc)}function ry(){Rg.posX>Rg.SwitchesIcons.length-1?Rg.posX=0:Rg.posX<0&&(Rg.posX=Rg.SwitchesIcons.length-1),kc(Rg.ids[0]+"y_"+Rg.posX,tc)}function cy(e){Xc()?zc():Hc()?Jc():(e===Rg.screen?br.Main_Go=Zl:br.Main_Go=e,Fg())}function uy(e){if(!Rg.HasSwitches||Rg.posY||-1!==e||Rg.emptyContent){if(Rg.HasSwitches&&-1===Rg.posY&&Qc(0,Rg.posX,Rg.ids[0]))Rg.posY=0,ny(),ry();else for(var t=0;t<Rg.ColoumnsCount;t++)if(Qc(Rg.posY+e,Rg.posX-t,Rg.ids[0]))return void dy(e,Rg.posX-t)}else Nu(Rg.posY+"_"+Rg.posX,Rg.ids),Rg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),bc(Rg.ids[1]+Rg.posY+"_"+Rg.posX)),Rg.posY=-1,Rg.posX>Rg.SwitchesIcons.length-1&&(Rg.posX=1),ly()}function _y(e,t){Rg.HasSwitches&&-1===Rg.posY?(Rg.posY=-1,ry(),Rg.posX++,ly()):Qc(Rg.posY,Rg.posX+e,Rg.ids[0])?dy(0,Rg.posX+e):Qc(Rg.posY+e,t,Rg.ids[0])&&dy(e,t)}function fy(e){if(!Rg.FirstLoad&&!Iu())switch(Mu(),e.keyCode){case zi:Rg.loadingData||Rg.key_exit();break;case Vi:if(Rg.loadingData)break;Rg.posX?_y(-1,Rg.ColoumnsCount-1):(br.Main_Go===er&&(br.Main_OldgameSelected=br.Main_gameSelected),Rg.key_exit(!0),document.body.removeEventListener("keydown",fy),$A(fy,!0));break;case Hi:Rg.dataEnded||Rg.posX<Rg.ColoumnsCount-1||Rg.Cells.length-1>=Rg.posY+2?_y(1,0):ny(!0);break;case Ji:Rg.HasSwitches?-1===Rg.posY?Rg.key_exit():uy(-1):Rg.posY?uy(-1):Rg.key_exit();break;case Fi:Rg.dataEnded||Rg.Cells.length-1>=Rg.posY+2?uy(1):ny(!0);break;case Ni:case Ri:case Di:case qi:Rg.key_play()}}function hy(){Rg.posX?1===Rg.posX?(br.Main_Go=pr,br.Main_OldgameSelected=br.Main_gameSelected,my(),tu()):py():(br.Main_Go=mr,br.Main_OldgameSelected=br.Main_gameSelected,my(),tu())}function my(){Rg.status&&-1===Rg.posY&&(ry(),Rg.posY=0,Rg.posX=0,Ac(Rg.ids[0]+"0_"+Rg.posX,tc)),document.body.removeEventListener("keydown",fy),yc(Rg.ids[10])}function py(){mo()&&Ka[br.Users_Position].access_token?Ry?Fa():Va():(Nc(Bt),window.setTimeout(function(){Rg.emptyContent&&br.Main_Go===er?Nc(T+Z):Dc()},2e3))}function vy(){mo()?Xa():(Ry=!1,gy())}function gy(){Cc(My.ids[3]+"y_2",Ry?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Pi+Pi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Pi+Pi+(mo()?It:Lt))}Rg.FirstLoad=!1;var yy,by,wy,Ay,ky,Cy,Ey,My,Iy,Sy,xy=100,Py="",Ty="",Ly="",By="",Oy="",Gy="",Uy=1,Ry=!1,Ny={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Wg,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){Xc()?zc():Hc()?Jc():(Qc(this.posY,this.posX,this.ids[0])?Nu(this.posY+"_"+this.posX,this.ids):this.posY<0&&(ry(),this.posY=0),e||Zu(fy)),ZA()}},Dy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Rr,ItemsReloadLimit:Dr,ColoumnsCount:Nr,addFocus:function(e,t,n,i){this.AnimateThumb(this),oy(e,t,n,i)},img_404:Gi,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+p,Pi+Pi+c],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),qg(),i_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),qg()):Gu(this.posY+"_"+this.posX,this.ids,fy)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),Uy){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);nI.onload=function(){this.onload=null,yc(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},nI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function Vy(){(Iy=Jg(Iy=Jg({ids:Vg("Vod"),table:"stream_table_vod",screen:fr,highlightSTR:"Vod_highlight",highlight:s_("Vod_highlight",!1),periodPos:a_("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+xy,set_url:function(){this.offset&&this.offset+xy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Pr?"&language="+Pr:"")},label_init:function(){br.Main_CenterLablesVectorPos=4,Ac("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){Ec("top_bar_vod",Kt),kc("top_bar_vod","icon_center_focus")},SetPeriod:function(){Cc("top_bar_vod",Kt+du((this.highlight?G:O)+Lr[this.periodPos-1])),i_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(ey(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",$r),e.channel.display_name,N+lu(e.created_at),pI.parse(e.title)+pi+Qt+v+e.game,Yc(e.views)+V,jc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+xm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Ny),Dy)).set_ThumbSize()}function Jy(){(Sy=Jg(Sy=Jg({ids:Vg("AGameVod"),table:"stream_table_a_game_vod",screen:mr,highlightSTR:"AGameVod_highlight",highlight:s_("AGameVod_highlight",!1),periodPos:a_("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+xy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(br.Main_gameSelected)+"&limit="+xy+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Pr?"&language="+Pr:"")},OldgameSelected:"",label_init:function(){null===br.Main_OldgameSelected&&(br.Main_OldgameSelected=br.Main_gameSelected),this.OldgameSelected!==br.Main_gameSelected&&(this.status=!1),br.Main_CenterLablesVectorPos=3,Ac("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=br.Main_gameSelected,Ec("top_bar_game",b),kc("top_bar_game","icon_center_focus")},SetPeriod:function(){Cc("top_bar_game",b+du((this.highlight?G:O)+Lr[this.periodPos-1])),i_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(ey(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",$r),e.channel.display_name,N+lu(e.created_at),pI.parse(e.title)+pi+Qt+v+e.game,Yc(e.views)+V,jc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+xm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Ny),Dy)).set_ThumbSize()}var Hy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Rr,ItemsReloadLimit:Dr,ColoumnsCount:Nr,addFocus:oy,img_404:Gi,empty_str:function(){return T+W}};function Fy(){(Cy=Jg(Cy=Jg({ids:Vg("Live"),table:"stream_table_live",screen:Zl,base_url:"https://api.twitch.tv/kraken/streams?limit="+xy,set_url:function(){this.offset&&this.offset+xy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Pr?"&broadcaster_language="+Pr:"")},label_init:function(){br.Main_CenterLablesVectorPos=0,Ac("top_bar_live","icon_center_focus")},label_exit:function(){kc("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild($g(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Tm(e.created_at)+" "+m+Yc(e.viewers)+J,jc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Lu(this.posY+"_"+this.posX,this.ids,fy)}},Ny),Hy)).set_ThumbSize()}function qy(){(My=Jg(My=Jg({ids:Vg("AGame"),table:"stream_table_a_game",screen:er,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+xy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(br.Main_gameSelected)+"&limit="+xy+"&offset="+this.offset+(""!==Pr?"&broadcaster_language="+Pr:"")},label_init:function(){null===br.Main_OldgameSelected&&(br.Main_OldgameSelected=br.Main_gameSelected),br.Main_CenterLablesVectorPos=3,Ac("top_bar_game","icon_center_focus"),gc("label_side_panel","icon-arrow-circle-left",I),kc("top_bar_user","icon_center_focus"),gc("label_refresh","icon-refresh",t+Yt),Ec("top_bar_user",_),br.Main_OldgameSelected!==br.Main_gameSelected&&(this.status=!1),br.Search_isSearching&&(su(),Cc("top_bar_user",n+du(h+" '"+br.Search_data+"'"))),Cc("top_bar_game",b+du(f+": "+br.Main_gameSelected))},label_exit:function(){br.Main_OldgameSelected=br.Main_gameSelected,gc("label_side_panel","icon-ellipsis",Rn),Cc("top_bar_game",h),kc("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+Kt,Pi+Pi+U,Pi+Pi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild($g(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Tm(e.created_at)+" "+m+Yc(e.viewers)+J,jc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Lu(this.posY+"_"+this.posX,this.ids,fy):hy()}},Ny),Hy)).set_ThumbSize()}function zy(){(Ey=Jg(Ey=Jg({ids:Vg("Featured"),table:"stream_table_featured",screen:vr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+xy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(mo()&&Ka[br.Users_Position].access_token?"&oauth_token="+Ka[br.Users_Position].access_token:"")},label_init:function(){br.Main_CenterLablesVectorPos=2,Ac("top_bar_featured","icon_center_focus")},label_exit:function(){kc("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild($g(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Tm(e.created_at)+" "+m+Yc(e.viewers)+J,jc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Lu(this.posY+"_"+this.posX,this.ids,fy)}},Ny),Hy)).set_ThumbSize()}var Xy={ThumbSize:32.65,ItemsLimit:Rr,TopRowCreated:!1,ItemsReloadLimit:Dr,ColoumnsCount:Nr,addFocus:oy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Gi,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+c,Pi+Pi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(z_=!0,ry(),this.posX=0,this.posY=0,Ou(this.posY+"_"+this.posX,this.ids,fy)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),qg())):Ou(this.posY+"_"+this.posX,this.ids,fy)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Kg(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,lu(e.created_at)],[pI.parse(e.title),v,e.game],Yc(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Yy(){(yy=Jg(yy=Jg({ids:Vg("Clip"),table:"stream_table_clip",screen:hr,periodPos:a_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+xy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Pr?"&language="+Pr:"")},SetPeriod:function(){Cc("top_bar_clip",U+du(Lr[this.periodPos-1])),i_("Clip_periodPos",this.periodPos)},label_init:function(){br.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ac("top_bar_clip","icon_center_focus"),gc("label_refresh","icon-refresh",t+Yt)},label_exit:function(){ou(),kc("top_bar_clip","icon_center_focus"),gc("label_refresh","icon-refresh",t+Yt)}},Ny),Xy)).set_ThumbSize()}function jy(){(by=Jg(by=Jg({ids:Vg("ChannelClip"),table:"stream_table_channel_clip",screen:rr,periodPos:a_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(br.Main_selectedChannel)+"&limit="+xy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Cc("top_bar_game",U+Lr[this.periodPos-1]),i_("ChannelClip_periodPos",this.periodPos)},label_init:function(){br.Main_CenterLablesVectorPos=1,!br.Search_isSearching&&br.Main_selectedChannel_id&&hs(),br.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),su(),this.SetPeriod(),Ec("top_bar_user",br.Main_selectedChannelDisplayname),gc("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=br.Main_selectedChannel},label_exit:ou},Ny),Xy)).set_ThumbSize()}function Wy(){(wy=Jg(wy=Jg({ids:Vg("AGameClip"),table:"stream_table_a_game_clip",screen:pr,periodPos:a_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(br.Main_gameSelected)+"&limit="+xy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Pr?"&language="+Pr:"")},SetPeriod:function(){Cc("top_bar_game",b+du(U+Lr[this.periodPos-1]+": "+br.Main_gameSelected)),i_("AGameClip_periodPos",this.periodPos)},label_init:function(){br.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ac("top_bar_game","icon_center_focus"),gc("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==br.Main_gameSelected&&(this.status=!1),this.gameSelected=br.Main_gameSelected},label_exit:function(){kc("top_bar_game","icon_center_focus"),Cc("top_bar_game",h),gc("label_side_panel","icon-ellipsis",Rn)}},Ny),Xy)).set_ThumbSize()}var Qy={ThumbSize:19.35,visiblerows:3,ItemsLimit:Vr,ItemsReloadLimit:Hr,ColoumnsCount:Jr,addFocus:sy,img_404:Bi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===ir?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===ir?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){br.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(nc),document.body.removeEventListener("keydown",fy),br.Main_BeforeAgame=this.screen,br.Main_Go=er,br.Main_BeforeAgameisSet=!0,Br=0,document.body.removeEventListener("keydown",fy),yc(this.ids[10]),tu(),Nu(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===$l,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Zg(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",ec),n.name,t?Yc(e.channels)+" "+E+m+Yc(e.viewers)+J:"")),this.coloumn_id++)}};function Zy(){(Ay=Jg(Ay=Jg({ids:Vg("Game"),table:"stream_table_games",screen:$l,base_url:"https://api.twitch.tv/kraken/games/top?limit="+xy,set_url:function(){this.offset&&this.offset+xy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){br.Main_CenterLablesVectorPos=3,Ac("top_bar_game","icon_center_focus")},label_exit:function(){kc("top_bar_game","icon_center_focus")}},Ny),Qy)).set_ThumbSize()}function Ky(){(ky=Jg(ky=Jg({ids:Vg("UserGames"),table:"stream_table_user_games",screen:ir,isLive:s_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+xy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ka[br.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+xy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Cc("top_bar_user",_+du(Ka[br.Users_Position].name+" "+(this.isLive?Z:zt))),qg(),i_("user_Games_live",this.isLive?"true":"false"),QE&&aM()},label_init:function(){br.Main_CenterLablesVectorPos=1,gc("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),gc("label_side_panel","icon-arrow-circle-left",I),Ac("top_bar_user","icon_center_focus"),this.OldUserName!==Ka[br.Users_Position].name&&(this.status=!1),this.OldUserName=Ka[br.Users_Position].name,Cc("top_bar_user",_+du(Ka[br.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){br.Users_Position=0,kc("top_bar_user","icon_center_focus"),gc("label_refresh","icon-refresh",t+Yt),Ec("top_bar_user",_),gc("label_side_panel","icon-ellipsis",Rn)}},Ny),Qy)).set_ThumbSize()}var $y=0,eb=0,tb=!1,nb=0,ib={},ab=[],ob=!1,sb=0,db=5,lb=3500,rb=0,cb=0,ub=!1,_b=!1,fb="",hb=!1,mb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function pb(){br.Main_CenterLablesVectorPos=1,br.Main_Go=_r,br.isLastSChannels=!0,br.Search_isSearching=!0,fb!==br.Search_data&&(_b=!1),su(),Cc("top_bar_user",n+du(E+" '"+br.Search_data+"'")),document.body.addEventListener("keydown",Pb,!1),_b?(_u($y),bc(mb[6]),Sb(),nu()):gb()}function vb(){ou(),document.body.removeEventListener("keydown",Pb),yc(mb[6])}function gb(){uu("stream_table_search_channel"),yc(mb[6]),Ic(),Dc(),fb=br.Search_data,_b=!1,ib={},Wu=!(nb=cb=rb=0),$y=eb=0,tb=hb=!(ab=[]),Oc(),yb(),bb()}function yb(){ob=!0,sb=0,lb=3500}function bb(){var e=nb+rb;e&&cb-1<e&&(e=cb-Fr,tb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(br.Search_data)+"&limit="+Fr+"&offset="+e;rc&&!nb?u_(t,lb,2,null,Ab,wb):__(t,lb,2,null,Ab,wb,!1)}function wb(){++sb<db?(lb+=500,bb()):(ob=!1,nb?(tb=!0,Cb()):(Wu=!1,Sc(),Nc(P)))}function Ab(e){var t=JSON.parse(e),n=t.channels.length;cb=parseInt(t._total),n<Fr&&(tb=!0);var i=nb;ub=!(nb+=n);var a=n/qr;0<n%qr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/qr+_,d=document.createElement("tr"),o=0;o<qr&&c<n;o++,c++)r=(l=t.channels[c])._id,ib[r]?o--:(ib[r]=1,d.appendChild(kb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<qr;o++)tb&&!hb&&(hb=!0,nb=s*qr+o),d.appendChild(mu(mb[5]+s+"_"+o)),ab.push(mb[5]+s+"_"+o);u.appendChild(d)}Cb()}function kb(e,t,n){return e<4&&hu(n[2]),pu(t,mb,n)}function Cb(){if(_b){if(0<ab.length&&!tb)return yb(),void Eb();Sb(!0),ab=[]}else ub?Nc(d):(_b=!0,Sb(),nu()),bc(mb[6]),Wu=!1,Sc();ob=!1}function Eb(){Rc(ab.length);var e=nb+rb;e&&cb-1<e&&(e=cb-Xr,tb=!0),r_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(br.Search_data)+"&limit="+Xr+"&offset="+e,lb,2,null,Ib,Mb)}function Mb(){++sb<db?(lb+=500,Eb()):(tb=!0,nb-=ab.length,ab=[],Cb())}function Ib(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(cb=parseInt(i._total),a<Xr&&(tb=!0);o<ab.length&&s<a;o++,s++)n=(t=i.channels[s])._id,ib[n]?o--:(ib[n]=1,vu(ab[o],[t.name,n,t.logo,t.display_name],mb),d.push(o));for(o=d.length-1;-1<o;o--)ab.splice(d[o],1);rb+=s,tb&&(nb-=ab.length,ab=[]),Cb()}function Sb(e){Su($y,eb,mb,qr,nb,e),nb/qr<$y+zr&&!tb&&!ob&&(yb(),bb()),kr&&xb()}function xb(){nb&&Nu($y+"_"+eb,mb)}function Pb(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(xb(),Zu(Pb)),ZA();break;case Vi:if(eb){if(Qc($y,eb-1,mb[0]))xb(),eb--,Sb();else for(t=qr-1;-1<t;t--)if(Qc($y-1,t,mb[0])){xb(),$y--,eb=t,Sb();break}}else xb(),$A(Pb,!0);break;case Hi:Qc($y,eb+1,mb[0])?(xb(),eb++,Sb()):Qc($y+1,0,mb[0])&&(xb(),$y++,eb=0,Sb());break;case Ji:if($y){for(t=0;t<qr;t++)if(Qc($y-1,eb-t,mb[0])){xb(),$y--,eb-=t,Sb();break}}else xb(),Zu(Pb);break;case Fi:for(t=0;t<qr;t++)if(Qc($y+1,eb-t,mb[0])){xb(),$y++,eb-=t,Sb();break}break;case Ni:case Ri:case Di:case qi:br.Main_selectedChannel=document.getElementById(mb[4]+$y+"_"+eb).getAttribute(nc),br.Main_selectedChannel_id=document.getElementById(mb[4]+$y+"_"+eb).getAttribute("data-id"),br.Main_selectedChannelDisplayname=document.getElementById(mb[3]+$y+"_"+eb).textContent,document.body.removeEventListener("keydown",Pb),br.Main_BeforeChannel=_r,br.Main_Go=dr,br.Main_BeforeChannelisSet=!0,Lo=ea=!1,yc(mb[6]),eu()}}var Tb=!1,Lb=0,Bb=0,Ob=0,Gb=0,Ub=5,Rb=3500,Nb=0,Db=0,Vb=!1,Jb=!1,Hb="",Fb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function qb(){br.Main_CenterLablesVectorPos=1,br.Main_Go=or,br.Search_isSearching=!0,su(),Hb!==br.Search_data&&(Tb=!1),Cc("top_bar_user",n+du(h+" '"+br.Search_data+"'")),document.body.addEventListener("keydown",tw,!1),Tb?(_u(Lb),bc(Fb[7]),$b(),nu()):Xb()}function zb(){br.Search_isSearching||ou(),document.body.removeEventListener("keydown",tw),br.Games_return=!1,yc(Fb[7])}function Xb(){uu("stream_table_search_game"),yc(Fb[7]),Ic(),Dc(),Hb=br.Search_data,Jb=Tb=!1,Lb=Bb=Ob=Db=Nb=0,Oc(),Yb(),jb()}function Yb(){Wu=!0,Gb=0,Rb=3500}function jb(){r_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(br.Search_data),Rb,2,null,Qb,Wb)}function Wb(){++Gb<Ub?(Rb+=500,jb()):(Wu=!1,Ob?Kb():(Sc(),Nc(P)))}function Qb(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Ob;Vb=!(Ob+=n);var a=n/Jr;0<n%Jr&&a++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/Jr+u,d=document.createElement("tr"),o=0;o<Jr&&r<n;o++,r++)l=t.games[r],d.appendChild(Zb(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",ec),""]));for(;o<Jr;o++)Jb||(Jb=!0,Ob=s*Jr+o),d.appendChild(mu(Fb[6]+s+"_"+o));c.appendChild(d)}Kb()}function Zb(e,t,n){return e<2&&hu(n[1]),Au(t,Fb,n)}function Kb(){Tb||(Vb?Nc(d):(Tb=!0,$b(),nu()),Sc()),bc(Fb[7]),Wu=!1,Gc(Bb,Lb,Jr,Ob)}function $b(){Pu(Lb,Bb,Fb,Jr,Ob),kr&&ew()}function ew(){Ob&&Nu(Lb+"_"+Bb,Fb)}function tw(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(ew(),Zu(tw)),ZA();break;case Vi:if(Bb){if(Qc(Lb,Bb-1,Fb[0]))ew(),Bb--,$b();else for(t=Jr-1;-1<t;t--)if(Qc(Lb-1,t,Fb[0])){ew(),Lb--,Bb=t,$b();break}}else ew(),$A(tw,!0);break;case Hi:Qc(Lb,Bb+1,Fb[0])?(ew(),Bb++,$b()):Qc(Lb+1,0,Fb[0])&&(ew(),Lb++,Bb=0,$b());break;case Ji:if(Lb){for(t=0;t<Jr;t++)if(Qc(Lb-1,Bb-t,Fb[0])){ew(),Lb--,Bb-=t,$b();break}}else ew(),Zu(tw);break;case Fi:for(t=0;t<Jr;t++)if(Qc(Lb+1,Bb-t,Fb[0])){ew(),Lb++,Bb-=t,$b();break}break;case Ni:case Ri:case Di:case qi:br.gameSelectedOld=br.Main_gameSelected,zb(),br.Main_gameSelected=document.getElementById(Fb[5]+Lb+"_"+Bb).getAttribute(nc),document.body.removeEventListener("keydown",tw),br.Main_Go=er,br.Games_return=!0,eu()}}var nw=0,iw=0,aw=!1;function ow(){Dc(),yc("label_refresh"),gc("label_side_panel","icon-arrow-circle-left",I),Ec("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Jl.placeholder=w,Ac("top_bar_user","icon_center_focus"),bc("search_scroll"),iw=nw=0,lw(),cw()}function sw(){uw(!1),document.body.removeEventListener("keydown",rw),lw(),br.Main_Go=br.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Ec("top_bar_user",_),kc("top_bar_user","icon_center_focus"),gc("label_side_panel","icon-ellipsis",Rn),bc("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Jl.value="",yc("search_scroll")}function dw(){sw(),Ju(function(){iw?1===iw?qb():2===iw&&Tw():pb()})}function lw(){kc("chanel_button","button_search_focused"),kc("game_button","button_search_focused"),kc("live_button","button_search_focused"),nw&&(iw?1===iw?Ac("game_button","button_search_focused"):2===iw&&Ac("live_button","button_search_focused"):Ac("chanel_button","button_search_focused"))}function rw(e){if(!aw)switch(e.keyCode){case zi:Xc()?zc():Hc()?Jc():(sw(),eu());break;case Vi:1===nw&&(--iw<0&&(iw=2),lw());break;case Hi:1===nw&&(2<++iw&&(iw=0),lw());break;case Ji:1===nw&&(nw=0,lw(),cw());break;case Fi:nw?1===nw&&(nw=0,lw(),cw()):(uw(!1),nw=1,lw());break;case Ni:case Ri:case Di:case qi:nw?""!==Jl.value&&null!==Jl.value?(br.Search_data=Jl.value,Jl.value="",dw()):(Nc(s),window.setTimeout(function(){Dc()},1e3)):cw()}}function cw(){document.body.removeEventListener("keydown",rw),document.body.addEventListener("keydown",fw,!1),Jl.placeholder=w,Jl.focus(),aw=!0}function uw(e){Jl.blur(),_w(),document.body.removeEventListener("keydown",fw),Jl.placeholder=C+w,e&&document.body.addEventListener("keydown",rw,!1),aw=!1}function _w(){if(null!==Jl){var e=Jl.cloneNode(!0);Jl.parentNode.replaceChild(e,Jl),Jl=document.getElementById("search_input")}}function fw(e){switch(e.keyCode){case zi:Hc()?Jc():Xc()?zc():(sw(),eu());break;case Wi:Jl.value="";break;case Yi:case Fi:uw(!0),nw=1,lw();break;case Xi:Jl.value=Jl.value.slice(0,-1);break;case ji:Jl.value+=" "}}var hw=0,mw=0,pw=!1,vw=0,gw={},yw=[],bw=!1,ww=0,Aw=5,kw=3500,Cw=0,Ew=0,Mw=!1,Iw=!1,Sw=!1,xw="",Pw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Tw(){br.Main_CenterLablesVectorPos=1,br.Main_Go=sr,br.Search_isSearching=!0,su(),xw!==br.Search_data&&(Iw=!1),Cc("top_bar_user",n+du(f+" '"+br.Search_data+"'")),document.body.addEventListener("keydown",qw,!1),Iw?(_u(hw),bc(Pw[10]),Hw(),nu()):Bw()}function Lw(){ou(),document.body.removeEventListener("keydown",qw),yc(Pw[10])}function Bw(){uu("stream_table_search_live"),yc(Pw[10]),Ic(),Dc(),xw=br.Search_data,Iw=!1,Wu=!(Sw=!(yw=[])),hw=mw=vw=Ew=Cw=0,pw=!(gw={}),Oc(),Ow(),Gw()}function Ow(){bw=!0,ww=0,kw=3500}function Gw(){var e=vw+Cw;e&&Ew-1<e&&(e=Ew-Rr,pw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(br.Search_data)+"&limit="+Rr+"&offset="+e;rc&&!vw?u_(t,kw,2,null,Rw,Uw):__(t,kw,2,null,Rw,Uw,!1)}function Uw(){++ww<Aw?(kw+=500,Gw()):(bw=!1,vw?(pw=!0,Nw()):(Wu=!1,Sc(),Nc(P)))}function Rw(e){var t=JSON.parse(e),n=t.streams.length;Ew=parseInt(t._total),n<Rr&&(pw=!0);var i=vw;Mw=!(vw+=n);var a=n/Nr;0<n%Nr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Nr+_,d=document.createElement("tr"),o=0;o<Nr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,gw[r]?o--:(gw[r]=1,d.appendChild(yu(s,s+"_"+o,[l.channel.name,r],Pw,[l.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Tm(l.created_at)+" "+m+Yc(l.viewers)+J,jc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Nr;o++)pw&&!Sw&&(Sw=!0,vw=s*Nr+o),d.appendChild(mu(Pw[9]+s+"_"+o)),yw.push(Pw[9]+s+"_"+o);u.appendChild(d)}Nw()}function Nw(){if(Iw){if(0<yw.length&&!pw)return Ow(),void Dw();Hw(!0),yw=[]}else Mw?Nc(d):(Iw=!0,Hw(),nu()),bc(Pw[10]),Wu=!1,Sc();bw=!1}function Dw(){Rc(yw.length);var e=vw+Cw;e&&Ew-1<e&&(e=Ew-Xr,pw=!0),r_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(br.Search_data)+"&limit="+Xr+"&offset="+e,kw,2,null,Jw,Vw)}function Vw(){++ww<Aw?(kw+=500,Dw()):(pw=!0,vw-=yw.length,yw=[],Nw())}function Jw(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Ew=parseInt(i._total),a<Xr&&(pw=!0);o<yw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,gw[n]?o--:(gw[n]=1,bu(yw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Tm(t.created_at)+" "+m+Yc(t.viewers)+J,jc(t.video_height,t.average_fps,t.channel.broadcaster_language)],Pw),d.push(o));for(o=d.length-1;-1<o;o--)yw.splice(d[o],1);Cw+=s,pw&&(vw-=yw.length,yw=[]),Nw()}function Hw(e){xu(hw,mw,Pw,Nr,vw,e),vw/Nr<hw+Dr&&!pw&&!bw&&(Ow(),Gw()),kr&&Fw()}function Fw(){vw&&Nu(hw+"_"+mw,Pw)}function qw(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(Fw(),Zu(qw)),ZA();break;case Vi:if(mw){if(Qc(hw,mw-1,Pw[0]))Fw(),mw--,Hw();else for(t=Nr-1;-1<t;t--)if(Qc(hw-1,t,Pw[0])){Fw(),hw--,mw=t,Hw();break}}else Fw(),$A(qw,!0);break;case Hi:Qc(hw,mw+1,Pw[0])?(Fw(),mw++,Hw()):Qc(hw+1,0,Pw[0])&&(Fw(),hw++,mw=0,Hw());break;case Ji:if(hw){for(t=0;t<Nr;t++)if(Qc(hw-1,mw-t,Pw[0])){Fw(),hw--,mw-=t,Hw();break}}else Fw(),Zu(qw);break;case Fi:for(t=0;t<Nr;t++)if(Qc(hw+1,mw-t,Pw[0])){Fw(),hw++,mw-=t,Hw();break}break;case Ni:case Ri:case Di:case qi:Lu(hw+"_"+mw,Pw,qw)}}var zw=0,Xw={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:Yw(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Yw(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+xm(t)),t-=900;for(e.push(xm(0)),t=900,n=0;n<48;n++)e.push(xm(t)),t+=900;return e}var jw=[],Ww=0;function Qw(){$c(),yc("label_side_panel"),gc("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",pA,!1),Ec("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ac("top_bar_user","icon_center_focus"),bc("settings_scroll"),lA(zw=0),nA("content_lang",Yn,gA)}function Zw(){document.body.removeEventListener("keydown",pA),bc("label_side_panel"),rA(),Ec("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",kc("top_bar_user","icon_center_focus"),gc("label_refresh","icon-refresh",t+Yt),yc("settings_scroll")}function Kw(){var e,t="";t+=$w("general",gn),e="content_lang",jw.push(e),Xw[e].values=[jn],t+=tA(e,Yn,""),e="clock_offset",jw.push(e),t+=eA(e,zn),e="restor_playback",jw.push(e),Xw[e].values=[T,Ht],t+=tA(e,Tn,Ln),e="videos_animation",jw.push(e),Xw[e].values=[T,Ht],t+=eA(e,Un),e="clip_auto_play_next",jw.push(e),Xw[e].values=[T,Ht],t+=eA(e,ri),t+=$w("play",_n),e="chat_font_size",jw.push(e),t+=tA(e,Bn,On),e="chat_brightness",jw.push(e),t+=eA(e,ii),e="force_disable_chat",jw.push(e),Xw[e].values=[Ht,T],t+=tA(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",jw.push(e),t+=eA(e,mn),e="buffer_vod",jw.push(e),t+=eA(e,pn),e="buffer_clip",jw.push(e),Cc("settings_main",t+=eA(e,vn)),Ww=jw.length,MA()}function $w(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function eA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+oA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function tA(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+oA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function nA(e,t,n){Cc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function iA(){var e="";for(e in Ec("setting_title_general",gn),Ec((e="clock_offset")+"_name",zn),Ec((e="content_lang")+"_name",Yn),Ec(e,oA(e)),Xw[e].values=[jn],Ec("setting_title_play",_n),Ec("setting_title_buffers",fn),Ec("setting_title_buffers_summary",hn),Ec((e="buffer_live")+"_name",mn),Ec((e="buffer_vod")+"_name",pn),Ec((e="buffer_clip")+"_name",vn),nA(e="restor_playback",Tn,Ln),Xw[e].values=[Ht,T],nA(e="chat_font_size",Bn,On),nA(e="force_disable_chat",ti,ni),Xw[e].values=[Ht,T],Ec((e="videos_animation")+"_name",Un),Xw[e].values=[Ht,T],Ec((e="clip_auto_play_next")+"_name",ri),Xw[e].values=[T,Ht],Ec((e="chat_brightness")+"_name",ii),Xw)Xw.hasOwnProperty(e)&&Ec(e,oA(e));EA()}function aA(){for(var e in Xw)Xw[e].defaultValue=a_(e,Xw[e].defaultValue),Xw[e].defaultValue-=1,Xw[e].defaultValue>dA(e)&&(Xw[e].defaultValue=0);fA(0),hA(),Of=(.05*sA("chat_brightness")).toFixed(2),Uy=sA("videos_animation"),X_=sA("clip_auto_play_next"),br.Play_ChatForceDisable=sA("force_disable_chat")}function oA(e){return Xw[e].values[sA(e)]}function sA(e){return Xw[e].defaultValue}function dA(e){return Xw[e].values.length-1}function lA(e){var t=jw[zw];Ac(t,"settings_value_focus"),Ac(t+"_div","settings_div_focus"),uA(e),mA()}function rA(){var e=jw[zw];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",kc(e,"settings_value_focus"),kc(e+"_div","settings_div_focus")}function cA(e){var t=jw[e];i_(t,sA(t)+1),Ec(t,oA(t)),uA(e),_A(e)}function uA(e){var t=jw[e];if(dA(t)){var n=sA(t),i=dA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function _A(e){"videos_animation"===(e=jw[e])?Uy=sA("videos_animation"):"clip_auto_play_next"===e?X_=sA("clip_auto_play_next"):"buffer_live"===e?fA(1):"buffer_vod"===e?fA(2):"buffer_clip"===e?fA(3):"chat_brightness"===e?(Of=(.05*sA("chat_brightness")).toFixed(2),cp(!1)):"force_disable_chat"===e?br.Play_ChatForceDisable=sA("force_disable_chat"):"chat_font_size"===e?Zh():"clock_offset"===e&&(hA(),qu())}function fA(e){try{e?1===e?(Ff=1e3*oA("buffer_live"),rc&&Android.SetBuffer(1,Ff)):2===e?(rv=1e3*oA("buffer_vod"),rc&&Android.SetBuffer(2,rv)):3===e&&(N_=1e3*oA("buffer_clip"),rc&&Android.SetBuffer(3,N_)):(Ff=1e3*oA("buffer_live"),rv=1e3*oA("buffer_vod"),N_=1e3*oA("buffer_clip"),rc&&(Android.SetBuffer(1,Ff),Android.SetBuffer(2,rv),Android.SetBuffer(3,N_)))}catch(e){}}function hA(){var e=sA("clock_offset");lc=e<48?-9e5*(48-e):9e5*(e-48)}function mA(){var e=screen.height;4<zw?(e*=.09,e+=-1*document.getElementById(jw[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function pA(e){var t;switch(e.keyCode){case zi:Hc()?Jc():Xc()?zc():(Zw(),eu());break;case Vi:0<sA(t=jw[zw])&&(Xw[t].defaultValue-=1,cA(zw));break;case Hi:sA(t=jw[zw])<dA(t)&&(Xw[t].defaultValue+=1,cA(zw));break;case Ji:0<zw&&(rA(),lA(--zw));break;case Fi:zw<Ww-1&&(rA(),lA(++zw));break;case qi:zw||AA()}}var vA=0,gA="",yA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Español [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Français [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Português [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenčina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Tiếng Việt [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Türkçe [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"Čeština [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"},"Ελληνικά [EL]":{values:["off","on"],defaultValue:1,set_values:"el"},"Русский [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"},"ภาษาไทย [TH]":{values:["off","on"],defaultValue:1,set_values:"th"},"中文 [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"},"日本語 [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"},"한국어 [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Română [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},bA=[],wA=0;function AA(){$c(),document.body.removeEventListener("keydown",pA),yc("settings_main"),bc("settings_lang"),RA(),Ec("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",NA,!1),LA(vA=0),CA()}function kA(){document.body.removeEventListener("keydown",NA),document.body.addEventListener("keydown",pA,!1),mA(),bc("settings_main"),yc("settings_lang"),Ec("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",BA(),EA(),CA()}function CA(){""===Pr&&(gA=Wn,yA.All.defaultValue=1,GA(0),Ac(bA[0],"strokedextraminired"),RA()),nA("content_lang",Yn,gA)}function EA(){if(Pr="",!PA("All")){for(var e in yA)PA(e)&&(Pr+=","+yA[e].set_values);Pr=Pr.slice(1)}gA=""===Pr?Wn:Pr.toUpperCase()}function MA(){var e="";for(var t in yA)bA.push(t),yA[t].values=[T,Ht],e+=IA(t,t);Cc("settings_lang",e),wA=bA.length}function IA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(PA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+xA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function SA(){for(var e in yA)yA[e].defaultValue=a_(e,yA[e].defaultValue),yA[e].defaultValue-=1;EA()}function xA(e){return yA[e].values[PA(e)]}function PA(e){return yA[e].defaultValue}function TA(e){return yA[e].values.length-1}function LA(e){var t=bA[vA];Ac(t,"settings_value_focus"),Ac(t+"_div","settings_div_focus"),UA(e),OA(t)}function BA(){var e=bA[vA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",kc(e,"settings_value_focus"),kc(e+"_div","settings_div_focus")}function OA(){var e=screen.height;7<vA?(e*=.093,e+=-1*document.getElementById(bA[vA-7]).offsetTop):e*=.077,vA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function GA(e){var t=bA[e];i_(t,PA(t)+1),Ec(t,xA(t)),UA(e)}function UA(e){var t=bA[e],n=PA(t),i=TA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function RA(){for(var e in yA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=PA("All")?"none":"inline-block")}function NA(e){var t;switch(e.keyCode){case zi:kA();break;case Vi:0<PA(t=bA[vA])&&(yA[t].defaultValue-=1,GA(vA),kc(bA[vA],"strokedextraminired"),-1!==t.indexOf("All")&&RA());break;case Hi:PA(t=bA[vA])<TA(t)&&(yA[t].defaultValue+=1,GA(vA),Ac(bA[vA],"strokedextraminired"),-1!==t.indexOf("All")&&RA());break;case Ji:0<vA&&(BA(),LA(--vA));break;case Fi:!PA("All")&&vA<wA-1&&(BA(),LA(++vA))}}var DA,VA,JA=!1,HA=0,FA=0,qA=0;function zA(){Ac("side_panel_"+HA,"side_panel_text_focus")}function XA(){kc("side_panel_"+HA,"side_panel_text_focus")}function YA(){Ac(LC[2]+FA,"side_panel_feed_text_focus"),nk(),-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")&&jA()}function jA(){var e=JSON.parse(document.getElementById(LC[8]+FA).getAttribute(nc));VA.onerror=function(){this.onerror=null,this.src=Gi},VA.src=e[2]+cc,Cc("feed_thum_name",e[3]),Cc("feed_thum_quality",e[7]),Cc("feed_thum_title",pI.parse(e[4])),Cc("feed_thum_game",e[5]),Cc("feed_thum_views",e[6]),bc("side_panel_feed_thumb")}function WA(){kc(LC[2]+FA,"side_panel_feed_text_focus")}function QA(){HA?1===HA?Fc():2===HA?(document.body.addEventListener("keydown",DA,!1),Vc()):3===HA?(document.body.addEventListener("keydown",DA,!1),qc()):4===HA?Tc(DA):5===HA?KA(Zl):6===HA?KA(wo()?cr:Kl):7===HA?KA(vr):8===HA?KA($l):9===HA?KA(fr):10===HA&&KA(hr):br.Main_Go!==ar?(br.Search_isSearching||br.Main_Go!==dr&&br.Main_Go!==rr&&br.Main_Go!==lr||fs(),br.Search_isSearching||(br.Main_BeforeSearch=br.Main_Go),au(br.Main_Go),br.Main_Go=ar,eu()):document.body.addEventListener("keydown",DA,!1),tk()}function ZA(){JA&&(JA=!1,tu())}function KA(e){e===br.Main_Go?document.body.addEventListener("keydown",DA,!1):(br.Main_Before=br.Main_Go,br.Main_Go=e,au(br.Main_Before),eu())}function $A(e,t){kc("side_panel","side_panel_hide"),DA=e,JA=t,document.body.removeEventListener("keydown",DA),ek()}function ek(){var e=mo();e&&(Jf!==Ka[br.Users_Position].name&&(IC=!1),Jf=Ka[br.Users_Position].name),e&&iE(0,TC[0])||(IC=!1),IC||vC||BC(),e?wc("side_panel_feed_holder")?(document.body.addEventListener("keydown",ik,!1),null!==document.getElementById(LC[2]+FA)&&YA()):document.body.addEventListener("keydown",ak,!1):(yc("side_panel_feed_holder"),bc("side_panel_etc"),document.body.addEventListener("keydown",ak,!1))}function tk(){document.body.removeEventListener("keydown",ik),document.body.removeEventListener("keydown",ak),Ac("side_panel","side_panel_hide"),yc("side_panel_feed_thumb"),XA(),HA=0,zA()}function nk(){var e;4<FA?(FA<AC-6?(e=-1*document.getElementById(LC[8]+(FA-4)).offsetTop,e+=document.getElementById(LC[8]+0).offsetTop):11<AC&&(e=-1*document.getElementById(LC[8]+(AC-11)).offsetTop,e+=document.getElementById(LC[8]+0).offsetTop),(qA+5<e||e<qA-5)&&(qA=e),document.getElementById("side_panel_feed_scroll").style.marginTop=qA+"px"):document.getElementById("side_panel_feed_scroll").style.marginTop=0}function ik(e){switch(e.keyCode){case zi:tk(),JA?(JA=!1,tu()):(document.body.addEventListener("keydown",DA,!1),$u());break;case Vi:document.body.removeEventListener("keydown",ik),document.body.addEventListener("keydown",ak,!1),yc("side_panel_feed_thumb"),yc("side_panel_feed_holder"),bc("side_panel_etc");break;case Hi:KC();break;case Ji:FA&&!vC&&(WA(),FA--,YA());break;case Fi:FA<AC-1&&!vC&&(WA(),FA++,YA());break;case qi:tk(),br.Play_isHost=!1,Hh=!0,Ju(function(){Lu(FA,LC,ik)})}}function ak(e){switch(e.keyCode){case zi:case Vi:tk(),JA?(JA=!1,tu()):(document.body.addEventListener("keydown",DA,!1),$u());break;case Hi:mo()?(document.body.removeEventListener("keydown",ak),document.body.addEventListener("keydown",ik,!1),yc("side_panel_etc"),bc("side_panel_feed_holder"),bc("side_panel_feed_thumb")):(Nc(hi),window.setTimeout(Dc,2e3));break;case Ji:HA&&(XA(),HA--,zA());break;case Fi:HA<10&&(XA(),HA++,zA());break;case qi:QA()}}var ok=0,sk=0,dk=!1,lk=0,rk=!1,ck=0,uk=5,_k=3500,fk=[],hk=0,mk=0,pk=!1,vk=!1,gk="",yk=!1,bk={},wk=[],Ak=0,kk=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function Ck(){br.Main_CenterLablesVectorPos=1,br.Main_Go=ur,br.isLastSChannels=!1,gc("label_side_panel","icon-arrow-circle-left",I),Ac("top_bar_user","icon_center_focus"),Cc("top_bar_user",_+du(Ka[br.Users_Position].name+K)),document.body.addEventListener("keydown",Nk,!1),gk!==Ka[br.Users_Position].name&&(vk=!1),vk?(_u(ok),bc(kk[6]),Uk(),nu()):Mk()}function Ek(){br.Users_Position=0,kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Nk),Ec("top_bar_user",_),gc("label_side_panel","icon-ellipsis",Rn),yc(kk[6])}function Mk(){uu("stream_table_user_channels"),yc(kk[6]),Ic(),Dc(),gk=Ka[br.Users_Position].name,vk=!1,bk={},ok=sk=lk=Ak=hk=mk=0,Wu=!(yk=dk=!(wk=[])),Oc(),fk=[],Ik(),Sk()}function Ik(){rk=!0,ck=0,_k=3500}function Sk(){var e=lk+mk;e&&Ak-1<e&&(e=Ak-Fr,dk=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[br.Users_Position].id)+"/follows/channels?limit="+Fr+"&offset="+e+"&sortby=login&direction=asc";rc&&!lk?u_(t,_k,2,null,Pk,xk):__(t,_k,2,null,Pk,xk,!1)}function xk(){++ck<uk?(_k+=500,Sk()):(rk=!1,lk?(dk=!0,Lk()):(Wu=!1,Sc(),Nc(P),Zu(Nk)))}function Pk(e){var t=JSON.parse(e),n=t.follows.length;Ak=parseInt(t._total),n<Fr&&(dk=!0);var i=lk;pk=!(lk+=n);var a=n/qr;0<n%qr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/qr+_,d=document.createElement("tr"),o=0;o<qr&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,bk[r]?o--:(bk[r]=1,d.appendChild(Tk(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<qr;o++)dk&&!yk&&(yk=!0,lk=s*qr+o),d.appendChild(mu(kk[5]+s+"_"+o)),wk.push(kk[5]+s+"_"+o);u.appendChild(d)}Lk()}function Tk(e,t,n){return e<4&&hu(n[2]),pu(t,kk,n)}function Lk(){if(vk){if(0<wk.length&&!dk)return Ik(),void Bk();Uk(!0),wk=[]}else pk?(Nc(T+K),Zu(Nk)):(vk=!0,Uk(),nu()),bc(kk[6]),Wu=!1,Sc();rk=!1}function Bk(){Rc(wk.length);var e=lk+mk;e&&Ak-1<e&&(e=Ak-Xr,dk=!0),r_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[br.Users_Position].id)+"/follows/channels?limit="+Xr+"&offset="+hk+"&sortby=login&direction=asc",_k,2,null,Gk,Ok)}function Ok(){++ck<uk?(_k+=500,Bk()):(dk=!0,lk-=wk.length,wk=[],Lk())}function Gk(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(Ak=parseInt(i._total),a<Xr&&(dk=!0);o<wk.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,bk[n]?o--:(bk[n]=1,vu(wk[o],[t.name,n,t.logo,t.display_name],kk),d.push(o));for(o=d.length-1;-1<o;o--)wk.splice(d[o],1);mk+=s,dk&&(lk-=wk.length,wk=[]),Lk()}function Uk(e){Su(ok,sk,kk,qr,lk,e),lk/qr<ok+zr&&!dk&&!rk&&(Ik(),Sk()),kr&&Rk()}function Rk(){lk&&Nu(ok+"_"+sk,kk)}function Nk(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(Rk(),Zu(Nk)),ZA();break;case Vi:if(sk){if(Qc(ok,sk-1,kk[0]))Rk(),sk--,Uk();else for(t=qr-1;-1<t;t--)if(Qc(ok-1,t,kk[0])){Rk(),ok--,sk=t,Uk();break}}else Rk(),$A(Nk,!0);break;case Hi:Qc(ok,sk+1,kk[0])?(Rk(),sk++,Uk()):Qc(ok+1,0,kk[0])&&(Rk(),ok++,sk=0,Uk());break;case Ji:if(ok){for(t=0;t<qr;t++)if(Qc(ok-1,sk-t,kk[0])){Rk(),ok--,sk-=t,Uk();break}}else Rk(),Zu(Nk);break;case Fi:for(t=0;t<qr;t++)if(Qc(ok+1,sk-t,kk[0])){Rk(),ok++,sk-=t,Uk();break}break;case Ni:case Ri:case Di:case qi:if(Tu(ok+"_"+sk,kk[0]))return;br.Main_selectedChannel=document.getElementById(kk[4]+ok+"_"+sk).getAttribute(nc),br.Main_selectedChannel_id=document.getElementById(kk[4]+ok+"_"+sk).getAttribute("data-id"),br.Main_selectedChannelDisplayname=document.getElementById(kk[3]+ok+"_"+sk).textContent,br.Main_selectedChannelLogo=document.getElementById(kk[1]+ok+"_"+sk).src,document.body.removeEventListener("keydown",Nk),br.Main_BeforeChannel=ur,br.Main_Go=dr,br.Main_BeforeChannelisSet=!0,Lo=ea=!0,yc(kk[6]),eu()}}var Dk=0,Vk=0,Jk=!1,Hk=0,Fk={},qk=[],zk=!1,Xk=0,Yk=5,jk=3500,Wk=0,Qk=0,Zk=!1,Kk=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],$k=!1,eC="",tC=!1;function nC(){br.Main_CenterLablesVectorPos=1,br.Main_Go=nr,gc("label_side_panel","icon-arrow-circle-left",I),Ac("top_bar_user","icon_center_focus"),Cc("top_bar_user",_+du(Ka[br.Users_Position].name+Q)),document.body.addEventListener("keydown",mC,!1),eC!==Ka[br.Users_Position].name&&($k=!1),$k?(_u(Dk),bc(Kk[10]),fC(),nu()):aC()}function iC(){br.Users_Position=0,kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",mC),Ec("top_bar_user",_),gc("label_side_panel","icon-ellipsis",Rn),yc(Kk[10])}function aC(){uu("stream_table_user_host"),yc(Kk[10]),Ic(),Dc(),eC=Ka[br.Users_Position].name,$k=!1,Fk={},Wu=!(Hk=Qk=Wk=0),Dk=Vk=0,Jk=tC=!(qk=[]),Oc(),oC(),sC()}function oC(){zk=!0,Xk=0,jk=3500}function sC(){var e=Hk+Wk;e&&Qk-1<e&&(e=Qk-Rr,Jk=!0),c_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[br.Users_Position].name)+"/followed/hosting?limit="+Rr+"&offset="+e,jk,2,null,lC,dC,!1,!Hk)}function dC(){++Xk<Yk?(jk+=500,sC()):(zk=!1,Hk?(Jk=!0,rC()):(Wu=!1,Sc(),Nc(P),Zu(mC)))}function lC(e){var t=JSON.parse(e),n=t.hosts.length;Qk=parseInt(t._total),n<Rr&&(Jk=!0);var i=Hk;Zk=!(Hk+=n);var a=n/Nr;0<n%Nr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Nr+_,d=document.createElement("tr"),o=0;o<Nr&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,Fk[r]?o--:(Fk[r]=1,d.appendChild(yu(s,s+"_"+o,[l.target.channel.name,l.target._id],Kk,[l.target.preview_urls.template.replace("{width}x{height}",$r),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Yc(l.target.viewers)+J,""])));for(;o<Nr;o++)Jk&&!tC&&(tC=!0,Hk=s*Nr+o),d.appendChild(mu(Kk[9]+s+"_"+o)),qk.push(Kk[9]+s+"_"+o);u.appendChild(d)}rC()}function rC(){if($k){if(0<qk.length&&!Jk)return oC(),void cC();fC(!0),qk=[]}else Zk?(Nc(T+Q),Zu(mC)):($k=!0,fC(),nu()),bc(Kk[10]),Wu=!1,Sc();zk=!1}function cC(){Rc(qk.length);var e=Hk+Wk;e&&Qk-1<e&&(e=Qk-Xr,Jk=!0),r_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[br.Users_Position].name)+"/followed/hosting?limit="+Xr+"&offset="+e,jk,2,null,_C,uC)}function uC(){++Xk<Yk?(jk+=500,cC()):(Jk=!0,Hk-=qk.length,qk=[],rC())}function _C(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Qk=parseInt(i._total),a<Xr&&(Jk=!0);o<qk.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,Fk[n]?o--:(Fk[n]=1,bu(qk[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",$r),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Yc(t.target.viewers)+J,""],Kk),d.push(o));for(o=d.length-1;-1<o;o--)qk.splice(d[o],1);Wk+=s,Jk&&(Hk-=qk.length,qk=[]),rC()}function fC(e){xu(Dk,Vk,Kk,Nr,Hk,e),Hk/Nr<Dk+Dr&&!Jk&&!zk&&(oC(),sC()),kr&&hC()}function hC(){Hk&&Nu(Dk+"_"+Vk,Kk)}function mC(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(hC(),Zu(mC)),ZA();break;case Vi:if(Vk){if(Qc(Dk,Vk-1,Kk[0]))hC(),Vk--,fC();else for(t=Nr-1;-1<t;t--)if(Qc(Dk-1,t,Kk[0])){hC(),Dk--,Vk=t,fC();break}}else hC(),$A(mC,!0);break;case Hi:Qc(Dk,Vk+1,Kk[0])?(hC(),Vk++,fC()):Qc(Dk+1,0,Kk[0])&&(hC(),Dk++,Vk=0,fC());break;case Ji:if(Dk){for(t=0;t<Nr;t++)if(Qc(Dk-1,Vk-t,Kk[0])){hC(),Dk--,Vk-=t,fC();break}}else hC(),Zu(mC);break;case Fi:for(t=0;t<Nr;t++)if(Qc(Dk+1,Vk-t,Kk[0])){hC(),Dk++,Vk-=t,fC();break}break;case Ni:case Ri:case Di:case qi:Lu(Dk+"_"+Vk,Kk,mC)}}var pC,vC=!1,gC=0,yC=3500,bC=0,wC=5,AC=0,kC=!1,CC="",EC=0,MC={},IC=!1,SC=null,xC=null,PC=null,TC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],LC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function BC(){mo()&&(QC(),IC?(iE(Hf,TC[0])&&(SC=JSON.parse(document.getElementById(TC[8]+Hf).getAttribute(nc))[0]),iE(FA,LC[0])&&(xC=JSON.parse(document.getElementById(LC[8]+FA).getAttribute(nc))[0])):SC=xC=null,uu("user_feed_scroll"),yc("side_panel_feed_thumb"),qA=FA=0,uu("side_panel_feed_scroll"),IC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",bc("dialog_loading_feed"),bc("dialog_loading_side_feed"),CC="",Hf=EC=AC=bC=0,MC={},Ju(function(){GC(),OC()}))}function OC(){(PC=Ka[br.Users_Position].access_token)?(PC=Zr+PC,DC()):(GC(),PC=null,UC())}function GC(){vC=!0,gC=0,yC=3500}function UC(){__("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[br.Users_Position].id)+"/follows/channels?limit=100&offset="+bC+"&sortby=created_at",yC,2,null,NC,RC,!1)}function RC(){++gC<wC?(yC+=500,UC()):(vC=!1,AC?(kC=!0,FC()):(yc("dialog_loading_feed"),yc("dialog_loading_side_feed"),XC()&&(Vm(P),window.setTimeout(function(){Jm()},2e3))))}function NC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===CC.indexOf(i)&&(CC+=i);bC+=n,GC(),UC()}else CC=CC.slice(0,-1),GC(),Ju(DC)}function DC(){var e="https://api.twitch.tv/kraken/streams/";e+=PC?"followed?":"?channel="+encodeURIComponent(CC)+"&",VC(e+="limit=100&offset=0&stream_type=all")}function VC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=yC,t.setRequestHeader(jr,Yr),t.setRequestHeader(Wr,Kr),PC&&t.setRequestHeader(Qr,PC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?HC(t.responseText):!PC||401!==t.status&&403!==t.status?JC():la(br.Users_Position,0,OC,OC))},t.send(null)}function JC(){++gC<wC?(yC+=500,DC()):(vC=!1,yc("dialog_loading_feed"),yc("dialog_loading_side_feed"),XC()&&(Vm(P),window.setTimeout(function(){Jm()},2e3)))}function HC(e){var t=JSON.parse(e),n=t.streams.length;n<Rr&&(kC=!0),AC+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,MC[a]||(MC[a]=1,null!==SC&&SC===i.channel.name&&(Hf=d),o.appendChild(qC(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),null!==xC&&xC===i.channel.name&&(FA=d),s.appendChild(zC(d,[i.channel.name,a,i.preview.template.replace("{width}x{height}","1280x720"),Wc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+Tm(i.created_at)+" "+m+Yc(i.viewers)+J,jc(i.video_height,i.average_fps,i.channel.broadcaster_language)],[i.channel.logo,Wc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,Yc(i.viewers)])));FC()}function FC(){IC=!(vC=!1),Ju(function(){yc("dialog_loading_feed"),yc("dialog_loading_side_feed"),$C(),YA()})}function qC(e,t,n){return(Sr=document.createElement("div")).setAttribute("id",TC[8]+e),Sr.setAttribute(nc,JSON.stringify(t)),Sr.className="user_feed_thumb",Sr.innerHTML='<div id="'+TC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+TC[1]+e+'" alt="" class="stream_img" src="'+n[0]+cc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+TC[2]+e+'" class="stream_text2"><div id="'+TC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+TC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",Sr}function zC(e,t,n){return(Sr=document.createElement("div")).setAttribute("id",LC[8]+e),Sr.setAttribute(nc,JSON.stringify(t)),Sr.className="side_panel_feed",Sr.innerHTML='<div id="'+LC[0]+e+'"><img id="'+LC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" alt="" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"><div id="'+LC[2]+e+'" class="side_panel_feed_text"><div id="'+LC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+LC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+LC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",Sr}function XC(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function YC(){var e=mo();e&&(Jf!==Ka[br.Users_Position].name&&(IC=!1),Jf=Ka[br.Users_Position].name),e&&iE(0,TC[0])||(IC=!1),IC||vC||BC(),e&&(kc("user_feed","user_feed_hide"),$C())}function jC(){Ac("user_feed","user_feed_hide")}function WC(){QC(),ZC()}function QC(){window.clearTimeout(pC)}function ZC(){XC()&&(pC=window.setTimeout(jC,5500))}function KC(){QC(),vC?window.setTimeout(function(){vC=!1},15e3):BC()}function $C(){WC(),iE(Hf,TC[0])&&(Ac(TC[0]+Hf,"feed_thumbnail_focused"),XC()?tE():wc("scene2")&&nE())}function eE(){return Hf<3?2.5:iE(Hf+2,TC[0])?-1*document.getElementById(TC[8]+(Hf-2)).offsetLeft:iE(Hf+1,TC[0])?-1*document.getElementById(TC[8]+(Hf-3)).offsetLeft:-1*document.getElementById(TC[8]+(Hf-(3<Hf?4:3))).offsetLeft}function tE(){var e=eE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function nE(){var e=tE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function iE(e,t){return null!==document.getElementById(t+e)}function aE(){iE(Hf,TC[0])&&kc(TC[0]+Hf,"feed_thumbnail_focused")}var oE=0,sE=0,dE=!1,lE=0,rE={},cE=[],uE=!1,_E=0,fE=5,hE=3500,mE=0,pE=0,vE=0,gE=!1,yE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],bE=!1,wE="",AE="",kE=!1,CE=null;function EE(){br.Main_CenterLablesVectorPos=1,br.Main_Go=tr,gc("label_side_panel","icon-arrow-circle-left",I),Ac("top_bar_user","icon_center_focus"),Cc("top_bar_user",_+du(Ka[br.Users_Position].name+W)),document.body.addEventListener("keydown",FE,!1),AE!==Ka[br.Users_Position].name&&(bE=!1),bE?(_u(oE),bc(yE[10]),JE(),nu()):IE()}function ME(){br.Users_Position=0,kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",FE),Ec("top_bar_user",_),gc("label_side_panel","icon-ellipsis",Rn),yc(yE[10])}function IE(){uu("stream_table_user_live"),yc(yE[10]),Ic(),Dc(),bE=!1,AE=Ka[br.Users_Position].name,Wu=!(kE=!(cE=[])),oE=sE=lE=pE=mE=vE=0,dE=!(rE={}),wE="",Oc(),xE(),SE()}function SE(){(CE=Ka[br.Users_Position].access_token)?(CE=Zr+CE,BE()):(CE=null,xE(),PE())}function xE(){uE=!0,_E=0,hE=3500}function PE(){r_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[br.Users_Position].id)+"/follows/channels?limit=100&offset="+vE+"&sortby=created_at",hE,2,null,LE,TE)}function TE(){++_E<fE?(hE+=500,PE()):(uE=!1,lE?(dE=!0,RE()):(Wu=!1,Sc(),Nc(P),Zu(FE)))}function LE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===wE.indexOf(i)&&(wE+=i);vE+=n,xE(),PE()}else wE=wE.slice(0,-1),xE(),BE()}function BE(){var e=lE+mE;e&&pE-1<e&&(e=pE-Rr,dE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=CE?"followed?":"?channel="+encodeURIComponent(wE)+"&",OE(t+="limit="+Rr+"&offset="+e+"&stream_type=all",UE,GE,SE)}function OE(e,t,n,i){var a;if(rc&&!lE){if(!(a=Android.mreadUrl(e,hE,CE?3:2,CE)))return void JM();200===(a=JSON.parse(a)).status?t(a.responseText):!CE||401!==a.status&&403!==a.status?n():la(br.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=hE,a.setRequestHeader(jr,Yr),a.setRequestHeader(Wr,Kr),CE&&a.setRequestHeader(Qr,CE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!CE||401!==a.status&&403!==a.status?n():la(br.Users_Position,0,i,i))},a.send(null)}function GE(){++_E<fE?(hE+=500,BE()):(uE=!1,lE?(dE=!0,RE()):(Wu=!1,Sc(),Nc(P),Zu(FE)))}function UE(e){var t=JSON.parse(e),n=t.streams.length;pE=parseInt(t._total),n<Rr&&(dE=!0);var i=lE;gE=!(lE+=n);var a=n/Nr;0<n%Nr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Nr+_,d=document.createElement("tr"),o=0;o<Nr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,rE[r]?o--:(rE[r]=1,d.appendChild(yu(s,s+"_"+o,[l.channel.name,r],yE,[l.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Tm(l.created_at)+" "+m+Yc(l.viewers)+J,jc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Nr;o++)dE&&!kE&&(kE=!0,lE=s*Nr+o),d.appendChild(mu(yE[9]+s+"_"+o)),cE.push(yE[9]+s+"_"+o);u.appendChild(d)}RE()}function RE(){if(bE){if(0<cE.length&&!dE)return xE(),void NE();JE(!0),cE=[]}else gE?(Zu(FE),Nc(T+W)):(bE=!0,JE(),nu()),bc(yE[10]),Wu=!1,Sc();uE=!1}function NE(){Rc(cE.length);var e=lE+mE;e&&pE-1<e&&(e=pE-Xr,dE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=CE?"followed?":"?channel="+encodeURIComponent(wE)+"&",OE(t+="followed?limit=limit="+Xr+"&offset="+e+"&stream_type=all",VE,DE,NE)}function DE(){++_E<fE?(hE+=500,NE()):(dE=!0,lE-=cE.length,cE=[],RE())}function VE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(pE=parseInt(i._total),a<Xr&&(dE=!0);o<cE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,rE[n]?o--:(rE[n]=1,bu(cE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",$r),Wc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Tm(t.created_at)+" "+m+Yc(t.viewers)+J,jc(t.video_height,t.average_fps,t.channel.broadcaster_language)],yE),d.push(o));for(o=d.length-1;-1<o;o--)cE.splice(d[o],1);mE+=s,dE&&(lE-=cE.length,cE=[]),RE()}function JE(e){xu(oE,sE,yE,Nr,lE,e),lE/Nr<oE+Dr&&!dE&&!uE&&(xE(),PE()),kr&&HE()}function HE(){lE&&Nu(oE+"_"+sE,yE)}function FE(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Xc()?zc():Hc()?Jc():(HE(),Zu(FE)),ZA();break;case Vi:if(sE){if(Qc(oE,sE-1,yE[0]))HE(),sE--,JE();else for(t=Nr-1;-1<t;t--)if(Qc(oE-1,t,yE[0])){HE(),oE--,sE=t,JE();break}}else HE(),$A(FE,!0);break;case Hi:Qc(oE,sE+1,yE[0])?(HE(),sE++,JE()):Qc(oE+1,0,yE[0])&&(HE(),oE++,sE=0,JE());break;case Ji:if(oE){for(t=0;t<Nr;t++)if(Qc(oE-1,sE-t,yE[0])){HE(),oE--,sE-=t,JE();break}}else HE(),Zu(FE);break;case Fi:for(t=0;t<Nr;t++)if(Qc(oE+1,sE-t,yE[0])){HE(),oE++,sE-=t,JE();break}break;case Ni:case Ri:case Di:case qi:Lu(oE+"_"+sE,yE,FE)}}var qE=0,zE=0,XE=8,YE=0,jE=null,WE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],QE=!1,ZE=!0;function KE(){return Cr?($E(),void da(Cr)):wo()?(br.Main_CenterLablesVectorPos=1,br.Main_Go=cr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Dc(),Ac("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",hM,!1),void(QE?(_u(qE),bc(WE[5]),oM(),nu()):eM())):(br.Main_Go=Zl,$E(),void eu())}function $E(){br.Users_Position=0,kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",hM),yc(WE[5]),document.getElementById("screens_holder").style.top="0"}function eM(){uu("stream_table_user"),yc(WE[5]),Ic(),Dc(),Wu=!(QE=!1),ZE=!(qE=zE=0),Ju(function(){tM()})}function tM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<Ka.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Sr=document.createElement("tr")).className="follower_header",Sr.innerHTML='<div class="follower_header">'+(o?"":oe)+Ka[o].name+R+"</div>",a.appendChild(i),a.appendChild(Sr),(e=document.createElement("tr")).appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,ky.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(nM(o+"_"+t,br.Main_selectedChannelDisplayname,Ka[o].access_token?wt:bt,"key",n)),a.appendChild(e);iM()}function nM(e,t,n,i,a){return(Sr=document.createElement("td")).setAttribute("id",WE[4]+e),Sr.setAttribute(nc,t),Sr.className="stream_cell",Sr.innerHTML='<div id="'+WE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+WE[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+WE[2]+e+'" class="stream_text"><div id="'+WE[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Sr}function iM(){Ju(function(){QE||(QE=!0,oM(),Sc(),nu()),bc(WE[5]),ZE=Wu=!1})}function aM(){for(var e=0;e<Ka.length;e++)Ec(WE[3]+e+"_2",ky.isLive?Z:zt)}function oM(){Ac(WE[0]+qE+"_"+zE,"stream_thumbnail_focused"),fu(qE)?1<qE?Qc(qE+1,0,WE[0])&&Ru(WE[5],-1*document.getElementById(WE[4]+qE+"_"+zE).offsetTop+.42*screen.height):Ru(WE[5],screen.height/100*7):Cu(),kr&&sM()}function sM(){Ar=!1,kc(WE[0]+qE+"_"+zE,"stream_thumbnail_focused")}function dM(){return br.Users_Position=qE,3!==zE||Ka[br.Users_Position].access_token?7===zE&&Ka[br.Users_Position].access_token?(Nc(wt),void window.setTimeout(Dc,1500)):(6!==zE&&7!==zE&&(yc(WE[5]),document.body.removeEventListener("keydown",hM),document.getElementById("screens_holder").style.top="0"),void Ju(function(){zE?1===zE?nC():2===zE?(Rg=ky,Hg()):3===zE?GM():4===zE?Ck():5===zE?qE?yo(qE):(br.Main_Before=cr,no()):6===zE?cM():7!==zE||Ka[br.Users_Position].access_token||cM():EE()})):(Nc(In),void window.setTimeout(Dc,5e3))}function lM(){window.clearTimeout(jE)}function rM(){jE=window.setTimeout(uM,2e4)}function cM(){rM(),6===zE?Cc("main_dialog_remove",Ft+pi+Ka[br.Users_Position].name+"?"):7===zE&&Cc("main_dialog_remove",ft+" "+Ka[br.Users_Position].name+"?"),bc("main_remove_dialog")}function uM(){lM(),yc("main_remove_dialog"),YE=0,fM()}function _M(){return wc("main_remove_dialog")}function fM(){YE?(kc("remove_cancel","button_search_focused"),Ac("remove_yes","button_search_focused")):(Ac("remove_cancel","button_search_focused"),kc("remove_yes","button_search_focused"))}function hM(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:_M()?uM():Hc()?Jc():Xc()?zc():(sM(),Zu(hM)),ZA();break;case Vi:if(_M())--YE<0&&(YE=1),fM(),lM(),rM();else if(zE)if(Qc(qE,zE-1,WE[0]))sM(),zE--,oM();else if(Qc(qE-1,0,WE[0])){for(t=XE-1;-1<t;t--)if(Qc(qE-1,t,WE[0])){sM(),qE--,zE=t,oM();break}}else sM(),zE=XE-1,oM();else sM(),$A(hM,!0);break;case Hi:_M()?(1<++YE&&(YE=0),fM(),lM(),rM()):(Qc(qE,zE+1,WE[0])?(sM(),zE++):(Qc(qE+1,0,WE[0])?(sM(),qE++):sM(),zE=0),oM());break;case Ji:if(qE){for(t=0;t<XE;t++)if(Qc(qE-1,zE-t,WE[0])){sM(),qE--,zE-=t,oM();break}}else sM(),Zu(hM);break;case Fi:for(t=0;t<XE;t++)if(Qc(qE+1,zE-t,WE[0])){sM(),qE++,zE-=t,oM();break}break;case Ni:case Ri:case Di:case qi:var n;if(_M()){if(6===zE)n=YE,uM(),n&&(document.body.removeEventListener("keydown",hM),$E(),vo(qE));else if(n=YE,uM(),n){br.Users_AddcodePosition=br.Users_Position,nu();var i=aa,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Yr)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else dM()}}var mM=0,pM=0,vM=!1,gM=0,yM={},bM=[],wM=!1,AM=0,kM=5,CM=3500,EM=0,MM=0,IM=!1,SM=!1,xM="time",PM=2,TM=!1,LM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],BM=!1,OM=!1;function GM(){br.Main_CenterLablesVectorPos=1,br.Main_Go=gr,Ac("top_bar_user","icon_center_focus"),gc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user",_+du(Ka[br.Users_Position].name+(OM?G:O))),document.body.addEventListener("keydown",$M,!1),BM?(_u(mM),bc(LM[10]),eI(),WM(),nu()):RM()}function UM(){br.Users_Position=0,BM&&QM(),kc("top_bar_user","icon_center_focus"),gc("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",$M),Ec("top_bar_user",_),yc(LM[10])}function RM(){BM&&QM(),uu("stream_table_user_vod"),yc(LM[10]),Ic(),eI(),Dc(),TM=BM=!1,Wu=!(SM=!(bM=[])),mM=pM=gM=MM=EM=0,vM=!(yM={}),Oc(),DM()}function NM(){wM=!0,AM=0,CM=3500}function DM(){NM(),VM()}function VM(){var e=gM+EM;e&&MM-1<e&&(e=MM-Rr,vM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Rr+"&broadcast_type="+(OM?"highlight":"archive")+"&sort="+xM+"&offset="+e;if(rc&&!gM){if(!(t=Android.mreadUrl(n,CM,3,Zr+Ka[br.Users_Position].access_token)))return void JM();200===(t=JSON.parse(t)).status?FM(t.responseText):401===t.status||403===t.status?la(br.Users_Position,0,DM,HM):JM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=CM,t.setRequestHeader(Wr,Kr),t.setRequestHeader(jr,Yr),t.setRequestHeader(Qr,Zr+Ka[br.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?FM(t.responseText):401===t.status||403===t.status?la(br.Users_Position,0,DM,HM):JM())},t.send(null)}function JM(){++AM<kM?(CM+=500,VM()):HM()}function HM(){wM=!1,gM?(vM=!0,qM()):(Wu=!1,Sc(),Nc(P),Zu(mC),Ka[br.Users_Position].access_token||(UM(),br.Main_Go=cr,UM(),Ku(),tu()))}function FM(e){var t=JSON.parse(e),n=t.videos.length;MM=parseInt(t._total),n<Rr&&(vM=!0);var i=gM;IM=!(gM+=n);var a=n/Nr;0<n%Nr&&a++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!TM){var _;for(TM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Pi+Pi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p,(Sr=document.createElement("td")).setAttribute("id",LM[8]+"y_"+f),Sr.className="stream_cell",Sr.innerHTML='<div id="'+LM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+LM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Sr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Nr+f,d=document.createElement("tr"),o=0;o<Nr&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||yM[r]?o--:(yM[r]=1,d.appendChild(iI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",$r),l.channel.display_name,N+lu(l.created_at),pI.parse(l.title)+pi+Qt+v+l.game,Yc(l.views)+V,jc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+xm(l.length),l.animated_preview_url],LM)));for(;o<Nr;o++)vM&&!SM&&(SM=!0,gM=s*Nr+o),d.appendChild(mu(LM[9]+s+"_"+o)),bM.push(LM[9]+s+"_"+o);u.appendChild(d)}qM()}function qM(){BM?WM(!0):(IM?(Nc(T+(OM?G:O)+L+M),Zu($M)):(BM=!0,WM(),nu()),bc(LM[10]),Wu=!1,Sc()),0<bM.length&&!vM?zM():wM=!(bM=[])}function zM(){NM(),XM()}function XM(){Rc(bM.length);var e=gM+EM;e&&MM-1<e&&(e=MM-Xr,vM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Xr+"&broadcast_type="+(OM?"highlight":"archive")+"&sort="+xM+"&offset="+e;if(rc){if(!(t=Android.mreadUrl(n,CM,3,Zr+Ka[br.Users_Position].access_token)))return void YM();if(200===(t=JSON.parse(t)).status)return void jM(t.responseText);401===t.status||403===t.status?la(br.Users_Position,0,DM,HM):YM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=CM,t.setRequestHeader(Wr,Kr),t.setRequestHeader(jr,Yr),t.setRequestHeader(Qr,Zr+Ka[br.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void jM(t.responseText);401===t.status||403===t.status?la(br.Users_Position,0,DM,HM):YM()}},t.send(null)}function YM(){++AM<kM?(CM+=500,XM()):(vM=!0,gM-=bM.length,bM=[],qM())}function jM(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(MM=parseInt(i._total);o<bM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||yM[n]?o--:(yM[n]=1,oI(bM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",$r),t.channel.display_name,N+lu(t.created_at),pI.parse(t.title)+pi+Qt+v+t.game,Yc(t.views)+V,jc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+xm(t.length),t.animated_preview_url],LM),d.push(o));for(o=d.length-1;-1<o;o--)bM.splice(d[o],1);EM+=s,vM&&(gM-=bM.length,bM=[]),qM()}function WM(e){mM<0?ZM():(xu(mM,pM,LM,Nr,gM,e),dI(LM,mM+"_"+pM),gM/Nr<mM+Dr&&!vM&&!wM&&DM(),kr&&QM())}function QM(){window.clearInterval(tI),-1<mM&&gM?(bc(LM[1]+mM+"_"+pM),Nu(mM+"_"+pM,LM)):KM()}function ZM(){var e=1<pM?1:pM;Ac(LM[0]+"y_"+e,tc)}function KM(){var e=1<pM?1:pM;kc(LM[0]+"y_"+e,tc)}function $M(e){var t;if(!Wu&&!Iu())switch(Mu(),e.keyCode){case zi:Hc()?Jc():Hc()?Jc():Xc()?zc():(QM(),Zu($M)),ZA();break;case Vi:if(pM)if(-1===mM)KM(),--pM<0&&(pM=1),ZM();else if(mM||pM){if(Qc(mM,pM-1,LM[0]))QM(),pM--,WM();else for(t=Nr-1;-1<t;t--)if(Qc(mM-1,t,LM[0])){QM(),mM--,pM=t,WM();break}}else QM(),KM(),mM=-1,pM=1,ZM();else-1===mM?(mM=0,KM()):QM(),$A($M,!0);break;case Hi:-1===mM?(KM(),1<++pM?(pM=0,IM?ZM():(mM=0,WM())):ZM()):Qc(mM,pM+1,LM[0])?(QM(),pM++,WM()):Qc(mM+1,0,LM[0])&&(QM(),mM++,pM=0,WM());break;case Ji:if(-1===mM)QM(),Zu($M),mM=0;else if(mM){for(t=0;t<Nr;t++)if(Qc(mM-1,pM-t,LM[0])){QM(),mM--,pM-=t,WM();break}}else QM(),mM=-1,ZM();break;case Fi:if(-1!==mM||IM){for(t=0;t<Nr;t++)if(Qc(mM+1,pM-t,LM[0])){QM(),mM++,pM-=t,WM();break}}else mM=0,KM(),WM();break;case Ni:case Ri:case Di:case qi:-1===mM?(0===pM?i_("UserVod_highlight",(OM=!OM)?"true":"false"):1===PM?PM++:PM--,RM()):Gu(mM+"_"+pM,LM,$M)}}function eI(){1===PM?(Cc("top_bar_user",_+du(Ka[br.Users_Position].name+" "+(OM?G:O)+En)),xM="time"):2===PM&&(Cc("top_bar_user",_+du(Ka[br.Users_Position].name+" "+(OM?G:O)+Mn)),xM="views"),i_("UserVod_TypeNumber",PM)}var tI,nI=new Image;function iI(e,t,n,i,a){return e<Nr&&hu(i[0]),aI(n,t,i,a)}function aI(e,t,n,i){return(Sr=document.createElement("td")).setAttribute("id",i[8]+t),Sr.setAttribute(nc,JSON.stringify(e)),Sr.className="stream_cell",Sr.innerHTML=sI(t,n,i),Sr}function oI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(nc,JSON.stringify(t)),a.innerHTML=sI(o,n,i),a.setAttribute("id",i[8]+o)}function sI(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" alt="" class="stream_img" src="'+t[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function dI(t,n){if(window.clearInterval(tI),Uy){var i=document.getElementById(t[0]+n);nI.onload=function(){this.onload=null,yc(t[1]+n),i.style.backgroundSize="612px";var e=0;tI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},nI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function lI(e,t){return e.replace(t.code,rI(t))}function rI(e){return'<img class="emoticon" alt="" src="'+e["3x"]+'"/>'}function cI(e){return'<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function uI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _I(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=vd[i]||vd[e];e=a?lI(e,a):uI(e),t[n]=e}return t.join(" ")}function fI(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([cI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function hI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function mI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function A(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+c((e=e.replace(d,".")).split("."),t).join(".")}function k(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;i+=g)e=b(e/r);return b(i+(r+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,r,c,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&A("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&A("overflow"),h+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&A("overflow"),s*=c;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&A("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,r,c,u,_,f,h,m,p=[];for(_=(e=k(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&A("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&A("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)m=l-c,h=g-c,p.push(w(E(c+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:k,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=i,i=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var pI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();